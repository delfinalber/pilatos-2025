const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BjQURbBi.js","assets/vendors-IlfcFZFp.js","assets/MarkSpinner-B-Nur9YQ.js","assets/WatchlistSelections-CzU79JCm.js","assets/emoji-picker-react.esm-DlXyi2SX.js","assets/FileUploadModal-CEGHfei3.js","assets/fileTypes-Dac9-cPc.js","assets/CollectionCreateEditModal-B_Xh9cr7.js","assets/CollectionSelectModal-CGGhqud_.js","assets/OnboardingModal-DacrWCZQ.js","assets/MarkdownRenderer-B_cPWiQT.js","assets/vbnet-AyvenkIK.js","assets/MarkdownStreamer-Brc5LJeU.js","assets/Progress-BpK0Mprx.js","assets/PlatformOptions-CRLicuBc.js","assets/IconDeviceMobile-DAj-lK64.js","assets/IntlPhoneInput-DUTzzC9r.js","assets/IntlPhoneInput-C5Iq5FTb.css","assets/Banner-C3RVC7vR.js","assets/CombinedPaywall-f0ZzeLzx.js","assets/OnboardingProfile-Dd4MDxZ2.js","assets/PurchaseConfirmationToast-BlSBxcUu.js","assets/SpaceVideoModal-CsgjkS4N.js","assets/PricingTableModal-BhkFslQl.js","assets/MapModal-DdUeZe81.js","assets/PerplexityMap-DCBRNg7O.js","assets/PulsingDot-DeA3sz_a.js","assets/InputPaymentModal-C-brU6Io.js","assets/ShoppingPaymentModal-C0Okkh-5.js","assets/ShoppingOptionRow-DUdbvcHO.js","assets/IconQuote-C21mGLNQ.js","assets/PurchaseDetailsModal-DdssGkGz.js","assets/ShoppingOnboardingModal-Ch4Gav6s.js","assets/ReservationDetailsModal-DkG2-Dv3.js","assets/useHotelSearchParams-F_Yi97gi.js","assets/SpaceSettingsModal-BsCDgkGQ.js","assets/FullNameModal-CpNm4qMT.js","assets/KeyboardShortcutEditorModal-BMdUW-QA.js","assets/VoiceToVoiceModal-DgLM0NUG.js","assets/constants-DbiTfgIz.js","assets/SearchStepsAssetsModal-BgtN3Svn.js","assets/AnswerModeProvider-B4VlZ4_E.js","assets/GeneratedVideoCard-2Vdb6DVW.js","assets/IconPlayerPauseFilled-DWVbfVkS.js","assets/CodeFileContentRenderer-C3HBeLGU.js","assets/useAssetInfo-7gidtGyS.js","assets/IconFileTypeDocx-Bk2kRIjX.js","assets/MemoryListModal-C4bqSgE5.js","assets/HotelRoomDetailsModal-CMmP-p0B.js","assets/PaymentModal-CaRqNm03.js","assets/ProReferralModal-BHKYLSly.js","assets/MemorySearchHistoryIntroModal-DWVcq5Ey.js","assets/ReferralErrorModal-DLe81emY.js","assets/ReferralSuccessModal-BemT5nBb.js","assets/IncentiveProModal-C5GhNsYa.js","assets/RestaurantBookingModal-B4rOUZsX.js","assets/IconUsers-YUb_AcSd.js","assets/SheerIdRedirectModal-BUBDRv2g.js","assets/FinanceAddAlert-BgAlDIRO.js","assets/PlatformOptionsModal-jk7_LtyF.js","assets/BrandPopoverContent-DocB6Pta.js","assets/SidePDFViewer-D1dJk6jK.js","assets/ShoppingDetailsModal-Ck3eeCwf.js","assets/ShopifyPurchaseModal-CQecwIgJ.js","assets/ShoppingViewMoreModal-C6xoy1Ff.js","assets/SplitModal-BEyROOCE.js","assets/index-DveN-Nwv.js","assets/CharityWidget-lXkXU7oc.js","assets/AppDownloadQR-e_53jnCa.js","assets/index-L7JRPCOq.js","assets/AutoLinkPlugin-DusqqRBu.js","assets/LinkPlugin-BaAVhsFl.js","assets/WelcomeOverlay-oPd4idFU.js","assets/CometZenMode-Dncr3EIj.js","assets/index.module-D5NAEgq2.js","assets/SourcesModePreview-BkC4q4LB.js","assets/BookmarkButton-UJHbYMuz.js","assets/IconPerplexityCopilot-Bx_jbFCD.js","assets/useAddToCollectionModal-B8KmOyXJ.js","assets/useDurationTracker-Djt2W_Ld.js","assets/IconBellOff-Dnbtt47G.js","assets/ThreadOverflowDropdown-BVmTpwtM.js","assets/IconArrowsShuffle-CxInv9Kc.js","assets/RadioCard-CrHYKq0N.js","assets/F1Header-CScsBgsa.js","assets/SourcesModePreview-BsDpYZHk.css","assets/library-BYU5Vq8J.js","assets/ArticleListItem-BiGab8s5.js","assets/index-CFixjj-T.js","assets/AvatarList-D2V9uQvg.js","assets/IconAlignLeft-B8rdWQKF.js","assets/templates-C9oLThtc.js","assets/slug-CQ2x4xUI.js","assets/faEllipsis-CTER-uDY.js","assets/IconHistory-l5nFMEKV.js","assets/cdn-C7QQX3qw.js","assets/slug-CVW3GQ_k.js","assets/DiscoverTrending-CHzLD0bx.js","assets/TimeAgoTooltip-DeuYBs99.js","assets/ReportModal-C_C0SVdV.js","assets/ImageGeneratorLoader-C9dXtWMp.js","assets/SportsTeamGameComparison-CCINXeZs.js","assets/CopyOutputButton-YR81FDKh.js","assets/ToggleGroup-DoW4sRHX.js","assets/MarkdownResponse-qSMA2YpA.js","assets/RelatedPrompts-BCbasJwS.js","assets/IconPerplexityNewThread-CMJFpg7R.js","assets/academic-CHqoOZ60.js","assets/VerticalSearchBar-Dmdvxob7.js","assets/QueryComponents-BJtW5qGA.js","assets/CanonicalPatternBackground-9TL-GsRa.js","assets/scheduleUtils-BbcT7l5B.js","assets/SportsIOSNotificationSub-BKIwnpj5.js","assets/CardCarouselV2-DUmafRAD.js","assets/shopping-DnCb7WbC.js","assets/ShoppingFeaturedWidget-CMDxK9Qw.js","assets/hotels-Das1asQY.js","assets/consts-DP-d15ji.js","assets/SportsGamePlayerHeadshot-DKGE2t91.js","assets/perplexify_me-C1XRUD-g.js","assets/travel-pun13Iyh.js","assets/discover-BOdqlML8.js","assets/FinanceMover-DP3Zr2gJ.js","assets/crypto-BYJul-Rd.js","assets/FinanceIndex-3brVO27D.js","assets/FinanceSearchBarWrapper-CPMXEVLC.js","assets/NBASportsTeamSeasonComparison-BntmoM0G.js","assets/EventLiveOdds-D3siPORL.js","assets/csv-BqWYwR2U.js","assets/index-DHlkWhQR.js","assets/CricketMatchStats-BNDztjlH.js","assets/events-BV96XMCx.js","assets/index-Do5KUFmu.js","assets/SportsConferenceList-BuwMjN9N.js","assets/MultiTeamSchedule-D3crH1Ka.js","assets/WeekTabs-_DRnoSIf.js","assets/NBAPlayoffBracket-CanEeROd.js","assets/SportsBracket-_hxlShsE.js","assets/SportsTeamStandings-DTPZZM2d.js","assets/events-BrErNkuU.js","assets/SportsComparisonArcs-KqCf-nKL.js","assets/SportsGameSummaryHeader-DVNG6nJp.js","assets/SportsBlazeVideoHighlights-CAS5u4nf.js","assets/SportsBlazeVideoHighlights-BKCxT22M.css","assets/SportsInjuryReport-DEj_QDL7.js","assets/teams-Bf0lqwG7.js","assets/players-BC7UJe-K.js","assets/RelatedQuestions-C0kiBn5o.js","assets/index-Cd-401MK.js","assets/events-DiSL8uSr.js","assets/teams-C4WMOK2U.js","assets/players-CnABTFi7.js","assets/index-DkhMLttC.js","assets/events-YR8NExeM.js","assets/index-DjcjkXTi.js","assets/MLBEventSchedule-_1b9AfGX.js","assets/events-BiPM0B2h.js","assets/events-CAq_AWno.js","assets/index-D9o0CY3f.js","assets/index-C2cgzaMe.js","assets/events-DHMstmM5.js","assets/index-CiveLvEZ.js","assets/events-DuKQAOal.js","assets/index-C0-NkMdZ.js","assets/all-tickers-D65TgJIR.js","assets/events-BIozQVOV.js","assets/index-B6QhNa9y.js","assets/events-CIWsVC_r.js","assets/asset-C7boiVE6.js","assets/FinanceAssetLayout-gENEFkeJ.js","assets/DebugModeActivator-BTkthS0d.js"])))=>i.map(i=>d[i]);
import{r as f,j as l,y as KEe,l as h9,R as T,z as ea,A as oi,a as as,g as Rs,$ as TQ,B as He,_ as he,k as zh,v as YEe,u as K,C as Tn,D as m9,c as bi,E as NQ,G as QEe,M as ce,d as pt,b as Jt,h as Ql,H as XEe,I as ZEe,F as ZO,i as V0,J as p9,K as JEe,f as eke,L as tke,N as nke}from"./vendors-IlfcFZFp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/*! js-cookie v3.0.5 | MIT */function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var rke={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dk(e,t){function n(s,a,i){if(!(typeof document>"u")){i=Cv({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in i)i[c]&&(o+="; "+c,i[c]!==!0&&(o+="="+i[c].split(";")[0]));return document.cookie=s+"="+e.write(a,s)+o}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var a=document.cookie?document.cookie.split("; "):[],i={},o=0;o<a.length;o++){var c=a[o].split("="),u=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(i[d]=e.read(u,d),s===d)break}catch{}}return s?i[s]:i}}return Object.create({set:n,get:r,remove:function(s,a){n(s,"",Cv({},a,{expires:-1}))},withAttributes:function(s){return dk(this.converter,Cv({},this.attributes,s))},withConverter:function(s){return dk(Cv({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var rw=dk(rke,{path:"/"});const RQ=1e3,ske={httponly:"httpOnly",maxage:"maxAge",expires:"expires",path:"path",domain:"domain",secure:"secure",samesite:"sameSite"},n2=new Map,r2=new Map,Ot=(e,t,n)=>{if(r2.has(e)){const r=r2.get(e);if(r&&r.ttl>Date.now()&&r.value===t&&Object.keys(ske).every(s=>r.options?.[s]===n?.[s]))return}return r2.set(e,{name:e,value:t,options:n,ttl:Date.now()+RQ}),rw.set(e,t,n)},en=e=>{const t=n2.get(e);return(!t||t.ttl<Date.now())&&n2.set(e,{value:rw.get(e),ttl:Date.now()+RQ}),n2.get(e)?.value},sh=e=>{r2.delete(e),n2.delete(e),rw.remove(e)},ake=()=>rw.get(),ike=["grey","teal","brown","maroon","red","orange","gold","yellow","green","blue","purple"],AQ=e=>{if(!e)return null;try{const n=JSON.parse(e)?.name;if(n&&ike.includes(n))return n}catch{}return null};function oke(){const e=en("colorSchemeTheme"),t=AQ(e);document.cookie.includes("comet-custom-color-themes-enabled=true")&&t&&document.documentElement.setAttribute("data-theme",t)}oke();const lke=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function cke(e){return typeof e=="string"&&lke.test(e)}const Ir=[];for(let e=0;e<256;++e)Ir.push((e+256).toString(16).slice(1));function uke(e,t=0){return(Ir[e[t+0]]+Ir[e[t+1]]+Ir[e[t+2]]+Ir[e[t+3]]+"-"+Ir[e[t+4]]+Ir[e[t+5]]+"-"+Ir[e[t+6]]+Ir[e[t+7]]+"-"+Ir[e[t+8]]+Ir[e[t+9]]+"-"+Ir[e[t+10]]+Ir[e[t+11]]+Ir[e[t+12]]+Ir[e[t+13]]+Ir[e[t+14]]+Ir[e[t+15]]).toLowerCase()}let h4;const dke=new Uint8Array(16);function fke(){if(!h4){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h4=crypto.getRandomValues.bind(crypto)}return h4(dke)}const hke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JO={randomUUID:hke};function Hr(e,t,n){if(JO.randomUUID&&!e)return JO.randomUUID();e=e||{};const r=e.random??e.rng?.()??fke();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uke(r)}var mke={};const eL="/rest/event/analytics",fk="pplx.visitor-id",hk="pplx.session-id",kg="pplx.trackingAllowed",pke="http://default-analytics-service:8000",gke=()=>mke.ANALYTICS_SERVICE_URL||pke,vke=365;function yke(){try{en(fk)||Ot(fk,Hr(),{expires:vke})}catch{}try{en(hk)||Ot(hk,Hr())}catch{}}yke();var Vh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Au=typeof window>"u"||"Deno"in globalThis;function ba(){}function xke(e,t){return typeof e=="function"?e(t):e}function mk(e){return typeof e=="number"&&e>=0&&e!==1/0}function jQ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Af(e,t){return typeof e=="function"?e(t):e}function ti(e,t){return typeof e=="function"?e(t):e}function tL(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i){if(r){if(t.queryHash!==g9(i,t.options))return!1}else if(!Mg(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function nL(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ju(t.options.mutationKey)!==ju(a))return!1}else if(!Mg(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function g9(e,t){return(t?.queryKeyHashFn||ju)(e)}function ju(e){return JSON.stringify(e,(t,n)=>pk(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Mg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Mg(e[n],t[n])):!1}function PQ(e,t){if(e===t)return e;const n=rL(e)&&rL(t);if(n||pk(e)&&pk(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=PQ(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:o}return t}function V2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function rL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pk(e){if(!sL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!sL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sL(e){return Object.prototype.toString.call(e)==="[object Object]"}function bke(e){return new Promise(t=>{setTimeout(t,e)})}function gk(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?PQ(e,t):t}function G0(e){return e}function wke(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function _ke(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var IQ=Symbol(),OQ=(e,t)=>!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===IQ?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,Cke=class extends Vh{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Au&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},v9=new Cke,Ske=class extends Vh{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Au&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},G2=new Ske;function Eke(e){return Math.min(1e3*2**e,3e4)}function LQ(e){return(e??"online")==="online"?G2.isOnline():!0}var DQ=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function m4(e){return e instanceof DQ}function FQ(e){let t=!1,n=0,r=!1,s,a,i;const o=new Promise((x,b)=>{a=x,i=b}),c=x=>{r||(g(new DQ(x)),e.abort?.())},u=()=>{t=!0},d=()=>{t=!1},h=()=>v9.isFocused()&&(e.networkMode==="always"||G2.isOnline())&&e.canRun(),m=()=>LQ(e.networkMode)&&e.canRun(),p=x=>{r||(r=!0,e.onSuccess?.(x),s?.(),a(x))},g=x=>{r||(r=!0,e.onError?.(x),s?.(),i(x))},v=()=>new Promise(x=>{s=b=>{(r||h())&&x(b)},e.onPause?.()}).then(()=>{s=void 0,r||e.onContinue?.()}),y=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(p).catch(w=>{if(r)return;const _=e.retry??(Au?0:3),C=e.retryDelay??Eke,S=typeof C=="function"?C(n,w):C,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(t||!k){g(w);return}n++,e.onFail?.(n,w),bke(S).then(()=>h()?void 0:v()).then(()=>{t?g(w):y()})})};return{promise:o,cancel:c,continue:()=>(s?.(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?y():v().then(y),o)}}function kke(){let e=[],t=0,n=m=>{m()},r=m=>{m()},s=m=>setTimeout(m,0);const a=m=>{s=m},i=m=>{let p;t++;try{p=m()}finally{t--,t||u()}return p},o=m=>{t?e.push(m):s(()=>{n(m)})},c=m=>(...p)=>{o(()=>{m(...p)})},u=()=>{const m=e;e=[],m.length&&s(()=>{r(()=>{m.forEach(p=>{n(p)})})})};return{batch:i,batchCalls:c,schedule:o,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:a}}var cr=kke(),UQ=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mk(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Au?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Mke=class extends UQ{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=e.state||Tke(this.options),this.state=this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=gk(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(ba).catch(ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ti(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!jQ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const o=OQ(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#a=!1,this.options.persister?this.options.persister(o,c,this):o(c)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const i=o=>{m4(o)&&o.silent||this.#s({type:"error",error:o}),m4(o)||(this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#n=FQ({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){i(new Error(`${this.queryHash} data is undefined`));return}this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:i,onFail:(o,c)=>{this.#s({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...BQ(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return m4(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function BQ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LQ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Tke(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $Q=class extends Vh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??g9(r,t);let a=this.get(s);return a||(a=new Mke({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>tL(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>tL(e,n)):t}notify(e){cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Nke=class extends UQ{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||HQ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=FQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),cr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function HQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var WQ=class extends Vh{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new Nke({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Sv(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=Sv(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Sv(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Sv(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>nL(t,n))}findAll(e={}){return this.getAll().filter(t=>nL(e,t))}notify(e){cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return cr.batch(()=>Promise.all(e.map(t=>t.continue().catch(ba))))}};function Sv(e){return e.options.scope?.id??String(e.mutationId)}function vk(e){return{onFetch:(t,n)=>{const r=async()=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[],c={pages:[],pageParams:[]};let u=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},h=OQ(t.options,t.fetchOptions),m=async(g,v,y)=>{if(u)return Promise.reject();if(v==null&&g.pages.length)return Promise.resolve(g);const x={queryKey:t.queryKey,pageParam:v,direction:y?"backward":"forward",meta:t.options.meta};d(x);const b=await h(x),{maxPages:w}=t.options,_=y?_ke:wke;return{pages:_(g.pages,b,w),pageParams:_(g.pageParams,v,w)}};let p;if(a&&i.length){const g=a==="backward",v=g?zQ:yk,y={pages:i,pageParams:o},x=v(s,y);p=await m(y,x,g)}else{p=await m(c,o[0]??s.initialPageParam);const g=e??i.length;for(let v=1;v<g;v++){const y=yk(s,p);p=await m(p,y)}}return p};t.options.persister?t.fetchFn=()=>t.options.persister?.(r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=r}}}function yk(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function zQ(e,{pages:t,pageParams:n}){return e.getPreviousPageParam?.(t[0],t,n[0],n)}function Rke(e,t){return t?yk(e,t)!=null:!1}function Ake(e,t){return!t||!e.getPreviousPageParam?!1:zQ(e,t)!=null}var jke=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new $Q,this.#t=e.mutationCache||new WQ,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=v9.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=G2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Af(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(r.queryHash)?.state.data,i=xke(t,a);if(i!==void 0)return this.#e.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return cr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;cr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return cr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=cr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ba).catch(ba)}invalidateQueries(e={},t={}){return cr.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=cr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(ba)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Af(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ba).catch(ba)}fetchInfiniteQuery(e){return e.behavior=vk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ba).catch(ba)}resumePausedMutations(){return G2.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ju(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{Mg(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(ju(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{Mg(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=g9(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===IQ&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},VQ=class extends Vh{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),aL(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xk(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xk(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#b(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ti(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!V2(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&iL(this.#t,r,this.options,n)&&this.#d(),this.updateResult(t),s&&(this.#t!==r||ti(this.options.enabled,this.#t)!==ti(n.enabled,this.#t)||Af(this.options.staleTime,this.#t)!==Af(n.staleTime,this.#t))&&this.#p();const a=this.#g();s&&(this.#t!==r||ti(this.options.enabled,this.#t)!==ti(n.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Ike(this,n)&&(this.#n=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ba)),t}#p(){this.#x();const e=Af(this.options.staleTime,this.#t);if(Au||this.#n.isStale||!mk(e))return;const n=jQ(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(Au||ti(this.options.enabled,this.#t)===!1||!mk(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||v9.isFocused())&&this.#d()},this.#l))}#y(){this.#p(),this.#v(this.#g())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#n,a=this.#i,i=this.#a,c=e!==n?e.state:this.#r,{state:u}=e;let d={...u},h=!1,m;if(t._optimisticResults){const S=this.hasListeners(),k=!S&&aL(e,t),E=S&&iL(e,n,t,r);(k||E)&&(d={...d,...BQ(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=d;if(t.select&&d.data!==void 0)if(s&&d.data===a?.data&&t.select===this.#o)m=this.#f;else try{this.#o=t.select,m=t.select(d.data),m=gk(s?.data,m,t),this.#f=m,this.#s=null}catch(S){this.#s=S}else m=d.data;if(t.placeholderData!==void 0&&m===void 0&&v==="pending"){let S;if(s?.isPlaceholderData&&t.placeholderData===i?.placeholderData)S=s.data;else if(S=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&S!==void 0)try{S=t.select(S),this.#s=null}catch(k){this.#s=k}S!==void 0&&(v="success",m=gk(s?.data,S,t),h=!0)}this.#s&&(p=this.#s,m=this.#f,g=Date.now(),v="error");const y=d.fetchStatus==="fetching",x=v==="pending",b=v==="error",w=x&&y,_=m!==void 0;return{status:v,fetchStatus:d.fetchStatus,isPending:x,isSuccess:v==="success",isError:b,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:b&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&_,isStale:y9(e,t),refetch:this.refetch}}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),V2(n,t))return;this.#n=n;const r={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&o.has(u)})};e?.listeners!==!1&&s()&&(r.listeners=!0),this.#_({...r,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){cr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Pke(e,t){return ti(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aL(e,t){return Pke(e,t)||e.state.data!==void 0&&xk(e,t,t.refetchOnMount)}function xk(e,t,n){if(ti(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&y9(e,t)}return!1}function iL(e,t,n,r){return(e!==t||ti(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&y9(e,n)}function y9(e,t){return ti(t.enabled,e)!==!1&&e.isStaleByTime(Af(t.staleTime,e))}function Ike(e,t){return!V2(e.getCurrentResult(),t)}var Oke=class extends VQ{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:vk()},t)}getOptimisticResult(e){return e.behavior=vk(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:s,isRefetching:a,isError:i,isRefetchError:o}=r,c=n.fetchMeta?.fetchMore?.direction,u=i&&c==="forward",d=s&&c==="forward",h=i&&c==="backward",m=s&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Rke(t,n.data),hasPreviousPage:Ake(t,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:o&&!u&&!h,isRefetching:a&&!d&&!m}}},Lke=class extends Vh{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),V2(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&ju(n.mutationKey)!==ju(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??HQ();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){cr.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function Dke(e){return e}function oL(e,t,n){if(typeof t!="object"||t===null)return;const r=e.getMutationCache(),s=e.getQueryCache(),a=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??Dke,i=t.mutations||[],o=t.queries||[];i.forEach(({state:c,...u})=>{r.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...u},c)}),o.forEach(({queryKey:c,state:u,queryHash:d,meta:h,promise:m})=>{let p=s.get(d);const g=u.data===void 0?u.data:a(u.data);if(p){if(p.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:v,...y}=u;p.setState({...y,data:g})}}else p=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:c,queryHash:d,meta:h},{...u,data:g,fetchStatus:"idle"});if(m){const v=Promise.resolve(m).then(a);p.fetch(void 0,{initialPromise:v})}})}var GQ=f.createContext(void 0),ot=e=>{const t=f.useContext(GQ);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Fke=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(GQ.Provider,{value:e,children:t})),qQ=f.createContext(!1),Uke=()=>f.useContext(qQ);qQ.Provider;function Bke(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $ke=f.createContext(Bke()),Hke=()=>f.useContext($ke);function KQ(e,t){return typeof e=="function"?e(...t):!!e}function Wke(){}var zke=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Vke=e=>{f.useEffect(()=>{e.clearReset()},[e])},Gke=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&KQ(n,[e.error,r]),qke=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Kke=(e,t)=>e?.suspense&&t.isPending,Yke=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function YQ(e,t,n){const r=ot(n),s=Uke(),a=Hke(),i=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=s?"isRestoring":"optimistic",qke(i),zke(i,a),Vke(a);const[o]=f.useState(()=>new t(r,i)),c=o.getOptimisticResult(i);if(f.useSyncExternalStore(f.useCallback(u=>{const d=s?()=>{}:o.subscribe(cr.batchCalls(u));return o.updateResult(),d},[o,s]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f.useEffect(()=>{o.setOptions(i,{listeners:!1})},[i,o]),Kke(i,c))throw Yke(i,o,a);if(Gke({result:c,errorResetBoundary:a,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw c.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(i,c),i.notifyOnChangeProps?c:o.trackResult(c)}function at(e,t){return YQ(e,VQ,t)}var Qke=({children:e,options:t={},state:n,queryClient:r})=>{const s=ot(r),[a,i]=f.useState(),o=f.useRef(t);return o.current=t,f.useMemo(()=>{if(n){if(typeof n!="object")return;const c=s.getQueryCache(),u=n.queries||[],d=[],h=[];for(const m of u){const p=c.get(m.queryHash);if(!p)d.push(m);else{const g=m.state.dataUpdatedAt>p.state.dataUpdatedAt,v=a?.find(y=>y.queryHash===m.queryHash);g&&(!v||m.state.dataUpdatedAt>v.state.dataUpdatedAt)&&h.push(m)}}d.length>0&&oL(s,{queries:d},o.current),h.length>0&&i(m=>m?[...m,...h]:h)}},[s,a,n]),f.useEffect(()=>{a&&(oL(s,{queries:a},o.current),i(void 0))},[s,a]),e};function lt(e,t){const n=ot(t),[r]=f.useState(()=>new Lke(n,e));f.useEffect(()=>{r.setOptions(e)},[r,e]);const s=f.useSyncExternalStore(f.useCallback(i=>r.subscribe(cr.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=f.useCallback((i,o)=>{r.mutate(i,o).catch(Wke)},[r]);if(s.error&&KQ(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function Nc(e,t){return YQ(e,Oke,t)}function Xke(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function sw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const bk=e=>Array.isArray(e);function QQ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Tg(e){return typeof e=="string"||Array.isArray(e)}function lL(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function x9(e,t,n,r){if(typeof t=="function"){const[s,a]=lL(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=lL(r);t=t(n!==void 0?n:e.custom,s,a)}return t}function aw(e,t,n){const r=e.getProps();return x9(r,t,n!==void 0?n:r.custom,e)}const b9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w9=["initial",...b9],q0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ud=new Set(q0),Ji=e=>e*1e3,eo=e=>e/1e3,Zke={type:"spring",stiffness:500,damping:25,restSpeed:10},Jke=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eMe={type:"keyframes",duration:.8},tMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nMe=(e,{keyframes:t})=>t.length>2?eMe:ud.has(e)?e.startsWith("scale")?Jke(t[1]):Zke:tMe;function _9(e,t){return e?e[t]||e.default||e:void 0}const rMe={useManualTiming:!1},sMe=e=>e!==null;function iw(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(sMe),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const ia=e=>e;let XQ=ia;function aMe(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(c.schedule(u),e()),u(i)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:n;return d&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(i=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Ev=["read","resolveKeyframes","update","preRender","render","postRender"],iMe=40;function ZQ(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,i=Ev.reduce((x,b)=>(x[b]=aMe(a),x),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=i,p=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,iMe),1),s.timestamp=x,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},g=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Ev.reduce((x,b)=>{const w=i[b];return x[b]=(_,C=!1,S=!1)=>(n||g(),w.schedule(_,C,S)),x},{}),cancel:x=>{for(let b=0;b<Ev.length;b++)i[Ev[b]].cancel(x)},state:s,steps:i}}const{schedule:yn,cancel:dc,state:Or,steps:p4}=ZQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:ia,!0),JQ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,oMe=1e-7,lMe=12;function cMe(e,t,n,r,s){let a,i,o=0;do i=t+(n-t)/2,a=JQ(i,r,s)-e,a>0?n=i:t=i;while(Math.abs(a)>oMe&&++o<lMe);return i}function mo(e,t,n,r){if(e===t&&n===r)return ia;const s=a=>cMe(a,0,1,e,n);return a=>a===0||a===1?a:JQ(s(a),t,r)}const eX=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tX=e=>t=>1-e(1-t),nX=mo(.33,1.53,.69,.99),C9=tX(nX),rX=eX(C9),sX=e=>(e*=2)<1?.5*C9(e):.5*(2-Math.pow(2,-10*(e-1))),S9=e=>1-Math.sin(Math.acos(e)),aX=tX(S9),iX=eX(S9),oX=e=>/^0[^.\s]+$/u.test(e);function uMe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||oX(e):!0}const lX=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cX=e=>t=>typeof t=="string"&&t.startsWith(e),uX=cX("--"),dMe=cX("var(--"),E9=e=>dMe(e)?fMe.test(e.split("/*")[0].trim()):!1,fMe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hMe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mMe(e){const t=hMe.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function dX(e,t,n=1){const[r,s]=mMe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const i=a.trim();return lX(i)?parseFloat(i):i}return E9(s)?dX(s,t,n+1):s}const sl=(e,t,n)=>n>t?t:n<e?e:n,Gh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ng={...Gh,transform:e=>sl(0,1,e)},kv={...Gh,default:1},K0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ll=K0("deg"),to=K0("%"),bt=K0("px"),pMe=K0("vh"),gMe=K0("vw"),cL={...to,parse:e=>to.parse(e)/100,transform:e=>to.transform(e*100)},vMe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uL=e=>e===Gh||e===bt,dL=(e,t)=>parseFloat(e.split(", ")[t]),fL=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return dL(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?dL(a[1],e):0}},yMe=new Set(["x","y","z"]),xMe=q0.filter(e=>!yMe.has(e));function bMe(e){const t=[];return xMe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ah={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:fL(4,13),y:fL(5,14)};ah.translateX=ah.x;ah.translateY=ah.y;const fX=e=>t=>t.test(e),wMe={test:e=>e==="auto",parse:e=>e},hX=[Gh,bt,to,Ll,gMe,pMe,wMe],hL=e=>hX.find(fX(e)),_u=new Set;let wk=!1,_k=!1;function mX(){if(_k){const e=Array.from(_u).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=bMe(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,i])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_k=!1,wk=!1,_u.forEach(e=>e.complete()),_u.clear()}function pX(){_u.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_k=!0)})}function _Me(){pX(),mX()}class k9{constructor(t,n,r,s,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_u.add(this),wk||(wk=!0,yn.read(pX),yn.resolveKeyframes(mX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const i=s?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const c=r.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_u.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_u.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Lp=e=>Math.round(e*1e5)/1e5,M9=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CMe(e){return e==null}const SMe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,T9=(e,t)=>n=>!!(typeof n=="string"&&SMe.test(n)&&n.startsWith(e)||t&&!CMe(n)&&Object.prototype.hasOwnProperty.call(n,t)),gX=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,i,o]=r.match(M9);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},EMe=e=>sl(0,255,e),g4={...Gh,transform:e=>Math.round(EMe(e))},gu={test:T9("rgb","red"),parse:gX("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+g4.transform(e)+", "+g4.transform(t)+", "+g4.transform(n)+", "+Lp(Ng.transform(r))+")"};function kMe(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ck={test:T9("#"),parse:kMe,transform:gu.transform},pf={test:T9("hsl","hue"),parse:gX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+to.transform(Lp(t))+", "+to.transform(Lp(n))+", "+Lp(Ng.transform(r))+")"},Zr={test:e=>gu.test(e)||Ck.test(e)||pf.test(e),parse:e=>gu.test(e)?gu.parse(e):pf.test(e)?pf.parse(e):Ck.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?gu.transform(e):pf.transform(e)},MMe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TMe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(M9))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(MMe))===null||n===void 0?void 0:n.length)||0)>0}const vX="number",yX="color",NMe="var",RMe="var(",mL="${}",AMe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(AMe,c=>(Zr.test(c)?(r.color.push(a),s.push(yX),n.push(Zr.parse(c))):c.startsWith(RMe)?(r.var.push(a),s.push(NMe),n.push(c)):(r.number.push(a),s.push(vX),n.push(parseFloat(c))),++a,mL)).split(mL);return{values:n,split:o,indexes:r,types:s}}function xX(e){return Rg(e).values}function bX(e){const{split:t,types:n}=Rg(e),r=t.length;return s=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],s[i]!==void 0){const o=n[i];o===vX?a+=Lp(s[i]):o===yX?a+=Zr.transform(s[i]):a+=s[i]}return a}}const jMe=e=>typeof e=="number"?0:e;function PMe(e){const t=xX(e);return bX(e)(t.map(jMe))}const fc={test:TMe,parse:xX,createTransformer:bX,getAnimatableNone:PMe},IMe=new Set(["brightness","contrast","saturate","opacity"]);function OMe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(M9)||[];if(!r)return e;const s=n.replace(r,"");let a=IMe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const LMe=/\b([a-z-]*)\(.*?\)/gu,Sk={...fc,getAnimatableNone:e=>{const t=e.match(LMe);return t?t.map(OMe).join(" "):e}},DMe={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt},FMe={rotate:Ll,rotateX:Ll,rotateY:Ll,rotateZ:Ll,scale:kv,scaleX:kv,scaleY:kv,scaleZ:kv,skew:Ll,skewX:Ll,skewY:Ll,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Ng,originX:cL,originY:cL,originZ:bt},pL={...Gh,transform:Math.round},N9={...DMe,...FMe,zIndex:pL,size:bt,fillOpacity:Ng,strokeOpacity:Ng,numOctaves:pL},UMe={...N9,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:Sk,WebkitFilter:Sk},R9=e=>UMe[e];function wX(e,t){let n=R9(e);return n!==Sk&&(n=fc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const BMe=new Set(["auto","none","0"]);function $Me(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!BMe.has(a)&&Rg(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=wX(n,s)}class _X extends k9{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),E9(u))){const d=dX(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vMe.has(r)||t.length!==2)return;const[s,a]=t,i=hL(s),o=hL(a);if(i!==o)if(uL(i)&&uL(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)uMe(t[s])&&r.push(s);r.length&&$Me(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ah[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ah[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function ow(e){return typeof e=="function"}let s2;function HMe(){s2=void 0}const no={now:()=>(s2===void 0&&no.set(Or.isProcessing||rMe.useManualTiming?Or.timestamp:performance.now()),s2),set:e=>{s2=e,queueMicrotask(HMe)}},gL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fc.test(e)||e==="0")&&!e.startsWith("url("));function WMe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function zMe(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=gL(s,t),o=gL(a,t);return!i||!o?!1:WMe(e)||(n==="spring"||ow(n))&&r}const VMe=40;class CX{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=no.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:i,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>VMe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_Me(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=no.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:i,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!zMe(t,r,s,a))if(i)this.options.duration=0;else{c?.(iw(t,this.options,n)),o?.(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Pu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},SX=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(Pu(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function EX(e,t){return t?e*(1e3/t):0}const GMe=5;function kX(e,t,n){const r=Math.max(t-GMe,0);return EX(n-e(r),t-r)}const zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vL=.001;function qMe({duration:e=zn.duration,bounce:t=zn.bounce,velocity:n=zn.velocity,mass:r=zn.mass}){let s,a,i=1-t;i=sl(zn.minDamping,zn.maxDamping,i),e=sl(zn.minDuration,zn.maxDuration,eo(e)),i<1?(s=u=>{const d=u*i,h=d*e,m=d-n,p=Ek(u,i),g=Math.exp(-h);return vL-m/p*g},a=u=>{const h=u*i*e,m=h*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-h),v=Ek(Math.pow(u,2),i);return(-s(u)+vL>0?-1:1)*((m-p)*g)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-.001+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const o=5/e,c=YMe(s,a,o);if(e=Ji(e),isNaN(c))return{stiffness:zn.stiffness,damping:zn.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const KMe=12;function YMe(e,t,n){let r=n;for(let s=1;s<KMe;s++)r=r-e(r)/t(r);return r}function Ek(e,t){return e*Math.sqrt(1-t*t)}const q2=2e4;function A9(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<q2;)t+=n,r=e.next(t);return t>=q2?1/0:t}const QMe=["duration","bounce"],XMe=["stiffness","damping","mass"];function yL(e,t){return t.some(n=>e[n]!==void 0)}function ZMe(e){let t={velocity:zn.velocity,stiffness:zn.stiffness,damping:zn.damping,mass:zn.mass,isResolvedFromDuration:!1,...e};if(!yL(e,XMe)&&yL(e,QMe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*sl(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:zn.mass,stiffness:s,damping:a}}else{const n=qMe(e);t={...t,...n,mass:zn.mass},t.isResolvedFromDuration=!0}return t}function j9(e=zn.visualDuration,t=zn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=ZMe({...n,velocity:-eo(n.velocity||0)}),g=m||0,v=u/(2*Math.sqrt(c*d)),y=i-a,x=eo(Math.sqrt(c/d)),b=Math.abs(y)<5;r||(r=b?zn.restSpeed.granular:zn.restSpeed.default),s||(s=b?zn.restDelta.granular:zn.restDelta.default);let w;if(v<1){const C=Ek(x,v);w=S=>{const k=Math.exp(-v*x*S);return i-k*((g+v*x*y)/C*Math.sin(C*S)+y*Math.cos(C*S))}}else if(v===1)w=C=>i-Math.exp(-x*C)*(y+(g+x*y)*C);else{const C=x*Math.sqrt(v*v-1);w=S=>{const k=Math.exp(-v*x*S),E=Math.min(C*S,300);return i-k*((g+v*x*y)*Math.sinh(E)+C*y*Math.cosh(E))/C}}const _={calculatedDuration:p&&h||null,next:C=>{const S=w(C);if(p)o.done=C>=h;else{let k=0;v<1&&(k=C===0?Ji(g):kX(w,C,S));const E=Math.abs(k)<=r,M=Math.abs(i-S)<=s;o.done=E&&M}return o.value=o.done?i:S,o},toString:()=>{const C=Math.min(A9(_),q2),S=SX(k=>_.next(C*k).value,C,30);return C+"ms "+S}};return _}function xL({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},p=E=>o!==void 0&&E<o||c!==void 0&&E>c,g=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let v=n*t;const y=h+v,x=i===void 0?y:i(y);x!==y&&(v=x-h);const b=E=>-v*Math.exp(-E/r),w=E=>x+b(E),_=E=>{const M=b(E),N=w(E);m.done=Math.abs(M)<=u,m.value=m.done?x:N};let C,S;const k=E=>{p(m.value)&&(C=E,S=j9({keyframes:[m.value,g(m.value)],velocity:kX(w,E,m.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:E=>{let M=!1;return!S&&C===void 0&&(M=!0,_(E),k(E)),C!==void 0&&E>=C?S.next(E-C):(!M&&_(E),m)}}}const MX=mo(.42,0,1,1),Vs=mo(0,0,.58,1),Vo=mo(.42,0,.58,1),TX=e=>Array.isArray(e)&&typeof e[0]!="number",P9=e=>Array.isArray(e)&&typeof e[0]=="number",JMe={linear:ia,easeIn:MX,easeInOut:Vo,easeOut:Vs,circIn:S9,circInOut:iX,circOut:aX,backIn:C9,backInOut:rX,backOut:nX,anticipate:sX},bL=e=>{if(P9(e)){XQ(e.length===4);const[t,n,r,s]=e;return mo(t,n,r,s)}else if(typeof e=="string")return JMe[e];return e},e8e=(e,t)=>n=>t(e(n)),Y0=(...e)=>e.reduce(e8e),In=(e,t,n)=>e+(t-e)*n;function v4(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function t8e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,i=0;if(!t)s=a=i=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;s=v4(c,o,e+1/3),a=v4(c,o,e),i=v4(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:r}}function K2(e,t){return n=>n>0?t:e}const y4=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},n8e=[Ck,gu,pf],r8e=e=>n8e.find(t=>t.test(e));function wL(e){const t=r8e(e);if(!t)return!1;let n=t.parse(e);return t===pf&&(n=t8e(n)),n}const _L=(e,t)=>{const n=wL(e),r=wL(t);if(!n||!r)return K2(e,t);const s={...n};return a=>(s.red=y4(n.red,r.red,a),s.green=y4(n.green,r.green,a),s.blue=y4(n.blue,r.blue,a),s.alpha=In(n.alpha,r.alpha,a),gu.transform(s))},kk=new Set(["none","hidden"]);function s8e(e,t){return kk.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a8e(e,t){return n=>In(e,t,n)}function I9(e){return typeof e=="number"?a8e:typeof e=="string"?E9(e)?K2:Zr.test(e)?_L:l8e:Array.isArray(e)?NX:typeof e=="object"?Zr.test(e)?_L:i8e:K2}function NX(e,t){const n=[...e],r=n.length,s=e.map((a,i)=>I9(a)(a,t[i]));return a=>{for(let i=0;i<r;i++)n[i]=s[i](a);return n}}function i8e(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=I9(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function o8e(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],c=(n=e.values[o])!==null&&n!==void 0?n:0;r[a]=c,s[i]++}return r}const l8e=(e,t)=>{const n=fc.createTransformer(t),r=Rg(e),s=Rg(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?kk.has(e)&&!s.values.length||kk.has(t)&&!r.values.length?s8e(e,t):Y0(NX(o8e(r,s),s.values),n):K2(e,t)};function RX(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?In(e,t,n):I9(e)(e,t)}function c8e(e,t,n){const r=[],s=n||RX,a=e.length-1;for(let i=0;i<a;i++){let o=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||ia:t;o=Y0(c,o)}r.push(o)}return r}function AX(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(XQ(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=c8e(t,r,s),o=i.length,c=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Pu(e[d],e[d+1],u);return i[d](h)};return n?u=>c(sl(e[0],e[a-1],u)):c}function jX(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Pu(0,t,r);e.push(In(n,1,s))}}function PX(e){const t=[0];return jX(t,e.length-1),t}function u8e(e,t){return e.map(n=>n*t)}function d8e(e,t){return e.map(()=>t||Vo).splice(0,e.length-1)}function Y2({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=TX(r)?r.map(bL):bL(r),a={done:!1,value:t[0]},i=u8e(n&&n.length===t.length?n:PX(t),e),o=AX(i,t,{ease:Array.isArray(s)?s:d8e(t,s)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const f8e=e=>{const t=({timestamp:n})=>e(n);return{start:()=>yn.update(t,!0),stop:()=>dc(t),now:()=>Or.isProcessing?Or.timestamp:no.now()}},h8e={decay:xL,inertia:xL,tween:Y2,keyframes:Y2,spring:j9},m8e=e=>e/100;class O9 extends CX{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,i=s?.KeyframeResolver||k9,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(a,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=this.options,o=ow(n)?n:h8e[n]||Y2;let c,u;o!==Y2&&typeof t[0]!="number"&&(c=Y0(m8e,RX(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=A9(d));const{calculatedDuration:h}=d,m=h+s,p=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:p,repeatType:g,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,_=a;if(p){const E=Math.min(this.currentTime,d)/h;let M=Math.floor(E),N=E%1;!N&&E>=1&&(N=1),N===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(g==="reverse"?(N=1-N,v&&(N-=v/h)):g==="mirror"&&(_=i)),w=sl(0,1,N)*h}const C=b?{done:!1,value:c[0]}:_.next(w);o&&(C.value=o(C.value));let{done:S}=C;!b&&u!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&s!==void 0&&(C.value=iw(c,this.options,s)),y&&y(C.value),k&&this.finish(),C}get duration(){const{resolved:t}=this;return t?eo(t.calculatedDuration):0}get time(){return eo(this.currentTime)}set time(t){t=Ji(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=eo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=f8e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const p8e=new Set(["opacity","clipPath","filter","transform"]);function L9(e){let t;return()=>(t===void 0&&(t=e()),t)}const g8e={linearEasing:void 0};function v8e(e,t){const n=L9(e);return()=>{var r;return(r=g8e[t])!==null&&r!==void 0?r:n()}}const Q2=v8e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function IX(e){return!!(typeof e=="function"&&Q2()||!e||typeof e=="string"&&(e in Mk||Q2())||P9(e)||Array.isArray(e)&&e.every(IX))}const mp=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Mk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mp([0,.65,.55,1]),circOut:mp([.55,0,1,.45]),backIn:mp([.31,.01,.66,-.59]),backOut:mp([.33,1.53,.69,.99])};function OX(e,t){if(e)return typeof e=="function"&&Q2()?SX(e,t):P9(e)?mp(e):Array.isArray(e)?e.map(n=>OX(n,t)||Mk.easeOut):Mk[e]}function y8e(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:o="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=OX(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}function CL(e,t){e.timeline=t,e.onfinish=null}const x8e=L9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),X2=10,b8e=2e4;function w8e(e){return ow(e.type)||e.type==="spring"||!IX(e.ease)}function _8e(e,t){const n=new O9({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<b8e;)r=n.sample(a),s.push(r.value),a+=X2;return{times:void 0,keyframes:s,duration:a-X2,ease:"linear"}}const LX={anticipate:sX,backInOut:rX,circInOut:iX};function C8e(e){return e in LX}class SL extends CX{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new _X(a,(i,o)=>this.onKeyframesResolved(i,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:a,ease:i,type:o,motionValue:c,name:u,startTime:d}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Q2()&&C8e(i)&&(i=LX[i]),w8e(this.options)){const{onComplete:m,onUpdate:p,motionValue:g,element:v,...y}=this.options,x=_8e(t,y);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,a=x.times,i=x.ease,o="keyframes"}const h=y8e(c.owner.current,u,t,{...this.options,duration:s,times:a,ease:i});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(CL(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;c.set(iw(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return eo(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return eo(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ji(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ia;const{animation:r}=n;CL(r,t)}return ia}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:i,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...p}=this.options,g=new O9({...p,keyframes:r,duration:s,type:a,ease:i,times:o,isGenerator:!0}),v=Ji(this.time);u.setWithVelocity(g.sample(v-X2).value,g.sample(v).value,X2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=t;return x8e()&&r&&p8e.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}}const S8e=L9(()=>window.ScrollTimeline!==void 0);class DX{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>S8e()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function E8e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const D9=(e,t,n,r={},s,a)=>i=>{const o=_9(r,e)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ji(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:s};E8e(o)||(d={...d,...nMe(e,d)}),d.duration&&(d.duration=Ji(d.duration)),d.repeatDelay&&(d.repeatDelay=Ji(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const m=iw(d.keyframes,o);if(m!==void 0)return yn.update(()=>{d.onUpdate(m),d.onComplete()}),new DX([])}return!a&&SL.supports(d)?new SL(d):new O9(d)},k8e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),M8e=e=>bk(e)?e[e.length-1]||0:e;function F9(e,t){e.indexOf(t)===-1&&e.push(t)}function lw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class U9{constructor(){this.subscriptions=[]}add(t){return F9(this.subscriptions,t),()=>lw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const EL=30,T8e=e=>!isNaN(parseFloat(e));class N8e{constructor(t,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=no.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=no.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=T8e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new U9);const r=this.events[t].add(n);return t==="change"?()=>{r(),yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=no.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>EL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EL);return EX(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ag(e,t){return new N8e(e,t)}function R8e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ag(n))}function A8e(e,t){const n=aw(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const i in a){const o=M8e(a[i]);R8e(e,i,o)}}const B9=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j8e="framerAppearId",FX="data-"+B9(j8e);function UX(e){return e.props[FX]}const Er=e=>!!(e&&e.getVelocity);function P8e(e){return!!(Er(e)&&e.add)}function Tk(e,t){const n=e.getValue("willChange");if(P8e(n))return n.add(t)}function I8e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $9(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const m=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),p=c[h];if(p===void 0||d&&I8e(d,h))continue;const g={delay:n,..._9(i||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=UX(e);if(x){const b=window.MotionHandoffAnimation(x,h,yn);b!==null&&(g.startTime=b,v=!0)}}Tk(e,h),m.start(D9(h,m,p,e.shouldReduceMotion&&ud.has(h)?{type:!1}:g,e,v));const y=m.animation;y&&u.push(y)}return o&&Promise.all(u).then(()=>{yn.update(()=>{o&&A8e(e,o)})}),u}function Nk(e,t,n={}){var r;const s=aw(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all($9(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=a;return O8e(e,t,d+u,h,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function O8e(e,t,n=0,r=0,s=1,a){const i=[],o=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(L8e).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Nk(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function L8e(e,t){return e.sortNodePosition(t)}function D8e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>Nk(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=Nk(e,t,n);else{const s=typeof t=="function"?aw(e,t,n.custom):t;r=Promise.all($9(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const F8e=w9.length;function BX(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BX(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<F8e;n++){const r=w9[n],s=e.props[r];(Tg(s)||s===!1)&&(t[r]=s)}return t}const U8e=[...b9].reverse(),B8e=b9.length;function $8e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>D8e(e,n,r)))}function H8e(e){let t=$8e(e),n=kL(),r=!0;const s=c=>(u,d)=>{var h;const m=aw(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:g,...v}=m;u={...u,...v,...g}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=BX(e.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let y=0;y<B8e;y++){const x=U8e[y],b=n[x],w=u[x]!==void 0?u[x]:d[x],_=Tg(w),C=x===c?b.isActive:null;C===!1&&(g=y);let S=w===d[x]&&w!==u[x]&&_;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...p},!b.isActive&&C===null||!w&&!b.prevProp||sw(w)||typeof w=="boolean")continue;const k=W8e(b.prevProp,w);let E=k||x===c&&b.isActive&&!S&&_||y>g&&_,M=!1;const N=Array.isArray(w)?w:[w];let R=N.reduce(s(x),{});C===!1&&(R={});const{prevResolvedValues:A={}}=b,P={...A,...R},O=F=>{E=!0,m.has(F)&&(M=!0,m.delete(F)),b.needsAnimating[F]=!0;const D=e.getValue(F);D&&(D.liveStyle=!1)};for(const F in P){const D=R[F],B=A[F];if(p.hasOwnProperty(F))continue;let $=!1;bk(D)&&bk(B)?$=!QQ(D,B):$=D!==B,$?D!=null?O(F):m.add(F):D!==void 0&&m.has(F)?O(F):b.protectedKeys[F]=!0}b.prevProp=w,b.prevResolvedValues=R,b.isActive&&(p={...p,...R}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(S&&k)||M)&&h.push(...N.map(F=>({animation:F,options:{type:x}})))}if(m.size){const y={};m.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),h.push({animation:y})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=i(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:i,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=kL(),r=!0}}}function W8e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!QQ(t,e):!1}function Kc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kL(){return{animate:Kc(!0),whileInView:Kc(),whileHover:Kc(),whileTap:Kc(),whileDrag:Kc(),whileFocus:Kc(),exit:Kc()}}class Rc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class z8e extends Rc{constructor(t){super(t),t.animationState||(t.animationState=H8e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let V8e=0;class G8e extends Rc{constructor(){super(...arguments),this.id=V8e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const q8e={animation:{Feature:z8e},exit:{Feature:G8e}},Xa={x:!1,y:!1};function $X(){return Xa.x||Xa.y}function H9(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const a=(r=n?.[e])!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function HX(e,t){const n=H9(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function ML(e){return t=>{t.pointerType==="touch"||$X()||e(t)}}function K8e(e,t,n={}){const[r,s,a]=HX(e,n),i=ML(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=ML(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",i,s)}),a}const WX=(e,t)=>t?e===t?!0:WX(e,t.parentElement):!1,W9=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Y8e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Q8e(e){return Y8e.has(e.tagName)||e.tabIndex!==-1}const pp=new WeakSet;function TL(e){return t=>{t.key==="Enter"&&e(t)}}function x4(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const X8e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=TL(()=>{if(pp.has(n))return;x4(n,"down");const s=TL(()=>{x4(n,"up")}),a=()=>x4(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function NL(e){return W9(e)&&!$X()}function Z8e(e,t,n={}){const[r,s,a]=HX(e,n),i=o=>{const c=o.currentTarget;if(!NL(o)||pp.has(c))return;pp.add(c);const u=t(o),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!NL(p)||!pp.has(c))&&(pp.delete(c),typeof u=="function"&&u(p,{success:g}))},h=p=>{d(p,n.useGlobalTarget||WX(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(o=>{!Q8e(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",i,s),o.addEventListener("focus",u=>X8e(u,s),s)}),a}function J8e(e){return e==="x"||e==="y"?Xa[e]?null:(Xa[e]=!0,()=>{Xa[e]=!1}):Xa.x||Xa.y?null:(Xa.x=Xa.y=!0,()=>{Xa.x=Xa.y=!1})}function Q0(e){return{point:{x:e.pageX,y:e.pageY}}}const e7e=e=>t=>W9(t)&&e(t,Q0(t));function jg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Dp(e,t,n,r){return jg(e,t,e7e(n),r)}const RL=(e,t)=>Math.abs(e-t);function t7e(e,t){const n=RL(e.x,t.x),r=RL(e.y,t.y);return Math.sqrt(n**2+r**2)}class zX{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=w4(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=t7e(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:g}=h,{timestamp:v}=Or;this.history.push({...g,timestamp:v});const{onStart:y,onMove:x}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=b4(m,this.transformPagePoint),yn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=w4(h.type==="pointercancel"?this.lastMoveEventInfo:b4(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),g&&g(h,y)},!W9(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Q0(t),o=b4(i,this.transformPagePoint),{point:c}=o,{timestamp:u}=Or;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,w4(o,this.history)),this.removeListeners=Y0(Dp(this.contextWindow,"pointermove",this.handlePointerMove),Dp(this.contextWindow,"pointerup",this.handlePointerUp),Dp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dc(this.updatePoint)}}function b4(e,t){return t?{point:t(e.point)}:e}function AL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function w4({point:e},t){return{point:e,delta:AL(e,VX(t)),offset:AL(e,n7e(t)),velocity:r7e(t,.1)}}function n7e(e){return e[0]}function VX(e){return e[e.length-1]}function r7e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=VX(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ji(t)));)n--;if(!r)return{x:0,y:0};const a=eo(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function gf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const GX=1e-4,s7e=1-GX,a7e=1+GX,qX=.01,i7e=0-qX,o7e=0+qX;function ca(e){return e.max-e.min}function l7e(e,t,n){return Math.abs(e-t)<=n}function jL(e,t,n,r=.5){e.origin=r,e.originPoint=In(t.min,t.max,e.origin),e.scale=ca(n)/ca(t),e.translate=In(n.min,n.max,e.origin)-e.originPoint,(e.scale>=s7e&&e.scale<=a7e||isNaN(e.scale))&&(e.scale=1),(e.translate>=i7e&&e.translate<=o7e||isNaN(e.translate))&&(e.translate=0)}function Fp(e,t,n,r){jL(e.x,t.x,n.x,r?r.originX:void 0),jL(e.y,t.y,n.y,r?r.originY:void 0)}function PL(e,t,n){e.min=n.min+t.min,e.max=e.min+ca(t)}function c7e(e,t,n){PL(e.x,t.x,n.x),PL(e.y,t.y,n.y)}function IL(e,t,n){e.min=t.min-n.min,e.max=e.min+ca(t)}function Up(e,t,n){IL(e.x,t.x,n.x),IL(e.y,t.y,n.y)}function u7e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?In(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?In(n,e,r.max):Math.min(e,n)),e}function OL(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function d7e(e,{top:t,left:n,bottom:r,right:s}){return{x:OL(e.x,n,s),y:OL(e.y,t,r)}}function LL(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function f7e(e,t){return{x:LL(e.x,t.x),y:LL(e.y,t.y)}}function h7e(e,t){let n=.5;const r=ca(e),s=ca(t);return s>r?n=Pu(t.min,t.max-r,e.min):r>s&&(n=Pu(e.min,e.max-s,t.min)),sl(0,1,n)}function m7e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Rk=.35;function p7e(e=Rk){return e===!1?e=0:e===!0&&(e=Rk),{x:DL(e,"left","right"),y:DL(e,"top","bottom")}}function DL(e,t,n){return{min:FL(e,t),max:FL(e,n)}}function FL(e,t){return typeof e=="number"?e:e[t]||0}const UL=()=>({translate:0,scale:1,origin:0,originPoint:0}),vf=()=>({x:UL(),y:UL()}),BL=()=>({min:0,max:0}),Wn=()=>({x:BL(),y:BL()});function ya(e){return[e("x"),e("y")]}function KX({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function g7e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function v7e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _4(e){return e===void 0||e===1}function Ak({scale:e,scaleX:t,scaleY:n}){return!_4(e)||!_4(t)||!_4(n)}function iu(e){return Ak(e)||YX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function YX(e){return $L(e.x)||$L(e.y)}function $L(e){return e&&e!=="0%"}function Z2(e,t,n){const r=e-n,s=t*r;return n+s}function HL(e,t,n,r,s){return s!==void 0&&(e=Z2(e,s,r)),Z2(e,n,r)+t}function jk(e,t=0,n=1,r,s){e.min=HL(e.min,t,n,r,s),e.max=HL(e.max,t,n,r,s)}function QX(e,{x:t,y:n}){jk(e.x,t.translate,t.scale,t.originPoint),jk(e.y,n.translate,n.scale,n.originPoint)}const WL=.999999999999,zL=1.0000000000001;function y7e(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,i;for(let o=0;o<s;o++){a=n[o],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xf(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,QX(e,i)),r&&iu(a.latestValues)&&xf(e,a.latestValues))}t.x<zL&&t.x>WL&&(t.x=1),t.y<zL&&t.y>WL&&(t.y=1)}function yf(e,t){e.min=e.min+t,e.max=e.max+t}function VL(e,t,n,r,s=.5){const a=In(e.min,e.max,s);jk(e,t,n,a,r)}function xf(e,t){VL(e.x,t.x,t.scaleX,t.scale,t.originX),VL(e.y,t.y,t.scaleY,t.scale,t.originY)}function XX(e,t){return KX(v7e(e.getBoundingClientRect(),t))}function x7e(e,t,n){const r=XX(e,n),{scroll:s}=t;return s&&(yf(r.x,s.offset.x),yf(r.y,s.offset.y)),r}const ZX=({current:e})=>e?e.ownerDocument.defaultView:null,b7e=new WeakMap;class w7e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Q0(d).point)},a=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J8e(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ya(y=>{let x=this.getAxisMotionValue(y).get()||0;if(to.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=ca(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&yn.postRender(()=>g(d,h)),Tk(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=_7e(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),c=()=>ya(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zX(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZX(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&yn.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Mv(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=u7e(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&gf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=d7e(s.layoutBox,n):this.constraints=!1,this.elastic=p7e(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ya(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=m7e(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gf(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=x7e(r,s.root,this.visualElement.getTransformPagePoint());let i=f7e(s.layout.layoutBox,a);if(n){const o=n(g7e(i));this.hasMutatedConstraints=!!o,o&&(i=KX(o))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=ya(d=>{if(!Mv(d,n,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Tk(this.visualElement,t),r.start(D9(t,r,0,n,this.visualElement,!1))}stopAnimation(){ya(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ya(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ya(n=>{const{drag:r}=this.getProps();if(!Mv(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:o}=s.layout.layoutBox[n];a.set(t[n]-In(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ya(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();s[i]=h7e({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ya(i=>{if(!Mv(i,t,null))return;const o=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];o.set(In(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;b7e.set(this.visualElement,this);const t=this.visualElement.current,n=Dp(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();gf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),yn.read(r);const i=jg(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ya(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=Rk,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:o}}}function Mv(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _7e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class C7e extends Rc{constructor(t){super(t),this.removeGroupControls=ia,this.removeListeners=ia,this.controls=new w7e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ia}unmount(){this.removeGroupControls(),this.removeListeners()}}const GL=e=>(t,n)=>{e&&yn.postRender(()=>e(t,n))};class S7e extends Rc{constructor(){super(...arguments),this.removePointerDownListener=ia}onPointerDown(t){this.session=new zX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:GL(t),onStart:GL(n),onMove:r,onEnd:(a,i)=>{delete this.session,s&&yn.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=Dp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cw=f.createContext(null);function E7e(){const e=f.useContext(cw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=f.useId();f.useEffect(()=>r(s),[]);const a=f.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,a]:[!0]}const Pg=f.createContext({}),JX=f.createContext({}),a2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=qL(e,t.target.x),r=qL(e,t.target.y);return`${n}% ${r}%`}},k7e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=fc.parse(e);if(s.length>5)return r;const a=fc.createTransformer(e),i=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=o,s[1+i]/=c;const u=In(o,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}},J2={};function M7e(e){Object.assign(J2,e)}const{schedule:z9}=ZQ(queueMicrotask,!1);class T7e extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;M7e(N7e),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),a2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,i=r.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||yn.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),z9.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eZ(e){const[t,n]=E7e(),r=f.useContext(Pg);return l.jsx(T7e,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(JX),isPresent:t,safeToRemove:n})}const N7e={borderRadius:{...Fm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fm,borderTopRightRadius:Fm,borderBottomLeftRadius:Fm,borderBottomRightRadius:Fm,boxShadow:k7e},tZ=["TopLeft","TopRight","BottomLeft","BottomRight"],R7e=tZ.length,KL=e=>typeof e=="string"?parseFloat(e):e,YL=e=>typeof e=="number"||bt.test(e);function A7e(e,t,n,r,s,a){s?(e.opacity=In(0,n.opacity!==void 0?n.opacity:1,j7e(r)),e.opacityExit=In(t.opacity!==void 0?t.opacity:1,0,P7e(r))):a&&(e.opacity=In(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<R7e;i++){const o=`border${tZ[i]}Radius`;let c=QL(t,o),u=QL(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||YL(c)===YL(u)?(e[o]=Math.max(In(KL(c),KL(u),r),0),(to.test(u)||to.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=In(t.rotate||0,n.rotate||0,r))}function QL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j7e=nZ(0,.5,aX),P7e=nZ(.5,.95,ia);function nZ(e,t,n){return r=>r<e?0:r>t?1:n(Pu(e,t,r))}function XL(e,t){e.min=t.min,e.max=t.max}function ga(e,t){XL(e.x,t.x),XL(e.y,t.y)}function ZL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function JL(e,t,n,r,s){return e-=t,e=Z2(e,1/n,r),s!==void 0&&(e=Z2(e,1/s,r)),e}function I7e(e,t=0,n=1,r=.5,s,a=e,i=e){if(to.test(t)&&(t=parseFloat(t),t=In(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=In(a.min,a.max,r);e===a&&(o-=t),e.min=JL(e.min,t,n,o,s),e.max=JL(e.max,t,n,o,s)}function eD(e,t,[n,r,s],a,i){I7e(e,t[n],t[r],t[s],t.scale,a,i)}const O7e=["x","scaleX","originX"],L7e=["y","scaleY","originY"];function tD(e,t,n,r){eD(e.x,t,O7e,n?n.x:void 0,r?r.x:void 0),eD(e.y,t,L7e,n?n.y:void 0,r?r.y:void 0)}function nD(e){return e.translate===0&&e.scale===1}function rZ(e){return nD(e.x)&&nD(e.y)}function rD(e,t){return e.min===t.min&&e.max===t.max}function D7e(e,t){return rD(e.x,t.x)&&rD(e.y,t.y)}function sD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sZ(e,t){return sD(e.x,t.x)&&sD(e.y,t.y)}function aD(e){return ca(e.x)/ca(e.y)}function iD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class F7e{constructor(){this.members=[]}add(t){F9(this.members,t),t.scheduleRender()}remove(t){if(lw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function U7e(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=n?.z||0;if((s||a||i)&&(r=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const B7e=(e,t)=>e.depth-t.depth;class $7e{constructor(){this.children=[],this.isDirty=!1}add(t){F9(this.children,t),this.isDirty=!0}remove(t){lw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(B7e),this.isDirty=!1,this.children.forEach(t)}}function i2(e){const t=Er(e)?e.get():e;return k8e(t)?t.toValue():t}function H7e(e,t){const n=no.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(dc(r),e(a-t))};return yn.read(r,!0),()=>dc(r)}function aZ(e){return e instanceof SVGElement&&e.tagName!=="svg"}function iZ(e,t,n){const r=Er(e)?e:Ag(e);return r.start(D9("",r,t,n)),r.animation}const ou={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},gp=typeof window<"u"&&window.MotionDebug!==void 0,C4=["","X","Y","Z"],W7e={visibility:"hidden"},oD=1e3;let z7e=0;function S4(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function oZ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=UX(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",yn,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&oZ(r)}function lZ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=t?.()){this.id=z7e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gp&&(ou.totalNodes=ou.resolvedTargetDeltas=ou.recalculatedProjection=0),this.nodes.forEach(q7e),this.nodes.forEach(Z7e),this.nodes.forEach(J7e),this.nodes.forEach(K7e),gp&&window.MotionDebug.record(ou)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $7e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new U9),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aZ(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=H7e(m,250),a2.hasAnimatedSinceResize&&(a2.hasAnimatedSinceResize=!1,this.nodes.forEach(cD))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||sTe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!sZ(this.targetLayout,g)||p,w=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const _={..._9(v,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else m||cD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eTe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lD);return}this.isUpdating||this.nodes.forEach(Q7e),this.isUpdating=!1,this.nodes.forEach(X7e),this.nodes.forEach(V7e),this.nodes.forEach(G7e),this.clearAllSnapshots();const o=no.now();Or.delta=sl(0,1e3/60,o-Or.timestamp),Or.timestamp=o,Or.isProcessing=!0,p4.update.process(Or),p4.preRender.process(Or),p4.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z9.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Y7e),this.sharedNodes.forEach(tTe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!rZ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(o||iu(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),aTe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return Wn();const c=o.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(iTe))){const{scroll:d}=this.root;d&&(yf(c.x,d.offset.x),yf(c.y,d.offset.y))}return c}removeElementScroll(i){var o;const c=Wn();if(ga(c,i),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ga(c,i),yf(c.x,h.offset.x),yf(c.y,h.offset.y))}return c}applyTransform(i,o=!1){const c=Wn();ga(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xf(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),iu(d.latestValues)&&xf(c,d.latestValues)}return iu(this.latestValues)&&xf(c,this.latestValues),c}removeTransform(i){const o=Wn();ga(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!iu(u.latestValues))continue;Ak(u.latestValues)&&u.updateSnapshot();const d=Wn(),h=u.measurePageBox();ga(d,h),tD(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return iu(this.latestValues)&&tD(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Or.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),Up(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c7e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ga(this.target,this.layout.layoutBox),QX(this.target,this.targetDelta)):ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),Up(this.relativeTargetOrigin,this.target,p.target),ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gp&&ou.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ak(this.parent.latestValues)||YX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ga(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;y7e(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZL(this.prevProjectionDelta.x,this.projectionDelta.x),ZL(this.prevProjectionDelta.y,this.projectionDelta.y)),Fp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!iD(this.projectionDelta.x,this.prevProjectionDelta.x)||!iD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),gp&&ou.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vf(),this.projectionDelta=vf(),this.projectionDeltaWithTransform=vf()}setAnimationOrigin(i,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=vf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Wn(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,y=this.getStack(),x=!y||y.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(rTe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const C=_/1e3;uD(h.x,i.x,C),uD(h.y,i.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Up(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nTe(this.relativeTarget,this.relativeTargetOrigin,m,C),w&&D7e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Wn()),ga(w,this.relativeTarget)),v&&(this.animationValues=d,A7e(d,u,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yn.update(()=>{a2.hasAnimatedSinceResize=!0,this.currentAnimation=iZ(0,oD,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=i;if(!(!o||!c||!u)){if(this!==i&&this.layout&&u&&cZ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Wn();const h=ca(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const m=ca(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}ga(o,c),xf(o,d),Fp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new F7e),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&S4("z",i,u,this.animationValues);for(let d=0;d<C4.length;d++)S4(`rotate${C4[d]}`,i,u,this.animationValues),S4(`skew${C4[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return W7e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=i2(i?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=i2(i?.pointerEvents)||""),this.hasProjected&&!iu(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=U7e(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in J2){if(m[v]===void 0)continue;const{correct:y,applyTo:x}=J2[v],b=u.transform==="none"?m[v]:y(m[v],h);if(x){const w=x.length;for(let _=0;_<w;_++)u[x[_]]=b}else u[v]=b}return this.options.layoutId&&(u.pointerEvents=h===this?i2(i?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(lD),this.root.sharedNodes.clear()}}}function V7e(e){e.updateLayout()}function G7e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;a==="size"?ya(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=ca(m);m.min=r[h].min,m.max=m.min+p}):cZ(a,n.layoutBox,r)&&ya(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=ca(r[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=vf();Fp(o,r,n.layoutBox);const c=vf();i?Fp(c,e.applyTransform(s,!0),n.measuredBox):Fp(c,r,n.layoutBox);const u=!rZ(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=Wn();Up(g,n.layoutBox,m.layoutBox);const v=Wn();Up(v,r,p.layoutBox),sZ(g,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function q7e(e){gp&&ou.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function K7e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Y7e(e){e.clearSnapshot()}function lD(e){e.clearMeasurements()}function Q7e(e){e.isLayoutDirty=!1}function X7e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z7e(e){e.resolveTargetDelta()}function J7e(e){e.calcProjection()}function eTe(e){e.resetSkewAndRotation()}function tTe(e){e.removeLeadSnapshot()}function uD(e,t,n){e.translate=In(t.translate,0,n),e.scale=In(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function dD(e,t,n,r){e.min=In(t.min,n.min,r),e.max=In(t.max,n.max,r)}function nTe(e,t,n,r){dD(e.x,t.x,n.x,r),dD(e.y,t.y,n.y,r)}function rTe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sTe={duration:.45,ease:[.4,0,.1,1]},fD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hD=fD("applewebkit/")&&!fD("chrome/")?Math.round:ia;function mD(e){e.min=hD(e.min),e.max=hD(e.max)}function aTe(e){mD(e.x),mD(e.y)}function cZ(e,t,n){return e==="position"||e==="preserve-aspect"&&!l7e(aD(t),aD(n),.2)}function iTe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const oTe=lZ({attachResizeListener:(e,t)=>jg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),E4={current:void 0},uZ=lZ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!E4.current){const e=new oTe({});e.mount(window),e.setOptions({layoutScroll:!0}),E4.current=e}return E4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lTe={pan:{Feature:S7e},drag:{Feature:C7e,ProjectionNode:uZ,MeasureLayout:eZ}};function pD(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&yn.postRender(()=>a(t,Q0(t)))}class cTe extends Rc{mount(){const{current:t}=this.node;t&&(this.unmount=K8e(t,n=>(pD(this.node,n,"Start"),r=>pD(this.node,r,"End"))))}unmount(){}}class uTe extends Rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Y0(jg(this.node.current,"focus",()=>this.onFocus()),jg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gD(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&yn.postRender(()=>a(t,Q0(t)))}class dTe extends Rc{mount(){const{current:t}=this.node;t&&(this.unmount=Z8e(t,n=>(gD(this.node,n,"Start"),(r,{success:s})=>gD(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pk=new WeakMap,k4=new WeakMap,fTe=e=>{const t=Pk.get(e.target);t&&t(e)},hTe=e=>{e.forEach(fTe)};function mTe({root:e,...t}){const n=e||document;k4.has(n)||k4.set(n,{});const r=k4.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hTe,{root:e,...t})),r[s]}function pTe(e,t,n){const r=mTe(t);return Pk.set(e,n),r.observe(e),()=>{Pk.delete(e),r.unobserve(e)}}const gTe={some:0,all:1};class vTe extends Rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:gTe[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return pTe(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yTe(t,n))&&this.startObserver()}unmount(){}}function yTe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xTe={inView:{Feature:vTe},tap:{Feature:dTe},focus:{Feature:uTe},hover:{Feature:cTe}},bTe={layout:{ProjectionNode:uZ,MeasureLayout:eZ}},V9=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),uw=f.createContext({}),G9=typeof window<"u",q9=G9?f.useLayoutEffect:f.useEffect,dZ=f.createContext({strict:!1});function wTe(e,t,n,r,s){var a,i;const{visualElement:o}=f.useContext(uw),c=f.useContext(dZ),u=f.useContext(cw),d=f.useContext(V9).reducedMotion,h=f.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=f.useContext(JX);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&_Te(h.current,n,s,p);const g=f.useRef(!1);f.useInsertionEffect(()=>{m&&g.current&&m.update(n,u)});const v=n[FX],y=f.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,v)));return q9(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),z9.render(m.render),y.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),y.current=!1))}),m}function _Te(e,t,n,r){const{layoutId:s,layout:a,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fZ(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||o&&gf(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function fZ(e){if(e)return e.options.allowProjection!==!1?e.projection:fZ(e.parent)}function CTe(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gf(n)&&(n.current=r))},[t])}function dw(e){return sw(e.animate)||w9.some(t=>Tg(e[t]))}function hZ(e){return!!(dw(e)||e.variants)}function STe(e,t){if(dw(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Tg(n)?n:void 0,animate:Tg(r)?r:void 0}}return e.inherit!==!1?t:{}}function ETe(e){const{initial:t,animate:n}=STe(e,f.useContext(uw));return f.useMemo(()=>({initial:t,animate:n}),[vD(t),vD(n)])}function vD(e){return Array.isArray(e)?e.join(" "):e}const yD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ih={};for(const e in yD)ih[e]={isEnabled:t=>yD[e].some(n=>!!t[n])};function kTe(e){for(const t in e)ih[t]={...ih[t],...e[t]}}const MTe=Symbol.for("motionComponentSymbol");function TTe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&kTe(e);function a(o,c){let u;const d={...f.useContext(V9),...o,layoutId:NTe(o)},{isStatic:h}=d,m=ETe(o),p=r(o,h);if(!h&&G9){RTe();const g=ATe(d);u=g.MeasureLayout,m.visualElement=wTe(s,p,d,t,g.ProjectionNode)}return l.jsxs(uw.Provider,{value:m,children:[u&&m.visualElement?l.jsx(u,{visualElement:m.visualElement,...d}):null,n(s,o,CTe(p,m.visualElement,c),p,h,m.visualElement)]})}const i=f.forwardRef(a);return i[MTe]=s,i}function NTe({layoutId:e}){const t=f.useContext(Pg).id;return t&&e!==void 0?t+"-"+e:e}function RTe(e,t){f.useContext(dZ).strict}function ATe(e){const{drag:t,layout:n}=ih;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jTe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K9(e){return typeof e!="string"||e.includes("-")?!1:!!(jTe.indexOf(e)>-1||/[A-Z]/u.test(e))}function mZ(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const pZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gZ(e,t,n,r){mZ(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(pZ.has(s)?s:B9(s),t.attrs[s])}function vZ(e,{layout:t,layoutId:n}){return ud.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!J2[e]||e==="opacity")}function Y9(e,t,n){var r;const{style:s}=e,a={};for(const i in s)(Er(s[i])||t.style&&Er(t.style[i])||vZ(i,e)||((r=n?.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[i]=s[i]);return a}function yZ(e,t,n){const r=Y9(e,t,n);for(const s in e)if(Er(e[s])||Er(t[s])){const a=q0.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Q9(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function PTe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,a){const i={latestValues:ITe(r,s,a,e),renderState:t()};return n&&(i.mount=o=>n(r,o,i)),i}const xZ=e=>(t,n)=>{const r=f.useContext(uw),s=f.useContext(cw),a=()=>PTe(e,t,r,s);return n?a():Q9(a)};function ITe(e,t,n,r){const s={},a=r(e,{});for(const m in a)s[m]=i2(a[m]);let{initial:i,animate:o}=e;const c=dw(e),u=hZ(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?o:i;if(h&&typeof h!="boolean"&&!sw(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=x9(e,m[p]);if(g){const{transitionEnd:v,transition:y,...x}=g;for(const b in x){let w=x[b];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(s[b]=w)}for(const b in v)s[b]=v[b]}}}return s}const X9=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bZ=()=>({...X9(),attrs:{}}),wZ=(e,t)=>t&&typeof e=="number"?t.transform(e):e,OTe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LTe=q0.length;function DTe(e,t,n){let r="",s=!0;for(let a=0;a<LTe;a++){const i=q0[a],o=e[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=wZ(o,N9[i]);if(!c){s=!1;const d=OTe[i]||i;r+=`${d}(${u}) `}n&&(t[i]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Z9(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let i=!1,o=!1;for(const c in t){const u=t[c];if(ud.has(c)){i=!0;continue}else if(uX(c)){s[c]=u;continue}else{const d=wZ(u,N9[c]);c.startsWith("origin")?(o=!0,a[c]=d):r[c]=d}}if(t.transform||(i||n?r.transform=DTe(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}function xD(e,t,n){return typeof e=="string"?e:bt.transform(t+n*e)}function FTe(e,t,n){const r=xD(t,e.x,e.width),s=xD(n,e.y,e.height);return`${r} ${s}`}const UTe={offset:"stroke-dashoffset",array:"stroke-dasharray"},BTe={offset:"strokeDashoffset",array:"strokeDasharray"};function $Te(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?UTe:BTe;e[a.offset]=bt.transform(-r);const i=bt.transform(t),o=bt.transform(n);e[a.array]=`${i} ${o}`}function J9(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(Z9(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(s!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=FTe(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&$Te(m,i,o,c,!1)}const eN=e=>typeof e=="string"&&e.toLowerCase()==="svg",HTe={useVisualState:xZ({scrapeMotionValuesFromProps:yZ,createRenderState:bZ,onMount:(e,t,{renderState:n,latestValues:r})=>{yn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),yn.render(()=>{J9(n,r,eN(t.tagName),e.transformTemplate),gZ(t,n)})}})},WTe={useVisualState:xZ({scrapeMotionValuesFromProps:Y9,createRenderState:X9})};function _Z(e,t,n){for(const r in t)!Er(t[r])&&!vZ(r,n)&&(e[r]=t[r])}function zTe({transformTemplate:e},t){return f.useMemo(()=>{const n=X9();return Z9(n,t,e),Object.assign({},n.vars,n.style)},[t])}function VTe(e,t){const n=e.style||{},r={};return _Z(r,n,e),Object.assign(r,zTe(e,t)),r}function GTe(e,t){const n={},r=VTe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const qTe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ex(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qTe.has(e)}let CZ=e=>!ex(e);function KTe(e){e&&(CZ=t=>t.startsWith("on")?!ex(t):e(t))}try{KTe(require("@emotion/is-prop-valid").default)}catch{}function YTe(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(CZ(s)||n===!0&&ex(s)||!t&&!ex(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function QTe(e,t,n,r){const s=f.useMemo(()=>{const a=bZ();return J9(a,t,eN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_Z(a,e.style,e),s.style={...a,...s.style}}return s}function XTe(e=!1){return(n,r,s,{latestValues:a},i)=>{const c=(K9(n)?QTe:GTe)(r,a,i,n),u=YTe(r,typeof n=="string",e),d=n!==f.Fragment?{...u,...c,ref:s}:{},{children:h}=r,m=f.useMemo(()=>Er(h)?h.get():h,[h]);return f.createElement(n,{...d,children:m})}}function ZTe(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...K9(r)?HTe:WTe,preloadedFeatures:e,useRender:XTe(s),createVisualElement:t,Component:r};return TTe(i)}}const tx={current:null},tN={current:!1};function SZ(){if(tN.current=!0,!!G9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tx.current=e.matches;e.addListener(t),t()}else tx.current=!1}function JTe(e,t,n){for(const r in t){const s=t[r],a=n[r];if(Er(s))e.addValue(r,s);else if(Er(a))e.addValue(r,Ag(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(r);e.addValue(r,Ag(i!==void 0?i:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const oh=new WeakMap,e9e=[...hX,Zr,fc],t9e=e=>e9e.find(fX(e)),bD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EZ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k9,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=no.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,yn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=dw(n),this.isVariantNode=hZ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&Er(p)&&p.set(c[m],!1)}}mount(t){this.current=t,oh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tN.current||SZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oh.delete(this.current),this.projection&&this.projection.unmount(),dc(this.notifyUpdate),dc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ud.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&yn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ih){const n=ih[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bD.length;r++){const s=bD[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=JTe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ag(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(lX(s)||oX(s))?s=parseFloat(s):!t9e(s)&&fc.test(n)&&(s=wX(t,n)),this.setBaseTarget(t,Er(s)?s.get():s)),Er(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=x9(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Er(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new U9),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class kZ extends EZ{constructor(){super(...arguments),this.KeyframeResolver=_X}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Er(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n9e(e){return window.getComputedStyle(e)}class MZ extends kZ{constructor(){super(...arguments),this.type="html",this.renderInstance=mZ}readValueFromInstance(t,n){if(ud.has(n)){const r=R9(n);return r&&r.default||0}else{const r=n9e(t),s=(uX(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return XX(t,n)}build(t,n,r){Z9(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Y9(t,n,r)}}class TZ extends kZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ud.has(n)){const r=R9(n);return r&&r.default||0}return n=pZ.has(n)?n:B9(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return yZ(t,n,r)}build(t,n,r){J9(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){gZ(t,n,r,s)}mount(t){this.isSVGTag=eN(t.tagName),super.mount(t)}}const r9e=(e,t)=>K9(e)?new TZ(t):new MZ(t,{allowProjection:e!==f.Fragment}),s9e=ZTe({...q8e,...xTe,...lTe,...bTe},r9e),ke=Xke(s9e);class a9e extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function i9e({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=f.useContext(V9);return f.useInsertionEffect(()=>{const{width:i,height:o,top:c,left:u}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(a9e,{isPresent:t,childRef:r,sizeRef:s,children:f.cloneElement(e,{ref:r})})}const o9e=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:i})=>{const o=Q9(l9e),c=f.useId(),u=f.useCallback(h=>{o.set(h,!0);for(const m of o.values())if(!m)return;r&&r()},[o,r]),d=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),a?[Math.random(),u]:[n,u]);return f.useMemo(()=>{o.forEach((h,m)=>o.set(m,!1))},[n]),f.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),i==="popLayout"&&(e=l.jsx(i9e,{isPresent:n,children:e})),l.jsx(cw.Provider,{value:d,children:e})};function l9e(){return new Map}const Tv=e=>e.key||"";function wD(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const wt=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync"})=>{const o=f.useMemo(()=>wD(e),[e]),c=o.map(Tv),u=f.useRef(!0),d=f.useRef(o),h=Q9(()=>new Map),[m,p]=f.useState(o),[g,v]=f.useState(o);q9(()=>{u.current=!1,d.current=o;for(let b=0;b<g.length;b++){const w=Tv(g[b]);c.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[g,c.length,c.join("-")]);const y=[];if(o!==m){let b=[...o];for(let w=0;w<g.length;w++){const _=g[w],C=Tv(_);c.includes(C)||(b.splice(w,0,_),y.push(_))}i==="wait"&&y.length&&(b=y),v(wD(b)),p(o);return}const{forceRender:x}=f.useContext(Pg);return l.jsx(l.Fragment,{children:g.map(b=>{const w=Tv(b),_=o===g||c.includes(w),C=()=>{if(h.has(w))h.set(w,!0);else return;let S=!0;h.forEach(k=>{k||(S=!1)}),S&&(x?.(),v(d.current),s&&s())};return l.jsx(o9e,{isPresent:_,initial:!u.current||r?void 0:!1,custom:_?void 0:n,presenceAffectsLayout:a,mode:i,onExitComplete:_?void 0:C,children:b},w)})})},c9e=f.createContext(null);function u9e(){const e=f.useRef(!1);return q9(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function d9e(){const e=u9e(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>yn.postRender(r),[r]),t]}const f9e=e=>!e.isLayoutDirty&&e.willUpdate(!1);function _D(){const e=new Set,t=new WeakMap,n=()=>e.forEach(f9e);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const NZ=e=>e===!0,h9e=e=>NZ(e===!0)||e==="id",dd=({children:e,id:t,inherit:n=!0})=>{const r=f.useContext(Pg),s=f.useContext(c9e),[a,i]=d9e(),o=f.useRef(null),c=r.id||s;o.current===null&&(h9e(n)&&c&&(t=t?c+"-"+t:c),o.current={id:t,group:NZ(n)&&r.group||_D()});const u=f.useMemo(()=>({...o.current,forceRender:a}),[i]);return l.jsx(Pg.Provider,{value:u,children:e})},m9e=e=>e&&typeof e=="object"&&e.mix,p9e=e=>m9e(e)?e.mix:void 0;function g9e(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],a=e[2+n],i=e[3+n],o=AX(s,a,{mixer:p9e(a[0]),...i});return t?o(r):o}function X0(){!tN.current&&SZ();const[e]=f.useState(tx.current);return e}function nLt(e){return f.useEffect(()=>()=>e(),[])}function v9e(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(A9(r),q2);return{type:"keyframes",ease:a=>r.next(s*a).value/t,duration:eo(s)}}function nN(e){return typeof e=="object"&&!Array.isArray(e)}function RZ(e,t,n,r){return typeof e=="string"&&nN(t)?H9(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function CD(e,t,n,r){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(s=r.get(t))!==null&&s!==void 0?s:e}const y9e=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function AZ(e,t){return TX(e)?e[y9e(0,e.length,t)]:e}function x9e(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(lw(e,s),r--)}}function b9e(e,t,n,r,s,a){x9e(e,s,a);for(let i=0;i<t.length;i++)e.push({value:t[i],at:In(s,a,r[i]),easing:AZ(n,i)})}function w9e(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}function _9e(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function C9e(e,t,n){return e*(t+1)}const S9e="easeInOut";function E9e(e,{defaultTransition:t={},...n}={},r,s){const a=t.duration||.3,i=new Map,o=new Map,c={},u=new Map;let d=0,h=0,m=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){u.set(g,h);continue}else if(!Array.isArray(g)){u.set(g.name,CD(h,g.at,d,u));continue}let[v,y,x={}]=g;x.at!==void 0&&(h=CD(h,x.at,d,u));let b=0;const w=(_,C,S,k=0,E=0)=>{const M=k9e(_),{delay:N=0,times:R=PX(M),type:A="keyframes",repeat:P,repeatType:O,repeatDelay:I=0,...L}=C;let{ease:F=t.ease||"easeOut",duration:D}=C;const B=typeof N=="function"?N(k,E):N,$=M.length,W=ow(A)?A:s?.[A];if($<=2&&W){let V=100;if($===2&&N9e(M)){const te=M[1]-M[0];V=Math.abs(te)}const q={...L};D!==void 0&&(q.duration=Ji(D));const z=v9e(q,V,W);F=z.ease,D=z.duration}D??(D=a);const X=h+B;R.length===1&&R[0]===0&&(R[1]=1);const ee=R.length-M.length;if(ee>0&&jX(R,ee),M.length===1&&M.unshift(null),P){D=C9e(D,P);const V=[...M],q=[...R];F=Array.isArray(F)?[...F]:[F];const z=[...F];for(let te=0;te<P;te++){M.push(...V);for(let Y=0;Y<V.length;Y++)R.push(q[Y]+(te+1)),F.push(Y===0?"linear":AZ(z,Y-1))}_9e(R,P)}const ne=X+D;b9e(S,M,F,R,X,ne),b=Math.max(B+D,b),m=Math.max(ne,m)};if(Er(v)){const _=SD(v,o);w(y,x,ED("default",_))}else{const _=RZ(v,y,r,c),C=_.length;for(let S=0;S<C;S++){y=y,x=x;const k=_[S],E=SD(k,o);for(const M in y)w(y[M],M9e(x,M),ED(M,E),S,C)}}d=h,h+=b}return o.forEach((p,g)=>{for(const v in p){const y=p[v];y.sort(w9e);const x=[],b=[],w=[];for(let C=0;C<y.length;C++){const{at:S,value:k,easing:E}=y[C];x.push(k),b.push(Pu(0,m,S)),w.push(E||"easeOut")}b[0]!==0&&(b.unshift(0),x.unshift(x[0]),w.unshift(S9e)),b[b.length-1]!==1&&(b.push(1),x.push(null)),i.has(g)||i.set(g,{keyframes:{},transition:{}});const _=i.get(g);_.keyframes[v]=x,_.transition[v]={...t,duration:m,ease:w,times:b,...n}}}),i}function SD(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function ED(e,t){return t[e]||(t[e]=[]),t[e]}function k9e(e){return Array.isArray(e)?e:[e]}function M9e(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const T9e=e=>typeof e=="number",N9e=e=>e.every(T9e);function R9e(e,t){return e in t}class A9e extends EZ{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(R9e(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Wn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function j9e(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=aZ(e)?new TZ(t):new MZ(t);n.mount(e),oh.set(e,n)}function P9e(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new A9e(t);n.mount(e),oh.set(e,n)}function I9e(e,t){return Er(e)||typeof e=="number"||typeof e=="string"&&!nN(t)}function jZ(e,t,n,r){const s=[];if(I9e(e,t))s.push(iZ(e,nN(t)&&t.default||t,n&&(n.default||n)));else{const a=RZ(e,t,r),i=a.length;for(let o=0;o<i;o++){const c=a[o],u=c instanceof Element?j9e:P9e;oh.has(c)||u(c);const d=oh.get(c),h={...n};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(o,i)),s.push(...$9(d,{...t,transition:h},{}))}}return s}function O9e(e,t,n){const r=[];return E9e(e,t,n,{spring:j9}).forEach(({keyframes:a,transition:i},o)=>{r.push(...jZ(o,a,i))}),r}function L9e(e){return Array.isArray(e)&&Array.isArray(e[0])}function D9e(e){function t(n,r,s){let a=[];L9e(n)?a=O9e(n,r,e):a=jZ(n,r,s,e);const i=new DX(a);return e&&e.animations.push(i),i}return t}const rLt=D9e(),F9e={some:0,all:1};function U9e(e,t,{root:n,margin:r,amount:s="some"}={}){const a=H9(e),i=new WeakMap,o=u=>{u.forEach(d=>{const h=i.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const m=t(d);typeof m=="function"?i.set(d.target,m):c.unobserve(d.target)}else h&&(h(d),i.delete(d.target))})},c=new IntersectionObserver(o,{root:n,rootMargin:r,threshold:typeof s=="number"?s:F9e[s]});return a.forEach(u=>c.observe(u)),()=>c.disconnect()}function B9e(e,{root:t,margin:n,amount:r,once:s=!1}={}){const[a,i]=f.useState(!1);return f.useEffect(()=>{if(!e.current||s&&a)return;const o=()=>(i(!0),s?void 0:()=>i(!1)),c={root:t&&t.current||void 0,margin:n,amount:r};return U9e(e.current,o,c)},[t,e,n,s,r]),a}function PZ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,i=[],o="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(i.push(n),o+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),i.push(s.substring(1,~r?r:~a?a:s.length)),o+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~r?"?":"")+"\\"+s.substring(a))):o+="/"+s;return{keys:i,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var $9e=KEe();const H9e=h9.useInsertionEffect,W9e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IZ=W9e?f.useLayoutEffect:f.useEffect,z9e=H9e||IZ,fw=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return z9e(()=>{t[0]=e}),t[1]},V9e="popstate",rN="pushState",sN="replaceState",G9e="hashchange",kD=[V9e,rN,sN,G9e],q9e=e=>{for(const t of kD)addEventListener(t,e);return()=>{for(const t of kD)removeEventListener(t,e)}},OZ=(e,t)=>$9e.useSyncExternalStore(q9e,e,t),K9e=()=>location.search,Y9e=({ssrSearch:e=""}={})=>OZ(K9e,()=>e),MD=()=>location.pathname,Q9e=({ssrPath:e}={})=>OZ(MD,e?()=>e:MD),X9e=(e,{replace:t=!1,state:n=null}={})=>history[t?sN:rN](n,"",e),Z9e=(e={})=>[Q9e(e),X9e],TD=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[TD]>"u"){for(const e of[rN,sN]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,TD,{value:!0})}const J9e=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",LZ=(e="")=>e==="/"?"":e,eNe=(e,t)=>e[0]==="~"?e.slice(1):LZ(t)+e,tNe=(e="",t)=>J9e(Ik(LZ(e)),Ik(t)),nNe=e=>e[0]==="?"?e.slice(1):e,Ik=e=>{try{return decodeURI(e)}catch{return e}},rNe=e=>Ik(nNe(e)),DZ={hook:Z9e,searchHook:Y9e,parser:PZ,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},FZ=f.createContext(DZ),So=()=>f.useContext(FZ),UZ={},BZ=f.createContext(UZ),aN=()=>f.useContext(BZ),Z0=e=>{const[t,n]=e.hook(e);return[tNe(e.base,t),fw((r,s)=>n(eNe(r,e.base),s))]},iN=()=>Z0(So()),sNe=()=>{const e=So();return rNe(e.searchHook(e))},$Z=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=s.exec(n)||[],[o,...c]=i;return o!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):i.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[o]:[]]:[!1,null]},HZ=({children:e,...t})=>{const n=So(),r=t.hook?DZ:n;let s=r;const[a,i]=t.ssrPath?.split("?")??[];i&&(t.ssrSearch=i,t.ssrPath=a),t.hrefs=t.hrefs??t.hook?.hrefs;let o=f.useRef({}),c=o.current,u=c;for(let d in r){const h=d==="base"?r[d]+(t[d]||""):t[d]||r[d];c===u&&h!==u[d]&&(o.current=u={...u}),u[d]=h,h!==r[d]&&(s=u)}return f.createElement(FZ.Provider,{value:s,children:e})},ND=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,aNe=e=>{let t=f.useRef(UZ);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n};function WZ(){const[e,t]=iN(),n=sNe(),r=f.useMemo(()=>new URLSearchParams(n),[n]);let s=r;const a=fw((i,o)=>{s=new URLSearchParams(typeof i=="function"?i(s):i),t(e+"?"+s,o)});return[r,a]}const iNe=({path:e,nest:t,match:n,...r})=>{const s=So(),[a]=Z0(s),[i,o,c]=n??$Z(s.parser,e,a,t),u=aNe({...aN(),...o});if(!i)return null;const d=c?f.createElement(HZ,{base:c},ND(r,u)):ND(r,u);return f.createElement(BZ.Provider,{value:u,children:d})};f.forwardRef((e,t)=>{const n=So(),[r,s]=Z0(n),{to:a="",href:i=a,onClick:o,asChild:c,children:u,className:d,replace:h,state:m,...p}=e,g=fw(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o?.(y),y.defaultPrevented||(y.preventDefault(),s(i,e)))}),v=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return c&&f.isValidElement(u)?f.cloneElement(u,{onClick:g,href:v}):f.createElement("a",{...p,onClick:g,href:v,className:d?.call?d(r===i):d,children:u,ref:t})});const zZ=e=>Array.isArray(e)?e.flatMap(t=>zZ(t&&t.type===f.Fragment?t.props.children:t)):[e],oNe=({children:e,location:t})=>{const n=So(),[r]=Z0(n);for(const s of zZ(e)){let a=0;if(f.isValidElement(s)&&(a=$Z(n.parser,s.props.path,t||r,s.props.nest))[0])return f.cloneElement(s,{match:a})}return null},hw=e=>{const{to:t,href:n=t}=e,r=So(),[,s]=Z0(r),a=fw(()=>s(t||n,e)),{ssrContext:i}=r;return IZ(()=>{a()},[]),i&&(i.redirectTo=t),null};function lNe(){return f.useMemo(()=>({push:e=>{window.history.pushState({},"",e)},refresh:()=>{window.location.reload()}}),[])}function cNe(){const[e]=iN();return e}function uNe(){const[e]=WZ();return e}function dNe(){return aN()}const RD={},An=()=>{const e=uNe(),[t]=WZ();return f.useMemo(()=>new URLSearchParams((e||t).toString()),[e,t])},fNe=()=>{const e=dNe(),t=aN(),n=Object.keys(e).length?e:RD,r=Object.keys(t).length?t:RD;return f.useMemo(()=>({...n,...r}),[n,r])},Lt=()=>{const e=cNe(),[t]=iN();return e||t},Us=Symbol.for("@ts-pattern/matcher"),VZ=Symbol.for("@ts-pattern/isVariadic"),nx="@ts-pattern/anonymous-select-key",Ok=e=>!!(e&&typeof e=="object"),o2=e=>e&&!!e[Us],Fr=(e,t,n)=>{if(o2(e)){const r=e[Us](),{matched:s,selections:a}=r.match(t);return s&&a&&Object.keys(a).forEach(i=>n(i,a[i])),s}if(Ok(e)){if(!Ok(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let r=[],s=[],a=[];for(const i of e.keys()){const o=e[i];o2(o)&&o[VZ]?a.push(o):a.length?s.push(o):r.push(o)}if(a.length){if(a.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<r.length+s.length)return!1;const i=t.slice(0,r.length),o=s.length===0?[]:t.slice(-s.length),c=t.slice(r.length,s.length===0?1/0:-s.length);return r.every((u,d)=>Fr(u,i[d],n))&&s.every((u,d)=>Fr(u,o[d],n))&&(a.length===0||Fr(a[0],c,n))}return e.length===t.length&&e.every((i,o)=>Fr(i,t[o],n))}return Object.keys(e).every(r=>{const s=e[r];return(r in t||o2(a=s)&&a[Us]().matcherType==="optional")&&Fr(s,t[r],n);var a})}return Object.is(t,e)},ta=e=>{var t,n,r;return Ok(e)?o2(e)?(t=(n=(r=e[Us]()).getSelectionKeys)==null?void 0:n.call(r))!=null?t:[]:Array.isArray(e)?Ig(e,ta):Ig(Object.values(e),ta):[]},Ig=(e,t)=>e.reduce((n,r)=>n.concat(t(r)),[]);function hNe(...e){if(e.length===1){const[t]=e;return n=>Fr(t,n,()=>{})}if(e.length===2){const[t,n]=e;return Fr(t,n,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}function Ur(e){return Object.assign(e,{optional:()=>oN(e),and:t=>En(e,t),or:t=>GZ(e,t),select:t=>t===void 0?Og(e):Og(t,e)})}function Lk(e){return Object.assign((t=>Object.assign(t,{[Symbol.iterator](){let n=0;const r=[{value:Object.assign(t,{[VZ]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var s;return(s=r[n++])!=null?s:r.at(-1)}}}}))(e),{optional:()=>Lk(oN(e)),select:t=>Lk(t===void 0?Og(e):Og(t,e))})}function oN(e){return Ur({[Us]:()=>({match:t=>{let n={};const r=(s,a)=>{n[s]=a};return t===void 0?(ta(e).forEach(s=>r(s,void 0)),{matched:!0,selections:n}):{matched:Fr(e,t,r),selections:n}},getSelectionKeys:()=>ta(e),matcherType:"optional"})})}const mNe=(e,t)=>{for(const n of e)if(!t(n))return!1;return!0},pNe=(e,t)=>{for(const[n,r]of e.entries())if(!t(r,n))return!1;return!0};function En(...e){return Ur({[Us]:()=>({match:t=>{let n={};const r=(s,a)=>{n[s]=a};return{matched:e.every(s=>Fr(s,t,r)),selections:n}},getSelectionKeys:()=>Ig(e,ta),matcherType:"and"})})}function GZ(...e){return Ur({[Us]:()=>({match:t=>{let n={};const r=(s,a)=>{n[s]=a};return Ig(e,ta).forEach(s=>r(s,void 0)),{matched:e.some(s=>Fr(s,t,r)),selections:n}},getSelectionKeys:()=>Ig(e,ta),matcherType:"or"})})}function zt(e){return{[Us]:()=>({match:t=>({matched:!!e(t)})})}}function Og(...e){const t=typeof e[0]=="string"?e[0]:void 0,n=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return Ur({[Us]:()=>({match:r=>{let s={[t??nx]:r};return{matched:n===void 0||Fr(n,r,(a,i)=>{s[a]=i}),selections:s}},getSelectionKeys:()=>[t??nx].concat(n===void 0?[]:ta(n))})})}function Li(e){return typeof e=="number"}function Dl(e){return typeof e=="string"}function Fl(e){return typeof e=="bigint"}const qZ=Ur(zt(function(e){return!0})),gNe=qZ,Ul=e=>Object.assign(Ur(e),{startsWith:t=>{return Ul(En(e,(n=t,zt(r=>Dl(r)&&r.startsWith(n)))));var n},endsWith:t=>{return Ul(En(e,(n=t,zt(r=>Dl(r)&&r.endsWith(n)))));var n},minLength:t=>Ul(En(e,(n=>zt(r=>Dl(r)&&r.length>=n))(t))),length:t=>Ul(En(e,(n=>zt(r=>Dl(r)&&r.length===n))(t))),maxLength:t=>Ul(En(e,(n=>zt(r=>Dl(r)&&r.length<=n))(t))),includes:t=>{return Ul(En(e,(n=t,zt(r=>Dl(r)&&r.includes(n)))));var n},regex:t=>{return Ul(En(e,(n=t,zt(r=>Dl(r)&&!!r.match(n)))));var n}}),vNe=Ul(zt(Dl)),Di=e=>Object.assign(Ur(e),{between:(t,n)=>Di(En(e,((r,s)=>zt(a=>Li(a)&&r<=a&&s>=a))(t,n))),lt:t=>Di(En(e,(n=>zt(r=>Li(r)&&r<n))(t))),gt:t=>Di(En(e,(n=>zt(r=>Li(r)&&r>n))(t))),lte:t=>Di(En(e,(n=>zt(r=>Li(r)&&r<=n))(t))),gte:t=>Di(En(e,(n=>zt(r=>Li(r)&&r>=n))(t))),int:()=>Di(En(e,zt(t=>Li(t)&&Number.isInteger(t)))),finite:()=>Di(En(e,zt(t=>Li(t)&&Number.isFinite(t)))),positive:()=>Di(En(e,zt(t=>Li(t)&&t>0))),negative:()=>Di(En(e,zt(t=>Li(t)&&t<0)))}),yNe=Di(zt(Li)),Bl=e=>Object.assign(Ur(e),{between:(t,n)=>Bl(En(e,((r,s)=>zt(a=>Fl(a)&&r<=a&&s>=a))(t,n))),lt:t=>Bl(En(e,(n=>zt(r=>Fl(r)&&r<n))(t))),gt:t=>Bl(En(e,(n=>zt(r=>Fl(r)&&r>n))(t))),lte:t=>Bl(En(e,(n=>zt(r=>Fl(r)&&r<=n))(t))),gte:t=>Bl(En(e,(n=>zt(r=>Fl(r)&&r>=n))(t))),positive:()=>Bl(En(e,zt(t=>Fl(t)&&t>0))),negative:()=>Bl(En(e,zt(t=>Fl(t)&&t<0)))}),xNe=Bl(zt(Fl)),bNe=Ur(zt(function(e){return typeof e=="boolean"})),wNe=Ur(zt(function(e){return typeof e=="symbol"})),_Ne=Ur(zt(function(e){return e==null})),CNe=Ur(zt(function(e){return e!=null}));var Cu={__proto__:null,matcher:Us,optional:oN,array:function(...e){return Lk({[Us]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(e.length===0)return{matched:!0};const n=e[0];let r={};if(t.length===0)return ta(n).forEach(a=>{r[a]=[]}),{matched:!0,selections:r};const s=(a,i)=>{r[a]=(r[a]||[]).concat([i])};return{matched:t.every(a=>Fr(n,a,s)),selections:r}},getSelectionKeys:()=>e.length===0?[]:ta(e[0])})})},set:function(...e){return Ur({[Us]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let n={};if(t.size===0)return{matched:!0,selections:n};if(e.length===0)return{matched:!0};const r=(a,i)=>{n[a]=(n[a]||[]).concat([i])},s=e[0];return{matched:mNe(t,a=>Fr(s,a,r)),selections:n}},getSelectionKeys:()=>e.length===0?[]:ta(e[0])})})},map:function(...e){return Ur({[Us]:()=>({match:t=>{if(!(t instanceof Map))return{matched:!1};let n={};if(t.size===0)return{matched:!0,selections:n};const r=(o,c)=>{n[o]=(n[o]||[]).concat([c])};if(e.length===0)return{matched:!0};var s;if(e.length===1)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${(s=e[0])==null?void 0:s.toString()}`);const[a,i]=e;return{matched:pNe(t,(o,c)=>{const u=Fr(a,c,r),d=Fr(i,o,r);return u&&d}),selections:n}},getSelectionKeys:()=>e.length===0?[]:[...ta(e[0]),...ta(e[1])]})})},intersection:En,union:GZ,not:function(e){return Ur({[Us]:()=>({match:t=>({matched:!Fr(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:zt,select:Og,any:qZ,_:gNe,string:vNe,number:yNe,bigint:xNe,boolean:bNe,symbol:wNe,nullish:_Ne,nonNullable:CNe,instanceOf:function(e){return Ur(zt(function(t){return n=>n instanceof t}(e)))},shape:function(e){return Ur(zt(hNe(e)))}};const Dk={matched:!1,value:void 0};function is(e){return new SNe(e,Dk)}let SNe=class Fk{constructor(t,n){this.input=void 0,this.state=void 0,this.input=t,this.state=n}with(...t){if(this.state.matched)return this;const n=t[t.length-1],r=[t[0]];let s;t.length===3&&typeof t[1]=="function"?s=t[1]:t.length>2&&r.push(...t.slice(1,t.length-1));let a=!1,i={};const o=(u,d)=>{a=!0,i[u]=d},c=!r.some(u=>Fr(u,this.input,o))||s&&!s(this.input)?Dk:{matched:!0,value:n(a?nx in i?i[nx]:i:this.input,this.input)};return new Fk(this.input,c)}when(t,n){if(this.state.matched)return this;const r=!!t(this.input);return new Fk(this.input,r?{matched:!0,value:n(this.input,this.input)}:Dk)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let t;try{t=JSON.stringify(this.input)}catch{t=this.input}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}run(){return this.exhaustive()}returnType(){return this}};class fl extends Error{code;details;constructor(t,{message:n,cause:r,details:s={}}={}){super(n?`[${t}] ${n}`:`[${t}]`,{cause:r}),this.code=t,this.code=t,this.details=s,this.name="PplxError","captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fl)}}function Um(...e){let t;const n={},r=[];e.filter(Boolean).forEach(a=>{a instanceof fl?(t=a,r.push(a.message),a.details&&Object.assign(n,{pplx_error_code:a.code,...a.details})):a instanceof Error?(t=a,r.push(a.message)):typeof a=="object"?Object.assign(n,a):r.push(a)});const s=r.join(" ");return t?{message:s,error:t,extra:n}:{message:s,extra:n}}const KZ=T.memo(({session:e,isWindowsApp:t})=>(f.useEffect(()=>{e&&(ea.setUser({id:e.id,name:e.name??"",email:e.email}),ea.setGlobalContextProperty("isPro",e.isPro),ea.setGlobalContextProperty("isWindowsApp",t))},[e,t]),null));KZ.displayName="LoggerAgent";function Bm(e,{message:t,error:n,extra:r}){const s=[t,r,n];is(e).with("error",()=>{ea.logger.error(...s);try{oi.addError(n,{message:t,extra:r})}catch{}}).with("warn",()=>ea.logger.warn(...s)).with("log",()=>ea.logger.info(...s)).with("debug",()=>ea.logger.debug(...s)).with("info",()=>ea.logger.info(...s)).exhaustive()}const Q={log:(...e)=>{Bm("debug",Um(...e))},error:(...e)=>{Bm("error",Um(...e))},warn:(...e)=>{Bm("warn",Um(...e))},debug:(...e)=>{Bm("debug",Um(...e))},info:(...e)=>{Bm("info",Um(...e))}};function ENe({ddClientToken:e,version:t,env:n,debug:r,sessionSampleRate:s,service:a="web-nextjs"}){ea.init({clientToken:e,site:"datadoghq.com",service:a,env:n,version:t,sessionSampleRate:s,forwardErrorsToLogs:!0,forwardConsoleLogs:["warn","error","info"],beforeSend:i=>i.http?.url.includes("reddit.com")||(i.http?.status_code===0&&(i.status="warn"),i.error?.handling==="unhandled"&&i.message?.includes("Script error.")&&!i.error?.cause)?!1:i.status==="error"||i.status==="warn"||i.status==="info"}),r&&(ea._setDebug(!0),ea.onReady(()=>{ea.logger.setHandler("http")}))}function AD(e){Object.entries(e).forEach(([t,n])=>{ea.setGlobalContextProperty(t,n)})}const lN=f.createContext({container:null,setContainer:()=>{}}),YZ=T.memo(({children:e})=>{const[t,n]=f.useState(null),r=f.useMemo(()=>({container:t,setContainer:n}),[t,n]);return l.jsx(lN.Provider,{value:r,children:e})});YZ.displayName="SearchSideContainerProvider";const kNe=T.memo(({children:e})=>{const{container:t}=f.useContext(lN);return t?as.createPortal(e,t):(Q.warn("SearchSideContainerContext is not configured"),null)});kNe.displayName="SearchSideContent";var M4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jD;function qh(){return jD||(jD=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var a=arguments[s];if(a){var i=typeof a;if(i==="string"||i==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var o=n.apply(null,a);o&&r.push(o)}}else if(i==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var c in a)t.call(a,c)&&a[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(M4)),M4.exports}var MNe=qh();const U=Rs(MNe);var QZ=typeof global=="object"&&global&&global.Object===Object&&global,TNe=typeof self=="object"&&self&&self.Object===Object&&self,wi=QZ||TNe||Function("return this")(),Ta=wi.Symbol,XZ=Object.prototype,NNe=XZ.hasOwnProperty,RNe=XZ.toString,$m=Ta?Ta.toStringTag:void 0;function ANe(e){var t=NNe.call(e,$m),n=e[$m];try{e[$m]=void 0;var r=!0}catch{}var s=RNe.call(e);return r&&(t?e[$m]=n:delete e[$m]),s}var jNe=Object.prototype,PNe=jNe.toString;function INe(e){return PNe.call(e)}var ONe="[object Null]",LNe="[object Undefined]",PD=Ta?Ta.toStringTag:void 0;function Kh(e){return e==null?e===void 0?LNe:ONe:PD&&PD in Object(e)?ANe(e):INe(e)}function al(e){return e!=null&&typeof e=="object"}var DNe="[object Symbol]";function mw(e){return typeof e=="symbol"||al(e)&&Kh(e)==DNe}function cN(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Na=Array.isArray,ID=Ta?Ta.prototype:void 0,OD=ID?ID.toString:void 0;function ZZ(e){if(typeof e=="string")return e;if(Na(e))return cN(e,ZZ)+"";if(mw(e))return OD?OD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var FNe=/\s/;function UNe(e){for(var t=e.length;t--&&FNe.test(e.charAt(t)););return t}var BNe=/^\s+/;function $Ne(e){return e&&e.slice(0,UNe(e)+1).replace(BNe,"")}function Ra(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var LD=NaN,HNe=/^[-+]0x[0-9a-f]+$/i,WNe=/^0b[01]+$/i,zNe=/^0o[0-7]+$/i,VNe=parseInt;function DD(e){if(typeof e=="number")return e;if(mw(e))return LD;if(Ra(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ra(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$Ne(e);var n=WNe.test(e);return n||zNe.test(e)?VNe(e.slice(2),n?2:8):HNe.test(e)?LD:+e}function uN(e){return e}var GNe="[object AsyncFunction]",qNe="[object Function]",KNe="[object GeneratorFunction]",YNe="[object Proxy]";function JZ(e){if(!Ra(e))return!1;var t=Kh(e);return t==qNe||t==KNe||t==GNe||t==YNe}var T4=wi["__core-js_shared__"],FD=function(){var e=/[^.]+$/.exec(T4&&T4.keys&&T4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QNe(e){return!!FD&&FD in e}var XNe=Function.prototype,ZNe=XNe.toString;function fd(e){if(e!=null){try{return ZNe.call(e)}catch{}try{return e+""}catch{}}return""}var JNe=/[\\^$.*+?()[\]{}|]/g,eRe=/^\[object .+?Constructor\]$/,tRe=Function.prototype,nRe=Object.prototype,rRe=tRe.toString,sRe=nRe.hasOwnProperty,aRe=RegExp("^"+rRe.call(sRe).replace(JNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iRe(e){if(!Ra(e)||QNe(e))return!1;var t=JZ(e)?aRe:eRe;return t.test(fd(e))}function oRe(e,t){return e?.[t]}function hd(e,t){var n=oRe(e,t);return iRe(n)?n:void 0}var Uk=hd(wi,"WeakMap"),UD=Object.create,lRe=function(){function e(){}return function(t){if(!Ra(t))return{};if(UD)return UD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function cRe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ln(){}function uRe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var dRe=800,fRe=16,hRe=Date.now;function mRe(e){var t=0,n=0;return function(){var r=hRe(),s=fRe-(r-n);if(n=r,s>0){if(++t>=dRe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function pRe(e){return function(){return e}}var rx=function(){try{var e=hd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gRe=rx?function(e,t){return rx(e,"toString",{configurable:!0,enumerable:!1,value:pRe(t),writable:!0})}:uN,vRe=mRe(gRe);function yRe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function xRe(e,t,n,r){for(var s=e.length,a=n+-1;++a<s;)if(t(e[a],a,e))return a;return-1}function bRe(e){return e!==e}function wRe(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function _Re(e,t,n){return t===t?wRe(e,t,n):xRe(e,bRe,n)}function CRe(e,t){var n=e==null?0:e.length;return!!n&&_Re(e,t,0)>-1}var SRe=9007199254740991,ERe=/^(?:0|[1-9]\d*)$/;function dN(e,t){var n=typeof e;return t=t??SRe,!!t&&(n=="number"||n!="symbol"&&ERe.test(e))&&e>-1&&e%1==0&&e<t}function kRe(e,t,n){t=="__proto__"&&rx?rx(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function fN(e,t){return e===t||e!==e&&t!==t}var MRe=Object.prototype,TRe=MRe.hasOwnProperty;function eJ(e,t,n){var r=e[t];(!(TRe.call(e,t)&&fN(r,n))||n===void 0&&!(t in e))&&kRe(e,t,n)}var BD=Math.max;function NRe(e,t,n){return t=BD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=BD(r.length-t,0),i=Array(a);++s<a;)i[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(i),cRe(e,this,o)}}function RRe(e,t){return vRe(NRe(e,t,uN),e+"")}var ARe=9007199254740991;function hN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ARe}function mN(e){return e!=null&&hN(e.length)&&!JZ(e)}var jRe=Object.prototype;function pN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||jRe;return e===n}function PRe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var IRe="[object Arguments]";function $D(e){return al(e)&&Kh(e)==IRe}var tJ=Object.prototype,ORe=tJ.hasOwnProperty,LRe=tJ.propertyIsEnumerable,gN=$D(function(){return arguments}())?$D:function(e){return al(e)&&ORe.call(e,"callee")&&!LRe.call(e,"callee")};function DRe(){return!1}var nJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,HD=nJ&&typeof module=="object"&&module&&!module.nodeType&&module,FRe=HD&&HD.exports===nJ,WD=FRe?wi.Buffer:void 0,URe=WD?WD.isBuffer:void 0,sx=URe||DRe,BRe="[object Arguments]",$Re="[object Array]",HRe="[object Boolean]",WRe="[object Date]",zRe="[object Error]",VRe="[object Function]",GRe="[object Map]",qRe="[object Number]",KRe="[object Object]",YRe="[object RegExp]",QRe="[object Set]",XRe="[object String]",ZRe="[object WeakMap]",JRe="[object ArrayBuffer]",eAe="[object DataView]",tAe="[object Float32Array]",nAe="[object Float64Array]",rAe="[object Int8Array]",sAe="[object Int16Array]",aAe="[object Int32Array]",iAe="[object Uint8Array]",oAe="[object Uint8ClampedArray]",lAe="[object Uint16Array]",cAe="[object Uint32Array]",Cn={};Cn[tAe]=Cn[nAe]=Cn[rAe]=Cn[sAe]=Cn[aAe]=Cn[iAe]=Cn[oAe]=Cn[lAe]=Cn[cAe]=!0;Cn[BRe]=Cn[$Re]=Cn[JRe]=Cn[HRe]=Cn[eAe]=Cn[WRe]=Cn[zRe]=Cn[VRe]=Cn[GRe]=Cn[qRe]=Cn[KRe]=Cn[YRe]=Cn[QRe]=Cn[XRe]=Cn[ZRe]=!1;function uAe(e){return al(e)&&hN(e.length)&&!!Cn[Kh(e)]}function vN(e){return function(t){return e(t)}}var rJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bp=rJ&&typeof module=="object"&&module&&!module.nodeType&&module,dAe=Bp&&Bp.exports===rJ,N4=dAe&&QZ.process,lh=function(){try{var e=Bp&&Bp.require&&Bp.require("util").types;return e||N4&&N4.binding&&N4.binding("util")}catch{}}(),zD=lh&&lh.isTypedArray,sJ=zD?vN(zD):uAe,fAe=Object.prototype,hAe=fAe.hasOwnProperty;function aJ(e,t){var n=Na(e),r=!n&&gN(e),s=!n&&!r&&sx(e),a=!n&&!r&&!s&&sJ(e),i=n||r||s||a,o=i?PRe(e.length,String):[],c=o.length;for(var u in e)(t||hAe.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dN(u,c)))&&o.push(u);return o}function iJ(e,t){return function(n){return e(t(n))}}var mAe=iJ(Object.keys,Object),pAe=Object.prototype,gAe=pAe.hasOwnProperty;function vAe(e){if(!pN(e))return mAe(e);var t=[];for(var n in Object(e))gAe.call(e,n)&&n!="constructor"&&t.push(n);return t}function yN(e){return mN(e)?aJ(e):vAe(e)}function yAe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var xAe=Object.prototype,bAe=xAe.hasOwnProperty;function wAe(e){if(!Ra(e))return yAe(e);var t=pN(e),n=[];for(var r in e)r=="constructor"&&(t||!bAe.call(e,r))||n.push(r);return n}function _Ae(e){return mN(e)?aJ(e,!0):wAe(e)}var CAe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SAe=/^\w*$/;function xN(e,t){if(Na(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||mw(e)?!0:SAe.test(e)||!CAe.test(e)||t!=null&&e in Object(t)}var Lg=hd(Object,"create");function EAe(){this.__data__=Lg?Lg(null):{},this.size=0}function kAe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var MAe="__lodash_hash_undefined__",TAe=Object.prototype,NAe=TAe.hasOwnProperty;function RAe(e){var t=this.__data__;if(Lg){var n=t[e];return n===MAe?void 0:n}return NAe.call(t,e)?t[e]:void 0}var AAe=Object.prototype,jAe=AAe.hasOwnProperty;function PAe(e){var t=this.__data__;return Lg?t[e]!==void 0:jAe.call(t,e)}var IAe="__lodash_hash_undefined__";function OAe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lg&&t===void 0?IAe:t,this}function Iu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Iu.prototype.clear=EAe;Iu.prototype.delete=kAe;Iu.prototype.get=RAe;Iu.prototype.has=PAe;Iu.prototype.set=OAe;function LAe(){this.__data__=[],this.size=0}function pw(e,t){for(var n=e.length;n--;)if(fN(e[n][0],t))return n;return-1}var DAe=Array.prototype,FAe=DAe.splice;function UAe(e){var t=this.__data__,n=pw(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():FAe.call(t,n,1),--this.size,!0}function BAe(e){var t=this.__data__,n=pw(t,e);return n<0?void 0:t[n][1]}function $Ae(e){return pw(this.__data__,e)>-1}function HAe(e,t){var n=this.__data__,r=pw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function hl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hl.prototype.clear=LAe;hl.prototype.delete=UAe;hl.prototype.get=BAe;hl.prototype.has=$Ae;hl.prototype.set=HAe;var Dg=hd(wi,"Map");function WAe(){this.size=0,this.__data__={hash:new Iu,map:new(Dg||hl),string:new Iu}}function zAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function gw(e,t){var n=e.__data__;return zAe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function VAe(e){var t=gw(this,e).delete(e);return this.size-=t?1:0,t}function GAe(e){return gw(this,e).get(e)}function qAe(e){return gw(this,e).has(e)}function KAe(e,t){var n=gw(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ml(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ml.prototype.clear=WAe;ml.prototype.delete=VAe;ml.prototype.get=GAe;ml.prototype.has=qAe;ml.prototype.set=KAe;var YAe="Expected a function";function J0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(YAe);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var i=e.apply(this,r);return n.cache=a.set(s,i)||a,i};return n.cache=new(J0.Cache||ml),n}J0.Cache=ml;var QAe=500;function XAe(e){var t=J0(e,function(r){return n.size===QAe&&n.clear(),r}),n=t.cache;return t}var ZAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JAe=/\\(\\)?/g,eje=XAe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ZAe,function(n,r,s,a){t.push(s?a.replace(JAe,"$1"):r||n)}),t});function tje(e){return e==null?"":ZZ(e)}function vw(e,t){return Na(e)?e:xN(e,t)?[e]:eje(tje(e))}function e1(e){if(typeof e=="string"||mw(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function bN(e,t){t=vw(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[e1(t[n++])];return n&&n==r?e:void 0}function nje(e,t,n){var r=e==null?void 0:bN(e,t);return r===void 0?n:r}function wN(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var VD=Ta?Ta.isConcatSpreadable:void 0;function rje(e){return Na(e)||gN(e)||!!(VD&&e&&e[VD])}function sje(e,t,n,r,s){var a=-1,i=e.length;for(n||(n=rje),s||(s=[]);++a<i;){var o=e[a];n(o)&&wN(s,o)}return s}var oJ=iJ(Object.getPrototypeOf,Object);function aje(){this.__data__=new hl,this.size=0}function ije(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function oje(e){return this.__data__.get(e)}function lje(e){return this.__data__.has(e)}var cje=200;function uje(e,t){var n=this.__data__;if(n instanceof hl){var r=n.__data__;if(!Dg||r.length<cje-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ml(r)}return n.set(e,t),this.size=n.size,this}function ro(e){var t=this.__data__=new hl(e);this.size=t.size}ro.prototype.clear=aje;ro.prototype.delete=ije;ro.prototype.get=oje;ro.prototype.has=lje;ro.prototype.set=uje;var lJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,GD=lJ&&typeof module=="object"&&module&&!module.nodeType&&module,dje=GD&&GD.exports===lJ,qD=dje?wi.Buffer:void 0;qD&&qD.allocUnsafe;function fje(e,t){return e.slice()}function hje(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[s++]=i)}return a}function cJ(){return[]}var mje=Object.prototype,pje=mje.propertyIsEnumerable,KD=Object.getOwnPropertySymbols,uJ=KD?function(e){return e==null?[]:(e=Object(e),hje(KD(e),function(t){return pje.call(e,t)}))}:cJ,gje=Object.getOwnPropertySymbols,vje=gje?function(e){for(var t=[];e;)wN(t,uJ(e)),e=oJ(e);return t}:cJ;function dJ(e,t,n){var r=t(e);return Na(e)?r:wN(r,n(e))}function Bk(e){return dJ(e,yN,uJ)}function yje(e){return dJ(e,_Ae,vje)}var $k=hd(wi,"DataView"),Hk=hd(wi,"Promise"),jf=hd(wi,"Set"),YD="[object Map]",xje="[object Object]",QD="[object Promise]",XD="[object Set]",ZD="[object WeakMap]",JD="[object DataView]",bje=fd($k),wje=fd(Dg),_je=fd(Hk),Cje=fd(jf),Sje=fd(Uk),ni=Kh;($k&&ni(new $k(new ArrayBuffer(1)))!=JD||Dg&&ni(new Dg)!=YD||Hk&&ni(Hk.resolve())!=QD||jf&&ni(new jf)!=XD||Uk&&ni(new Uk)!=ZD)&&(ni=function(e){var t=Kh(e),n=t==xje?e.constructor:void 0,r=n?fd(n):"";if(r)switch(r){case bje:return JD;case wje:return YD;case _je:return QD;case Cje:return XD;case Sje:return ZD}return t});var Eje=Object.prototype,kje=Eje.hasOwnProperty;function Mje(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&kje.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ax=wi.Uint8Array;function _N(e){var t=new e.constructor(e.byteLength);return new ax(t).set(new ax(e)),t}function Tje(e,t){var n=_N(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var Nje=/\w*$/;function Rje(e){var t=new e.constructor(e.source,Nje.exec(e));return t.lastIndex=e.lastIndex,t}var eF=Ta?Ta.prototype:void 0,tF=eF?eF.valueOf:void 0;function Aje(e){return tF?Object(tF.call(e)):{}}function jje(e,t){var n=_N(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var Pje="[object Boolean]",Ije="[object Date]",Oje="[object Map]",Lje="[object Number]",Dje="[object RegExp]",Fje="[object Set]",Uje="[object String]",Bje="[object Symbol]",$je="[object ArrayBuffer]",Hje="[object DataView]",Wje="[object Float32Array]",zje="[object Float64Array]",Vje="[object Int8Array]",Gje="[object Int16Array]",qje="[object Int32Array]",Kje="[object Uint8Array]",Yje="[object Uint8ClampedArray]",Qje="[object Uint16Array]",Xje="[object Uint32Array]";function Zje(e,t,n){var r=e.constructor;switch(t){case $je:return _N(e);case Pje:case Ije:return new r(+e);case Hje:return Tje(e);case Wje:case zje:case Vje:case Gje:case qje:case Kje:case Yje:case Qje:case Xje:return jje(e);case Oje:return new r;case Lje:case Uje:return new r(e);case Dje:return Rje(e);case Fje:return new r;case Bje:return Aje(e)}}function Jje(e){return typeof e.constructor=="function"&&!pN(e)?lRe(oJ(e)):{}}var ePe="[object Map]";function tPe(e){return al(e)&&ni(e)==ePe}var nF=lh&&lh.isMap,nPe=nF?vN(nF):tPe,rPe="[object Set]";function sPe(e){return al(e)&&ni(e)==rPe}var rF=lh&&lh.isSet,aPe=rF?vN(rF):sPe,fJ="[object Arguments]",iPe="[object Array]",oPe="[object Boolean]",lPe="[object Date]",cPe="[object Error]",hJ="[object Function]",uPe="[object GeneratorFunction]",dPe="[object Map]",fPe="[object Number]",mJ="[object Object]",hPe="[object RegExp]",mPe="[object Set]",pPe="[object String]",gPe="[object Symbol]",vPe="[object WeakMap]",yPe="[object ArrayBuffer]",xPe="[object DataView]",bPe="[object Float32Array]",wPe="[object Float64Array]",_Pe="[object Int8Array]",CPe="[object Int16Array]",SPe="[object Int32Array]",EPe="[object Uint8Array]",kPe="[object Uint8ClampedArray]",MPe="[object Uint16Array]",TPe="[object Uint32Array]",mn={};mn[fJ]=mn[iPe]=mn[yPe]=mn[xPe]=mn[oPe]=mn[lPe]=mn[bPe]=mn[wPe]=mn[_Pe]=mn[CPe]=mn[SPe]=mn[dPe]=mn[fPe]=mn[mJ]=mn[hPe]=mn[mPe]=mn[pPe]=mn[gPe]=mn[EPe]=mn[kPe]=mn[MPe]=mn[TPe]=!0;mn[cPe]=mn[hJ]=mn[vPe]=!1;function l2(e,t,n,r,s,a){var i;if(i!==void 0)return i;if(!Ra(e))return e;var o=Na(e);if(o)i=Mje(e);else{var c=ni(e),u=c==hJ||c==uPe;if(sx(e))return fje(e);if(c==mJ||c==fJ||u&&!s)i=u?{}:Jje(e);else{if(!mn[c])return s?e:{};i=Zje(e,c)}}a||(a=new ro);var d=a.get(e);if(d)return d;a.set(e,i),aPe(e)?e.forEach(function(p){i.add(l2(p,t,n,p,e,a))}):nPe(e)&&e.forEach(function(p,g){i.set(g,l2(p,t,n,g,e,a))});var h=Bk,m=o?void 0:h(e);return yRe(m||e,function(p,g){m&&(g=p,p=e[g]),eJ(i,g,l2(p,t,n,g,e,a))}),i}var NPe=1,RPe=4;function Wk(e){return l2(e,NPe|RPe)}var APe="__lodash_hash_undefined__";function jPe(e){return this.__data__.set(e,APe),this}function PPe(e){return this.__data__.has(e)}function Fg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ml;++t<n;)this.add(e[t])}Fg.prototype.add=Fg.prototype.push=jPe;Fg.prototype.has=PPe;function IPe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function pJ(e,t){return e.has(t)}var OPe=1,LPe=2;function gJ(e,t,n,r,s,a){var i=n&OPe,o=e.length,c=t.length;if(o!=c&&!(i&&c>o))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var h=-1,m=!0,p=n&LPe?new Fg:void 0;for(a.set(e,t),a.set(t,e);++h<o;){var g=e[h],v=t[h];if(r)var y=i?r(v,g,h,t,e,a):r(g,v,h,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(p){if(!IPe(t,function(x,b){if(!pJ(p,b)&&(g===x||s(g,x,n,r,a)))return p.push(b)})){m=!1;break}}else if(!(g===v||s(g,v,n,r,a))){m=!1;break}}return a.delete(e),a.delete(t),m}function DPe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function CN(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var FPe=1,UPe=2,BPe="[object Boolean]",$Pe="[object Date]",HPe="[object Error]",WPe="[object Map]",zPe="[object Number]",VPe="[object RegExp]",GPe="[object Set]",qPe="[object String]",KPe="[object Symbol]",YPe="[object ArrayBuffer]",QPe="[object DataView]",sF=Ta?Ta.prototype:void 0,R4=sF?sF.valueOf:void 0;function XPe(e,t,n,r,s,a,i){switch(n){case QPe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YPe:return!(e.byteLength!=t.byteLength||!a(new ax(e),new ax(t)));case BPe:case $Pe:case zPe:return fN(+e,+t);case HPe:return e.name==t.name&&e.message==t.message;case VPe:case qPe:return e==t+"";case WPe:var o=DPe;case GPe:var c=r&FPe;if(o||(o=CN),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=UPe,i.set(e,t);var d=gJ(o(e),o(t),r,s,a,i);return i.delete(e),d;case KPe:if(R4)return R4.call(e)==R4.call(t)}return!1}var ZPe=1,JPe=Object.prototype,eIe=JPe.hasOwnProperty;function tIe(e,t,n,r,s,a){var i=n&ZPe,o=Bk(e),c=o.length,u=Bk(t),d=u.length;if(c!=d&&!i)return!1;for(var h=c;h--;){var m=o[h];if(!(i?m in t:eIe.call(t,m)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=i;++h<c;){m=o[h];var x=e[m],b=t[m];if(r)var w=i?r(b,x,m,t,e,a):r(x,b,m,e,t,a);if(!(w===void 0?x===b||s(x,b,n,r,a):w)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var nIe=1,aF="[object Arguments]",iF="[object Array]",Nv="[object Object]",rIe=Object.prototype,oF=rIe.hasOwnProperty;function sIe(e,t,n,r,s,a){var i=Na(e),o=Na(t),c=i?iF:ni(e),u=o?iF:ni(t);c=c==aF?Nv:c,u=u==aF?Nv:u;var d=c==Nv,h=u==Nv,m=c==u;if(m&&sx(e)){if(!sx(t))return!1;i=!0,d=!1}if(m&&!d)return a||(a=new ro),i||sJ(e)?gJ(e,t,n,r,s,a):XPe(e,t,c,n,r,s,a);if(!(n&nIe)){var p=d&&oF.call(e,"__wrapped__"),g=h&&oF.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,y=g?t.value():t;return a||(a=new ro),s(v,y,n,r,a)}}return m?(a||(a=new ro),tIe(e,t,n,r,s,a)):!1}function yw(e,t,n,r,s){return e===t?!0:e==null||t==null||!al(e)&&!al(t)?e!==e&&t!==t:sIe(e,t,n,r,yw,s)}var aIe=1,iIe=2;function oIe(e,t,n,r){var s=n.length,a=s;if(e==null)return!a;for(e=Object(e);s--;){var i=n[s];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<a;){i=n[s];var o=i[0],c=e[o],u=i[1];if(i[2]){if(c===void 0&&!(o in e))return!1}else{var d=new ro,h;if(!(h===void 0?yw(u,c,aIe|iIe,r,d):h))return!1}}return!0}function vJ(e){return e===e&&!Ra(e)}function lIe(e){for(var t=yN(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,vJ(s)]}return t}function yJ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function cIe(e){var t=lIe(e);return t.length==1&&t[0][2]?yJ(t[0][0],t[0][1]):function(n){return n===e||oIe(n,e,t)}}function uIe(e,t){return e!=null&&t in Object(e)}function dIe(e,t,n){t=vw(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var i=e1(t[r]);if(!(a=e!=null&&n(e,i)))break;e=e[i]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&hN(s)&&dN(i,s)&&(Na(e)||gN(e)))}function fIe(e,t){return e!=null&&dIe(e,t,uIe)}var hIe=1,mIe=2;function pIe(e,t){return xN(e)&&vJ(t)?yJ(e1(e),t):function(n){var r=nje(n,e);return r===void 0&&r===t?fIe(n,e):yw(t,r,hIe|mIe)}}function gIe(e){return function(t){return t?.[e]}}function vIe(e){return function(t){return bN(t,e)}}function yIe(e){return xN(e)?gIe(e1(e)):vIe(e)}function SN(e){return typeof e=="function"?e:e==null?uN:typeof e=="object"?Na(e)?pIe(e[0],e[1]):cIe(e):yIe(e)}var A4=function(){return wi.Date.now()},xIe="Expected a function",bIe=Math.max,wIe=Math.min;function _i(e,t,n){var r,s,a,i,o,c,u=0,d=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(xIe);t=DD(t)||0,Ra(n)&&(d=!!n.leading,h="maxWait"in n,a=h?bIe(DD(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function p(S){var k=r,E=s;return r=s=void 0,u=S,i=e.apply(E,k),i}function g(S){return u=S,o=setTimeout(x,t),d?p(S):i}function v(S){var k=S-c,E=S-u,M=t-k;return h?wIe(M,a-E):M}function y(S){var k=S-c,E=S-u;return c===void 0||k>=t||k<0||h&&E>=a}function x(){var S=A4();if(y(S))return b(S);o=setTimeout(x,v(S))}function b(S){return o=void 0,m&&r?p(S):(r=s=void 0,i)}function w(){o!==void 0&&clearTimeout(o),u=0,r=c=s=o=void 0}function _(){return o===void 0?i:b(A4())}function C(){var S=A4(),k=y(S);if(r=arguments,s=this,c=S,k){if(o===void 0)return g(c);if(h)return clearTimeout(o),o=setTimeout(x,t),p(c)}return o===void 0&&(o=setTimeout(x,t)),i}return C.cancel=w,C.flush=_,C}function lF(e){return al(e)&&mN(e)}function _Ie(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function CIe(e,t){return cN(t,function(n){return e[n]})}function SIe(e){return e==null?[]:CIe(e,yN(e))}function Pf(e,t){return yw(e,t)}function EIe(e,t,n,r){if(!Ra(e))return e;t=vw(t,e);for(var s=-1,a=t.length,i=a-1,o=e;o!=null&&++s<a;){var c=e1(t[s]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(s!=i){var d=o[c];u=void 0,u===void 0&&(u=Ra(d)?d:dN(t[s+1])?[]:{})}eJ(o,c,u),o=o[c]}return e}function kIe(e,t,n){for(var r=-1,s=t.length,a={};++r<s;){var i=t[r],o=bN(e,i);n(o,i)&&EIe(a,vw(i,e),o)}return a}function MIe(e,t){if(e==null)return{};var n=cN(yje(e),function(r){return[r]});return t=SN(t),kIe(e,n,function(r,s){return t(r,s[0])})}var TIe=Math.floor,NIe=Math.random;function RIe(e,t){return e+TIe(NIe()*(t-e+1))}function xJ(e,t){var n=-1,r=e.length,s=r-1;for(t=t===void 0?r:t;++n<t;){var a=RIe(n,s),i=e[a];e[a]=e[n],e[n]=i}return e.length=t,e}function AIe(e){return xJ(uRe(e))}function jIe(e){return xJ(SIe(e))}function bJ(e){var t=Na(e)?AIe:jIe;return t(e)}var PIe="Expected a function";function EN(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(PIe);return Ra(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),_i(e,t,{leading:r,maxWait:t,trailing:s})}var IIe=1/0,OIe=jf&&1/CN(new jf([,-0]))[1]==IIe?function(e){return new jf(e)}:Ln,LIe=200;function kN(e,t,n){var r=-1,s=CRe,a=e.length,i=!0,o=[],c=o;if(a>=LIe){var u=t?null:OIe(e);if(u)return CN(u);i=!1,s=pJ,c=new Fg}else c=t?[]:o;e:for(;++r<a;){var d=e[r],h=t?t(d):d;if(d=d!==0?d:0,i&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),o.push(d)}else s(c,h,n)||(c!==o&&c.push(h),o.push(d))}return o}var DIe=RRe(function(e){var t=_Ie(e);return lF(t)&&(t=void 0),kN(sje(e,1,lF),SN(t))});function cF(e){return e&&e.length?kN(e):[]}function wJ(e,t){return e&&e.length?kN(e,SN(t)):[]}var vp={exports:{}},FIe=vp.exports,uF;function UIe(){return uF||(uF=1,function(e,t){(function(n,r){var s="",a="?",i="function",o="undefined",c="object",u="string",d="major",h="model",m="name",p="type",g="vendor",v="version",y="architecture",x="console",b="mobile",w="tablet",_="smarttv",C="wearable",S="embedded",k=500,E="Amazon",M="Apple",N="ASUS",R="BlackBerry",A="Browser",P="Chrome",O="Edge",I="Firefox",L="Google",F="Huawei",D="LG",B="Microsoft",$="Motorola",W="Opera",X="Samsung",ee="Sharp",ne="Sony",V="Xiaomi",q="Zebra",z="Facebook",te="Chromium OS",Y="Mac OS",Z=function(Le,De){var Ve={};for(var le in Le)De[le]&&De[le].length%2===0?Ve[le]=De[le].concat(Le[le]):Ve[le]=Le[le];return Ve},re=function(Le){for(var De={},Ve=0;Ve<Le.length;Ve++)De[Le[Ve].toUpperCase()]=Le[Ve];return De},G=function(Le,De){return typeof Le===u?oe(De).indexOf(oe(Le))!==-1:!1},oe=function(Le){return Le.toLowerCase()},ae=function(Le){return typeof Le===u?Le.replace(/[^\d\.]/g,s).split(".")[0]:r},ie=function(Le,De){if(typeof Le===u)return Le=Le.replace(/^\s\s*/,s),typeof De===o?Le:Le.substring(0,k)},xe=function(Le,De){for(var Ve=0,le,we,Je,Te,pe,Fe;Ve<De.length&&!pe;){var ht=De[Ve],Pt=De[Ve+1];for(le=we=0;le<ht.length&&!pe&&ht[le];)if(pe=ht[le++].exec(Le),pe)for(Je=0;Je<Pt.length;Je++)Fe=pe[++we],Te=Pt[Je],typeof Te===c&&Te.length>0?Te.length===2?typeof Te[1]==i?this[Te[0]]=Te[1].call(this,Fe):this[Te[0]]=Te[1]:Te.length===3?typeof Te[1]===i&&!(Te[1].exec&&Te[1].test)?this[Te[0]]=Fe?Te[1].call(this,Fe,Te[2]):r:this[Te[0]]=Fe?Fe.replace(Te[1],Te[2]):r:Te.length===4&&(this[Te[0]]=Fe?Te[3].call(this,Fe.replace(Te[1],Te[2])):r):this[Te]=Fe||r;Ve+=2}},de=function(Le,De){for(var Ve in De)if(typeof De[Ve]===c&&De[Ve].length>0){for(var le=0;le<De[Ve].length;le++)if(G(De[Ve][le],Le))return Ve===a?r:Ve}else if(G(De[Ve],Le))return Ve===a?r:Ve;return Le},Se={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},qe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},be={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,W+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,W+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,W]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+A]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+A],v],[/\bfocus\/([\w\.]+)/i],[v,[m,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[v,[m,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+A]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+A],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,X+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,v],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,z],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,P+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,de,Se]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,v],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,oe]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,s,oe]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,oe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[g,X],[p,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[g,X],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[g,M],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[g,M],[p,w]],[/(macintosh);/i],[h,[g,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[g,ee],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[g,F],[p,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[g,F],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[g,V],[p,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[g,V],[p,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[g,"OPPO"],[p,b]],[/\b(opd2\d{3}a?) bui/i],[h,[g,"OPPO"],[p,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[g,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[g,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[g,$],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[g,$],[p,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[g,D],[p,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[g,D],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[g,"Lenovo"],[p,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[g,"Nokia"],[p,b]],[/(pixel c)\b/i],[h,[g,L],[p,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[g,L],[p,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[g,ne],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[g,ne],[p,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[g,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[g,E],[p,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[g,E],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[h,g,[p,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[g,R],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[g,N],[p,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[g,N],[p,b]],[/(nexus 9)/i],[h,[g,"HTC"],[p,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[h,/_/g," "],[p,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[g,"Acer"],[p,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[g,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[g,"Ulefone"],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,h,[p,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,h,[p,w]],[/(surface duo)/i],[h,[g,B],[p,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[g,"Fairphone"],[p,b]],[/(u304aa)/i],[h,[g,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[h,[g,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[h,[g,"RCA"],[p,w]],[/\b(venue[\d ]{2,7}) b/i],[h,[g,"Dell"],[p,w]],[/\b(q(?:mv|ta)\w+) b/i],[h,[g,"Verizon"],[p,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[g,"Barnes & Noble"],[p,w]],[/\b(tm\d{3}\w+) b/i],[h,[g,"NuVision"],[p,w]],[/\b(k88) b/i],[h,[g,"ZTE"],[p,w]],[/\b(nx\d{3}j) b/i],[h,[g,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[h,[g,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[h,[g,"Swiss"],[p,w]],[/\b((zeki)?tb.*\b) b/i],[h,[g,"Zeki"],[p,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],h,[p,w]],[/\b(ns-?\w{0,9}) b/i],[h,[g,"Insignia"],[p,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[g,"NextBook"],[p,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],h,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],h,[p,b]],[/\b(ph-1) /i],[h,[g,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[g,"Envizen"],[p,w]],[/\b(trio[-\w\. ]+) b/i],[h,[g,"MachSpeed"],[p,w]],[/\btu_(1491) b/i],[h,[g,"Rotor"],[p,w]],[/(shield[\w ]+) b/i],[h,[g,"Nvidia"],[p,w]],[/(sprint) (\w+)/i],[g,h,[p,b]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[g,B],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[g,q],[p,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[g,q],[p,b]],[/smart-tv.+(samsung)/i],[g,[p,_]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[g,X],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,D],[p,_]],[/(apple) ?tv/i],[g,[h,M+" TV"],[p,_]],[/crkey/i],[[h,P+"cast"],[g,L],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[h,[g,E],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[g,ee],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[h,[g,ne],[p,_]],[/(mitv-\w{5}) bui/i],[h,[g,V],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[g,h,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,ie],[h,ie],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,h,[p,x]],[/droid.+; (shield) bui/i],[h,[g,"Nvidia"],[p,x]],[/(playstation [345portablevi]+)/i],[h,[g,ne],[p,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[g,B],[p,x]],[/((pebble))app/i],[g,h,[p,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[g,M],[p,C]],[/droid.+; (glass) \d/i],[h,[g,L],[p,C]],[/droid.+; (wt63?0{2,3})\)/i],[h,[g,q],[p,C]],[/(quest( \d| pro)?)/i],[h,[g,z],[p,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[p,S]],[/(aeobc)\b/i],[h,[g,E],[p,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,O+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[v,de,qe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,de,qe],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Y],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,v],[/\(bb(10);/i],[v,[m,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,te],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},ve=function(Le,De){if(typeof Le===c&&(De=Le,Le=r),!(this instanceof ve))return new ve(Le,De).getResult();var Ve=typeof n!==o&&n.navigator?n.navigator:r,le=Le||(Ve&&Ve.userAgent?Ve.userAgent:s),we=Ve&&Ve.userAgentData?Ve.userAgentData:r,Je=De?Z(be,De):be,Te=Ve&&Ve.userAgent==le;return this.getBrowser=function(){var pe={};return pe[m]=r,pe[v]=r,xe.call(pe,le,Je.browser),pe[d]=ae(pe[v]),Te&&Ve&&Ve.brave&&typeof Ve.brave.isBrave==i&&(pe[m]="Brave"),pe},this.getCPU=function(){var pe={};return pe[y]=r,xe.call(pe,le,Je.cpu),pe},this.getDevice=function(){var pe={};return pe[g]=r,pe[h]=r,pe[p]=r,xe.call(pe,le,Je.device),Te&&!pe[p]&&we&&we.mobile&&(pe[p]=b),Te&&pe[h]=="Macintosh"&&Ve&&typeof Ve.standalone!==o&&Ve.maxTouchPoints&&Ve.maxTouchPoints>2&&(pe[h]="iPad",pe[p]=w),pe},this.getEngine=function(){var pe={};return pe[m]=r,pe[v]=r,xe.call(pe,le,Je.engine),pe},this.getOS=function(){var pe={};return pe[m]=r,pe[v]=r,xe.call(pe,le,Je.os),Te&&!pe[m]&&we&&we.platform&&we.platform!="Unknown"&&(pe[m]=we.platform.replace(/chrome os/i,te).replace(/macos/i,Y)),pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return le},this.setUA=function(pe){return le=typeof pe===u&&pe.length>k?ie(pe,k):pe,this},this.setUA(le),this};ve.BROWSER=re([m,v,d]),ve.CPU=re([y]),ve.DEVICE=re([h,g,p,x,b,_,w,C,S]),ve.ENGINE=ve.OS=re([m,v]),e.exports&&(t=e.exports=ve),t.UAParser=ve;var Be=typeof n!==o&&(n.jQuery||n.Zepto);if(Be&&!Be.ua){var We=new ve;Be.ua=We.getResult(),Be.ua.get=function(){return We.getUA()},Be.ua.set=function(Le){We.setUA(Le);var De=We.getResult();for(var Ve in De)Be.ua[Ve]=De[Ve]}}})(typeof window=="object"?window:FIe)}(vp,vp.exports)),vp.exports}UIe();const _J="2.18",CJ="default",BIe="server",$Ie="mweb",HIe="windowsapp",WIe="X-Perplexity-Request-Reason";var zIe=Object.defineProperty,VIe=(e,t,n)=>t in e?zIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rv=(e,t,n)=>VIe(e,typeof t!="symbol"?t+"":t,n);class dF extends Error{constructor(t,n){super(t),Rv(this,"type"),Rv(this,"field"),Rv(this,"value"),Rv(this,"line"),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function j4(e){}function GIe(e){const{onEvent:t=j4,onError:n=j4,onRetry:r=j4,onComment:s}=e;let a="",i=!0,o,c="",u="";function d(v){const y=i?v.replace(/^\xEF\xBB\xBF/,""):v,[x,b]=qIe(`${a}${y}`);for(const w of x)h(w);a=b,i=!1}function h(v){if(v===""){p();return}if(v.startsWith(":")){s&&s(v.slice(v.startsWith(": ")?2:1));return}const y=v.indexOf(":");if(y!==-1){const x=v.slice(0,y),b=v[y+1]===" "?2:1,w=v.slice(y+b);m(x,w,v);return}m(v,"",v)}function m(v,y,x){switch(v){case"event":u=y;break;case"data":c=`${c}${y}
`;break;case"id":o=y.includes("\0")?void 0:y;break;case"retry":/^\d+$/.test(y)?r(parseInt(y,10)):n(new dF(`Invalid \`retry\` value: "${y}"`,{type:"invalid-retry",value:y,line:x}));break;default:n(new dF(`Unknown field "${v.length>20?`${v.slice(0,20)}…`:v}"`,{type:"unknown-field",field:v,value:y,line:x}));break}}function p(){c.length>0&&t({id:o,event:u||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),o=void 0,c="",u=""}function g(v={}){a&&v.consume&&h(a),o=void 0,c="",u="",a=""}return{feed:d,reset:g}}function qIe(e){const t=[];let n="";const r=e.length;for(let s=0;s<r;s++){const a=e[s];a==="\r"&&e[s+1]===`
`?(t.push(n),n="",s++):a==="\r"||a===`
`?(t.push(n),n=""):n+=a}return[t,n]}class fF extends Event{constructor(t,n){var r,s;super(t),this.code=(r=n?.code)!=null?r:void 0,this.message=(s=n?.message)!=null?s:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,n,r){return r(hF(this),n)}[Symbol.for("Deno.customInspect")](t,n){return t(hF(this),n)}}function KIe(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function zk(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(zk).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${zk(e.cause)}`:e.message:`${e}`}function hF(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var SJ=e=>{throw TypeError(e)},MN=(e,t,n)=>t.has(e)||SJ("Cannot "+n),Ut=(e,t,n)=>(MN(e,t,"read from private field"),n?n.call(e):t.get(e)),ir=(e,t,n)=>t.has(e)?SJ("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Pn=(e,t,n,r)=>(MN(e,t,"write to private field"),t.set(e,n),n),Lo=(e,t,n)=>(MN(e,t,"access private method"),n),Os,mu,rf,c2,ix,$p,bf,Hp,Gl,sf,If,af,yp,Za,Vk,Gk,qk,mF,Kk,Yk,xp,Qk,Xk;class u2 extends EventTarget{constructor(t,n){var r,s;super(),ir(this,Za),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,ir(this,Os),ir(this,mu),ir(this,rf),ir(this,c2),ir(this,ix),ir(this,$p),ir(this,bf),ir(this,Hp,null),ir(this,Gl),ir(this,sf),ir(this,If,null),ir(this,af,null),ir(this,yp,null),ir(this,Gk,async a=>{var i;Ut(this,sf).reset();const{body:o,redirected:c,status:u,headers:d}=a;if(u===204){Lo(this,Za,xp).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(c?Pn(this,rf,new URL(a.url)):Pn(this,rf,void 0),u!==200){Lo(this,Za,xp).call(this,`Non-200 status code (${u})`,u);return}if(!(d.get("content-type")||"").startsWith("text/event-stream")){Lo(this,Za,xp).call(this,'Invalid content type, expected "text/event-stream"',u);return}if(Ut(this,Os)===this.CLOSED)return;Pn(this,Os,this.OPEN);const h=new Event("open");if((i=Ut(this,yp))==null||i.call(this,h),this.dispatchEvent(h),typeof o!="object"||!o||!("getReader"in o)){Lo(this,Za,xp).call(this,"Invalid response body, expected a web ReadableStream",u),this.close();return}const m=new TextDecoder,p=o.getReader();let g=!0;do{const{done:v,value:y}=await p.read();y&&Ut(this,sf).feed(m.decode(y,{stream:!v})),v&&(g=!1,Ut(this,sf).reset(),Lo(this,Za,Qk).call(this))}while(g)}),ir(this,qk,a=>{Pn(this,Gl,void 0),!(a.name==="AbortError"||a.type==="aborted")&&Lo(this,Za,Qk).call(this,zk(a))}),ir(this,Kk,a=>{typeof a.id=="string"&&Pn(this,Hp,a.id);const i=new MessageEvent(a.event||"message",{data:a.data,origin:Ut(this,rf)?Ut(this,rf).origin:Ut(this,mu).origin,lastEventId:a.id||""});Ut(this,af)&&(!a.event||a.event==="message")&&Ut(this,af).call(this,i),this.dispatchEvent(i)}),ir(this,Yk,a=>{Pn(this,$p,a)}),ir(this,Xk,()=>{Pn(this,bf,void 0),Ut(this,Os)===this.CONNECTING&&Lo(this,Za,Vk).call(this)});try{if(t instanceof URL)Pn(this,mu,t);else if(typeof t=="string")Pn(this,mu,new URL(t,YIe()));else throw new Error("Invalid URL")}catch{throw KIe("An invalid or illegal string was specified")}Pn(this,sf,GIe({onEvent:Ut(this,Kk),onRetry:Ut(this,Yk)})),Pn(this,Os,this.CONNECTING),Pn(this,$p,3e3),Pn(this,ix,(r=n?.fetch)!=null?r:globalThis.fetch),Pn(this,c2,(s=n?.withCredentials)!=null?s:!1),Lo(this,Za,Vk).call(this)}get readyState(){return Ut(this,Os)}get url(){return Ut(this,mu).href}get withCredentials(){return Ut(this,c2)}get onerror(){return Ut(this,If)}set onerror(t){Pn(this,If,t)}get onmessage(){return Ut(this,af)}set onmessage(t){Pn(this,af,t)}get onopen(){return Ut(this,yp)}set onopen(t){Pn(this,yp,t)}addEventListener(t,n,r){const s=n;super.addEventListener(t,s,r)}removeEventListener(t,n,r){const s=n;super.removeEventListener(t,s,r)}close(){Ut(this,bf)&&clearTimeout(Ut(this,bf)),Ut(this,Os)!==this.CLOSED&&(Ut(this,Gl)&&Ut(this,Gl).abort(),Pn(this,Os,this.CLOSED),Pn(this,Gl,void 0))}}Os=new WeakMap,mu=new WeakMap,rf=new WeakMap,c2=new WeakMap,ix=new WeakMap,$p=new WeakMap,bf=new WeakMap,Hp=new WeakMap,Gl=new WeakMap,sf=new WeakMap,If=new WeakMap,af=new WeakMap,yp=new WeakMap,Za=new WeakSet,Vk=function(){Pn(this,Os,this.CONNECTING),Pn(this,Gl,new AbortController),Ut(this,ix)(Ut(this,mu),Lo(this,Za,mF).call(this)).then(Ut(this,Gk)).catch(Ut(this,qk))},Gk=new WeakMap,qk=new WeakMap,mF=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...Ut(this,Hp)?{"Last-Event-ID":Ut(this,Hp)}:void 0},cache:"no-store",signal:(e=Ut(this,Gl))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},Kk=new WeakMap,Yk=new WeakMap,xp=function(e,t){var n;Ut(this,Os)!==this.CLOSED&&Pn(this,Os,this.CLOSED);const r=new fF("error",{code:t,message:e});(n=Ut(this,If))==null||n.call(this,r),this.dispatchEvent(r)},Qk=function(e,t){var n;if(Ut(this,Os)===this.CLOSED)return;Pn(this,Os,this.CONNECTING);const r=new fF("error",{code:t,message:e});(n=Ut(this,If))==null||n.call(this,r),this.dispatchEvent(r),Pn(this,bf,setTimeout(Ut(this,Xk),Ut(this,$p)))},Xk=new WeakMap,u2.CONNECTING=0,u2.OPEN=1,u2.CLOSED=2;function YIe(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}let P4=!1;const QIe=()=>{const e=f.useRef(new URL(performance.getEntriesByType("navigation").at(0)?.name??"").pathname);document.visibilityState!=="visible"&&(P4=!0);const t=f.useCallback((n=0)=>{let r="ttv";!P4&&e.current===window.location.pathname&&(r="fttv",P4=!0),oi.addDurationVital(r,{startTime:performance.timeOrigin+n,duration:performance.now()-n})},[]);return f.useMemo(()=>({markTTV:t}),[t])},EJ="web.custom_metrics";function XIe(e,t,n){Q.info(EJ,{metricName:e,duration:t,...n})}function ZIe(e={},{transport:t=XIe,nowFromTimeOrigin:n=performance.now()}={}){const r={...e},s=new Set,a=[];function i(c,u={}){const d=performance.now()-n,h={metricName:c,duration:d};return a.push(h),t(c,d,{...r,...u,startTime:n+performance.timeOrigin}),h}function o(c,u){return s.has(c)?a.find(d=>d.metricName===c):(s.add(c),i(c,u))}return{addTimingOnce:o,addTiming:i,getEvents(){return a},setGlobalContext(c){Object.assign(r,c)},getStartTimeFromTimeOrigin(){return n},getAbsoluteStartTime(){return n+performance.timeOrigin}}}function Go(e,{verbose:t,raiseOnError:n,onlyUseRum:r=!0,...s}){const{duration:a,startTime:i,...o}=s;oi.addDurationVital(e,{startTime:i,duration:a,context:o}),r||Q.info(EJ,{metricName:e,...s})}function li(e={},t={}){const n=Date.now();return ZIe(e,{...t,transport:(r,s,a)=>{oi.addDurationVital(r,{startTime:n,duration:s,context:a})}})}function pF(e){Object.entries(e).forEach(([t,n])=>{oi.setGlobalContextProperty(t,n)})}function Ou(e,t={}){oi.addAction(e,t)}function JIe(e){if(!e)return;const{ddApplicationId:t,ddClientToken:n,version:r,env:s,debug:a}=e;!t||!n||(oi.init({applicationId:t,clientToken:n,site:"datadoghq.com",service:"web-nextjs",env:s,version:r,sessionSampleRate:e.sessionSampleRate,sessionReplaySampleRate:e.sessionReplaySampleRate,defaultPrivacyLevel:"mask-user-input",allowedTracingUrls:[/\.perplexity\.ai/,"http://localhost:3000"]}),a&&oi._setDebug(!0))}const kJ=T.memo(({session:e,isWindowsApp:t})=>(f.useEffect(()=>{e&&(oi.setUser({id:e.id,name:e.name??"",email:e.email}),oi.setGlobalContextProperty("isPro",e.isPro),oi.setGlobalContextProperty("isWindowsApp",t))},[e,t]),null));kJ.displayName="MetricsAgent";class Zs extends fl{name="FetcherError"}const eOe="TimeoutError",gF=2,tOe=1200,nOe=e=>{const t=typeof window>"u",n=new URL(e),r=n.searchParams;return r.get("version")||r.set("version",_J),r.get("source")||r.set("source",t?BIe:CJ),n};function rOe(e=tOe){try{const t=globalThis.navigator.userAgent.includes("Mobile")&&!globalThis.navigator.userAgent.includes("iPad");let n="unknown",r=10;return globalThis.navigator.connection&&(n=globalThis.navigator.connection.type,r=globalThis.navigator.connection.downlink),t||r<1||n==="cellular"?e*2:e}catch{return e}}const sOe=e=>{switch(e){case 400:case 403:case 404:return!1;case 401:case 409:return!0;case 500:case 502:case 429:return!0;default:return!1}},aOe=e=>{if(!e)return 0;const t=parseInt(e,10);if(!isNaN(t))return Math.max(0,t*1e3);const r=new Date(e).getTime();return isNaN(r)?0:Math.max(0,r-Date.now())},iOe=(e,t,n)=>n+e*Math.pow(2,t),MJ=async({resource:e,options:t={},timeoutMs:n=rOe(),method:r="GET",body:s,numRetries:a=0,backOffTime:i=1e3,reason:o})=>{const c={...t,method:r,body:s},u=new Headers(c.headers);u.set(WIe,o);let d=()=>null;if(n&&(d=()=>{const y=new DOMException(`fetch ${e} timed out (${n}ms)`,eOe),x=new AbortController;return c.signal=x.signal,setTimeout(()=>x.abort(y),n)}),a>gF){const y=new Zs("FETCHER_MAX_RETRIES_EXCEEDED",{details:{resource:e,numRetries:a,maxRetries:gF}});Q.error(y)}let h=null,m,p=i,g=0,v=0;do{a>0&&v>0&&await new Promise(x=>setTimeout(x,p));const y=d();g=0,m=void 0;try{if(u.set("X-Perplexity-Request-Try-Number",String(v+1)),u.set("X-Perplexity-Request-Endpoint",String(e)),h=await fetch(e,{...c,headers:u}),clearTimeout(y),!h.ok&&sOe(h.status))g=aOe(h.headers.get("Retry-After"));else break}catch(x){m=x}clearTimeout(y),p=iOe(i,v,g),++v}while(v<=a);if(!m&&!h.ok)if(h.status===403&&h.headers.get("cf-mitigated")?.includes("challenge"))m=new Zs("FETCHER_CLOUDFLARE_403_ERROR",{message:"Cloudflare 403 error"});else{const x=(await h.clone().text()).trimStart();(x.startsWith("<!DOCTYPE html")||x.startsWith("<html"))&&(m=new Zs("FETCHER_HTML_STATUS_ERROR",{message:`${h.status} error`,details:{html:x,status:h.status}}))}if(m)throw Q.log(`${c.method} ${e} exception`,m),m._fetchMethod=c.method,m._fetchResource=e,m;return h},oOe=10*60*1e3;async function lOe({url:e,params:t,handlers:n,legacyEvents:r={},headers:s={},signal:a,metrics:i={},timer:o}){const c=r.message??"message",u=r.endOfStream??"end_of_stream",d=r.message&&r.endOfStream,{now:h,...m}=i;o?o.setGlobalContext({path:e.pathname,...m}):o=li({path:e.pathname,...m},{nowFromTimeOrigin:performance.now()});const{addTiming:p,addTimingOnce:g}=o;return p("web.sse.start"),new Promise((v,y)=>{const x=new u2(e,{withCredentials:!0,fetch:(P,O)=>fetch(P,{...O,method:"POST",body:t?JSON.stringify(t):void 0,credentials:"include",signal:a,headers:{"content-type":"application/json",...O?.headers??{},...s}})});let b,w;function _(){w?w=void 0:w=li({path:e.pathname})}function C(){clearTimeout(b),b=setTimeout(()=>{try{x.close()}catch{}finally{A()}y(new Zs("FETCHER_SSE_CHUNK_TIMEOUT",{details:{submitParams:t}}))},oOe)}function S(P){clearTimeout(b);try{x.close()}catch{}finally{A()}P instanceof Zs?y(P):y(new Zs("FETCHER_SSE_ERROR",{cause:P,message:"An error occurred while streaming",details:{submitParams:t}}))}const k=P=>{const O=()=>!navigator.onLine||P.message==="network error";let I="FETCHER_SSE_ERROR";O()?I="FETCHER_SSE_OFFLINE_ERROR":P.code?P.code===403&&(I="FETCHER_CLOUDFLARE_403_ERROR"):I="FETCHER_SSE_NO_STATUS_CODE_ERROR",S(new Zs(I,{cause:P,details:{code:I,message:P.message,type:P.type,submitParams:t}}))},E=()=>{C(),p("web.sse.connection_opened"),n.open?.()},M=P=>{let O;try{g("web.sse.first_message_seen"),_(),C(),O=JSON.parse(P.data)}catch(I){return S(new Zs("FETCHER_SSE_CHUNK_PROCESSING_ERROR",{cause:I,details:{submitParams:t}}))}n.message(O)},N=P=>{let O;try{g("web.sse.first_message_seen"),clearTimeout(b);try{x.close()}catch{}finally{A()}O=JSON.parse(P.data)}catch(I){return S(new Zs("FETCHER_SSE_EOS_ERROR",{cause:I,details:{submitParams:t}}))}d&&n.message(O),p("web.sse.end_of_stream"),v()},R=P=>{let O;try{O=JSON.parse(P.data)}catch(I){return S(new Zs("FETCHER_SSE_INFO_CHUNK_PARSE_ERROR",{cause:I,details:{submitParams:t}}))}n.info?.(O)};x.addEventListener("error",k),x.addEventListener("open",E),x.addEventListener(c,M),x.addEventListener(u,N),x.addEventListener("info",R);const A=()=>{x.removeEventListener("error",k),x.removeEventListener("open",E),x.removeEventListener(c,M),x.removeEventListener(u,N),x.removeEventListener("info",R)};C()}).catch(v=>{throw v instanceof Error&&(v.cause?.code??0)>0||Q.error("SSE error",v,{path:e.pathname}),v})}const cOe=(e,t)=>{const n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,"");return new URL(r,n).toString()},TJ=(e,t)=>e?$Ie:t?HIe:CJ;var or={};const uOe="https://testing.i.perplexity.ai",dOe=e=>{const t=new URL(e);return globalThis.location.hostname.includes("localhost")||(t.protocol=globalThis.location.protocol,t.hostname=globalThis.location.hostname),t.toString()};function TN(){return or.NEXT_PUBLIC_REST_ASYNC_SERVER_URL||dOe(uOe)}const fOe=()=>{const e={};return or.NEXT_PUBLIC_CF_ACCESS_ID&&(e["CF-Access-Client-Id"]=or.NEXT_PUBLIC_CF_ACCESS_ID),or.NEXT_PUBLIC_CF_ACCESS_SECRET&&(e["CF-Access-Client-Secret"]=or.NEXT_PUBLIC_CF_ACCESS_SECRET),or.NEXT_PUBLIC_PPL_DEV_HEADER_NAME&&or.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN&&(e[or.NEXT_PUBLIC_PPL_DEV_HEADER_NAME]=or.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN),or.PPL_VERCEL_SSR_CLIENT_HEADER_NAME&&or.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN&&(e[or.PPL_VERCEL_SSR_CLIENT_HEADER_NAME]=or.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN),or.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME&&or.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN&&(e[or.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME]=or.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN),e},qa={jwt:null,ttl:0,promise:void 0},NJ=async()=>{if(qa.ttl>Date.now())return qa.jwt;try{qa.promise=qa.promise??fetch("/api/auth/token",{headers:{"X-Token-Type":"Perplexity-JWT"}}).then(e=>e.json()).then(e=>e.perplexity_jwt),qa.jwt=await qa.promise,qa.ttl=Date.now()+1e3*60*9}catch(e){qa.jwt=null,qa.ttl=0,Q.warn("Error getting dev token:",e)}finally{qa.promise=void 0}return qa.jwt},hOe=({clientHeaders:e,isMobile:t,isWindowsApp:n})=>{const r=TJ(t,n),s=e instanceof Headers?new Headers(e):new Headers(Object.entries(e??{}).filter(i=>i[1]!==void 0).map(([i,o])=>[i,Array.isArray(o)?o.join(", "):o])),a=new Headers({...fOe(),"X-App-ApiClient":r,"X-App-ApiVersion":_J});return s.forEach((i,o)=>{a.set(o,i)}),a};async function Nn({urlPath:e,timeoutMs:t,method:n,body:r,headers:s,baseUrlOverride:a,redirect:i,numRetries:o,backOffTime:c,reason:u}){const d=navigator.userAgent.includes("Mobile"),h=navigator.userAgent.includes("WindowsApp"),m=hOe({clientHeaders:s,isMobile:d,isWindowsApp:h}),p={headers:m,redirect:i,credentials:"same-origin"},g=globalThis.location.hostname.includes("localhost")??!1,v=or.NEXT_PUBLIC_USE_TOKEN_AUTH_FOR_SOCKET;if((g||v)&&p.headers){const b=await NJ();m.set("authorization",`Bearer ${b}`)}g&&(p.credentials="include");const y=a??TN(),x=nOe(cOe(y,e));return MJ({resource:x,options:p,timeoutMs:t,method:n,body:r,numRetries:o,backOffTime:c,reason:u})}async function mOe({url:e,headers:t,...n}){const r=new URL(e,TN()),s=globalThis.location.hostname.includes("localhost")??!1,a=or.NEXT_PUBLIC_USE_TOKEN_AUTH_FOR_SOCKET,i={};let o="";return(s||a)&&(o=`Bearer ${await NJ()}`,i.authorization=o),lOe({url:r,headers:{...t,...i},...n})}const pOe=/\{[^{}]+\}/g,gOe=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function vOe(){return Math.random().toString(36).slice(2,11)}function yOe(e){let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:s,bodySerializer:a,headers:i,requestInitExt:o=void 0,...c}={...e};o=gOe()?o:void 0,t=yF(t);const u=[];async function d(h,m){const{baseUrl:p,fetch:g=r,Request:v=n,headers:y,params:x={},parseAs:b="json",querySerializer:w,bodySerializer:_=a??bOe,body:C,...S}=m||{};p&&(t=yF(p));let k=typeof s=="function"?s:vF(s);w&&(k=typeof w=="function"?w:vF({...typeof s=="object"?s:{},...w}));const E=C===void 0?void 0:_(C),M=E===void 0||E instanceof FormData?{}:{"Content-Type":"application/json"},N={redirect:"follow",...c,...S,body:E,headers:_Oe(M,i,y,x.header)};let R,A,P=new n(wOe(h,{baseUrl:t,params:x,querySerializer:k}),N),O;for(const L in S)L in P||(P[L]=S[L]);if(u.length){R=vOe(),A=Object.freeze({baseUrl:t,fetch:g,parseAs:b,querySerializer:k,bodySerializer:_});for(const L of u)if(L&&typeof L=="object"&&typeof L.onRequest=="function"){const F=await L.onRequest({request:P,schemaPath:h,params:x,options:A,id:R});if(F)if(F instanceof n)P=F;else if(F instanceof Response){O=F;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!O){try{O=await g(P,o)}catch(L){let F=L;if(u.length)for(let D=u.length-1;D>=0;D--){const B=u[D];if(B&&typeof B=="object"&&typeof B.onError=="function"){const $=await B.onError({request:P,error:F,schemaPath:h,params:x,options:A,id:R});if($){if($ instanceof Response){F=void 0,O=$;break}if($ instanceof Error){F=$;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(F)throw F}if(u.length)for(let L=u.length-1;L>=0;L--){const F=u[L];if(F&&typeof F=="object"&&typeof F.onResponse=="function"){const D=await F.onResponse({request:P,response:O,schemaPath:h,params:x,options:A,id:R});if(D){if(!(D instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");O=D}}}}if(O.status===204||O.headers.get("Content-Length")==="0")return O.ok?{data:void 0,response:O}:{error:void 0,response:O};if(O.ok)return b==="stream"?{data:O.body,response:O}:{data:await O[b](),response:O};let I=await O.text();try{I=JSON.parse(I)}catch{}return{error:I,response:O}}return{request(h,m,p){return d(m,{...p,method:h.toUpperCase()})},GET(h,m){return d(h,{...m,method:"GET"})},PUT(h,m){return d(h,{...m,method:"PUT"})},POST(h,m){return d(h,{...m,method:"POST"})},DELETE(h,m){return d(h,{...m,method:"DELETE"})},OPTIONS(h,m){return d(h,{...m,method:"OPTIONS"})},HEAD(h,m){return d(h,{...m,method:"HEAD"})},PATCH(h,m){return d(h,{...m,method:"PATCH"})},TRACE(h,m){return d(h,{...m,method:"TRACE"})},use(...h){for(const m of h)if(m){if(typeof m!="object"||!("onRequest"in m||"onResponse"in m||"onError"in m))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");u.push(m)}},eject(...h){for(const m of h){const p=u.indexOf(m);p!==-1&&u.splice(p,1)}}}}function xw(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${n?.allowReserved===!0?t:encodeURIComponent(t)}`}function RJ(e,t,n){if(!t||typeof t!="object")return"";const r=[],s={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const o in t)r.push(o,n.allowReserved===!0?t[o]:encodeURIComponent(t[o]));const i=r.join(",");switch(n.style){case"form":return`${e}=${i}`;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return i}}for(const i in t){const o=n.style==="deepObject"?`${e}[${i}]`:i;r.push(xw(o,t[i],n))}const a=r.join(s);return n.style==="label"||n.style==="matrix"?`${s}${a}`:a}function AJ(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const a={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",i=(n.allowReserved===!0?t:t.map(o=>encodeURIComponent(o))).join(a);switch(n.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return`${e}=${i}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",s=[];for(const a of t)n.style==="simple"||n.style==="label"?s.push(n.allowReserved===!0?a:encodeURIComponent(a)):s.push(xw(e,a,n));return n.style==="label"||n.style==="matrix"?`${r}${s.join(r)}`:s.join(r)}function vF(e){return function(n){const r=[];if(n&&typeof n=="object")for(const s in n){const a=n[s];if(a!=null){if(Array.isArray(a)){if(a.length===0)continue;r.push(AJ(s,a,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof a=="object"){r.push(RJ(s,a,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(xw(s,a,e))}}return r.join("&")}}function xOe(e,t){let n=e;for(const r of e.match(pOe)??[]){let s=r.substring(1,r.length-1),a=!1,i="simple";if(s.endsWith("*")&&(a=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(i="label",s=s.substring(1)):s.startsWith(";")&&(i="matrix",s=s.substring(1)),!t||t[s]===void 0||t[s]===null)continue;const o=t[s];if(Array.isArray(o)){n=n.replace(r,AJ(s,o,{style:i,explode:a}));continue}if(typeof o=="object"){n=n.replace(r,RJ(s,o,{style:i,explode:a}));continue}if(i==="matrix"){n=n.replace(r,`;${xw(s,o)}`);continue}n=n.replace(r,i==="label"?`.${encodeURIComponent(o)}`:encodeURIComponent(o))}return n}function bOe(e){return e instanceof FormData?e:JSON.stringify(e)}function wOe(e,t){let n=`${t.baseUrl}${e}`;t.params?.path&&(n=xOe(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function _Oe(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[s,a]of r)if(a===null)t.delete(s);else if(Array.isArray(a))for(const i of a)t.append(s,i);else a!==void 0&&t.set(s,a)}return t}function yF(e){return e.endsWith("/")?e.substring(0,e.length-1):e}function COe(e){return yOe(e)}const Yc="x-perplexity-request-reason",SOe=()=>{const e=COe({baseUrl:"https://perplexity.ai/",fetch:async t=>{const n=new URL(t.url),r=n.pathname,s=n.searchParams,a=await t.text(),i=t.headers.get(Yc)??"typedRestAsyncClient";return Nn({urlPath:s.size>0?`${r}?${s.toString()}`:r,method:t.method,body:a||void 0,headers:t.headers,timeoutMs:t.timeoutMs,numRetries:t.numRetries,backOffTime:t.backOffTime,reason:i})}});return{...e,GET:(t,n,r)=>e.GET(t,{...r||{},headers:{...r?.headers||{},[Yc]:n}}),POST:(t,n,r)=>e.POST(t,{...r||{},headers:{...r?.headers||{},[Yc]:n}}),PUT:(t,n,r)=>e.PUT(t,{...r||{},headers:{...r?.headers||{},[Yc]:n}}),PATCH:(t,n,r)=>e.PATCH(t,{...r||{},headers:{...r?.headers||{},[Yc]:n}}),DELETE:(t,n,r)=>e.DELETE(t,{...r||{},headers:{...r?.headers||{},[Yc]:n}}),SSE:(t,n,{path:r,...s})=>(r&&Object.entries(r).forEach(([a,i])=>{t=t.replace(`{${a}}`,i)}),mOe({url:t,...s||{},headers:{...s?.headers||{},[Yc]:n}}))}},J=SOe(),ds={DEFAULT:1200,LOW:2500,MEDIUM:5e3,HIGH:1e4,VERY_HIGH:3e4,EXREMELY_HIGH:9e4,NONE:0};class Me extends fl{name="ApiClientsError"}const EOe=e=>e.trim().replace(/\/+$/,"").replace(/^(?:https?:\/\/)?(?:www\.)?/,""),sLt=e=>!!new RegExp("^((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})(\\/[\\w\\-._~:/@!$&'()*+,;=%.]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e);function $s(e){const t=/(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*(?:\.[a-zA-Z]{2,})?|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::\d+)?/,n=e.match(t);return n&&n.length>0?n[1]||n[0]:"unknown"}function jJ(e){const t=$s(e);return t==="unknown"?"unknown":t.replace(/\.[^.]*$/,"")}function NN(e){return e.includes("calendar.google.com")||e.includes("google.com/calendar")?"https://calendar.google.com":e.includes("mail.google.com")||e.includes("google.com/mail")?"https://mail.google.com":e.startsWith("chrome://")?"www.perplexity.ai":$s(e)}function aLt(e){return e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`}function pl(e){const t=["(?:youtube?\\.com\\/","(?:[^/\\n\\s]+\\/\\S+\\/","|(?:v|e(?:mbed)?)\\/","|\\S*?[?&]v=",")","|youtu\\.be\\/",")([a-zA-Z0-9_-]{11})"].join(""),n=new RegExp(t),r=e.match(n);if(r&&r[1].length==11)return r[1]}const iLt=e=>e.indexOf("unsplash.com")>-1;function Wp(e){return e.startsWith("https://pplx-res.cloudinary.com/")||e.startsWith("https://api.cloudinary.com/v1_1/pplx/image/download")}function oLt(e){return e.includes("code-interpreter-files.s3.amazonaws.com")||e.includes("pplx_code_interpreter")}function lLt(e){return e.includes("user-gen-media-assets")}function Zk(e){return e.replace(/\/s--[^/]+--\/v\d+\//,"/")}function RN(e){return(!e.is_attachment||e.meta_data?.connection_type)&&!!e.url&&!pl(e.url)&&!Wp(e.url)&&!e.is_memory&&!e.is_conversation_history}const kOe=e=>{try{const r=new URL(e).pathname.replace(/^\//,"").split("/"),s=r[r.length-1];return decodeURIComponent(s)}catch{return"File"}},cLt=e=>{const t=e,n=t.indexOf("/"),r=Math.max(23,n+16);return t.length>r?t.substring(0,r-1)+"…":t},uLt=e=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`;function PJ(e,t){let n=e;const r=e.match(/{([^}]+)}/g)||[];for(const s of r){const a=s.slice(1,-1);t[a]!==void 0?n=n.replace(s,t[a]):n=n.replace(s,"")}try{return new URL(n).toString()}catch{return n}}function dLt(e){return e.includes("https://openai.com/index/image-generation-api/")}const fLt=async e=>{const t=[];return await Promise.all(e.map(async n=>{try{(await fetch(n,{method:"HEAD"})).ok&&t.push(n)}catch(r){console.debug(`URL ${n} is not reachable:`,r)}})),t},AN=e=>{try{const t=new URL(e);return["AWSAccessKeyId","Signature","Expires"].every(n=>t.searchParams.has(n))}catch{return!1}},Jk=e=>{if(!e)return"";const t=e.indexOf("?");return(t===-1?e:e.substring(0,t)).replace(/\/+$/,"")},zp={COPILOT:"COPILOT",ARTICLE:"ARTICLE"},MOe={IN_PROGRESS:"IN_PROGRESS"},Ud={CLICK:"CLICK",FILL:"FILL",SEARCH:"SEARCH",NAVIGATE:"NAVIGATE",SCROLL_PAGE:"SCROLL_PAGE",WAIT:"WAIT"},eM={DOWN:"DOWN"},I4={HISTORY:"HISTORY",OPEN_TABS:"OPEN_TABS",RECENTLY_CLOSED_TABS:"RECENTLY_CLOSED_TABS"},hLt={LOGIN:"LOGIN"},Hm={IN_THREAD:"IN_THREAD",SIDEBAR:"SIDEBAR",MODAL:"MODAL",IN_THREAD_BOTTOM:"IN_THREAD_BOTTOM",IN_THREAD_INPUT:"IN_THREAD_INPUT"},Qc={PRO_UPGRADE:"PRO_UPGRADE",SIGN_UP_OR_LOGIN:"SIGN_UP_OR_LOGIN",REWRITE_ANSWER:"REWRITE_ANSWER",PERMALINK:"PERMALINK",CONNECTOR:"CONNECTOR",THREAD_TO_SPACE:"THREAD_TO_SPACE",SET_DEFAULT_BROWSER:"SET_DEFAULT_BROWSER"},xF={PRIMARY_COLOR:"PRIMARY_COLOR",MAX_COLOR:"MAX_COLOR"},TOe={PROMPT_INPUT:"PROMPT_INPUT"},ql={CODE_ASSET:"CODE_ASSET",CHART:"CHART",CODE_FILE:"CODE_FILE",APP:"APP",GENERATED_IMAGE:"GENERATED_IMAGE",GENERATED_VIDEO:"GENERATED_VIDEO"},O4={BROWSER_HISTORY:"BROWSER_HISTORY",OPEN_TAB:"OPEN_TAB",RECENTLY_CLOSED_TAB:"RECENTLY_CLOSED_TAB"},Cs={PENDING:"PENDING",COMPLETED:"COMPLETED",FAILED:"FAILED",STAGED:"STAGED"},ox={NONE:"NONE",INCOGNITO:"INCOGNITO"},bF={FULL:"FULL",STREAMING:"STREAMING"},Wm={IN_PROGRESS:"IN_PROGRESS",DONE:"DONE"},mLt={CALENDAR_EVENT:"CALENDAR_EVENT",PLACE_CARD:"PLACE_CARD",SHOPPING_CARD:"SHOPPING_CARD",CALENDAR_ACTION:"CALENDAR_ACTION"},Ho={SELECTION_STATUS_UNSPECIFIED:"SELECTION_STATUS_UNSPECIFIED",UNSELECTED:"UNSELECTED",SELECTED:"SELECTED",TIE:"TIE"},lx={MEDIUM:"MEDIUM",HIGH:"HIGH"},NOe={HOTELS:"HOTELS",SHOPPING:"SHOPPING",JOBS:"JOBS",IMAGE:"IMAGE",VIDEO:"VIDEO",SOURCES:"SOURCES",MAPS:"MAPS",ASSETS:"ASSETS",APPS:"APPS",TASKS:"TASKS",SEARCH:"SEARCH"},ROe="pplx.comet-device-id",AOe="comet_browser";function tl(){return!!gl()}const gl=J0(function(){const t=en(AOe);if(t)try{return{device_id:en(ROe),...JSON.parse(t)}}catch{return}},()=>Math.floor(Date.now()/(6*1e4))),jOe=(e,t="selected_by_user_text")=>e?`
<${t}>
<selection_timestamp>${new Date(e.timestamp).toLocaleString()}</selection_timestamp>
${e.text}
</${t}>`:"",POe=(e,t,n,r)=>{if(!e)return;const s=jOe(t.userSelection);if(n.status==="fulfilled"&&n.value?.content){const{markdown:a="",url:i="",title:o="",og_meta:c={},id:u}=n.value.content;return{content:[a.slice(0,r-s.length)+s],url:i,title:o,content_type:"markdown",content_origin:"current_tab",og_title:c?.title,og_description:c?.description,tab_id:String(u)}}return{content:[],url:t.sourceTabUrl,title:t.sourceTabTitle,content_type:"markdown",content_origin:"current_tab"}},IOe=(e,t,n)=>{const r=[];return e.forEach(s=>{const a=t.status==="fulfilled"&&t.value.contents?.find(i=>i.id===s.id);if(!a){r.push({tab_id:String(s.id),content:[],url:s.url,title:"",content_type:"markdown",content_origin:"open_tab"});return}r.push({tab_id:String(a.id),content:[(a.markdown??"").slice(0,n)],url:a.url??"",title:a.title??"",content_type:"markdown",content_origin:"open_tab",og_title:a.og_meta?.title,og_description:a.og_meta?.description})}),r},OOe=async({clientPayloadCacheKey:e,cometBrowser:t,maxChars:n,includeSidecar:r,attachedTabs:s,reason:a,cometState:i})=>{if(!t)return;const o=[],c=gl(),u={contextType:"runtime",queryContextTimeMs:0,processContextTimeMs:0,getNavigationItemsTimeMs:null,filteredItemsCount:null,version:c.browser_version,mainExtVersion:c.agent_extension_version},d=li({context_type:u?.contextType,browser_version:u?.version,main_ext_version:u?.mainExtVersion,content_type:u?.contentType});try{const[h,m]=await Promise.allSettled([r?t.GetSidecarContext({key:e}):Promise.resolve(void 0),t.GetContent({key:e,pages:[...s]})]),p=POe(r,i,h,n);p&&o.push(p);const g=IOe(s,m,n);o.push(...g),u.queryContextTimeMs=performance.now()-d.getStartTimeFromTimeOrigin();const{error:v}=await J.POST("/rest/browser/client_payload",a,{backOffTime:100,numRetries:2,body:{client_payload_cache_key:e,client_context:o||[],client_navigation:[],metadata:u}});if(d.addTiming("browser.client_context.overall_time_ms"),v)throw new Me("API_CLIENTS_ERROR",{details:{clientPayloadCacheKey:e},cause:v})}catch(h){Q.error("Error sending client payload for cache key ",e,h)}},LOe=async({url:e,cometBrowser:t,stepUuid:n,extraHeaders:r,reason:s})=>{const a=t.openTab({url:e});await Xl(a,n,r,s)},DOe=async({cometBrowser:e,maxUrls:t=20})=>{if(e)try{const n=await e.getTopMostVisitedUrls({maxUrls:t},"get-top-most-urls-for-ntp");return n.is_success?n.mostVisitedUrls:void 0}catch(n){Q.error("Error fetching top most urls browser",n);return}},IJ=async(e,t,n)=>{try{const{error:r}=await J.POST("/rest/browser/tool_failure",n,{body:{client_payload_cache_key:e.clientPayloadCacheKey,error_type:e.errorType,error_msg:e.errorMsg},backOffTime:100,numRetries:2,headers:t});if(r)throw new Me("API_CLIENTS_ERROR",{details:{clientPayloadCacheKey:e.clientPayloadCacheKey},cause:r})}catch(r){Q.error("Error while sending a failure of tool",r)}},Xl=async(e,t,n,r)=>{try{const s=await e,{error:a}=await J.POST("/rest/browser/tool_result",r,{body:{client_payload_cache_key:t,payload:s},backOffTime:100,numRetries:2,headers:n});if(a)throw new Me("API_CLIENTS_ERROR",{details:{clientPayloadCacheKey:t},cause:a})}catch(s){const i=s&&s.message||`sendToolResult error: ${s}`,o="errorType"in s?s:{errorType:"unhandled",errorMsg:i};return Q.error("Error while sending tool result",o.errorType,o.errorMsg),IJ({clientPayloadCacheKey:t,...o},n,r)}},tM={red:"red",maroon:"blue",orange:"cyan",teal:"green",grey:"grey",brown:"orange",green:"pink",gold:"purple",purple:"red",blue:"yellow"},wF=Object.fromEntries(Object.entries(tM).map(([e,t])=>[t,e])),OJ=e=>wF[e]??wF.grey;async function FOe(e,t,n,r,s){const a=Promise.allSettled(e.map(async i=>t.groupTabs({tabIds:i.tab_ids,collapsed:i.collapsed,color:tM[i.color]??tM.grey,groupId:i.group_id,title:i.title},n,r["X-Request-ID"]))).then(i=>({groups:i.map(o=>{if(o.status=="fulfilled"&&o.value.is_success)return{...o.value.tabGroup,color:OJ(o.value.tabGroup.color)}}).filter(o=>o!==void 0)}));await Xl(a,n,r,s)}async function UOe(e,t,n,r,s){const a=t.closeTabs({tabIds:e.tab_ids},n,r["X-Request-ID"]);await Xl(a,n,r,s)}async function BOe(e,t,n,r,s){const a={[O4.OPEN_TAB]:I4.OPEN_TABS,[O4.RECENTLY_CLOSED_TAB]:I4.RECENTLY_CLOSED_TABS,[O4.BROWSER_HISTORY]:I4.HISTORY},i=e.browser_content_sources.map(c=>a[c]).filter(Boolean),o=t.SearchBrowser({closed_tabs_max_results:e.max_results,history_max_results:e.max_results,open_tabs_max_results:e.max_results,request_id:r["X-Request-ID"],key:n,queries:Array.isArray(e.queries)?[...e.queries]:[],sources:i,start_time:e.start_time?Date.now()-new Date(e.start_time).getTime():void 0,end_time:e.end_time?Date.now()-new Date(e.end_time).getTime():void 0});await Xl(o,n,r,s)}async function _F({result:e,key:t,reason:n}){try{await J.POST("/rest/browser/initial_history_summary",n,{body:{key:t,data:e},backOffTime:100,numRetries:2,headers:{"Content-Type":"application/json"}})}catch(r){Q.error("Error sending client payload for cache key ",r)}}function $Oe({entropyBrowser:e,browserHistorySummaryNumDays:t,browserHistorySummaryMaxResults:n,reason:r}){const{addTiming:s}=li(),a=Hr();return e.getInitialHistorySummary(a,t,n).then(i=>{s("web.frontend.comet_history_summary_v2"),_F({result:i,key:a,reason:r})}).catch(()=>{_F({result:{open_tabs_results:[],history_results:[],closed_tabs_results:[]},key:a,reason:r})}),a}const HOe=async({entropyBrowser:e,url:t})=>{const n=await e.getQuickActions("get-quick-actions-for-sidecar-suggests");return n.is_success?n.buttons.map(({prompt:r})=>({query:r,image:Ug(t)})):[]},WOe=/^\w+:\/\//;let d2=null;const zOe=()=>{if(!tl()||d2!==null)return;const e=new Image;e.onerror=()=>{d2=!1,console.warn("[Comet] chrome://favicon/ is not supported. Using our backend as fallback.")},e.onload=()=>{d2=!0},e.src="chrome://favicon/"},Ug=(e,t=64,n="3x")=>{if(!d2)return`https://www.perplexity.ai/rest/browser/favicon?url=${EOe(e)}`;const r=WOe.test(e)?e:`https://${e}`;let s;try{s=decodeURIComponent(r)}catch{s=r}const a=s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/\s/g,"\\ ");return`chrome://favicon/size/${t}@${n}/${a}`};function CF(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function hc({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,i]=f.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=f.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=f.useRef(!1);f.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,p]=f.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:b,top:w,width:_,height:C,bottom:S,right:k,x:E,y:M}=o.current.element.getBoundingClientRect(),N={left:b,top:w,width:_,height:C,bottom:S,right:k,x:E,y:M};o.current.element instanceof HTMLElement&&r&&(N.height=o.current.element.offsetHeight,N.width=o.current.element.offsetWidth),Object.freeze(N),d.current&&!KOe(o.current.lastBounds,N)&&i(o.current.lastBounds=N)};return[x,u?CF(x,u):x,c?CF(x,c):x]},[i,r,c,u]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",p,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function v(){o.current.element&&(o.current.resizeObserver=new s(p),o.current.resizeObserver.observe(o.current.element),t&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=x=>{!x||x===o.current.element||(g(),o.current.element=x,o.current.scrollContainers=LJ(x),v())};return GOe(p,!!t),VOe(m),f.useEffect(()=>{g(),v()},[t,p,m]),f.useEffect(()=>g,[]),[y,a,h]}function VOe(e){f.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function GOe(e,t){f.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function LJ(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(e);return[n,r,s].some(a=>a==="auto"||a==="scroll")&&t.push(e),[...t,...LJ(e.parentElement)]}const qOe=["x","y","top","bottom","left","right","width","height"],KOe=(e,t)=>qOe.every(n=>e[n]===t[n]),vl=()=>{const[e,t]=T.useState(!1);return T.useEffect(()=>{t(!0)},[]),e},YOe=({children:e,initial:t=!1,mode:n="wait",className:r,transition:s,supportZeroHeight:a=!0,...i})=>{const[o,{height:c}]=hc(),u=vl(),d=a||c>0?c:"auto";return l.jsx(ke.div,{animate:{height:u?d:"auto"},className:r,transition:s,...i,children:l.jsx("div",{ref:o,children:l.jsx(wt,{mode:n,initial:t,children:e})})})},qn=mo(.16,1,.3,1),pLt=mo(.7,0,.84,0),QOe=f.forwardRef(({children:e,initial:t={opacity:0},animate:n={opacity:1},exit:r,transition:s,className:a,style:i},o)=>l.jsx(ke.div,{initial:t,animate:n,exit:r??t,transition:s,ref:o,className:a,style:i,children:e})),md=YOe,mc=QOe,DJ={transparent:"transparent",background:"background",offset:"offset"},XOe="border-borderMain/50 ring-borderMain/50 divide-borderMain/50 dark:divide-borderMainDark/50 dark:ring-borderMainDark/50 dark:border-borderMainDark/50",H=f.memo(({variant:e=DJ.transparent,className:t,onClick:n,onMouseOver:r,onMouseLeave:s,children:a,id:i,bgHover:o,style:c,testId:u,as:d="div",ref:h,noBorder:m,...p})=>{const g=f.useMemo(()=>{const v={transparent:"bg-transparent",super:"bg-super",superLight:"bg-superBG",subtle:"bg-subtle",subtler:"bg-subtler",red:"bg-caution",background:"bg-background",offset:"bg-offset",offsetLoading:"bg-offset/50 animate-pulse",offsetPlus:"bg-offsetPlus",darkOffset:"bg-offsetDark",textColor:"bg-textMain",backToSchoolOrange:"bg-backToSchoolOrange",raised:"bg-background-50 dark:bg-offsetDark",raisedOffset:"bg-raisedOffset",max:"bg-max"},y={offset:"md:hover:bg-offset",offsetPlus:"md:hover:bg-offsetPlus",raisedOffset:"md:hover:bg-raisedOffset",transparent:"md:hover:bg-transparent",super:"md:hover:bg-super"};return U(t,!m&&XOe,o?"transition duration-300":"",v[e]||v.transparent,o&&y[o]||"")},[o,t,e,m]);return f.createElement(d,{id:i,ref:h,className:g,onClick:n,onMouseOver:r,onMouseLeave:s,style:c,"data-testid":u,...p},a)});H.displayName="Box";const ZOe=e=>e?.includes("Chrome")??!1,FJ=e=>(e?.includes("Mobile")&&!e?.includes("iPad"))??!1,JOe=e=>e?.includes("Android")??!1,eLe=e=>(e?.includes("iPhone")||e?.includes("iPad"))??!1,UJ=e=>(e?.includes("Macintosh")||e?.includes("iPad"))??!1,tLe=e=>e?.includes("Mobile Safari")??!1,nLe=e=>e?.includes("Firefox")??!1,t1=e=>e?.includes("WindowsApp")??!1,rLe=e=>e?.includes("FBAN")||e?.includes("FBAV")||e?.includes("Instagram"),sLe=e=>e?.includes("SamsungBrowser")??!1,BJ=f.createContext({isChrome:!1,isMobile:!1,isAndroid:!1,isIOS:!1,isMacOS:!1,isFirefox:!1,isMobileSafari:!1,isWindowsApp:!1,isMetaBrowser:!1,isSamsungBrowser:!1,userAgent:""}),$J=f.memo(({children:e,userAgent:t})=>{const n=f.useMemo(()=>aLe(t),[t]);return l.jsx(BJ.Provider,{value:n,children:e})});$J.displayName="DeviceProvider";const Nt=()=>{const e=f.useContext(BJ);if(!e)throw new Error("useDevice must be used within DeviceContext");return e};function aLe(e=""){return!e&&typeof navigator<"u"&&(e=navigator.userAgent),{isChrome:ZOe(e),isMobile:FJ(e),isAndroid:JOe(e),isIOS:eLe(e),isMacOS:UJ(e),isMobileSafari:tLe(e),isFirefox:nLe(e),isWindowsApp:t1(e),isMetaBrowser:rLe(e),isSamsungBrowser:sLe(e),userAgent:e}}const Mt={tiny:"tiny",small:"small",regular:"regular",large:"large",xl:"xl",none:"none"};var rt;(function(e){e.RETRY_BUTTON="retryButton",e.PRO_PAGE="proPage",e.SHARE_DROPDOWN="shareDropdown",e.PRICING_TABLE="pricingTable",e.TRY_COPILOT="tryCopilot",e.TRY_RESEARCH="tryResearch",e.TRY_LABS="tryLabs",e.PRO_HOVER_CARD_BUTTON="proHoverCardButton",e.PRO_REASONING_SELECTOR="proReasoningSelector",e.LIBRARY_PAGE="libraryPage",e.SPACES_PAGE="spacesPage",e.SPACES_LANDING="spacesLanding",e.SPACES_TEMPLATES="spacesTemplates",e.DISCOVER_TOPICS="discoverTopics",e.COLLECTIONS="collections",e.SPACES="spaces",e.THREAD_SOCIAL="threadSocial",e.MOBILE_SIGNUP="mobileSignup",e.RELATED_QUERIES="relatedQueries",e.FILE_UPLOAD="fileUpload",e.SPACES_FILE_UPLOAD="spacesFileUpload",e.TRY_PRO="tryPro",e.HOMEPAGE_FREE_PLAN_UPSELL="homepageFreePlanUpsell",e.LOGIN_BUTTON="loginButton",e.SIGNUP_BUTTON="signupButton",e.LOGIN_BUTTON_HEADER="loginButtonHeader",e.SIGNUP_BUTTON_HEADER="signupButtonHeader",e.FLOATING_SIGNUP="floatingSignup",e.SIDEBAR_LOGIN_AD="sidebarLoginAd",e.SIDEBAR_PRO_UPSELL="sidebarProUpsell",e.SIDE_TEXT_PRO_UPSELL="sideTextProUpsell",e.VISITOR_GATE="visitorGate",e.SHARED_THREAD_LOGIN_GATE="sharedThreadLoginGate",e.SHARED_THREAD_INSTALL_GATE="sharedThreadInstallGate",e.REQUEST_ACCESS_LOGIN_GATE="requestAccessLoginGate",e.GENERATE_IMAGE="generateImage",e.PPLX_API_PAGE="pplxApiPage",e.FILES_PAGE="filesPage",e.PURCHASES_PAGE="purchasesPage",e.GOOGLE_ONETAP_HOME="oneTapHome",e.GOOGLE_ONETAP_THREAD="oneTapThread",e.GOOGLE_ONETAP_PAGE="oneTapPage",e.GOOGLE_ONETAP_DISCOVER="oneTapDiscover",e.GOOGLE_ONETAP_UNKNOWN="oneTap",e.ONBOARDING="onboarding",e.NEXTAUTH_SIGNIN_PAGE="nextauthSignInPage",e.DISCOUNT_CODE_BANNER="discountCodeBanner",e.PARTNER_CODE="partnerCode",e.ARTICLE_NEW="articleNew",e.THREAD_TO_ARTICLE="threadToArticle",e.ORG_CREATE="orgCreate",e.ORG_PANEL="orgPanel",e.LOSS_AVERSION_MODAL="lossAversionModal",e.NEW_THREAD_BUTTON="newThreadButton",e.NEW_THREAD_SHORTCUT="newThreadShortcut",e.DISCOVER_BUTTON="discoverButton",e.THREAD_BOOKMARK_BUTTON="threadBookmarkButton",e.PAGE_BOOKMARK_BUTTON="pageBookmarkButton",e.DISCOVER_FEED_BOOKMARK_BUTTON="discoverFeedBookmarkButton",e.BACK_TO_SCHOOL="backToSchool",e.WELCOME_BACK="welcomeBack",e.LEFT_HAND_NAV="leftHandNav",e.SETTINGS="settings",e.PRO_FEATURE_LIMIT_BANNER="proFeatureLimitBanner",e.BUY_WITH_PRO_BUTTON="buyWithProButton",e.FINANCE_WATCHLIST="financeWatchlist",e.DOWNLOAD_COMET="downloadComet",e.PROMO_REDEMPTION="promoRedemption",e.CONNECTORS_PAGE="connectorsPage",e.MARKETING_LANDING_PAGE="marketingLandingPage",e.FINANCE_TRANSCRIPT="financeTranscript",e.FINANCE_RESEARCH="financeResearch",e.LJJ_LANDING_PAGE="ljjLandingPage",e.STUDENT_REFERRAL_LANDING_PAGE="studentReferralLandingPage",e.VOICE_TO_VOICE_BUTTON="voiceToVoiceButton",e.PRO_PERKS="proPerks",e.REFERRAL_PAGE="referralPage",e.HOTEL_BOOKING_PAGE="hotelBookingPage",e.SOURCES_VIEW_MORE="sourcesViewMore",e.SPORTS_WATCHLIST="sportsWatchlist",e.IMAGE_GENERATION_IN_THREAD="imageGenerationInThread",e.AUTO_UPGRADE_TO_PRO="autoUpgradeToPro",e.UNSPECIFIED_GENERALIZED_UPSELL="unspecifiedGeneralizedUpsell",e.MILESTONE_ACHIEVED="milestoneAchieved",e.PRO_PERKS_PARTNER_PAGE="proPerksPartnerPage",e.STUDENT_LANDING_PAGE="studentLandingPage",e.TASKS_PAGE="tasksPage",e.MAX_URL_PAYWALL="maxUrlPaywall",e.MODEL_SELECTOR="modelSelector",e.DISCOVER_FEED_LIKE_BUTTON="discoverFeedLikeButton",e.DISCOVER_FEED_DISLIKE_BUTTON="discoverFeedDislikeButton",e.DISCOVER_FEED_TASK_WIDGET="discoverFeedTaskWidget",e.SIDEBAR_BOTTOM_POPOVER="sidebarBottomPopover",e.HOME_SIDEBAR="homeSidebar",e.WHATSAPP_LINK="whatsappLink",e.UPGRADE_MODAL="upgradeModal",e.MAX_PAGE="maxPage",e.COMET_INVITE="cometInvite"})(rt||(rt={}));var mt;(function(e){e[e.OWNER_ONLY=0]="OWNER_ONLY",e[e.PRIVATE_READ=1]="PRIVATE_READ",e[e.PUBLIC_READ=2]="PUBLIC_READ",e[e.PUBLIC_PUBLISHED=3]="PUBLIC_PUBLISHED",e[e.ORG_READ=4]="ORG_READ",e[e.COLLECTION_READ=5]="COLLECTION_READ"})(mt||(mt={}));const Vp={default:{termsOfService:"https://www.perplexity.ai/hub/legal/terms-of-service",enterpriseTermsOfService:"https://www.perplexity.ai/hub/legal/enterprise-terms-of-service",privacyPolicy:"https://www.perplexity.ai/hub/legal/privacy-policy"},"ja-JP":{termsOfService:"https://www.perplexity.ai/ja/hub/legal/terms-of-service",privacyPolicy:"https://www.perplexity.ai/ja/hub/legal/privacy-policy"}},qo=4e4,iLe=2e3,SF=4e3,EF=50,kF=1e3,oLe=10,lLe=4,gLt=10,cLe=5e3,uLe=50,MF=10,TF=1024*1024,f2="https://ppl-ai-public.s3.amazonaws.com/static/img/pplx-default-preview.png",Ac="2.18",HJ="default",jN="entropy",Of="windowsapp",NF=["audio/midi","audio/x-midi","application/msword","application/zip","application/x-tar","application/x-bzip","application/vnd.rar"],PN=[".bash",".bat",".c",".coffee",".conf",".config",".cpp",".cs",".css",".csv",".cxx",".dart",".diff",".docx",".fish",".go",".h",".hpp",".htm",".html",".in",".ini",".ipynb",".java",".js",".json",".jsx",".ksh",".kt",".kts",".latex",".less",".log",".lua",".m",".markdown",".md",".pdf",".php",".pl",".pm",".pptx",".py",".r",".R",".rb",".rmd",".rs",".scala",".sh",".sql",".swift",".t",".tex",".text",".toml",".ts",".tsx",".txt",".xlsx",".xml",".yaml",".yml",".zsh"],dLe=PN.join(","),WJ=[".jpeg",".jpg",".jpe",".jp2",".png",".gif",".bmp",".tiff",".tif",".svg",".webp",".ico",".avif",".heic",".heif"],zJ=[".mp3",".wav",".aiff",".ogg",".flac",".mp4",".mpeg",".mov",".avi",".flv",".mpg",".webm",".wmv",".3gp"],fLe=WJ.join(","),VJ=[...PN,...WJ],hLe=VJ.join(","),mLe=[...PN,...zJ],pLe=mLe.join(","),gLe=[...VJ,...zJ],vLe=gLe.join(","),vLt="",yLt=mt.PUBLIC_READ,xLt=mt.PRIVATE_READ,cx=mt.PRIVATE_READ,bLt="https://chrome.google.com/webstore/detail/perplexity-ai-search/bnaffjbjpgiagpondjlnneblepbdchol",wLt="https://pplx.ai/mac",_Lt="https://www.perplexity.ai/comet",RF="onboarding",AF="uninstall_default_search_extension",yLe="edu_referral_code",xLe="utm_source",bLe="backtoschool",wLe="backtoschool_usc",_Le="backtoschool_cal",CLe="iitm",SLe="krstudents",pd="login-source",jF="login-new",ELe="model_id",PF="max",kLe=5,MLe="/static/images/back-to-school-splash.png",TLe="back-to-school",CLt="/static/images/search-like-never-before-square.jpg",SLt="search-like-never-before",ELt="/static/images/file-search-upsell-demo.png",kLt="file-search-upsell-demo",NLe="/static/images/sidebar-upsell-bg-light.svg",RLe="/static/images/sidebar-upsell-bg-dark.svg",IF="App Promo Background",GJ="/static/images/data-connectors/factset/factset-avatar.svg",qJ="FactSet",KJ="/static/images/data-connectors/crunchbase/crunchbase-avatar.svg",YJ="Crunchbase",QJ="/static/images/data-connectors/wiley/wiley-avatar.svg",XJ="Wiley",ALe="Finance",IN="/static/images/data-connectors/google/google-drive-avatar.svg",jLe="/static/images/data-connectors/google/gmail-avatar.svg",PLe="Gmail",Bg="Google Drive",ZJ="/static/images/data-connectors/google/gcal-gmail-avatar.svg",ux="Gmail with Calendar",ILe="Microsoft",ON="/static/images/data-connectors/microsoft/onedrive-avatar.svg",$g="OneDrive",LN="/static/images/data-connectors/microsoft/sharepoint-avatar.svg",Hg="SharePoint",JJ="/static/images/data-connectors/dropbox/dropbox-avatar.svg",Wg="Dropbox",DN="/static/images/data-connectors/box/box-avatar.svg",FN="Box",eee="/static/images/data-connectors/notion/notion-avatar.svg",tee="Notion",dx="https://images.seeklogo.com/logo-png/58/2/linear-app-icon-logo-png_seeklogo-586481.png",OF="Linear",OLe="/static/images/data-connectors/sidebar-connectors-ad-upsell.png",MLt="/static/images/travel/hotel-pro-banner.png",TLt="Save on hotel bookings with Perplexity Pro",nee="submit-query",wf="search-model-change",zl="source-selection-change",fx="windows-app",LF=fx,LLe="If4YwAeizGHdB3eOhX2JxYcjeCgy0N9c",ch=`${fx}/ask/input`,DF={type:"daily",hour:11,minute:0},FF="pplx.windowsApp.milestoneNotificationShown",DLe="pplx.windowsApp.milestoneLastCheck",UF="pplx.windowsApp.milestoneLastResponse",L4="pplx.windowsApp.microphonePermission",BF={silenceThreshold:30,silenceDuration:5e3},nM="pplx.upload-privacy-accepted",ree=["answer_modes","media_items","knowledge_cards","inline_entity_cards","place_widgets","finance_widgets","sports_widgets","shopping_widgets","jobs_widgets","search_result_widgets","clarification_responses","inline_images","inline_assets","inline_finance_widgets","placeholder_cards","diff_blocks","inline_knowledge_cards","entity_group_v2"],$F=["google_drive","onedrive","sharepoint","dropbox","box","notion"],FLe=["google_drive","onedrive","sharepoint","dropbox","box"],rM="Outlook",see="/static/images/data-connectors/microsoft/outlook-avatar.svg",ULe=768,aee=`(max-width: ${ULe}px)`;function HF(){return typeof window>"u"?!1:window.matchMedia(aee).matches}function Ks(e={}){const t=Lt(),{isWindowsApp:n}=Nt(),r=f.useMemo(()=>!!(n&&t?.includes(ch)),[n,t]),{evaluateOnInit:s=!1}=e,a=iee(),i=BLe(),[o,c]=f.useState(()=>a||i?!0:s?HF():!1);return f.useEffect(()=>{if(typeof window>"u")return;const u=window.matchMedia(aee);function d(){c(u.matches)}return u.addEventListener("change",d),()=>{u.removeEventListener("change",d)}},[a]),f.useEffect(()=>{s||c(HF())},[s]),o&&!r}function iee(e=!1){const{isMobile:t}=Nt();return t??e}function BLe(e=!1){const{isAndroid:t}=Nt();return t??e}function Oe(e={}){const t=Lt(),{isWindowsApp:n}=Nt(),r=Ks(e),s=f.useMemo(()=>!!(n&&t?.includes(ch)),[n,t]),a=f.useMemo(()=>r&&!s,[r,s]),i=iee();return f.useMemo(()=>({isMobileStyle:a,isMobileUserAgent:i}),[a,i])}/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $Le={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t,n,r)=>{const s=f.forwardRef(({color:a="currentColor",size:i=24,stroke:o=2,title:c,className:u,children:d,...h},m)=>f.createElement("svg",{ref:m,...$Le[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:a}:{strokeWidth:o,stroke:a},...h},[c&&f.createElement("title",{key:"svg-title"},c),...r.map(([p,g])=>f.createElement(p,g)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HLe=se("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sM=se("outline","adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WLe=se("outline","affiliate","IconAffiliate",[["path",{d:"M5.931 6.936l1.275 4.249m5.607 5.609l4.251 1.275",key:"svg-0"}],["path",{d:"M11.683 12.317l5.759 -5.759",key:"svg-1"}],["path",{d:"M5.5 5.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0",key:"svg-2"}],["path",{d:"M18.5 5.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0",key:"svg-3"}],["path",{d:"M18.5 18.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0",key:"svg-4"}],["path",{d:"M8.5 15.5m-4.5 0a4.5 4.5 0 1 0 9 0a4.5 4.5 0 1 0 -9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zLe=se("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VLe=se("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GLe=se("outline","arrow-bar-left","IconArrowBarLeft",[["path",{d:"M4 12l10 0",key:"svg-0"}],["path",{d:"M4 12l4 4",key:"svg-1"}],["path",{d:"M4 12l4 -4",key:"svg-2"}],["path",{d:"M20 4l0 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qLe=se("outline","arrow-bar-right","IconArrowBarRight",[["path",{d:"M20 12l-10 0",key:"svg-0"}],["path",{d:"M20 12l-4 4",key:"svg-1"}],["path",{d:"M20 12l-4 -4",key:"svg-2"}],["path",{d:"M4 4l0 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KLe=se("outline","arrow-down-right","IconArrowDownRight",[["path",{d:"M7 7l10 10",key:"svg-0"}],["path",{d:"M17 8l0 9l-9 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oee=se("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aM=se("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var il=se("outline","arrow-up-right","IconArrowUpRight",[["path",{d:"M17 7l-10 10",key:"svg-0"}],["path",{d:"M8 7l9 0l0 9",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lee=se("outline","arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YLe=se("outline","article","IconArticle",[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 8h10",key:"svg-1"}],["path",{d:"M7 12h10",key:"svg-2"}],["path",{d:"M7 16h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QLe=se("outline","baby-carriage","IconBabyCarriage",[["path",{d:"M8 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M2 5h2.5l1.632 4.897a6 6 0 0 0 5.693 4.103h2.675a5.5 5.5 0 0 0 0 -11h-.5v6",key:"svg-2"}],["path",{d:"M6 9h14",key:"svg-3"}],["path",{d:"M9 17l1 -3",key:"svg-4"}],["path",{d:"M16 14l1 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cee=se("outline","ball-american-football","IconBallAmericanFootball",[["path",{d:"M15 9l-6 6",key:"svg-0"}],["path",{d:"M10 12l2 2",key:"svg-1"}],["path",{d:"M12 10l2 2",key:"svg-2"}],["path",{d:"M8 21a5 5 0 0 0 -5 -5",key:"svg-3"}],["path",{d:"M16 3c-7.18 0 -13 5.82 -13 13a5 5 0 0 0 5 5c7.18 0 13 -5.82 13 -13a5 5 0 0 0 -5 -5",key:"svg-4"}],["path",{d:"M16 3a5 5 0 0 0 5 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var h2=se("outline","ball-basketball","IconBallBasketball",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M5.65 5.65l12.7 12.7",key:"svg-1"}],["path",{d:"M5.65 18.35l12.7 -12.7",key:"svg-2"}],["path",{d:"M12 3a9 9 0 0 0 9 9",key:"svg-3"}],["path",{d:"M3 12a9 9 0 0 1 9 9",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bw=se("outline","bell","IconBell",[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uee=se("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hx=se("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XLe=se("outline","bookmark-off","IconBookmarkOff",[["path",{d:"M7.708 3.721a3.982 3.982 0 0 1 2.292 -.721h4a4 4 0 0 1 4 4v7m0 4v3l-6 -4l-6 4v-14c0 -.308 .035 -.609 .1 -.897",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZLe=se("outline","bookmark","IconBookmark",[["path",{d:"M18 7v14l-6 -4l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JLe=se("outline","box-multiple","IconBoxMultiple",[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN=se("outline","brand-android","IconBrandAndroid",[["path",{d:"M4 10l0 6",key:"svg-0"}],["path",{d:"M20 10l0 6",key:"svg-1"}],["path",{d:"M7 9h10v8a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-8a5 5 0 0 1 10 0",key:"svg-2"}],["path",{d:"M8 3l1 2",key:"svg-3"}],["path",{d:"M16 3l-1 2",key:"svg-4"}],["path",{d:"M9 18l0 3",key:"svg-5"}],["path",{d:"M15 18l0 3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eDe=se("outline","brand-dribbble","IconBrandDribbble",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 3.6c5 6 7 10.5 7.5 16.2",key:"svg-1"}],["path",{d:"M6.4 19c3.5 -3.5 6 -6.5 14.5 -6.4",key:"svg-2"}],["path",{d:"M3.1 10.75c5 0 9.814 -.38 15.314 -5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tDe=se("outline","brand-facebook","IconBrandFacebook",[["path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nDe=se("outline","brand-google-drive","IconBrandGoogleDrive",[["path",{d:"M12 10l-6 10l-3 -5l6 -10z",key:"svg-0"}],["path",{d:"M9 15h12l-3 5h-12",key:"svg-1"}],["path",{d:"M15 15l-6 -10h6l6 10z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rDe=se("outline","brand-instagram","IconBrandInstagram",[["path",{d:"M4 8a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M16.5 7.5v.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sDe=se("outline","brand-notion","IconBrandNotion",[["path",{d:"M11 17.5v-6.5h.5l4 6h.5v-6.5",key:"svg-0"}],["path",{d:"M19.077 20.071l-11.53 .887a1 1 0 0 1 -.876 -.397l-2.471 -3.294a1 1 0 0 1 -.2 -.6v-10.741a1 1 0 0 1 .923 -.997l11.389 -.876a2 2 0 0 1 1.262 .33l1.535 1.023a2 2 0 0 1 .891 1.664v12.004a1 1 0 0 1 -.923 .997z",key:"svg-1"}],["path",{d:"M4.5 5.5l2.5 2.5",key:"svg-2"}],["path",{d:"M20 7l-13 1v12.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aDe=se("outline","brand-onedrive","IconBrandOnedrive",[["path",{d:"M18.456 10.45a6.45 6.45 0 0 0 -12 -2.151a4.857 4.857 0 0 0 -4.44 5.241a4.856 4.856 0 0 0 5.236 4.444h10.751a3.771 3.771 0 0 0 3.99 -3.54a3.772 3.772 0 0 0 -3.538 -3.992z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iDe=se("outline","brand-tiktok","IconBrandTiktok",[["path",{d:"M21 7.917v4.034a9.948 9.948 0 0 1 -5 -1.951v4.5a6.5 6.5 0 1 1 -8 -6.326v4.326a2.5 2.5 0 1 0 4 2v-11.5h4.083a6.005 6.005 0 0 0 4.917 4.917z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oDe=se("outline","brand-wikipedia","IconBrandWikipedia",[["path",{d:"M3 4.984h2",key:"svg-0"}],["path",{d:"M8 4.984h2.5",key:"svg-1"}],["path",{d:"M14.5 4.984h2.5",key:"svg-2"}],["path",{d:"M22 4.984h-2",key:"svg-3"}],["path",{d:"M4 4.984l5.455 14.516l6.545 -14.516",key:"svg-4"}],["path",{d:"M9 4.984l6 14.516l6 -14.516",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dee=se("outline","brand-windows","IconBrandWindows",[["path",{d:"M17.8 20l-12 -1.5c-1 -.1 -1.8 -.9 -1.8 -1.9v-9.2c0 -1 .8 -1.8 1.8 -1.9l12 -1.5c1.2 -.1 2.2 .8 2.2 1.9v12.1c0 1.2 -1.1 2.1 -2.2 1.9z",key:"svg-0"}],["path",{d:"M12 5l0 14",key:"svg-1"}],["path",{d:"M4 12l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lDe=se("outline","brand-x","IconBrandX",[["path",{d:"M4 4l11.733 16h4.267l-11.733 -16z",key:"svg-0"}],["path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fee=se("outline","brand-youtube","IconBrandYoutube",[["path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z",key:"svg-0"}],["path",{d:"M10 9l5 3l-5 3z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cDe=se("outline","briefcase-2","IconBriefcase2",[["path",{d:"M3 9a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uDe=se("outline","broadcast","IconBroadcast",[["path",{d:"M18.364 19.364a9 9 0 1 0 -12.728 0",key:"svg-0"}],["path",{d:"M15.536 16.536a5 5 0 1 0 -7.072 0",key:"svg-1"}],["path",{d:"M12 13m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hee=se("outline","browser","IconBrowser",[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dDe=se("outline","brush","IconBrush",[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WF=se("outline","bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fDe=se("outline","building-bank","IconBuildingBank",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M5 6l7 -3l7 3",key:"svg-2"}],["path",{d:"M4 10l0 11",key:"svg-3"}],["path",{d:"M20 10l0 11",key:"svg-4"}],["path",{d:"M8 14l0 3",key:"svg-5"}],["path",{d:"M12 14l0 3",key:"svg-6"}],["path",{d:"M16 14l0 3",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iM=se("outline","building-cog","IconBuildingCog",[["path",{d:"M3 21h9",key:"svg-0"}],["path",{d:"M9 8h1",key:"svg-1"}],["path",{d:"M9 12h1",key:"svg-2"}],["path",{d:"M9 16h1",key:"svg-3"}],["path",{d:"M14 8h1",key:"svg-4"}],["path",{d:"M14 12h1",key:"svg-5"}],["path",{d:"M5 21v-16c0 -.53 .211 -1.039 .586 -1.414c.375 -.375 .884 -.586 1.414 -.586h10c.53 0 1.039 .211 1.414 .586c.375 .375 .586 .884 .586 1.414v7",key:"svg-6"}],["path",{d:"M16 18c0 .53 .211 1.039 .586 1.414c.375 .375 .884 .586 1.414 .586c.53 0 1.039 -.211 1.414 -.586c.375 -.375 .586 -.884 .586 -1.414c0 -.53 -.211 -1.039 -.586 -1.414c-.375 -.375 -.884 -.586 -1.414 -.586c-.53 0 -1.039 .211 -1.414 .586c-.375 .375 -.586 .884 -.586 1.414z",key:"svg-7"}],["path",{d:"M18 14.5v1.5",key:"svg-8"}],["path",{d:"M18 20v1.5",key:"svg-9"}],["path",{d:"M21.032 16.25l-1.299 .75",key:"svg-10"}],["path",{d:"M16.27 19l-1.3 .75",key:"svg-11"}],["path",{d:"M14.97 16.25l1.3 .75",key:"svg-12"}],["path",{d:"M19.733 19l1.3 .75",key:"svg-13"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n1=se("outline","building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mee=se("outline","bulb","IconBulb",[["path",{d:"M3 12h1m8 -9v1m8 8h1m-15.4 -6.4l.7 .7m12.1 -.7l-.7 .7",key:"svg-0"}],["path",{d:"M9 16a5 5 0 1 1 6 0a3.5 3.5 0 0 0 -1 3a2 2 0 0 1 -4 0a3.5 3.5 0 0 0 -1 -3",key:"svg-1"}],["path",{d:"M9.7 17l4.6 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hDe=se("outline","calculator","IconCalculator",[["path",{d:"M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M8 14l0 .01",key:"svg-2"}],["path",{d:"M12 14l0 .01",key:"svg-3"}],["path",{d:"M16 14l0 .01",key:"svg-4"}],["path",{d:"M8 17l0 .01",key:"svg-5"}],["path",{d:"M12 17l0 .01",key:"svg-6"}],["path",{d:"M16 17l0 .01",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var D4=se("outline","calendar-event","IconCalendarEvent",[["path",{d:"M4 5m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l0 4",key:"svg-1"}],["path",{d:"M8 3l0 4",key:"svg-2"}],["path",{d:"M4 11l16 0",key:"svg-3"}],["path",{d:"M8 15h2v2h-2z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww=se("outline","calendar-time","IconCalendarTime",[["path",{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4",key:"svg-0"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M15 3v4",key:"svg-2"}],["path",{d:"M7 3v4",key:"svg-3"}],["path",{d:"M3 11h16",key:"svg-4"}],["path",{d:"M18 16.496v1.504l1 1",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BN=se("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pee=se("outline","camera","IconCamera",[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mDe=se("outline","cash-banknote","IconCashBanknote",[["path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M18 12l.01 0",key:"svg-2"}],["path",{d:"M6 12l.01 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yh=se("outline","chart-bubble","IconChartBubble",[["path",{d:"M6 16m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M16 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14.5 7.5m-4.5 0a4.5 4.5 0 1 0 9 0a4.5 4.5 0 1 0 -9 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pDe=se("outline","chart-dots-3","IconChartDots3",[["path",{d:"M5 7m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M16 15m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M6 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-3"}],["path",{d:"M9 17l5 -1.5",key:"svg-4"}],["path",{d:"M6.5 8.5l7.81 5.37",key:"svg-5"}],["path",{d:"M7 7l8 -1",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var da=se("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ia=se("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gee=se("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wr=se("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vee=se("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yee=se("outline","circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gDe=se("outline","circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vDe=se("outline","clipboard-check","IconClipboardCheck",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yDe=se("outline","clipboard-heart","IconClipboardHeart",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M11.993 16.75l2.747 -2.815a1.9 1.9 0 0 0 0 -2.632a1.775 1.775 0 0 0 -2.56 0l-.183 .188l-.183 -.189a1.775 1.775 0 0 0 -2.56 0a1.899 1.899 0 0 0 0 2.632l2.738 2.825z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xee=se("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oM=se("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xDe=se("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bDe=se("outline","cookie","IconCookie",[["path",{d:"M8 13v.01",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 12v.01",key:"svg-3"}],["path",{d:"M16 14v.01",key:"svg-4"}],["path",{d:"M11 8v.01",key:"svg-5"}],["path",{d:"M13.148 3.476l2.667 1.104a4 4 0 0 0 4.656 6.14l.053 .132a3 3 0 0 1 0 2.296q -.745 1.18 -1.024 1.852q -.283 .684 -.66 2.216a3 3 0 0 1 -1.624 1.623q -1.572 .394 -2.216 .661q -.712 .295 -1.852 1.024a3 3 0 0 1 -2.296 0q -1.203 -.754 -1.852 -1.024q -.707 -.292 -2.216 -.66a3 3 0 0 1 -1.623 -1.624q -.397 -1.577 -.661 -2.216q -.298 -.718 -1.024 -1.852a3 3 0 0 1 0 -2.296q .719 -1.116 1.024 -1.852q .257 -.62 .66 -2.216a3 3 0 0 1 1.624 -1.623q 1.547 -.384 2.216 -.661q .687 -.285 1.852 -1.024a3 3 0 0 1 2.296 0",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $N=se("outline","cpu","IconCpu",[["path",{d:"M5 5m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 9h6v6h-6z",key:"svg-1"}],["path",{d:"M3 10h2",key:"svg-2"}],["path",{d:"M3 14h2",key:"svg-3"}],["path",{d:"M10 3v2",key:"svg-4"}],["path",{d:"M14 3v2",key:"svg-5"}],["path",{d:"M21 10h-2",key:"svg-6"}],["path",{d:"M21 14h-2",key:"svg-7"}],["path",{d:"M14 21v-2",key:"svg-8"}],["path",{d:"M10 21v-2",key:"svg-9"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wDe=se("outline","cricket","IconCricket",[["path",{d:"M11.105 18.79l-1 .992a4.159 4.159 0 0 1 -6.038 -5.715l.157 -.166l8.282 -8.401l1.5 1.5l3.45 -3.391a2.08 2.08 0 0 1 3.057 2.815l-.116 .126l-3.391 3.45l1.5 1.5l-3.668 3.617",key:"svg-0"}],["path",{d:"M10.5 7.5l6 6",key:"svg-1"}],["path",{d:"M14 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _De=se("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CDe=se("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SDe=se("outline","device-laptop","IconDeviceLaptop",[["path",{d:"M3 19l18 0",key:"svg-0"}],["path",{d:"M5 6m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var EDe=se("outline","device-tv","IconDeviceTv",[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l-4 4l-4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kDe=se("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gd=se("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HN=se("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vd=se("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bee=se("outline","exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lM=se("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MDe=se("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TDe=se("outline","file-export","IconFileExport",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wee=se("outline","file-spreadsheet","IconFileSpreadsheet",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M8 11h8v7h-8z",key:"svg-2"}],["path",{d:"M8 15h8",key:"svg-3"}],["path",{d:"M11 11v7",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cM=se("outline","file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NDe=se("outline","file-type-csv","IconFileTypeCsv",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-2"}],["path",{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-3"}],["path",{d:"M16 15l2 6l2 -6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RDe=se("outline","file-type-doc","IconFileTypeDoc",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z",key:"svg-2"}],["path",{d:"M20 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-3"}],["path",{d:"M12.5 15a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1 -3 0v-3a1.5 1.5 0 0 1 1.5 -1.5z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ADe=se("outline","file-type-pdf","IconFileTypePdf",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M17 18h2",key:"svg-3"}],["path",{d:"M20 15h-3v6",key:"svg-4"}],["path",{d:"M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jDe=se("outline","file-type-ppt","IconFileTypePpt",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M11 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-3"}],["path",{d:"M16.5 15h3",key:"svg-4"}],["path",{d:"M18 15v6",key:"svg-5"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PDe=se("outline","file-upload","IconFileUpload",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yd=se("outline","file","IconFile",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IDe=se("outline","files","IconFiles",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ODe=se("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LDe=se("outline","flag","IconFlag",[["path",{d:"M5 5a5 5 0 0 1 7 0a5 5 0 0 0 7 0v9a5 5 0 0 1 -7 0a5 5 0 0 0 -7 0v-9z",key:"svg-0"}],["path",{d:"M5 21v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DDe=se("outline","flame","IconFlame",[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.621 -2.333 5.588c0 3.704 3.134 6.706 7 6.706s7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FDe=se("outline","flask","IconFlask",[["path",{d:"M9 3l6 0",key:"svg-0"}],["path",{d:"M10 9l4 0",key:"svg-1"}],["path",{d:"M10 3v6l-4 11a.7 .7 0 0 0 .5 1h11a.7 .7 0 0 0 .5 -1l-4 -11v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _ee=se("outline","git-fork","IconGitFork",[["path",{d:"M12 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M7 8v2a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M12 12l0 4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UDe=se("outline","globe","IconGlobe",[["path",{d:"M7 9a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M5.75 15a8.015 8.015 0 1 0 9.25 -13",key:"svg-1"}],["path",{d:"M11 17v4",key:"svg-2"}],["path",{d:"M7 21h8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BDe=se("outline","grid-dots","IconGridDots",[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $De=se("outline","hanger","IconHanger",[["path",{d:"M14 6a2 2 0 1 0 -4 0c0 1.667 .67 3 2 4h-.008l7.971 4.428a2 2 0 0 1 1.029 1.749v.823a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-.823a2 2 0 0 1 1.029 -1.749l7.971 -4.428",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HDe=se("outline","heart-handshake","IconHeartHandshake",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}],["path",{d:"M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25",key:"svg-1"}],["path",{d:"M12.5 15.5l2 2",key:"svg-2"}],["path",{d:"M15 13l2 2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uM=se("outline","heart","IconHeart",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WDe=se("outline","horse-toy","IconHorseToy",[["path",{d:"M3.5 17.5c5.667 4.667 11.333 4.667 17 0",key:"svg-0"}],["path",{d:"M19 18.5l-2 -8.5l1 -2l2 1l1.5 -1.5l-2.5 -4.5c-5.052 .218 -5.99 3.133 -7 6h-6a3 3 0 0 0 -3 3",key:"svg-1"}],["path",{d:"M5 18.5l2 -9.5",key:"svg-2"}],["path",{d:"M8 20l2 -5h4l2 5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zDe=se("outline","hourglass-high","IconHourglassHigh",[["path",{d:"M6.5 7h11",key:"svg-0"}],["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cee=se("outline","inbox","IconInbox",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 13h3l3 3h4l3 -3h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VDe=se("outline","key","IconKey",[["path",{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z",key:"svg-0"}],["path",{d:"M15 9h.01",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var F4=se("outline","keyboard","IconKeyboard",[["path",{d:"M2 6m0 2a2 2 0 0 1 2 -2h16a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M6 10l0 .01",key:"svg-1"}],["path",{d:"M10 10l0 .01",key:"svg-2"}],["path",{d:"M14 10l0 .01",key:"svg-3"}],["path",{d:"M18 10l0 .01",key:"svg-4"}],["path",{d:"M6 14l0 .01",key:"svg-5"}],["path",{d:"M18 14l0 .01",key:"svg-6"}],["path",{d:"M10 14l4 .01",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GDe=se("outline","language","IconLanguage",[["path",{d:"M4 5h7",key:"svg-0"}],["path",{d:"M9 3v2c0 4.418 -2.239 8 -5 8",key:"svg-1"}],["path",{d:"M5 9c0 2.144 2.952 3.908 6.7 4",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qDe=se("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KDe=se("outline","layout-grid-add","IconLayoutGridAdd",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 17h6m-3 -3v6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YDe=se("outline","library-photo","IconLibraryPhoto",[["path",{d:"M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1",key:"svg-1"}],["path",{d:"M17 7h.01",key:"svg-2"}],["path",{d:"M7 13l3.644 -3.644a1.21 1.21 0 0 1 1.712 0l3.644 3.644",key:"svg-3"}],["path",{d:"M15 12l1.644 -1.644a1.21 1.21 0 0 1 1.712 0l2.644 2.644",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WN=se("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qh=se("outline","list-search","IconListSearch",[["path",{d:"M15 15m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M18.5 18.5l2.5 2.5",key:"svg-1"}],["path",{d:"M4 6h16",key:"svg-2"}],["path",{d:"M4 12h4",key:"svg-3"}],["path",{d:"M4 18h4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var See=se("outline","loader-2","IconLoader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QDe=se("outline","location","IconLocation",[["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dM=se("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zN=se("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XDe=se("outline","map-pin","IconMapPin",[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZDe=se("outline","map","IconMap",[["path",{d:"M3 7l6 -3l6 3l6 -3v13l-6 3l-6 -3l-6 3v-13",key:"svg-0"}],["path",{d:"M9 4v13",key:"svg-1"}],["path",{d:"M15 7v13",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JDe=se("outline","masks-theater","IconMasksTheater",[["path",{d:"M13.192 9h6.616a2 2 0 0 1 1.992 2.183l-.567 6.182a4 4 0 0 1 -3.983 3.635h-1.5a4 4 0 0 1 -3.983 -3.635l-.567 -6.182a2 2 0 0 1 1.992 -2.183z",key:"svg-0"}],["path",{d:"M15 13h.01",key:"svg-1"}],["path",{d:"M18 13h.01",key:"svg-2"}],["path",{d:"M15 16.5c1 .667 2 .667 3 0",key:"svg-3"}],["path",{d:"M8.632 15.982a4.037 4.037 0 0 1 -.382 .018h-1.5a4 4 0 0 1 -3.983 -3.635l-.567 -6.182a2 2 0 0 1 1.992 -2.183h6.616a2 2 0 0 1 2 2",key:"svg-4"}],["path",{d:"M6 8h.01",key:"svg-5"}],["path",{d:"M9 8h.01",key:"svg-6"}],["path",{d:"M6 12c.764 -.51 1.528 -.63 2.291 -.36",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eFe=se("outline","medicine-syrup","IconMedicineSyrup",[["path",{d:"M8 21h8a1 1 0 0 0 1 -1v-10a3 3 0 0 0 -3 -3h-4a3 3 0 0 0 -3 3v10a1 1 0 0 0 1 1z",key:"svg-0"}],["path",{d:"M10 14h4",key:"svg-1"}],["path",{d:"M12 12v4",key:"svg-2"}],["path",{d:"M10 7v-3a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tFe=se("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nFe=se("outline","message-circle","IconMessageCircle",[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eee=se("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rFe=se("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sFe=se("outline","movie","IconMovie",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 4l0 16",key:"svg-1"}],["path",{d:"M16 4l0 16",key:"svg-2"}],["path",{d:"M4 8l4 0",key:"svg-3"}],["path",{d:"M4 16l4 0",key:"svg-4"}],["path",{d:"M4 12l16 0",key:"svg-5"}],["path",{d:"M16 8l4 0",key:"svg-6"}],["path",{d:"M16 16l4 0",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aFe=se("outline","music","IconMusic",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iFe=se("outline","palette","IconPalette",[["path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25",key:"svg-0"}],["path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VN=se("outline","paperclip","IconPaperclip",[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oFe=se("outline","pdf","IconPdf",[["path",{d:"M10 8v8h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-2z",key:"svg-0"}],["path",{d:"M3 12h2a2 2 0 1 0 0 -4h-2v8",key:"svg-1"}],["path",{d:"M17 12h3",key:"svg-2"}],["path",{d:"M21 8h-4v8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kee=se("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lFe=se("outline","phone","IconPhone",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _w=se("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cFe=se("outline","pig-money","IconPigMoney",[["path",{d:"M15 11v.01",key:"svg-0"}],["path",{d:"M5.173 8.378a3 3 0 1 1 4.656 -1.377",key:"svg-1"}],["path",{d:"M16 4v3.803a6.019 6.019 0 0 1 2.658 3.197h1.341a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-1.342c-.336 .95 -.907 1.8 -1.658 2.473v2.027a1.5 1.5 0 0 1 -3 0v-.583a6.04 6.04 0 0 1 -1 .083h-4a6.04 6.04 0 0 1 -1 -.083v.583a1.5 1.5 0 0 1 -3 0v-2l0 -.027a6 6 0 0 1 4 -10.473h2.5l4.5 -3h0z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uFe=se("outline","pin","IconPin",[["path",{d:"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4",key:"svg-0"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-1"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dFe=se("outline","plane-tilt","IconPlaneTilt",[["path",{d:"M14.5 6.5l3 -2.9a2.05 2.05 0 0 1 2.9 2.9l-2.9 3l2.5 7.5l-2.5 2.55l-3.5 -6.55l-3 3v3l-2 2l-1.5 -4.5l-4.5 -1.5l2 -2h3l3 -3l-6.5 -3.5l2.5 -2.5l7.5 2.5z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cw=se("outline","plane","IconPlane",[["path",{d:"M16 10h4a2 2 0 0 1 0 4h-4l-4 7h-3l2 -7h-4l-2 2h-3l2 -4l-2 -4h3l2 2h4l-2 -7h3z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mee=se("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tr=se("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fFe=se("outline","question-mark","IconQuestionMark",[["path",{d:"M8 8a3.5 3 0 0 1 3.5 -3h1a3.5 3 0 0 1 3.5 3a3 3 0 0 1 -2 3a3 4 0 0 0 -2 4",key:"svg-0"}],["path",{d:"M12 19l0 .01",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tee=se("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hFe=se("outline","repeat","IconRepeat",[["path",{d:"M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3",key:"svg-0"}],["path",{d:"M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mFe=se("outline","report-money","IconReportMoney",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M14 11h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M12 17v1m0 -8v1",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nee=se("outline","report-search","IconReportSearch",[["path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697",key:"svg-0"}],["path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2",key:"svg-1"}],["path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M8 11h4",key:"svg-3"}],["path",{d:"M8 15h3",key:"svg-4"}],["path",{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0",key:"svg-5"}],["path",{d:"M18.5 19.5l2.5 2.5",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zF=se("outline","scale","IconScale",[["path",{d:"M7 20l10 0",key:"svg-0"}],["path",{d:"M6 6l6 -1l6 1",key:"svg-1"}],["path",{d:"M12 3l0 17",key:"svg-2"}],["path",{d:"M9 12l-3 -6l-3 6a3 3 0 0 0 6 0",key:"svg-3"}],["path",{d:"M21 12l-3 -6l-3 6a3 3 0 0 0 6 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pFe=se("outline","scan-eye","IconScanEye",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M7 12c3.333 -4.667 6.667 -4.667 10 0",key:"svg-4"}],["path",{d:"M7 12c3.333 4.667 6.667 4.667 10 0",key:"svg-5"}],["path",{d:"M12 12h-.01",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fM=se("outline","school","IconSchool",[["path",{d:"M22 9l-10 -4l-10 4l10 4l10 -4v6",key:"svg-0"}],["path",{d:"M6 10.6v5.4a6 3 0 0 0 12 0v-5.4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gFe=se("outline","screenshot","IconScreenshot",[["path",{d:"M7 19a2 2 0 0 1 -2 -2",key:"svg-0"}],["path",{d:"M5 13v-2",key:"svg-1"}],["path",{d:"M5 7a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M11 5h2",key:"svg-3"}],["path",{d:"M17 5a2 2 0 0 1 2 2",key:"svg-4"}],["path",{d:"M19 11v2",key:"svg-5"}],["path",{d:"M19 17v4",key:"svg-6"}],["path",{d:"M21 19h-4",key:"svg-7"}],["path",{d:"M13 19h-2",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lu=se("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sw=se("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vFe=se("outline","shadow","IconShadow",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M13 12h5",key:"svg-1"}],["path",{d:"M13 15h4",key:"svg-2"}],["path",{d:"M13 18h1",key:"svg-3"}],["path",{d:"M13 9h4",key:"svg-4"}],["path",{d:"M13 6h1",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ree=se("outline","share-3","IconShare3",[["path",{d:"M13 4v4c-6.575 1.028 -9.02 6.788 -10 12c-.037 .206 5.384 -5.962 10 -6v4l8 -7l-8 -7z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aee=se("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM=se("outline","shopping-bag","IconShoppingBag",[["path",{d:"M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z",key:"svg-0"}],["path",{d:"M9 11v-5a3 3 0 0 1 6 0v5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yFe=se("outline","slash","IconSlash",[["path",{d:"M17 5l-10 14",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xFe=se("outline","slideshow","IconSlideshow",[["path",{d:"M15 6l.01 0",key:"svg-0"}],["path",{d:"M3 3m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M3 13l4 -4a3 5 0 0 1 3 0l4 4",key:"svg-2"}],["path",{d:"M13 12l2 -2a3 5 0 0 1 3 0l3 3",key:"svg-3"}],["path",{d:"M8 21l.01 0",key:"svg-4"}],["path",{d:"M12 21l.01 0",key:"svg-5"}],["path",{d:"M16 21l.01 0",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bFe=se("outline","spaces","IconSpaces",[["path",{d:"M6.045 9.777a6 6 0 1 0 5.951 .023",key:"svg-0"}],["path",{d:"M11.997 20.196a6 6 0 1 0 -2.948 -5.97",key:"svg-1"}],["path",{d:"M17.95 9.785q .05 -.386 .05 -.785a6 6 0 1 0 -3.056 5.23",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wFe=se("outline","sparkles","IconSparkles",[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jee=se("outline","square-check","IconSquareCheck",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _Fe=se("outline","square-forbid-2","IconSquareForbid2",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15l6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CFe=se("outline","square","IconSquare",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mM=se("outline","star","IconStar",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SFe=se("outline","stethoscope","IconStethoscope",[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var EFe=se("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kFe=se("outline","tag","IconTag",[["path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MFe=se("outline","test-pipe","IconTestPipe",[["path",{d:"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124",key:"svg-0"}],["path",{d:"M7 13h8",key:"svg-1"}],["path",{d:"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6z",key:"svg-2"}],["path",{d:"M15 3l6 6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VF=se("outline","thumb-down","IconThumbDown",[["path",{d:"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pM=se("outline","thumb-up","IconThumbUp",[["path",{d:"M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TFe=se("outline","toggle-left","IconToggleLeft",[["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NFe=se("outline","toggle-right","IconToggleRight",[["path",{d:"M16 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RFe=se("outline","tool","IconTool",[["path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GF=se("outline","topology-star","IconTopologyStar",[["path",{d:"M8 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M20 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M8 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M20 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M14 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-4"}],["path",{d:"M7.5 7.5l3 3",key:"svg-5"}],["path",{d:"M7.5 16.5l3 -3",key:"svg-6"}],["path",{d:"M13.5 13.5l3 3",key:"svg-7"}],["path",{d:"M16.5 7.5l-3 3",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r1=se("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pee=se("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var AFe=se("outline","trophy","IconTrophy",[["path",{d:"M8 21l8 0",key:"svg-0"}],["path",{d:"M12 17l0 4",key:"svg-1"}],["path",{d:"M7 4l10 0",key:"svg-2"}],["path",{d:"M17 4v8a5 5 0 0 1 -10 0v-8",key:"svg-3"}],["path",{d:"M5 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M19 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew=se("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qF=se("outline","user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iee=se("outline","user-heart","IconUserHeart",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h.5",key:"svg-1"}],["path",{d:"M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oee=se("outline","user-scan","IconUserScan",[["path",{d:"M10 9a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-1"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-2"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-3"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-4"}],["path",{d:"M8 16a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lee=se("outline","user-search","IconUserSearch",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h1.5",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zg=se("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KF=se("outline","users-group","IconUsersGroup",[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw=se("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tn=se("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jFe=se("filled","alert-triangle-filled","IconAlertTriangleFilled",[["path",{d:"M12 1.67c.955 0 1.845 .467 2.39 1.247l.105 .16l8.114 13.548a2.914 2.914 0 0 1 -2.307 4.363l-.195 .008h-16.225a2.914 2.914 0 0 1 -2.582 -4.2l.099 -.185l8.11 -13.538a2.914 2.914 0 0 1 2.491 -1.403zm.01 13.33l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm-.01 -7a1 1 0 0 0 -.993 .883l-.007 .117v4l.007 .117a1 1 0 0 0 1.986 0l.007 -.117v-4l-.007 -.117a1 1 0 0 0 -.993 -.883z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YF=se("filled","brand-apple-filled","IconBrandAppleFilled",[["path",{d:"M15.079 5.999l.239 .012c1.43 .097 3.434 1.013 4.508 2.586a1 1 0 0 1 -.344 1.44c-.05 .028 -.372 .158 -.497 .217a4.15 4.15 0 0 0 -.722 .431c-.614 .461 -.948 1.009 -.942 1.694c.01 .885 .339 1.454 .907 1.846c.208 .143 .436 .253 .666 .33c.126 .043 .426 .116 .444 .122a1 1 0 0 1 .662 .942c0 2.621 -3.04 6.381 -5.286 6.381c-.79 0 -1.272 -.091 -1.983 -.315l-.098 -.031c-.463 -.146 -.702 -.192 -1.133 -.192c-.52 0 -.863 .06 -1.518 .237l-.197 .053c-.575 .153 -.964 .226 -1.5 .248c-2.749 0 -5.285 -5.093 -5.285 -9.072c0 -3.87 1.786 -6.92 5.286 -6.92c.297 0 .598 .045 .909 .128c.403 .107 .774 .26 1.296 .508c.787 .374 .948 .44 1.009 .44h.016c.03 -.003 .128 -.047 1.056 -.457c1.061 -.467 1.864 -.685 2.746 -.616l-.24 -.012z",key:"svg-0"}],["path",{d:"M14 1a1 1 0 0 1 1 1a3 3 0 0 1 -3 3a1 1 0 0 1 -1 -1a3 3 0 0 1 3 -3z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PFe=se("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GN=se("filled","brand-whatsapp-filled","IconBrandWhatsappFilled",[["path",{d:"M18.497 4.409a10 10 0 0 1 -10.36 16.828l-.223 -.098l-4.759 .849l-.11 .011a1 1 0 0 1 -.11 0l-.102 -.013l-.108 -.024l-.105 -.037l-.099 -.047l-.093 -.058l-.014 -.011l-.012 -.007l-.086 -.073l-.077 -.08l-.067 -.088l-.056 -.094l-.034 -.07l-.04 -.108l-.028 -.128l-.012 -.102a1 1 0 0 1 0 -.125l.012 -.1l.024 -.11l.045 -.122l1.433 -3.304l-.009 -.014a10 10 0 0 1 1.549 -12.454l.215 -.203a10 10 0 0 1 13.226 -.217m-8.997 3.09a1.5 1.5 0 0 0 -1.5 1.5v1a6 6 0 0 0 6 6h1a1.5 1.5 0 0 0 0 -3h-1l-.144 .007a1.5 1.5 0 0 0 -1.128 .697l-.042 .074l-.022 -.007a4.01 4.01 0 0 1 -2.435 -2.435l-.008 -.023l.075 -.041a1.5 1.5 0 0 0 .704 -1.272v-1a1.5 1.5 0 0 0 -1.5 -1.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IFe=se("filled","circle-check-filled","IconCircleCheckFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gM=se("filled","circle-filled","IconCircleFilled",[["path",{d:"M7 3.34a10 10 0 1 1 -4.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 4.995 -8.336z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OFe=se("filled","folder-filled","IconFolderFilled",[["path",{d:"M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QF=se("filled","microphone-filled","IconMicrophoneFilled",[["path",{d:"M19 9a1 1 0 0 1 1 1a8 8 0 0 1 -6.999 7.938l-.001 2.062h3a1 1 0 0 1 0 2h-8a1 1 0 0 1 0 -2h3v-2.062a8 8 0 0 1 -7 -7.938a1 1 0 1 1 2 0a6 6 0 0 0 12 0a1 1 0 0 1 1 -1m-7 -8a4 4 0 0 1 4 4v5a4 4 0 1 1 -8 0v-5a4 4 0 0 1 4 -4",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LFe=se("filled","pinned-filled","IconPinnedFilled",[["path",{d:"M16 3a1 1 0 0 1 .117 1.993l-.117 .007v4.764l1.894 3.789a1 1 0 0 1 .1 .331l.006 .116v2a1 1 0 0 1 -.883 .993l-.117 .007h-4v4a1 1 0 0 1 -1.993 .117l-.007 -.117v-4h-4a1 1 0 0 1 -.993 -.883l-.007 -.117v-2a1 1 0 0 1 .06 -.34l.046 -.107l1.894 -3.791v-4.762a1 1 0 0 1 -.117 -1.993l.117 -.007h8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DFe=se("filled","player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mx=se("filled","player-stop-filled","IconPlayerStopFilled",[["path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XF=se("filled","point-filled","IconPointFilled",[["path",{d:"M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FFe=se("filled","quote-filled","IconQuoteFilled",[["path",{d:"M9 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M18 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dee=se("filled","rosette-filled","IconRosetteFilled",[["path",{d:"M12.01 2.011a3.2 3.2 0 0 1 2.113 .797l.154 .145l.698 .698a1.2 1.2 0 0 0 .71 .341l.135 .008h1a3.2 3.2 0 0 1 3.195 3.018l.005 .182v1c0 .27 .092 .533 .258 .743l.09 .1l.697 .698a3.2 3.2 0 0 1 .147 4.382l-.145 .154l-.698 .698a1.2 1.2 0 0 0 -.341 .71l-.008 .135v1a3.2 3.2 0 0 1 -3.018 3.195l-.182 .005h-1a1.2 1.2 0 0 0 -.743 .258l-.1 .09l-.698 .697a3.2 3.2 0 0 1 -4.382 .147l-.154 -.145l-.698 -.698a1.2 1.2 0 0 0 -.71 -.341l-.135 -.008h-1a3.2 3.2 0 0 1 -3.195 -3.018l-.005 -.182v-1a1.2 1.2 0 0 0 -.258 -.743l-.09 -.1l-.697 -.698a3.2 3.2 0 0 1 -.147 -4.382l.145 -.154l.698 -.698a1.2 1.2 0 0 0 .341 -.71l.008 -.135v-1l.005 -.182a3.2 3.2 0 0 1 3.013 -3.013l.182 -.005h1a1.2 1.2 0 0 0 .743 -.258l.1 -.09l.698 -.697a3.2 3.2 0 0 1 2.269 -.944z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fee=se("filled","square-rounded-check-filled","IconSquareRoundedCheckFilled",[["path",{d:"M12 2c-.218 0 -.432 .002 -.642 .005l-.616 .017l-.299 .013l-.579 .034l-.553 .046c-4.785 .464 -6.732 2.411 -7.196 7.196l-.046 .553l-.034 .579c-.005 .098 -.01 .198 -.013 .299l-.017 .616l-.004 .318l-.001 .324c0 .218 .002 .432 .005 .642l.017 .616l.013 .299l.034 .579l.046 .553c.464 4.785 2.411 6.732 7.196 7.196l.553 .046l.579 .034c.098 .005 .198 .01 .299 .013l.616 .017l.642 .005l.642 -.005l.616 -.017l.299 -.013l.579 -.034l.553 -.046c4.785 -.464 6.732 -2.411 7.196 -7.196l.046 -.553l.034 -.579c.005 -.098 .01 -.198 .013 -.299l.017 -.616l.005 -.642l-.005 -.642l-.017 -.616l-.013 -.299l-.034 -.579l-.046 -.553c-.464 -4.785 -2.411 -6.732 -7.196 -7.196l-.553 -.046l-.579 -.034a28.058 28.058 0 0 0 -.299 -.013l-.616 -.017l-.318 -.004l-.324 -.001zm2.293 7.293a1 1 0 0 1 1.497 1.32l-.083 .094l-4 4a1 1 0 0 1 -1.32 .083l-.094 -.083l-2 -2a1 1 0 0 1 1.32 -1.497l.094 .083l1.293 1.292l3.293 -3.292z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uee=se("filled","square-rounded-filled","IconSquareRoundedFilled",[["path",{d:"M12 2c-.218 0 -.432 .002 -.642 .005l-.616 .017l-.299 .013l-.579 .034l-.553 .046c-4.785 .464 -6.732 2.411 -7.196 7.196l-.046 .553l-.034 .579c-.005 .098 -.01 .198 -.013 .299l-.017 .616l-.004 .318l-.001 .324c0 .218 .002 .432 .005 .642l.017 .616l.013 .299l.034 .579l.046 .553c.464 4.785 2.411 6.732 7.196 7.196l.553 .046l.579 .034c.098 .005 .198 .01 .299 .013l.616 .017l.642 .005l.642 -.005l.616 -.017l.299 -.013l.579 -.034l.553 -.046c4.785 -.464 6.732 -2.411 7.196 -7.196l.046 -.553l.034 -.579c.005 -.098 .01 -.198 .013 -.299l.017 -.616l.005 -.642l-.005 -.642l-.017 -.616l-.013 -.299l-.034 -.579l-.046 -.553c-.464 -4.785 -2.411 -6.732 -7.196 -7.196l-.553 -.046l-.579 -.034a28.058 28.058 0 0 0 -.299 -.013l-.616 -.017l-.318 -.004l-.324 -.001z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lf=se("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UFe=se("filled","thumb-down-filled","IconThumbDownFilled",[["path",{d:"M13 21.008a3 3 0 0 0 2.995 -2.823l.005 -.177v-4h2a3 3 0 0 0 2.98 -2.65l.015 -.173l.005 -.177l-.02 -.196l-1.006 -5.032c-.381 -1.625 -1.502 -2.796 -2.81 -2.78l-.164 .008h-8a1 1 0 0 0 -.993 .884l-.007 .116l.001 9.536a1 1 0 0 0 .5 .866a2.998 2.998 0 0 1 1.492 2.396l.007 .202v1a3 3 0 0 0 3 3z",key:"svg-0"}],["path",{d:"M5 14.008a1 1 0 0 0 .993 -.883l.007 -.117v-9a1 1 0 0 0 -.883 -.993l-.117 -.007h-1a2 2 0 0 0 -1.995 1.852l-.005 .15v7a2 2 0 0 0 1.85 1.994l.15 .005h1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BFe=se("filled","thumb-up-filled","IconThumbUpFilled",[["path",{d:"M13 3a3 3 0 0 1 2.995 2.824l.005 .176v4h2a3 3 0 0 1 2.98 2.65l.015 .174l.005 .176l-.02 .196l-1.006 5.032c-.381 1.626 -1.502 2.796 -2.81 2.78l-.164 -.008h-8a1 1 0 0 1 -.993 -.883l-.007 -.117l.001 -9.536a1 1 0 0 1 .5 -.865a2.998 2.998 0 0 0 1.492 -2.397l.007 -.202v-1a3 3 0 0 1 3 -3z",key:"svg-0"}],["path",{d:"M5 10a1 1 0 0 1 .993 .883l.007 .117v9a1 1 0 0 1 -.883 .993l-.117 .007h-1a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-7a2 2 0 0 1 1.85 -1.995l.15 -.005h1z",key:"svg-1"}]]);const $Fe=1.75,ZF={"3xs":{size:10,stroke:.5},"2xs":{size:12,stroke:.75},xs:{size:14,stroke:1},sm:{size:16,stroke:1.2},md:{size:18,stroke:1.3},base:{size:20,stroke:1.5},lg:{size:24,stroke:1.75},xl:{size:28,stroke:2},"2xl":{size:32,stroke:2.25},"3xl":{size:48,stroke:3.5},"4xl":{size:64,stroke:4.75}},HFe=e=>e.displayName?.startsWith("IconPerplexity")||e.displayName?.endsWith("Filled"),_e=T.memo(({icon:e,size:t="base",color:n="currentColor",stroke:r,className:s,style:a,"aria-label":i,opacity:o,badge:c})=>{const u=typeof t=="number"?t:ZF[t].size,d=!HFe(e);let h;d&&(r!==void 0?h=r:typeof t=="string"?h=ZF[t].stroke:h=$Fe);const m=h?typeof r=="number"?r:Number(h)*24/Number(u):void 0,p=u*.65;return c?l.jsxs("div",{className:"relative inline-flex",children:[l.jsx(e,{size:u,color:n,strokeWidth:m,className:U("shrink-0",s),style:a,"aria-label":i,opacity:o}),l.jsx("div",{className:"-bottom-two -right-two absolute overflow-hidden",style:{width:`${p}px`,height:`${p}px`},children:typeof c=="string"?l.jsx("img",{src:c,alt:"Badge",style:{width:"100%",height:"100%"}}):c})]}):l.jsx(e,{size:u,color:n,strokeWidth:m,className:s,style:a,"aria-label":i,opacity:o})});_e.displayName="TablerIcon";function Df(e){try{return new URL(e)}catch{return new URL(e,window.location.origin)}}function Bee(e,t,n=PZ){return e.map(r=>{if(r.startsWith("^")){const c=new RegExp(r),u=c.exec(t);return{pattern:c,route:r,match:c.test(t),params:Object.fromEntries(Object.entries(u?.groups??{}).map(([d,h])=>[d,h??void 0]))}}const{pattern:s,keys:a}=n(r),[i,...o]=s.exec(t)??[];return{pattern:s,route:r,match:s.test(t),params:Object.fromEntries(a.map((c,u)=>[c,o?.[u]]))}}).find(({match:r})=>r)}const $ee={current:0},Xh=f.createContext({spaRoutes:[],strictSpa:!1,openNonSpaRouteInNewTab:!1,startTimeFromTimeOriginRef:$ee}),Hee=T.memo(({spaRoutes:e,strictSpa:t,openNonSpaRouteInNewTab:n,children:r})=>l.jsx(Xh.Provider,{value:{spaRoutes:e,strictSpa:t,openNonSpaRouteInNewTab:n,startTimeFromTimeOriginRef:$ee},children:r}));Hee.displayName="RouterProvider";function WFe(e,t){return!t||t==="/"?e:e.startsWith(t)?e.slice(t.length):e}function zFe(e,t){return!t||t==="/"||e.startsWith(t)?e:`${t}${e}`}const qN=[];function vM(e,t,n){return!!Bee(e,n,t)}function JF(e,t,n,r){const s=Df(window.location.href),a=Df(e);if(a.origin!==window.location.origin)return{shouldNavigate:!1,absolutePath:a.toString()};const i=WFe(s.pathname,t);return{shouldNavigate:vM(n,r,a.pathname)&&vM(n,r,i),absolutePath:zFe(e,t)}}function Rt(){const e=lNe(),{parser:t,base:n}=So(),r=Wee(),s=f.useContext(Xh),a=s?.spaRoutes??qN,i=s.startTimeFromTimeOriginRef,o=f.useCallback((d,h={},m)=>{i.current=performance.now();const p=Df(window.location.href);Q.debug("Pushing route",{reason:m,path:d,previousPath:p.pathname,referrer:document.referrer,previousSearchParams:p.searchParams.toString(),previousUrl:p.toString()});const{shouldNavigate:g,absolutePath:v}=JF(d,n,a,t);g?window.history.pushState({},"",v):r?window.location.href=v:e.push(d,h)},[e,i,n,a,t,r]),c=f.useCallback(d=>{i.current=performance.now();const h=Df(window.location.href);Q.debug("Refreshing route",{reason:d,path:window.location.pathname,referrer:document.referrer,previousSearchParams:h.searchParams.toString(),previousUrl:h.toString()}),e.refresh()},[e,i]),u=f.useCallback((d,h)=>{const m=Df(window.location.href);Q.debug("Replacing route",{reason:h,path:d,previousPath:m.pathname,referrer:document.referrer,previousSearchParams:m.searchParams.toString(),previousUrl:m.toString()});const{absolutePath:p}=JF(d,n,a,t);window.history.replaceState({},"",p)},[n,t,a]);return f.useEffect(()=>{const d=()=>{i.current=performance.now()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}},[i]),f.useMemo(()=>({push:o.bind(e),refresh:c.bind(e),replace:u.bind(e),base:n,startTimeFromTimeOriginRef:i}),[e,o,c,u,n,i])}function Wee(){return f.useContext(Xh)?.strictSpa??!1}function VFe(){return f.useContext(Xh)?.openNonSpaRouteInNewTab??!1}function zee(){const{parser:e}=So(),t=f.useContext(Xh)?.spaRoutes??qN;return f.useCallback(n=>vM(t,e,n),[t,e])}function GFe(e){const{parser:t}=So(),n=f.useContext(Xh)?.spaRoutes??qN,r=f.useRef({});if(!r.current[e]){const s=Bee(n,e,t);s&&(r.current[e]=s.params)}return r.current[e]}const it=f.forwardRef(({href:e,onClick:t,target:n,...r},s)=>{const a=Rt(),i=Wee(),o=VFe(),c=zee(),[u,d]=f.useState(n);f.useEffect(()=>{!i||n==="_blank"||!e||!c(e)&&o&&d("_blank")},[e,c,i,n,o]);const h=f.useCallback(m=>{if(t?.(m),m.defaultPrevented)return;const p=navigator.userAgent.includes("Macintosh")||navigator.userAgent.includes("iPad");!(p&&m.metaKey)&&!(!p&&m.ctrlKey)&&e&&u!=="_blank"&&(m.preventDefault(),a.push(e))},[e,u,t,a]);return l.jsx("a",{...r,ref:s,target:u,href:e,onClick:h})});it.displayName="Link";const qFe={[Mt.tiny]:"xs",[Mt.small]:"sm",[Mt.regular]:"base",[Mt.large]:"lg",[Mt.xl]:"xl",[Mt.none]:"base"},Gp=T.memo(({icon:e,showClicked:t=!1,buttonSize:n,iconClassName:r})=>l.jsx(_e,{icon:t?da:e,size:qFe[n]||"base",className:r}));Gp.displayName="BaseIcon";const yl=T.memo(({size:e=16,className:t,...n})=>l.jsx("div",{className:U("aspect-square shrink-0 animate-spin rounded-full p-[2px]",t),style:{width:e,backgroundImage:"conic-gradient(from 270deg, transparent 0%, currentColor 99%)",mask:`radial-gradient(transparent 0%, transparent ${e/2-2}px, black ${e/2-2}px, black) center center`},...n}));yl.displayName="Spinner";function It(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function KFe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Vee(...e){return t=>e.forEach(n=>KFe(n,t))}function Kn(...e){return f.useCallback(Vee(...e),e)}function YFe(e,t){const n=f.createContext(t),r=a=>{const{children:i,...o}=a,c=f.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Ci(e,t=[]){let n=[];function r(a,i){const o=f.createContext(i),c=n.length;n=[...n,i];const u=h=>{const{scope:m,children:p,...g}=h,v=m?.[e]?.[c]||o,y=f.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(h,m){const p=m?.[e]?.[c]||o,g=f.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>f.createContext(i));return function(o){const c=o?.[e]||a;return f.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,QFe(s,...t)]}function QFe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Mw=f.forwardRef((e,t)=>{const{children:n,...r}=e,s=f.Children.toArray(n),a=s.find(XFe);if(a){const i=a.props.children,o=s.map(c=>c===a?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return l.jsx(yM,{...r,ref:t,children:f.isValidElement(i)?f.cloneElement(i,void 0,o):null})}return l.jsx(yM,{...r,ref:t,children:n})});Mw.displayName="Slot";var yM=f.forwardRef((e,t)=>{const{children:n,...r}=e;if(f.isValidElement(n)){const s=JFe(n);return f.cloneElement(n,{...ZFe(r,n.props),ref:t?Vee(t,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});yM.displayName="SlotClone";var Gee=({children:e})=>l.jsx(l.Fragment,{children:e});function XFe(e){return f.isValidElement(e)&&e.type===Gee}function ZFe(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...o)=>{a(...o),s(...o)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function JFe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eUe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xn=eUe.reduce((e,t)=>{const n=f.forwardRef((r,s)=>{const{asChild:a,...i}=r,o=a?Mw:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tUe(e,t){e&&as.flushSync(()=>e.dispatchEvent(t))}function ss(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>t.current?.(...n),[])}function nUe(e,t=globalThis?.document){const n=ss(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var rUe="DismissableLayer",xM="dismissableLayer.update",sUe="dismissableLayer.pointerDownOutside",aUe="dismissableLayer.focusOutside",eU,qee=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),s1=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=e,u=f.useContext(qee),[d,h]=f.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=f.useState({}),g=Kn(t,k=>h(k)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),b=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,C=lUe(k=>{const E=k.target,M=[...u.branches].some(N=>N.contains(E));!_||M||(s?.(k),i?.(k),k.defaultPrevented||o?.())},m),S=cUe(k=>{const E=k.target;[...u.branches].some(N=>N.contains(E))||(a?.(k),i?.(k),k.defaultPrevented||o?.())},m);return nUe(k=>{b===u.layers.size-1&&(r?.(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},m),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eU=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tU(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=eU)}},[d,m,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tU())},[d,u]),f.useEffect(()=>{const k=()=>p({});return document.addEventListener(xM,k),()=>document.removeEventListener(xM,k)},[]),l.jsx(xn.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:It(e.onFocusCapture,S.onFocusCapture),onBlurCapture:It(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:It(e.onPointerDownCapture,C.onPointerDownCapture)})});s1.displayName=rUe;var iUe="DismissableLayerBranch",oUe=f.forwardRef((e,t)=>{const n=f.useContext(qee),r=f.useRef(null),s=Kn(t,r);return f.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(xn.div,{...e,ref:s})});oUe.displayName=iUe;function lUe(e,t=globalThis?.document){const n=ss(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let c=function(){Kee(sUe,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function cUe(e,t=globalThis?.document){const n=ss(e),r=f.useRef(!1);return f.useEffect(()=>{const s=a=>{a.target&&!r.current&&Kee(aUe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tU(){const e=new CustomEvent(xM);document.dispatchEvent(e)}function Kee(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?tUe(s,a):s.dispatchEvent(a)}var po=globalThis?.document?f.useLayoutEffect:()=>{},uUe=h9.useId||(()=>{}),dUe=0;function Ff(e){const[t,n]=f.useState(uUe());return po(()=>{n(r=>r??String(dUe++))},[e]),t?`radix-${t}`:""}const fUe=["top","right","bottom","left"],di=Math.min,ns=Math.max,px=Math.round,Av=Math.floor,so=e=>({x:e,y:e}),hUe={left:"right",right:"left",bottom:"top",top:"bottom"},mUe={start:"end",end:"start"};function bM(e,t,n){return ns(e,di(t,n))}function go(e,t){return typeof e=="function"?e(t):e}function fi(e){return e.split("-")[0]}function Zh(e){return e.split("-")[1]}function KN(e){return e==="x"?"y":"x"}function YN(e){return e==="y"?"height":"width"}function ol(e){return["top","bottom"].includes(fi(e))?"y":"x"}function QN(e){return KN(ol(e))}function pUe(e,t,n){n===void 0&&(n=!1);const r=Zh(e),s=QN(e),a=YN(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=gx(i)),[i,gx(i)]}function gUe(e){const t=gx(e);return[wM(e),t,wM(t)]}function wM(e){return e.replace(/start|end/g,t=>mUe[t])}function vUe(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:i;default:return[]}}function yUe(e,t,n,r){const s=Zh(e);let a=vUe(fi(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(wM)))),a}function gx(e){return e.replace(/left|right|bottom|top/g,t=>hUe[t])}function xUe(e){return{top:0,right:0,bottom:0,left:0,...e}}function XN(e){return typeof e!="number"?xUe(e):{top:e,right:e,bottom:e,left:e}}function uh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function nU(e,t,n){let{reference:r,floating:s}=e;const a=ol(t),i=QN(t),o=YN(i),c=fi(t),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[o]/2-s[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Zh(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const bUe=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=nU(u,r,c),m=r,p={},g=0;for(let v=0;v<o.length;v++){const{name:y,fn:x}=o[v],{x:b,y:w,data:_,reset:C}=await x({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,h=w??h,p={...p,[y]:{...p[y],..._}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=nU(u,m,c)),v=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:p}};async function Vg(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=go(t,e),g=XN(p),y=o[m?h==="floating"?"reference":"floating":h],x=uh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=uh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-C.top+g.top)/_.y,bottom:(C.bottom-x.bottom+g.bottom)/_.y,left:(x.left-C.left+g.left)/_.x,right:(C.right-x.right+g.right)/_.x}}const wUe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=go(e,t)||{};if(u==null)return{};const h=XN(d),m={x:n,y:r},p=QN(s),g=YN(p),v=await i.getDimensions(u),y=p==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[p]-m[p]-a.floating[g],C=m[p]-a.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=S?S[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=o.floating[w]||a.floating[g]);const E=_/2-C/2,M=k/2-v[g]/2-1,N=di(h[x],M),R=di(h[b],M),A=N,P=k-v[g]-R,O=k/2-v[g]/2+E,I=bM(A,O,P),L=!c.arrow&&Zh(s)!=null&&O!==I&&a.reference[g]/2-(O<A?N:R)-v[g]/2<0,F=L?O<A?O-A:O-P:0;return{[p]:m[p]+F,data:{[p]:I,centerOffset:O-I-F,...L&&{alignmentOffset:F}},reset:L}}}),_Ue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=go(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=fi(s),b=ol(o),w=fi(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(w||!v?[gx(o)]:gUe(o)),S=g!=="none";!m&&S&&C.push(...yUe(o,v,g,_));const k=[o,...C],E=await Vg(t,y),M=[];let N=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&M.push(E[x]),h){const O=pUe(s,i,_);M.push(E[O[0]],E[O[1]])}if(N=[...N,{placement:s,overflows:M}],!M.every(O=>O<=0)){var R,A;const O=(((R=a.flip)==null?void 0:R.index)||0)+1,I=k[O];if(I)return{data:{index:O,overflows:N},reset:{placement:I}};let L=(A=N.filter(F=>F.overflows[0]<=0).sort((F,D)=>F.overflows[1]-D.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(p){case"bestFit":{var P;const F=(P=N.filter(D=>{if(S){const B=ol(D.placement);return B===b||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,$)=>B+$,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:P[0];F&&(L=F);break}case"initialPlacement":L=o;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function rU(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sU(e){return fUe.some(t=>e[t]>=0)}const CUe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=go(e,t);switch(r){case"referenceHidden":{const a=await Vg(t,{...s,elementContext:"reference"}),i=rU(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:sU(i)}}}case"escaped":{const a=await Vg(t,{...s,altBoundary:!0}),i=rU(a,n.floating);return{data:{escapedOffsets:i,escaped:sU(i)}}}default:return{}}}}};function Yee(e){const t=di(...e.map(a=>a.left)),n=di(...e.map(a=>a.top)),r=ns(...e.map(a=>a.right)),s=ns(...e.map(a=>a.bottom));return{x:t,y:n,width:r-t,height:s-n}}function SUe(e){const t=e.slice().sort((s,a)=>s.y-a.y),n=[];let r=null;for(let s=0;s<t.length;s++){const a=t[s];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(s=>uh(Yee(s)))}const EUe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:s,platform:a,strategy:i}=t,{padding:o=2,x:c,y:u}=go(e,t),d=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=SUe(d),m=uh(Yee(d)),p=XN(o);function g(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&u!=null)return h.find(y=>c>y.left-p.left&&c<y.right+p.right&&u>y.top-p.top&&u<y.bottom+p.bottom)||m;if(h.length>=2){if(ol(n)==="y"){const N=h[0],R=h[h.length-1],A=fi(n)==="top",P=N.top,O=R.bottom,I=A?N.left:R.left,L=A?N.right:R.right,F=L-I,D=O-P;return{top:P,bottom:O,left:I,right:L,width:F,height:D,x:I,y:P}}const y=fi(n)==="left",x=ns(...h.map(N=>N.right)),b=di(...h.map(N=>N.left)),w=h.filter(N=>y?N.left===b:N.right===x),_=w[0].top,C=w[w.length-1].bottom,S=b,k=x,E=k-S,M=C-_;return{top:_,bottom:C,left:S,right:k,width:E,height:M,x:S,y:_}}return m}const v=await a.getElementRects({reference:{getBoundingClientRect:g},floating:r.floating,strategy:i});return s.reference.x!==v.reference.x||s.reference.y!==v.reference.y||s.reference.width!==v.reference.width||s.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};async function kUe(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=fi(n),o=Zh(n),c=ol(n)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,h=go(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const MUe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=t,c=await kUe(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},TUe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=go(e,t),u={x:n,y:r},d=await Vg(t,c),h=ol(fi(s)),m=KN(h);let p=u[m],g=u[h];if(a){const y=m==="y"?"top":"left",x=m==="y"?"bottom":"right",b=p+d[y],w=p-d[x];p=bM(b,p,w)}if(i){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=g+d[y],w=g-d[x];g=bM(b,g,w)}const v=o.fn({...t,[m]:p,[h]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:a,[h]:i}}}}}},NUe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=go(e,t),d={x:n,y:r},h=ol(s),m=KN(h);let p=d[m],g=d[h];const v=go(o,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=m==="y"?"height":"width",_=a.reference[m]-a.floating[w]+y.mainAxis,C=a.reference[m]+a.reference[w]-y.mainAxis;p<_?p=_:p>C&&(p=C)}if(u){var x,b;const w=m==="y"?"width":"height",_=["top","left"].includes(fi(s)),C=a.reference[h]-a.floating[w]+(_&&((x=i.offset)==null?void 0:x[h])||0)+(_?0:y.crossAxis),S=a.reference[h]+a.reference[w]+(_?0:((b=i.offset)==null?void 0:b[h])||0)-(_?y.crossAxis:0);g<C?g=C:g>S&&(g=S)}return{[m]:p,[h]:g}}}},RUe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:c=()=>{},...u}=go(e,t),d=await Vg(t,u),h=fi(s),m=Zh(s),p=ol(s)==="y",{width:g,height:v}=a.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=m===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,y=m==="end"?"top":"bottom");const b=v-d.top-d.bottom,w=g-d.left-d.right,_=di(v-d[y],b),C=di(g-d[x],w),S=!t.middlewareData.shift;let k=_,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),S&&!m){const N=ns(d.left,0),R=ns(d.right,0),A=ns(d.top,0),P=ns(d.bottom,0);p?E=g-2*(N!==0||R!==0?N+R:ns(d.left,d.right)):k=v-2*(A!==0||P!==0?A+P:ns(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:k});const M=await i.getDimensions(o.floating);return g!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function Tw(){return typeof window<"u"}function Jh(e){return Qee(e)?(e.nodeName||"").toLowerCase():"#document"}function oa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Eo(e){var t;return(t=(Qee(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qee(e){return Tw()?e instanceof Node||e instanceof oa(e).Node:!1}function bs(e){return Tw()?e instanceof Element||e instanceof oa(e).Element:!1}function vo(e){return Tw()?e instanceof HTMLElement||e instanceof oa(e).HTMLElement:!1}function aU(e){return!Tw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oa(e).ShadowRoot}function a1(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function AUe(e){return["table","td","th"].includes(Jh(e))}function Nw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ZN(e){const t=JN(),n=bs(e)?Aa(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jUe(e){let t=pc(e);for(;vo(t)&&!dh(t);){if(ZN(t))return t;if(Nw(t))return null;t=pc(t)}return null}function JN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dh(e){return["html","body","#document"].includes(Jh(e))}function Aa(e){return oa(e).getComputedStyle(e)}function Rw(e){return bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pc(e){if(Jh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aU(e)&&e.host||Eo(e);return aU(t)?t.host:t}function Xee(e){const t=pc(e);return dh(t)?e.ownerDocument?e.ownerDocument.body:e.body:vo(t)&&a1(t)?t:Xee(t)}function Gg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Xee(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=oa(s);if(a){const o=_M(i);return t.concat(i,i.visualViewport||[],a1(s)?s:[],o&&n?Gg(o):[])}return t.concat(s,Gg(s,[],n))}function _M(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zee(e){const t=Aa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=vo(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,o=px(n)!==a||px(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function eR(e){return bs(e)?e:e.contextElement}function Uf(e){const t=eR(e);if(!vo(t))return so(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Zee(t);let i=(a?px(n.width):n.width)/r,o=(a?px(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const PUe=so(0);function Jee(e){const t=oa(e);return!JN()||!t.visualViewport?PUe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IUe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oa(e)?!1:t}function Du(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=eR(e);let i=so(1);t&&(r?bs(r)&&(i=Uf(r)):i=Uf(e));const o=IUe(a,n,r)?Jee(a):so(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const m=oa(a),p=r&&bs(r)?oa(r):r;let g=m,v=_M(g);for(;v&&r&&p!==g;){const y=Uf(v),x=v.getBoundingClientRect(),b=Aa(v),w=x.left+(v.clientLeft+parseFloat(b.paddingLeft))*y.x,_=x.top+(v.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=w,u+=_,g=oa(v),v=_M(g)}}return uh({width:d,height:h,x:c,y:u})}function tR(e,t){const n=Rw(e).scrollLeft;return t?t.left+n:Du(Eo(e)).left+n}function ete(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:tR(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function OUe(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Eo(r),o=t?Nw(t.floating):!1;if(r===i||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=so(1);const d=so(0),h=vo(r);if((h||!h&&!a)&&((Jh(r)!=="body"||a1(i))&&(c=Rw(r)),vo(r))){const p=Du(r);u=Uf(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!h&&!a?ete(i,c,!0):so(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function LUe(e){return Array.from(e.getClientRects())}function DUe(e){const t=Eo(e),n=Rw(e),r=e.ownerDocument.body,s=ns(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ns(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+tR(e);const o=-n.scrollTop;return Aa(r).direction==="rtl"&&(i+=ns(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}function FUe(e,t){const n=oa(e),r=Eo(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const u=JN();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:o,y:c}}function UUe(e,t){const n=Du(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=vo(e)?Uf(e):so(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:o,x:c,y:u}}function iU(e,t,n){let r;if(t==="viewport")r=FUe(e,n);else if(t==="document")r=DUe(Eo(e));else if(bs(t))r=UUe(t,n);else{const s=Jee(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return uh(r)}function tte(e,t){const n=pc(e);return n===t||!bs(n)||dh(n)?!1:Aa(n).position==="fixed"||tte(n,t)}function BUe(e,t){const n=t.get(e);if(n)return n;let r=Gg(e,[],!1).filter(o=>bs(o)&&Jh(o)!=="body"),s=null;const a=Aa(e).position==="fixed";let i=a?pc(e):e;for(;bs(i)&&!dh(i);){const o=Aa(i),c=ZN(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||a1(i)&&!c&&tte(e,i))?r=r.filter(d=>d!==i):s=o,i=pc(i)}return t.set(e,r),r}function $Ue(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Nw(t)?[]:BUe(t,this._c):[].concat(n),r],o=i[0],c=i.reduce((u,d)=>{const h=iU(t,d,s);return u.top=ns(h.top,u.top),u.right=di(h.right,u.right),u.bottom=di(h.bottom,u.bottom),u.left=ns(h.left,u.left),u},iU(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HUe(e){const{width:t,height:n}=Zee(e);return{width:t,height:n}}function WUe(e,t,n){const r=vo(t),s=Eo(t),a=n==="fixed",i=Du(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=so(0);if(r||!r&&!a)if((Jh(t)!=="body"||a1(s))&&(o=Rw(t)),r){const m=Du(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=tR(s));const u=s&&!r&&!a?ete(s,o):so(0),d=i.left+o.scrollLeft-c.x-u.x,h=i.top+o.scrollTop-c.y-u.y;return{x:d,y:h,width:i.width,height:i.height}}function U4(e){return Aa(e).position==="static"}function oU(e,t){if(!vo(e)||Aa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Eo(e)===n&&(n=n.ownerDocument.body),n}function nte(e,t){const n=oa(e);if(Nw(e))return n;if(!vo(e)){let s=pc(e);for(;s&&!dh(s);){if(bs(s)&&!U4(s))return s;s=pc(s)}return n}let r=oU(e,t);for(;r&&AUe(r)&&U4(r);)r=oU(r,t);return r&&dh(r)&&U4(r)&&!ZN(r)?n:r||jUe(e)||n}const zUe=async function(e){const t=this.getOffsetParent||nte,n=this.getDimensions,r=await n(e.floating);return{reference:WUe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VUe(e){return Aa(e).direction==="rtl"}const GUe={convertOffsetParentRelativeRectToViewportRelativeRect:OUe,getDocumentElement:Eo,getClippingRect:$Ue,getOffsetParent:nte,getElementRects:zUe,getClientRects:LUe,getDimensions:HUe,getScale:Uf,isElement:bs,isRTL:VUe};function rte(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qUe(e,t){let n=null,r;const s=Eo(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(o||t(),!m||!p)return;const g=Av(h),v=Av(s.clientWidth-(d+m)),y=Av(s.clientHeight-(h+p)),x=Av(d),w={rootMargin:-g+"px "+-v+"px "+-y+"px "+-x+"px",threshold:ns(0,di(1,c))||1};let _=!0;function C(S){const k=S[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!rte(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return i(!0),a}function ste(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=eR(e),d=s||a?[...u?Gg(u):[],...Gg(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const h=u&&o?qUe(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,v=c?Du(e):null;c&&y();function y(){const x=Du(e);v&&!rte(v,x)&&n(),v=x,g=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),h?.(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const KUe=MUe,YUe=TUe,QUe=_Ue,XUe=RUe,ZUe=CUe,lU=wUe,NLt=EUe,JUe=NUe,eBe=(e,t,n)=>{const r=new Map,s={platform:GUe,...n},a={...s.platform,_c:r};return bUe(e,t,{...s,platform:a})};var m2=typeof document<"u"?f.useLayoutEffect:f.useEffect;function vx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vx(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!vx(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ate(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cU(e,t){const n=ate(e);return Math.round(t*n)/n}function B4(e){const t=f.useRef(e);return m2(()=>{t.current=e}),t}function ite(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(r);vx(m,r)||p(r);const[g,v]=f.useState(null),[y,x]=f.useState(null),b=f.useCallback(D=>{D!==S.current&&(S.current=D,v(D))},[]),w=f.useCallback(D=>{D!==k.current&&(k.current=D,x(D))},[]),_=a||g,C=i||y,S=f.useRef(null),k=f.useRef(null),E=f.useRef(d),M=c!=null,N=B4(c),R=B4(s),A=B4(u),P=f.useCallback(()=>{if(!S.current||!k.current)return;const D={placement:t,strategy:n,middleware:m};R.current&&(D.platform=R.current),eBe(S.current,k.current,D).then(B=>{const $={...B,isPositioned:A.current!==!1};O.current&&!vx(E.current,$)&&(E.current=$,as.flushSync(()=>{h($)}))})},[m,t,n,R,A]);m2(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const O=f.useRef(!1);m2(()=>(O.current=!0,()=>{O.current=!1}),[]),m2(()=>{if(_&&(S.current=_),C&&(k.current=C),_&&C){if(N.current)return N.current(_,C,P);P()}},[_,C,P,N,M]);const I=f.useMemo(()=>({reference:S,floating:k,setReference:b,setFloating:w}),[b,w]),L=f.useMemo(()=>({reference:_,floating:C}),[_,C]),F=f.useMemo(()=>{const D={position:n,left:0,top:0};if(!L.floating)return D;const B=cU(L.floating,d.x),$=cU(L.floating,d.y);return o?{...D,transform:"translate("+B+"px, "+$+"px)",...ate(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:$}},[n,o,L.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:P,refs:I,elements:L,floatingStyles:F}),[d,P,I,L,F])}const tBe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lU({element:r.current,padding:s}).fn(n):{}:r?lU({element:r,padding:s}).fn(n):{}}}},nR=(e,t)=>({...KUe(e),options:[e,t]}),ote=(e,t)=>({...YUe(e),options:[e,t]}),lte=(e,t)=>({...JUe(e),options:[e,t]}),cte=(e,t)=>({...QUe(e),options:[e,t]}),ute=(e,t)=>({...XUe(e),options:[e,t]}),nBe=(e,t)=>({...ZUe(e),options:[e,t]}),dte=(e,t)=>({...tBe(e),options:[e,t]});var rBe="Arrow",fte=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return l.jsx(xn.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});fte.displayName=rBe;var sBe=fte;function aBe(e,t=[]){let n=[];function r(a,i){const o=f.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:m,children:p,...g}=h,v=m?.[e][c]||o,y=f.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:y,children:p})}function d(h,m){const p=m?.[e][c]||o,g=f.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>f.createContext(i));return function(o){const c=o?.[e]||a;return f.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,iBe(s,...t)]}function iBe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Aw(e){const[t,n]=f.useState(void 0);return po(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var rR="Popper",[hte,em]=aBe(rR),[oBe,mte]=hte(rR),pte=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return l.jsx(oBe,{scope:t,anchor:r,onAnchorChange:s,children:n})};pte.displayName=rR;var gte="PopperAnchor",vte=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=mte(gte,n),i=f.useRef(null),o=Kn(t,i);return f.useEffect(()=>{a.onAnchorChange(r?.current||i.current)}),r?null:l.jsx(xn.div,{...s,ref:o})});vte.displayName=gte;var sR="PopperContent",[lBe,cBe]=hte(sR),yte=f.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,y=mte(sR,n),[x,b]=f.useState(null),w=Kn(t,z=>b(z)),[_,C]=f.useState(null),S=Aw(_),k=S?.width??0,E=S?.height??0,M=r+(a!=="center"?"-"+a:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],A=R.length>0,P={padding:N,boundary:R.filter(dBe),altBoundary:A},{refs:O,floatingStyles:I,placement:L,isPositioned:F,middlewareData:D}=ite({strategy:"fixed",placement:M,whileElementsMounted:(...z)=>ste(...z,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[nR({mainAxis:s+E,alignmentAxis:i}),c&&ote({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?lte():void 0,...P}),c&&cte({...P}),ute({...P,apply:({elements:z,rects:te,availableWidth:Y,availableHeight:Z})=>{const{width:re,height:G}=te.reference,oe=z.floating.style;oe.setProperty("--radix-popper-available-width",`${Y}px`),oe.setProperty("--radix-popper-available-height",`${Z}px`),oe.setProperty("--radix-popper-anchor-width",`${re}px`),oe.setProperty("--radix-popper-anchor-height",`${G}px`)}}),_&&dte({element:_,padding:o}),fBe({arrowWidth:k,arrowHeight:E}),m&&nBe({strategy:"referenceHidden",...P})]}),[B,$]=wte(L),W=ss(g);po(()=>{F&&W?.()},[F,W]);const X=D.arrow?.x,ee=D.arrow?.y,ne=D.arrow?.centerOffset!==0,[V,q]=f.useState();return po(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:F?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(lBe,{scope:n,placedSide:B,onArrowChange:C,arrowX:X,arrowY:ee,shouldHideArrow:ne,children:l.jsx(xn.div,{"data-side":B,"data-align":$,...v,ref:w,style:{...v.style,animation:F?void 0:"none"}})})})});yte.displayName=sR;var xte="PopperArrow",uBe={top:"bottom",right:"left",bottom:"top",left:"right"},bte=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=cBe(xte,r),i=uBe[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(sBe,{...s,ref:n,style:{...s.style,display:"block"}})})});bte.displayName=xte;function dBe(e){return e!==null}var fBe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=wte(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(s.arrow?.x??0)+o/2,p=(s.arrow?.y??0)+c/2;let g="",v="";return u==="bottom"?(g=i?h:`${m}px`,v=`${-c}px`):u==="top"?(g=i?h:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=i?h:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=i?h:`${p}px`),{data:{x:g,y:v}}}});function wte(e){const[t,n="center"]=e.split("-");return[t,n]}var aR=pte,jw=vte,iR=yte,oR=bte,hBe="Portal",i1=f.forwardRef((e,t)=>{const{container:n,...r}=e,[s,a]=f.useState(!1);po(()=>a(!0),[]);const i=n||s&&globalThis?.document?.body;return i?TQ.createPortal(l.jsx(xn.div,{...r,ref:t}),i):null});i1.displayName=hBe;function mBe(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var As=e=>{const{present:t,children:n}=e,r=pBe(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=Kn(r.ref,gBe(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:a}):null};As.displayName="Presence";function pBe(e){const[t,n]=f.useState(),r=f.useRef({}),s=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[o,c]=mBe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=jv(r.current);a.current=o==="mounted"?u:"none"},[o]),po(()=>{const u=r.current,d=s.current;if(d!==e){const m=a.current,p=jv(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),po(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const v=jv(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(a.current=jv(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function jv(e){return e?.animationName||"none"}function gBe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=vBe({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,o=ss(n),c=f.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[a,e,s,o]);return[i,c]}function vBe({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,s=f.useRef(r),a=ss(t);return f.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var yBe="VisuallyHidden",o1=f.forwardRef((e,t)=>l.jsx(xn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));o1.displayName=yBe;var lR=o1,[Pw,RLt]=Ci("Tooltip",[em]),Iw=em(),_te="TooltipProvider",xBe=700,CM="tooltip.open",[bBe,cR]=Pw(_te),uR=e=>{const{__scopeTooltip:t,delayDuration:n=xBe,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[i,o]=f.useState(!0),c=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(bBe,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};uR.displayName=_te;var Ow="Tooltip",[wBe,l1]=Pw(Ow),Cte=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:o}=e,c=cR(Ow,e.__scopeTooltip),u=Iw(t),[d,h]=f.useState(null),m=Ff(),p=f.useRef(0),g=i??c.disableHoverableContent,v=o??c.delayDuration,y=f.useRef(!1),[x=!1,b]=jc({prop:r,defaultProp:s,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(CM))):c.onClose(),a?.(k)}}),w=f.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,b(!0)},[b]),C=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),S=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,b(!0),p.current=0},v)},[v,b]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(aR,{...u,children:l.jsx(wBe,{scope:t,contentId:m,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?S():_()},[c.isOpenDelayed,S,_]),onTriggerLeave:f.useCallback(()=>{g?C():(window.clearTimeout(p.current),p.current=0)},[C,g]),onOpen:_,onClose:C,disableHoverableContent:g,children:n})})};Cte.displayName=Ow;var SM="TooltipTrigger",dR=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=l1(SM,n),a=cR(SM,n),i=Iw(n),o=f.useRef(null),c=Kn(t,o,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(jw,{asChild:!0,...i,children:l.jsx(xn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:It(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:It(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:It(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:It(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:It(e.onBlur,s.onClose),onClick:It(e.onClick,s.onClose)})})});dR.displayName=SM;var fR="TooltipPortal",[_Be,CBe]=Pw(fR,{forceMount:void 0}),hR=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=l1(fR,t);return l.jsx(_Be,{scope:t,forceMount:n,children:l.jsx(As,{present:n||a.open,children:l.jsx(i1,{asChild:!0,container:s,children:r})})})};hR.displayName=fR;var fh="TooltipContent",mR=f.forwardRef((e,t)=>{const n=CBe(fh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,i=l1(fh,e.__scopeTooltip);return l.jsx(As,{present:r||i.open,children:i.disableHoverableContent?l.jsx(Ste,{side:s,...a,ref:t}):l.jsx(SBe,{side:s,...a,ref:t})})}),SBe=f.forwardRef((e,t)=>{const n=l1(fh,e.__scopeTooltip),r=cR(fh,e.__scopeTooltip),s=f.useRef(null),a=Kn(t,s),[i,o]=f.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=f.useCallback(()=>{o(null),h(!1)},[h]),p=f.useCallback((g,v)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},b=MBe(x,y.getBoundingClientRect()),w=TBe(x,b),_=NBe(v.getBoundingClientRect()),C=ABe([...w,..._]);o(C),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&d){const g=y=>p(y,d),v=y=>p(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[c,d,p,m]),f.useEffect(()=>{if(i){const g=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},b=c?.contains(y)||d?.contains(y),w=!RBe(x,i);b?m():w&&(m(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,m]),l.jsx(Ste,{...e,ref:a})}),[EBe,kBe]=Pw(Ow,{isInside:!1}),Ste=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,c=l1(fh,n),u=Iw(n),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(CM,d),()=>document.removeEventListener(CM,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(s1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(iR,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Gee,{children:r}),l.jsx(EBe,{scope:n,isInside:!0,children:l.jsx(lR,{id:c.contentId,role:"tooltip",children:s||r})})]})})});mR.displayName=fh;var Ete="TooltipArrow",yx=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Iw(n);return kBe(Ete,n).isInside?null:l.jsx(oR,{...s,...r,ref:t})});yx.displayName=Ete;function MBe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TBe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function NBe(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function RBe(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-o)*(r-c)/(d-c)+o&&(s=!s)}return s}function ABe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jBe(t)}function jBe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var PBe=uR,kte=Cte,IBe=dR,OBe=hR,LBe=mR,DBe=yx;const FBe={micro:"font-sans text-2xs font-normal",tiny:"font-sans text-xs font-medium",tinyRegular:"font-sans text-xs font-normal",tinyBold:"font-sans text-xs font-bold",extraSmall:"font-sans text-[13px]",small:"font-sans text-sm",smallBold:"font-sans text-sm font-medium leading-[1.125rem]",smallExtraBold:"font-sans text-sm font-extrabold leading-[1.125rem]",base:"font-sans text-base",baseSemi:"font-sans text-base font-medium",tinyMono:"font-mono text-2xs md:text-xs",smallMono:"font-mono text-sm",smallCaps:"text-2xs md:text-xs tracking-wide font-mono leading-none uppercase","section-title":"font-display text-lg font-medium","page-title":"font-display font-[475] dark:font-[450] text-2xl",display:"font-display text-4xl lg:text-[2.8rem] !leading-[1.2]","entry-title":"font-display text-pretty text-xl lg:text-3xl font-[475] dark:font-[450]","entry-title-100":"font-display text-pretty text-xl lg:text-3xl font-[475] dark:font-[450]","entry-title-200":"font-display text-lg lg:text-xl font-[500]","entry-title-300":"font-sans text-pretty font-medium"},UBe={default:"text-textMain",defaultInverted:"dark:text-light text-textMainDark",light:"text-textOff ",ultraLight:"text-textMain/35 dark:text-textMainDark/30",red:"text-caution",yellow:"text-yellow-600 dark:text-yellow-400",super:"text-super",white:"text-white",positive:"text-positive",negative:"text-negative",max:"text-max"},BBe=(e,t,n)=>t||(e==="page-title"?"h1":e==="entry-title"?"h2":n?"span":"div"),$Be=(e,t,n,r,s)=>{const a=FBe[e],i=UBe[t];return U(s,a,i,n?"text-center block":"",r?"hover:text-super":"","selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super")},j=T.memo(({children:e,variant:t="base",color:n="default",textCenter:r,className:s,inline:a,superHover:i,testId:o,as:c,ref:u,...d})=>{const h=f.useMemo(()=>BBe(t,c,a),[t,c,a]),m=f.useMemo(()=>$Be(t,n,r,i,s),[s,n,r,t,i]);return T.createElement(h,{className:m,"data-testid":o,ref:u,...d},e)});j.displayName="TextBlock";const HBe=new Proxy(Object.freeze([]),{set(){throw new Error("Cannot modify default array")}}),je=HBe,Mte=new Proxy(Object.freeze({}),{set(){throw new Error("Cannot modify default object")}}),Tte=T.memo(({className:e,textClassName:t,text:n,shortcut:r=je,...s})=>l.jsxs("div",{className:U("gap-x-sm bg-textMain px-sm py-xs dark:bg-offsetPlus flex max-w-[280px] items-center rounded",e),...s,children:[typeof n=="string"?l.jsx(j,{variant:"tiny",className:U("text-textMainDark",t),children:n}):n,r.length>0&&l.jsx("div",{className:"flex gap-[2px]",children:r.map(a=>l.jsx(j,{variant:"smallCaps",className:"border-borderMain/10 bg-textMain px-xs py-two dark:bg-offsetPlus rounded border shadow-md",children:l.jsx("span",{className:"text-textMainDark",children:a})},a))})]}));Tte.displayName="TooltipBody";const Dn=T.memo(({tooltipText:e,tooltipLayout:t="top",children:n,keyboardShortcut:r,showTooltip:s=!0,className:a="",asChild:i=!1,testId:o,offset:c=8,closeOnClick:u=!0,bodyClassName:d,bodyTextClassName:h,arrowClassName:m,open:p,onClickOutsideTooltip:g,onOpenChange:v,delayDuration:y})=>s?l.jsxs(kte,{open:p,onOpenChange:v,delayDuration:y,children:[l.jsx(OBe,{children:l.jsxs(LBe,{side:t,sideOffset:c,className:U(t==="bottom"&&"data-[state=closed]:animate-slideUpAndFadeOut data-[state=delayed-open]:animate-slideDownAndFadeIn",t==="top"&&"data-[state=closed]:animate-slideDownAndFadeOut data-[state=delayed-open]:animate-slideUpAndFadeIn",t==="left"&&"data-[state=closed]:animate-slideRightAndFadeOut data-[state=delayed-open]:animate-slideLeftAndFadeIn",t==="right"&&"data-[state=closed]:animate-slideLeftAndFadeOut data-[state=delayed-open]:animate-slideRightAndFadeIn",a),onPointerDownOutside:u?g:x=>{x.preventDefault()},children:[l.jsx(Tte,{text:e,shortcut:r,"data-test-id":o,className:d,textClassName:h}),m&&l.jsx(DBe,{className:U("fill-text dark:fill-offsetPlus bg-transparent",m)})]})}),l.jsx(IBe,{asChild:i,onClick:u?g:x=>{x.preventDefault()},children:n})]}):l.jsx(l.Fragment,{children:n})),WBe=2e3,zBe=1e3,uU={[Mt.tiny]:{height:"h-6",text:"text-xs",padding:{left:{default:"pl-2",reduced:"pl-1.5"},right:{default:"pr-2",reduced:"pr-1.5"}},iconWrapperSize:"size-3.5",gap:"gap-1",baselineShift:"-mb-px"},[Mt.small]:{height:"h-8",text:"text-sm",padding:{left:{default:"pl-3",reduced:"pl-2.5"},right:{default:"pr-3",reduced:"pr-2.5"}},iconWrapperSize:"size-4",gap:"gap-1.5",baselineShift:"-mb-px"},[Mt.regular]:{height:"h-10",text:"text-base",padding:{left:{default:"pl-4",reduced:"pl-3"},right:{default:"pr-4",reduced:"pr-3"}},iconWrapperSize:"size-5",gap:"gap-1.5",baselineShift:"-mb-[2px]"},[Mt.large]:{height:"h-14",text:"text-lg",padding:{left:{default:"pl-5",reduced:"pl-[18px]"},right:{default:"pr-5",reduced:"pr-4"}},iconWrapperSize:"size-7",gap:"gap-1.5",baselineShift:"-mb-[3px]"}},Nte=e=>uU[e]||uU[Mt.regular],dU=({children:e,buttonSize:t=Mt.regular})=>l.jsx("div",{className:U("flex shrink-0 items-center justify-center",Nte(t).iconWrapperSize),children:e}),Rte=f.memo(f.forwardRef(({text:e,textClassName:t="",size:n=Mt.regular,disabled:r=!1,fullWidth:s,fullWidthMobile:a,layout:i="center",type:o="button",noWrap:c=!0,onClick:u=Ln,onMouseDown:d,href:h,target:m,extraCSS:p,icon:g,iconClassName:v,pill:y=!1,noRounded:x=!1,toolTip:b,keyboardShortcut:w,tooltipLayout:_="top",tooltipProps:C,badge:S,chevron:k,isLoading:E,loadingVariant:M="spin",leadingComponent:N,trailingComponent:R,maxWidth:A,chevronIcon:P=Ia,clickFeedback:O=!1,debounce:I=!1,testId:L,ariaLabel:F,variant:D,autoFocus:B,...$},W)=>{const[X,ee]=f.useState(!1),[ne,V]=f.useState(!1),[q,z]=f.useState(r),te=f.useMemo(()=>Nte(n),[n]);f.useEffect(()=>{I&&z(ne||r)},[I,ne,r]),f.useEffect(()=>{z(r)},[r]);const Y=Se=>{(!I||!ne)&&(V(!0),setTimeout(()=>V(!1),zBe),u(Se)),O&&(ee(!0),setTimeout(()=>ee(!1),WBe))},Z=!!e,re=f.useMemo(()=>U(p,"font-sans focus:outline-none outline-none outline-transparent transition duration-300 ease-out font-sans  select-none items-center relative group/button ",{"justify-center text-center items-center":i==="center","justify-start":i==="left","rounded-none":x,"rounded-lg":!y&&!x,"rounded-full":y&&!x,"cursor-default opacity-50":q,"cursor-pointer active:scale-[0.97] active:duration-150 active:ease-outExpo origin-center":!q,"whitespace-nowrap":c,"break-words":!c,"flex w-full":s,"inline-flex":!s&&!a,"flex w-full md:inline-flex md:w-auto":a,[te.text]:!0,[te.height]:!0,[te.padding.left.reduced]:Z&&(g||N||S),[te.padding.left.default]:Z&&!g&&!N&&!S,[te.padding.right.reduced]:Z&&R,[te.padding.right.default]:Z&&!R,[y?"aspect-square":"aspect-[9/8]"]:!Z&&!k&&!S&&!(g&&N)}),[S,te,k,q,p,s,a,Z,g,i,N,x,c,y,R]),G=f.useMemo(()=>U("flex items-center min-w-0 font-medium",te.gap,{"flex-col":i==="stacked","justify-center":i==="center","justify-left":i==="left","justify-between":i==="split","w-full":s,"gap-sm":i==="stacked"}),[te.gap,s,i]);let oe=14;i==="stacked"&&(oe=16),n===Mt.regular&&(Z||(oe=16)),n===Mt.large&&Z&&(oe=16);const ae=l.jsxs("div",{className:G,style:{maxWidth:A},children:[N&&l.jsx("div",{children:N}),E&&l.jsx(dU,{buttonSize:n,children:M==="spin"?l.jsx(yl,{size:oe}):M==="pulse"?l.jsx("div",{className:U("relative flex items-center justify-center",D==="primary"?"text-textMainDark dark:text-light":"text-super"),children:l.jsxs("div",{className:"relative scale-[0.8]",children:[l.jsx(Gp,{icon:gM,buttonSize:n}),l.jsx(Gp,{icon:gM,buttonSize:n,iconClassName:"duration-1200 absolute inset-0 animate-ping"})]})}):null}),!E&&g&&l.jsx(dU,{buttonSize:n,children:l.jsx(Gp,{icon:g,showClicked:X,buttonSize:n,iconClassName:v})}),e&&l.jsx("div",{className:U("text-align-center relative truncate",{"leading-loose":i!=="stacked","leading-none":i==="stacked"},te.baselineShift,t),children:e}),S&&l.jsxs("span",{children:[" · ",S]}),k&&l.jsx(_e,{size:"xs",icon:P,className:"opacity-50"}),R]});let ie;g&&!e&&b&&(ie=b);const xe=f.useMemo(()=>({WebkitTapHighlightColor:"transparent"}),[]);let de;return h?de=l.jsx(it,{"data-testid":L,role:"button","aria-label":F??ie,href:h??"/",className:re,target:m,onClick:u,onMouseDown:d,style:xe,...$,ref:W,children:ae}):de=l.jsx("button",{"data-testid":L,"aria-label":F??ie,type:o,disabled:q,onClick:Y,onMouseDown:d,className:re,...$,ref:W,children:ae}),w||b?l.jsx(Dn,{tooltipText:b??"",keyboardShortcut:w,tooltipLayout:_,...C,asChild:!0,children:de}):de})),ye=f.memo(f.forwardRef(({variant:e="common",disabled:t,extraCSS:n,...r},s)=>{const{buttonClass:a}=f.useMemo(()=>{const i={disabled:"bg-idle text-textOff dark:bg-idleDark",primary:"bg-super text-inverse hover:opacity-80",primaryGhost:"border border-super/20 bg-super/10 hover:bg-super/20 hover:border-super/30 text-super",common:"bg-offsetPlus text-textMain md:hover:text-textOff",border:"border border-borderMain/50 text-textOff md:hover:border-borderMain  md:hover:text-textMain hover:bg-offset bg-background",inverted:"bg-inverse text-inverse hover:opacity-80",rejecter:"border border-borderMain/50 text-caution dark:hover:text-textMain hover:bg-caution/30 hover:border-caution/20 bg-background",rejected:"bg-caution hover:opacity-50 text-white",backToSchoolOrange:"bg-backToSchoolOrange text-white hover:opacity-50",maxGold:"bg-max dark:text-inverse hover:opacity-80"},o=t?i.disabled:i[e];return{buttonClass:U(o,n)}},[e,t,n]);return l.jsx(Rte,{extraCSS:a,disabled:t,variant:e,...r,ref:s})})),Ate=T.memo(({lineColor:e,width:t,fillColor:n,...r})=>{const s=U("h-auto group",t),a=U(e,"transition-all duration-300");return l.jsx("div",{className:s,...r,children:l.jsxs("svg",{viewBox:"0 0 400 91",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M196.978 27.8931H200.033V34.1872H196.079C192.979 34.1872 190.669 34.9333 189.14 36.4254C187.615 37.9176 186.85 40.3662 186.85 43.7711V64.401H180.606V28.0333H186.85V33.8367C186.85 34.1622 187.014 34.3274 187.337 34.3274C187.52 34.3274 187.659 34.2823 187.754 34.1872C187.848 34.0921 187.938 33.9068 188.032 33.6264C189.234 29.8058 192.219 27.8931 196.983 27.8931H196.978ZM237.763 35.6894C239.402 38.6036 240.227 42.1137 240.227 46.2146C240.227 50.3156 239.407 53.8257 237.763 56.7399C236.119 59.6541 233.993 61.8323 231.38 63.2794C228.767 64.7265 225.956 65.4476 222.951 65.4476C217.03 65.4476 212.868 63.0691 210.464 58.3122C210.28 57.9417 210.046 57.7514 209.768 57.7514C209.49 57.7514 209.351 57.8916 209.351 58.172V77.6853H203.107V28.0333H209.351V34.2573C209.351 34.5377 209.49 34.6779 209.768 34.6779C210.046 34.6779 210.275 34.4926 210.464 34.1171C212.868 29.3602 217.03 26.9817 222.951 26.9817C225.956 26.9817 228.767 27.7028 231.38 29.1499C233.993 30.597 236.119 32.7751 237.763 35.6894ZM233.983 46.2146C233.983 41.9234 232.841 38.5786 230.551 36.1801C228.261 33.7816 225.246 32.5799 221.496 32.5799C217.745 32.5799 214.73 33.7816 212.44 36.1801C210.151 38.5836 209.311 41.9284 209.311 46.2146C209.311 50.5009 210.151 53.8507 212.44 56.2492C214.73 58.6527 217.75 59.8494 221.496 59.8494C225.241 59.8494 228.261 58.6477 230.551 56.2492C232.841 53.8507 233.983 50.5009 233.983 46.2146ZM134.595 35.7445C136.235 38.6587 137.059 42.1688 137.059 46.2697C137.059 50.3707 136.24 53.8808 134.595 56.795C132.951 59.7092 130.825 61.8874 128.213 63.3345C125.6 64.7816 122.788 65.5026 119.783 65.5026C113.863 65.5026 109.7 63.1242 107.296 58.3673C107.112 57.9967 106.879 57.8065 106.601 57.8065C106.322 57.8065 106.183 57.9467 106.183 58.2271V77.7404H99.9446V28.0883H106.188V34.3124C106.188 34.5928 106.327 34.733 106.606 34.733C106.884 34.733 107.112 34.5477 107.301 34.1722C109.705 29.4153 113.867 27.0368 119.788 27.0368C122.793 27.0368 125.605 27.7579 128.218 29.205C130.83 30.6521 132.956 32.8302 134.6 35.7445H134.595ZM130.815 46.2697C130.815 41.9785 129.673 38.6336 127.383 36.2352C125.093 33.8367 122.078 32.6349 118.328 32.6349C114.578 32.6349 111.563 33.8367 109.273 36.2352C106.983 38.6387 106.144 41.9835 106.144 46.2697C106.144 50.5559 106.983 53.9058 109.273 56.3043C111.563 58.7078 114.578 59.9045 118.328 59.9045C122.078 59.9045 125.093 58.7028 127.383 56.3043C129.673 53.9058 130.815 50.5559 130.815 46.2697ZM169.112 52.8543H175.703C174.824 56.2592 173.031 59.2085 170.329 61.7021C167.622 64.1957 163.748 65.4425 158.706 65.4425C154.911 65.4425 151.573 64.6614 148.682 63.0991C145.791 61.5369 143.561 59.3137 141.986 56.4195C140.412 53.5303 139.627 50.1253 139.627 46.2096C139.627 42.294 140.392 38.889 141.917 35.9998C143.442 33.1106 145.583 30.8824 148.335 29.3201C151.086 27.7579 154.31 26.9767 158.011 26.9767C161.711 26.9767 164.776 27.7479 167.344 29.2851C169.912 30.8223 171.829 32.8653 173.101 35.404C174.372 37.9477 175.008 40.7317 175.008 43.7611V47.9572H146.219C146.447 51.5925 147.664 54.4867 149.859 56.6298C152.055 58.7729 155.005 59.8494 158.706 59.8494C161.711 59.8494 164.016 59.2335 165.61 57.9967C167.205 56.7599 168.372 55.0475 169.112 52.8543ZM146.288 42.7146H168.074C168.074 39.545 167.264 37.0614 165.645 35.2638C164.026 33.4712 161.483 32.5699 158.015 32.5699C154.777 32.5699 152.129 33.4461 150.073 35.1937C148.017 36.9412 146.755 39.4498 146.293 42.7096L146.288 42.7146ZM245.169 64.396H251.413V14.043H245.169V64.401V64.396ZM331.801 24.0625H339.093V16.1911H331.801V24.0625ZM357.526 58.9782C356.393 59.0933 355.708 59.1534 355.479 59.1534C355.156 59.1534 354.898 59.0583 354.714 58.873C354.531 58.6877 354.436 58.4324 354.436 58.1019C354.436 57.8716 354.496 57.1806 354.61 56.0389C354.724 54.8972 354.784 53.1347 354.784 50.7612V33.361H363.69L361.937 28.0333H354.789V18.2391H348.545V28.0283H341.755V33.356H348.545V52.5038C348.545 56.5146 349.519 59.4989 351.461 61.4568C353.403 63.4146 356.363 64.396 360.342 64.396H365.2V58.8029H362.771C360.412 58.8029 358.663 58.863 357.531 58.9782H357.526ZM394.059 28.0283L383.723 58.5425C383.583 58.9181 383.365 59.4088 382.655 59.4088C381.944 59.4088 381.726 58.9181 381.587 58.5425L371.25 28.0283H364.882L376.853 64.396H381.085C381.363 64.396 381.572 64.4211 381.711 64.4661C381.85 64.5112 381.964 64.6264 382.059 64.8166C382.242 65.097 382.217 65.5177 381.989 66.0735L380.047 71.3862C379.769 72.0872 379.237 72.4377 378.452 72.4377C378.174 72.4377 377.529 72.3776 376.51 72.2624C375.492 72.1473 374.176 72.0872 372.556 72.0872H367.49V77.6803H374.151C378.035 77.6803 380.375 77.0143 382.386 75.6874C384.398 74.3605 385.958 72.0171 387.07 68.6572L400 29.4203V28.0233H394.059V28.0283ZM311.406 41.5979L301.626 28.0283H294.756V29.4253L306.478 45.1631L292.188 62.999V64.396H299.197L310.576 49.7798L321.191 64.396H327.922V62.999L315.504 46.2146L328.965 29.5004V28.0333H321.956L311.411 41.603L311.406 41.5979ZM332.467 64.396H338.71V28.0333H332.467V64.401V64.396ZM292.471 52.8543C291.592 56.2592 289.799 59.2085 287.097 61.7021C284.39 64.1957 280.515 65.4425 275.474 65.4425C271.679 65.4425 268.341 64.6614 265.45 63.0991C262.559 61.5369 260.329 59.3137 258.754 56.4195C257.18 53.5303 256.395 50.1253 256.395 46.2096C256.395 42.294 257.16 38.889 258.685 35.9998C260.21 33.1106 262.35 30.8824 265.102 29.3201C267.854 27.7579 271.078 26.9767 274.778 26.9767C278.479 26.9767 281.543 27.7479 284.111 29.2851C286.679 30.8223 288.597 32.8653 289.868 35.404C291.14 37.9477 291.776 40.7317 291.776 43.7611V47.9572H262.986C263.215 51.5925 264.432 54.4867 266.627 56.6298C268.823 58.7729 271.773 59.8494 275.474 59.8494C278.479 59.8494 280.783 59.2335 282.378 57.9967C283.972 56.7599 285.14 55.0475 285.88 52.8543H292.471ZM263.056 42.7146H284.842C284.842 39.545 284.032 37.0614 282.413 35.2638C280.793 33.4712 278.25 32.5699 274.783 32.5699C271.545 32.5699 268.897 33.4461 266.841 35.1937C264.784 36.9412 263.523 39.4498 263.061 42.7096L263.056 42.7146Z",className:n}),l.jsx("path",{d:"M38.6936 29.9832L12.8633 5.88983V29.9832H38.6936Z M39.5005 29.9832L65.3308 5.88983V29.9832H39.5005Z M38.7227 2L38.7227 90.2534 M64.5246 53.7584L38.6943 30.0068V62.9404L64.5246 85.9724V53.7584Z M12.8924 53.7584L38.7227 30.0068V62.9404L12.8924 85.9724V53.7584Z M2.28711 29.9832V64.4236H12.8863V53.7348L38.7226 29.9832H2.28711Z M38.6943 30.3L64.5246 54.0515V64.7403H75.2872V30.3L38.6943 30.3Z",className:a,strokeWidth:"4.30504",strokeMiterlimit:"10"})]})})});Ate.displayName="Full";const jte=T.memo(({width:e,fillColor:t,...n})=>{const r=U("h-auto group",e,{});return l.jsx("div",{className:r,...n,children:l.jsxs("svg",{viewBox:"0 0 1456 187",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M311.555 34.9571C330.01 34.9571 344.672 45.7532 344.672 65.084C344.672 84.4148 330.01 95.3568 311.555 95.3568H279.094V140H265.817V34.9571H311.555ZM279.094 84.0501H309.585C322.643 84.0501 331.396 77.1931 331.396 65.157C331.396 53.0478 322.643 46.2638 309.585 46.2638H279.094V84.0501ZM353.444 102.797C353.444 77.7037 367.669 63.9169 390.209 63.9169C412.823 63.9169 425.151 77.8496 425.151 99.5877V105.934H365.918C366.137 121.399 375.255 131.465 390.209 131.465C404.434 131.465 410.926 123.587 412.093 116.73H423.619V118.918C421.868 128.037 413.187 141.751 390.355 141.751C367.815 141.751 353.444 127.964 353.444 102.797ZM366.064 95.8674H412.896C412.75 83.2477 405.09 74.1294 390.136 74.1294C375.474 74.1294 367.085 83.3936 366.064 95.8674ZM447.732 65.6676H460.133V76.1719H461.3C464.218 69.8985 469.908 65.4487 483.257 65.4487H500.691V76.3907H483.549C467.501 76.3907 460.571 84.7795 460.571 101.849V140H447.732V65.6676ZM517.092 169.179V65.6676H529.638V75.8801H530.805C536.349 67.3453 545.322 63.9898 555.826 63.9898C575.157 63.9898 589.965 77.1202 589.965 102.87C589.965 128.547 575.157 141.678 555.826 141.678C545.541 141.678 536.641 138.395 531.097 130.152H529.93V169.179H517.092ZM529.492 102.87C529.492 120.888 539.121 131.028 553.2 131.028C567.425 131.028 576.981 120.888 576.981 102.87C576.981 84.7795 567.425 74.64 553.2 74.64C539.121 74.64 529.492 84.7795 529.492 102.87ZM637.266 34.9571V129.642H651.272V140H605.899V129.642H624.428V45.2426H610.276V34.9571H637.266ZM665.9 102.797C665.9 77.7037 680.125 63.9169 702.665 63.9169C725.278 63.9169 737.606 77.8496 737.606 99.5877V105.934H678.374C678.593 121.399 687.711 131.465 702.665 131.465C716.89 131.465 723.382 123.587 724.549 116.73H736.074V118.918C734.324 128.037 725.643 141.751 702.811 141.751C680.27 141.751 665.9 127.964 665.9 102.797ZM678.52 95.8674H725.351C725.205 83.2477 717.546 74.1294 702.592 74.1294C687.93 74.1294 679.541 83.3936 678.52 95.8674ZM752.566 65.6676H765.696L786.851 93.3143H788.018L810.85 65.6676H823.762V67.856L795.313 102.36L822.522 137.812V140H809.391L787.289 111.186H786.121L762.414 140H749.502V137.812L778.827 102.214L752.566 67.856V65.6676ZM871.43 65.6676V129.642H885.436V140H840.063V129.642H858.591V75.953H844.44V65.6676H871.43ZM857.205 52.9749V38.8962H872.087V52.9749H857.205ZM896.344 65.6676H919.613V43.8566H932.452V65.6676H962.068V76.0989H932.452V127.745L933.619 128.912H961.849V140H938.725C926.543 140 919.613 133.945 919.613 121.836V76.0989H896.344V65.6676ZM973.245 65.6676H986.302L1010.01 124.681H1011.18L1034.81 65.6676H1047.5V67.856L1004.76 169.179H991.992V166.99L1003.66 139.927L973.245 67.856V65.6676ZM1116.67 34.9571H1130.09V128.256H1189.03V140H1116.67V34.9571ZM1205.12 86.3114C1206.66 72.5245 1218.55 63.9169 1237.95 63.9169C1257.21 63.9169 1268.59 72.5245 1268.59 91.0529V140H1256.62V129.787H1255.46C1252.25 135.477 1244.66 141.605 1229.05 141.605C1212.78 141.605 1201.55 133.508 1201.55 119.648C1201.55 104.913 1212.78 98.4205 1227.96 96.5239L1256.19 93.0225V90.3235C1256.19 78.725 1249.84 74.1294 1237.66 74.1294C1225.4 74.1294 1218.18 78.725 1217.16 88.4998H1205.12V86.3114ZM1214.31 119.064C1214.31 126.797 1220.88 131.246 1231.17 131.246C1244.88 131.246 1256.19 123.952 1256.19 107.539V102.943L1230.51 106.299C1220.52 107.612 1214.31 111.259 1214.31 119.064ZM1291.61 34.9571H1304.44V75.5153H1305.61C1311.16 67.1995 1320.06 63.9898 1330.34 63.9898C1349.67 63.9898 1364.48 77.1202 1364.48 102.87C1364.48 128.547 1349.67 141.678 1330.34 141.678C1319.84 141.678 1310.86 138.322 1305.32 129.787H1304.15V140H1291.61V34.9571ZM1304.01 102.87C1304.01 120.888 1313.64 131.028 1327.71 131.028C1341.94 131.028 1351.49 120.888 1351.49 102.87C1351.49 84.7795 1341.94 74.64 1327.71 74.64C1313.64 74.64 1304.01 84.7795 1304.01 102.87ZM1381.07 85.1443C1381.07 71.941 1392.52 63.9898 1411.78 63.9898C1431.18 63.9898 1443 71.941 1444.17 86.0926V88.281H1432.42C1431.91 77.9955 1423.74 74.1294 1411.85 74.1294C1400.04 74.1294 1393.4 77.9226 1393.4 84.8525C1393.4 91.7824 1399.09 94.4085 1407.19 95.3568L1419.95 96.9616C1434.98 98.7853 1445.41 105.132 1445.41 118.773C1445.41 132.487 1434.54 141.678 1413.9 141.678C1393.25 141.678 1380.34 132.559 1379.39 119.064V116.876H1391.36C1392.09 126.943 1401.28 131.538 1413.9 131.538C1426.59 131.538 1433.01 126.87 1433.01 119.429C1433.01 112.134 1426.95 108.852 1417.18 107.612L1404.41 106.007C1390.41 104.329 1381.07 98.2017 1381.07 85.1443Z",className:t}),l.jsx("path",{d:"M59.4967 39.8367C30.9654 39.8367 7.83624 62.9671 7.83624 91.5C7.83624 120.033 30.9654 143.163 59.4967 143.163C83.9985 143.163 104.516 126.105 109.823 103.216H117.84C112.399 130.466 88.3457 151 59.4967 151C26.6376 151 0 124.361 0 91.5C0 58.639 26.6376 32 59.4967 32C91.0393 32 116.849 56.5473 118.866 87.5817H155.879L123.292 54.9276L128.838 49.3918L161.428 82.0483L161.387 35.9218L169.223 35.9149L169.264 82.0641L201.87 49.3918L207.416 54.9276L174.829 87.5817H221V95.4183H174.771L207.416 128.131L201.87 133.667L169.281 101.011L169.321 147.157L161.485 147.163L161.444 100.993L128.838 133.667L123.292 128.131L155.937 95.4183H129.748V95.3791H84.6892V95.4183H59.495V87.5817H111.011C109.008 60.8792 86.7098 39.8367 59.4967 39.8367Z",className:t})]})})});jte.displayName="Labs";const Pte=T.memo(({lineColor:e,width:t,...n})=>{const r=U("h-auto group ",t);return l.jsx("div",{className:r,...n,children:l.jsx("svg",{viewBox:"0 0 101 116",stroke:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{className:e,d:"M86.4325 6.53418L50.4634 36.9696H86.4325V6.53418Z M50.4625 36.9696L17.2603 6.53418V36.9696H50.4625Z M50.4634 1L50.4634 114.441 M83.6656 70.172L50.4634 36.9697V79.3026L83.6656 108.908V70.172Z M17.2603 70.172L50.4625 36.9697V78.4497L17.2603 108.908V70.172Z M3.42627 36.9697V81.2394H17.2605V70.172L50.4628 36.9697H3.42627Z M50.4634 36.9697L83.6656 70.172V81.2394H97.4999V36.9697L50.4634 36.9697Z",strokeWidth:"5.53371",strokeMiterlimit:"10"})})})});Pte.displayName="Mark";const c1=T.memo(({width:e="w-10",sizeVariant:t="regular",fillColor:n="fill-super",svgClassName:r,...s})=>{const a=U("h-auto group",e);return l.jsx("div",{className:a,...s,children:t==="small"?l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1102.02 529.46",className:r,children:[l.jsx("path",{className:n,d:"M1068.23,126.49c-23.5-41.68-58.35-75.11-100.77-96.67C928.5,10.04,884.37,0,836.29,0H66.16C29.56,0-.08,29.71,0,66.3l1,463.16h109.72V107.9h78.16v24.37c0,2.66,3.19,3.99,5.1,2.13,20.89-20.25,50.62-30.5,88.64-30.5,26.8,0,51.2,6.11,72.52,18.17,21.44,12.13,38.59,30.51,50.96,54.66h0c12.27,23.95,18.49,53.6,18.49,88.14s-6.22,63.91-18.49,87.85c-12.37,24.14-29.52,42.53-50.96,54.66-21.33,12.06-45.73,18.17-72.52,18.17-16.55,0-55.7-2.68-87.27-25.54-1.98-1.43-4.75-.01-4.75,2.43v127.02h645.68c48.09,0,92.22-10.03,131.18-29.83,42.41-21.55,77.26-54.98,100.78-96.69,22.41-39.76,33.78-86.22,33.78-138.07s-11.37-98.6-33.79-138.39ZM650.3,177.46h-33.53c-23.25,0-40.37,6.1-50.86,18.14-10.7,12.27-16.12,32.09-16.12,58.91v164.71h-79.89V107.9h77.01v20.91c0,2.68,3.28,4.04,5.13,2.11,4.56-4.76,9.87-8.79,15.89-12.06,11.94-6.49,28.27-9.77,48.55-9.77h33.81v68.37ZM967.21,352.21c-13.66,24.23-33.03,42.83-57.56,55.29-24.32,12.36-52.71,18.62-84.38,18.62s-60.35-6.27-84.67-18.62c-24.54-12.46-43.9-31.07-57.56-55.29-13.58-24.09-20.47-53.47-20.47-87.34s6.89-63.54,20.47-87.63c13.65-24.22,33.02-42.82,57.56-55.29,24.33-12.36,52.81-18.62,84.67-18.62s60.06,6.27,84.38,18.62c24.53,12.47,43.9,31.07,57.56,55.29,13.58,24.1,20.47,53.58,20.47,87.63s-6.89,63.25-20.47,87.34Z"}),l.jsx("path",{className:n,d:"M868.46,179.51c-12.16-7.28-26.7-10.97-43.2-10.97s-31.32,3.69-43.48,10.97c-12.07,7.23-21.57,18.05-28.23,32.16-6.79,14.4-10.23,32.3-10.23,53.2s3.45,38.57,10.24,53.07c6.66,14.2,16.19,25.06,28.35,32.28,12.26,7.29,26.85,10.98,43.36,10.98s31.04-3.69,43.2-10.97c12.07-7.23,21.56-18.09,28.22-32.29,6.79-14.5,10.24-32.35,10.24-53.07s-3.45-38.57-10.24-53.07c-6.66-14.2-16.15-25.07-28.22-32.29Z"}),l.jsx("path",{className:n,d:"M221.1,351.54c12.26,7.29,26.85,10.98,43.36,10.98s31.04-3.69,43.2-10.97c12.07-7.23,21.56-18.09,28.22-32.29,6.79-14.5,10.24-32.35,10.24-53.07s-3.45-38.57-10.24-53.07c-6.66-14.2-16.15-25.06-28.22-32.29-12.16-7.28-26.7-10.97-43.19-10.97s-31.32,3.69-43.48,10.97c-12.07,7.23-21.57,18.05-28.23,32.16-6.79,14.4-10.23,32.3-10.23,53.2s3.45,38.57,10.24,53.07c6.66,14.2,16.19,25.06,28.35,32.28Z"})]}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 804.75 382.36",children:[l.jsx("path",{className:n,d:"M558.95,126.72c-27.44,27.72-27.17,101.45,0,129.38,25.44,28.65,83.99,28.94,109.2,0h0c13.9-14.68,20.94-38.51,20.94-64.92,0-26.44-7.04-50.1-20.98-64.5-25.23-29.51-83.73-29.21-109.17.04Z"}),l.jsx("path",{className:n,d:"M780.18,91.05l-.13-.24c-16.48-29.44-40.65-53.13-69.89-68.52l-.17-.09c-27.73-14.73-58.76-22.2-92.21-22.2H30.68C14.13,0,.71,13.4.68,29.94l-.68,352.42h61.16V69.44h51.68v20.46c0,2.11,2.57,3.13,4.03,1.6,47.58-52.18,144.58-36.94,178.65,27.45,11.54,19.66,17.39,43.96,17.39,72.23,1.63,73.04-48.06,131.68-120.25,131.21-32.37,0-57.81-12.59-75.79-31.52-1.45-1.53-4.03-.51-4.03,1.6v89.9h504.93c33.45,0,64.43-7.45,92.09-22.14l.17-.09c29.33-15.43,53.53-39.13,69.99-68.53l.14-.25c16.31-28.74,24.58-62.44,24.58-100.17s-8.27-71.4-24.57-100.13ZM479.99,118.23c-23.81.5-56.08-3.74-72.26,13-8.74,8.61-13.17,23.4-13.17,43.96v140.34h-51.67V69.44h51.67v20.46c0,2.35,3.08,3.22,4.32,1.22,5.01-8.06,10.34-13.58,16.12-16.74,9.81-5.62,23.28-8.48,40.05-8.48h24.94v52.31ZM613.77,322.39c-75.99.52-128.52-54.09-127-131.21,0-27.33,5.53-51.14,16.45-70.78,43.24-80.65,177.73-80.74,220.65-.03,11.22,19.65,16.91,43.48,16.91,70.8,1.27,76.58-51.1,131.74-127,131.21Z"}),l.jsx("path",{className:n,d:"M240.29,256.1h0c13.9-14.68,20.94-38.51,20.94-64.92,0-26.44-7.04-50.1-20.98-64.5-25.23-29.51-83.73-29.21-109.17.04-27.44,27.72-27.18,101.45,0,129.38,25.44,28.65,83.99,28.94,109.2,0Z"})]})})});c1.displayName="Pro";const EM=T.memo(({width:e,fillColor:t,isPro:n,isMax:r,...s})=>{const a=U("h-auto group",e,{"":n});return n?l.jsx("div",{className:a,...s,children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3913.07 632",children:[l.jsx("path",{className:t,d:"M972.21,137.43h30.23v62.43h-39.13c-30.66,0-53.52,7.39-68.68,22.22-15.07,14.78-22.64,39.1-22.64,72.9v204.71h-61.76V138.85h61.76v57.58c0,3.25,1.63,4.85,4.8,4.85,1.81,0,3.17-.45,4.14-1.38.97-.94,1.8-2.76,2.77-5.57,11.89-37.9,41.46-56.87,88.55-56.87h-.04v-.04ZM1383.06,214.78c16.21,28.9,24.36,63.73,24.36,104.43s-8.11,75.53-24.36,104.43c-16.26,28.9-37.32,50.54-63.18,64.88-25.86,14.34-53.66,21.51-83.39,21.51-58.59,0-99.78-23.6-123.57-70.81-1.81-3.7-4.14-5.57-6.87-5.57s-4.14,1.38-4.14,4.19v193.63h-61.77V138.81h61.77v61.77c0,2.76,1.36,4.19,4.14,4.19s5.02-1.83,6.87-5.57c23.79-47.2,64.98-70.81,123.57-70.81,29.73,0,57.53,7.17,83.39,21.51,25.86,14.34,46.88,35.98,63.18,64.88ZM1345.7,319.21c0-42.57-11.32-75.75-33.97-99.57-22.64-23.83-52.46-35.72-89.6-35.72s-66.96,11.93-89.61,35.72c-22.68,23.82-30.96,57.04-30.96,99.57s8.32,75.75,30.96,99.57c22.65,23.87,52.51,35.72,89.61,35.72s66.96-11.93,89.6-35.72c22.65-23.78,33.97-57.04,33.97-99.57ZM342.87,215.31c16.21,28.9,24.36,63.73,24.36,104.43s-8.11,75.53-24.36,104.43c-16.26,28.9-37.31,50.55-63.17,64.88-25.86,14.34-53.66,21.51-83.39,21.51-58.59,0-99.78-23.6-123.57-70.81-1.8-3.7-4.14-5.57-6.87-5.57s-4.14,1.38-4.14,4.18v193.63H0V139.34h61.76v61.76c0,2.76,1.36,4.19,4.14,4.19s5.02-1.83,6.87-5.57c23.79-47.2,64.98-70.81,123.57-70.81,29.74,0,57.53,7.17,83.39,21.51,25.86,14.34,46.87,35.98,63.17,64.88h-.05ZM305.46,319.74c0-42.57-11.32-75.75-33.96-99.57-22.65-23.78-52.51-35.72-89.61-35.72s-66.96,11.93-89.6,35.72c-22.64,23.87-30.97,57.05-30.97,99.57s8.33,75.75,30.97,99.58c22.64,23.87,52.47,35.71,89.6,35.71s66.96-11.93,89.61-35.71c22.64-23.78,33.96-57.05,33.96-99.58ZM701.07,385.07h65.2c-8.68,33.8-26.43,63.05-53.17,87.77-26.79,24.76-65.11,37.1-115.02,37.1-37.53,0-70.57-7.75-99.16-23.25-28.59-15.5-50.66-37.54-66.26-66.26-15.59-28.68-23.35-62.43-23.35-101.31s7.58-72.63,22.64-101.31c15.07-28.68,36.26-50.77,63.48-66.26,27.23-15.5,59.12-23.25,95.73-23.25s66.96,7.66,92.33,22.89c25.42,15.27,44.36,35.54,56.96,60.7,12.6,25.25,18.85,52.86,18.85,82.92v41.64h-284.85c2.24,36.07,14.32,64.8,36.03,86.04,21.72,21.29,50.92,31.93,87.54,31.93,29.73,0,52.55-6.1,68.33-18.39,15.77-12.29,27.31-29.26,34.67-51.03l.04.09ZM473.18,284.47h215.55c0-31.44-8.02-56.11-24.05-73.92-16.03-17.77-41.19-26.72-75.51-26.72-32.03,0-58.24,8.68-78.59,26.05-20.35,17.32-32.82,42.22-37.4,74.59ZM1457.24,499.61h61.81V0h-61.81v499.65-.04ZM2325.88,99.4h72.17V21.24h-72.17v78.15ZM2592.35,445.86c-11.22,1.16-18.01,1.74-20.24,1.74-3.18,0-5.79-.93-7.58-2.81-1.82-1.83-2.77-4.36-2.77-7.66,0-2.27.59-9.13,1.76-20.48,1.09-11.31,1.71-28.81,1.71-52.37v-172.65h88.1l-17.36-52.86h-70.71V41.59h-61.74v97.13h-67.2v52.86h67.2v189.97c0,39.81,9.65,69.43,28.83,88.84,19.21,19.42,48.51,29.17,87.91,29.17h48.05v-55.49h-24.05c-23.34,0-40.63.58-51.85,1.74l-.06.05ZM2965.71,138.76l-102.29,302.77c-1.35,3.74-3.53,8.6-10.51,8.6s-9.21-4.85-10.6-8.6l-102.29-302.77h-62.99l118.46,360.85h41.9c2.72,0,4.81.27,6.22.71,1.36.45,2.5,1.6,3.43,3.47,1.79,2.76,1.57,6.95-.71,12.47l-19.21,52.73c-2.77,6.95-8.02,10.42-15.76,10.42-2.77,0-9.16-.58-19.22-1.74-10.08-1.16-23.07-1.73-39.1-1.73h-50.14v55.48h65.9c38.45,0,61.58-6.59,81.5-19.77,19.92-13.18,35.33-36.43,46.33-69.73l127.94-389.3v-13.85h-58.86ZM2116.82,273.38l-96.8-134.62h-67.96v13.85l115.98,156.13-141.42,176.97v13.85h69.35l112.59-145.04,105.03,145.04h66.61v-13.85l-122.92-166.55,133.24-165.84v-14.56h-69.35l-104.32,134.62h-.03ZM2332.45,499.61h61.8V138.81h-61.8v360.84-.04ZM1925.78,385.07c-8.72,33.8-26.41,63.05-53.15,87.77-26.8,24.76-65.12,37.1-115.04,37.1-37.52,0-70.57-7.75-99.16-23.25-28.64-15.5-50.65-37.54-66.25-66.26-15.55-28.68-23.31-62.43-23.31-101.31s7.58-72.63,22.65-101.31c15.12-28.68,36.26-50.77,63.49-66.26,27.2-15.5,59.1-23.25,95.76-23.25s66.96,7.66,92.37,22.89c25.38,15.27,44.38,35.54,56.96,60.7,12.61,25.25,18.86,52.86,18.86,82.92v41.64h-284.88c2.29,36.07,14.3,64.8,36.04,86.04,21.71,21.29,50.92,31.93,87.53,31.93,29.73,0,52.56-6.1,68.32-18.39,15.76-12.29,27.31-29.26,34.62-51.03h65.24l-.05.09ZM1634.25,284.47h215.55c0-31.44-8.02-56.11-24-73.92-16.06-17.77-41.19-26.72-75.52-26.72-32.04,0-58.23,8.68-78.59,26.05-20.35,17.32-32.85,42.22-37.39,74.59h-.05Z"}),l.jsxs("g",{children:[l.jsx("path",{className:"fill-super",d:"M3355.84,188.2c-34.07-64.39-131.07-79.63-178.65-27.45-1.45,1.53-4.03.51-4.03-1.6v-20.46s-51.68,0-51.68,0v360.92h51.68v-137.9c0-2.11,2.57-3.13,4.03-1.6,17.98,18.93,43.42,31.52,75.79,31.52,72.2.47,121.88-58.16,120.25-131.21,0-28.27-5.85-52.57-17.39-72.23ZM3321.56,260.43c0,26.4-7.05,50.24-20.94,64.92h0c-25.21,28.94-83.76,28.65-109.2,0-27.18-27.93-27.44-101.65,0-129.38,25.44-29.25,83.94-29.55,109.17-.04,13.94,14.4,20.97,38.06,20.98,64.5Z"}),l.jsx("path",{className:"fill-super",d:"M3678.1,499.61h-438.05v-48.22h438.05c33.41,0,64.39-7.45,92.07-22.16,29.4-15.46,53.58-39.15,70.02-68.56l.08-.14c16.31-28.72,24.58-62.4,24.58-100.11s-8.26-71.36-24.56-100.07l-.08-.13c-16.46-29.43-40.64-53.13-69.93-68.54-27.79-14.76-58.78-22.22-92.19-22.22h-555.91V21.24h555.91c41.39,0,79.99,9.36,114.73,27.81,37.45,19.7,68.41,49.99,89.43,87.55,20.45,36.05,30.82,77.7,30.82,123.82s-10.38,87.81-30.84,123.86c-21,37.53-51.96,67.81-89.53,87.57-34.63,18.4-73.22,27.75-114.61,27.75Z"}),l.jsx("path",{className:"fill-super",d:"M3784.19,189.62c-42.92-80.72-177.41-80.62-220.65.03-10.91,19.63-16.45,43.44-16.45,70.78-1.52,77.12,51.01,131.73,127,131.21,75.9.53,128.27-54.63,127-131.21,0-27.33-5.69-51.15-16.91-70.8ZM3749.42,260.43c0,26.4-7.05,50.24-20.94,64.92h0c-25.21,28.94-83.76,28.65-109.2,0-27.17-27.93-27.44-101.65,0-129.38,25.44-29.25,83.94-29.55,109.17-.04,13.94,14.4,20.97,38.06,20.98,64.5Z"}),l.jsx("path",{className:"fill-super",d:"M3515.38,135.16c-16.77,0-30.24,2.85-40.05,8.48-5.78,3.15-11.11,8.68-16.12,16.74-1.24,2-4.32,1.13-4.32-1.22v-20.46s-51.67,0-51.67,0v246.1h51.67v-140.34c0-20.57,4.43-35.36,13.17-43.97,16.17-16.75,48.45-12.5,72.26-13v-52.31h-24.94Z"})]})]})}):r?l.jsx("div",{className:a,...s,children:l.jsxs("svg",{viewBox:"0 0 485 74",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M113.78 16.0915H117.318V23.4013H112.739C109.15 23.4013 106.475 24.2666 104.701 26.003C102.937 27.7336 102.051 30.5812 102.051 34.5388V58.508H94.8233V16.2578H102.051V22.9997C102.051 23.3803 102.242 23.5676 102.613 23.5676C102.825 23.5676 102.984 23.5149 103.098 23.406C103.211 23.2959 103.308 23.0828 103.422 22.7538C104.813 18.3162 108.274 16.095 113.785 16.095H113.78V16.0903V16.0915ZM161.863 25.1483C163.76 28.5322 164.714 32.6103 164.714 37.3759C164.714 42.1414 163.765 46.2196 161.863 49.6034C159.96 52.9873 157.495 55.5211 154.469 57.2001C151.443 58.8792 148.189 59.7187 144.71 59.7187C137.853 59.7187 133.032 56.9554 130.248 51.4277C130.036 50.9944 129.763 50.7755 129.444 50.7755C129.124 50.7755 128.959 50.9371 128.959 51.2661V73.9379H121.73V16.2531H128.959V23.4856C128.959 23.8088 129.119 23.9762 129.444 23.9762C129.769 23.9762 130.031 23.762 130.248 23.324C133.032 17.7975 137.853 15.033 144.71 15.033C148.189 15.033 151.443 15.8725 154.469 17.5516C157.495 19.2306 159.955 21.7644 161.863 25.1483ZM157.491 37.3759C157.491 32.3914 156.166 28.5064 153.515 25.7173C150.866 22.9271 147.376 21.5349 143.029 21.5349C138.682 21.5349 135.193 22.9318 132.542 25.7173C129.887 28.5064 128.918 32.3961 128.918 37.3759C128.918 42.3556 129.892 46.2453 132.542 49.0344C135.193 51.8293 138.687 53.2168 143.029 53.2168C147.371 53.2168 150.866 51.8199 153.515 49.0344C156.166 46.25 157.491 42.3556 157.491 37.3759ZM40.127 25.2103C42.0241 28.5942 42.9779 32.6724 42.9779 37.4379C42.9779 42.2034 42.0287 46.2816 40.127 49.6655C38.224 53.0493 35.7605 55.5843 32.734 57.2622C29.7076 58.9412 26.454 59.7808 22.9747 59.7808C16.1177 59.7808 11.2972 57.0175 8.51295 51.4897C8.30229 51.0565 8.02844 50.8375 7.70894 50.8375C7.38944 50.8375 7.22442 50.9991 7.22442 51.327V73.9988H0V16.3151H7.22793V23.5465C7.22793 23.8697 7.3871 24.0371 7.71245 24.0371C8.0378 24.0371 8.29995 23.8228 8.51646 23.3849C11.3007 17.8584 16.1212 15.0939 22.9782 15.0939C26.4587 15.0939 29.7111 15.9334 32.7375 17.6125C35.764 19.2915 38.2228 21.8253 40.1305 25.2092H40.1246L40.127 25.2103ZM35.7488 37.4379C35.7488 32.4534 34.424 28.5684 31.7743 25.7794C29.1236 22.995 25.629 21.597 21.2871 21.597C16.9451 21.597 13.4506 22.9939 10.8009 25.7794C8.15132 28.5743 7.17644 32.4593 7.17644 37.4379C7.17644 42.4165 8.15132 46.3074 10.8009 49.0976C13.4506 51.8925 16.9416 53.2788 21.2871 53.2788C25.6325 53.2788 29.1236 51.882 31.7743 49.0976C34.424 46.3132 35.7488 42.4177 35.7488 37.4379ZM82.048 45.0873H89.6786C88.6627 49.0449 86.5854 52.4697 83.4559 55.3642C80.3206 58.2633 75.8359 59.7082 69.9949 59.7082C65.6026 59.7082 61.7359 58.8007 58.3899 56.9859C55.0439 55.171 52.461 52.5903 50.6353 49.2276C48.8108 45.8695 47.9026 41.9177 47.9026 37.3653C47.9026 32.8129 48.7897 28.8612 50.5522 25.5031C52.3159 22.145 54.7958 19.5585 57.9815 17.7448C61.1683 15.9299 64.9004 15.0225 69.185 15.0225C73.4695 15.0225 77.0215 15.9194 79.9906 17.7026C82.9656 19.4906 85.1822 21.864 86.6568 24.8099C88.1314 27.7664 88.8628 30.9992 88.8628 34.5189V39.3945H55.5261C55.7883 43.6178 57.202 46.9818 59.7428 49.4688C62.2847 51.9616 65.7021 53.2074 69.9878 53.2074C73.4672 53.2074 76.1379 52.4932 77.9847 51.0541C79.8303 49.6151 81.1808 47.6281 82.0422 45.0791L82.0469 45.0896L82.048 45.0873ZM55.3775 33.3082H80.6039C80.6039 29.6269 79.6653 26.7384 77.7892 24.653C75.9132 22.5723 72.9686 21.5244 68.9521 21.5244C65.2035 21.5244 62.1361 22.5407 59.7545 24.5746C57.3729 26.6025 55.9135 29.518 55.3775 33.3082ZM170.545 58.4986H177.778V0H170.545V58.5033V58.4986ZM272.204 11.6386H280.65V2.49282H272.204V11.6386ZM303.389 52.2051C302.076 52.3409 301.282 52.4089 301.021 52.4089C300.649 52.4089 300.343 52.3 300.134 52.0798C299.921 51.8656 299.809 51.5693 299.809 51.1829C299.809 50.9171 299.878 50.1139 300.015 48.785C300.143 47.4607 300.216 45.4116 300.216 42.653V22.4377H310.526L308.494 16.2484H300.219V4.86971H292.993V16.2425H285.129V22.4318H292.993V44.6752C292.993 49.3365 294.123 52.8046 296.367 55.0773C298.616 57.3512 302.045 58.4928 306.656 58.4928H312.279V51.9955H309.465C306.733 51.9955 304.71 52.0634 303.396 52.1993L303.389 52.2051ZM347.085 16.2425L335.113 51.6993C334.955 52.1372 334.7 52.7063 333.883 52.7063C333.067 52.7063 332.806 52.1384 332.643 51.6993L320.672 16.2484H313.3L327.163 58.4998H332.067C332.385 58.4998 332.63 58.5314 332.795 58.5829C332.954 58.6356 333.088 58.7703 333.196 58.9892C333.406 59.3124 333.38 59.803 333.113 60.4493L330.865 66.6234C330.541 67.4372 329.927 67.8435 329.021 67.8435C328.697 67.8435 327.949 67.7756 326.771 67.6397C325.592 67.5039 324.071 67.4372 322.195 67.4372H316.327V73.9333H324.04C328.54 73.9333 331.247 73.1616 333.578 71.6184C335.909 70.0752 337.713 67.3529 339 63.4538L353.973 17.8712V16.2437L347.094 16.2496L347.085 16.2437V16.2425ZM247.737 32.0097L236.408 16.2472H228.455V17.8689L242.028 36.1499L225.477 56.8711V58.4928H233.594L246.77 41.5103L259.062 58.4928H266.858V56.8711L252.472 37.37L268.065 17.952V16.2472H259.949L247.74 32.0097H247.737ZM272.973 58.4986H280.205V16.2531H272.973V58.5033V58.4986ZM225.379 45.0873C224.358 49.0449 222.288 52.4697 219.159 55.3642C216.022 58.2633 211.538 59.7082 205.695 59.7082C201.304 59.7082 197.436 58.8007 194.09 56.9859C190.739 55.171 188.163 52.5903 186.337 49.2276C184.517 45.8695 183.609 41.9177 183.609 37.3653C183.609 32.8129 184.496 28.8612 186.26 25.5031C188.029 22.145 190.503 19.5585 193.69 17.7448C196.873 15.9299 200.607 15.0225 204.897 15.0225C209.188 15.0225 212.734 15.9194 215.707 17.7026C218.678 19.4906 220.901 21.864 222.374 24.8099C223.849 27.7664 224.581 30.9992 224.581 34.5189V39.3945H191.241C191.509 43.6178 192.914 46.9818 195.458 49.4688C197.999 51.9616 201.418 53.2074 205.702 53.2074C209.182 53.2074 211.854 52.4932 213.698 51.0541C215.542 49.6151 216.894 47.6281 217.75 45.0791H225.385L225.379 45.0896V45.0873ZM191.261 33.3082H216.487C216.487 29.6269 215.548 26.7384 213.678 24.653C211.799 22.5723 208.858 21.5244 204.84 21.5244C201.09 21.5244 198.025 22.5407 195.642 24.5746C193.261 26.6025 191.798 29.518 191.266 33.3082H191.261Z",className:t}),l.jsxs("g",{children:[l.jsx("path",{d:"M369.705 16.0751V19.7517H370.279C371.485 17.7413 373.552 15.3866 379.007 15.3866C384.461 15.3866 386.93 18.2588 387.906 20.7282H388.48C389.915 18.1429 392.499 15.3866 398.241 15.3866C403.982 15.3866 408.345 18.5457 408.345 25.2666V45.3133H403.293V25.612C403.293 21.7633 401.169 19.4086 397.035 19.4086C392.385 19.4086 389.112 22.2234 389.112 28.0825V45.3145H384.06V25.6131C384.06 21.7644 381.936 19.4098 377.802 19.4098C373.151 19.4098 369.879 22.2246 369.879 28.0837V45.3156H364.827V16.0786H369.707L369.705 16.0751Z",className:"fill-max"}),l.jsx("path",{d:"M412.837 24.5758C413.813 19.1194 418.693 15.3855 425.985 15.3855C433.276 15.3855 438.328 19.1194 438.328 26.2419V45.3121H433.448V41.0045H432.873C431.61 43.0722 428.797 45.9444 422.711 45.9444C416.626 45.9444 412.032 42.7854 412.032 37.5585C412.032 32.3317 416.452 29.5169 422.423 28.9432L433.332 27.9093V26.1283C433.332 21.3605 430.518 19.178 425.869 19.178C421.219 19.178 418.232 21.3605 417.716 25.4387H412.836V24.5769L412.837 24.5758ZM423.573 42.1519C428.912 42.1519 433.333 39.0502 433.333 32.4441V31.6397L423.114 32.6162C419.324 32.9605 417.085 34.3971 417.085 37.3267C417.085 40.2563 419.612 42.1519 423.573 42.1519Z",className:"fill-max"}),l.jsx("path",{d:"M456.8 2.49283C461.595 2.49283 466.06 3.61337 470.071 5.74672C474.452 8.0522 477.928 11.4606 480.394 15.8725C482.786 20.0889 483.999 24.9855 483.999 30.4255C483.999 35.8654 482.786 40.7632 480.394 44.9796C479.086 47.319 477.492 49.3739 475.629 51.1349C474.431 52.2672 473.125 53.2788 471.71 54.1617L468.776 50.4617L455.493 33.7133H455.001L445.815 45.3156H440.418V44.4539L451.985 30.3037L440.418 16.1536V15.2918H445.815L455.001 26.8941H455.493L464.679 15.2918H470.075V16.1536L458.509 30.3037L472.647 47.5052C474.071 46.1142 475.295 44.5054 476.312 42.6858L476.32 42.6718C478.31 39.1685 479.319 35.0481 479.319 30.4255C479.319 25.8028 478.31 21.6837 476.321 18.1792L476.313 18.1651C474.297 14.5541 471.46 11.7686 467.883 9.88697C464.547 8.11308 460.821 7.21618 456.8 7.21618H364.861V2.49283H456.8Z",className:"fill-max"}),l.jsx("path",{d:"M462.359 55.5562L460.611 53.3526C459.374 53.5399 458.103 53.6348 456.8 53.6348H364.861V58.3183H456.8C459.252 58.3183 461.616 58.0326 463.877 57.4706L462.358 55.5562H462.359Z",className:"fill-max"})]})]})}):l.jsx("div",{className:a,...s,children:l.jsx("svg",{viewBox:"0 0 962 202",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M310.846 43.922H320.632V63.8822H307.966C298.037 63.8822 290.638 66.2483 285.737 70.9803C280.852 75.7123 278.401 83.4772 278.401 94.2751V159.698H258.4V44.3666H278.401V62.7707C278.401 63.8028 278.926 64.3269 279.961 64.3269C280.549 64.3269 280.995 64.1839 281.297 63.8822C281.6 63.5805 281.886 62.993 282.188 62.1038C286.039 49.9879 295.602 43.922 310.862 43.922H310.846ZM441.502 68.646C446.753 77.8877 449.395 89.0191 449.395 102.024C449.395 115.029 446.769 126.161 441.502 135.402C436.235 144.644 429.425 151.552 421.055 156.141C412.685 160.73 403.679 163.016 394.052 163.016C375.084 163.016 361.75 155.474 354.048 140.388C353.459 139.213 352.712 138.61 351.82 138.61C350.929 138.61 350.484 139.055 350.484 139.944V201.825H330.482V44.3666H350.484V64.1045C350.484 64.9938 350.929 65.4384 351.82 65.4384C352.712 65.4384 353.444 64.8509 354.048 63.6599C361.75 48.5746 375.084 41.032 394.052 41.032C403.679 41.032 412.685 43.3186 421.055 47.9077C429.425 52.4968 436.235 59.4043 441.502 68.646ZM429.393 102.024C429.393 88.4157 425.733 77.8083 418.397 70.2022C411.062 62.596 401.403 58.785 389.389 58.785C377.376 58.785 367.717 62.596 360.381 70.2022C353.046 77.8242 350.357 88.4316 350.357 102.024C350.357 115.617 353.046 126.24 360.381 133.846C367.717 141.468 377.392 145.263 389.389 145.263C401.387 145.263 411.062 141.452 418.397 133.846C425.733 126.24 429.393 115.617 429.393 102.024ZM111.004 68.8207C116.255 78.0624 118.897 89.1938 118.897 102.199C118.897 115.204 116.271 126.335 111.004 135.577C105.737 144.819 98.9266 151.726 90.5568 156.315C82.1869 160.904 73.1806 163.191 63.5536 163.191C44.5862 163.191 31.2517 155.648 23.5502 140.563C22.9614 139.388 22.2135 138.785 21.3225 138.785C20.4314 138.785 19.9858 139.229 19.9858 140.119V202H0V44.5413H20.0017V64.2792C20.0017 65.1685 20.4473 65.6131 21.3384 65.6131C22.2295 65.6131 22.9614 65.0256 23.5661 63.8346C31.2676 48.7493 44.6021 41.2067 63.5696 41.2067C73.1965 41.2067 82.2028 43.4933 90.5727 48.0824C98.9426 52.6715 105.753 59.579 111.02 68.8207H111.004ZM98.8948 102.199C98.8948 88.5904 95.235 77.983 87.8994 70.3769C80.5639 62.7707 70.9051 58.9597 58.8913 58.9597C46.8776 58.9597 37.2188 62.7707 29.8833 70.3769C22.5477 77.9989 19.8585 88.6062 19.8585 102.199C19.8585 115.792 22.5477 126.415 29.8833 134.021C37.2188 141.643 46.8776 145.438 58.8913 145.438C70.9051 145.438 80.5639 141.627 87.8994 134.021C95.235 126.415 98.8948 115.792 98.8948 102.199ZM221.578 123.08H242.694C239.878 133.878 234.133 143.231 225.477 151.139C216.805 159.047 204.393 163.001 188.242 163.001C176.085 163.001 165.392 160.523 156.131 155.569C146.87 150.615 139.726 143.564 134.682 134.386C129.637 125.224 127.123 114.426 127.123 102.008C127.123 89.5908 129.574 78.7929 134.459 69.6305C139.344 60.4682 146.202 53.4019 155.017 48.4476C163.833 43.4933 174.16 41.0161 186.015 41.0161C197.869 41.0161 207.687 43.4615 215.914 48.3365C224.14 53.2114 230.283 59.6901 234.356 67.7409C238.43 75.8076 240.466 84.6364 240.466 94.2434V107.55H148.239C148.971 119.079 152.869 128.257 159.902 135.053C166.936 141.849 176.388 145.263 188.242 145.263C197.869 145.263 205.252 143.31 210.36 139.388C215.468 135.466 219.208 130.035 221.578 123.08ZM148.462 90.9246H218.253C218.253 80.873 215.659 72.9969 210.472 67.2963C205.284 61.6115 197.137 58.7532 186.03 58.7532C175.656 58.7532 167.174 61.5321 160.587 67.074C153.999 72.6158 149.957 80.5713 148.477 90.9087L148.462 90.9246ZM465.227 159.682H485.229V0H465.227V159.698V159.682ZM742.753 31.7744H766.113V6.8122H742.753V31.7744ZM825.163 142.5C821.535 142.866 819.339 143.056 818.607 143.056C817.573 143.056 816.745 142.755 816.157 142.167C815.568 141.579 815.266 140.77 815.266 139.722C815.266 138.991 815.457 136.8 815.823 133.179C816.189 129.559 816.379 123.969 816.379 116.443V61.2622H844.91L839.293 44.3666H816.395V13.3068H796.394V44.3508H774.642V61.2463H796.394V121.969C796.394 134.688 799.512 144.152 805.734 150.361C811.956 156.569 821.44 159.682 834.185 159.682H849.748V141.945H841.966C834.408 141.945 828.807 142.135 825.179 142.5H825.163ZM942.198 44.3508L909.084 141.119C908.639 142.31 907.939 143.866 905.663 143.866C903.388 143.866 902.688 142.31 902.242 141.119L869.129 44.3508H848.729L887.078 159.682H900.635C901.526 159.682 902.194 159.761 902.64 159.904C903.086 160.047 903.451 160.412 903.754 161.016C904.343 161.905 904.263 163.239 903.531 165.001L897.309 181.849C896.418 184.072 894.716 185.184 892.201 185.184C891.31 185.184 889.242 184.993 885.98 184.628C882.718 184.263 878.501 184.072 873.314 184.072H857.083V201.809H878.421C890.865 201.809 898.359 199.698 904.804 195.49C911.248 191.281 916.245 183.85 919.809 173.195L961.229 48.7652V44.3349H942.198V44.3508ZM677.418 87.3835L646.086 44.3508H624.08V48.7811L661.633 98.6896L615.853 155.251V159.682H638.305L674.76 113.33L708.765 159.682H730.326V155.251L690.545 102.024L733.667 49.0193V44.3666H711.215L677.433 87.3994L677.418 87.3835ZM744.886 159.682H764.887V44.3666H744.886V159.698V159.682ZM616.76 123.08C613.943 133.878 608.199 143.231 599.543 151.139C590.871 159.047 578.459 163.001 562.308 163.001C550.151 163.001 539.458 160.523 530.197 155.569C520.936 150.615 513.792 143.564 508.747 134.386C503.703 125.224 501.189 114.426 501.189 102.008C501.189 89.5908 503.64 78.7929 508.525 69.6305C513.41 60.4682 520.268 53.4019 529.083 48.4476C537.899 43.4933 548.226 41.0161 560.08 41.0161C571.935 41.0161 581.753 43.4615 589.98 48.3365C598.206 53.2114 604.348 59.6901 608.422 67.7409C612.495 75.8076 614.532 84.6364 614.532 94.2434V107.55H522.305C523.037 119.079 526.935 128.257 533.968 135.053C541.002 141.849 550.453 145.263 562.308 145.263C571.935 145.263 579.318 143.31 584.426 139.388C589.534 135.466 593.273 130.035 595.644 123.08H616.76ZM522.527 90.9246H592.319C592.319 80.873 589.725 72.9969 584.538 67.2963C579.35 61.6115 571.203 58.7532 560.096 58.7532C549.721 58.7532 541.24 61.5321 534.653 67.074C528.065 72.6158 524.023 80.5713 522.543 90.9087L522.527 90.9246Z",className:t})})})});EM.displayName="Word";const VBe={tiny:"w-4 md:w-6",small:"",md:"w-10","md-large":"w-20",large:"w-24",xl:"w-36"},GBe="w-6 md:w-8",Es=T.memo(({size:e="large",includeEffects:t=!1,isPro:n=!1,variant:r="full",color:s="textMain",...a})=>{let i="w-28 md:w-[140px]";e==="tiny"?i="w-14 md:w-16":e==="small"?i="w-24":e==="large"?i="w-40 md:w-52":e==="xl"&&(i="w-64");const o=VBe?.[e]||GBe;let c="w-6";e==="large"?c="w-12":e==="md-large"?c="w-8":e==="xl"&&(c="w-36");const u=U("",{"stroke-textMain dark:stroke-textMainDark":s==="textMain","stroke-textOff dark:stroke-textOff":s==="textOff","stroke-super":s==="super"||s==="mixed","stroke-caution":s==="caution","stroke-textMainDark":s==="white","stroke-background":s==="background","group-hover:stroke-super transition-colors duration-300":t}),d=U(" block",{"fill-textMain dark:fill-textMainDark":s==="textMain"||s==="mixed","fill-textOff dark:fill-textOff":s==="textOff","fill-super":s==="super","fill-caution":s==="caution","fill-textMainDark":s==="white","fill-background":s==="background","group-hover:fill-super transition-colors duration-300":t});return r==="pro"?l.jsx(c1,{width:c,fillColor:d,...a}):r==="mark"?l.jsx("div",{className:U({"transition-all duration-300 ease-in-out hover:scale-105":t}),children:l.jsx(Pte,{lineColor:u,width:o,...a})}):r==="text"?l.jsx(EM,{fillColor:d,width:i,isPro:n,...a}):r==="max-text"?l.jsx(EM,{fillColor:d,width:i,isMax:!0,...a}):r==="full"?l.jsx(Ate,{fillColor:d,lineColor:u,width:i,...a}):r==="labs"?l.jsx(jte,{width:i,fillColor:d,...a}):null});function $n({name:e,path:t,variant:n="stroked"}){const r=T.forwardRef((s,a)=>{const{size:i=24,...o}=s,c=typeof i=="number"?`${i}`:i||"24",u=n==="filled"?{fill:"currentColor",fillRule:"evenodd"}:{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"};return l.jsx("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",...o,...u,children:l.jsx("path",{d:t})})});return r.displayName=e,r}const pR=$n({path:"M15.966 5.901c.144 0 .366.017.667.052.307.027.656.102 1.046.225.39.123.786.322 1.19.595.402.273.775.656 1.117 1.148-.034.02-.164.113-.39.277a5.377 5.377 0 0 0-.748.718c-.28.308-.527.7-.739 1.18-.205.47-.307 1.035-.307 1.691 0 .752.13 1.388.39 1.907.266.52.574.94.922 1.262.356.32.67.557.944.707.28.144.43.219.45.226a15.09 15.09 0 0 1-.153.461c-.096.273-.246.629-.451 1.066a9.353 9.353 0 0 1-.78 1.354 20.42 20.42 0 0 1-.912 1.2 4.325 4.325 0 0 1-1.015.933 2.14 2.14 0 0 1-1.23.369 2.84 2.84 0 0 1-.893-.123 5.877 5.877 0 0 1-.707-.287 5.593 5.593 0 0 0-.728-.277c-.267-.082-.598-.123-.995-.123-.52 0-.954.068-1.302.205a51.31 51.31 0 0 0-.974.42c-.308.137-.67.206-1.087.206-.636 0-1.197-.253-1.682-.76-.478-.505-.97-1.11-1.476-1.814-.39-.56-.746-1.207-1.067-1.938a13.276 13.276 0 0 1-.769-2.328c-.191-.82-.287-1.64-.287-2.46 0-1.313.25-2.417.749-3.313.499-.895 1.138-1.572 1.917-2.03.78-.458 1.59-.687 2.43-.687.445 0 .862.072 1.251.215.397.144.766.29 1.108.441.341.144.652.215.933.215.266 0 .58-.075.943-.225.362-.157.762-.315 1.2-.472a4.273 4.273 0 0 1 1.435-.236Zm-.717-1.66a4.134 4.134 0 0 1-1.293 1.035c-.512.273-.997.41-1.455.41-.096 0-.188-.01-.277-.03a3.556 3.556 0 0 1-.031-.144 2.259 2.259 0 0 1-.01-.226c0-.52.112-1.025.338-1.517.226-.493.485-.903.78-1.23.362-.432.82-.79 1.373-1.078.56-.287 1.098-.44 1.61-.461.02.116.03.25.03.4 0 .526-.098 1.039-.296 1.538a4.818 4.818 0 0 1-.77 1.302Z",name:"IconBrandApple",variant:"filled"});function qBe(e){return Intl.getCanonicalLocales(e)}var $4={supplemental:{languageMatching:{"written-new":[{paradigmLocales:{_locales:"en en_GB es es_419 pt_BR pt_PT"}},{$enUS:{_value:"AS+CA+GU+MH+MP+PH+PR+UM+US+VI"}},{$cnsar:{_value:"HK+MO"}},{$americas:{_value:"019"}},{$maghreb:{_value:"MA+DZ+TN+LY+MR+EH"}},{no:{_desired:"nb",_distance:"1"}},{bs:{_desired:"hr",_distance:"4"}},{bs:{_desired:"sh",_distance:"4"}},{hr:{_desired:"sh",_distance:"4"}},{sr:{_desired:"sh",_distance:"4"}},{aa:{_desired:"ssy",_distance:"4"}},{de:{_desired:"gsw",_distance:"4",_oneway:"true"}},{de:{_desired:"lb",_distance:"4",_oneway:"true"}},{no:{_desired:"da",_distance:"8"}},{nb:{_desired:"da",_distance:"8"}},{ru:{_desired:"ab",_distance:"30",_oneway:"true"}},{en:{_desired:"ach",_distance:"30",_oneway:"true"}},{nl:{_desired:"af",_distance:"20",_oneway:"true"}},{en:{_desired:"ak",_distance:"30",_oneway:"true"}},{en:{_desired:"am",_distance:"30",_oneway:"true"}},{es:{_desired:"ay",_distance:"20",_oneway:"true"}},{ru:{_desired:"az",_distance:"30",_oneway:"true"}},{ur:{_desired:"bal",_distance:"20",_oneway:"true"}},{ru:{_desired:"be",_distance:"20",_oneway:"true"}},{en:{_desired:"bem",_distance:"30",_oneway:"true"}},{hi:{_desired:"bh",_distance:"30",_oneway:"true"}},{en:{_desired:"bn",_distance:"30",_oneway:"true"}},{zh:{_desired:"bo",_distance:"20",_oneway:"true"}},{fr:{_desired:"br",_distance:"20",_oneway:"true"}},{es:{_desired:"ca",_distance:"20",_oneway:"true"}},{fil:{_desired:"ceb",_distance:"30",_oneway:"true"}},{en:{_desired:"chr",_distance:"20",_oneway:"true"}},{ar:{_desired:"ckb",_distance:"30",_oneway:"true"}},{fr:{_desired:"co",_distance:"20",_oneway:"true"}},{fr:{_desired:"crs",_distance:"20",_oneway:"true"}},{sk:{_desired:"cs",_distance:"20"}},{en:{_desired:"cy",_distance:"20",_oneway:"true"}},{en:{_desired:"ee",_distance:"30",_oneway:"true"}},{en:{_desired:"eo",_distance:"30",_oneway:"true"}},{es:{_desired:"eu",_distance:"20",_oneway:"true"}},{da:{_desired:"fo",_distance:"20",_oneway:"true"}},{nl:{_desired:"fy",_distance:"20",_oneway:"true"}},{en:{_desired:"ga",_distance:"20",_oneway:"true"}},{en:{_desired:"gaa",_distance:"30",_oneway:"true"}},{en:{_desired:"gd",_distance:"20",_oneway:"true"}},{es:{_desired:"gl",_distance:"20",_oneway:"true"}},{es:{_desired:"gn",_distance:"20",_oneway:"true"}},{hi:{_desired:"gu",_distance:"30",_oneway:"true"}},{en:{_desired:"ha",_distance:"30",_oneway:"true"}},{en:{_desired:"haw",_distance:"20",_oneway:"true"}},{fr:{_desired:"ht",_distance:"20",_oneway:"true"}},{ru:{_desired:"hy",_distance:"30",_oneway:"true"}},{en:{_desired:"ia",_distance:"30",_oneway:"true"}},{en:{_desired:"ig",_distance:"30",_oneway:"true"}},{en:{_desired:"is",_distance:"20",_oneway:"true"}},{id:{_desired:"jv",_distance:"20",_oneway:"true"}},{en:{_desired:"ka",_distance:"30",_oneway:"true"}},{fr:{_desired:"kg",_distance:"30",_oneway:"true"}},{ru:{_desired:"kk",_distance:"30",_oneway:"true"}},{en:{_desired:"km",_distance:"30",_oneway:"true"}},{en:{_desired:"kn",_distance:"30",_oneway:"true"}},{en:{_desired:"kri",_distance:"30",_oneway:"true"}},{tr:{_desired:"ku",_distance:"30",_oneway:"true"}},{ru:{_desired:"ky",_distance:"30",_oneway:"true"}},{it:{_desired:"la",_distance:"20",_oneway:"true"}},{en:{_desired:"lg",_distance:"30",_oneway:"true"}},{fr:{_desired:"ln",_distance:"30",_oneway:"true"}},{en:{_desired:"lo",_distance:"30",_oneway:"true"}},{en:{_desired:"loz",_distance:"30",_oneway:"true"}},{fr:{_desired:"lua",_distance:"30",_oneway:"true"}},{hi:{_desired:"mai",_distance:"20",_oneway:"true"}},{en:{_desired:"mfe",_distance:"30",_oneway:"true"}},{fr:{_desired:"mg",_distance:"30",_oneway:"true"}},{en:{_desired:"mi",_distance:"20",_oneway:"true"}},{en:{_desired:"ml",_distance:"30",_oneway:"true"}},{ru:{_desired:"mn",_distance:"30",_oneway:"true"}},{hi:{_desired:"mr",_distance:"30",_oneway:"true"}},{id:{_desired:"ms",_distance:"30",_oneway:"true"}},{en:{_desired:"mt",_distance:"30",_oneway:"true"}},{en:{_desired:"my",_distance:"30",_oneway:"true"}},{en:{_desired:"ne",_distance:"30",_oneway:"true"}},{nb:{_desired:"nn",_distance:"20"}},{no:{_desired:"nn",_distance:"20"}},{en:{_desired:"nso",_distance:"30",_oneway:"true"}},{en:{_desired:"ny",_distance:"30",_oneway:"true"}},{en:{_desired:"nyn",_distance:"30",_oneway:"true"}},{fr:{_desired:"oc",_distance:"20",_oneway:"true"}},{en:{_desired:"om",_distance:"30",_oneway:"true"}},{en:{_desired:"or",_distance:"30",_oneway:"true"}},{en:{_desired:"pa",_distance:"30",_oneway:"true"}},{en:{_desired:"pcm",_distance:"20",_oneway:"true"}},{en:{_desired:"ps",_distance:"30",_oneway:"true"}},{es:{_desired:"qu",_distance:"30",_oneway:"true"}},{de:{_desired:"rm",_distance:"20",_oneway:"true"}},{en:{_desired:"rn",_distance:"30",_oneway:"true"}},{fr:{_desired:"rw",_distance:"30",_oneway:"true"}},{hi:{_desired:"sa",_distance:"30",_oneway:"true"}},{en:{_desired:"sd",_distance:"30",_oneway:"true"}},{en:{_desired:"si",_distance:"30",_oneway:"true"}},{en:{_desired:"sn",_distance:"30",_oneway:"true"}},{en:{_desired:"so",_distance:"30",_oneway:"true"}},{en:{_desired:"sq",_distance:"30",_oneway:"true"}},{en:{_desired:"st",_distance:"30",_oneway:"true"}},{id:{_desired:"su",_distance:"20",_oneway:"true"}},{en:{_desired:"sw",_distance:"30",_oneway:"true"}},{en:{_desired:"ta",_distance:"30",_oneway:"true"}},{en:{_desired:"te",_distance:"30",_oneway:"true"}},{ru:{_desired:"tg",_distance:"30",_oneway:"true"}},{en:{_desired:"ti",_distance:"30",_oneway:"true"}},{ru:{_desired:"tk",_distance:"30",_oneway:"true"}},{en:{_desired:"tlh",_distance:"30",_oneway:"true"}},{en:{_desired:"tn",_distance:"30",_oneway:"true"}},{en:{_desired:"to",_distance:"30",_oneway:"true"}},{ru:{_desired:"tt",_distance:"30",_oneway:"true"}},{en:{_desired:"tum",_distance:"30",_oneway:"true"}},{zh:{_desired:"ug",_distance:"20",_oneway:"true"}},{ru:{_desired:"uk",_distance:"20",_oneway:"true"}},{en:{_desired:"ur",_distance:"30",_oneway:"true"}},{ru:{_desired:"uz",_distance:"30",_oneway:"true"}},{fr:{_desired:"wo",_distance:"30",_oneway:"true"}},{en:{_desired:"xh",_distance:"30",_oneway:"true"}},{en:{_desired:"yi",_distance:"30",_oneway:"true"}},{en:{_desired:"yo",_distance:"30",_oneway:"true"}},{zh:{_desired:"za",_distance:"20",_oneway:"true"}},{en:{_desired:"zu",_distance:"30",_oneway:"true"}},{ar:{_desired:"aao",_distance:"10",_oneway:"true"}},{ar:{_desired:"abh",_distance:"10",_oneway:"true"}},{ar:{_desired:"abv",_distance:"10",_oneway:"true"}},{ar:{_desired:"acm",_distance:"10",_oneway:"true"}},{ar:{_desired:"acq",_distance:"10",_oneway:"true"}},{ar:{_desired:"acw",_distance:"10",_oneway:"true"}},{ar:{_desired:"acx",_distance:"10",_oneway:"true"}},{ar:{_desired:"acy",_distance:"10",_oneway:"true"}},{ar:{_desired:"adf",_distance:"10",_oneway:"true"}},{ar:{_desired:"aeb",_distance:"10",_oneway:"true"}},{ar:{_desired:"aec",_distance:"10",_oneway:"true"}},{ar:{_desired:"afb",_distance:"10",_oneway:"true"}},{ar:{_desired:"ajp",_distance:"10",_oneway:"true"}},{ar:{_desired:"apc",_distance:"10",_oneway:"true"}},{ar:{_desired:"apd",_distance:"10",_oneway:"true"}},{ar:{_desired:"arq",_distance:"10",_oneway:"true"}},{ar:{_desired:"ars",_distance:"10",_oneway:"true"}},{ar:{_desired:"ary",_distance:"10",_oneway:"true"}},{ar:{_desired:"arz",_distance:"10",_oneway:"true"}},{ar:{_desired:"auz",_distance:"10",_oneway:"true"}},{ar:{_desired:"avl",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayh",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayl",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayn",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayp",_distance:"10",_oneway:"true"}},{ar:{_desired:"bbz",_distance:"10",_oneway:"true"}},{ar:{_desired:"pga",_distance:"10",_oneway:"true"}},{ar:{_desired:"shu",_distance:"10",_oneway:"true"}},{ar:{_desired:"ssh",_distance:"10",_oneway:"true"}},{az:{_desired:"azb",_distance:"10",_oneway:"true"}},{et:{_desired:"vro",_distance:"10",_oneway:"true"}},{ff:{_desired:"ffm",_distance:"10",_oneway:"true"}},{ff:{_desired:"fub",_distance:"10",_oneway:"true"}},{ff:{_desired:"fue",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuf",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuh",_distance:"10",_oneway:"true"}},{ff:{_desired:"fui",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuq",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuv",_distance:"10",_oneway:"true"}},{gn:{_desired:"gnw",_distance:"10",_oneway:"true"}},{gn:{_desired:"gui",_distance:"10",_oneway:"true"}},{gn:{_desired:"gun",_distance:"10",_oneway:"true"}},{gn:{_desired:"nhd",_distance:"10",_oneway:"true"}},{iu:{_desired:"ikt",_distance:"10",_oneway:"true"}},{kln:{_desired:"enb",_distance:"10",_oneway:"true"}},{kln:{_desired:"eyo",_distance:"10",_oneway:"true"}},{kln:{_desired:"niq",_distance:"10",_oneway:"true"}},{kln:{_desired:"oki",_distance:"10",_oneway:"true"}},{kln:{_desired:"pko",_distance:"10",_oneway:"true"}},{kln:{_desired:"sgc",_distance:"10",_oneway:"true"}},{kln:{_desired:"tec",_distance:"10",_oneway:"true"}},{kln:{_desired:"tuy",_distance:"10",_oneway:"true"}},{kok:{_desired:"gom",_distance:"10",_oneway:"true"}},{kpe:{_desired:"gkp",_distance:"10",_oneway:"true"}},{luy:{_desired:"ida",_distance:"10",_oneway:"true"}},{luy:{_desired:"lkb",_distance:"10",_oneway:"true"}},{luy:{_desired:"lko",_distance:"10",_oneway:"true"}},{luy:{_desired:"lks",_distance:"10",_oneway:"true"}},{luy:{_desired:"lri",_distance:"10",_oneway:"true"}},{luy:{_desired:"lrm",_distance:"10",_oneway:"true"}},{luy:{_desired:"lsm",_distance:"10",_oneway:"true"}},{luy:{_desired:"lto",_distance:"10",_oneway:"true"}},{luy:{_desired:"lts",_distance:"10",_oneway:"true"}},{luy:{_desired:"lwg",_distance:"10",_oneway:"true"}},{luy:{_desired:"nle",_distance:"10",_oneway:"true"}},{luy:{_desired:"nyd",_distance:"10",_oneway:"true"}},{luy:{_desired:"rag",_distance:"10",_oneway:"true"}},{lv:{_desired:"ltg",_distance:"10",_oneway:"true"}},{mg:{_desired:"bhr",_distance:"10",_oneway:"true"}},{mg:{_desired:"bjq",_distance:"10",_oneway:"true"}},{mg:{_desired:"bmm",_distance:"10",_oneway:"true"}},{mg:{_desired:"bzc",_distance:"10",_oneway:"true"}},{mg:{_desired:"msh",_distance:"10",_oneway:"true"}},{mg:{_desired:"skg",_distance:"10",_oneway:"true"}},{mg:{_desired:"tdx",_distance:"10",_oneway:"true"}},{mg:{_desired:"tkg",_distance:"10",_oneway:"true"}},{mg:{_desired:"txy",_distance:"10",_oneway:"true"}},{mg:{_desired:"xmv",_distance:"10",_oneway:"true"}},{mg:{_desired:"xmw",_distance:"10",_oneway:"true"}},{mn:{_desired:"mvf",_distance:"10",_oneway:"true"}},{ms:{_desired:"bjn",_distance:"10",_oneway:"true"}},{ms:{_desired:"btj",_distance:"10",_oneway:"true"}},{ms:{_desired:"bve",_distance:"10",_oneway:"true"}},{ms:{_desired:"bvu",_distance:"10",_oneway:"true"}},{ms:{_desired:"coa",_distance:"10",_oneway:"true"}},{ms:{_desired:"dup",_distance:"10",_oneway:"true"}},{ms:{_desired:"hji",_distance:"10",_oneway:"true"}},{ms:{_desired:"id",_distance:"10",_oneway:"true"}},{ms:{_desired:"jak",_distance:"10",_oneway:"true"}},{ms:{_desired:"jax",_distance:"10",_oneway:"true"}},{ms:{_desired:"kvb",_distance:"10",_oneway:"true"}},{ms:{_desired:"kvr",_distance:"10",_oneway:"true"}},{ms:{_desired:"kxd",_distance:"10",_oneway:"true"}},{ms:{_desired:"lce",_distance:"10",_oneway:"true"}},{ms:{_desired:"lcf",_distance:"10",_oneway:"true"}},{ms:{_desired:"liw",_distance:"10",_oneway:"true"}},{ms:{_desired:"max",_distance:"10",_oneway:"true"}},{ms:{_desired:"meo",_distance:"10",_oneway:"true"}},{ms:{_desired:"mfa",_distance:"10",_oneway:"true"}},{ms:{_desired:"mfb",_distance:"10",_oneway:"true"}},{ms:{_desired:"min",_distance:"10",_oneway:"true"}},{ms:{_desired:"mqg",_distance:"10",_oneway:"true"}},{ms:{_desired:"msi",_distance:"10",_oneway:"true"}},{ms:{_desired:"mui",_distance:"10",_oneway:"true"}},{ms:{_desired:"orn",_distance:"10",_oneway:"true"}},{ms:{_desired:"ors",_distance:"10",_oneway:"true"}},{ms:{_desired:"pel",_distance:"10",_oneway:"true"}},{ms:{_desired:"pse",_distance:"10",_oneway:"true"}},{ms:{_desired:"tmw",_distance:"10",_oneway:"true"}},{ms:{_desired:"urk",_distance:"10",_oneway:"true"}},{ms:{_desired:"vkk",_distance:"10",_oneway:"true"}},{ms:{_desired:"vkt",_distance:"10",_oneway:"true"}},{ms:{_desired:"xmm",_distance:"10",_oneway:"true"}},{ms:{_desired:"zlm",_distance:"10",_oneway:"true"}},{ms:{_desired:"zmi",_distance:"10",_oneway:"true"}},{ne:{_desired:"dty",_distance:"10",_oneway:"true"}},{om:{_desired:"gax",_distance:"10",_oneway:"true"}},{om:{_desired:"hae",_distance:"10",_oneway:"true"}},{om:{_desired:"orc",_distance:"10",_oneway:"true"}},{or:{_desired:"spv",_distance:"10",_oneway:"true"}},{ps:{_desired:"pbt",_distance:"10",_oneway:"true"}},{ps:{_desired:"pst",_distance:"10",_oneway:"true"}},{qu:{_desired:"qub",_distance:"10",_oneway:"true"}},{qu:{_desired:"qud",_distance:"10",_oneway:"true"}},{qu:{_desired:"quf",_distance:"10",_oneway:"true"}},{qu:{_desired:"qug",_distance:"10",_oneway:"true"}},{qu:{_desired:"quh",_distance:"10",_oneway:"true"}},{qu:{_desired:"quk",_distance:"10",_oneway:"true"}},{qu:{_desired:"qul",_distance:"10",_oneway:"true"}},{qu:{_desired:"qup",_distance:"10",_oneway:"true"}},{qu:{_desired:"qur",_distance:"10",_oneway:"true"}},{qu:{_desired:"qus",_distance:"10",_oneway:"true"}},{qu:{_desired:"quw",_distance:"10",_oneway:"true"}},{qu:{_desired:"qux",_distance:"10",_oneway:"true"}},{qu:{_desired:"quy",_distance:"10",_oneway:"true"}},{qu:{_desired:"qva",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qve",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvi",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvj",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvl",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvm",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvn",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvo",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvp",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvs",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvw",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvz",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwa",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qws",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxa",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxl",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxn",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxo",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxp",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxr",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxt",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxu",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxw",_distance:"10",_oneway:"true"}},{sc:{_desired:"sdc",_distance:"10",_oneway:"true"}},{sc:{_desired:"sdn",_distance:"10",_oneway:"true"}},{sc:{_desired:"sro",_distance:"10",_oneway:"true"}},{sq:{_desired:"aae",_distance:"10",_oneway:"true"}},{sq:{_desired:"aat",_distance:"10",_oneway:"true"}},{sq:{_desired:"aln",_distance:"10",_oneway:"true"}},{syr:{_desired:"aii",_distance:"10",_oneway:"true"}},{uz:{_desired:"uzs",_distance:"10",_oneway:"true"}},{yi:{_desired:"yih",_distance:"10",_oneway:"true"}},{zh:{_desired:"cdo",_distance:"10",_oneway:"true"}},{zh:{_desired:"cjy",_distance:"10",_oneway:"true"}},{zh:{_desired:"cpx",_distance:"10",_oneway:"true"}},{zh:{_desired:"czh",_distance:"10",_oneway:"true"}},{zh:{_desired:"czo",_distance:"10",_oneway:"true"}},{zh:{_desired:"gan",_distance:"10",_oneway:"true"}},{zh:{_desired:"hak",_distance:"10",_oneway:"true"}},{zh:{_desired:"hsn",_distance:"10",_oneway:"true"}},{zh:{_desired:"lzh",_distance:"10",_oneway:"true"}},{zh:{_desired:"mnp",_distance:"10",_oneway:"true"}},{zh:{_desired:"nan",_distance:"10",_oneway:"true"}},{zh:{_desired:"wuu",_distance:"10",_oneway:"true"}},{zh:{_desired:"yue",_distance:"10",_oneway:"true"}},{"*":{_desired:"*",_distance:"80"}},{"en-Latn":{_desired:"am-Ethi",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"az-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"bn-Beng",_distance:"10",_oneway:"true"}},{"zh-Hans":{_desired:"bo-Tibt",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"hy-Armn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ka-Geor",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"km-Khmr",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"kn-Knda",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"lo-Laoo",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ml-Mlym",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"my-Mymr",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ne-Deva",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"or-Orya",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"pa-Guru",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ps-Arab",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"sd-Arab",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"si-Sinh",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ta-Taml",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"te-Telu",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ti-Ethi",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"tk-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ur-Arab",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"uz-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"yi-Hebr",_distance:"10",_oneway:"true"}},{"sr-Cyrl":{_desired:"sr-Latn",_distance:"5"}},{"zh-Hans":{_desired:"za-Latn",_distance:"10",_oneway:"true"}},{"zh-Hans":{_desired:"zh-Hani",_distance:"20",_oneway:"true"}},{"zh-Hant":{_desired:"zh-Hani",_distance:"20",_oneway:"true"}},{"ar-Arab":{_desired:"ar-Latn",_distance:"20",_oneway:"true"}},{"bn-Beng":{_desired:"bn-Latn",_distance:"20",_oneway:"true"}},{"gu-Gujr":{_desired:"gu-Latn",_distance:"20",_oneway:"true"}},{"hi-Deva":{_desired:"hi-Latn",_distance:"20",_oneway:"true"}},{"kn-Knda":{_desired:"kn-Latn",_distance:"20",_oneway:"true"}},{"ml-Mlym":{_desired:"ml-Latn",_distance:"20",_oneway:"true"}},{"mr-Deva":{_desired:"mr-Latn",_distance:"20",_oneway:"true"}},{"ta-Taml":{_desired:"ta-Latn",_distance:"20",_oneway:"true"}},{"te-Telu":{_desired:"te-Latn",_distance:"20",_oneway:"true"}},{"zh-Hans":{_desired:"zh-Latn",_distance:"20",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Latn",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hani",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hira",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Kana",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hrkt",_distance:"5",_oneway:"true"}},{"ja-Hrkt":{_desired:"ja-Hira",_distance:"5",_oneway:"true"}},{"ja-Hrkt":{_desired:"ja-Kana",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Hani",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Hang",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Jamo",_distance:"5",_oneway:"true"}},{"ko-Hang":{_desired:"ko-Jamo",_distance:"5",_oneway:"true"}},{"*-*":{_desired:"*-*",_distance:"50"}},{"ar-*-$maghreb":{_desired:"ar-*-$maghreb",_distance:"4"}},{"ar-*-$!maghreb":{_desired:"ar-*-$!maghreb",_distance:"4"}},{"ar-*-*":{_desired:"ar-*-*",_distance:"5"}},{"en-*-$enUS":{_desired:"en-*-$enUS",_distance:"4"}},{"en-*-GB":{_desired:"en-*-$!enUS",_distance:"3"}},{"en-*-$!enUS":{_desired:"en-*-$!enUS",_distance:"4"}},{"en-*-*":{_desired:"en-*-*",_distance:"5"}},{"es-*-$americas":{_desired:"es-*-$americas",_distance:"4"}},{"es-*-$!americas":{_desired:"es-*-$!americas",_distance:"4"}},{"es-*-*":{_desired:"es-*-*",_distance:"5"}},{"pt-*-$americas":{_desired:"pt-*-$americas",_distance:"4"}},{"pt-*-$!americas":{_desired:"pt-*-$!americas",_distance:"4"}},{"pt-*-*":{_desired:"pt-*-*",_distance:"5"}},{"zh-Hant-$cnsar":{_desired:"zh-Hant-$cnsar",_distance:"4"}},{"zh-Hant-$!cnsar":{_desired:"zh-Hant-$!cnsar",_distance:"4"}},{"zh-Hant-*":{_desired:"zh-Hant-*",_distance:"5"}},{"*-*-*":{_desired:"*-*-*",_distance:"4"}}]}}},KBe={"001":["001","001-status-grouping","002","005","009","011","013","014","015","017","018","019","021","029","030","034","035","039","053","054","057","061","142","143","145","150","151","154","155","AC","AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CP","CQ","CR","CU","CV","CW","CX","CY","CZ","DE","DG","DJ","DK","DM","DO","DZ","EA","EC","EE","EG","EH","ER","ES","ET","EU","EZ","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","IC","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","QO","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TA","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","UN","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"],"002":["002","002-status-grouping","011","014","015","017","018","202","AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","DZ","EA","EG","EH","ER","ET","GA","GH","GM","GN","GQ","GW","IC","IO","KE","KM","LR","LS","LY","MA","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SD","SH","SL","SN","SO","SS","ST","SZ","TD","TF","TG","TN","TZ","UG","YT","ZA","ZM","ZW"],"003":["003","013","021","029","AG","AI","AW","BB","BL","BM","BQ","BS","BZ","CA","CR","CU","CW","DM","DO","GD","GL","GP","GT","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PM","PR","SV","SX","TC","TT","US","VC","VG","VI"],"005":["005","AR","BO","BR","BV","CL","CO","EC","FK","GF","GS","GY","PE","PY","SR","UY","VE"],"009":["009","053","054","057","061","AC","AQ","AS","AU","CC","CK","CP","CX","DG","FJ","FM","GU","HM","KI","MH","MP","NC","NF","NR","NU","NZ","PF","PG","PN","PW","QO","SB","TA","TK","TO","TV","UM","VU","WF","WS"],"011":["011","BF","BJ","CI","CV","GH","GM","GN","GW","LR","ML","MR","NE","NG","SH","SL","SN","TG"],"013":["013","BZ","CR","GT","HN","MX","NI","PA","SV"],"014":["014","BI","DJ","ER","ET","IO","KE","KM","MG","MU","MW","MZ","RE","RW","SC","SO","SS","TF","TZ","UG","YT","ZM","ZW"],"015":["015","DZ","EA","EG","EH","IC","LY","MA","SD","TN"],"017":["017","AO","CD","CF","CG","CM","GA","GQ","ST","TD"],"018":["018","BW","LS","NA","SZ","ZA"],"019":["003","005","013","019","019-status-grouping","021","029","419","AG","AI","AR","AW","BB","BL","BM","BO","BQ","BR","BS","BV","BZ","CA","CL","CO","CR","CU","CW","DM","DO","EC","FK","GD","GF","GL","GP","GS","GT","GY","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PE","PM","PR","PY","SR","SV","SX","TC","TT","US","UY","VC","VE","VG","VI"],"021":["021","BM","CA","GL","PM","US"],"029":["029","AG","AI","AW","BB","BL","BQ","BS","CU","CW","DM","DO","GD","GP","HT","JM","KN","KY","LC","MF","MQ","MS","PR","SX","TC","TT","VC","VG","VI"],"030":["030","CN","HK","JP","KP","KR","MN","MO","TW"],"034":["034","AF","BD","BT","IN","IR","LK","MV","NP","PK"],"035":["035","BN","ID","KH","LA","MM","MY","PH","SG","TH","TL","VN"],"039":["039","AD","AL","BA","ES","GI","GR","HR","IT","ME","MK","MT","PT","RS","SI","SM","VA","XK"],"053":["053","AU","CC","CX","HM","NF","NZ"],"054":["054","FJ","NC","PG","SB","VU"],"057":["057","FM","GU","KI","MH","MP","NR","PW","UM"],"061":["061","AS","CK","NU","PF","PN","TK","TO","TV","WF","WS"],142:["030","034","035","142","143","145","AE","AF","AM","AZ","BD","BH","BN","BT","CN","CY","GE","HK","ID","IL","IN","IQ","IR","JO","JP","KG","KH","KP","KR","KW","KZ","LA","LB","LK","MM","MN","MO","MV","MY","NP","OM","PH","PK","PS","QA","SA","SG","SY","TH","TJ","TL","TM","TR","TW","UZ","VN","YE"],143:["143","KG","KZ","TJ","TM","UZ"],145:["145","AE","AM","AZ","BH","CY","GE","IL","IQ","JO","KW","LB","OM","PS","QA","SA","SY","TR","YE"],150:["039","150","151","154","155","AD","AL","AT","AX","BA","BE","BG","BY","CH","CQ","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","PL","PT","RO","RS","RU","SE","SI","SJ","SK","SM","UA","VA","XK"],151:["151","BG","BY","CZ","HU","MD","PL","RO","RU","SK","UA"],154:["154","AX","CQ","DK","EE","FI","FO","GB","GG","IE","IM","IS","JE","LT","LV","NO","SE","SJ"],155:["155","AT","BE","CH","DE","FR","LI","LU","MC","NL"],202:["011","014","017","018","202","AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","ER","ET","GA","GH","GM","GN","GQ","GW","IO","KE","KM","LR","LS","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SH","SL","SN","SO","SS","ST","SZ","TD","TF","TG","TZ","UG","YT","ZA","ZM","ZW"],419:["005","013","029","419","AG","AI","AR","AW","BB","BL","BO","BQ","BR","BS","BV","BZ","CL","CO","CR","CU","CW","DM","DO","EC","FK","GD","GF","GP","GS","GT","GY","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PE","PR","PY","SR","SV","SX","TC","TT","UY","VC","VE","VG","VI"],EU:["AT","BE","BG","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],EZ:["AT","BE","CY","DE","EE","ES","EZ","FI","FR","GR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],QO:["AC","AQ","CP","DG","QO","TA"],UN:["AD","AE","AF","AG","AL","AM","AO","AR","AT","AU","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CD","CF","CG","CH","CI","CL","CM","CN","CO","CR","CU","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GH","GM","GN","GQ","GR","GT","GW","GY","HN","HR","HT","HU","ID","IE","IL","IN","IQ","IR","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MK","ML","MM","MN","MR","MT","MU","MV","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NR","NZ","OM","PA","PE","PG","PH","PK","PL","PT","PW","PY","QA","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SI","SK","SL","SM","SN","SO","SR","SS","ST","SV","SY","SZ","TD","TG","TH","TJ","TL","TM","TN","TO","TR","TT","TV","TZ","UA","UG","UN","US","UY","UZ","VC","VE","VN","VU","WS","YE","ZA","ZM","ZW"]},Ite=/-u(?:-[0-9a-z]{2,8})+/gi;function Ko(e,t,n){if(n===void 0&&(n=Error),!e)throw new n(t)}var YBe=838,H4;function QBe(){var e,t;if(!H4){var n=(t=(e=$4.supplemental.languageMatching["written-new"][0])===null||e===void 0?void 0:e.paradigmLocales)===null||t===void 0?void 0:t._locales.split(" "),r=$4.supplemental.languageMatching["written-new"].slice(1,5),s=$4.supplemental.languageMatching["written-new"].slice(5),a=s.map(function(i){var o=Object.keys(i)[0],c=i[o];return{supported:o,desired:c._desired,distance:+c._distance,oneway:c.oneway==="true"}},{});H4={matches:a,matchVariables:r.reduce(function(i,o){var c=Object.keys(o)[0],u=o[c];return i[c.slice(1)]=u._value.split("+"),i},{}),paradigmLocales:He(He([],n,!0),n.map(function(i){return new Intl.Locale(i.replace(/_/g,"-")).maximize().toString()}),!0)}}return H4}function Pv(e,t,n){var r=t.split("-"),s=r[0],a=r[1],i=r[2],o=!0;if(i&&i[0]==="$"){var c=i[1]!=="!",u=c?n[i.slice(1)]:n[i.slice(2)],d=u.map(function(h){return KBe[h]||[h]}).reduce(function(h,m){return He(He([],h,!0),m,!0)},[]);o&&(o=d.indexOf(e.region||"")>-1==c)}else o&&(o=e.region?i==="*"||i===e.region:!0);return o&&(o=e.script?a==="*"||a===e.script:!0),o&&(o=e.language?s==="*"||s===e.language:!0),o}function fU(e){return[e.language,e.script,e.region].filter(Boolean).join("-")}function W4(e,t,n){for(var r=0,s=n.matches;r<s.length;r++){var a=s[r],i=Pv(e,a.desired,n.matchVariables)&&Pv(t,a.supported,n.matchVariables);if(!a.oneway&&!i&&(i=Pv(e,a.supported,n.matchVariables)&&Pv(t,a.desired,n.matchVariables)),i){var o=a.distance*10;return n.paradigmLocales.indexOf(fU(e))>-1!=n.paradigmLocales.indexOf(fU(t))>-1?o-1:o}}throw new Error("No matching distance found")}function XBe(e,t){var n=new Intl.Locale(e).maximize(),r=new Intl.Locale(t).maximize(),s={language:n.language,script:n.script||"",region:n.region||""},a={language:r.language,script:r.script||"",region:r.region||""},i=0,o=QBe();return s.language!==a.language&&(i+=W4({language:n.language,script:"",region:""},{language:r.language,script:"",region:""},o)),s.script!==a.script&&(i+=W4({language:n.language,script:s.script,region:""},{language:r.language,script:a.script,region:""},o)),s.region!==a.region&&(i+=W4(s,a,o)),i}function ZBe(e,t,n){n===void 0&&(n=YBe);var r=1/0,s={matchedDesiredLocale:"",distances:{}};return e.forEach(function(a,i){s.distances[a]||(s.distances[a]={}),t.forEach(function(o){var c=XBe(a,o)+0+i*40;s.distances[a][o]=c,c<r&&(r=c,s.matchedDesiredLocale=a,s.matchedSupportedLocale=o)})}),r>=n&&(s.matchedDesiredLocale=void 0,s.matchedSupportedLocale=void 0),s}function JBe(e,t,n){var r,s,a=[],i=t.reduce(function(c,u){var d=u.replace(Ite,"");return a.push(d),c[d]=u,c},{}),o=ZBe(a,e);return o.matchedSupportedLocale&&o.matchedDesiredLocale&&(r=o.matchedSupportedLocale,s=i[o.matchedDesiredLocale].slice(o.matchedDesiredLocale.length)||void 0),r?{locale:r,extension:s}:{locale:n()}}function e$e(e,t){var n=t.toLowerCase();Ko(e!==void 0,"ukey must be defined");var r=n;return r}function hU(e){return Intl.getCanonicalLocales(e)[0]}function t$e(e,t,n){Ko(e.indexOf("-u-")===-1,"Expected locale to not have a Unicode locale extension");for(var r="-u",s=0,a=t;s<a.length;s++){var i=a[s];r+="-".concat(i)}for(var o=0,c=n;o<c.length;o++){var u=c[o],d=u.key,h=u.value;r+="-".concat(d),h!==""&&(r+="-".concat(h))}if(r==="-u")return hU(e);var m=e.indexOf("-x-"),p;if(m===-1)p=e+r;else{var g=e.slice(0,m),v=e.slice(m);p=g+r+v}return hU(p)}function n$e(e,t){for(var n=t;;){if(e.indexOf(n)>-1)return n;var r=n.lastIndexOf("-");if(!~r)return;r>=2&&n[r-2]==="-"&&(r-=2),n=n.slice(0,r)}}function r$e(e,t,n){for(var r={locale:""},s=0,a=t;s<a.length;s++){var i=a[s],o=i.replace(Ite,""),c=n$e(e,o);if(c)return r.locale=c,i!==o&&(r.extension=i.slice(o.length,i.length)),r}return r.locale=n(),r}function s$e(e){Ko(e===e.toLowerCase(),"Expected extension to be lowercase"),Ko(e.slice(0,3)==="-u-","Expected extension to be a Unicode locale extension");for(var t=[],n=[],r,s=e.length,a=3;a<s;){var i=e.indexOf("-",a),o=void 0;i===-1?o=s-a:o=i-a;var c=e.slice(a,a+o);Ko(o>=2,"Expected a subtag to have at least 2 characters"),r===void 0&&o!=2?t.indexOf(c)===-1&&t.push(c):o===2?(r={key:c,value:""},n.find(function(u){return u.key===r?.key})===void 0&&n.push(r)):r?.value===""?r.value=c:(Ko(r!==void 0,"Expected keyword to be defined"),r.value+="-"+c),a+=o+1}return{attributes:t,keywords:n}}function a$e(e,t,n,r,s,a){var i,o=n.localeMatcher,c;o==="lookup"?c=r$e(Array.from(e),t,a):c=JBe(Array.from(e),t,a),c==null&&(c={locale:a(),extension:""});var u=c.locale,d=s[u],h={locale:"en",dataLocale:u},m,p;c.extension?(m=s$e(c.extension),p=m.keywords):p=[];for(var g=[],v=function(_){var C=(i=d?.[_])!==null&&i!==void 0?i:[];Ko(Array.isArray(C),"keyLocaleData for ".concat(_," must be an array"));var S=C[0];Ko(S===void 0||typeof S=="string","value must be a string or undefined");var k=void 0,E=p.find(function(A){return A.key===_});if(E){var M=E.value;M!==""?C.indexOf(M)>-1&&(S=M,k={key:_,value:S}):C.indexOf("true")>-1&&(S="true",k={key:_,value:S})}var N=n[_];if(Ko(N==null||typeof N=="string","optionsValue must be a string or undefined"),typeof N=="string"){var R=_.toLowerCase();N=e$e(R,N),N===""&&(N="true")}N!==S&&C.indexOf(N)>-1&&(S=N,k=void 0),k&&g.push(k),h[_]=S},y=0,x=r;y<x.length;y++){var b=x[y];v(b)}var w=[];return g.length>0&&(w=[],u=t$e(u,w,g)),h.locale=u,h}function Ote(e,t,n,r){return a$e(t,qBe(e),{localeMatcher:"best fit"},[],{},function(){return n}).locale}const gc="en-US",gR={"ar-SA":{characterOrder:"rtl",displayName:"العربية (المملكة العربية السعودية)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ar-SA-FTTblVHz.js");return{default:e}},[])).default},"bn-BD":{characterOrder:"ltr",displayName:"বাংলা (বাংলাদেশ)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-bn-BD-5c53AtbI.js");return{default:e}},[])).default},"cs-CZ":{characterOrder:"ltr",displayName:"čeština (Česko)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-cs-CZ-BTH0m8yQ.js");return{default:e}},[])).default},"de-DE":{characterOrder:"ltr",displayName:"Deutsch (Deutschland)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-de-DE-DvV0xKze.js");return{default:e}},[])).default},"el-GR":{characterOrder:"ltr",displayName:"Ελληνικά (Ελλάδα)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-el-GR-IgUqJU-u.js");return{default:e}},[])).default},"en-US":{characterOrder:"ltr",displayName:"American English",translations:async()=>Promise.resolve({})},"es-ES":{characterOrder:"ltr",displayName:"español de España",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-es-ES-DX6zDa9j.js");return{default:e}},[])).default},"fr-FR":{characterOrder:"ltr",displayName:"français (France)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-fr-FR-CXdMuUqp.js");return{default:e}},[])).default},"hi-IN":{characterOrder:"ltr",displayName:"हिन्दी (भारत)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-hi-IN-CzN8ylnC.js");return{default:e}},[])).default},"hr-HR":{characterOrder:"ltr",displayName:"hrvatski (Hrvatska)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-hr-HR-CBL4muYw.js");return{default:e}},[])).default},"hu-HU":{characterOrder:"ltr",displayName:"magyar (Magyarország)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-hu-HU-DvGH39cU.js");return{default:e}},[])).default},"id-ID":{characterOrder:"ltr",displayName:"Indonesia (Indonesia)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-id-ID-B0gzgsY1.js");return{default:e}},[])).default},"it-IT":{characterOrder:"ltr",displayName:"italiano (Italia)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-it-IT-BVwXHIhT.js");return{default:e}},[])).default},"ja-JP":{characterOrder:"ltr",displayName:"日本語 (日本)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ja-JP-CWXqx80W.js");return{default:e}},[])).default},"kn-IN":{characterOrder:"ltr",displayName:"ಕನ್ನಡ (ಭಾರತ)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-kn-IN-CMt-kTSX.js");return{default:e}},[])).default},"ko-KR":{characterOrder:"ltr",displayName:"한국어(대한민국)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ko-KR-cDkep_us.js");return{default:e}},[])).default},"ml-IN":{characterOrder:"ltr",displayName:"മലയാളം (ഇന്ത്യ)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ml-IN-BqQmV0Q-.js");return{default:e}},[])).default},"mr-IN":{characterOrder:"ltr",displayName:"मराठी (भारत)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-mr-IN-ILOEOsSW.js");return{default:e}},[])).default},"nl-NL":{characterOrder:"ltr",displayName:"Nederlands (Nederland)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-nl-NL-DlJAmhmj.js");return{default:e}},[])).default},"pl-PL":{characterOrder:"ltr",displayName:"polski (Polska)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-pl-PL-B7U0N428.js");return{default:e}},[])).default},"pt-BR":{characterOrder:"ltr",displayName:"português (Brasil)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-pt-BR-t42o4XnU.js");return{default:e}},[])).default},"pt-PT":{characterOrder:"ltr",displayName:"português europeu",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-pt-PT-C3jokxQx.js");return{default:e}},[])).default},"ro-RO":{characterOrder:"ltr",displayName:"română (România)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ro-RO-DFcU9ba9.js");return{default:e}},[])).default},"ru-RU":{characterOrder:"ltr",displayName:"русский (Россия)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ru-RU-DEQeZDpj.js");return{default:e}},[])).default},"sk-SK":{characterOrder:"ltr",displayName:"slovenčina (Slovensko)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-sk-SK-C8a-rVuM.js");return{default:e}},[])).default},"sr-Cyrl-ME":{characterOrder:"ltr",displayName:"српски (ћирилица, Црна Гора)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-sr-Cyrl-ME-6ZzpFlEu.js");return{default:e}},[])).default},"ta-IN":{characterOrder:"ltr",displayName:"தமிழ் (இந்தியா)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-ta-IN-BTjE2yjJ.js");return{default:e}},[])).default},"te-IN":{characterOrder:"ltr",displayName:"తెలుగు (భారతదేశం)",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-te-IN-D_XU6LJZ.js");return{default:e}},[])).default},"zh-CN":{characterOrder:"ltr",displayName:"简体中文",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-zh-CN-59ity8_N.js");return{default:e}},[])).default},"zh-TW":{characterOrder:"ltr",displayName:"繁體中文",translations:async()=>(await he(async()=>{const{default:e}=await import("./translations-zh-TW-D-NMOW5K.js");return{default:e}},[])).default}},i$e="pplx.chosen-locale",vR=new Intl.DateTimeFormat().resolvedOptions().timeZone,p2=Object.keys(gR),o$e=Object.entries(gR).map(([e,t])=>({locale:e,label:t.displayName,characterOrder:t.characterOrder})),Lte=(e,t=p2)=>{try{return Ote(e,t,gc)}catch{return gc}};async function l$e(e=gc){const t=Lte(Array.isArray(e)?e:[e]);if(t===gc)return Promise.resolve({matchedLocale:t,translations:{}});const n=await gR[t].translations()??{};return Promise.resolve({matchedLocale:t,translations:n})}function ao(){const t=[new URL(globalThis.location.href).searchParams.get("locale"),en(i$e),globalThis.navigator.language].filter(n=>!!n);return Lte(t)}let Bd;const Dte=new URL("/ws",TN());Dte.protocol="wss:";async function Fte(){return Bd||(Bd=new Promise(e=>{const t=new WebSocket(Dte);t.addEventListener("error",()=>{try{t.close()}finally{Bd=void 0}}),t.addEventListener("close",()=>{Bd=void 0}),t.addEventListener("open",()=>{e(t)})}),Bd)}var c$e={};function u$e(){return typeof window>"u"||window.location.hostname.includes("localhost")?new URL(eL,gke()):new URL(eL,window.location.origin)}const d$e=u$e();function Ute(e){return navigator.sendBeacon(d$e,new Blob([JSON.stringify(e)],{type:"application/json; charset=UTF-8"}))}function Bte(){const e={};try{navigator.hardwareConcurrency&&(e.hardwareConcurrency=navigator.hardwareConcurrency);const t=new Float32Array(1),n=new Uint8Array(t.buffer);t[0]=1/0,t[0]=t[0]-t[0];const r=n[3];r&&(e.architecture=r),globalThis.screen.colorDepth&&(e.colorDepth=globalThis.screen.colorDepth),globalThis.screen.width&&globalThis.screen.height&&(e.screenSize=`${globalThis.screen.width}x${globalThis.screen.height}`)}catch{}return e}const f$e=Bte(),h$e=(e={},t)=>{const n=Date.now(),r={...e,isStandaloneApp:!1,timestamp:n,isBrowserExtension:!1,timeZone:vR,isPro:t?.user?.subscription_status&&t?.user?.subscription_status!=="none",userId:t?.user?.id,deviceInfo:f$e},s=globalThis.location.pathname+globalThis.location.search,a=!!getComputedStyle(document.documentElement).getPropertyValue("--arc-palette-title"),i=Bte(),o=en(fk),c=en(hk);let u;return r.internalReferrer?u=r.internalReferrer:u=document.referrer,(globalThis.matchMedia("(display-mode: standalone)").matches||globalThis.matchMedia("(display-mode: minimal-ui)").matches||globalThis.navigator?.standalone)&&(r.isStandaloneApp=!0),{eventData:r,pathnameAndParams:s,visitorId:o,isArcBrowser:a,sessionId:c,deviceInfo:i,referrer:u}};function $te(e){const{name:t,data:n,session:r,source:s}=e,{eventData:a,visitorId:i,sessionId:o,pathnameAndParams:c,deviceInfo:u,referrer:d,isArcBrowser:h}=h$e(n,r);return c.startsWith("/search/render")?void 0:(c$e.NEXT_PUBLIC_EVENT_DEBUG_PRINT&&Q.log(`[trackEvent] ${t}: `,a),{event_name:t,event_data:a,visitor_id:i??"",session_id:o??"",url:c,referrer:d,language:ao(),screen:Lw(),hostname:globalThis.location.hostname,device_info:u,is_arc_browser:h,source:s})}function io(e){const t=$te(e);t&&(Ute(t)||(Ou("web.browser.analytics.send_event_failed"),Fte().then(n=>{n.send(JSON.stringify(t))})))}function m$e(e){const t=e.map(n=>$te(n)).filter(n=>n!==void 0);t.length!==0&&(Ute(t)||(Ou("web.browser.analytics.send_event_failed"),Fte().then(n=>{n.send(JSON.stringify(t))})))}function Lw(){return`${globalThis.screen.width}x${globalThis.screen.height}`}const mU=Object.freeze({});function ls(){return typeof window<"u"?window.__PPL_CONFIG__??mU:mU}const cn=()=>!!gl(),yR=()=>{const e=gl();return!!(e?.android_version||e?.ios_version)},rr=()=>ls().erp==="sidecar",p$e=e=>!(e.defaultPrevented||!cn()||e.ctrlKey||e.metaKey);var z4={},V4={exports:{}},pU;function Dw(){return pU||(pU=1,function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(V4)),V4.exports}var G4={exports:{}},gU;function u1(){return gU||(gU=1,function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(G4)),G4.exports}var q4={exports:{}},vU;function g$e(){return vU||(vU=1,function(e){var t=u1().default;function n(){e.exports=n=function(){return s},e.exports.__esModule=!0,e.exports.default=e.exports;var r,s={},a=Object.prototype,i=a.hasOwnProperty,o=Object.defineProperty||function(B,$,W){B[$]=W.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function m(B,$,W){return Object.defineProperty(B,$,{value:W,enumerable:!0,configurable:!0,writable:!0}),B[$]}try{m({},"")}catch{m=function(W,X,ee){return W[X]=ee}}function p(B,$,W,X){var ee=$&&$.prototype instanceof _?$:_,ne=Object.create(ee.prototype),V=new F(X||[]);return o(ne,"_invoke",{value:P(B,W,V)}),ne}function g(B,$,W){try{return{type:"normal",arg:B.call($,W)}}catch(X){return{type:"throw",arg:X}}}s.wrap=p;var v="suspendedStart",y="suspendedYield",x="executing",b="completed",w={};function _(){}function C(){}function S(){}var k={};m(k,u,function(){return this});var E=Object.getPrototypeOf,M=E&&E(E(D([])));M&&M!==a&&i.call(M,u)&&(k=M);var N=S.prototype=_.prototype=Object.create(k);function R(B){["next","throw","return"].forEach(function($){m(B,$,function(W){return this._invoke($,W)})})}function A(B,$){function W(ee,ne,V,q){var z=g(B[ee],B,ne);if(z.type!=="throw"){var te=z.arg,Y=te.value;return Y&&t(Y)=="object"&&i.call(Y,"__await")?$.resolve(Y.__await).then(function(Z){W("next",Z,V,q)},function(Z){W("throw",Z,V,q)}):$.resolve(Y).then(function(Z){te.value=Z,V(te)},function(Z){return W("throw",Z,V,q)})}q(z.arg)}var X;o(this,"_invoke",{value:function(ne,V){function q(){return new $(function(z,te){W(ne,V,z,te)})}return X=X?X.then(q,q):q()}})}function P(B,$,W){var X=v;return function(ee,ne){if(X===x)throw Error("Generator is already running");if(X===b){if(ee==="throw")throw ne;return{value:r,done:!0}}for(W.method=ee,W.arg=ne;;){var V=W.delegate;if(V){var q=O(V,W);if(q){if(q===w)continue;return q}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(X===v)throw X=b,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);X=x;var z=g(B,$,W);if(z.type==="normal"){if(X=W.done?b:y,z.arg===w)continue;return{value:z.arg,done:W.done}}z.type==="throw"&&(X=b,W.method="throw",W.arg=z.arg)}}}function O(B,$){var W=$.method,X=B.iterator[W];if(X===r)return $.delegate=null,W==="throw"&&B.iterator.return&&($.method="return",$.arg=r,O(B,$),$.method==="throw")||W!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+W+"' method")),w;var ee=g(X,B.iterator,$.arg);if(ee.type==="throw")return $.method="throw",$.arg=ee.arg,$.delegate=null,w;var ne=ee.arg;return ne?ne.done?($[B.resultName]=ne.value,$.next=B.nextLoc,$.method!=="return"&&($.method="next",$.arg=r),$.delegate=null,w):ne:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,w)}function I(B){var $={tryLoc:B[0]};1 in B&&($.catchLoc=B[1]),2 in B&&($.finallyLoc=B[2],$.afterLoc=B[3]),this.tryEntries.push($)}function L(B){var $=B.completion||{};$.type="normal",delete $.arg,B.completion=$}function F(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(I,this),this.reset(!0)}function D(B){if(B||B===""){var $=B[u];if($)return $.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var W=-1,X=function ee(){for(;++W<B.length;)if(i.call(B,W))return ee.value=B[W],ee.done=!1,ee;return ee.value=r,ee.done=!0,ee};return X.next=X}}throw new TypeError(t(B)+" is not iterable")}return C.prototype=S,o(N,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:C,configurable:!0}),C.displayName=m(S,h,"GeneratorFunction"),s.isGeneratorFunction=function(B){var $=typeof B=="function"&&B.constructor;return!!$&&($===C||($.displayName||$.name)==="GeneratorFunction")},s.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,S):(B.__proto__=S,m(B,h,"GeneratorFunction")),B.prototype=Object.create(N),B},s.awrap=function(B){return{__await:B}},R(A.prototype),m(A.prototype,d,function(){return this}),s.AsyncIterator=A,s.async=function(B,$,W,X,ee){ee===void 0&&(ee=Promise);var ne=new A(p(B,$,W,X),ee);return s.isGeneratorFunction($)?ne:ne.next().then(function(V){return V.done?V.value:ne.next()})},R(N),m(N,h,"Generator"),m(N,u,function(){return this}),m(N,"toString",function(){return"[object Generator]"}),s.keys=function(B){var $=Object(B),W=[];for(var X in $)W.push(X);return W.reverse(),function ee(){for(;W.length;){var ne=W.pop();if(ne in $)return ee.value=ne,ee.done=!1,ee}return ee.done=!0,ee}},s.values=D,F.prototype={constructor:F,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!$)for(var W in this)W.charAt(0)==="t"&&i.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=r)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var W=this;function X(te,Y){return V.type="throw",V.arg=$,W.next=te,Y&&(W.method="next",W.arg=r),!!Y}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ne=this.tryEntries[ee],V=ne.completion;if(ne.tryLoc==="root")return X("end");if(ne.tryLoc<=this.prev){var q=i.call(ne,"catchLoc"),z=i.call(ne,"finallyLoc");if(q&&z){if(this.prev<ne.catchLoc)return X(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return X(ne.finallyLoc)}else if(q){if(this.prev<ne.catchLoc)return X(ne.catchLoc,!0)}else{if(!z)throw Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return X(ne.finallyLoc)}}}},abrupt:function($,W){for(var X=this.tryEntries.length-1;X>=0;--X){var ee=this.tryEntries[X];if(ee.tryLoc<=this.prev&&i.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var ne=ee;break}}ne&&($==="break"||$==="continue")&&ne.tryLoc<=W&&W<=ne.finallyLoc&&(ne=null);var V=ne?ne.completion:{};return V.type=$,V.arg=W,ne?(this.method="next",this.next=ne.finallyLoc,w):this.complete(V)},complete:function($,W){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&W&&(this.next=W),w},finish:function($){for(var W=this.tryEntries.length-1;W>=0;--W){var X=this.tryEntries[W];if(X.finallyLoc===$)return this.complete(X.completion,X.afterLoc),L(X),w}},catch:function($){for(var W=this.tryEntries.length-1;W>=0;--W){var X=this.tryEntries[W];if(X.tryLoc===$){var ee=X.completion;if(ee.type==="throw"){var ne=ee.arg;L(X)}return ne}}throw Error("illegal catch attempt")},delegateYield:function($,W,X){return this.delegate={iterator:D($),resultName:W,nextLoc:X},this.method==="next"&&(this.arg=r),w}},s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(q4)),q4.exports}var K4,yU;function Fw(){if(yU)return K4;yU=1;var e=g$e()();K4=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return K4}var Y4={exports:{}},Q4={exports:{}},X4={exports:{}},xU;function v$e(){return xU||(xU=1,function(e){var t=u1().default;function n(r,s){if(t(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,s||"default");if(t(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(X4)),X4.exports}var bU;function Hte(){return bU||(bU=1,function(e){var t=u1().default,n=v$e();function r(s){var a=n(s,"string");return t(a)=="symbol"?a:a+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(Q4)),Q4.exports}var wU;function Uw(){return wU||(wU=1,function(e){var t=Hte();function n(r,s,a){return(s=t(s))in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Y4)),Y4.exports}var Z4={exports:{}},_U;function Bw(){return _U||(_U=1,function(e){function t(r,s,a,i,o,c,u){try{var d=r[c](u),h=d.value}catch(m){return void a(m)}d.done?s(h):Promise.resolve(h).then(i,o)}function n(r){return function(){var s=this,a=arguments;return new Promise(function(i,o){var c=r.apply(s,a);function u(h){t(c,i,o,u,d,"next",h)}function d(h){t(c,i,o,u,d,"throw",h)}u(void 0)})}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Z4)),Z4.exports}var J4={exports:{}},e5={exports:{}},CU;function y$e(){return CU||(CU=1,function(e){function t(n){if(Array.isArray(n))return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(e5)),e5.exports}var t5={exports:{}},SU;function x$e(){return SU||(SU=1,function(e){function t(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var a,i,o,c,u=[],d=!0,h=!1;try{if(o=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(a=o.call(s)).done)&&(u.push(a.value),u.length!==r);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw i}}return u}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(t5)),t5.exports}var n5={exports:{}},r5={exports:{}},EU;function b$e(){return EU||(EU=1,function(e){function t(n,r){(r==null||r>n.length)&&(r=n.length);for(var s=0,a=Array(r);s<r;s++)a[s]=n[s];return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(r5)),r5.exports}var kU;function w$e(){return kU||(kU=1,function(e){var t=b$e();function n(r,s){if(r){if(typeof r=="string")return t(r,s);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(r,s):void 0}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(n5)),n5.exports}var s5={exports:{}},MU;function _$e(){return MU||(MU=1,function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(s5)),s5.exports}var TU;function C$e(){return TU||(TU=1,function(e){var t=y$e(),n=x$e(),r=w$e(),s=_$e();function a(i,o){return t(i)||n(i,o)||r(i,o)||s()}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(J4)),J4.exports}var Xc={},dn={},a5={exports:{}},NU;function S$e(){return NU||(NU=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(a5)),a5.exports}var i5={exports:{}},RU;function E$e(){return RU||(RU=1,function(e){var t=Hte();function n(s,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,t(o.key),o)}}function r(s,a,i){return a&&n(s.prototype,a),i&&n(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(i5)),i5.exports}var o5={exports:{}},l5={exports:{}},AU;function k$e(){return AU||(AU=1,function(e){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(l5)),l5.exports}var jU;function M$e(){return jU||(jU=1,function(e){var t=u1().default,n=k$e();function r(s,a){if(a&&(t(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(o5)),o5.exports}var c5={exports:{}},PU;function Wte(){return PU||(PU=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(c5)),c5.exports}var u5={exports:{}},d5={exports:{}},IU;function xR(){return IU||(IU=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(d5)),d5.exports}var OU;function T$e(){return OU||(OU=1,function(e){var t=xR();function n(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&t(r,s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(u5)),u5.exports}var f5={exports:{}},h5={exports:{}},LU;function N$e(){return LU||(LU=1,function(e){function t(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(h5)),h5.exports}var m5={exports:{}},p5={exports:{}},DU;function R$e(){return DU||(DU=1,function(e){function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(p5)),p5.exports}var FU;function A$e(){return FU||(FU=1,function(e){var t=R$e(),n=xR();function r(s,a,i){if(t())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,a);var c=new(s.bind.apply(s,o));return i&&n(c,i.prototype),c}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(m5)),m5.exports}var UU;function j$e(){return UU||(UU=1,function(e){var t=Wte(),n=xR(),r=N$e(),s=A$e();function a(i){var o=typeof Map=="function"?new Map:void 0;return e.exports=a=function(u){if(u===null||!r(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(u))return o.get(u);o.set(u,d)}function d(){return s(u,arguments,t(this).constructor)}return d.prototype=Object.create(u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),n(d,u)},e.exports.__esModule=!0,e.exports.default=e.exports,a(i)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(f5)),f5.exports}var BU;function P$e(){if(BU)return dn;BU=1;var e=Dw();Object.defineProperty(dn,"__esModule",{value:!0}),dn.UnsupportedStrategy=dn.UnknownError=dn.OAuthCallbackError=dn.MissingSecret=dn.MissingAuthorize=dn.MissingAdapterMethods=dn.MissingAdapter=dn.MissingAPIRoute=dn.InvalidCallbackUrl=dn.AccountNotLinkedError=void 0,dn.adapterErrorHandler=y,dn.capitalize=g,dn.eventsErrorHandler=v,dn.upperSnake=p;var t=e(Fw()),n=e(Bw()),r=e(Uw()),s=e(S$e()),a=e(E$e()),i=e(M$e()),o=e(Wte()),c=e(T$e()),u=e(j$e());function d(x,b,w){return b=(0,o.default)(b),(0,i.default)(x,h()?Reflect.construct(b,w||[],(0,o.default)(x).constructor):b.apply(x,w))}function h(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!x})()}var m=dn.UnknownError=function(x){function b(w){var _,C;return(0,s.default)(this,b),C=d(this,b,[(_=w?.message)!==null&&_!==void 0?_:w]),C.name="UnknownError",C.code=w.code,w instanceof Error&&(C.stack=w.stack),C}return(0,c.default)(b,x),(0,a.default)(b,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,u.default)(Error));dn.OAuthCallbackError=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","OAuthCallbackError"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.AccountNotLinkedError=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","AccountNotLinkedError"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.MissingAPIRoute=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","MissingAPIRouteError"),(0,r.default)(w,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.MissingSecret=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","MissingSecretError"),(0,r.default)(w,"code","NO_SECRET"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.MissingAuthorize=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","MissingAuthorizeError"),(0,r.default)(w,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.MissingAdapter=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","MissingAdapterError"),(0,r.default)(w,"code","EMAIL_REQUIRES_ADAPTER_ERROR"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.MissingAdapterMethods=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","MissingAdapterMethodsError"),(0,r.default)(w,"code","MISSING_ADAPTER_METHODS_ERROR"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.UnsupportedStrategy=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","UnsupportedStrategyError"),(0,r.default)(w,"code","CALLBACK_CREDENTIALS_JWT_ERROR"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m),dn.InvalidCallbackUrl=function(x){function b(){var w;(0,s.default)(this,b);for(var _=arguments.length,C=new Array(_),S=0;S<_;S++)C[S]=arguments[S];return w=d(this,b,[].concat(C)),(0,r.default)(w,"name","InvalidCallbackUrl"),(0,r.default)(w,"code","INVALID_CALLBACK_URL_ERROR"),w}return(0,c.default)(b,x),(0,a.default)(b)}(m);function p(x){return x.replace(/([A-Z])/g,"_$1").toUpperCase()}function g(x){return"".concat(x[0].toUpperCase()).concat(x.slice(1))}function v(x,b){return Object.keys(x).reduce(function(w,_){return w[_]=(0,n.default)(t.default.mark(function C(){var S,k=arguments;return t.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,S=x[_],M.next=4,S.apply(void 0,k);case 4:return M.abrupt("return",M.sent);case 7:M.prev=7,M.t0=M.catch(0),b.error("".concat(p(_),"_EVENT_ERROR"),M.t0);case 10:case"end":return M.stop()}},C,null,[[0,7]])})),w},{})}function y(x,b){if(x)return Object.keys(x).reduce(function(w,_){return w[_]=(0,n.default)(t.default.mark(function C(){var S,k,E,M,N,R=arguments;return t.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:for(P.prev=0,S=R.length,k=new Array(S),E=0;E<S;E++)k[E]=R[E];return b.debug("adapter_".concat(_),{args:k}),M=x[_],P.next=6,M.apply(void 0,k);case 6:return P.abrupt("return",P.sent);case 9:throw P.prev=9,P.t0=P.catch(0),b.error("adapter_error_".concat(_),P.t0),N=new m(P.t0),N.name="".concat(g(_),"Error"),N;case 15:case"end":return P.stop()}},C,null,[[0,9]])})),w},{})}return dn}var $U;function I$e(){if($U)return Xc;$U=1;var e=Dw();Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.default=void 0,Xc.proxyLogger=h,Xc.setLogger=d;var t=e(Fw()),n=e(Uw()),r=e(Bw()),s=P$e();function a(m,p){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);p&&(v=v.filter(function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable})),g.push.apply(g,v)}return g}function i(m){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(v){(0,n.default)(m,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(g,v))})}return m}function o(m){if(m instanceof Error&&!(m instanceof s.UnknownError))return{message:m.message,stack:m.stack,name:m.name};if(c(m)){var p;m.error=o(m.error),m.message=(p=m.message)!==null&&p!==void 0?p:m.error.message}return m}function c(m){return!!(m!=null&&m.error)}var u={error:function(p,g){g=o(g),console.error("[next-auth][error][".concat(p,"]"),`
https://next-auth.js.org/errors#`.concat(p.toLowerCase()),g.message,g)},warn:function(p){console.warn("[next-auth][warn][".concat(p,"]"),`
https://next-auth.js.org/warnings#`.concat(p.toLowerCase()))},debug:function(p,g){console.log("[next-auth][debug][".concat(p,"]"),g)}};function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;p||(u.debug=function(){}),m.error&&(u.error=m.error),m.warn&&(u.warn=m.warn),m.debug&&(u.debug=m.debug)}Xc.default=u;function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,p=arguments.length>1?arguments[1]:void 0;try{if(typeof window>"u")return m;var g={},v=function(b){g[b]=function(){var w=(0,r.default)(t.default.mark(function _(C,S){var k,E;return t.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(u[b](C,S),b==="error"&&(S=o(S)),S.client=!0,k="".concat(p,"/_log"),E=new URLSearchParams(i({level:b,code:C},S)),!navigator.sendBeacon){N.next=8;break}return N.abrupt("return",navigator.sendBeacon(k,E));case 8:return N.next=10,fetch(k,{method:"POST",body:E,keepalive:!0});case 10:return N.abrupt("return",N.sent);case 11:case"end":return N.stop()}},_)}));return function(_,C){return w.apply(this,arguments)}}()};for(var y in m)v(y);return g}catch{return u}}return Xc}var Iv={},HU;function O$e(){if(HU)return Iv;HU=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.default=e;function e(t){var n;const r=new URL("http://localhost:3000/api/auth");t&&!t.startsWith("http")&&(t=`https://${t}`);const s=new URL((n=t)!==null&&n!==void 0?n:r),a=(s.pathname==="/"?r.pathname:s.pathname).replace(/\/$/,""),i=`${s.origin}${a}`;return{origin:s.origin,host:s.host,path:a,base:i,toString:()=>i}}return Iv}var Zc={},WU;function L$e(){if(WU)return Zc;WU=1;var e=Dw();Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.BroadcastChannel=h,Zc.apiBaseUrl=u,Zc.fetchData=o,Zc.now=d;var t=e(Fw()),n=e(Uw()),r=e(Bw());function s(m,p){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);p&&(v=v.filter(function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable})),g.push.apply(g,v)}return g}function a(m){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?s(Object(g),!0).forEach(function(v){(0,n.default)(m,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(g,v))})}return m}var i=3;function o(m,p,g){return c.apply(this,arguments)}function c(){return c=(0,r.default)(t.default.mark(function m(p,g,v){var y,x,b,w,_,C,S,k,E,M,N=arguments;return t.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:y=N.length>3&&N[3]!==void 0?N[3]:{},x=y.ctx,b=y.req,w=b===void 0?x?.req:b,_="".concat(u(g),"/").concat(p),C=0;case 3:if(!(C<i)){A.next=28;break}return A.prev=4,k={headers:a({"Content-Type":"application/json"},w!=null&&(S=w.headers)!==null&&S!==void 0&&S.cookie?{cookie:w.headers.cookie}:{})},w!=null&&w.body&&(k.body=JSON.stringify(w.body),k.method="POST"),A.next=9,fetch(_,k);case 9:return E=A.sent,A.next=12,E.json();case 12:if(M=A.sent,E.ok){A.next=15;break}throw M;case 15:return A.abrupt("return",Object.keys(M).length>0?M:null);case 18:if(A.prev=18,A.t0=A.catch(4),C++,C!==i){A.next=24;break}throw v.error("CLIENT_FETCH_ERROR",{error:A.t0,url:_}),A.t0;case 24:return A.next=26,new Promise(function(P){return setTimeout(P,Math.pow(2,C)*100)});case 26:A.next=3;break;case 28:return A.abrupt("return",null);case 29:case"end":return A.stop()}},m,null,[[4,18]])})),c.apply(this,arguments)}function u(m){return typeof window>"u"?"".concat(m.baseUrlServer).concat(m.basePathServer):m.basePath}function d(){return Math.floor(Date.now()/1e3)}function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"nextauth.message";return{receive:function(g){var v=function(x){var b;if(x.key===m){var w=JSON.parse((b=x.newValue)!==null&&b!==void 0?b:"{}");w?.event!=="session"||!(w!=null&&w.data)||g(w)}};return window.addEventListener("storage",v),function(){return window.removeEventListener("storage",v)}},post:function(g){if(!(typeof window>"u"))try{localStorage.setItem(m,JSON.stringify(a(a({},g),{},{timestamp:d()})))}catch{}}}}return Zc}var g5={},zU;function D$e(){return zU||(zU=1,Object.defineProperty(g5,"__esModule",{value:!0})),g5}var VU;function F$e(){return VU||(VU=1,function(e){var t={},n=Dw(),r=u1();Object.defineProperty(e,"__esModule",{value:!0});var s={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};e.SessionContext=void 0,e.SessionProvider=ne,e.getCsrfToken=L,e.getProviders=D,e.getSession=O,e.signIn=$,e.signOut=X,e.useSession=P;var a=n(Fw()),i=n(Uw()),o=n(Bw()),c=n(C$e()),u=C(zh()),d=C(I$e()),h=n(O$e()),m=L$e(),p=YEe(),g=D$e();Object.keys(g).forEach(function(V){V==="default"||V==="__esModule"||Object.prototype.hasOwnProperty.call(s,V)||V in e&&e[V]===g[V]||Object.defineProperty(e,V,{enumerable:!0,get:function(){return g[V]}})});var v,y,x,b,w;function _(V){if(typeof WeakMap!="function")return null;var q=new WeakMap,z=new WeakMap;return(_=function(Y){return Y?z:q})(V)}function C(V,q){if(V&&V.__esModule)return V;if(V===null||r(V)!="object"&&typeof V!="function")return{default:V};var z=_(q);if(z&&z.has(V))return z.get(V);var te={__proto__:null},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in V)if(Z!=="default"&&{}.hasOwnProperty.call(V,Z)){var re=Y?Object.getOwnPropertyDescriptor(V,Z):null;re&&(re.get||re.set)?Object.defineProperty(te,Z,re):te[Z]=V[Z]}return te.default=V,z&&z.set(V,te),te}function S(V,q){var z=Object.keys(V);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(V);q&&(te=te.filter(function(Y){return Object.getOwnPropertyDescriptor(V,Y).enumerable})),z.push.apply(z,te)}return z}function k(V){for(var q=1;q<arguments.length;q++){var z=arguments[q]!=null?arguments[q]:{};q%2?S(Object(z),!0).forEach(function(te){(0,i.default)(V,te,z[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(z)):S(Object(z)).forEach(function(te){Object.defineProperty(V,te,Object.getOwnPropertyDescriptor(z,te))})}return V}var E={baseUrl:(0,h.default)((v=t.NEXTAUTH_URL)!==null&&v!==void 0?v:t.VERCEL_URL).origin,basePath:(0,h.default)(t.NEXTAUTH_URL).path,baseUrlServer:(0,h.default)((y=(x=t.NEXTAUTH_URL_INTERNAL)!==null&&x!==void 0?x:t.NEXTAUTH_URL)!==null&&y!==void 0?y:t.VERCEL_URL).origin,basePathServer:(0,h.default)((b=t.NEXTAUTH_URL_INTERNAL)!==null&&b!==void 0?b:t.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},M=(0,m.BroadcastChannel)(),N=(0,d.proxyLogger)(d.default,E.basePath);function R(){var V=u.useState(typeof navigator<"u"?navigator.onLine:!1),q=(0,c.default)(V,2),z=q[0],te=q[1],Y=function(){return te(!0)},Z=function(){return te(!1)};return u.useEffect(function(){return window.addEventListener("online",Y),window.addEventListener("offline",Z),function(){window.removeEventListener("online",Y),window.removeEventListener("offline",Z)}},[]),z}var A=e.SessionContext=(w=u.createContext)===null||w===void 0?void 0:w.call(u,void 0);function P(V){if(!A)throw new Error("React Context is unavailable in Server Components");var q=u.useContext(A),z=V??{},te=z.required,Y=z.onUnauthenticated,Z=te&&q.status==="unauthenticated";return u.useEffect(function(){if(Z){var re="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));Y?Y():window.location.href=re}},[Z,Y]),Z?{data:q.data,update:q.update,status:"loading"}:q}function O(V){return I.apply(this,arguments)}function I(){return I=(0,o.default)(a.default.mark(function V(q){var z,te;return a.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,m.fetchData)("session",E,N,q);case 2:return te=Z.sent,(!((z=q?.broadcast)!==null&&z!==void 0)||z)&&M.post({event:"session",data:{trigger:"getSession"}}),Z.abrupt("return",te);case 5:case"end":return Z.stop()}},V)})),I.apply(this,arguments)}function L(V){return F.apply(this,arguments)}function F(){return F=(0,o.default)(a.default.mark(function V(q){var z;return a.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,m.fetchData)("csrf",E,N,q);case 2:return z=Y.sent,Y.abrupt("return",z?.csrfToken);case 4:case"end":return Y.stop()}},V)})),F.apply(this,arguments)}function D(){return B.apply(this,arguments)}function B(){return B=(0,o.default)(a.default.mark(function V(){return a.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,m.fetchData)("providers",E,N);case 2:return z.abrupt("return",z.sent);case 3:case"end":return z.stop()}},V)})),B.apply(this,arguments)}function $(V,q,z){return W.apply(this,arguments)}function W(){return W=(0,o.default)(a.default.mark(function V(q,z,te){var Y,Z,re,G,oe,ae,ie,xe,de,Se,qe,be,ve,Be,We,Le,De;return a.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return Y=z??{},Z=Y.callbackUrl,re=Z===void 0?window.location.href:Z,G=Y.redirect,oe=G===void 0?!0:G,ae=(0,m.apiBaseUrl)(E),le.next=4,D();case 4:if(ie=le.sent,ie){le.next=8;break}return window.location.href="".concat(ae,"/error"),le.abrupt("return");case 8:if(!(!q||!(q in ie))){le.next=11;break}return window.location.href="".concat(ae,"/signin?").concat(new URLSearchParams({callbackUrl:re})),le.abrupt("return");case 11:return xe=ie[q].type==="credentials",de=ie[q].type==="email",Se=xe||de,qe="".concat(ae,"/").concat(xe?"callback":"signin","/").concat(q),be="".concat(qe).concat(te?"?".concat(new URLSearchParams(te)):""),le.t0=fetch,le.t1=be,le.t2={"Content-Type":"application/x-www-form-urlencoded"},le.t3=URLSearchParams,le.t4=k,le.t5=k({},z),le.t6={},le.next=25,L();case 25:return le.t7=le.sent,le.t8=re,le.t9={csrfToken:le.t7,callbackUrl:le.t8,json:!0},le.t10=(0,le.t4)(le.t5,le.t6,le.t9),le.t11=new le.t3(le.t10),le.t12={method:"post",headers:le.t2,body:le.t11},le.next=33,(0,le.t0)(le.t1,le.t12);case 33:return ve=le.sent,le.next=36,ve.json();case 36:if(Be=le.sent,!(oe||!Se)){le.next=42;break}return Le=(We=Be.url)!==null&&We!==void 0?We:re,window.location.href=Le,Le.includes("#")&&window.location.reload(),le.abrupt("return");case 42:if(De=new URL(Be.url).searchParams.get("error"),!ve.ok){le.next=46;break}return le.next=46,M.post({event:"session",data:{trigger:"signin"}}),E._getSession({event:"storage"});case 46:return le.abrupt("return",{error:De,status:ve.status,ok:ve.ok,url:De?null:Be.url});case 47:case"end":return le.stop()}},V)})),W.apply(this,arguments)}function X(V){return ee.apply(this,arguments)}function ee(){return ee=(0,o.default)(a.default.mark(function V(q){var z,te,Y,Z,re,G,oe,ae,ie,xe;return a.default.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return te=q??{},Y=te.callbackUrl,Z=Y===void 0?window.location.href:Y,re=(0,m.apiBaseUrl)(E),Se.t0={"Content-Type":"application/x-www-form-urlencoded"},Se.t1=URLSearchParams,Se.next=6,L();case 6:return Se.t2=Se.sent,Se.t3=Z,Se.t4={csrfToken:Se.t2,callbackUrl:Se.t3,json:!0},Se.t5=new Se.t1(Se.t4),G={method:"post",headers:Se.t0,body:Se.t5},Se.next=13,fetch("".concat(re,"/signout"),G);case 13:return oe=Se.sent,Se.next=16,oe.json();case 16:if(ae=Se.sent,M.post({event:"session",data:{trigger:"signout"}}),!(!((z=q?.redirect)!==null&&z!==void 0)||z)){Se.next=23;break}return xe=(ie=ae.url)!==null&&ie!==void 0?ie:Z,window.location.href=xe,xe.includes("#")&&window.location.reload(),Se.abrupt("return");case 23:return Se.next=25,E._getSession({event:"storage"});case 25:return Se.abrupt("return",ae);case 26:case"end":return Se.stop()}},V)})),ee.apply(this,arguments)}function ne(V){if(!A)throw new Error("React Context is unavailable in Server Components");var q=V.children,z=V.basePath,te=V.refetchInterval,Y=V.refetchWhenOffline;z&&(E.basePath=z);var Z=V.session!==void 0;E._lastSync=Z?(0,m.now)():0;var re=u.useState(function(){return Z&&(E._session=V.session),V.session}),G=(0,c.default)(re,2),oe=G[0],ae=G[1],ie=u.useState(!Z),xe=(0,c.default)(ie,2),de=xe[0],Se=xe[1];u.useEffect(function(){return E._getSession=(0,o.default)(a.default.mark(function Be(){var We,Le,De,Ve=arguments;return a.default.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(We=Ve.length>0&&Ve[0]!==void 0?Ve[0]:{},Le=We.event,we.prev=1,De=Le==="storage",!(De||E._session===void 0)){we.next=10;break}return E._lastSync=(0,m.now)(),we.next=7,O({broadcast:!De});case 7:return E._session=we.sent,ae(E._session),we.abrupt("return");case 10:if(!(!Le||E._session===null||(0,m.now)()<E._lastSync)){we.next=12;break}return we.abrupt("return");case 12:return E._lastSync=(0,m.now)(),we.next=15,O();case 15:E._session=we.sent,ae(E._session),we.next=22;break;case 19:we.prev=19,we.t0=we.catch(1),N.error("CLIENT_SESSION_ERROR",we.t0);case 22:return we.prev=22,Se(!1),we.finish(22);case 25:case"end":return we.stop()}},Be,null,[[1,19,22,25]])})),E._getSession(),function(){E._lastSync=0,E._session=void 0,E._getSession=function(){}}},[]),u.useEffect(function(){var Be=M.receive(function(){return E._getSession({event:"storage"})});return function(){return Be()}},[]),u.useEffect(function(){var Be=V.refetchOnWindowFocus,We=Be===void 0?!0:Be,Le=function(){We&&document.visibilityState==="visible"&&E._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",Le,!1),function(){return document.removeEventListener("visibilitychange",Le,!1)}},[V.refetchOnWindowFocus]);var qe=R(),be=Y!==!1||qe;u.useEffect(function(){if(te&&be){var Be=setInterval(function(){E._session&&E._getSession({event:"poll"})},te*1e3);return function(){return clearInterval(Be)}}},[te,be]);var ve=u.useMemo(function(){return{data:oe,status:de?"loading":oe?"authenticated":"unauthenticated",update:function(We){return(0,o.default)(a.default.mark(function Le(){var De;return a.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(!(de||!oe)){le.next=2;break}return le.abrupt("return");case 2:return Se(!0),le.t0=m.fetchData,le.t1=E,le.t2=N,le.next=8,L();case 8:return le.t3=le.sent,le.t4=We,le.t5={csrfToken:le.t3,data:le.t4},le.t6={body:le.t5},le.t7={req:le.t6},le.next=15,(0,le.t0)("session",le.t1,le.t2,le.t7);case 15:return De=le.sent,Se(!1),De&&(ae(De),M.post({event:"session",data:{trigger:"getSession"}})),le.abrupt("return",De);case 19:case"end":return le.stop()}},Le)}))()}}},[oe,de]);return(0,p.jsx)(A.Provider,{value:ve,children:q})}}(z4)),z4}var Oa=F$e();const Dt=()=>{const{data:e,status:t}=Oa.useSession(),n=f.useRef(e);return f.useEffect(()=>{t!=="loading"&&(Pf(e?.user,n.current?.user)||(n.current=e))},[e,t]),n.current};let GU=0;const bR=1e6;class zm{eventTime=-1;setOnce(){return this.eventTime==-1?(this.eventTime=Date.now(),!0):!1}timeSinceTimestamp(t){return this.eventTime===-1||t==null?-1:this.eventTime<t?(Q.log(`TimeMarker.timeSinceTimestamp found inconsistency: mytime ${this.eventTime}, old: ${t}`),-1):this.eventTime-t}timeBeforeTimestamp(t){return this.eventTime===-1||t==null?-1:this.eventTime>t?(Q.log(`TimeMarker.timeBeforeTimestamp found inconsistency: mytime ${this.eventTime}, next: ${t}`),-1):t-this.eventTime}wasSet(){return this.eventTime!=-1}}const U$e={firstServerResponseReceived:!1,firstLLMTokenReceived:!1,isPerplexityBrowser:!1},Si=new Map,B$e=(e,{hasLLMToken:t,hasSearchResults:n,hasSources:r},s)=>{$$e(e,s),H$e(e,t,s),W$e(e,n),z$e(e,r)},$$e=(e,t)=>{const n=Si.get(e);if(!n||n.firstServerResponseReceived||!n.submitTimestamp||!n.startFirstServerResponseMarker?.setOnce())return;n.firstServerResponseReceived=!0;const{queryStr:r,isFollowup:s,queryParams:a}=n,i=Vte(e);i>0&&io({name:"query first server response",data:{startFirstServerResponseElapsed:i,queryStr:r,isFollowup:s,mode:a?.mode??"unknown",isPerplexityBrowser:n.isPerplexityBrowser},session:t??void 0})},H$e=(e,t,n)=>{const r=Si.get(e);if(!r||r.firstLLMTokenReceived||!t||!r.startLLMTokenMarker?.setOnce())return;r.firstLLMTokenReceived=!0;const{queryStr:s,isFollowup:a,queryParams:i}=r,o=Gte(e);o>0&&io({name:"query first llm token",data:{startLLMTokenElapsed:o,queryStr:s,isFollowup:a,mode:i?.mode??"unknown",isPerplexityBrowser:r.isPerplexityBrowser},session:n??void 0})},W$e=(e,t)=>{const n=Si.get(e);if(n){if(!t)return}else return;n.firstSearchResultsMarker?.setOnce()},z$e=(e,t)=>{const n=Si.get(e);if(n){if(!t)return}else return;n.firstSourcesMarker?.setOnce()},ALt=e=>{const t=Si.get(e);t&&t.firstSourcesRenderMarker?.setOnce()},V$e=(e,t,n,r)=>{r=r??"unknown",Go("web.frontend.start_stream_elapsed",{startTime:e,duration:t*bR,isFollowup:n,mode:r})},G$e=(e,t,n,r)=>{r=r??"unknown",Go("web.frontend.start_llm_token_elapsed",{startTime:e,duration:t*bR,isFollowup:n,mode:r})},q$e=(e,t,n,r)=>{r=r??"unknown",Go("web.frontend.first_search_result_elapsed",{startTime:e,duration:t*bR,isFollowup:n,mode:r})},K$e=({latencies:e,isMobile:t})=>{Ou("web.frontend.autosuggest_latency",{latencies:e,isMobile:t})},qU=(e,{session:t,source:n,name:r})=>{const s=Si.get(e);s&&(s.endStreamTimestamp||(s.endStreamTimestamp=Date.now(),io({name:r,data:s,session:t??void 0,source:n})))},zte=(e,t,n,r,s)=>{const a=Si.get(e);if(!a)return;a.finalizedTimestamp=Date.now();let i=-1;a.submitTimestamp&&(i=a.finalizedTimestamp-a.submitTimestamp);const o=Vte(e);o>0&&V$e(a.submitTimestamp??0,o,a.isFollowup??!1,a?.queryParams?.mode);const c=Q$e(e);c>0&&q$e(a.submitTimestamp??0,c,a.isFollowup??!1,a?.queryParams?.mode);const u=Gte(e);u>0&&G$e(a.submitTimestamp??0,u,a.isFollowup??!1,a?.queryParams?.mode);let d=-1;a.endStreamTimestamp&&a.startFirstServerResponseMarker&&(d=a.startFirstServerResponseMarker.timeBeforeTimestamp(a.endStreamTimestamp));const h={...a,totalElapsed:i,startStreamElapsed:o,startFirstServerResponseElapsed:o,startLLMTokenElapsed:u,totalStreamingElapsed:d,submissionResult:t,entryUUID:n?.backend_uuid,displayModel:n?.display_model,stepType:n?.step_type,isPerplexityBrowser:a.isPerplexityBrowser,source:void 0};io({name:`${t} response`,data:h,session:r??void 0,source:void 0})},jLt=(e,t,n,r)=>{zte(e,"FAILED",t,n)},PLt=(e,t,n,r)=>{zte(e,"SUCCESSFUL",t,n)},Y$e=(e,{name:t,queryStr:n,queryParams:r,isFollowup:s,frontendUUID:a,isPerplexityBrowser:i,session:o,browserVersion:c,source:u,connectors:d,mentions:h})=>{GU+=1;const m={...U$e};m.submissionType=t,m.submitTimestamp=Date.now(),m.queryStr=n,m.queryParams=r,m.frontendUUID=a,m.submissionCount=GU,m.isFollowup=s,m.startFirstServerResponseMarker=new zm,m.startLLMTokenMarker=new zm,m.firstSearchResultsMarker=new zm,m.firstSourcesMarker=new zm,m.firstSourcesRenderMarker=new zm,m.isPerplexityBrowser=i,m.browserVersion=c,m.enabledConnectors=d?.enabled,m.disabledConnectors=d?.disabled;const p=h?.filter(y=>y.type==="tab")??[];m.attachedTabsDomains=[...new Set(p.map(y=>new URL(y.url).host))],m.attachedTabsCount=p.length;const g=h?.filter(y=>y.type==="space")??[];m.mentionedSpacesCount=g.length;const v=h?.filter(y=>y.type==="shortcut")??[];m.mentionedShortcutsCount=v.length,Si.set(e,m),io({name:"submit query",data:m,session:o??void 0,source:u})},Vte=e=>{const t=Si.get(e);let n=-1;return t&&(n=t.startFirstServerResponseMarker?.timeSinceTimestamp(t.submitTimestamp)??-1),n},Gte=e=>{const t=Si.get(e);let n=-1;return t&&(n=t.startLLMTokenMarker?.timeSinceTimestamp(t.submitTimestamp)??-1),n},Q$e=e=>{const t=Si.get(e);let n=-1;return t&&(n=t.firstSearchResultsMarker?.timeSinceTimestamp(t.submitTimestamp)??-1),n},Ne=()=>{const e=Dt(),t=cn(),{isWindowsApp:n}=Nt(),r=f.useRef(new Set),s=f.useCallback((c,u={})=>{const d=ls(),h=n?Of:d.erp??void 0;io({name:c,data:{...u,isPerplexityBrowser:t},source:h,session:e??void 0})},[n,t,e]),a=f.useCallback(c=>{const u=c.map(({name:d,data:h})=>({name:d,data:{...h??{},isPerplexityBrowser:t},session:e??void 0}));m$e(u)},[t,e]),i=f.useCallback((c,u)=>{io({name:c,data:{...u,isPerplexityBrowser:t},session:e??void 0})},[t,e]),o=f.useCallback((c,u={})=>{r.current.has(c)||(r.current.add(c),io({name:c,data:{...u,isPerplexityBrowser:t},session:e??void 0}))},[t,e]);return f.useMemo(()=>({trackEvent:s,trackEventTyped:i,trackEventOnce:o,trackEventBatch:a}),[s,a,i,o])};var Vm={},KU;function X$e(){if(KU)return Vm;KU=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.parse=i,Vm.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function i(m,p){const g=new a,v=m.length;if(v<2)return g;const y=p?.decode||d;let x=0;do{const b=m.indexOf("=",x);if(b===-1)break;const w=m.indexOf(";",x),_=w===-1?v:w;if(b>_){x=m.lastIndexOf(";",b-1)+1;continue}const C=o(m,x,b),S=c(m,b,C),k=m.slice(C,S);if(g[k]===void 0){let E=o(m,b+1,_),M=c(m,_,E);const N=y(m.slice(E,M));g[k]=N}x=_+1}while(x<v);return g}function o(m,p,g){do{const v=m.charCodeAt(p);if(v!==32&&v!==9)return p}while(++p<g);return g}function c(m,p,g){for(;p>g;){const v=m.charCodeAt(--p);if(v!==32&&v!==9)return p+1}return g}function u(m,p,g){const v=g?.encode||encodeURIComponent;if(!e.test(m))throw new TypeError(`argument name is invalid: ${m}`);const y=v(p);if(!t.test(y))throw new TypeError(`argument val is invalid: ${p}`);let x=m+"="+y;if(!g)return x;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);x+="; Max-Age="+g.maxAge}if(g.domain){if(!n.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);x+="; Domain="+g.domain}if(g.path){if(!r.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);x+="; Path="+g.path}if(g.expires){if(!h(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);x+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(x+="; HttpOnly"),g.secure&&(x+="; Secure"),g.partitioned&&(x+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return x}function d(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function h(m){return s.call(m)==="[object Date]"}return Vm}X$e();var v5={};const Z$e=(e,t)=>{try{let n=new URL("https://www.perplexity.ai");return typeof window>"u"?t&&v5.NEXTAUTH_UNSAFE_TRUST_HOST_HEADERS?n=new URL(`https://${t}`):v5.NEXTAUTH_URL&&(n=new URL(v5.NEXTAUTH_URL)):n=new URL(window.location.href),new URL(e,n).hostname===n.hostname}catch(n){return Q.warn(n),!1}},J$e=({redirect:e,hostname:t})=>{const n=typeof e=="string"?e:e?.[0];return!n||typeof n!="string"?"/":Z$e(n,t)?n:"/"};function y5(...e){wR("[email_signin_flow] ",...e)}function wR(...e){const t=new Date().toISOString();Q.log(`[${t}] `,...e)}function qte(...e){const t=new Date().toISOString();Q.warn(`[${t}] `,...e)}const _R="pplx.chosen-locale",CR="pplx.is-incognito",Kte="pplx.is-discover-interest-box-dismissed",Yte="pplx.is-enterprise-ad-dismissed",kM="pplx.la-status",eHe="pplx.visitor-id",tHe="pplx.session-id",Qte="pplx.mweb-splash-page-dismissed",Xte="pplx.is-autosuggest-disabled",Zte="pplx.homepage-widgets-disabled",Jte="pplx.source-selection-v3",ene="pplx.sports-ios-notification-cta",YU="pplx.prefers-metric",tne="pplx.welcome-back-gate-impressions",nne="pplx.share-gate-impressions",rne="pplx.sidebar-connectors-ad-dismissed",sne="pplx.is-student-referral-banner-dismissed",ane="pplx.default-search-session",ine="pplx.pt",one="pplx.personal-search-badge-seen",lne="pplx.tasks-settings-seen",MM="pplx.search-mode",cne="pplx.search-models-v4",wr=400,nHe=7,rHe=e=>{Ot(_R,e,{expires:wr})},sHe=()=>en(_R),aHe=()=>{sh(_R)},iHe=e=>{Ot(CR,String(e),{})},oHe=(e,t)=>{Ot(Qte,String(e),{expires:t})},lHe=e=>{Ot(Kte,String(e),{expires:wr})},cHe=e=>{Ot(kM,e,{})},uHe=e=>{Ot(Yte,String(e),{expires:wr})},dHe=e=>{Ot(Xte,String(e),{expires:wr})},fHe=e=>{Ot(Zte,String(e),{expires:wr})},hHe=e=>{Ot(tne,String(e),{expires:wr})},mHe=e=>{Ot(nne,String(e),{expires:wr})},pHe=e=>{Ot(ene,String(e),{expires:wr})},x5=(e,t)=>{const n=`${Jte}-${t}`;Ot(n,JSON.stringify(e),{expires:nHe})},gHe=e=>{const t=`${Jte}-${e}`,n=en(t);return n?JSON.parse(n):null},vHe=()=>!(en(kg)??!0),xd=()=>en(eHe)??null,yHe=()=>en(tHe)??null,xHe=e=>{Ot(rne,String(e),{expires:wr})},bHe=()=>en("pplx.has-discovered-space-mentions")==="true",wHe=()=>{Ot("pplx.has-discovered-space-mentions","true",{expires:wr})},_He=e=>{Ot(sne,String(e),{expires:4})},une=()=>hne().queryCount>30,SR=()=>{const e=en(one);if(!e)return{sidebar:!1,settingsSidebar:!1,personalize:!1};try{return JSON.parse(e)}catch{return{sidebar:!1,settingsSidebar:!1,personalize:!1}}},CHe=(e,t)=>{const r={...SR(),[e]:t};Ot(one,JSON.stringify(r),{expires:wr})},SHe=()=>en(lne)==="true",EHe=e=>{Ot(lne,String(e),{expires:wr})},ILt=e=>{Ot(ane,e)},kHe=()=>en(ane),MHe=()=>en(ine),OLt=e=>{Ot(ine,e)},dne="pplx.metadata",THe=e=>{const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);const s=e(...n);return t.set(r,s),s}},Ov={qc:0,qcu:0,qcm:0,qcc:0,qcr:0,qcco:0,qcdr:0,qcs:0,qcd:0,hli:!1,hcga:!1,hcds:!1,hso:!1,hfo:!1},NHe=THe(e=>{if(!e)return Ov;try{const t=JSON.parse(e);return t?{...Ov,...t}:Ov}catch{return Ov}}),Zn=()=>NHe(en(dne)),Ei=e=>{Ot(dne,JSON.stringify(e),{expires:wr})},RHe=()=>{const e=Zn();e.qc+=1,Ei(e)},AHe=()=>{const e=Zn();e.qcdr+=1,Ei(e)},jHe=()=>{const e=Zn();e.qcs+=1,Ei(e)},PHe=()=>{const e=Zn();e.qcco+=1,Ei(e)},LLt=()=>Zn().qcu,IHe=()=>Zn().qc,DLt=()=>Zn().qcc,OHe=()=>Zn().qcs,LHe=()=>Zn().qcco,DHe=()=>{const e=Zn();e.qcr+=1,Ei(e)},FLt=()=>{const e=Zn();e.qcd+=1,Ei(e)},FHe=({queryCount:e,queryCountCopilot:t,queryCountMobile:n})=>{const r=Zn();r.qcu=e,r.qcc=t,r.qcm=n,Ei(r)},fne=()=>{const e=Zn();e.hli||(e.hli=!0,Ei(e))},$w=()=>{const e=Zn();e.hcga||(e.hcga=!0,Ei(e))},qg=()=>Zn().hcga,ULt=({finished:e}={finished:!1})=>{const t=Zn();t.hso&&t.hfo||(t.hso=!0,e&&(t.hfo=!0),Ei(t))},UHe=()=>Zn().hli,BHe=()=>Zn().qcu>0,hne=()=>{const e=Zn();return{queryCount:e.qc,queryCountUser:e.qcu,queryCountCopilot:e.qcc,hasLoggedIn:e.hli}},ER=()=>Zn().qc,$He=7,HHe=e=>{const t=Zn(),n=Date.now();t.fqa||(t.fqa=n);const r=t.lqa&&n-t.lqa>$He*24*60*60*1e3;t.lqa=n,Ei(t),r&&e&&e()},WHe="https://api.whatsapp.com/send/?phone=18334363285&text&type=phone_number&app_absent=0",Hw=({origin:e})=>{const{trackEvent:t}=Ne();return f.useCallback(()=>{$w(),t("whatsapp button clicked",{origin:e}),window.open(WHe,"_blank")},[t,e])},ki=e=>e?.includes("perplexity.ai"),zHe=e=>e?.includes("localhost"),VHe=e=>e?.includes("pplx.dev"),mne=e=>ki(e)&&e?.includes("preview"),GHe=e=>ki(e)&&e?.includes("staging"),pne=e=>ki(e)&&(e?.includes("alpha")||e?.includes("beta")),gne=e=>ki(e)&&e?.includes("testing"),qHe=e=>ki(e)&&e?.includes("experimental"),vne=e=>ki(e)&&e?.includes("askdev"),yne=e=>ki(e)&&e?.startsWith("dev"),xne=e=>ki(e)&&(e?.includes("klarna")||e?.includes("inhouse")||e?.includes("wolfram")||e?.includes("ftrouter")||e?.includes("ft")||e?.includes("brave")||e?.includes("claude2")||e?.includes("claude1-instant")||e?.includes("claude2-instant")||e?.includes("shopping")||e?.includes("turbo16k")||e?.includes("yelp")||e?.includes("mobile-flag-dev")),KHe=e=>ki(e)&&!mne(e)&&!gne(e)&&!pne(e)&&!vne(e)&&!yne(e)&&!xne(e)&&!qHe(e),YHe=e=>ki(e)&&e?.includes("sandbox"),QHe=e=>e?.includes("quokka-gamma.ts.net")||e?.endsWith(".preview.i.perplexity.ai"),XHe=e=>e.isTesting||e.isLocalhost||e.isSandbox||e.isDevBox||e.isPplxDev||e.isDevDeployment,ZHe=e=>({isPublicDNS:ki(e),isLocalhost:zHe(e),isPplxDev:VHe(e),isPreview:mne(e),isStaging:GHe(e),isBeta:pne(e),isTesting:gne(e),isAskDev:vne(e),isDevBox:yne(e),isNamedDevDomain:xne(e),isProduction:KHe(e),isSandbox:YHe(e),isDevDeployment:QHe(e)}),bne=T.createContext({isPublicDNS:!1,isLocalhost:!1,isPplxDev:!1,isPreview:!1,isStaging:!1,isBeta:!1,isTesting:!1,isAskDev:!1,isDevBox:!1,isNamedDevDomain:!1,isProduction:!1,isSandbox:!1,isDevDeployment:!1,envHasDevLogins:!1}),wne=T.memo(({children:e,hostname:t})=>{const n=ZHe(t);return l.jsx(bne.Provider,{value:{...n,envHasDevLogins:XHe({...n})},children:e})});wne.displayName="EnvProvider";const Pc=()=>{const e=T.useContext(bne);if(!e)throw new Error("useEnv must be used within EnvContext");return e};function JHe(e){const t=new Uint8Array(e);return Array.from(t).map(n=>n.toString(16).padStart(2,"0")).join("")}async function eWe(e){const n=new TextEncoder().encode(e);return await crypto.subtle.digest("SHA-256",n)}async function tWe(e){const t=await eWe(e);return JHe(t)}const _ne=f.createContext({sendQueryEventSingular:()=>Promise.resolve(),maybeSendNthQueryEventSingular:()=>Promise.resolve(),sendSubscribedEventSingular:()=>Promise.resolve(),sendSubscribedPayingEventSingular:()=>Promise.resolve(),sendAppDownloadClickedEventSingular:()=>Promise.resolve(),sendResurrectedActivationEventSingular:()=>Promise.resolve(),sendCometDownloadPageLoadEventSingular:()=>Promise.resolve(),sendCometDownloadPageSignInEventSingular:()=>Promise.resolve(),sendCometDownloadedEventSingular:()=>Promise.resolve(),sendCometDownloadButtonClickedEventSingular:()=>Promise.resolve(),sendCometWaitlistButtonClickedEventSingular:()=>Promise.resolve(),sendSubscribedMaxEventSingular:()=>Promise.resolve()}),QU={1:"activated",3:"true activated",5:"quality activated",10:"super activated"},XU={1:"first comet query",3:"third comet query"},nWe="ai.testing.perplexity",rWe="ai.perplexity",sWe="perplexity_ai_039eb8fb",aWe="1e0179ca95965b57a3e91c1cf3049b64",Cne=async(e,t)=>{if(!e)return null;const n=new Date;n.setMilliseconds(0);const r=`${e}-${n.toISOString()}-${t}`;return await tWe(r)},iWe=async({productId:e,visitorId:t,userId:n})=>{const{SingularConfig:r,singularSdk:s}=await he(async()=>{const{SingularConfig:c,singularSdk:u}=await import("./singular-sdk-CHVvA4e9.js").then(d=>d.s);return{SingularConfig:c,singularSdk:u}},[]),a=new r(sWe,aWe,e);n&&a.withCustomUserId(n),s.init(a);const i="initialized singular",o=await Cne(t,i);return s.event(i,{visitorId:t,eventId:o}),s},oWe=({children:e})=>{const t=Dt(),n=xd(),{isProduction:r,isStaging:s}=Pc(),a=f.useRef([]),i=f.useRef([]),o=An(),{isMobile:c}=Nt(),[u,d]=f.useState(void 0);f.useEffect(()=>{const g=t?.user?.id;n&&iWe({userId:g,productId:r||s?rWe:nWe,visitorId:n}).then(y=>{y&&d({sdk:y})})},[r,s,t?.user?.id,n]);const h=f.useCallback(async(g,v)=>{if(!u){a.current.push({name:g,extraArguments:v});return}const y=await Cne(n,g),x={...v,visitorId:n,eventId:y,isMobile:c};i.current.includes(g)||(u.sdk.event(g,x),i.current.push(g))},[u,n,c]),m=f.useCallback(async({totalQueryCount:g,cometQueryCount:v})=>{g&&QU[g]&&await h(QU[g]),v&&XU[v]&&await h(XU[v])},[h]),p=f.useCallback(async g=>{await h("user sign in",{isNewUser:g}),t?.user?.id&&u&&u.sdk.login(t.user.id)},[t?.user?.id,u,h]);return f.useEffect(()=>{u&&a.current.length>0&&(a.current.filter((v,y,x)=>y===x.findIndex(b=>b.name===v.name)).forEach(({name:v,extraArguments:y})=>{h(v,y)}),a.current=[])},[u,h]),f.useEffect(()=>{if(o?.get(pd)&&o?.get(jF)){const g=o?.get(jF)==="true";p(g),h(g?"new user sign in":"existing user sign in"),cn()&&h("comet user sign in")}},[o,p,h]),l.jsx(_ne.Provider,{value:f.useMemo(()=>({sendQueryEventSingular:()=>h("query submitted"),maybeSendNthQueryEventSingular:m,sendSubscribedEventSingular:()=>h("user subscribed"),sendSubscribedPayingEventSingular:()=>h("user subscribed paying"),sendAppDownloadClickedEventSingular:g=>h("app download button clicked",{origin:g}),sendResurrectedActivationEventSingular:()=>h("resurrected activated"),sendCometDownloadPageLoadEventSingular:()=>h("download-comet page loaded"),sendCometDownloadPageSignInEventSingular:()=>h("download-comet page signed in"),sendCometDownloadedEventSingular:()=>h("download-comet comet downloaded"),sendCometDownloadButtonClickedEventSingular:()=>h("download-comet download button clicked"),sendCometWaitlistButtonClickedEventSingular:()=>h("download-comet waitlist button clicked"),sendSubscribedMaxEventSingular:()=>h("user subscribed max")}),[h,m]),children:e})},kR=()=>{const e=f.useContext(_ne);if(!e)throw new Error("useSingularAttribution must be used within SingularAttributionContext");return e},lWe="https://perplexity.sng.link/A6awk/ppas?_smtype=3&pvid=",BLt="https://perplexity.sng.link/A6awk/rcv6y?_smtype=3&pvid=",Ww=(e,t=lWe)=>{const n=xd(),[r,s]=f.useState(t),{sendAppDownloadClickedEventSingular:a}=kR(),i=Lt(),o=f.useMemo(()=>{const u=new URLSearchParams;return u.set("origin",e),n&&u.set("pvid",n),i&&u.set("pathname",i),u.toString()},[n,e,i]);f.useEffect(()=>{(async()=>{const{singularSdk:d}=await he(async()=>{const{singularSdk:p}=await import("./singular-sdk-CHVvA4e9.js").then(g=>g.s);return{singularSdk:p}},[]);for(;!d._isInitialized;)await new Promise(p=>setTimeout(p,100));let h=null;i&&(h=`perplexity-app://${i.startsWith("/")?i.slice(1):i}`);const m=d.buildWebToAppLink(`${t}${n}&_ios_dl=${h}&_android_dl=${h}`,h,o,h);s(m)})()},[n,i,o,t]);const c=f.useCallback(()=>{$w(),a(e),window.location.href=r},[r,e,a]);return f.useMemo(()=>({downloadAppLink:r,handleAppDownloadClicked:c}),[r,c])};function MR(e,t){f.useEffect(()=>{if(typeof window>"u")return;const r=window.cookieStore;if(!r)return;const s=a=>{const i=a.deleted.find(c=>c.name===e),o=a.changed.find(c=>c.name===e);if(i||o){t(o??null);return}};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e,t])}let Lv=[];class Xr{static PREFERRED_COLOR_SCHEME_COOKIE="colorScheme";static get userPreferredColorScheme(){return en(this.PREFERRED_COLOR_SCHEME_COOKIE)}static set userPreferredColorScheme(t){Ot(this.PREFERRED_COLOR_SCHEME_COOKIE,t,{expires:400}),localStorage.setItem(this.PREFERRED_COLOR_SCHEME_COOKIE,t)}static removeUserPreferredColorScheme(){sh(this.PREFERRED_COLOR_SCHEME_COOKIE),localStorage.removeItem(this.PREFERRED_COLOR_SCHEME_COOKIE)}static get isSystemScheme(){return!this.userPreferredColorScheme}static addOverride(t){const n={scheme:t};return Lv.push(n),n}static removeOverride(t){Lv=Lv.filter(n=>n!==t)}static get colorScheme(){const t=Lv.at(-1);return t?t.scheme:this.isSystemScheme?typeof window>"u"?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":this.userPreferredColorScheme}}function cWe(e){f.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(prefers-color-scheme: dark)");function r(){e(Xr.colorScheme)}return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[e])}function uWe(){return f.useCallback(e=>{if(typeof window>"u")return;const n=document.documentElement.dataset.colorScheme==="dark",r=Xr.colorScheme;if(e){document.documentElement.dataset.colorScheme=e;return}n&&r==="light"?document.documentElement.dataset.colorScheme="light":!n&&r==="dark"&&(document.documentElement.dataset.colorScheme="dark")},[])}const Sne=T.createContext(null),Ene=T.memo(function(t){const{children:n,userPreferredColorScheme:r}=t,[s,a]=f.useState(r?!1:Xr.isSystemScheme),[i,o]=f.useState(r??Xr.colorScheme),c=f.useCallback(v=>{Xr.userPreferredColorScheme=v,a(!1),o(v)},[]),u=f.useCallback(()=>{Xr.removeUserPreferredColorScheme(),a(!0),o(Xr.colorScheme)},[]),d=uWe(),h=f.useCallback(v=>{s&&(o(v),d())},[s,d]);cWe(h);const m=f.useMemo(()=>_i(v=>{const y=!v&&Xr.isSystemScheme;a(y),!y&&(o(v?.value??Xr.colorScheme),d(v?.value))},100),[d]);MR(Xr.PREFERRED_COLOR_SCHEME_COOKIE,m),f.useEffect(()=>{Xr.isSystemScheme&&(document.documentElement.dataset.colorScheme=Xr.colorScheme),d()},[d]);const p=f.useCallback(v=>{const y=Xr.addOverride(v);return o(Xr.colorScheme),d(),y},[d]),g=f.useCallback(v=>{Xr.removeOverride(v),o(Xr.colorScheme),d()},[d]);return l.jsx(Sne.Provider,{value:{colorScheme:i,isSystemColorScheme:s,setSystemColorScheme:u,setUserPreferredColorScheme:c,addOverride:p,removeOverride:g},children:n})});Ene.displayName="ColorSchemeProvider";function zr(e){const t=f.useContext(Sne);if(!t)throw new Error("Attempted to access ColorSchemeContext from useColorScheme() without adding <ColorSchemeProvider> to the tree.");const[n,r]=f.useState(!t.isSystemColorScheme);f.useEffect(()=>{e?.addSecondPass&&t.isSystemColorScheme&&!n&&r(!0)},[t.isSystemColorScheme,n,e?.addSecondPass]);const s={...t};return e?.addSecondPass&&(s.isColorSchemeReady=n),s}let Dv;async function dWe({apiKey:e,logAssignment:t}){return Dv||(Dv=(await he(()=>import("./index-BjQURbBi.js").then(r=>r.i),__vite__mapDeps([0,1]))).init({apiKey:e,assignmentLogger:{logAssignment:t}}),Dv)}const fWe=(e,t)=>{const n=f.useRef(void 0);Pf(n.current,t)||(n.current=t),f.useEffect(e,[n.current])};async function hWe(){try{return(await(await fetch("/cdn-cgi/trace")).text()).split(`
`).reduce((n,r)=>{const[s,a]=r.split("=");return n[s]=a,n},{loc:"US"})}catch(e){return Q.error("Error getting Cloudflare trace",e),{loc:"US"}}}function zw(){const{data:e}=at({queryKey:["cloudflare-trace"],queryFn:hWe});return f.useMemo(()=>e?.loc??"US",[e])}function mWe({flag:e,override:t,defaultValue:n,isServer:r=!1}){if(!t)return{shouldUseOverride:!1,value:null};try{if(typeof n=="boolean")return{shouldUseOverride:!0,value:t==="true"};if(typeof n=="number")return{shouldUseOverride:!0,value:Number(t)};if(typeof n=="object")try{return{shouldUseOverride:!0,value:JSON.parse(t)}}catch(s){return Q.warn(`[Eppo ${r?"Server ":""}Override]`,`Failed to parse JSON override for flag "${e}"`,{override:t,error:s}),{shouldUseOverride:!0,value:n}}return{shouldUseOverride:!0,value:t}}catch(s){return Q.error(`[Eppo ${r?"Server ":""}Override] Error:`,s),{shouldUseOverride:!0,value:n}}}class Nr{static getItem(t){try{return window.sessionStorage.getItem(t)}catch{return null}}static setItem(t,n){try{return window.sessionStorage.setItem(t,n),!0}catch{return!1}}static removeItem(t){try{return window.sessionStorage.removeItem(t),!0}catch{return!1}}static clear(){try{return window.sessionStorage.clear(),!0}catch{return!1}}}const kne="eppo_overrides",Mne="eppo_overrides",pWe=e=>e?e.endsWith("@perplexity.ai"):!1,gWe=e=>{const t={};return e.forEach((n,r)=>{if(r.startsWith("eppo_")){const s=r.replace("eppo_","");t[s]=n??""}}),t},vWe=e=>{let t=!0;const n=JSON.stringify(e);try{Ot(Mne,n)}catch{t=!1}return t=Nr.setItem(kne,n),t},yWe=(e,t,n)=>{if(typeof window>"u"||n&&!pWe(e))return!1;const r=gWe(t);return Object.keys(r).length===0?!1:vWe(r)};function xWe(){try{const e=en(Mne);if(e)return JSON.parse(e);const t=Nr.getItem(kne);return t?JSON.parse(t):{}}catch{return{}}}const bWe={getEppoTypedVariation:function(){return Promise.resolve(void 0)},keysRequiringRerender:[],addKeyRequiringRerender:()=>null,removeKeyRequiringRerender:()=>null},TR=f.createContext(bWe),wWe="experiment assignment",_We=(e,t,n,r)=>s=>io({name:wWe,data:{subjectType:s.subjectAttributes.subjectType,pagePropsHostname:r,colorScheme:n,isPerplexityBrowser:t,...s},session:e??void 0}),CWe=({children:e,hostname:t})=>{const n=Dt(),r=zw(),s=xd(),a=yHe(),i=cn(),[o,c]=f.useState([]),{isProduction:u,isStaging:d}=Pc(),h=u||d?"Xt1y37LY9CvTrzAJsLSz8cLMtXN3IUEvJZHciWbO-OU":"GwM0spEq_mbseGAJ5OOouSj2OFUMOgsHV_mlozU75Zo",{colorScheme:m}=zr(),p=f.useRef(void 0),g=An(),[v,y]=f.useState(!1),{locale:x}=K(),{isWindowsApp:b}=Nt(),{isMobileStyle:w}=Oe(),_=f.useCallback(E=>{_We(n,i,m,t)(E)},[n,i,m,t]);f.useEffect(()=>{if(v||!g)return;yWe(n?.user?.email,g,u)&&y(!0)},[g,n?.user?.email,v,u]);const C=f.useCallback(async function(E,{flag:M,subjectType:N,stableId:R,defaultValue:A,extraAttributes:P}){let O;if(R?O=R:N==="user_nextauth_id"?O=n?.user?.id:N==="visitor_id"?O=s??void 0:N==="session_id"?O=a??void 0:N==="context_uuid"&&(O=P?.context_uuid),!O)return A;const I=xWe(),{shouldUseOverride:L,value:F}=mWe({flag:M,override:I[M],defaultValue:A});if(L)return F??A;if(!h)return Q.error("[Eppo Experiments]","No Eppo API key found"),A;p.current||(p.current=dWe({apiKey:h,logAssignment:_}));const D=await p.current;try{return E(D,M,O,{subjectType:N,visitorId:s??void 0,sessionId:a??void 0,userEmail:n?.user?.email??void 0,userId:n?.user?.id??void 0,appApiClient:TJ(w,b),cfCountry:r,locale:x,isComet:i,...hne(),...P??{}},A)}catch{return Q.error("[Eppo Experiments]",`[${M}]`,new Error(`Error for subjectKey ${O}`)),A}},[h,n?.user?.id,n?.user?.email,s,a,_,w,b,r,x,i]),S=f.useCallback(E=>{c(M=>M.includes(E)?M:[...M,E])},[]),k=E=>{c(M=>M.includes(E)?M.filter(N=>N!==E):M)};return l.jsx(TR.Provider,{value:{getEppoTypedVariation:C,keysRequiringRerender:o,addKeyRequiringRerender:S,removeKeyRequiringRerender:k},children:e})};function tm(e,t){const n=f.useContext(TR);if(!n)throw new Error("useGetEppoJSONVariation must be used within EppoExperimentsContext");const{getEppoTypedVariation:r}=n,[s,a]=f.useState(!0),[i,o]=f.useState(void 0),[c,u]=f.useState(e.defaultValue),d=f.useRef(e),h=f.useCallback(async()=>{const{skip:m,...p}=d.current;try{return r(t,p)}catch{return p.defaultValue}},[r,t]);return fWe(()=>{d.current=e;const{skip:m,...p}=e;if(m){a(!1);return}a(!0),r(t,p).then(g=>u(g),o).finally(()=>a(!1))},[r,e]),{value:c,loading:s,error:i,fetchVariation:h}}const Tne=(e,...t)=>e.getJSONAssignment(...t);function bd(e){return tm(e,Tne)}function SWe(e,t){const n={...e,subjectType:"context_uuid",extraAttributes:{...e.extraAttributes,context_uuid:t}};return tm(n,Tne)}const EWe=(e,...t)=>e.getStringAssignment(...t);function Nne(e){return tm(e,EWe)}const kWe=(e,...t)=>e.getBooleanAssignment(...t);function Rr(e){return tm(e,kWe)}const MWe=(e,...t)=>e.getNumericAssignment(...t);function TWe(e){return tm(e,MWe)}const NWe=(e,...t)=>e.getIntegerAssignment(...t);function RWe(e){return tm(e,NWe)}function Vw(e){return bd({...e,subjectType:"visitor_id",skip:!1})}function dr(e){return Rr({...e,subjectType:"visitor_id",skip:!1})}const Ic=()=>{const e=f.useContext(TR);if(!e)throw new Error("useEppoExperiments must be used within EppoExperimentsContext");return e},Gw=()=>{const{value:e,loading:t}=dr({flag:"mweb-upsell-to-whatsapp",defaultValue:!1});return f.useMemo(()=>({mwebUpsellWhatsApp:e,loadingMwebUpsellWhatsApp:t}),[e,t])},AWe=()=>kHe()==="firefox"?!0:typeof window>"u"?!1:new URL(window.location.href).searchParams.get("pc")==="firefox",hh=f.memo(({isSamsungBrowser:e,isWindowsApp:t,isComet:n,isCometSidecar:r,isFirefoxDefaultSearch:s,children:a})=>{const i=cn(),o=rr(),c=AWe(),{isWindowsApp:u,isSamsungBrowser:d}=Nt();return f.useMemo(()=>!!(n&&i||r&&o||t&&u||e&&d||s&&c),[i,o,u,d,n,r,e,t,s,c])?null:a});var b5="focusScope.autoFocusOnMount",w5="focusScope.autoFocusOnUnmount",ZU={bubbles:!1,cancelable:!0},jWe="FocusScope",NR=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,c]=f.useState(null),u=ss(s),d=ss(a),h=f.useRef(null),m=Kn(t,v=>c(v)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let v=function(w){if(p.paused||!o)return;const _=w.target;o.contains(_)?h.current=_:$l(h.current,{select:!0})},y=function(w){if(p.paused||!o)return;const _=w.relatedTarget;_!==null&&(o.contains(_)||$l(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&$l(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(x);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[r,o,p.paused]),f.useEffect(()=>{if(o){eB.add(p);const v=document.activeElement;if(!o.contains(v)){const x=new CustomEvent(b5,ZU);o.addEventListener(b5,u),o.dispatchEvent(x),x.defaultPrevented||(PWe(FWe(Rne(o)),{select:!0}),document.activeElement===v&&$l(o))}return()=>{o.removeEventListener(b5,u),setTimeout(()=>{const x=new CustomEvent(w5,ZU);o.addEventListener(w5,d),o.dispatchEvent(x),x.defaultPrevented||$l(v??document.body,{select:!0}),o.removeEventListener(w5,d),eB.remove(p)},0)}}},[o,u,d,p]);const g=f.useCallback(v=>{if(!n&&!r||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(y&&x){const b=v.currentTarget,[w,_]=IWe(b);w&&_?!v.shiftKey&&x===_?(v.preventDefault(),n&&$l(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),n&&$l(_,{select:!0})):x===b&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(xn.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});NR.displayName=jWe;function PWe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($l(r,{select:t}),document.activeElement!==n)return}function IWe(e){const t=Rne(e),n=JU(t,e),r=JU(t.reverse(),e);return[n,r]}function Rne(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function JU(e,t){for(const n of e)if(!OWe(n,{upTo:t}))return n}function OWe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LWe(e){return e instanceof HTMLInputElement&&"select"in e}function $l(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&LWe(e)&&t&&e.select()}}var eB=DWe();function DWe(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=tB(e,t),e.unshift(t)},remove(t){e=tB(e,t),e[0]?.resume()}}}function tB(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function FWe(e){return e.filter(t=>t.tagName!=="A")}var _5=0;function Ane(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nB()),document.body.insertAdjacentElement("beforeend",e[1]??nB()),_5++,()=>{_5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_5--}},[])}function nB(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qp="right-scroll-bar-position",Kp="width-before-scroll-bar",UWe="with-scroll-bars-hidden",BWe="--removed-body-scroll-bar-size";function C5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $We(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var HWe=typeof window<"u"?f.useLayoutEffect:f.useEffect,rB=new WeakMap;function jne(e,t){var n=$We(null,function(r){return e.forEach(function(s){return C5(s,r)})});return HWe(function(){var r=rB.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(o){a.has(o)||C5(o,null)}),a.forEach(function(o){s.has(o)||C5(o,i)})}rB.set(n,e)},[e]),n}function WWe(e){return e}function zWe(e,t){t===void 0&&(t=WWe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function Pne(e){e===void 0&&(e={});var t=zWe(null);return t.options=Tn({async:!0,ssr:!1},e),t}var Ine=function(e){var t=e.sideCar,n=m9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Tn({},n))};Ine.isSideCarExport=!0;function One(e,t){return e.useMedium(t),Ine}var Lne=Pne(),S5=function(){},qw=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:S5,onWheelCapture:S5,onTouchMoveCapture:S5}),s=r[0],a=r[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=m9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,C=jne([n,t]),S=Tn(Tn({},w),s);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:Lne,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:b}),i?f.cloneElement(f.Children.only(o),Tn(Tn({},S),{ref:C})):f.createElement(x,Tn({},S,{className:c,ref:C}),o))});qw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qw.classNames={fullWidth:Kp,zeroRight:qp};var VWe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GWe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VWe();return t&&e.setAttribute("nonce",t),e}function qWe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KWe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YWe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=GWe())&&(qWe(t,n),KWe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QWe=function(){var e=YWe();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},RR=function(){var e=QWe(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},XWe={left:0,top:0,right:0,gap:0},E5=function(e){return parseInt(e||"",10)||0},ZWe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[E5(n),E5(r),E5(s)]},JWe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XWe;var t=ZWe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},eze=RR(),Bf="data-scroll-locked",tze=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(UWe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Bf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qp,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Kp,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kp," .").concat(Kp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bf,`] {
    `).concat(BWe,": ").concat(o,`px;
  }
`)},sB=function(){var e=parseInt(document.body.getAttribute(Bf)||"0",10);return isFinite(e)?e:0},nze=function(){f.useEffect(function(){return document.body.setAttribute(Bf,(sB()+1).toString()),function(){var e=sB()-1;e<=0?document.body.removeAttribute(Bf):document.body.setAttribute(Bf,e.toString())}},[])},Dne=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;nze();var a=f.useMemo(function(){return JWe(s)},[s]);return f.createElement(eze,{styles:tze(a,!t,s,n?"":"!important")})},TM=!1;if(typeof window<"u")try{var Fv=Object.defineProperty({},"passive",{get:function(){return TM=!0,!0}});window.addEventListener("test",Fv,Fv),window.removeEventListener("test",Fv,Fv)}catch{TM=!1}var $d=TM?{passive:!1}:!1,rze=function(e){return e.tagName==="TEXTAREA"},Fne=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rze(e)&&n[t]==="visible")},sze=function(e){return Fne(e,"overflowY")},aze=function(e){return Fne(e,"overflowX")},aB=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Une(e,r);if(s){var a=Bne(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ize=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},oze=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Une=function(e,t){return e==="v"?sze(t):aze(t)},Bne=function(e,t){return e==="v"?ize(t):oze(t)},lze=function(e,t){return e==="h"&&t==="rtl"?-1:1},cze=function(e,t,n,r,s){var a=lze(e,window.getComputedStyle(t).direction),i=a*r,o=n.target,c=t.contains(o),u=!1,d=i>0,h=0,m=0;do{var p=Bne(e,o),g=p[0],v=p[1],y=p[2],x=v-y-a*g;(g||x)&&Une(e,o)&&(h+=x,m+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Uv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iB=function(e){return[e.deltaX,e.deltaY]},oB=function(e){return e&&"current"in e?e.current:e},uze=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fze=0,Hd=[];function hze(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(fze++)[0],a=f.useState(RR)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=He([e.lockRef.current],(e.shards||[]).map(oB),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=f.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var x=Uv(v),b=n.current,w="deltaX"in v?v.deltaX:b[0]-x[0],_="deltaY"in v?v.deltaY:b[1]-x[1],C,S=v.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in v&&k==="h"&&S.type==="range")return!1;var E=aB(k,S);if(!E)return!0;if(E?C=k:(C=k==="v"?"h":"v",E=aB(k,S)),!E)return!1;if(!r.current&&"changedTouches"in v&&(w||_)&&(r.current=C),!C)return!0;var M=r.current||C;return cze(M,y,v,M==="h"?w:_)},[]),c=f.useCallback(function(v){var y=v;if(!(!Hd.length||Hd[Hd.length-1]!==a)){var x="deltaY"in y?iB(y):Uv(y),b=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&uze(C.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(oB).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=w.length>0?o(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=f.useCallback(function(v,y,x,b){var w={name:v,delta:y,target:x,should:b,shadowParent:mze(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=f.useCallback(function(v){n.current=Uv(v),r.current=void 0},[]),h=f.useCallback(function(v){u(v.type,iB(v),v.target,o(v,e.lockRef.current))},[]),m=f.useCallback(function(v){u(v.type,Uv(v),v.target,o(v,e.lockRef.current))},[]);f.useEffect(function(){return Hd.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,$d),document.addEventListener("touchmove",c,$d),document.addEventListener("touchstart",d,$d),function(){Hd=Hd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,$d),document.removeEventListener("touchmove",c,$d),document.removeEventListener("touchstart",d,$d)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(a,{styles:dze(s)}):null,p?f.createElement(Dne,{gapMode:e.gapMode}):null)}function mze(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pze=One(Lne,hze);var AR=f.forwardRef(function(e,t){return f.createElement(qw,Tn({},e,{ref:t,sideCar:pze}))});AR.classNames=qw.classNames;var gze=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wd=new WeakMap,Bv=new WeakMap,$v={},k5=0,$ne=function(e){return e&&(e.host||$ne(e.parentNode))},vze=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$ne(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yze=function(e,t,n,r){var s=vze(t,Array.isArray(e)?e:[e]);$v[n]||($v[n]=new WeakMap);var a=$v[n],i=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(o.has(m))d(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",v=(Wd.get(m)||0)+1,y=(a.get(m)||0)+1;Wd.set(m,v),a.set(m,y),i.push(m),v===1&&g&&Bv.set(m,!0),y===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),o.clear(),k5++,function(){i.forEach(function(h){var m=Wd.get(h)-1,p=a.get(h)-1;Wd.set(h,m),a.set(h,p),m||(Bv.has(h)||h.removeAttribute(r),Bv.delete(h)),p||h.removeAttribute(n)}),k5--,k5||(Wd=new WeakMap,Wd=new WeakMap,Bv=new WeakMap,$v={})}},Hne=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=gze(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),yze(r,s,n,"aria-hidden")):function(){return null}},jR="Dialog",[Wne,$Lt]=Ci(jR),[xze,Mi]=Wne(jR),PR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,o=f.useRef(null),c=f.useRef(null),[u=!1,d]=jc({prop:r,defaultProp:s,onChange:a});return l.jsx(xze,{scope:t,triggerRef:o,contentRef:c,contentId:Ff(),titleId:Ff(),descriptionId:Ff(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};PR.displayName=jR;var zne="DialogTrigger",Vne=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mi(zne,n),a=Kn(t,s.triggerRef);return l.jsx(xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":BR(s.open),...r,ref:a,onClick:It(e.onClick,s.onOpenToggle)})});Vne.displayName=zne;var IR="DialogPortal",[bze,Gne]=Wne(IR,{forceMount:void 0}),OR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Mi(IR,t);return l.jsx(bze,{scope:t,forceMount:n,children:f.Children.map(r,i=>l.jsx(As,{present:n||a.open,children:l.jsx(i1,{asChild:!0,container:s,children:i})}))})};OR.displayName=IR;var xx="DialogOverlay",LR=f.forwardRef((e,t)=>{const n=Gne(xx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Mi(xx,e.__scopeDialog);return a.modal?l.jsx(As,{present:r||a.open,children:l.jsx(wze,{...s,ref:t})}):null});LR.displayName=xx;var wze=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mi(xx,n);return l.jsx(AR,{as:Mw,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(xn.div,{"data-state":BR(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fu="DialogContent",DR=f.forwardRef((e,t)=>{const n=Gne(Fu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Mi(Fu,e.__scopeDialog);return l.jsx(As,{present:r||a.open,children:a.modal?l.jsx(_ze,{...s,ref:t}):l.jsx(Cze,{...s,ref:t})})});DR.displayName=Fu;var _ze=f.forwardRef((e,t)=>{const n=Mi(Fu,e.__scopeDialog),r=f.useRef(null),s=Kn(t,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return Hne(a)},[]),l.jsx(qne,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:It(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&a.preventDefault()}),onFocusOutside:It(e.onFocusOutside,a=>a.preventDefault())})}),Cze=f.forwardRef((e,t)=>{const n=Mi(Fu,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(qne,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),qne=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,o=Mi(Fu,n),c=f.useRef(null),u=Kn(t,c);return Ane(),l.jsxs(l.Fragment,{children:[l.jsx(NR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(s1,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":BR(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Sze,{titleId:o.titleId}),l.jsx(kze,{contentRef:c,descriptionId:o.descriptionId})]})]})}),FR="DialogTitle",UR=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mi(FR,n);return l.jsx(xn.h2,{id:s.titleId,...r,ref:t})});UR.displayName=FR;var Kne="DialogDescription",Yne=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mi(Kne,n);return l.jsx(xn.p,{id:s.descriptionId,...r,ref:t})});Yne.displayName=Kne;var Qne="DialogClose",Xne=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Mi(Qne,n);return l.jsx(xn.button,{type:"button",...r,ref:t,onClick:It(e.onClick,()=>s.onOpenChange(!1))})});Xne.displayName=Qne;function BR(e){return e?"open":"closed"}var Zne="DialogTitleWarning",[HLt,Jne]=YFe(Zne,{contentName:Fu,titleName:FR,docsSlug:"dialog"}),Sze=({titleId:e})=>{const t=Jne(Zne),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Eze="DialogDescriptionWarning",kze=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jne(Eze).contentName}}.`;return f.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},$R=PR,Mze=Vne,HR=OR,ere=LR,Kw=DR,Yw=UR,WR=Yne,Tze=Xne;const ze=f.memo(f.forwardRef(({variant:e="common",noPadding:t,noXPadding:n,extraCSS:r,...s},a)=>{const i=f.useMemo(()=>U("focus-visible:bg-offsetPlus",{"!p-0 !h-auto hover:!bg-transparent":t},{"!px-0 hover:!bg-transparent":n},{super:"hover:bg-offsetPlus text-super dark:hover:bg-offsetPlus",primary:"hover:bg-offsetPlus text-textMain dark:hover:bg-offsetPlus",common:"hover:bg-offsetPlus text-textOff  hover:text-textMain dark:hover:bg-offsetPlus dark:hover:text-textMainDark",positive:"text-textOff  hover:bg-offsetPlus hover:text-super",positiveSelected:"text-super hover:bg-offsetPlus hover:text-super",negative:"text-subtle hover:bg-offsetPlus hover:text-caution",negativeSelected:"text-caution dark:text-caution hover:bg-offsetPlus hover:text-caution",noBackground:"text-subtle hover:text-text",noHover:"text-textOff  cursor-default",offset:"text-textMain bg-offsetPlus"}[e],r),[r,e,t,n]);return l.jsx(Rte,{testId:s.testId,extraCSS:i,...s,ref:a})})),Nze=({children:e})=>{const{isMobileSidebarOpen:t,setMobileSidebarOpen:n}=kl(),{$t:r}=K();return l.jsx(PR,{open:t,onOpenChange:n,children:l.jsxs(OR,{forceMount:!0,children:[l.jsx(o1,{children:l.jsx(UR,{children:r({defaultMessage:"Mobile Sidebar",id:"37aIxgWRuh"})})}),l.jsx(wt,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx(LR,{asChild:!0,children:l.jsx(ke.div,{className:"fixed inset-0 bg-black/20 dark:bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"mobile-sidebar-overlay")}),l.jsx(DR,{asChild:!0,children:l.jsx(ke.div,{className:"bg-background-100 fixed inset-y-0 left-0",initial:{x:"-100%"},animate:{x:"0%"},exit:{x:"-100%"},transition:{duration:.2,ease:qn},children:e},"mobile-sidebar-content")})]})})]})})},tre=({className:e})=>{const{isMobileSidebarOpen:t,setMobileSidebarOpen:n}=kl();return l.jsx(ze,{icon:tFe,pill:!0,onClick:()=>n(!t),extraCSS:e})},Rze=T.memo(({})=>{const{$t:e}=K(),{trackEvent:t}=Ne(),n=f.useCallback(()=>{t("click logo",{})},[t]),{isIOS:r}=Nt(),{handleAppDownloadClicked:s}=Ww("mobile-header"),a=Hw({origin:"mobile-header"}),{mwebUpsellWhatsApp:i,loadingMwebUpsellWhatsApp:o}=Gw(),c=f.useMemo(()=>i?GN:r?pR:UN,[i,r]);return l.jsx(H,{variant:"background",className:"px-sm h-headerHeight sticky left-0 right-0 top-0 z-10 flex w-full items-center md:mb-0",children:l.jsxs("div",{className:"gap-x-sm pl-xs flex w-full items-center justify-between md:hidden",children:[l.jsxs("div",{className:"gap-x-sm flex items-center",children:[l.jsx(tre,{className:"-ml-sm"}),l.jsx(it,{href:"/",onClick:n,children:l.jsx(Es,{variant:"text",size:"small"})})]}),!o&&l.jsx(hh,{isSamsungBrowser:!0,isFirefoxDefaultSearch:!0,children:l.jsx("div",{className:"animate-in fade-in duration-300",children:l.jsx(ye,{size:"small",pill:!0,variant:"primary",icon:c,text:e(i?{defaultMessage:"Chat in WhatsApp",id:"jXqSBQcpKC"}:{defaultMessage:"Open in App",id:"fo3x6hDxdZ"}),onClick:i?a:s})})})]})})}),zR=T.memo(e=>{const{children:t,inRenderingPlace:n}=e,s=ls().erp;return n&&n===s||!n&&s!==void 0?null:l.jsx(l.Fragment,{children:t})});zR.displayName="HideInEntropy";const lB="comet-custom-color-themes-enabled";function Aze(){const e=en(lB),{value:t,loading:n}=dr({flag:"comet-custom-color-themes-enabled",defaultValue:e==="true"});return f.useEffect(()=>{n||Ot(lB,t?"true":"false")},[t,n]),t}const jze=()=>{const e=Aze(),t=f.useCallback(r=>{const s=document.documentElement;if(!e){s.removeAttribute("data-theme");return}const a=r??en("colorSchemeTheme"),i=AQ(a);i?s.setAttribute("data-theme",i):s.removeAttribute("data-theme")},[e]),n=f.useMemo(()=>_i(t,100),[t]);MR("colorSchemeTheme",r=>{n(r?.value)}),f.useEffect(()=>{t()},[t,e])},Pze=/^\/b\//;function nre(e){return e&&Pze.test(e)}function Ize(e){return e?new URL(window.location.href).pathname.endsWith(`/search/${e}`):!1}function Oze(e){return e?.startsWith("/collections")||e?.startsWith("/spaces")}const Lze=Symbol(),rre=Symbol(),bp="a",sre="f",cB="p",are="c",ire="t",ore="h",g2="w",lre="o",cre="k";let Dze=(e,t)=>new Proxy(e,t);const NM=Object.getPrototypeOf,uB=new WeakMap,Fze=e=>e&&(uB.has(e)?uB.get(e):NM(e)===Object.prototype||NM(e)===Array.prototype),dB=e=>typeof e=="object"&&e!==null,Uze=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),Bze=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(NM(e),t)},$ze=(e,t)=>{const n={[sre]:t};let r=!1;const s=(o,c)=>{if(!r){let u=n[bp].get(e);if(u||(u={},n[bp].set(e,u)),o===g2)u[g2]=!0;else{let d=u[o];d||(d=new Set,u[o]=d),d.add(c)}}},a=()=>{r=!0,n[bp].delete(e)},i={get(o,c){return c===rre?e:(s(cre,c),dre(Reflect.get(o,c),n[bp],n[are],n[ire]))},has(o,c){return c===Lze?(a(),!0):(s(ore,c),Reflect.has(o,c))},getOwnPropertyDescriptor(o,c){return s(lre,c),Reflect.getOwnPropertyDescriptor(o,c)},ownKeys(o){return s(g2),Reflect.ownKeys(o)}};return t&&(i.set=i.deleteProperty=()=>!1),[i,n]},ure=e=>e[rre]||e,dre=(e,t,n,r)=>{if(!Fze(e))return e;let s=r&&r.get(e);if(!s){const c=ure(e);Uze(c)?s=[c,Bze(c)]:s=[c],r?.set(e,s)}const[a,i]=s;let o=n&&n.get(a);return(!o||o[1][sre]!==!!i)&&(o=$ze(a,!!i),o[1][cB]=Dze(i||a,o[0]),n&&n.set(a,o)),o[1][bp]=t,o[1][are]=n,o[1][ire]=r,o[1][cB]},Hze=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((s,a)=>s!==r[a])},RM=(e,t,n,r,s=Object.is)=>{if(s(e,t))return!1;if(!dB(e)||!dB(t))return!0;const a=n.get(ure(e));if(!a)return!0;if(r){if(r.get(e)===t)return!1;r.set(e,t)}let i=null;for(const o of a[ore]||[])if(i=Reflect.has(e,o)!==Reflect.has(t,o),i)return i;if(a[g2]===!0){if(i=Hze(e,t),i)return i}else for(const o of a[lre]||[]){const c=!!Reflect.getOwnPropertyDescriptor(e,o),u=!!Reflect.getOwnPropertyDescriptor(t,o);if(i=c!==u,i)return i}for(const o of a[cre]||[])if(i=RM(e[o],t[o],n,r,s),i)return i;if(i===null)throw new Error("invalid used");return i},Wze=e=>()=>{const[,n]=f.useReducer(u=>u+1,0),r=f.useMemo(()=>new WeakMap,[]),s=f.useRef(),a=f.useRef();f.useEffect(()=>{s.current!==a.current&&RM(s.current,a.current,r,new WeakMap)&&(s.current=a.current,n())});const i=f.useCallback(u=>(a.current=u,s.current&&s.current!==u&&!RM(s.current,u,r,new WeakMap)?s.current:(s.current=u,u)),[r]),o=e(i),c=f.useMemo(()=>new WeakMap,[]);return dre(o,r,c)};function Qw(e){const t=T.createContext(null),{useSelector:n,useStore:r,useTrackedState:s}=fre(t,e);return{Context:t,useSelector:n,useStore:r,useTrackedState:s}}function fre(e,t){const n=()=>{const a=T.useContext(e);if(!a)throw new Error(`This hook must be used within ${t}.Provider`);return a},r=a=>n()(a),s=Wze(r);return{useSelector:r,useStore:n,useTrackedState:s}}const nm=(e,t)=>{const n=T.createContext(null),r=o=>{const[c]=T.useState(()=>o.initialValue?t(o?.initialValue):t(void 0));return l.jsx(n.Provider,{value:c,children:o.children})},{useSelector:s,useStore:a,useTrackedState:i}=fre(n,e);return{useSelector:s,useStore:a,useTrackedState:i,Context:n,Provider:r}},{Context:zze,useTrackedState:Vze}=Qw("LocalUserSettings"),Gze=({trackEvent:e,initialLocalUserSettings:t})=>bi()(NQ(n=>({...t,actions:{setIsSplashPageDismissed:(r,s)=>{oHe(r,s),n({isSplashPageDismissed:r})},setColorScheme:r=>{n({colorScheme:r})},setIsSidebarPinned:r=>{n({isSidebarPinned:r}),Ot("isSidebarPinned",String(r),{expires:wr})},setSidebarHiddenHubs:r=>{n({sidebarHiddenHubs:r}),Ot("sidebarHiddenHubs",JSON.stringify(r),{expires:wr})},setIsCollapsed:r=>{e("sidebar toggled",{is_collapsed:r}),Ot("isCollapsed",String(r),{expires:wr}),n({isCollapsed:r})},setIsIncognito:async r=>{const s=await Oa.getSession(),a=s!==null&&typeof s<"u";a&&fne(),a&&(iHe(r),n({isIncognitoLocal:r}))},setIsDiscoverInterestBoxDismissed:r=>{lHe(r),n({isDiscoverInterestBoxDismissed:r})},setIsEnterpriseAdDismissed:r=>{uHe(r),n({isEnterpriseAdDismissed:r})},setIsSuggestionsDisabled:r=>{e("auto suggestion setting toggled",{isEnabled:!r}),dHe(r),n({isSuggestionsDisabled:r})},setIsHomepageWidgetsDisabled:r=>{e("homepage widgets setting toggled",{isEnabled:!r}),fHe(r),n({isHomepageWidgetsDisabled:r})},setIsSportsIosCtaDismissed:r=>{pHe(r),n({isSportsIosCtaDismissed:r})},setPreferredSearchMode(r){r?Ot(MM,r,{expires:wr}):sh(MM),n({preferredSearchMode:r})},setPreferredSearchModel(r,s){n(a=>{const{preferredSearchModels:i={}}=a;s?i[r]=s:r&&delete i[r];try{Ot(cne,JSON.stringify(i),{expires:wr})}catch{}finally{a.preferredSearchModels=i}return a})},setWelcomeBackGateImpressions:r=>{hHe(r),n({welcomeBackGateImpressions:r})},setShareGateImpressions:r=>{mHe(r),n({shareGateImpressions:r})},setIsSidebarConnectorsAdDismissed:r=>{xHe(r),n({isSidebarConnectorsAdDismissed:r})},setIsStudentReferralBannerDismissed:r=>{_He(r),n({isStudentReferralBannerDismissed:r})}}}))),qze=({children:e,initialLocalUserSettings:t})=>{const{trackEvent:n}=Ne(),[r]=f.useState(()=>Gze({trackEvent:n,initialLocalUserSettings:t}));return MR(CR,s=>{s&&r.setState({isIncognitoLocal:JSON.parse(s.value)})}),l.jsx(zze.Provider,{value:r,children:e})},on=Vze,hre=f.createContext(null),Kze=({children:e,scrollContainerRef:t})=>l.jsx(hre.Provider,{value:{scrollContainerRef:t},children:e}),VR=()=>{const e=f.useContext(hre);if(!e)throw new Error("useScrollContainerRef must be used within a ScrollContainerRefProvider");return e};/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Yze(e,t,n){return(t=Xze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(n),!0).forEach(function(r){Yze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xze(e){var t=Qze(e,"string");return typeof t=="symbol"?t:t+""}const hB=()=>{};let GR={},mre={},pre=null,gre={mark:hB,measure:hB};try{typeof window<"u"&&(GR=window),typeof document<"u"&&(mre=document),typeof MutationObserver<"u"&&(pre=MutationObserver),typeof performance<"u"&&(gre=performance)}catch{}const{userAgent:mB=""}=GR.navigator||{},vc=GR,Rn=mre,pB=pre,Hv=gre;vc.document;const xl=!!Rn.documentElement&&!!Rn.head&&typeof Rn.addEventListener=="function"&&typeof Rn.createElement=="function",vre=~mB.indexOf("MSIE")||~mB.indexOf("Trident/");var Zze=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Jze=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,yre={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},eVe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},xre=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],us="classic",Xw="duotone",tVe="sharp",nVe="sharp-duotone",bre=[us,Xw,tVe,nVe],rVe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},sVe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},aVe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),iVe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},oVe=["fak","fa-kit","fakd","fa-kit-duotone"],gB={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},lVe=["kit"],cVe={kit:{"fa-kit":"fak"}},uVe=["fak","fakd"],dVe={kit:{fak:"fa-kit"}},vB={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Wv={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},fVe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],hVe=["fak","fa-kit","fakd","fa-kit-duotone"],mVe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},pVe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},gVe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},AM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},vVe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],jM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...fVe,...vVe],yVe=["solid","regular","light","thin","duotone","brands"],wre=[1,2,3,4,5,6,7,8,9,10],xVe=wre.concat([11,12,13,14,15,16,17,18,19,20]),bVe=[...Object.keys(gVe),...yVe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Wv.GROUP,Wv.SWAP_OPACITY,Wv.PRIMARY,Wv.SECONDARY].concat(wre.map(e=>"".concat(e,"x"))).concat(xVe.map(e=>"w-".concat(e))),wVe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ll="___FONT_AWESOME___",PM=16,_re="fa",Cre="svg-inline--fa",Uu="data-fa-i2svg",IM="data-fa-pseudo-element",_Ve="data-fa-pseudo-element-pending",qR="data-prefix",KR="data-icon",yB="fontawesome-i2svg",CVe="async",SVe=["HTML","HEAD","STYLE","SCRIPT"],Sre=(()=>{try{return!0}catch{return!1}})();function d1(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[us]}})}const Ere=Ie({},yre);Ere[us]=Ie(Ie(Ie(Ie({},{"fa-duotone":"duotone"}),yre[us]),gB.kit),gB["kit-duotone"]);const EVe=d1(Ere),OM=Ie({},iVe);OM[us]=Ie(Ie(Ie(Ie({},{duotone:"fad"}),OM[us]),vB.kit),vB["kit-duotone"]);const xB=d1(OM),LM=Ie({},AM);LM[us]=Ie(Ie({},LM[us]),dVe.kit);const YR=d1(LM),DM=Ie({},pVe);DM[us]=Ie(Ie({},DM[us]),cVe.kit);d1(DM);const kVe=Zze,kre="fa-layers-text",MVe=Jze,TVe=Ie({},rVe);d1(TVe);const NVe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],M5=eVe,RVe=[...lVe,...bVe],Yp=vc.FontAwesomeConfig||{};function AVe(e){var t=Rn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function jVe(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}Rn&&typeof Rn.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=jVe(AVe(n));s!=null&&(Yp[r]=s)});const Mre={styleDefault:"solid",familyDefault:us,cssPrefix:_re,replacementClass:Cre,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Yp.familyPrefix&&(Yp.cssPrefix=Yp.familyPrefix);const mh=Ie(Ie({},Mre),Yp);mh.autoReplaceSvg||(mh.observeMutations=!1);const ct={};Object.keys(Mre).forEach(e=>{Object.defineProperty(ct,e,{enumerable:!0,set:function(t){mh[e]=t,Qp.forEach(n=>n(ct))},get:function(){return mh[e]}})});Object.defineProperty(ct,"familyPrefix",{enumerable:!0,set:function(e){mh.cssPrefix=e,Qp.forEach(t=>t(ct))},get:function(){return mh.cssPrefix}});vc.FontAwesomeConfig=ct;const Qp=[];function PVe(e){return Qp.push(e),()=>{Qp.splice(Qp.indexOf(e),1)}}const jl=PM,qi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function IVe(e){if(!e||!xl)return;const t=Rn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Rn.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const a=n[s],i=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(r=a)}return Rn.head.insertBefore(t,r),e}const OVe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kg(){let e=12,t="";for(;e-- >0;)t+=OVe[Math.random()*62|0];return t}function rm(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function QR(e){return e.classList?rm(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function Tre(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function LVe(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(Tre(e[n]),'" '),"").trim()}function Zw(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function XR(e){return e.size!==qi.size||e.x!==qi.x||e.y!==qi.y||e.rotate!==qi.rotate||e.flipX||e.flipY}function DVe(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(t.x*32,", ").concat(t.y*32,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(a," ").concat(i," ").concat(o)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function FVe(e){let{transform:t,width:n=PM,height:r=PM,startCentered:s=!1}=e,a="";return s&&vre?a+="translate(".concat(t.x/jl-n/2,"em, ").concat(t.y/jl-r/2,"em) "):s?a+="translate(calc(-50% + ".concat(t.x/jl,"em), calc(-50% + ").concat(t.y/jl,"em)) "):a+="translate(".concat(t.x/jl,"em, ").concat(t.y/jl,"em) "),a+="scale(".concat(t.size/jl*(t.flipX?-1:1),", ").concat(t.size/jl*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}var UVe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Nre(){const e=_re,t=Cre,n=ct.cssPrefix,r=ct.replacementClass;let s=UVe;if(n!==e||r!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");s=s.replace(a,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(o,".".concat(r))}return s}let bB=!1;function T5(){ct.autoAddCss&&!bB&&(IVe(Nre()),bB=!0)}var BVe={mixout(){return{dom:{css:Nre,insertCss:T5}}},hooks(){return{beforeDOMElementCreation(){T5()},beforeI2svg(){T5()}}}};const cl=vc||{};cl[ll]||(cl[ll]={});cl[ll].styles||(cl[ll].styles={});cl[ll].hooks||(cl[ll].hooks={});cl[ll].shims||(cl[ll].shims=[]);var Ki=cl[ll];const Rre=[],Are=function(){Rn.removeEventListener("DOMContentLoaded",Are),bx=1,Rre.map(e=>e())};let bx=!1;xl&&(bx=(Rn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Rn.readyState),bx||Rn.addEventListener("DOMContentLoaded",Are));function $Ve(e){xl&&(bx?setTimeout(e,0):Rre.push(e))}function f1(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?Tre(e):"<".concat(t," ").concat(LVe(n),">").concat(r.map(f1).join(""),"</").concat(t,">")}function wB(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var N5=function(t,n,r,s){var a=Object.keys(t),i=a.length,o=n,c,u,d;for(r===void 0?(c=1,d=t[a[0]]):(c=0,d=r);c<i;c++)u=a[c],d=o(d,t[u],u,t);return d};function HVe(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function FM(e){const t=HVe(e);return t.length===1?t[0].toString(16):null}function WVe(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function _B(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function UM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=_B(t);typeof Ki.hooks.addPack=="function"&&!r?Ki.hooks.addPack(e,_B(t)):Ki.styles[e]=Ie(Ie({},Ki.styles[e]||{}),s),e==="fas"&&UM("fa",t)}const{styles:Yg,shims:zVe}=Ki,jre=Object.keys(YR),VVe=jre.reduce((e,t)=>(e[t]=Object.keys(YR[t]),e),{});let ZR=null,Pre={},Ire={},Ore={},Lre={},Dre={};function GVe(e){return~RVe.indexOf(e)}function qVe(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!GVe(s)?s:null}const Fre=()=>{const e=r=>N5(Yg,(s,a,i)=>(s[i]=N5(a,r,{}),s),{});Pre=e((r,s,a)=>(s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=a}),r)),Ire=e((r,s,a)=>(r[a]=a,s[2]&&s[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=a}),r)),Dre=e((r,s,a)=>{const i=s[2];return r[a]=a,i.forEach(o=>{r[o]=a}),r});const t="far"in Yg||ct.autoFetchSvg,n=N5(zVe,(r,s)=>{const a=s[0];let i=s[1];const o=s[2];return i==="far"&&!t&&(i="fas"),typeof a=="string"&&(r.names[a]={prefix:i,iconName:o}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:i,iconName:o}),r},{names:{},unicodes:{}});Ore=n.names,Lre=n.unicodes,ZR=Jw(ct.styleDefault,{family:ct.familyDefault})};PVe(e=>{ZR=Jw(e.styleDefault,{family:ct.familyDefault})});Fre();function JR(e,t){return(Pre[e]||{})[t]}function KVe(e,t){return(Ire[e]||{})[t]}function vu(e,t){return(Dre[e]||{})[t]}function Ure(e){return Ore[e]||{prefix:null,iconName:null}}function YVe(e){const t=Lre[e],n=JR("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function yc(){return ZR}const Bre=()=>({prefix:null,iconName:null,rest:[]});function QVe(e){let t=us;const n=jre.reduce((r,s)=>(r[s]="".concat(ct.cssPrefix,"-").concat(s),r),{});return bre.forEach(r=>{(e.includes(n[r])||e.some(s=>VVe[r].includes(s)))&&(t=r)}),t}function Jw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=us}=t,r=EVe[n][e];if(n===Xw&&!e)return"fad";const s=xB[n][e]||xB[n][r],a=e in Ki.styles?e:null;return s||a||null}function XVe(e){let t=[],n=null;return e.forEach(r=>{const s=qVe(ct.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function CB(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function e3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=jM.concat(hVe),a=CB(e.filter(h=>s.includes(h))),i=CB(e.filter(h=>!jM.includes(h))),o=a.filter(h=>(r=h,!xre.includes(h))),[c=null]=o,u=QVe(a),d=Ie(Ie({},XVe(i)),{},{prefix:Jw(c,{family:u})});return Ie(Ie(Ie({},d),tGe({values:e,family:u,styles:Yg,config:ct,canonical:d,givenPrefix:r})),ZVe(n,r,d))}function ZVe(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const a=t==="fa"?Ure(s):{},i=vu(r,s);return s=a.iconName||i||s,r=a.prefix||r,r==="far"&&!Yg.far&&Yg.fas&&!ct.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const JVe=bre.filter(e=>e!==us||e!==Xw),eGe=Object.keys(AM).filter(e=>e!==us).map(e=>Object.keys(AM[e])).flat();function tGe(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:a={},config:i={}}=e,o=n===Xw,c=t.includes("fa-duotone")||t.includes("fad"),u=i.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!o&&(c||u||d)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&JVe.includes(n)&&(Object.keys(a).find(m=>eGe.includes(m))||i.autoFetchSvg)){const m=aVe.get(n).defaultShortPrefixId;r.prefix=m,r.iconName=vu(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=yc()||"fas"),r}class nGe{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(a=>{this.definitions[a]=Ie(Ie({},this.definitions[a]||{}),s[a]),UM(a,s[a]);const i=YR[us][a];i&&UM(i,s[a]),Fre()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:a,iconName:i,icon:o}=r[s],c=o[2];t[a]||(t[a]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(t[a][u]=o)}),t[a][i]=o}),t}}let SB=[],_f={};const $f={},rGe=Object.keys($f);function sGe(e,t){let{mixoutsTo:n}=t;return SB=e,_f={},Object.keys($f).forEach(r=>{rGe.indexOf(r)===-1&&delete $f[r]}),SB.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(a=>{typeof s[a]=="function"&&(n[a]=s[a]),typeof s[a]=="object"&&Object.keys(s[a]).forEach(i=>{n[a]||(n[a]={}),n[a][i]=s[a][i]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(i=>{_f[i]||(_f[i]=[]),_f[i].push(a[i])})}r.provides&&r.provides($f)}),n}function BM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(_f[e]||[]).forEach(i=>{t=i.apply(null,[t,...r])}),t}function Bu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(_f[e]||[]).forEach(a=>{a.apply(null,n)})}function xc(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return $f[e]?$f[e].apply(null,t):void 0}function $M(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||yc();if(t)return t=vu(n,t)||t,wB($re.definitions,n,t)||wB(Ki.styles,n,t)}const $re=new nGe,aGe=()=>{ct.autoReplaceSvg=!1,ct.observeMutations=!1,Bu("noAuto")},iGe={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xl?(Bu("beforeI2svg",e),xc("pseudoElements2svg",e),xc("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;ct.autoReplaceSvg===!1&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,$Ve(()=>{lGe({autoReplaceSvgRoot:t}),Bu("watch",e)})}},oGe={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:vu(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=Jw(e[0]);return{prefix:n,iconName:vu(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(ct.cssPrefix,"-"))>-1||e.match(kVe))){const t=e3(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||yc(),iconName:vu(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=yc();return{prefix:t,iconName:vu(t,e)||e}}}},fa={noAuto:aGe,config:ct,dom:iGe,parse:oGe,library:$re,findIconDefinition:$M,toHtml:f1},lGe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Rn}=e;(Object.keys(Ki.styles).length>0||ct.autoFetchSvg)&&xl&&ct.autoReplaceSvg&&fa.dom.i2svg({node:t})};function t3(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>f1(n))}}),Object.defineProperty(e,"node",{get:function(){if(!xl)return;const n=Rn.createElement("div");return n.innerHTML=e.html,n.children}}),e}function cGe(e){let{children:t,main:n,mask:r,attributes:s,styles:a,transform:i}=e;if(XR(i)&&n.found&&!r.found){const{width:o,height:c}=n,u={x:o/c/2,y:.5};s.style=Zw(Ie(Ie({},a),{},{"transform-origin":"".concat(u.x+i.x/16,"em ").concat(u.y+i.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function uGe(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:a}=e;const i=a===!0?"".concat(t,"-").concat(ct.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ie(Ie({},s),{},{id:i}),children:r}]}]}function eA(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:a,symbol:i,title:o,maskId:c,titleId:u,extra:d,watchable:h=!1}=e,{width:m,height:p}=n.found?n:t,g=uVe.includes(r),v=[ct.replacementClass,s?"".concat(ct.cssPrefix,"-").concat(s):""].filter(C=>d.classes.indexOf(C)===-1).filter(C=>C!==""||!!C).concat(d.classes).join(" ");let y={children:[],attributes:Ie(Ie({},d.attributes),{},{"data-prefix":r,"data-icon":s,class:v,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(p)})};const x=g&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/p*16*.0625,"em")}:{};h&&(y.attributes[Uu]=""),o&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||Kg())},children:[o]}),delete y.attributes.title);const b=Ie(Ie({},y),{},{prefix:r,iconName:s,main:t,mask:n,maskId:c,transform:a,symbol:i,styles:Ie(Ie({},x),d.styles)}),{children:w,attributes:_}=n.found&&t.found?xc("generateAbstractMask",b)||{children:[],attributes:{}}:xc("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=w,b.attributes=_,i?uGe(b):cGe(b)}function EB(e){const{content:t,width:n,height:r,transform:s,title:a,extra:i,watchable:o=!1}=e,c=Ie(Ie(Ie({},i.attributes),a?{title:a}:{}),{},{class:i.classes.join(" ")});o&&(c[Uu]="");const u=Ie({},i.styles);XR(s)&&(u.transform=FVe({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const d=Zw(u);d.length>0&&(c.style=d);const h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function dGe(e){const{content:t,title:n,extra:r}=e,s=Ie(Ie(Ie({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Zw(r.styles);a.length>0&&(s.style=a);const i=[];return i.push({tag:"span",attributes:s,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}const{styles:R5}=Ki;function HM(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(ct.cssPrefix,"-").concat(M5.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(M5.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(M5.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const fGe={found:!1,width:512,height:512};function hGe(e,t){!Sre&&!ct.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function WM(e,t){let n=t;return t==="fa"&&ct.styleDefault!==null&&(t=yc()),new Promise((r,s)=>{if(n==="fa"){const a=Ure(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&R5[t]&&R5[t][e]){const a=R5[t][e];return r(HM(a))}hGe(e,t),r(Ie(Ie({},fGe),{},{icon:ct.showMissingIcons&&e?xc("missingIconAbstract")||{}:{}}))})}const kB=()=>{},zM=ct.measurePerformance&&Hv&&Hv.mark&&Hv.measure?Hv:{mark:kB,measure:kB},wp='FA "6.7.1"',mGe=e=>(zM.mark("".concat(wp," ").concat(e," begins")),()=>Hre(e)),Hre=e=>{zM.mark("".concat(wp," ").concat(e," ends")),zM.measure("".concat(wp," ").concat(e),"".concat(wp," ").concat(e," begins"),"".concat(wp," ").concat(e," ends"))};var tA={begin:mGe,end:Hre};const v2=()=>{};function MB(e){return typeof(e.getAttribute?e.getAttribute(Uu):null)=="string"}function pGe(e){const t=e.getAttribute?e.getAttribute(qR):null,n=e.getAttribute?e.getAttribute(KR):null;return t&&n}function gGe(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(ct.replacementClass)}function vGe(){return ct.autoReplaceSvg===!0?y2.replace:y2[ct.autoReplaceSvg]||y2.replace}function yGe(e){return Rn.createElementNS("http://www.w3.org/2000/svg",e)}function xGe(e){return Rn.createElement(e)}function Wre(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?yGe:xGe}=t;if(typeof e=="string")return Rn.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(a){r.setAttribute(a,e.attributes[a])}),(e.children||[]).forEach(function(a){r.appendChild(Wre(a,{ceFn:n}))}),r}function bGe(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const y2={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(Wre(n),t)}),t.getAttribute(Uu)===null&&ct.keepOriginalSource){let n=Rn.createComment(bGe(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~QR(t).indexOf(ct.replacementClass))return y2.replace(e);const r=new RegExp("".concat(ct.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const a=n[0].attributes.class.split(" ").reduce((i,o)=>(o===ct.replacementClass||o.match(r)?i.toSvg.push(o):i.toNode.push(o),i),{toNode:[],toSvg:[]});n[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}const s=n.map(a=>f1(a)).join(`
`);t.setAttribute(Uu,""),t.innerHTML=s}};function TB(e){e()}function zre(e,t){const n=typeof t=="function"?t:v2;if(e.length===0)n();else{let r=TB;ct.mutateApproach===CVe&&(r=vc.requestAnimationFrame||TB),r(()=>{const s=vGe(),a=tA.begin("mutate");e.map(s),a(),n()})}}let nA=!1;function Vre(){nA=!0}function VM(){nA=!1}let wx=null;function NB(e){if(!pB||!ct.observeMutations)return;const{treeCallback:t=v2,nodeCallback:n=v2,pseudoElementsCallback:r=v2,observeMutationsRoot:s=Rn}=e;wx=new pB(a=>{if(nA)return;const i=yc();rm(a).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!MB(o.addedNodes[0])&&(ct.searchPseudoElements&&r(o.target),t(o.target)),o.type==="attributes"&&o.target.parentNode&&ct.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&MB(o.target)&&~NVe.indexOf(o.attributeName))if(o.attributeName==="class"&&pGe(o.target)){const{prefix:c,iconName:u}=e3(QR(o.target));o.target.setAttribute(qR,c||i),u&&o.target.setAttribute(KR,u)}else gGe(o.target)&&n(o.target)})}),xl&&wx.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function wGe(){wx&&wx.disconnect()}function _Ge(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const a=s.split(":"),i=a[0],o=a.slice(1);return i&&o.length>0&&(r[i]=o.join(":").trim()),r},{})),n}function CGe(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=e3(QR(e));return s.prefix||(s.prefix=yc()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=KVe(s.prefix,e.innerText)||JR(s.prefix,FM(e.innerText))),!s.iconName&&ct.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function SGe(e){const t=rm(e.attributes).reduce((s,a)=>(s.name!=="class"&&s.name!=="style"&&(s[a.name]=a.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?t["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(r||Kg()):(t["aria-hidden"]="true",t.focusable="false")),t}function EGe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:qi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function RB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=CGe(e),a=SGe(e),i=BM("parseNodeAttributes",{},e);let o=t.styleParser?_Ge(e):[];return Ie({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:qi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:a}},i)}const{styles:kGe}=Ki;function Gre(e){const t=ct.autoReplaceSvg==="nest"?RB(e,{styleParser:!1}):RB(e);return~t.extra.classes.indexOf(kre)?xc("generateLayersText",e,t):xc("generateSvgReplacementMutation",e,t)}function MGe(){return[...oVe,...jM]}function AB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!xl)return Promise.resolve();const n=Rn.documentElement.classList,r=d=>n.add("".concat(yB,"-").concat(d)),s=d=>n.remove("".concat(yB,"-").concat(d)),a=ct.autoFetchSvg?MGe():xre.concat(Object.keys(kGe));a.includes("fa")||a.push("fa");const i=[".".concat(kre,":not([").concat(Uu,"])")].concat(a.map(d=>".".concat(d,":not([").concat(Uu,"])"))).join(", ");if(i.length===0)return Promise.resolve();let o=[];try{o=rm(e.querySelectorAll(i))}catch{}if(o.length>0)r("pending"),s("complete");else return Promise.resolve();const c=tA.begin("onTree"),u=o.reduce((d,h)=>{try{const m=Gre(h);m&&d.push(m)}catch(m){Sre||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,h)=>{Promise.all(u).then(m=>{zre(m,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),c(),d()})}).catch(m=>{c(),h(m)})})}function TGe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Gre(e).then(n=>{n&&zre([n],t)})}function NGe(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:$M(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:$M(s||{})),e(r,Ie(Ie({},n),{},{mask:s}))}}const RGe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=qi,symbol:r=!1,mask:s=null,maskId:a=null,title:i=null,titleId:o=null,classes:c=[],attributes:u={},styles:d={}}=t;if(!e)return;const{prefix:h,iconName:m,icon:p}=e;return t3(Ie({type:"icon"},e),()=>(Bu("beforeDOMElementCreation",{iconDefinition:e,params:t}),ct.autoA11y&&(i?u["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(o||Kg()):(u["aria-hidden"]="true",u.focusable="false")),eA({icons:{main:HM(p),mask:s?HM(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:m,transform:Ie(Ie({},qi),n),symbol:r,title:i,maskId:a,titleId:o,extra:{attributes:u,styles:d,classes:c}})))};var AGe={mixout(){return{icon:NGe(RGe)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=AB,e.nodeCallback=TGe,e}}},provides(e){e.i2svg=function(t){const{node:n=Rn,callback:r=()=>{}}=t;return AB(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:a,prefix:i,transform:o,symbol:c,mask:u,maskId:d,extra:h}=n;return new Promise((m,p)=>{Promise.all([WM(r,i),u.iconName?WM(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[v,y]=g;m([t,eA({icons:{main:v,mask:y},prefix:i,iconName:r,transform:o,symbol:c,maskId:d,title:s,titleId:a,extra:h,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:a,styles:i}=t;const o=Zw(i);o.length>0&&(r.style=o);let c;return XR(a)&&(c=xc("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},jGe={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return t3({type:"layer"},()=>{Bu("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(a=>{r=r.concat(a.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(ct.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},PGe={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:a={}}=t;return t3({type:"counter",content:e},()=>(Bu("beforeDOMElementCreation",{content:e,params:t}),dGe({content:e.toString(),title:n,extra:{attributes:s,styles:a,classes:["".concat(ct.cssPrefix,"-layers-counter"),...r]}})))}}}},IGe={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=qi,title:r=null,classes:s=[],attributes:a={},styles:i={}}=t;return t3({type:"text",content:e},()=>(Bu("beforeDOMElementCreation",{content:e,params:t}),EB({content:e,transform:Ie(Ie({},qi),n),title:r,extra:{attributes:a,styles:i,classes:["".concat(ct.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:a}=n;let i=null,o=null;if(vre){const c=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();i=u.width/c,o=u.height/c}return ct.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,EB({content:t.innerHTML,width:i,height:o,transform:s,title:r,extra:a,watchable:!0})])}}};const OGe=new RegExp('"',"ug"),jB=[1105920,1112319],PB=Ie(Ie(Ie(Ie({},{FontAwesome:{normal:"fas",400:"fas"}}),sVe),wVe),mVe),GM=Object.keys(PB).reduce((e,t)=>(e[t.toLowerCase()]=PB[t],e),{}),LGe=Object.keys(GM).reduce((e,t)=>{const n=GM[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function DGe(e){const t=e.replace(OGe,""),n=WVe(t,0),r=n>=jB[0]&&n<=jB[1],s=t.length===2?t[0]===t[1]:!1;return{value:FM(s?t[0]:t),isSecondary:r||s}}function FGe(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(GM[n]||{})[s]||LGe[n]}function IB(e,t){const n="".concat(_Ve).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const i=rm(e.children).filter(m=>m.getAttribute(IM)===t)[0],o=vc.getComputedStyle(e,t),c=o.getPropertyValue("font-family"),u=c.match(MVe),d=o.getPropertyValue("font-weight"),h=o.getPropertyValue("content");if(i&&!u)return e.removeChild(i),r();if(u&&h!=="none"&&h!==""){const m=o.getPropertyValue("content");let p=FGe(c,d);const{value:g,isSecondary:v}=DGe(m),y=u[0].startsWith("FontAwesome");let x=JR(p,g),b=x;if(y){const w=YVe(g);w.iconName&&w.prefix&&(x=w.iconName,p=w.prefix)}if(x&&!v&&(!i||i.getAttribute(qR)!==p||i.getAttribute(KR)!==b)){e.setAttribute(n,b),i&&e.removeChild(i);const w=EGe(),{extra:_}=w;_.attributes[IM]=t,WM(x,p).then(C=>{const S=eA(Ie(Ie({},w),{},{icons:{main:C,mask:Bre()},prefix:p,iconName:b,extra:_,watchable:!0})),k=Rn.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(k,e.firstChild):e.appendChild(k),k.outerHTML=S.map(E=>f1(E)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function UGe(e){return Promise.all([IB(e,"::before"),IB(e,"::after")])}function BGe(e){return e.parentNode!==document.head&&!~SVe.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(IM)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function OB(e){if(xl)return new Promise((t,n)=>{const r=rm(e.querySelectorAll("*")).filter(BGe).map(UGe),s=tA.begin("searchPseudoElements");Vre(),Promise.all(r).then(()=>{s(),VM(),t()}).catch(()=>{s(),VM(),n()})})}var $Ge={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=OB,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=Rn}=t;ct.searchPseudoElements&&OB(n)}}};let LB=!1;var HGe={mixout(){return{dom:{unwatch(){Vre(),LB=!0}}}},hooks(){return{bootstrap(){NB(BM("mutationObserverCallbacks",{}))},noAuto(){wGe()},watch(e){const{observeMutationsRoot:t}=e;LB?VM():NB(BM("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const DB=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),a=s[0];let i=s.slice(1).join("-");if(a&&i==="h")return n.flipX=!0,n;if(a&&i==="v")return n.flipY=!0,n;if(i=parseFloat(i),isNaN(i))return n;switch(a){case"grow":n.size=n.size+i;break;case"shrink":n.size=n.size-i;break;case"left":n.x=n.x-i;break;case"right":n.x=n.x+i;break;case"up":n.y=n.y-i;break;case"down":n.y=n.y+i;break;case"rotate":n.rotate=n.rotate+i;break}return n},t)};var WGe={mixout(){return{parse:{transform:e=>DB(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=DB(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:a}=t;const i={transform:"translate(".concat(s/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(o," ").concat(c," ").concat(u)},h={transform:"translate(".concat(a/2*-1," -256)")},m={outer:i,inner:d,path:h};return{tag:"g",attributes:Ie({},m.outer),children:[{tag:"g",attributes:Ie({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Ie(Ie({},n.icon.attributes),m.path)}]}]}}}};const A5={x:0,y:0,width:"100%",height:"100%"};function FB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function zGe(e){return e.tag==="g"?e.children:[e]}var VGe={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?e3(n.split(" ").map(s=>s.trim())):Bre();return r.prefix||(r.prefix=yc()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:a,maskId:i,transform:o}=t;const{width:c,icon:u}=s,{width:d,icon:h}=a,m=DVe({transform:o,containerWidth:d,iconWidth:c}),p={tag:"rect",attributes:Ie(Ie({},A5),{},{fill:"white"})},g=u.children?{children:u.children.map(FB)}:{},v={tag:"g",attributes:Ie({},m.inner),children:[FB(Ie({tag:u.tag,attributes:Ie(Ie({},u.attributes),m.path)},g))]},y={tag:"g",attributes:Ie({},m.outer),children:[v]},x="mask-".concat(i||Kg()),b="clip-".concat(i||Kg()),w={tag:"mask",attributes:Ie(Ie({},A5),{},{id:x,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,y]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:zGe(h)},w]};return n.push(_,{tag:"rect",attributes:Ie({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(x,")")},A5)}),{children:n,attributes:r}}}},GGe={provides(e){let t=!1;vc.matchMedia&&(t=vc.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Ie(Ie({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=Ie(Ie({},s),{},{attributeName:"opacity"}),i={tag:"circle",attributes:Ie(Ie({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:Ie(Ie({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ie(Ie({},a),{},{values:"1;0;1;1;0;1;"})}),n.push(i),n.push({tag:"path",attributes:Ie(Ie({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ie(Ie({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:Ie(Ie({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ie(Ie({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},qGe={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},KGe=[BVe,AGe,jGe,PGe,IGe,$Ge,HGe,WGe,VGe,GGe,qGe];sGe(KGe,{mixoutsTo:fa});fa.noAuto;fa.config;fa.library;fa.dom;const qM=fa.parse;fa.findIconDefinition;fa.toHtml;const YGe=fa.icon;fa.layer;fa.text;fa.counter;var j5={exports:{}},P5,UB;function QGe(){if(UB)return P5;UB=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P5=e,P5}var I5,BB;function XGe(){if(BB)return I5;BB=1;var e=QGe();function t(){}function n(){}return n.resetWarningCache=t,I5=function(){function r(i,o,c,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},I5}var $B;function rA(){return $B||($B=1,j5.exports=XGe()()),j5.exports}var ZGe=rA();const me=Rs(ZGe);function HB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HB(Object(n),!0).forEach(function(r){Cf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _x(e){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_x(e)}function Cf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JGe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function eqe(e,t){if(e==null)return{};var n=JGe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KM(e){return tqe(e)||nqe(e)||rqe(e)||sqe()}function tqe(e){if(Array.isArray(e))return YM(e)}function nqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rqe(e,t){if(e){if(typeof e=="string")return YM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(e,t)}}function YM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aqe(e){var t,n=e.beat,r=e.fade,s=e.beatFade,a=e.bounce,i=e.shake,o=e.flash,c=e.spin,u=e.spinPulse,d=e.spinReverse,h=e.pulse,m=e.fixedWidth,p=e.inverse,g=e.border,v=e.listItem,y=e.flip,x=e.size,b=e.rotation,w=e.pull,_=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":a,"fa-shake":i,"fa-flash":o,"fa-spin":c,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":m,"fa-inverse":p,"fa-border":g,"fa-li":v,"fa-flip":y===!0,"fa-flip-horizontal":y==="horizontal"||y==="both","fa-flip-vertical":y==="vertical"||y==="both"},Cf(t,"fa-".concat(x),typeof x<"u"&&x!==null),Cf(t,"fa-rotate-".concat(b),typeof b<"u"&&b!==null&&b!==0),Cf(t,"fa-pull-".concat(w),typeof w<"u"&&w!==null),Cf(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(_).map(function(C){return _[C]?C:null}).filter(function(C){return C})}function iqe(e){return e=e-0,e===e}function qre(e){return iqe(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var oqe=["style"];function lqe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function cqe(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=qre(n.slice(0,r)),a=n.slice(r+1).trim();return s.startsWith("webkit")?t[lqe(s)]=a:t[s]=a,t},{})}function Kre(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(c){return Kre(e,c)}),s=Object.keys(t.attributes||{}).reduce(function(c,u){var d=t.attributes[u];switch(u){case"class":c.attrs.className=d,delete t.attributes.class;break;case"style":c.attrs.style=cqe(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=d:c.attrs[qre(u)]=d}return c},{attrs:{}}),a=n.style,i=a===void 0?{}:a,o=eqe(n,oqe);return s.attrs.style=Wi(Wi({},s.attrs.style),i),e.apply(void 0,[t.tag,Wi(Wi({},s.attrs),o)].concat(KM(r)))}var Yre=!1;try{Yre=!0}catch{}function uqe(){if(!Yre&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function WB(e){if(e&&_x(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(qM.icon)return qM.icon(e);if(e===null)return null;if(e&&_x(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function O5(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Cf({},e,t):{}}var zB={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},gt=T.forwardRef(function(e,t){var n=Wi(Wi({},zB),e),r=n.icon,s=n.mask,a=n.symbol,i=n.className,o=n.title,c=n.titleId,u=n.maskId,d=WB(r),h=O5("classes",[].concat(KM(aqe(n)),KM((i||"").split(" ")))),m=O5("transform",typeof n.transform=="string"?qM.transform(n.transform):n.transform),p=O5("mask",WB(s)),g=YGe(d,Wi(Wi(Wi(Wi({},h),m),p),{},{symbol:a,title:o,titleId:c,maskId:u}));if(!g)return uqe("Could not find icon",d),null;var v=g.abstract,y={ref:t};return Object.keys(n).forEach(function(x){zB.hasOwnProperty(x)||(y[x]=n[x])}),dqe(v[0],y)});gt.displayName="FontAwesomeIcon";gt.propTypes={beat:me.bool,border:me.bool,beatFade:me.bool,bounce:me.bool,className:me.string,fade:me.bool,flash:me.bool,mask:me.oneOfType([me.object,me.array,me.string]),maskId:me.string,fixedWidth:me.bool,inverse:me.bool,flip:me.oneOf([!0,!1,"horizontal","vertical","both"]),icon:me.oneOfType([me.object,me.array,me.string]),listItem:me.bool,pull:me.oneOf(["right","left"]),pulse:me.bool,rotation:me.oneOf([0,90,180,270]),shake:me.bool,size:me.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:me.bool,spinPulse:me.bool,spinReverse:me.bool,symbol:me.oneOfType([me.bool,me.string]),title:me.string,titleId:me.string,transform:me.oneOfType([me.string,me.object]),swapOpacity:me.bool};var dqe=Kre.bind(null,T.createElement),L5={},VB;function fqe(){return VB||(VB=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="arrow-right",r=448,s=512,a=[8594],i="f061",o="M440.6 273.4c4.7-4.5 7.4-10.8 7.4-17.4s-2.7-12.8-7.4-17.4l-176-168c-9.6-9.2-24.8-8.8-33.9 .8s-8.8 24.8 .8 33.9L364.1 232 24 232c-13.3 0-24 10.7-24 24s10.7 24 24 24l340.1 0L231.4 406.6c-9.6 9.2-9.9 24.3-.8 33.9s24.3 9.9 33.9 .8l176-168z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faArrowRight=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(L5)),L5}var hqe=fqe();function mqe(e){return!!e&&typeof e=="object"&&"prefix"in e&&"iconName"in e}const pqe={good:"super",bad:"red",info:"offset",backToSchoolOrange:"backToSchoolOrange"},h1=T.memo(({variant:e,title:t,actionLabel:n,onClick:r,onClose:s,toolTip:a,icon:i,isMobileStyle:o,isLoading:c})=>{const u=e==="info"?"default":"white",d=e==="info"?"super":u,h=f.useCallback(p=>{p.stopPropagation(),s?.(p)},[s]),m=l.jsxs(H,{className:U("h-bannerHeight erp-tab:rounded-none md:rounded-md lg:rounded-lg","gap-xs px-md md:gap-sm relative flex w-full cursor-pointer items-center transition duration-200 hover:opacity-80",e==="info"?"md:justify-between":"md:justify-center",{"px-lg":s}),variant:pqe[e],onClick:r,children:[c?l.jsx(j,{color:u,children:l.jsx(yl,{})}):i&&l.jsx(j,{color:u,className:"mr-xs md:mr-0",children:mqe(i)?l.jsx(gt,{icon:i,size:"sm"}):l.jsx(_e,{icon:i,size:o?"sm":"md"})}),l.jsx(j,{color:u,className:"leading-[1.1]",variant:o?"tiny":"small",children:t}),l.jsxs("div",{className:"flex items-center gap-1",children:[n&&l.jsx(j,{color:d,variant:o?"tiny":"small",className:U("hidden font-bold decoration-white/30 md:inline-flex",{"underline underline-offset-2":e!=="info"}),children:n}),r&&e!=="info"&&l.jsx(j,{color:u,className:"inline-flex",children:l.jsx(gt,{icon:hqe.faArrowRight,size:"2xs"})})]}),s&&l.jsx(ze,{icon:tn,extraCSS:U("!absolute right-sm opacity-50",e==="info"?"text-gray-800 dark:!text-white":"!text-white"),variant:"noHover",size:"tiny",onClick:h})]});return a?l.jsx(Dn,{tooltipText:a,children:m}):m});h1.displayName="SiteBanner";function At(){const e=Dt(),t=e?.user?.subscription_status??"none",n=t==="active"||t==="trialing"||t==="white_glove_past_due",r=e?.user?.subscription_tier,s=n&&(r==="pro"||!r),a=n&&r==="max",i=s||a,o=n?e?.user?.subscription_source:"none",c=n&&o==="enterprise";return f.useMemo(()=>({isPro:s,isMax:a,hasAccessToProFeatures:i,hasActiveSubscription:n,subscriptionSource:o,subscriptionStatus:t,isEnterprisePro:c}),[i,a,s,n,o,t,c])}const Gm="clicked enterprise ad",qm="https://www.perplexity.ai/enterprise",Qre=()=>{const{trackEvent:e}=Ne(),t=Rt(),{hasAccessToProFeatures:n}=At(),r=f.useCallback(async p=>{p.preventDefault(),e(Gm,{source:"sidebarAd",isSubscribed:n}),t.push(qm)},[e,t,n]),s=f.useCallback(async p=>{p?.preventDefault(),e(Gm,{source:"settingsHeader"}),t.push(qm)},[e,t]),a=f.useCallback(async p=>{p.preventDefault(),p.stopPropagation(),e(Gm,{source:"footer"}),t.push(qm)},[e,t]),i=f.useCallback(async p=>{p.preventDefault(),e(Gm,{source:"pricingTable"}),t.push(qm)},[e,t]),o=f.useCallback(async p=>{p.preventDefault(),e(Gm,{source:"paywall"}),t.push(qm)},[e,t]),c=f.useCallback(({orgName:p,success:g})=>{e("org created",{orgName:p,success:g})},[e]),u=f.useCallback(({invitedEmail:p,source:g,orgUUID:v,inviteType:y})=>{e("org user invited",{invitedEmail:p,source:g,orgUUID:v,inviteType:y})},[e]),d=f.useCallback(({orgUUID:p})=>{e("org invite step completed",{orgUUID:p})},[e]),h=f.useCallback(({orgUUID:p,source:g,intent:v,success:y})=>e("org payment portal entered",{orgUUID:p,source:g,intent:v,success:y}),[e]),m=f.useCallback(({orgUUID:p,success:g})=>{e("sso enabled",{orgUUID:p,success:g})},[e]);return f.useMemo(()=>({handleSidebarAdClick:r,handleSettingsHeaderAdClick:s,handleFooterAdClick:a,handlePricingTableAdClick:i,handlePaywallAdClick:o,trackOrgCreated:c,trackOrgUserInvited:u,trackOrgInviteStepCompleted:d,trackOrgPaymentPortalEntered:h,trackSSOEnabled:m}),[a,o,i,s,r,c,d,h,u,m])},sm=2,$e=e=>{const t=e?.productionMs??1500;e?.devMs;const n=e?.clientSideMs??5e3;return typeof window<"u"?n:t};var gqe={};const vqe=async({source:e,locale:t,headers:n,reason:r})=>{try{const{data:s,error:a}=await J.POST("/rest/enterprise/customer-portal",r,{body:{origin:e,locale:t},timeoutMs:7500,headers:{...n,"Content-Type":"application/json"}});if(a)throw new Me("API_CLIENTS_ERROR",{cause:a,details:{reason:r}});if(s.status!=="success")throw new Me("API_CLIENTS_ERROR",{cause:a,details:{reason:r}});return s.url}catch(s){return Q.error(s),null}},yqe=async({tier:e,origin:t,locale:n,reason:r})=>{const s=Lw(),a=xd();try{const{data:i,error:o}=await J.POST("/rest/enterprise/checkout-session",r,{body:{referral_code:null,discount_code:null,origin:t,tier:e,locale:n,visitor_id:a},timeoutMs:3500,headers:{...s?{"Screen-Dimensions":s}:{}}});if(o)throw new Me("API_CLIENTS_ERROR",{cause:o,details:{reason:r}});return i}catch(i){return Q.error(i),null}},xqe=async({tier:e,origin:t,locale:n,collectionMethod:r,billingAddress:s,reason:a})=>{const i=Lw();try{const{data:o,error:c}=await J.POST("/rest/enterprise/subscription",a,{body:{collection_method:r,origin:t,locale:n,tier:e,billing_address:s},timeoutMs:1e4,headers:{...i?{"Screen-Dimensions":i}:{}}});if(c)throw new Me("API_CLIENTS_ERROR",{cause:c,details:{reason:a}});return o}catch(o){return Q.error(o),null}},n3=async({headers:e,reason:t})=>{const n={organization:void 0,org_user:void 0,is_in_organization:!1};try{const{data:r,error:s}=await J.GET("/rest/enterprise/user/organization",t,{headers:e,timeoutMs:$e({productionMs:2e3}),numRetries:1});if(s)throw new Me("API_CLIENTS_ERROR",{cause:s,details:{reason:t}});return r.status!=="success",r}catch(r){return Q.error(r),n}},Xre=async({email:e,headers:t,useNextAuthService:n,reason:r})=>{if(!e)throw new Error("No email");const s=e.split("@"),a=s.length>=2?s[s.length-1]:null;if(!a)throw new Error(`No domain extracted from ${e}`);return bqe({domain:a,headers:t,useNextAuthService:n,reason:r})},bqe=async({domain:e,headers:t,useNextAuthService:n,reason:r})=>{let s;try{if(n){const i=`/rest/nextauth/organization/domain/${e}`,o=gqe.PPL_NEXTAUTH_SERVER_URL;s=await Nn({headers:t,urlPath:i,timeoutMs:3e3,numRetries:1,baseUrlOverride:o,reason:r})}else{const i=`/rest/enterprise/organization/domain/${e}`;s=await Nn({headers:t,urlPath:i,timeoutMs:3e3,numRetries:1,reason:r})}const a=await s.json();if(a.status!=="success")throw new Error("Failed to get organization from domain");return a?.organization??null}catch(a){return Q.error("Failed to get organization from domain",a),null}},wqe=async({headers:e,query:t,reason:n})=>{try{const r=t?.["user-limit"]??2e4,s=t?.["user-offset"]??0,a=t?.["invite-limit"]??2e4,i=t?.["invite-offset"]??0,{data:o,error:c}=await J.GET("/rest/enterprise/user/organization/users",n,{params:{query:{"user-limit":r,"user-offset":s,"invite-limit":a,"invite-offset":i}},headers:e,timeoutMs:$e({productionMs:2e3,clientSideMs:1e4}),numRetries:1});if(c)throw new Me("API_CLIENTS_ERROR",{cause:c,details:{reason:n}});if(o.status!=="success")throw new Me("API_CLIENTS_ERROR",{cause:c,details:{reason:n}});return{userList:o?.user_list??[],hasNextUserPage:o?.has_next_user_page??!1,totalUsers:o?.total_users??0,inviteList:o?.invite_list??[],hasNextInvitePage:o?.has_next_invite_page??!1,totalInvites:o?.total_invites??0}}catch(r){return Q.error("Failed to get organization users",r),null}},Zre=async({headers:e,reason:t})=>{try{const{data:n,error:r}=await J.GET("/rest/enterprise/organization/subscription/refresh",t,{headers:e,timeoutMs:4e3});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r,details:{reason:t}});return{subscriptionStatus:n?.subscription_status??null}}catch(n){return Q.error(n),null}},_qe=async({headers:e,reason:t})=>{try{const{data:n,error:r}=await J.GET("/rest/enterprise/organization/premium-secure-eligibility",t,{headers:e,timeoutMs:$e({productionMs:2e3}),numRetries:1});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r,details:{reason:t}});return n}catch(n){return Q.error(n),null}},Cqe=async({headers:e,reason:t})=>{try{const{data:n,error:r}=await J.POST("/rest/enterprise/organization/premium-secure-billing-update",t,{headers:{...e,"Content-Type":"application/json"},timeoutMs:$e({productionMs:2e3}),numRetries:1});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r,details:{reason:t}});return n}catch(n){return Q.error(n),null}},Sqe=async({headers:e,reason:t})=>{try{const n=await J.GET("/rest/enterprise/organization/subscription-info",t,{headers:e,timeoutMs:$e({productionMs:2e3}),numRetries:1});if(n.error)throw n.error;return n.data}catch(n){return Q.error("Failed to get org subscription info",n),null}},WLt=async({uuid:e,success:t,reason:n})=>{try{if((await J.POST("/rest/sse/perplexity_connector_auth_response",n,{body:{result:{tool_uuid:e,success:t}},backOffTime:100,numRetries:1,headers:{"Content-Type":"application/json"}})).data?.status!=="success")throw new Error("Failed to post perplexity connector auth response");return!0}catch(r){return Q.error("Failed to post perplexity connector auth response",r),!1}},zLt=e=>["get_prices",{subscription_tier:e}],sA=()=>["get_user_settings",{}],Eqe=()=>["get_user_profile",{}],kqe=()=>["get_user_promotions",{}],VLt=e=>["get_related_pages",{uuid:e}],Fo=(e="you")=>["list_feed",{topic:e}],Jre=()=>["discover_topics",{}],bl=()=>["userOrgData",{}],aA=e=>["get_collection",{collection_slug:e.slice(-22)}],GLt=()=>["shoppingOrders",{}],iA=()=>["userTryOnPhoto",{}],Cx="getOrganizationUsers",ese=e=>e?[Cx,{query:e}]:[Cx],Mqe=e=>e?[Cx,"members",e]:[Cx,"members"],Tqe=e=>["get_thread_by_uuid",{uuid:e}],Nqe=e=>["get_article_by_uuid",{uuid:e}],qLt=e=>["get_article_by_slug",{slug:e}],D5=()=>["customer_shopping_info",{}],oA=e=>["articleResults",{frontend_context_uuid:e}],GB=e=>["article-slug",e],Rqe=(e,t=!1)=>[t?"list_file_directory_infinite":"list_file_directory",e.file_repository_type,e.owner_id],r3=(e,t,n,r=0,s,a=!1)=>[...Rqe({file_repository_type:e,owner_id:t},a),n,...a?[]:[r],s],tse=(e,t=!1)=>[t?"connector-files-infinite":"connector-files",e],Aqe=e=>["get_sharepoint_sites_infinite",e??{}],KLt=()=>["get_filters",{}],lA=e=>e?["memories",e]:["memories"],YLt=()=>["customer_billing_info",{}],QLt=()=>["travel-tile-data"],cA=(e,t)=>["file_exists",e,...t?[t]:[]],zv=e=>["download-image-url",...e?[e]:[]],of=e=>["memory-feedback",e],lf=e=>["entry-feedback",e],uA=e=>["user-task",e],nse=e=>["user-tasks",...e?[e]:[]],XLt=()=>["academic-tile-data"],ZLt=()=>["academic-primer-queries"],_p=()=>["list_spaces_mentions"],jqe=()=>["upgrade-subscription-preview"],rse=()=>["task_shortcuts_mentions"],yu=()=>["app-notifications"],Pqe=()=>[...yu(),"unread-count"];function dA(){const e=Dt(),t=["pplx-dev@example.com","pplx-dev-pro@example.com","pplx-dev-enterprise@example.com","fe-test-user@example.com"],n=e?.user?.email??"none";return n.endsWith("@perplexity.ai")||t.includes(n)}function ut(){const e=Dt(),t=e!==null&&typeof e<"u";return f.useEffect(()=>{t&&fne()},[t]),t}const Iqe={orgUser:void 0,organization:void 0,isEnterprise:!1,refetch:Ln,isLoading:!1,isSuccess:!1};function Gt({shouldRefetchOnMount:e=!0,reason:t}){const n=ut(),{data:r,refetch:s,fetchStatus:a,isSuccess:i}=at({enabled:n,queryKey:bl(),queryFn:()=>n3({reason:t}),placeholderData:Iqe,refetchOnMount:e});return f.useMemo(()=>({orgUser:r?.org_user,organization:r?.organization,isEnterprise:r?.is_in_organization??!1,refetch:s,isLoading:a==="fetching",isSuccess:i}),[r?.is_in_organization,r?.org_user,r?.organization,a,i,s])}function sse({shouldRefetchOnMount:e=!0,reason:t}){const n=ut(),{data:r,isFetching:s}=at({enabled:n,queryKey:bl(),queryFn:()=>n3({reason:t}),refetchOnMount:e});return f.useMemo(()=>({isEnterprise:r?.is_in_organization??!1,isFetching:s}),[r?.is_in_organization,s])}function Oqe({reason:e}){const t=ut(),n=f.useRef(void 0),{data:r,status:s}=at({enabled:t,queryKey:bl(),queryFn:()=>n3({reason:e})}),a=f.useMemo(()=>s==="success"&&r?.organization?.uuid?(n.current=r.organization.uuid,r.organization.uuid):n.current??void 0,[r,s]);return f.useMemo(()=>({uuid:a}),[a])}const Lqe=({reason:e})=>{const t=Rt(),{organization:n}=Gt({reason:e}),{trackOrgPaymentPortalEntered:r}=Qre(),s=f.useCallback(async({source:o})=>{const c=await vqe({source:o,locale:ao(),reason:e});c?(r({orgUUID:n?.uuid,source:o,intent:"portal",success:!0}),t.push(c)):(r({orgUUID:n?.uuid,source:o,intent:"portal",success:!1}),Q.log("could not open Stripe portal"))},[r,n?.uuid,t,e]),a=f.useCallback(({tier:o="monthly",source:c,onErrorCallback:u,reason:d})=>{const h=ao();yqe({tier:o,origin:c,locale:h,reason:d}).then(m=>{m&&m.status==="success"&&m.url!=null&&m.url!==""?(r({orgUUID:n?.uuid,source:c,intent:"checkout",success:!0}),m.url&&t.push(m.url)):(r({orgUUID:n?.uuid,source:c,intent:"checkout",success:!1}),u?.())})},[t,n?.uuid,r]),i=f.useCallback(async({tier:o,collectionMethod:c,source:u,billingAddress:d,reason:h})=>{const m=ao(),p=await xqe({tier:o,origin:u,locale:m,collectionMethod:c,billingAddress:d,reason:h});return await Zre({reason:h}),p},[]);return f.useMemo(()=>({manageExistingBillingClick:s,navigateToCheckout:a,createInvoicedSubscription:i}),[i,s,a])},Dqe=({orgStripeStatus:e})=>{const t="org-billing-banner",n=Rt(),{$t:r}=K(),{navigateToCheckout:s}=Lqe({reason:t}),{isMobileStyle:a}=Oe(),[i,o]=f.useState(!1),c=()=>{i||(o(!0),e==="none"?n.push("/onboarding/onboarding-org-subscription"):s({source:"banner",onErrorCallback:()=>{n.refresh("Org billing banner"),o(!1)},reason:t}))},u=r(e==="past_due"?{defaultMessage:"Please complete your invoice payment to use Enterprise Pro features",id:"XAdWAUIg7/"}:{defaultMessage:"Please complete the payment process to use Enterprise Pro features",id:"Mgy1Lo2SzZ"}),d=r({defaultMessage:"May take up to a minute to reflect payment status changes",id:"+w47QOW1fc"});return l.jsx(h1,{onClick:c,isLoading:i,variant:"bad",title:u,toolTip:d,icon:jFe,isMobileStyle:a})};var F5={},U5={},qB;function Fqe(){return qB||(qB=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="triangle-exclamation",r=512,s=512,a=[9888,"exclamation-triangle","warning"],i="f071",o="M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5c0 8-6.5 14.5-14.5 14.5l-387 0c-8 0-14.5-6.5-14.5-14.5c0-2.7 .7-5.3 2.1-7.5L248.4 84.3zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480l387 0c34.5 0 62.5-28 62.5-62.5c0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3zM288 368a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 96c0 13.3 10.7 24 24 24s24-10.7 24-24l0-96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faTriangleExclamation=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(U5)),U5}var KB;function Uqe(){return KB||(KB=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Fqe();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faExclamationTriangle=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(F5)),F5}var Bqe=Uqe(),B5={},YB;function $qe(){return YB||(YB=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="gift",r=512,s=512,a=[127873],i="f06b",o="M231.9 44.4C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88c0 14.4 3.5 28 9.6 40L48 128c-26.5 0-48 21.5-48 48l0 64c0 20.9 13.4 38.7 32 45.3l0 2.7 0 160c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-160 0-2.7c18.6-6.6 32-24.4 32-45.3l0-64c0-26.5-21.5-48-48-48l-25.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41zM464 176l0 64-32 0-144 0 0-64 72 0 104 0zm-240 0l0 64L80 240l-32 0 0-64 104 0 72 0zm0 112l0 176L96 464c-8.8 0-16-7.2-16-16l0-160 144 0zm64 176l0-176 144 0 0 160c0 8.8-7.2 16-16 16l-128 0zm72-336l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40s-17.9 40-40 40zm-136 0l-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8L225.3 128l-1.3 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faGift=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(B5)),B5}var Hqe=$qe();function oo(e,t){Q.info("Redirecting window",{reason:t,url:window.location.href,redirect:Df(e).toString()}),window.location.href=e}const ase=()=>{const e=Rt(),{trackEvent:t}=Ne(),n=f.useCallback(async({origin:r,discountCode:s,tier:a,referralCode:i,subscriptionTier:o="pro"})=>{const c=new URL(`/${o}/payment`,window.location.origin);return c.searchParams.set("plan",a),c.searchParams.set("origin",r),s&&c.searchParams.set("promotion_code",s),t("pro checkout started",{subscriptionTier:o,origin:r,discountCode:s??"",referralCode:i??"",tier:"monthly",flowType:"embedded_checkout"}),e.push(c.toString()),!0},[e,t]);return f.useMemo(()=>({navigateToPayment:n}),[n])},s3=T.memo(({onClick:e,testId:t="close-button",size:n="small",variant:r="common",className:s="right-sm top-sm absolute",ariaLabel:a="Close"})=>l.jsx("div",{className:s,children:l.jsx(ze,{testId:t,variant:r,pill:!0,size:n,onClick:e,icon:tn,ariaLabel:a})}));s3.displayName="CloseButton";const fA=T.memo(e=>{const{children:t,trigger:n,...r}=e;return l.jsxs($R,{...r,children:[n&&l.jsx(Mze,{asChild:!0,children:n}),l.jsx(wt,{children:r.open&&l.jsx(HR,{forceMount:!0,children:t})})]})});fA.displayName="ControlledDialog";function Wqe(e){const[t,n]=f.useState(!1),[r,s]=f.useState(!1),a=f.useMemo(()=>e?.isEnabled??!0,[e?.isEnabled]),i=f.useMemo(()=>a&&!t&&!r,[a,t,r]);return f.useMemo(()=>({canShow:i,handleConfirm(){n(!1),s(!0),e?.onConfirm()},handleCancel(){n(!1),s(!1)},isShowing:t,show(){n(!0)}}),[i,t,e])}const ise=f.createContext({canShow:!1,handleCancel(){},handleConfirm(){},isShowing:!1,show(){}}),ose=T.memo(function(t){const{children:n,trigger:r,value:s}=t;return l.jsx(ise.Provider,{value:s,children:l.jsx(fA,{onOpenChange:s.handleCancel,open:s.isShowing,trigger:r,children:n})})});ose.displayName="ConfirmCloseModalDialog";function zqe(){const e=f.useContext(ise);if(!e)throw new Error("useConfirmCloseModalContext() used outside of provider.");return e}var lse=Pne(),$5=function(){},a3=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:$5,onWheelCapture:$5,onTouchMoveCapture:$5}),s=r[0],a=r[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=m9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,C=jne([n,t]),S=Tn(Tn({},w),s);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:lse,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:b}),i?f.cloneElement(f.Children.only(o),Tn(Tn({},S),{ref:C})):f.createElement(x,Tn({},S,{className:c,ref:C}),o))});a3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};a3.classNames={fullWidth:Kp,zeroRight:qp};var QM=!1;if(typeof window<"u")try{var Vv=Object.defineProperty({},"passive",{get:function(){return QM=!0,!0}});window.addEventListener("test",Vv,Vv),window.removeEventListener("test",Vv,Vv)}catch{QM=!1}var zd=QM?{passive:!1}:!1,Vqe=function(e){return e.tagName==="TEXTAREA"},cse=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Vqe(e)&&n[t]==="visible")},Gqe=function(e){return cse(e,"overflowY")},qqe=function(e){return cse(e,"overflowX")},QB=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=use(e,r);if(s){var a=dse(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Kqe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Yqe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},use=function(e,t){return e==="v"?Gqe(t):qqe(t)},dse=function(e,t){return e==="v"?Kqe(t):Yqe(t)},Qqe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Xqe=function(e,t,n,r,s){var a=Qqe(e,window.getComputedStyle(t).direction),i=a*r,o=n.target,c=t.contains(o),u=!1,d=i>0,h=0,m=0;do{var p=dse(e,o),g=p[0],v=p[1],y=p[2],x=v-y-a*g;(g||x)&&use(e,o)&&(h+=x,m+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Gv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XB=function(e){return[e.deltaX,e.deltaY]},ZB=function(e){return e&&"current"in e?e.current:e},Zqe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Jqe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eKe=0,Vd=[];function tKe(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(eKe++)[0],a=f.useState(RR)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=He([e.lockRef.current],(e.shards||[]).map(ZB),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=f.useCallback(function(v,y){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var x=Gv(v),b=n.current,w="deltaX"in v?v.deltaX:b[0]-x[0],_="deltaY"in v?v.deltaY:b[1]-x[1],C,S=v.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in v&&k==="h"&&S.type==="range")return!1;var E=QB(k,S);if(!E)return!0;if(E?C=k:(C=k==="v"?"h":"v",E=QB(k,S)),!E)return!1;if(!r.current&&"changedTouches"in v&&(w||_)&&(r.current=C),!C)return!0;var M=r.current||C;return Xqe(M,y,v,M==="h"?w:_)},[]),c=f.useCallback(function(v){var y=v;if(!(!Vd.length||Vd[Vd.length-1]!==a)){var x="deltaY"in y?XB(y):Gv(y),b=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Zqe(C.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(ZB).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=w.length>0?o(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=f.useCallback(function(v,y,x,b){var w={name:v,delta:y,target:x,should:b,shadowParent:nKe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=f.useCallback(function(v){n.current=Gv(v),r.current=void 0},[]),h=f.useCallback(function(v){u(v.type,XB(v),v.target,o(v,e.lockRef.current))},[]),m=f.useCallback(function(v){u(v.type,Gv(v),v.target,o(v,e.lockRef.current))},[]);f.useEffect(function(){return Vd.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,zd),document.addEventListener("touchmove",c,zd),document.addEventListener("touchstart",d,zd),function(){Vd=Vd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,zd),document.removeEventListener("touchmove",c,zd),document.removeEventListener("touchstart",d,zd)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(a,{styles:Jqe(s)}):null,p?f.createElement(Dne,{gapMode:e.gapMode}):null)}function nKe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rKe=One(lse,tKe);var hA=f.forwardRef(function(e,t){return f.createElement(a3,Tn({},e,{ref:t,sideCar:rKe}))});hA.classNames=a3.classNames;const m1=T.memo(({children:e,portalTarget:t})=>{const[n,r]=f.useState(!1);return f.useEffect(()=>(r(!0),()=>r(!1)),[]),n?as.createPortal(e,t||document.body):null}),sKe=250,am=T.memo(({animationClassName:e,children:t,isOpen:n=!1,transparent:r=!1,canOutsideClickClose:s=!0,onBeforeClose:a,onClose:i,onIsClosing:o,childVariant:c="default",center:u=!0,shouldClose:d=!1,disableAnimation:h=!1,testId:m,removeScroll:p=!0,shards:g=[],delayClose:v=!0,variant:y="default",portalTarget:x,includeBlur:b=!0})=>{const w=f.useRef(null),_=f.useRef(null),C=f.useRef(null),[S,k]=f.useState(!1),E=f.useRef(!1),M=f.useCallback(L=>{S||a?.()===!1||(v?(k(!0),o?.(),setTimeout(()=>{i?.(L),k(!1)},sKe)):(k(!0),i?.(L),k(!1)))},[S,a,v,o,i]);f.useEffect(()=>{d&&!S&&M("closed")},[d,S,M]);const N=f.useCallback(L=>{r&&!s?L.stopPropagation():L.target===w.current&&M("backdrop")},[r,s,M]),R=f.useCallback(L=>{const F=L.target;if(F instanceof Element){if(_.current===F||_.current?.contains(F))return;const D=F.closest('[data-type="portal"]');if(D&&D!==C.current&&!r)return}k(!1),M("clickaway")},[M,r]);f.useEffect(()=>{if(n&&r&&s)return document.addEventListener("click",R),()=>{document.removeEventListener("click",R)}},[n,r,R,s]);const A=f.useCallback(L=>{L.key==="Escape"&&M("escape")},[M]);f.useEffect(()=>(n&&document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}),[n,A]);const P=f.useMemo(()=>U("duration-250 fill-mode-both",{"animate-in fade-in zoom-in-[0.98] ease-in":["default","large","small","hide-chrome","full-sheet"].includes(c),"zoom-out-[0.98] fade-out animate-out ease-out":["default","hide-chrome","full-sheet","large","small"].includes(c)&&S,"fixed bottom-0 left-0":c==="bottom-left-sheet","fixed top-0 right-0 left-0":c==="side-sheet","fixed bottom-0 left-0 right-0":c==="bottom-sheet"},e),[e,c,S]),O=U("items-stretch md:items-center",{"fill-mode-both fixed inset-0":!r,"bg-backdrop/70":y==="default"||y==="default-less-blur","bg-backdrop-lightbox/95":y==="lightbox","animate-in fade-in ease-outExpo duration-200":!S&&!h,"animate-out fade-out ease-inExpo duration-200":S&&!h},{"backdrop-blur-md":b&&y==="lightbox","backdrop-blur-sm":b&&y==="default","backdrop-blur-[0.5px]":b&&y==="default-less-blur"}),I=f.useMemo(()=>n?l.jsxs(hA,{removeScrollBar:!1,enabled:p,shards:g,children:[l.jsx("div",{className:O}),l.jsx("div",{ref:w,onPointerDown:L=>{E.current=L.target===w.current},onPointerUp:L=>{E.current&&N(L),E.current=!1},className:U({"fixed inset-0 overflow-y-auto":!r,"flex items-center justify-center":u}),"data-test-id":m,children:l.jsx("div",{ref:_,className:P,children:t})})]}):null,[n,t,r,u,m,N,P,_,w,p,g,O]);return l.jsx(m1,{portalTarget:x,children:l.jsx("div",{ref:C,"data-type":"portal",children:I})})});am.displayName="Overlay";const fse=f.createContext({canOutsideClickClose:!0}),jt=T.memo(({title:e,subtitle:t,subtitleClassname:n,centerTitle:r,children:s,actionList:a=je,variant:i="default",onClose:o,noPadding:c=!1,onIsClosing:u,titleContent:d,footerContent:h,icon:m,overlayVariant:p,titleLeadingButtonProps:g,confirmOnClose:v,titleTextVariant:y="page-title",headerClassname:x,closeButtonClassname:b="right-0 top-sm absolute",footerClassname:w,renderCloseButton:_=!0,fixedTitle:C,modalClassname:S,modalContentClassname:k,modalElementProps:E,includeBlur:M=!0,isOpen:N,ref:R,wrapperClassname:A,...P})=>{const O=f.useRef(null),I=f.useRef(null),L=f.useRef(null),F=f.useRef(null),[D,B]=f.useState(!1),[$,W]=f.useState(!1),[X,ee]=f.useState(!1);f.useEffect(()=>{N&&!X?ee(!0):!N&&X&&!D&&B(!0)},[N,X,D]);const ne=f.useMemo(()=>!!v,[v]),V=Wqe({isEnabled:ne,onConfirm(){W(!0),B(!0)}}),q=f.useMemo(()=>U(S,"bg-background shadow-md overflow-y-auto scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent fill-mode-both",{"md:rounded-xl md:min-w-[600px] max-w-screen-sm shadow-md dark:border dark:border-borderMain/30 relative h-full max-h-[100vh] md:max-h-[95vh] overflow-auto md:w-full":i==="default","min-h-0 max-h-[70vh] rounded-t-xl bottom-0 left-0 right-0 flex flex-col":i==="bottom-left-sheet","w-screen md:h-screen h-[100dvh] flex flex-col":i==="full-sheet","w-screen min-h-[60dvh] md:min-h-[60vh] shadow-overlay max-h-[96dvh] md:max-h-[96vh] flex flex-col fixed bottom-0 left-0 right-0":i==="bottom-sheet","h-screen w-[40vw] min-w-[500px] shadow-overlay top-0 right-0 fixed flex flex-col":i==="side-sheet","animate-in slide-in-from-right ease-outExpo":i==="side-sheet"&&!$,"animate-out slide-out-to-right ease-inExpo":i==="side-sheet"&&$,"animate-in slide-in-from-bottom ease-in":["bottom-left-sheet","bottom-sheet"].includes(i)&&!$,"animate-out slide-out-to-bottom ease-out":["bottom-left-sheet","bottom-sheet"].includes(i)&&$,"max-h-[100vh] w-[90vw] rounded-l-xl flex flex-col":i==="wide","h-[95vh] w-[95vw] rounded-xl flex flex-col":i==="full","md:rounded-lg md:min-w-[600px] max-w-screen-lg shadow-md relative overflow-auto max-h-[100vh]":i==="large","md:rounded-lg md:min-w-[500px] max-w-screen-lg shadow-md relative overflow-auto max-h-[100vh]":i==="medium","md:rounded-lg md:max-w-[440px] shadow-md relative overflow-auto max-h-[100vh]":i==="small","md:rounded-lg md:max-w-[350px] shadow-md relative overflow-auto max-h-[100vh]":i==="thin"}),[i,$,S]),z=f.useMemo(()=>U("grow flex flex-col justify-center shrink-0",{"md:pt-md":e===void 0&&!d,"md:pb-lg":a?.length===0,"p-sm":!c,"p-0":c},k),[a?.length,c,e,k,d]),te=f.useMemo(()=>T.memo(({idx:xe,text:de,onClick:Se,variant:qe,disabled:be,isLoading:ve,testId:Be,icon:We,shouldShowConfirmDialog:Le,buttonClassname:De})=>{const Ve=f.useCallback(we=>{if(we.stopPropagation(),qe&&Le&&V.canShow){V.show();return}Se?.()},[Se,Le,qe]),le={key:xe,text:de,disabled:be,isLoading:ve,testId:Be,chevronIcon:We,extraCSS:De};return f.createElement(ye,{fullWidthMobile:!0,variant:qe||void 0,...le,onClick:Ve,key:le.key})}),[V]),Y=f.useMemo(()=>a.map((xe,de)=>f.createElement(te,{...xe,idx:de,key:de})),[a,te]);f.useImperativeHandle(R,()=>({scrollContainerRef:O,headerRef:I,contentRef:L,footerRef:F}),[O,I,F]);const Z=f.useCallback(()=>{u?.(),W(!0)},[u]),re=f.useCallback(xe=>{W(!1),B(!1),ee(!1),o?.(xe)},[o]),G=f.useCallback(()=>{if(V?.canShow){V.show();return}B(!0)},[V]),oe=f.useCallback(()=>V?.canShow?(V.show(),!1):!0,[V]),{canOutsideClickClose:ae}=f.useContext(fse),ie=f.useMemo(()=>l.jsxs(l.Fragment,{children:[l.jsx("div",{children:i==="hide-chrome"?l.jsx("div",{children:s}):l.jsxs(ke.div,{animate:{scale:V.isShowing?.955:1},className:q,transition:{duration:.2},ref:O,...E,children:[l.jsx("div",{className:"right-sm top-sm fixed z-[23] md:absolute"}),l.jsxs(H,{className:U(A,"px-md pb-md flex min-h-0 w-[100vw] grow flex-col md:w-[unset] md:grow-[unset]",{"h-full":!C,"h-auto !grow":C}),children:[l.jsxs(H,{variant:"background",className:U(x,"pt-md sticky top-0 z-[22] w-full shrink-0",{"text-center":r,"h-10":!e&&!d}),ref:I,children:[l.jsxs("div",{className:"p-sm flex items-center gap-1.5",children:[g&&l.jsx(ze,{extraCSS:"-ml-sm",...g,size:"small",variant:"common"}),m&&l.jsx(_e,{icon:m,className:"text-text -ml-xs -translate-y-[2px]",size:"xl"}),e&&l.jsx(j,{variant:y,className:U("line-clamp-3 text-pretty",y,{"pt-lg grow":r,"mr-lg":!r}),children:e}),!e&&d,_&&l.jsx(s3,{onClick:G,testId:"close-modal",className:b})]}),t&&l.jsx(j,{variant:"base",color:"light",className:U("mt-xs p-sm line-clamp-3 text-pretty",n),children:t})]}),s&&l.jsx("div",{className:z,ref:L,children:s}),(Y?.length>0||h)&&l.jsxs(H,{variant:"background",className:U("gap-x-sm p-sm pt-lg bottom-0 z-[10] flex items-center",{"justify-end":!h},{"justify-between":h},{sticky:!0},w),ref:F,children:[h,Y]})]})]})}),ne&&l.jsx(ose,{value:V,children:v})]}),[Y,r,s,b,V,v,z,C,w,h,G,x,m,ne,q,E,_,t,n,e,d,g,y,i,A]);return l.jsx(am,{includeBlur:M,childVariant:i,shouldClose:D,onBeforeClose:oe,onIsClosing:Z,onClose:re,variant:p,isOpen:X,canOutsideClickClose:ae,...P,children:ie})});jt.displayName="Modal";const aKe=f.createContext(null),H5={didCatch:!1,error:null};let iKe=class extends f.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=H5}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:a,reason:"imperative-api"}),this.setState(H5)}}componentDidCatch(t,n){var r,s;(r=(s=this.props).onError)===null||r===void 0||r.call(s,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:s}=this.props;if(r&&n.error!==null&&oKe(t.resetKeys,s)){var a,i;(a=(i=this.props).onReset)===null||a===void 0||a.call(i,{next:s,prev:t.resetKeys,reason:"keys"}),this.setState(H5)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:s}=this.props,{didCatch:a,error:i}=this.state;let o=t;if(a){const c={error:i,resetErrorBoundary:this.resetErrorBoundary};if(f.isValidElement(s))o=s;else if(typeof n=="function")o=n(c);else if(r)o=f.createElement(r,c);else throw i}return f.createElement(aKe.Provider,{value:{didCatch:a,error:i,resetErrorBoundary:this.resetErrorBoundary}},o)}};function oKe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}class lKe extends fl{name="ReactRenderingError"}function hse(e){Q.info("Reloading window",{reason:e,url:window.location.href}),window.location.reload()}const cKe=()=>hse("Error boundary"),uKe=({resetErrorBoundary:e})=>{const{$t:t}=K(),n=f.useCallback(()=>{e()},[e]);return l.jsxs(H,{variant:"offset",className:"p-md flex w-full items-center justify-between rounded",children:[l.jsx(j,{variant:"smallBold",children:t({defaultMessage:"Something went wrong.",id:"iuY8kxCDQT"})}),l.jsx(ye,{pill:!0,size:"tiny",text:t({defaultMessage:"Retry",id:"62nsdyMyIO"}),variant:"border",type:"button",onClick:n})]})},dKe=T.memo(()=>null),fKe=/load(.*?)chunk/i,La=T.memo(({fallback:e=uKe,children:t,onError:n,code:r="REACT_RENDERING_ERROR"})=>{const s=f.useCallback((a,i)=>{n?.(a,i);let o;if(a instanceof fl)o=a;else{let c=r;fKe.test(a?.message??"")&&(c="CHUNK_LOADING_ERROR"),o=new lKe(c,{message:a.message,cause:a})}o.stack=i.componentStack||void 0,Q.error(o)},[n,r]);return l.jsx(iKe,{FallbackComponent:e||dKe,onError:s,onReset:cKe,children:t})}),JB=2,hKe=500,mKe={},pKe=()=>null,qv=new Map;function Ee(e,t=mKe){const n=t.loading??pKe,r=typeof navigator<"u"&&"serviceWorker"in navigator&&!!navigator.serviceWorker.controller,s=t.prefetch??!r,a=async()=>{let i=0;for(;i<=JB;)try{const o=await e();qv.set(e,o.default);break}catch(o){if(i===JB){const c=new Error(o instanceof Error?o.message:"Dynamic import failed");c.name="ReactRenderingError",c.cause=o,Q.error(c);break}await new Promise(c=>setTimeout(c,hKe*Math.pow(2,i))),i++}};return s&&!qv.has(e)&&typeof window<"u"&&("requestIdleCallback"in window?requestIdleCallback(a):a()),function(o){const[,c]=f.useState(!1),u=f.useRef(!1);f.useEffect(()=>{if(!u.current){if(qv.has(e))return c(h=>!h);a().then(()=>c(h=>!h))}},[]);const d=qv.get(e);return u.current=!!d,d?l.jsx(d,{...o}):l.jsx(n,{})}}const mse=$n({path:"M8.175 13.976a.876.876 0 0 1 1.172-.04l.065.061.582.59c.196.194.395.388.596.576l.39.358c1.942 1.753 3.844 2.937 5.357 3.477.81.29 1.444.369 1.884.31.404-.055.61-.216.731-.446.135-.256.209-.678.116-1.31-.08-.546-.275-1.191-.59-1.91l-.141-.313-.034-.083a.875.875 0 0 1 1.575-.741l.042.079.161.353c.36.823.61 1.623.719 2.362.122.836.071 1.675-.3 2.38-.431.818-1.186 1.247-2.044 1.363-.823.111-1.756-.056-2.707-.396-1.912-.681-4.17-2.154-6.357-4.207a30.378 30.378 0 0 1-.63-.61l-.608-.615-.058-.068a.875.875 0 0 1 .079-1.17Zm.624-5.822a.876.876 0 0 1 1.216 1.258c-.396.383-.788.775-1.165 1.178-1.95 2.077-3.26 4.133-3.835 5.747-.29.81-.37 1.444-.31 1.884.055.404.215.61.444.731l.104.048c.261.103.654.149 1.207.068.623-.09 1.378-.333 2.224-.731a.875.875 0 0 1 .745 1.583c-.948.446-1.871.756-2.716.88-.784.114-1.57.078-2.246-.234l-.134-.066c-.817-.431-1.246-1.186-1.362-2.044-.112-.823.056-1.756.395-2.707.64-1.792 1.973-3.889 3.83-5.945l.377-.411c.402-.43.816-.843 1.226-1.239Zm8.5-4.954c.832-.122 1.67-.073 2.372.302h-.001c.814.432 1.243 1.185 1.36 2.042.11.823-.057 1.756-.396 2.707-.682 1.911-2.154 4.17-4.207 6.356h-.001c-.403.429-.818.846-1.236 1.236l-.068.057a.875.875 0 0 1-1.127-1.336l.582-.562c.193-.193.385-.39.573-.592l.359-.39c1.752-1.942 2.937-3.844 3.476-5.357.29-.811.37-1.444.31-1.884-.055-.404-.216-.61-.446-.731l-.003-.002c-.248-.132-.663-.207-1.293-.114-.62.09-1.37.332-2.208.73l-.083.034a.876.876 0 0 1-.667-1.615l.351-.161c.819-.36 1.616-.612 2.353-.72Zm-5.292 7.507a1.3 1.3 0 1 1 0 2.6 1.3 1.3 0 0 1 0-2.6ZM5.544 2.971c.823-.112 1.756.056 2.707.395 1.911.682 4.17 2.154 6.356 4.207.214.201.426.406.632.612l.604.625.057.068a.875.875 0 0 1-1.271 1.19l-.065-.063-.562-.582c-.193-.193-.39-.385-.592-.573-2.077-1.95-4.133-3.26-5.747-3.835-.811-.29-1.444-.37-1.884-.31-.404.055-.61.215-.731.444l-.002.004c-.132.248-.207.664-.114 1.294.08.543.275 1.184.588 1.898l.142.31.034.083a.875.875 0 0 1-1.572.746l-.043-.079-.161-.352c-.36-.819-.612-1.615-.72-2.352-.122-.832-.073-1.67.302-2.372.431-.814 1.185-1.242 2.042-1.358Z",name:"IconPerplexityDeepResearch",variant:"filled"}),mA=$n({path:"M11.92 1.889a7.035 7.035 0 0 1 7.034 7.032 7.033 7.033 0 0 1-3.694 6.184v3.053a.876.876 0 0 1-.875.875h-4.052v1.317h4.052l.089.003a.876.876 0 0 1 0 1.742l-.09.005H9.459a.876.876 0 0 1-.875-.875v-3.067c0-.483.392-.875.875-.875h4.052v-2.722c0-.347.205-.662.523-.801l.343-.164a5.286 5.286 0 0 0 2.828-4.675 5.285 5.285 0 0 0-5.283-5.282A5.285 5.285 0 0 0 6.639 8.92a5.286 5.286 0 0 0 2.828 4.675l.342.164.08.04a.875.875 0 0 1-.698 1.595l-.084-.032-.23-.105A7.036 7.036 0 0 1 4.89 8.92a7.035 7.035 0 0 1 7.032-7.032Zm.014 5.732a1.3 1.3 0 1 1 0 2.6 1.3 1.3 0 0 1 0-2.6Z",name:"IconPerplexityProject",variant:"filled"}),gKe=$n({path:"M11 2.125a8.378 8.378 0 0 1 8.375 8.375c0 .767-.1 1.508-.304 2.22l-.029.085a.875.875 0 0 1-1.653-.566l.054-.206c.12-.486.182-.996.182-1.533A6.628 6.628 0 0 0 11 3.875 6.628 6.628 0 0 0 4.375 10.5a6.628 6.628 0 0 0 10.402 5.445c.943-.654 2.242-.664 3.153.109l.176.165.001.002 4.066 4.184a.875.875 0 0 1-1.256 1.22l-4.064-4.185-.104-.088c-.263-.183-.646-.197-.975.03l-.001.003A8.378 8.378 0 0 1 2.625 10.5 8.378 8.378 0 0 1 11 2.125Zm0 7.09a1.3 1.3 0 1 1 0 2.6 1.3 1.3 0 0 1 0-2.6Z",name:"IconPerplexitySearch2",variant:"filled"});var ge=(e=>(e.DEFAULT="turbo",e.PPLX_PRO_UPGRADED="pplx_pro_upgraded",e.PRO="pplx_pro",e.SONAR="experimental",e.GPT_4o="gpt4o",e.GPT_4_1="gpt41",e.CLAUDE_2="claude2",e.GEMINI_2_FLASH="gemini2flash",e.GROK="grok",e.PPLX_REASONING="pplx_reasoning",e.CLAUDE_3_7_SONNET_THINKING="claude37sonnetthinking",e.O4_MINI="o4mini",e.O3="o3",e.O3_PRO="o3pro",e.GPT5="gpt5",e.CLAUDE_4_0_OPUS="claude40opus",e.CLAUDE_4_0_OPUS_THINKING="claude40opusthinking",e.GROK_4="grok4",e.ALPHA="pplx_alpha",e.O3_RESEARCH="o3_research",e.O3_PRO_RESEARCH="o3pro_research",e.CLAUDE40SONNET_RESEARCH="claude40sonnet_research",e.CLAUDE40SONNETTHINKING_RESEARCH="claude40sonnetthinking_research",e.CLAUDE40OPUS_RESEARCH="claude40opus_research",e.CLAUDE40OPUSTHINKING_RESEARCH="claude40opusthinking_research",e.BETA="pplx_beta",e.O3_LABS="o3_labs",e.O3_PRO_LABS="o3pro_labs",e.CLAUDE40SONNETTHINKING_LABS="claude40sonnetthinking_labs",e.CLAUDE40OPUSTHINKING_LABS="claude40opusthinking_labs",e))(ge||{}),Xs=(e=>(e.GPT_4="gpt4",e.CLAUDE_3_OPUS="claude3opus",e.CLAUDE_3_5_HAIKU="claude35haiku",e.GEMINI="gemini",e.LLAMA_X_LARGE="llama_x_large",e.MISTRAL="mistral",e.GROK2="grok2",e.COPILOT="copilot",e.O3_MINI="o3mini",e.CLAUDE_OMBRE_EAP="claude_ombre_eap",e.CLAUDE_LACE_EAP="claude_lace_eap",e.R1="r1",e))(Xs||{}),ue=(e=>(e.SEARCH="search",e.RESEARCH="research",e.STUDIO="studio",e))(ue||{}),Cp=(e=>(e.FREE="free",e.PRO="pro",e.MAX="max",e))(Cp||{});const ks={turbo:"search",pplx_pro:"search",experimental:"search",claude2:"search",gpt4o:"search",gpt41:"search",gpt5:"search",gemini2flash:"search",grok:"search",o3:"search",o3pro:"search",claude37sonnetthinking:"search",claude40opusthinking:"search",grok4:"search",pplx_alpha:"research",o4mini:"research",o3_research:"research",o3pro_research:"research",claude40sonnet_research:"research",claude40sonnetthinking_research:"research",claude40opus_research:"research",claude40opusthinking_research:"research",pplx_beta:"studio",o3_labs:"studio",o3pro_labs:"studio",claude40sonnetthinking_labs:"studio",claude40opusthinking_labs:"studio"},pA=e=>ks[e]||"search";var Sf=(e=>(e[e.ANSWER=0]="ANSWER",e[e.REASONING=1]="REASONING",e))(Sf||{});const Qg={search:gKe,research:mse,studio:mA},vKe=e=>Qg[e],pse=e=>vKe(pA(e)),yKe={...Qg,search:Pee},xKe={auto:{model:"turbo",mode:"search"},reasoning:{model:"pplx_reasoning",mode:"search"},deep_research:{model:"pplx_alpha",mode:"research"}},bKe=e=>typeof e=="string"&&e in ks,gA=e=>bKe(e)?e:void 0,e$=Object.values(ue),gse={0:[{search_model:"experimental",has_new_tag:!1,subscription_tier:"pro"},{search_model:"claude2",has_new_tag:!1,subscription_tier:"pro"},{search_model:"gpt41",has_new_tag:!1,subscription_tier:"pro"},{search_model:"gemini2flash",has_new_tag:!1,subscription_tier:"pro"}],1:[{search_model:"grok4",has_new_tag:!1,subscription_tier:"pro"},{search_model:"o3",has_new_tag:!1,subscription_tier:"pro"},{search_model:"o3pro",has_new_tag:!1,subscription_tier:"max"},{search_model:"claude37sonnetthinking",has_new_tag:!1,subscription_tier:"pro"},{search_model:"claude40opusthinking",has_new_tag:!1,subscription_tier:"max"}]},wKe=e=>{const t={...gse};return e&&(t[1]=[{search_model:"gpt5",has_new_tag:!0,subscription_tier:"pro"},...t[1]]),t},{Provider:im,useSelector:_Ke,useTrackedState:CKe}=nm("AskInputProvider",()=>bi((e,t)=>({activeMenu:null,fileUploadUpsellTooltipOpen:!1,suggestions:je,blankStateSuggestions:{[ue.SEARCH]:null,[ue.RESEARCH]:null,[ue.STUDIO]:null},showSuggestDropdown:!1,actions:{onActiveMenuChange:n=>{e({activeMenu:n})},setFileUploadUpsellTooltipOpen:n=>{e({fileUploadUpsellTooltipOpen:n})},setSuggestions:n=>{e({suggestions:n})},setBlankStateSuggestions:(n,r)=>{const s=t().blankStateSuggestions;e({blankStateSuggestions:{...s,[r]:n}})},setShowSuggestDropdown:n=>{e({showSuggestDropdown:n})}},inputRef:f.createRef()}))),hi=()=>_Ke(e=>e.actions),Ms=CKe,vse={keyProp:0,message:null,variant:"success",description:void 0,isVisible:!1,ctaText:void 0,ctaOnClick:void 0,openToast:()=>{},closeToast:()=>{}},yse=f.createContext(vse),xse=T.memo(({children:e})=>{const[t,n]=f.useState(vse),r=f.useCallback((i,o,c,u,d,h,m)=>{n(p=>({...p,message:i,variant:o,timeout:c,description:u,ctaText:d,ctaOnClick:h,position:m??"top",isVisible:!0,keyProp:(p.keyProp||0)+1}))},[]),s=f.useCallback(()=>{n(i=>({...i,isVisible:!1}))},[]),a=f.useMemo(()=>({...t,openToast:r,closeToast:s}),[r,s,t]);return l.jsx(yse.Provider,{value:a,children:e})});xse.displayName="ToastStateProvider";const Yn=()=>{const e=f.useContext(yse);if(!e)throw new Error("useToastState must be used within ToastContext");return e},SKe=async({entryUUID:e,params:t,reason:n})=>{try{return(await J.POST("/rest/entry/should-show-feedback/{entry_uuid}",n,{params:{path:{entry_uuid:e}},body:t,timeoutMs:$e({productionMs:500,devMs:1e3,clientSideMs:1e3}),numRetries:0})).data?.should_show_feedback??!1}catch(r){return Q.error("Failed to check if should show feedback",r),!1}},EKe=async({slugOrUUID:e,headers:t,options:n,numRetries:r=0,reason:s})=>{const a="getThreadByUUID";if(!e||e==="undefined"||e==="new"){Q.log(`Tried to ${a} with bad slugOrUUID: ${e}`);return}const i=n?.withParentInfo,o=n?.withSchematizedResponse,c=n?.version??Ac,u=n?.source??HJ,d=n?.limit??0,h=n?.offset??0,m=n?.fromFirst,p=n?.supportedBlockUseCases??[],g=n?.cursor??null;try{const v=await J.GET("/rest/thread/{entry_uuid_or_slug}",s,{params:{path:{entry_uuid_or_slug:e},query:{with_parent_info:i,with_schematized_response:o,version:c,source:u,limit:d,offset:h,from_first:m,supported_block_use_cases:p,cursor:g}},timeoutMs:ds.HIGH,numRetries:r,headers:t});if(!v.response.ok||!v.data||v.error)throw v.error?new Error(`Failed to ${a} for ${e}`,{cause:v.error.detail}):new Error(`Failed to ${a} for ${e}`);return v.data}catch(v){throw Q.error("Failed to get thread by uuid",v),v}},eDt=async({entryUUID:e,selectedText:t,beforeContext:n,afterContext:r,callback:s,reason:a})=>{await J.SSE("/rest/sse/check-sources",a,{params:{entry_uuid_or_slug:e,selected_text:t,before_context:n,after_context:r},handlers:{message:i=>s(i)}})},tDt=async({entryUUID:e,answerHelpful:t,detailedFeedback:n,reason:r})=>{try{const{error:s}=await J.POST("/rest/entry/feedback/{entry_uuid}",r,{params:{path:{entry_uuid:e}},body:{answer_helpful:t??!1,feedback:n},timeoutMs:$e({productionMs:5e3}),numRetries:1});if(s)throw new Me("API_CLIENTS_ERROR",{cause:s})}catch(s){Q.error(s)}},nDt=async({entryUUID:e,params:t,reason:n})=>{if(e)try{const{error:r}=await J.POST("/rest/entry/label-entry/{entry_uuid}",n,{params:{path:{entry_uuid:e}},body:t,timeoutMs:$e({productionMs:5e3}),numRetries:1});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r})}catch(r){Q.error(r)}},rDt=async({entry_uuid:e,format:t,reason:n})=>{const{data:r,error:s}=await J.POST("/rest/entry/export",n,{body:{entry_uuid:e,format:t},timeoutMs:$e({productionMs:6e3}),numRetries:1});if(s)throw new Me("API_CLIENTS_ERROR",{cause:s});return r},kKe=async({slugOrUUID:e,reason:t})=>{const{error:n}=await J.POST("/rest/thread/request-access/{entry_uuid_or_slug}",t,{params:{path:{entry_uuid_or_slug:e}}});if(n)throw new Me("API_CLIENTS_ERROR",{cause:n})},MKe=async({entryUUID:e,reason:t})=>{try{await J.POST("/rest/sse/perplexity_terminate",t,{headers:{"content-type":"application/json"},body:{entry_uuid:e},timeoutMs:$e({productionMs:5e3}),numRetries:1})}catch(n){Q.error("Failed to terminate entry",n)}},sDt=async({entryUUID:e,reason:t})=>{try{await J.POST("/rest/sse/perplexity_skip_search",t,{headers:{"content-type":"application/json"},body:{entry_uuid:e}})}catch(n){Q.error("Failed to skip search",n)}},aDt=async({entryUUID:e,clarification:t,reason:n})=>{try{await J.POST("/rest/sse/perplexity_clarifying_answer",n,{headers:{"content-type":"application/json"},body:{entry_uuid:e,clarification:t},timeoutMs:$e({productionMs:5e3}),numRetries:0})}catch(r){Q.error("Failed to give clarifying answer",r)}},TKe=async({entryUUID:e,reason:t})=>{try{return(await J.POST("/rest/entry/should-show-recruitment-banner/{entry_uuid}",t,{params:{path:{entry_uuid:e}},body:void 0,timeoutMs:$e({productionMs:500,devMs:1e3,clientSideMs:1e3}),numRetries:0})).data?.should_show_recruitment_banner??!1}catch(n){return Q.error("Failed to check if should show recruitment banner",n),!1}},iDt=async({stepUUID:e,result:t,reason:n})=>{try{const{error:r}=await J.POST("/rest/sse/pro_search_step_result",n,{body:{step_uuid:e,result:t},timeoutMs:$e({productionMs:5e3}),numRetries:0});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r})}catch(r){Q.error(r)}},NKe=async({entryUUID:e,params:t,siblingUUID:n,reason:r})=>{const{error:s}=await J.POST("/rest/entry/set-entry-selection/{entry_uuid}",r,{params:{path:{entry_uuid:e}},body:{selection_status:t,sibling_uuid:n},timeoutMs:$e({productionMs:5e3}),numRetries:1});if(s)throw new Me("API_CLIENTS_ERROR",{cause:s})},bse=T.memo(({isOpen:e,onClose:t,uuidOrSlug:n})=>{const r="request-access-modal",{$t:s}=K(),{openToast:a}=Yn(),{trackEvent:i}=Ne();f.useEffect(()=>{i("thread access modal viewed",{uuidOrSlug:n})},[i,n]);const o=f.useCallback(u=>{i("thread access modal requested",{uuidOrSlug:n}),kKe({slugOrUUID:n,reason:r}).then(()=>{t(),a(s({defaultMessage:"Access request sent",id:"STvLV+qKiH"}),"success",3)})},[n,s,t,a,i]),c=f.useCallback(()=>o(n),[o,n]);return l.jsx(jt,{isOpen:e,onClose:t,variant:"thin",children:l.jsx(H,{className:"px-md mx-auto text-center",children:l.jsxs("div",{className:"gap-y-md flex flex-col",children:[l.jsx("div",{className:"mb-lg flex justify-center",children:l.jsx(Es,{variant:"full",size:"large",color:"textMain"})}),l.jsxs("div",{className:"gap-y-s mx-auto max-w-sm",children:[l.jsx(j,{variant:"section-title",className:"-mt-md",children:s({defaultMessage:"This answer is private",id:"cA+GFbHP/s"})}),l.jsx(j,{variant:"base",color:"light",className:"-mb-md",children:s({defaultMessage:"You can access this page if the owner accepts your request.",id:"SOJ/6nzOoc"})})]}),l.jsxs("div",{className:"mt-lg mb-md mx-auto flex w-full max-w-sm flex-col gap-y-2",children:[l.jsx(ye,{variant:"primary",text:s({defaultMessage:"Request access",id:"vkHRp5q6Wi"}),onClick:c}),l.jsx(ye,{variant:"common",text:s({defaultMessage:"Back to Perplexity",id:"r89PhWwooe"}),onClick:t,textClassName:"font-normal"})]})]})})})});bse.displayName="RequestAccessModal";function XM(){return XM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XM.apply(null,arguments)}function RKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AKe=f.useLayoutEffect,jKe=function(t){var n=T.useRef(t);return AKe(function(){n.current=t}),n},t$=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},PKe=function(t,n){var r=T.useRef();return T.useCallback(function(s){t.current=s,r.current&&t$(r.current,null),r.current=n,n&&t$(n,s)},[n])},n$={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},IKe=function(t){Object.keys(n$).forEach(function(n){t.style.setProperty(n,n$[n],"important")})},r$=IKe,ps=null,s$=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function OKe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ps||(ps=document.createElement("textarea"),ps.setAttribute("tabindex","-1"),ps.setAttribute("aria-hidden","true"),r$(ps)),ps.parentNode===null&&document.body.appendChild(ps);var s=e.paddingSize,a=e.borderSize,i=e.sizingStyle,o=i.boxSizing;Object.keys(i).forEach(function(m){var p=m;ps.style[p]=i[p]}),r$(ps),ps.value=t;var c=s$(ps,e);ps.value=t,c=s$(ps,e),ps.value="x";var u=ps.scrollHeight-s,d=u*n;o==="border-box"&&(d=d+s+a),c=Math.max(d,c);var h=u*r;return o==="border-box"&&(h=h+s+a),c=Math.min(h,c),[c,u]}var a$=function(){},LKe=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},DKe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],FKe=!!document.documentElement.currentStyle,UKe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=LKe(DKe,n),s=r.boxSizing;if(s==="")return null;FKe&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:i}},BKe=UKe;function vA(e,t,n){var r=jKe(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var $Ke=function(t,n){vA(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},HKe=function(t){vA(window,"resize",t)},WKe=function(t){vA(document.fonts,"loadingdone",t)},zKe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],VKe=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,a=t.minRows,i=t.onChange,o=i===void 0?a$:i,c=t.onHeightChange,u=c===void 0?a$:c,d=RKe(t,zKe),h=d.value!==void 0,m=f.useRef(null),p=PKe(m,n),g=f.useRef(0),v=f.useRef(),y=function(){var w=m.current,_=r&&v.current?v.current:BKe(w);if(_){v.current=_;var C=OKe(_,w.value||w.placeholder||"x",a,s),S=C[0],k=C[1];g.current!==S&&(g.current=S,w.style.setProperty("height",S+"px","important"),u(S,{rowHeight:k}))}},x=function(w){h||y(),o(w)};return f.useLayoutEffect(y),$Ke(m,function(){if(!h){var b=m.current,w=b.value;requestAnimationFrame(function(){w!==b.value&&y()})}}),HKe(y),WKe(y),f.createElement("textarea",XM({},d,{onChange:x,ref:p}))},wse=f.forwardRef(VKe),W5={},i$;function GKe(){return i$||(i$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-half-stroke",r=512,s=512,a=[9680,"adjust"],i="f042",o="M464 256c0-114.9-93.1-208-208-208l0 416c114.9 0 208-93.1 208-208zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCircleHalfStroke=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(W5)),W5}var qKe=GKe();function om(e){const t=f.useRef(void 0);return f.useEffect(()=>{t.current=e},[e]),t.current}const _se=T.memo(({text:e})=>l.jsx(j,{variant:"tiny",children:l.jsx("span",{className:"text-caution",children:e})}));_se.displayName="FormError";const i3=T.memo(({label:e,subtitle:t,errorText:n,isOptional:r=!1,withMargin:s=!0,optionalLabel:a="optional",testId:i})=>e||n||t?l.jsxs("div",{className:U({"mb-sm":s}),"data-test-id":i,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[(e||t)&&l.jsx("label",{htmlFor:e,children:l.jsx("div",{className:"gap-y-xs flex flex-col",children:e&&l.jsxs("div",{className:"gap-x-xs flex",children:[l.jsx(j,{variant:"smallBold",className:"select-none",children:e}),r&&l.jsx(j,{variant:"small",color:"light",children:`(${a})`})]})})}),n&&l.jsx(_se,{text:n})]}),t&&l.jsx(j,{variant:"small",color:"light",children:t})]}):null);i3.displayName="FormItemHeader";var z5={},V5={},o$;function KKe(){return o$||(o$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="magnifying-glass",r=512,s=512,a=[128269,"search"],i="f002",o="M368 208A160 160 0 1 0 48 208a160 160 0 1 0 320 0zM337.1 371.1C301.7 399.2 256.8 416 208 416C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208c0 48.8-16.8 93.7-44.9 129.1L505 471c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L337.1 371.1z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faMagnifyingGlass=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(V5)),V5}var l$;function YKe(){return l$||(l$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=KKe();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faSearch=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(z5)),z5}var QKe=YKe();class ai{static isEnterKey(t){return t.code==="Enter"||t.key==="Enter"||t.keyCode===13}static isEnterKeyWithoutShift(t){return this.isEnterKey(t)&&!t.shiftKey}static isArrowDown(t){return t.key==="ArrowDown"}static isArrowUp(t){return t.key==="ArrowUp"}static isEscapeKey(t){return t.key==="Escape"}static isTabKey(t){return t.key==="Tab"}static isOnlySlashKey(t){return t.key==="/"&&!t.metaKey&&!t.ctrlKey&&!t.altKey}static isCtrlOrCmdJ(t){return(t.metaKey||t.ctrlKey)&&t.key==="j"}}const Xg=(e,t)=>{if(ai.isEnterKeyWithoutShift(e)){if(t.isComposing||e.keyCode===229){e.preventDefault();return}if(t.isMobileUserAgent||t.allowEnterNewlines)return;e.preventDefault()}t.onKeyDown?.(e)},yA=e=>{e(!0)},xA=e=>{setTimeout(()=>{e(!1)},0)};var Xp;(function(e){e.INLINE="inline",e.LABEL="label"})(Xp||(Xp={}));const XKe=({onClear:e})=>l.jsx(ze,{icon:tn,pill:!0,onClick:e,size:Mt.small}),ZKe=["email","tel"],ko=T.memo(({type:e,className:t,wrapperClassName:n,value:r,name:s,maxLength:a,errorText:i,errorPlacement:o=Xp.INLINE,disabled:c=!1,required:u=!1,autoFocus:d=!1,placeholder:h="",rightItems:m=je,onChange:p,onClear:g,onBlur:v,onFocus:y,onKeyDown:x,isLoading:b,inlineEditBlock:w,label:_,subtitle:C,isOptional:S,isMobileUserAgent:k,labelMargin:E=!0,testId:M,variant:N,pill:R=!0,disable1pass:A,ClearIcon:P=XKe,enterKeyHint:O,size:I,ref:L})=>{const F=om(c),D=f.useRef(null),[B,$]=f.useState(!1),[W,X]=f.useState(!1),ee=f.useRef(B);ee.current=B,f.useEffect(()=>{!k&&d&&D.current?.focus()},[k,D,d]),f.useEffect(()=>{F!==c&&!c&&!k&&d&&setTimeout(()=>{D.current?.focus()},200)});const ne=f.useMemo(()=>U({"border-r mr-sm pr-xs border-borderMain":m.length!=0}),[m.length]),V="w-full outline-none focus:outline-none focus:ring-borderMain font-sans flex items-center",q="dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff dark:border-borderMainDark dark:focus:ring-borderMainDark",z="caret-super selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super",te="duration-200 transition-all",Y=f.useMemo(()=>{const be=U(V,q,z,te,{"ring-borderMain ring-1 dark:ring-pborderMainDark":B,"bg-background border text-textMain border-borderMain focus:ring-1 placeholder-textOff":!0,"rounded-t-[32px] rounded-b-[32px]":R,rounded:!R},t),ve=U({"py-xs px-sm text-xs placeholder:text-xs":I==="xs","py-sm px-sm text-sm placeholder:text-xs":I==="sm","py-lg px-xl text-lg placeholder:text-base":I==="lg","pl-[40px]":e==="search","!font-mono md:text-base":N==="monospace","!text-3xl !placeholder:text-3xl !font-medium":N==="page-title","py-sm md:text-sm px-md placeholder:text-sm":!I&&!N}),Be=U({"pr-xs":m.length===0&&I==="xs","pr-sm":m.length===0&&I==="sm","pr-md":m.length===0&&!I,"pr-lg":m.length===0&&I==="lg","pr-[49px] md:pr-[59px]":m.length===1,"pr-[128px] md:pr-[138px]":m.length===2});return U(be,ve,Be)},[e,t,m.length,B,R,N,I]),Z=!!i,re=!Z&&!!a&&!!r&&r.length>a,G=f.useMemo(()=>e==="search"?l.jsx("div",{className:"left-md absolute flex items-center rounded-l-lg",children:l.jsx(j,{color:"light",children:l.jsx(gt,{icon:QKe.faSearch})})}):null,[e]),oe=f.useMemo(()=>{const be=o===Xp.INLINE&&Z;return l.jsxs("div",{className:U("right-sm gap-sm bg-background dark:bg-offsetDark absolute flex items-center rounded-full"),children:[b?l.jsx(j,{color:"light",className:"mr-xs",children:l.jsx(yl,{})}):null,be&&l.jsx(H,{className:"mr-sm",children:l.jsx(j,{color:"red",variant:"tiny",children:i})}),re&&l.jsx(H,{className:"mr-sm",children:a&&r&&l.jsx(j,{color:"red",variant:"tiny",children:a-r.length})}),g&&l.jsx("div",{className:ne,children:l.jsx(P,{onClear:g,inputValue:r})}),m.map((ve,Be)=>l.jsx(ye,{...ve.buttonProps,size:ve.buttonProps.size,disabled:ve.buttonProps.disabled||Z||re,pill:!0},Be))]})},[o,Z,b,i,re,a,r,g,ne,P,m]),ae=f.useCallback(()=>{if(D.current){const be=D.current.value.length;D.current.focus();try{D.current.setSelectionRange(be,be)}catch{}}},[]),ie=f.useCallback(be=>{y?.(be.nativeEvent),$(!0)},[y]),xe=f.useCallback(be=>{v?.(be.nativeEvent),$(!1)},[v]);f.useImperativeHandle(L,()=>{const be=D.current;return be.focusAtEnd=ae,be.isFocused=()=>ee.current,be.append=ve=>{D.current&&(D.current.value+=ve)},be.scrollToEnd=()=>{D.current&&(D.current.scrollTop=D.current.scrollHeight)},be.trim=()=>{D.current&&(D.current.value=D.current.value.trim())},be},[ae]),f.useEffect(()=>{d&&!k&&ae()},[d,ae,k]);const de=f.useCallback(be=>{p?.(be.target.value)},[p]),Se=f.useCallback(be=>{Xg(be.nativeEvent,{isMobileUserAgent:k,isComposing:W,onKeyDown:x})},[x,k,W]),qe=o===Xp.LABEL?i:void 0;return l.jsxs("div",{className:n,children:[l.jsx(i3,{label:_,subtitle:C,isOptional:S,errorText:qe,withMargin:E}),l.jsx("div",{className:"rounded-full",children:l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("input",{type:e,ref:D,autoFocus:d,placeholder:h,disabled:c,value:r,required:u,name:s??_,onChange:de,onKeyDown:Se,onCompositionStart:()=>yA(X),onCompositionEnd:()=>xA(X),onBlur:xe,onFocus:ie,className:Y,autoComplete:ZKe.includes(e??"")?e:"off","data-test-id":M,"data-1p-ignore":A,enterKeyHint:O}),G,oe]})}),w&&l.jsx("div",{className:"mt-sm flex justify-end",children:w})]})});function bA(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wA="Switch",[JKe,oDt]=Ci(wA),[eYe,tYe]=JKe(wA),Cse=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:o,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,p]=f.useState(null),g=Kn(t,w=>p(w)),v=f.useRef(!1),y=m?d||!!m.closest("form"):!0,[x=!1,b]=jc({prop:s,defaultProp:a,onChange:u});return l.jsxs(eYe,{scope:n,checked:x,disabled:o,children:[l.jsx(xn.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":kse(x),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:g,onClick:It(e.onClick,w=>{b(_=>!_),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&l.jsx(nYe,{control:m,bubbles:!v.current,name:r,value:c,checked:x,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Cse.displayName=wA;var Sse="SwitchThumb",Ese=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=tYe(Sse,n);return l.jsx(xn.span,{"data-state":kse(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});Ese.displayName=Sse;var nYe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=f.useRef(null),i=bA(n),o=Aw(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[i,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kse(e){return e?"checked":"unchecked"}var rYe=Cse,sYe=Ese;const wd=f.memo(f.forwardRef(({active:e=!1,disabled:t,id:n,text:r,testId:s,onChange:a,size:i="default",switchProps:o,...c},u)=>{const d=U("rounded-full relative bg-background dark:bg-text-100 dark:text-main",i==="default"?"size-4":"size-2.5","before:content-[''] before:duration-150 before:shadow-xs dark:before:shadow-md before:absolute before:inset-0 before:rounded-full before:bg-background before:dark:bg-white",{"before:opacity-20":t},"data-[state=unchecked]:opacity:80"),h=U("flex rounded-full duration-150 shadow-inset-xs",i==="default"?"w-9  p-three":"w-5 h-3.5 p-0.5","data-[state=checked]:justify-end","data-[state=checked]:bg-super dark:data-[state=checked]:bg-super/85","data-[state=unchecked]:bg-textMain/45 dark:data-[state=unchecked]:bg-textMainDark/20",{"opacity-50":t});return l.jsxs("div",{className:U("group/switch gap-sm flex cursor-default items-center",{"cursor-pointer":!t}),"data-testid":s,ref:u,...c,children:[l.jsx(rYe,{asChild:!0,checked:e,onCheckedChange:t?void 0:a,id:n,disabled:t,className:"group/switch gap-sm flex items-center","data-testid":s,style:{WebkitTapHighlightColor:"transparent"},...o,children:l.jsx(ke.button,{className:h,layout:!0,layoutRoot:!0,children:l.jsx(sYe,{asChild:!0,children:l.jsx(ke.div,{className:d,layout:"position",transition:{layout:{type:"spring",duration:.2,bounce:.3}}})})})}),r&&l.jsx(j,{variant:"smallBold",className:U("mr-sm whitespace-nowrap duration-150",{"cursor-pointer":!t},{"group-hover/switch:text-textMain dark:group-hover/switch:text-textMainDark":!e&&!t}),htmlFor:n,as:"label",color:e?"super":"light",children:r})]})}));wd.displayName="Switch";const aYe=T.forwardRef(({wrapperClassName:e,size:t="default",errorText:n,className:r,value:s,maxLength:a,errorMessage:i,disabled:o=!1,hasShadow:c=!1,autoFocus:u=!1,placeholder:d="",leftItems:h,rightItems:m=je,onChange:p,onClear:g,onClick:v,onBlur:y,onFocus:x,onKeyDown:b,onPaste:w,isLoading:_,inlineEditBlock:C,label:S,subtitle:k,isOptional:E,minRows:M,isMobileUserAgent:N,allowEnterNewlines:R=!1,testId:A},P)=>{const O=om(o),I=f.useRef(null),[L,F]=f.useState(!1),[D,B]=f.useState(!1),$=f.useRef(L);$.current=L,f.useEffect(()=>{!N&&u&&I.current?.focus()},[N,I,u]),f.useEffect(()=>{O!==o&&!o&&!N&&u&&setTimeout(()=>{I.current?.focus()},200)});const W=f.useMemo(()=>U({"border-r mr-sm pr-xs border-borderMain":m.length!=0}),[m.length]),X="w-full outline-none focus:outline-none focus:ring-borderMain font-sans flex items-center",ee="dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff dark:border-borderMainDark dark:focus:ring-borderMainDark",ne="caret-super selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super",V="duration-200 transition-all",q=U("overflow-auto max-h-[50vh] outline-none w-full flex items-center","font-sans resize-none",ne,"dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff","bg-background text-textMain placeholder-textOff"),z=f.useMemo(()=>{const ve=U(X,ee,ne,V,r,{"ring-borderMain ring-1 dark:ring-borderMainDark":L,"bg-background border text-textMain border-borderMain focus:ring-1 placeholder-textOff":!0,"shadow-sm":c},"rounded-t-md rounded-b-md"),Be=U({"py-sm text-sm px-md":t==="default","text-base p-md pb-xl":t==="large"}),We=U({"pr-md":m.length===0});return U(ve,Be,We)},[c,r,t,m.length,L]),te=f.useMemo(()=>h!=null&&h.length>0?l.jsx("div",{className:U("bg-background dark:bg-offsetDark mb-xs pb-xs absolute bottom-0 left-[6px] flex items-center rounded-l-lg",{"left-sm":t==="large","left-md":t==="default"}),children:h}):null,[h,t]),Y=i!==void 0,Z=!Y&&!!a&&!!s&&s.length>a,re=f.useMemo(()=>l.jsxs("div",{className:"right-sm gap-sm bg-background dark:bg-offsetDark mb-xs pb-xs absolute bottom-0 flex items-center rounded-full",children:[_?l.jsx(j,{color:"light",children:l.jsx(gt,{className:"aspect-square animate-spin",fixedWidth:!0,icon:qKe.faCircleHalfStroke})}):null,Y&&l.jsx(H,{className:"mr-sm",children:l.jsx(j,{color:"red",variant:"tiny",children:i})}),Z&&l.jsx(H,{className:"mr-sm",children:a&&s&&l.jsx(j,{color:"red",variant:"tiny",children:a-s.length})}),g!==void l.jsx("div",{className:W,children:l.jsx(ze,{icon:tn,pill:!0,onClick:g,size:Mt.small})}),m.map((ve,Be)=>ve.type=="toggleButton"?l.jsx(wd,{...ve.buttonProps,disabled:ve.buttonProps.disableOverride?!1:ve.buttonProps.disabled||Y||Z},Be):l.jsx(ye,{...ve.buttonProps,size:Mt.small,disabled:ve.buttonProps.disabled||Y||Z,pill:!0},Be))]}),[i,_,a,g,m,s,W,Y,Z]),G=f.useCallback(()=>{if(I.current){const ve=I.current.value.length;I.current.focus(),I.current.setSelectionRange(ve,ve)}},[]),oe=f.useCallback(ve=>{x?.(ve.nativeEvent),F(!0)},[x]),ae=f.useCallback(ve=>{y?.(ve.nativeEvent),F(!1)},[y]),ie=f.useCallback(ve=>{v?.(ve.nativeEvent)},[v]),xe=f.useCallback(ve=>{p?.(ve.target.value)},[p]),de=f.useCallback(ve=>{Xg(ve.nativeEvent,{isMobileUserAgent:N,isComposing:D,allowEnterNewlines:R,onKeyDown:b})},[b,D,N,R]),Se=f.useCallback(()=>yA(B),[B]),qe=f.useCallback(()=>xA(B),[B]),be=f.useCallback(ve=>{w?.(ve.nativeEvent)},[w]);return f.useImperativeHandle(P,()=>{const ve=I.current;return ve.focusAtEnd=G,ve.isFocused=()=>$.current,ve.append=Be=>{I.current&&(I.current.value+=Be)},ve.scrollToEnd=()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},ve.trim=()=>{I.current&&(I.current.value=I.current.value.trim())},ve},[G]),f.useEffect(()=>{u&&!N&&G()},[u,G,N]),l.jsxs("div",{"data-test-id":A,children:[l.jsx(i3,{label:S,subtitle:k,isOptional:E,errorText:n}),l.jsx("div",{className:U("rounded-3xl",e),children:l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("div",{className:z,children:l.jsx(wse,{ref:I,autoFocus:u,placeholder:d,disabled:o,minRows:M,value:s,onClick:ie,onChange:xe,name:S,onKeyDown:de,onBlur:ae,onCompositionStart:Se,onCompositionEnd:qe,onFocus:oe,onPaste:be,className:q,autoComplete:"off"})}),l.jsxs("div",{className:"bg-background focus:bg-background dark:bg-offsetDark dark:focus:bg-offsetDark absolute bottom-0 m-[1px] flex justify-between rounded-b-md px-[6px]",style:{width:"calc(100% - 2px)"},children:[te,re]})]})}),C&&l.jsx("div",{className:"mt-sm flex justify-end",children:C})]})}),$u=T.memo(aYe);var G5={},c$;function iYe(){return c$||(c$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-down",r=512,s=512,a=[],i="f078",o="M239 401c9.4 9.4 24.6 9.4 33.9 0L465 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-175 175L81 175c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L239 401z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faChevronDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(G5)),G5}var o3=iYe();const Mse=T.memo(({id:e,label:t,extraCSS:n,options:r,activeKey:s,onOptionChange:a,isDisabled:i=!1,testId:o,defaultOption:c,icon:u,...d})=>{c&&(r=[{label:c,value:""}].concat(r));const h=m=>{a(c&&m===""?null:m)};return l.jsxs("div",{children:[l.jsx(i3,{withMargin:!1,label:t}),l.jsx(j,{variant:"small",className:t&&"mt-sm",children:l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("select",{"data-testid":o,id:e,onChange:m=>h(m.target.value),value:s??"",className:U("border-borderMain/75 bg-background p-sm pr-lg outline-super ring-borderMain/75 dark:border-borderMainDark dark:bg-offsetDark dark:ring-borderMainDark w-full appearance-none rounded border transition duration-300 focus:outline-none",{"cursor-pointer hover:ring-1":!i,"pl-lg":u},n),disabled:i,...d,children:r.map(m=>l.jsx("option",{value:m.value,className:"pl-sm",children:m.label},m.value))}),u&&l.jsx("div",{className:"left-sm absolute",children:u}),l.jsx(j,{color:"light",variant:"small",className:"right-sm pointer-events-none absolute",children:l.jsx(gt,{icon:o3.faChevronDown})})]})})]})});Mse.displayName="Select";const oYe=async(e,t,n,r)=>await lYe({headers:{},reason:"Report Bug",bugText:e,url:t,email:n,category:r}),lYe=async({headers:e,reason:t,bugText:n,url:r,email:s,category:a})=>{try{const i=await J.POST("/webhooks/slack-web-debugger/web",t,{body:{bug_text:n,url:r,email:s??"",category:a??""},headers:e,timeoutMs:1e4});return i.data?i.data:null}catch(i){return Q.error("Failed to make bug report request",i),null}},cYe=e=>{if(!e.includes("/sidecar/"))return e;const t=new URL(e);return t.searchParams.delete("erp"),t.pathname=t.pathname.replace("/sidecar",""),t.toString()},Tse=20,Hu="list_ask_threads",uYe=10,Nse=async({paginationParams:e,timeoutMs:t,ascending:n=!1,reason:r})=>{const s=await J.POST("/rest/thread/list_ask_threads",r,{timeoutMs:t,body:{limit:Tse,ascending:n,...e}});if(s.error||!s.data)throw new Error(s.error?.detail?.toString()||"Failed to get user threads");return s.data},dYe=async({thread_uuid:e,format:t,filename:n,reason:r})=>{const s=await J.POST("/rest/thread/export",r,{body:{thread_uuid:e,format:t,filename:n},timeoutMs:$e({productionMs:6e3,clientSideMs:1e4})});if(s.error)throw new Error(s.error.detail?.toString()||"Failed to export thread");return s.data},fYe=async(e,t)=>{try{await J.PUT("/rest/thread/{entry_uuid_or_slug}","remove-thread-expiry",{params:{path:{entry_uuid_or_slug:e}},body:{expired:!1}}),t?.()}catch{throw new Error("Failed to remove thread expiry")}},hYe=({slugOrUUID:e})=>{const t=f.useCallback(async()=>{e&&await fYe(e)},[e]);return f.useMemo(()=>({handleRemoveExpiry:t}),[t])};function Zg(e,t){const n={};for(const r of e){const s=t(r);Object.prototype.hasOwnProperty.call(n,s)?n[s].push(r):Object.defineProperty(n,s,{value:[r],configurable:!0,enumerable:!0,writable:!0})}return n}const Kl={web:"web",scholar:"scholar",social:"social",edgar:"edgar",org:"org",my_files:"my_files",crunchbase:"crunchbase",factset:"factset",google_drive:"google_drive",onedrive:"onedrive",sharepoint:"sharepoint"},mYe=Object.values(Kl),l3=e=>mYe.includes(e),pYe=e=>Array.isArray(e)?e.filter(l3):[],Rse=e=>e?.entity_group_type!=="CALENDAR_ACTION"&&!!e?.entities?.length;class Mn{static hasAnswer(t){const n=!!(t.chunks&&t.chunks.length>0),r=!!(t.answer&&t.answer.length>0),s=!!t.structured_answer_blocks?.some(o=>o.markdown_block?.chunks?.length||o.entity_list_block?.chunks?.length),a=!!t.structured_answer_blocks?.some(o=>o.markdown_block?.answer?.length||o.entity_list_block?.text?.length||Rse(o.entity_group_block)),i=!!t.structured_answer_blocks?.some(o=>o.inline_entity_block?.media_block?.generated_media_items?.some(c=>c.status==="COMPLETED"));return n||r||s||a||i}static isPerplexityMessage(t){return t?.blocks!==void 0}static isPerplexityArticleSection(t){return t?.message!==void 0}static isArticleSection(t){return t?.article_info!==void 0}static mergePlaceBlocks(t){const n=t.filter(i=>!!i);if(!n.length)return;const[r,...s]=n;return Object.assign({},r,...s.map(i=>({review_summary:i.review_summary})))}static mergeMediaBlocks(t){const n=t.filter(s=>!!s);return n.length?{media_items:n.flatMap(s=>s?.media_items||[]),generated_media_items:n[n.length-1].generated_media_items||[],progress:n[n.length-1].progress}:void 0}static mergeShoppingBlocks(t){const n=t.filter(i=>!!i);if(!n.length)return;const[r,...s]=n;return Object.assign({},r,...s.map(i=>({review_summary:i.review_summary})))}static mergeEntityListItems(t){const n=Zg(t,s=>s.index),r=[];return Object.values(n).forEach(s=>{const a=s[0];r.push({title:a.title,text:s.map(({text:i})=>i).join(""),chunks:s.flatMap(i=>i.chunks),chunk_starting_offset:0,index:a.index,awaiting_backfill:s.reduce((i,o)=>o.awaiting_backfill??i,!1),place_block:Mn.mergePlaceBlocks(s.map(i=>i.place_block)),shopping_block:Mn.mergeShoppingBlocks(s.map(i=>i.shopping_block))})}),r}static parseStructuredAnswerBlocks(t){if(!this.isPerplexityMessage(t)||!t.structured_answer_block_usages?.length)return null;const n=Zg(t.blocks,s=>s.intended_usage),r=[];return t.structured_answer_block_usages.forEach(s=>{const a=n[s];if(!a)return;const{markdownBlocks:i,placeBlocks:o,mediaBlocks:c,shoppingPreviewBlocks:u,entityListBlocks:d,jobsPreviewBlocks:h,hotelsPreviewBlocks:m,placesPreviewBlocks:p,knowledgeCardsBlocks:g,calendarEventBlocks:v,entityGroupBlocks:y,entityGroupV2Blocks:x,assetsPreviewBlocks:b,assetsInlineBlocks:w,shoppingBlocks:_,proPerkOfferBlocks:C,placeholderBlocks:S,financeInlineBlocks:k}=a.reduce((E,M)=>(M.markdown_block?E.markdownBlocks.push(M.markdown_block):M.inline_entity_block?.place_block?E.placeBlocks.push(M.inline_entity_block.place_block):M.inline_entity_block?.media_block?E.mediaBlocks.push(M.inline_entity_block.media_block):M.inline_entity_block?.shopping_preview_block?E.shoppingPreviewBlocks.push(M.inline_entity_block.shopping_preview_block):M.entity_list_block?E.entityListBlocks.push(M.entity_list_block):M.inline_entity_block?.jobs_preview_block?E.jobsPreviewBlocks.push(M.inline_entity_block.jobs_preview_block):M.inline_entity_block?.hotels_preview_block?E.hotelsPreviewBlocks.push(M.inline_entity_block.hotels_preview_block):M.inline_entity_block?.places_preview_block?E.placesPreviewBlocks.push(M.inline_entity_block.places_preview_block):M.inline_entity_block?.knowledge_card_block?E.knowledgeCardsBlocks.push(M.inline_entity_block.knowledge_card_block):M.inline_entity_block?.calendar_event_block?E.calendarEventBlocks.push(M.inline_entity_block.calendar_event_block):M.entity_group_block?E.entityGroupBlocks.push(M.entity_group_block):M.entity_group_v2_block?E.entityGroupV2Blocks.push(M.entity_group_v2_block):M.inline_entity_block?.assets_preview_block?E.assetsPreviewBlocks.push(M.inline_entity_block.assets_preview_block):M.inline_entity_block?.assets_inline_block?E.assetsInlineBlocks.push(M.inline_entity_block.assets_inline_block):M.inline_entity_block?.shopping_block?E.shoppingBlocks.push(M.inline_entity_block?.shopping_block):M.pro_perk_offer_block?E.proPerkOfferBlocks.push(M.pro_perk_offer_block):M.inline_entity_block?.finance_inline_block?E.financeInlineBlocks.push(M.inline_entity_block.finance_inline_block):M.inline_entity_block?.placeholder_block&&E.placeholderBlocks.push(M.inline_entity_block?.placeholder_block),E),{markdownBlocks:[],placeBlocks:[],mediaBlocks:[],shoppingPreviewBlocks:[],entityListBlocks:[],jobsPreviewBlocks:[],hotelsPreviewBlocks:[],placesPreviewBlocks:[],knowledgeCardsBlocks:[],calendarEventBlocks:[],entityGroupBlocks:[],entityGroupV2Blocks:[],assetsPreviewBlocks:[],assetsInlineBlocks:[],shoppingBlocks:[],proPerkOfferBlocks:[],placeholderBlocks:[],financeInlineBlocks:[]});if(i.length){const E=i[i.length-1];r.push({intended_usage:s,markdown_block:{answer:i.map(M=>M.answer).join(""),chunks:i.flatMap(M=>M.chunks),chunk_starting_offset:0,progress:E.progress,media_items:i.flatMap(M=>M.media_items||[])}})}if(u.length&&r.push({intended_usage:s,inline_entity_block:{shopping_preview_block:u[u.length-1]}}),h.length&&r.push({intended_usage:s,inline_entity_block:{jobs_preview_block:h[h.length-1]}}),m.length&&r.push({intended_usage:s,inline_entity_block:{hotels_preview_block:m[m.length-1]}}),p.length&&r.push({intended_usage:s,inline_entity_block:{places_preview_block:p[p.length-1]}}),o.length&&r.push({intended_usage:s,inline_entity_block:{place_block:Mn.mergePlaceBlocks(o)}}),c.length&&r.push({intended_usage:s,inline_entity_block:{media_block:Mn.mergeMediaBlocks(c)}}),d.length&&r.push({intended_usage:s,entity_list_block:{text:d.map(({text:E})=>E).join(""),chunks:d.flatMap(E=>E.chunks),chunk_starting_offset:0,entities:Mn.mergeEntityListItems(d.flatMap(E=>E.entities))}}),g.length&&r.push({intended_usage:s,inline_entity_block:{knowledge_card_block:g[g.length-1]}}),v.length&&r.push({intended_usage:s,inline_entity_block:{calendar_event_block:v[v.length-1]}}),y.length&&r.push({intended_usage:s,entity_group_block:{entities:y[y.length-1].entities,entity_group_type:y[y.length-1].entity_group_type}}),x.length){const E=x[x.length-1];r.push({intended_usage:s,entity_group_v2_block:E})}b.length&&r.push({intended_usage:s,inline_entity_block:{assets_preview_block:b[b.length-1]}}),w.length&&r.push({intended_usage:s,inline_entity_block:{assets_inline_block:w[w.length-1]}}),_.length&&r.push({intended_usage:s,inline_entity_block:{shopping_block:this.mergeShoppingBlocks(_)}}),C.length&&r.push({intended_usage:s,pro_perk_offer_block:C[C.length-1]}),k.length&&r.push({intended_usage:s,inline_entity_block:{finance_inline_block:k[k.length-1]}}),S.length&&r.push({intended_usage:s,inline_entity_block:{placeholder_block:S[S.length-1]}})}),r}static parseAskTextField(t){if(!this.isPerplexityMessage(t))return this.legacyParseBackendOutputStr(t.text);if(!t.blocks?.length)return null;const n={answer:""};n.structured_answer_blocks=Mn.parseStructuredAnswerBlocks(t);const r=t.blocks?.filter(a=>a.intended_usage==="ask_text"&&a.markdown_block).map(a=>a.markdown_block);if(r.length>0){const a=r.flatMap(i=>i.chunks);n.chunks=a,n.answer=a.join("")}const s=t.blocks?.filter(a=>a.intended_usage==="web_results"&&a.web_result_block).flatMap(a=>a.web_result_block.web_results);return s.length>0&&(n.web_results=s),n}static legacyParseBackendOutputStr(t){let n=null;try{if(n=JSON.parse(t??""),Array.isArray(n)){const r=n[n.length-1];r.step_type=="FINAL"&&r?.content?.answer!=null&&(n=JSON.parse(r.content.answer))}}catch{return null}return n}static isStatusPending(t){return t.status?.toLowerCase()===Cs.PENDING.toLowerCase()}static isStatusFailed(t){return t.status?.toLowerCase()===Cs.FAILED.toLowerCase()}static isStatusCompleted(t){return t.status?.toLowerCase()===Cs.COMPLETED.toLowerCase()}static isCopilotMode(t){return t.mode?.toLowerCase()===zp.COPILOT.toLowerCase()}static isArticleMode(t){return this.isPerplexityMessage(t)?t?.mode===zp.ARTICLE:this.isPerplexityArticleSection(t)?t?.message?.mode===zp.ARTICLE:t?.mode==="article"}static isSourceListType(t){return Array.isArray(t)&&t.every(n=>Object.values(Kl).includes(n))}static hasUnspecifiedSelectionStatus(t){return t?.selection_status===Ho.SELECTION_STATUS_UNSPECIFIED}static extractClarifyingQuestion(t){if(!t?.length)return null;const n=[];return t.forEach(r=>{if(r.intended_usage==="clarification_responses"&&r?.clarification_responses_block){const s=r.clarification_responses_block?.responses;if(s?.length>0&&s[0]){const a=s[0];a?.input_hint?.hint&&n.push(a.input_hint.hint)}}}),n[0]??null}static extractClarificationResponses(t){if(!t?.length)return null;const n=[];return t.forEach(r=>{r.intended_usage==="pro_search_steps"&&r.plan_block?.steps&&r.plan_block.steps.forEach(s=>{s.clarifying_questions_output_content?.clarification&&n.push(s.clarifying_questions_output_content.clarification)})}),n}}var Sx;(function(e){e[e.NONE=0]="NONE",e[e.READER=1]="READER",e[e.WRITER=2]="WRITER",e[e.EDITOR=5]="EDITOR",e[e.ADMIN=3]="ADMIN",e[e.OWNER=4]="OWNER",e[e.OWNER_DEFAULT_BOOKMARKS=6]="OWNER_DEFAULT_BOOKMARKS",e[e.INVITED_READER=11]="INVITED_READER",e[e.INVITED_WRITER=12]="INVITED_WRITER",e[e.INVITED_EDITOR=15]="INVITED_EDITOR",e[e.INVITED_ADMIN=13]="INVITED_ADMIN"})(Sx||(Sx={}));function gYe(e){return e>=Sx.WRITER&&e<Sx.INVITED_READER}const Ase="CLIENT_SEARCH_PLACEHOLDER",vYe=({rawQuery:e,fork:t,existingEntryUUID:n,existingUuid:r,collection:s,isRelatedQuery:a,newFrontendContextUUID:i,existingFrontendContextUUID:o,submitFromArticleOverride:c,isNavSuggestionsDisabled:u,isCopilot:d,newAttachments:h,firstResultFrontendContextUUID:m,isPersonalized:p,forceNew:g,finalSources:v,finalRecency:y,uuid:x,threadMetadataTitle:b,threadMetadataThreadUrlSlug:w,modelPreferenceSubmit:_,querySource:C,side_by_side_metadata:S})=>{const k=e.trim(),E=d?JSON.stringify([{step_type:"INITIAL_QUERY",content:{query:""},uuid:""}]):h.length>0?JSON.stringify({web_results:h.map(R=>({url:R,is_attachment:!0}))}):null,M=t?{title:c?.article_info?.title??b,url_slug:(c&&"thread_url_slug"in c?c.thread_url_slug:void 0)??w,mode:((c&&"mode"in c?c.mode:void 0)??m)?.toUpperCase()}:void 0,N=s&&gYe(s.user_permission)?s:void 0;return{parent_info:void 0,plan:void 0,summary:void 0,form:void 0,reasoning_plan:void 0,status:"PENDING",final:!1,query_str:k,query_source:C,backend_uuid:g?"":n??"",bookmark_state:s?"BOOKMARKED":"NOT_BOOKMARKED",context_uuid:"",frontend_context_uuid:o??i??"",uuid:r??x,frontend_uuid:r??x,...t?{parent_info:M}:{},author_username:void 0,author_image:void 0,search_focus:v.length===0?"writing":"internet",search_recency_filter:y??void 0,sources:{sources:v},num_sources_display:void 0,personalized:p,attachments:h,blocks:[],social_info:{like_count:0,view_count:0,fork_count:0,user_likes:!1},mode:d?"COPILOT":"CONCISE",text:E??void 0,collection_info:N,is_related_query_result:a??!1,related_queries:[],media_items:[],widget_data:[],widget_intents:[],knowledge_cards:[],sponsored_results:[],expect_sponsored_results:!1,related_query_items:[],sources_list:[],answer_modes:[],is_nav_suggestions_disabled:u,structured_answer_block_usages:[],display_model:_,model_preference:_,side_by_side_metadata:S}},jse="DEFAULT_SEARCH_PLACEHOLDER",lDt=(e={})=>{const t=e.uuid??e.frontend_uuid??Hr();return{status:"PENDING",parent_info:void 0,query_str:"",backend_uuid:jse,author_username:void 0,author_image:void 0,search_focus:"internet",display_model:"turbo",personalized:!1,attachments:[],social_info:{like_count:0,view_count:0,fork_count:0,user_likes:!1},text:void 0,collection_info:void 0,image_completions:[],is_related_query_result:!1,final:!1,sources:{sources:["web"]},should_index:!1,updated_datetime:new Date().toISOString(),thread_access:0,thread_url_slug:"",expiry_time:void 0,privacy_state:void 0,context_uuid:"",related_queries:[],media_items:[],widget_data:[],blocks:[],message_mode:"MESSAGE_MODE_UNSPECIFIED",widget_intents:[],knowledge_cards:[],sponsored_results:[],plan:void 0,reasoning_plan:void 0,summary:void 0,form:void 0,sources_list:[],related_query_items:[],answer_modes:[],structured_answer_block_usages:[],...e,frontend_context_uuid:e.frontend_context_uuid??Hr(),frontend_uuid:t,uuid:t,attachment_processing_progress:[]}};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var yYe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)s.hasOwnProperty(a)&&(r[a]=s[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xYe=Object.prototype.hasOwnProperty;function ZM(e,t){return xYe.call(e,t)}function JM(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var s in e)ZM(e,s)&&r.push(s);return r}function ra(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function e8(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function lu(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Pse(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function t8(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(t8(e[t]))return!0}else if(typeof e=="object"){for(var r=JM(e),s=r.length,a=0;a<s;a++)if(t8(e[r[a]]))return!0}}return!1}function u$(e,t){var n=[e];for(var r in t){var s=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof s<"u"&&n.push(r+": "+s)}return n.join(`
`)}var Ise=function(e){yYe(t,e);function t(n,r,s,a,i){var o=this.constructor,c=e.call(this,u$(n,{name:r,index:s,operation:a,tree:i}))||this;return c.name=r,c.index=s,c.operation=a,c.tree=i,Object.setPrototypeOf(c,o.prototype),c.message=u$(n,{name:r,index:s,operation:a,tree:i}),c}return t}(Error),Vn=Ise,bYe=ra,Ef={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Ex(n,this.path);r&&(r=ra(r));var s=Su(n,{op:"remove",path:this.from}).removed;return Su(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Ex(n,this.from);return Su(n,{op:"add",path:this.path,value:ra(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Jg(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},wYe={add:function(e,t,n){return e8(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Ef.move,copy:Ef.copy,test:Ef.test,_get:Ef._get};function Ex(e,t){if(t=="")return e;var n={op:"_get",path:t};return Su(e,n),n.value}function Su(e,t,n,r,s,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):kx(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=Ex(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=Jg(e,t.value),i.test===!1)throw new Vn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Vn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return i}}else{r||(e=ra(e));var o=t.path||"",c=o.split("/"),u=e,d=1,h=c.length,m=void 0,p=void 0,g=void 0;for(typeof n=="function"?g=n:g=kx;;){if(p=c[d],p&&p.indexOf("~")!=-1&&(p=Pse(p)),s&&(p=="__proto__"||p=="prototype"&&d>0&&c[d-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&m===void 0&&(u[p]===void 0?m=c.slice(0,d).join("/"):d==h-1&&(m=t.path),m!==void 0&&g(t,0,e,m)),d++,Array.isArray(u)){if(p==="-")p=u.length;else{if(n&&!e8(p))throw new Vn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);e8(p)&&(p=~~p)}if(d>=h){if(n&&t.op==="add"&&p>u.length)throw new Vn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var i=wYe[t.op].call(t,u,p,e);if(i.test===!1)throw new Vn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}}else if(d>=h){var i=Ef[t.op].call(t,u,p,e);if(i.test===!1)throw new Vn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}if(u=u[p],n&&d<h&&(!u||typeof u!="object"))throw new Vn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function c3(e,t,n,r,s){if(r===void 0&&(r=!0),s===void 0&&(s=!0),n&&!Array.isArray(t))throw new Vn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ra(e));for(var a=new Array(t.length),i=0,o=t.length;i<o;i++)a[i]=Su(e,t[i],n,!0,s,i),e=a[i].newDocument;return a.newDocument=e,a}function _Ye(e,t,n){var r=Su(e,t);if(r.test===!1)throw new Vn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function kx(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Vn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Ef[e.op]){if(typeof e.path!="string")throw new Vn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Vn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Vn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Vn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&t8(e.value))throw new Vn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var s=e.path.split("/").length,a=r.split("/").length;if(s!==a+1&&s!==a)throw new Vn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Vn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},o=Ose([i],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new Vn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Vn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Ose(e,t,n){try{if(!Array.isArray(e))throw new Vn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)c3(ra(t),ra(e),n||!0);else{n=n||kx;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(s){if(s instanceof Vn)return s;throw s}}function Jg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),s,a,i;if(n&&r){if(a=e.length,a!=t.length)return!1;for(s=a;s--!==0;)if(!Jg(e[s],t[s]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(e);if(a=o.length,a!==Object.keys(t).length)return!1;for(s=a;s--!==0;)if(!t.hasOwnProperty(o[s]))return!1;for(s=a;s--!==0;)if(i=o[s],!Jg(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const CYe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Vn,_areEquals:Jg,applyOperation:Su,applyPatch:c3,applyReducer:_Ye,deepClone:bYe,getValueByPointer:Ex,validate:Ose,validator:kx},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var _A=new WeakMap,SYe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),EYe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function kYe(e){return _A.get(e)}function MYe(e,t){return e.observers.get(t)}function TYe(e,t){e.observers.delete(t.callback)}function NYe(e,t){t.unobserve()}function RYe(e,t){var n=[],r,s=kYe(e);if(!s)s=new SYe(e),_A.set(e,s);else{var a=MYe(s,t);r=a&&a.observer}if(r)return r;if(r={},s.value=ra(e),t){r.callback=t,r.next=null;var i=function(){n8(r)},o=function(){clearTimeout(r.next),r.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return r.patches=n,r.object=e,r.unobserve=function(){n8(r),clearTimeout(r.next),TYe(s,r),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},s.observers.set(t,new EYe(t,r)),r}function n8(e,t){t===void 0&&(t=!1);var n=_A.get(e.object);CA(n.value,e.object,e.patches,"",t),e.patches.length&&c3(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function CA(e,t,n,r,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=JM(t),i=JM(e),o=!1,c=i.length-1;c>=0;c--){var u=i[c],d=e[u];if(ZM(t,u)&&!(t[u]===void 0&&d!==void 0&&Array.isArray(t)===!1)){var h=t[u];typeof d=="object"&&d!=null&&typeof h=="object"&&h!=null&&Array.isArray(d)===Array.isArray(h)?CA(d,h,n,r+"/"+lu(u),s):d!==h&&(s&&n.push({op:"test",path:r+"/"+lu(u),value:ra(d)}),n.push({op:"replace",path:r+"/"+lu(u),value:ra(h)}))}else Array.isArray(e)===Array.isArray(t)?(s&&n.push({op:"test",path:r+"/"+lu(u),value:ra(d)}),n.push({op:"remove",path:r+"/"+lu(u)}),o=!0):(s&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!o&&a.length==i.length))for(var c=0;c<a.length;c++){var u=a[c];!ZM(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+lu(u),value:ra(t[u])})}}}function AYe(e,t,n){n===void 0&&(n=!1);var r=[];return CA(e,t,r,"",n),r}const jYe=Object.freeze(Object.defineProperty({__proto__:null,compare:AYe,generate:n8,observe:RYe,unobserve:NYe},Symbol.toStringTag,{value:"Module"}));Object.assign({},CYe,jYe,{JsonPatchError:Ise,deepClone:ra,escapePathComponent:lu,unescapePathComponent:Pse});function PYe(e,t){const n=new Map(e.map(r=>[r.intended_usage,r]));for(const r of t)if(r.diff_block){const s=r.diff_block.field,a=n.get(r.intended_usage)?.[s]??{},i=c3(a,r.diff_block.patches,!1,!1).newDocument;n.set(r.intended_usage,{intended_usage:r.intended_usage,[s]:i})}else n.set(r.intended_usage,r);return Array.from(n.values())}let Lse=()=>({emit(e,...t){for(let n=this.events[e]||[],r=0,s=n.length;r<s;r++)n[r](...t)},events:{},on(e,t){return(this.events[e]||=[]).push(t),()=>{this.events[e]=this.events[e]?.filter(n=>t!==n)}}});const gr=Lse();function IYe(e,t){return e.reduce((n,r)=>r(n),t)}const OYe=e=>e&&MIe(e,t=>t!=null);function r8(e){return e?!e.resume_entry_uuid:!1}function LYe(e,t){const n={minuteCount:0,hourCount:0,minuteWindow:Math.floor(Date.now()/6e4),hourWindow:Math.floor(Date.now()/36e5)};return async(...r)=>{const s=Date.now(),a=Math.floor(s/(60*1e3)),i=Math.floor(s/(60*60*1e3));return a!==n.minuteWindow&&(n.minuteCount=0,n.minuteWindow=a),i!==n.hourWindow&&(n.hourCount=0,n.hourWindow=i),n.minuteCount>=t.perMinute?{allowed:!1}:n.hourCount>=t.perHour?{allowed:!1}:(n.minuteCount++,n.hourCount++,{allowed:!0,result:await e(...r)})}}const DYe="2.18",s8=Object.freeze([]);function Hf(e,t){return t?e.streams[t]:void 0}function SA(e,t){const n=Object.values(e.streams),r=n.length;for(let s=r-1;s>=0;s--){const a=n[s];if(a.entryId===t&&e.activeStreams.includes(a.id.description))return a}}function FYe(e,t){const n=Object.values(e.streams),r=n.length;for(let s=r-1;s>=0;s--){const a=n[s];if(a.threadId===t&&e.activeStreams.includes(a.id.description))return a}}const Dse=5,UYe=100,d$=1e3;function q5(e,t,n){const r=IYe(e.middlewares,n);if(!r)return{newState:e};const s=Hf(e,t);if(!s||!e.activeStreams.includes(t))return{newState:e};const a=r.context_uuid,i=r.backend_uuid,o=r.uuid,u=!!!(s.entryId&&s.isReconnect&&e.erroredStreams[s.entryId])&&(!s.threadId||!s.entryId);if(i===jse||i===Ase)return{newState:{streams:{...e.streams,[t]:{...s,placeholderChunk:r}}}};if(r.status===Cs.PENDING&&r.blocks?.length===0)return{newState:{...a8(e,r,{isFirstMessage:u,placeholderChunk:s.placeholderChunk,streamId:s.id.description}),streams:{...e.streams,[t]:{...s,threadId:r.context_uuid,entryId:i,extraEntryId:o,placeholderChunk:r}}},ingested:r};if(!a||!i)return{newState:e};let d=s;return u&&(d={...s,threadId:a,entryId:i,extraEntryId:o}),{newState:{...a8(e,r,{isFirstMessage:u,placeholderChunk:s.placeholderChunk,streamId:s.id.description}),streams:{...e.streams,[t]:d}},ingested:r}}function a8(e,t,{isFirstMessage:n,placeholderChunk:r,streamId:s}){const a=t.context_uuid,i=t.backend_uuid,o=Array.from(e.threads),c={...e.entries};if(o.length>=UYe){const h=o.shift();if(h)for(const m of h.entryIds)delete c[m]}const u=o.findIndex(h=>h.id===a),d=o[u];if(d?d.entryIds.includes(i)||(o[u]={...d,entryIds:[...d.entryIds,i]}):o.push({id:a,entryIds:[i]}),t.status===Cs.COMPLETED)c[i]=t;else if(t.blocks){let h=c[i];h&&h.uuid!==t.uuid?h=r:h||(h=r);const m=h?.frontend_context_uuid??t.frontend_context_uuid??s,p=h?.frontend_uuid??t.frontend_uuid??s,g=h?.query_str??t.query_str,v={...h??{},...t,frontend_context_uuid:m,frontend_uuid:p,query_str:g,blocks:PYe(n?s8:h?.blocks??s8,t.blocks)};c[i]=v}return{threads:o,entries:c}}function BYe(e,t,n){Q.error("Error in reading stream",n);const r=Hf(e,t);if(!r)return e;const s=r?.entryId;if(!s)return e;const a={...e.entries[s],status:Cs.FAILED},{promise:i,abortController:o,...c}=r;return{erroredStreams:{...e.erroredStreams,[s]:{...c,code:n instanceof Zs?n.code:void 0}},entries:{...e.entries,[s]:a}}}const f$=Object.freeze([OYe]);function $Ye(e,t){const n=Hf(e,t);if(!n)return;const r=e.threads.find(s=>s.id===n.threadId);gr.emit("completed",{stream:n,thread:(r?.entryIds.map(s=>e.entries[s])??s8).filter(s=>s!=null),message:n.entryId?e.entries[n.entryId]:void 0})}const HYe=(e,t)=>({threads:[],entries:{},activeStreams:[],erroredStreams:{},middlewares:f$,streamTimers:{},streams:{},actions:{abortStream:n=>{e(r=>{let s=r.activeStreams;const a=Hf(r,n);if(a){try{a.abortController?.abort("Forced abort")}catch(i){Q.error("Failed to abort stream",i)}finally{s=s.filter(i=>i!==n)}return{activeStreams:s,streams:{...r.streams,[n]:{...a,promise:null,abortController:null}}}}return r},void 0,"abortStream")},getEntryById:n=>t().entries[n],createStream:n=>t().actions.createBackwardsCompatibleStream(n,{reason:"create-stream",timer:li(void 0,{nowFromTimeOrigin:performance.now()})}).id,retryStream:n=>{const r=t().entries[n];if(!r)return;const s=t().erroredStreams[n];if(!s)return;const a=s.placeholderChunk?.query_str;if(a){if(e(i=>{const{entries:o,threads:c}=i,{[n]:u,...d}=o,h=Array.from(c),m=c.findIndex(p=>p.entryIds.includes(n));return h.splice(m,1,{id:h[m].id,entryIds:h[m].entryIds}),{threads:h,entries:d}}),!r8(s.params))throw new Error("Stream params are not SubmitParams so cannot retry");return t().actions.createBackwardsCompatibleStream({query_str:a,params:{...s.params,existing_entry_uuid:n,query_source:"retry",frontend_context_uuid:r.frontend_context_uuid}},{placeholderChunk:s.placeholderChunk,timer:li(void 0,{nowFromTimeOrigin:performance.now()}),reason:"retry-stream"})}},reconnectStream:n=>{const r=SA(t(),n);if(r&&r.promise&&r.abortController&&!r.abortController.signal.aborted)return r.id;const s=t().entries[n],a=s?.cursor,i=t().actions.createBackwardsCompatibleStream({query_str:"",params:{resume_entry_uuid:n,cursor:a}},{isReconnect:!0,timer:li(void 0,{nowFromTimeOrigin:performance.now()}),reason:"reconnect-stream"});return e(o=>q5(o,i.id.description,{...s,status:Cs.PENDING}).newState,void 0,"ingestPlaceholderChunk"),i.id},createBackwardsCompatibleStream:(n,{isReconnect:r,placeholderChunk:s,onFinalResponse:a,onFirstMessageReceived:i,timer:o,reason:c})=>{const u=Array.from(t().activeStreams),d={...t().streams};if(u.length>=Dse)try{const y=u.shift();y&&(d[y]?.abortController?.abort(),d[y]={...d[y],promise:null,abortController:null})}catch(y){Q.error("Failed to abort stream",y)}const h=n.params?.frontend_uuid??Hr(),m=new AbortController,p={id:{description:h},promise:Promise.resolve(),abortController:m,isReconnect:r,entryId:n.params?.resume_entry_uuid,params:n.params,timer:o},g={message:async y=>{const x=Hf(t(),h);let b=!1;x?.threadId||(b=!0,i?.(y)),e(w=>{const{newState:_,ingested:C}=q5(w,h,y);if(C?.status===Cs.COMPLETED&&a?.(C),C?.status===Cs.FAILED&&x&&x.entryId){const{promise:S,abortController:k,...E}=x;return{..._,erroredStreams:{...w.erroredStreams,[x.entryId]:E}}}return _},void 0,"ingest"),x&&gr.emit("progress",{stream:x,message:t().entries[y.backend_uuid]??y,isFirstMessage:b})}},v=n.params?.query_source==="default_search";return p.promise=(r?J.SSE("/rest/sse/perplexity_ask/reconnect/{resume_entry_uuid}",c,{path:{resume_entry_uuid:n.params?.resume_entry_uuid??""},params:{cursor:n.params?.cursor},signal:m.signal,handlers:g}):J.SSE("/rest/sse/perplexity_ask",c,{params:{...n,params:{...n.params,version:DYe}},signal:m.signal,handlers:g,metrics:{omnisearch:v},timer:o})).then(()=>$Ye(t(),h),y=>{const x=t(),b=Hf(x,h);b&&(e(w=>BYe(w,h,y),void 0,"handleStreamError"),gr.emit("error",{stream:b,error:y}))}).finally(()=>{e(({activeStreams:y,streams:x})=>({streams:{...x,[h]:{...x[h],promise:null,abortController:null}},activeStreams:y.filter(b=>b!==h)}),void 0,"cleanupBackwardsCompatibleStream")}),u.push(h),e({activeStreams:u,streams:{...d,[h]:p}},void 0,"createBackwardsCompatibleStream"),gr.emit("created",{stream:p,query:n.query_str,params:n.params}),p.abortController?.signal.addEventListener("abort",()=>{gr.emit("aborted",{stream:p})}),s&&e(y=>q5(y,h,s).newState,void 0,"ingestPlaceholderChunk"),p},setMiddlewares:n=>{e(()=>({middlewares:[...f$,...n]}))}}}),EA=nm("StreamState",()=>bi()(QEe(NQ(HYe),{name:"StreamStore"}))),Wu=EA.useSelector,Fse=EA.useStore,WYe=()=>{const e=Fse(),t=f.useMemo(()=>LYe(e.getState().actions.reconnectStream,{perMinute:20,perHour:120}),[e]);return f.useEffect(()=>{function n(){const i=e.getState(),o=new Set(i.activeStreams),c=new Set(Object.values(i.streams).filter(u=>o.has(u.id.description)).map(u=>u.entryId));Object.values(i.entries).forEach(u=>{u?.reconnectable&&o.size<Dse&&!c.has(u?.backend_uuid)&&t(u.backend_uuid)})}n();let r=setInterval(n,d$);function s(){clearInterval(r),n(),r=setInterval(n,d$)}function a(){clearInterval(r)}return window.addEventListener("online",s,!0),window.addEventListener("offline",a,!0),()=>{clearInterval(r),window.removeEventListener("online",s,!0),window.removeEventListener("offline",a,!0)}},[t,e]),null},zYe=T.memo(({children:e})=>l.jsxs(EA.Provider,{children:[l.jsx(WYe,{}),e]})),cDt=()=>Wu(e=>e.actions.getEntryById),VYe=()=>Wu(e=>e.actions.createBackwardsCompatibleStream),uDt=()=>Wu(e=>e.actions.reconnectStream),dDt=()=>Wu(e=>e.actions.retryStream),fDt=()=>{const e=Wu(t=>t.entries);return f.useCallback(t=>t?e[t]?.status===Cs.COMPLETED:!1,[e])},hDt=e=>{const t=Wu(s=>s.activeStreams),n=Wu(s=>s.streams),r=Object.values(n).find(s=>s.id.description===e);return!!(r&&t.includes(r?.id.description))},wl=()=>Fse(),mDt=()=>{const e=wl();return f.useCallback(n=>{for(const r of n){if(e.getState().entries[r.backend_uuid])continue;const a=!r.reconnectable;e.setState(i=>a8(i,{...r,status:a?Cs.COMPLETED:Cs.PENDING,final:a,final_sse_message:a},{streamId:r.frontend_uuid??Hr()}),void 0,"ingestInitialEntries")}},[e])},kA=()=>{const e=wl();return f.useCallback((t,n)=>{t&&e.setState(r=>{const s=r.entries[t],a=SA(r,t);if(a&&a.promise&&a.abortController&&!a.abortController.signal.aborted&&Q.error("Attempting to mutate entries while stream is active"),!s||!n)return r;const i=n(s);return i?{...r,entries:{...r.entries,[t]:i}}:r},void 0,"mutateEntry")},[e])},GYe=()=>{const e=wl();return f.useCallback((t,n,{terminateStream:r=!0}={})=>{t&&e.setState(s=>{if(!t)return s;FYe(s,t)&&r&&Q.error("Attempting to mutate entries while stream is active");const i=s.threads.findIndex(m=>m.id===t);if(i===-1)return s;const o=s.threads[i];if(!o)return s;const u=o.entryIds.map(m=>s.entries[m]).filter(m=>m!=null),d=n?.(u);if(!d)return s;const h=Array.from(s.threads);return h.splice(i,1,{...o,entryIds:d.map(m=>m.backend_uuid)}),{...s,entries:{...s.entries,...d.reduce((m,p)=>(m[p.backend_uuid]=p,m),{})},threads:h}},void 0,"mutateEntries")},[e])};function pDt(e){const t=wl();return SA(t.getState(),e)}function gDt(e){const t=wl(),n=Object.values(t.getState().erroredStreams),r=n.length;for(let s=r-1;s>=0;s--){const a=n[s];if(a.entryId===e)return a}}const Use=T.memo(({middlewares:e})=>{const t=wl();return f.useLayoutEffect(()=>{t.getState().actions.setMiddlewares(e)},[e,t]),null});Use.displayName="MiddlewareRegistry";function Bse(){const e=wl();return f.useCallback(t=>e.getState().streams[t]?.timer,[e])}function qYe(){const e=wl();return f.useCallback(()=>e.getState().activeStreams.length>0,[e])}class Ue{static getItem(t){try{return window.localStorage.getItem(t)}catch{return null}}static setItem(t,n){try{return window.localStorage.setItem(t,n),!0}catch{return!1}}static removeItem(t){try{return window.localStorage.removeItem(t),!0}catch{return!1}}static clear(){try{return window.localStorage.clear(),!0}catch{return!1}}}const $se=T.memo(({staticTextBlockComponent:e,renderEditableInput:t,className:n,...r})=>{const[s,a]=f.useState(!1),i=f.useCallback(()=>a(!1),[]);return l.jsx("span",{className:n,children:s?t(i):l.jsx("button",{className:"transition duration-300 hover:opacity-70",onClick:()=>a(!0),onKeyDown:o=>{o.key==="Enter"&&a(!0)},...r,children:e})})});$se.displayName="EditableText";async function KYe({contextUUID:e,title:t,rwToken:n,callback:r,reason:s}){try{const a=await J.POST("/rest/thread/set_thread_title",s,{body:{context_uuid:e,title:t,read_write_token:n},headers:{"Content-Type":"application/json"}});r?.(a)}catch(a){r?.(a)}}const ha=({reason:e})=>{const{organization:t}=Gt({reason:e}),n=t?.settings?.always_incognito,{isIncognitoLocal:r}=on();return n||r},Zp="recentItems";async function YYe({reason:e}){try{const t=await J.GET("/rest/thread/list_recent",e),n=t.data;if(!t.response.ok)throw new Error("Failed to get recent threads.");return n??je}catch(t){return Q.error("Failed to get recent threads.",t),je}}const Hse=({reason:e})=>{const t=ha({reason:e}),{inFlightLatest:n}=fr(),s=Dt()?.user?.email,{data:a,refetch:i,isLoading:o}=at({queryKey:[Zp,s],queryFn:async()=>!s||t?je:await YYe({reason:e})});return f.useEffect(()=>{n||i({cancelRefetch:!1})},[n,i]),f.useMemo(()=>!s||t?{data:[],isLoading:!1}:{data:a??je,isLoading:o},[a,s,t,o])},cu="";T.memo(({contextUUID:e,title:t,rwToken:n,frontendContextUUID:r,entryId:s})=>{const a="thread-title",{$t:i}=K(),[o,c]=f.useState(t??cu),u=Dt();f.useEffect(()=>{c((!n||!e)&&(t??cu)===cu?"":t??cu)},[t,e,n]);const d=KYe,h=f.useCallback((v,y)=>{if(!v||v===cu){Q.warn("Empty title callback.");return}if(!e){Q.warn("No thread UUID found.");return}if(!n){Q.warn("No write token found.");return}d({contextUUID:e,title:v,rwToken:n,callback:y,reason:a}),c(v)},[e,n,d]),m=v=>l.jsx(QYe,{initialTitle:o,onDoneEditing:v,updateTitle:h,frontendContextUUID:r,entryId:s}),p=e&&n&&u,g=o===cu;if(g&&!p)return null;{const v=l.jsx(j,{variant:"tiny",color:g?"light":"default",className:"py-sm pl-sm truncate",children:g?i({defaultMessage:"Untitled",id:"3kbIhS7KZS"}):o});return p?l.jsx($se,{staticTextBlockComponent:v,renderEditableInput:m,className:"min-w-0"}):v}});const QYe=T.memo(({initialTitle:e,onDoneEditing:t,updateTitle:n,entryId:r})=>{const{$t:s}=K(),{isMobileUserAgent:a}=Oe(),[i,o]=f.useState(e),c=ot(),u=kA(),d=f.useCallback(()=>{r&&(u(r,v=>{if(v)return{...v,thread_title:i}}),c.invalidateQueries({queryKey:[Zp]}))},[r,i,u,c]),h=f.useCallback(v=>{v.currentTarget instanceof HTMLInputElement&&v.currentTarget.select()},[]),m=f.useCallback(()=>{n(i,d),t()},[n,i,d,t]),p=f.useCallback(()=>{m()},[m]),g=f.useCallback(v=>{ai.isEnterKeyWithoutShift(v)&&m()},[m]);return l.jsx("div",{className:"ml-sm",children:l.jsx(ko,{isMobileUserAgent:a,autoFocus:!0,value:i,className:"border-0 p-0 text-center outline-none ring-0",disabled:!1,placeholder:s({defaultMessage:"Untitled",id:"3kbIhS7KZS"}),onChange:o,onKeyDown:g,onBlur:p,onClear:t,onFocus:h})})}),Wse="rwTokenStorage",h$=20,Mx=e=>{const t=JSON.stringify(e);try{Ue.setItem(Wse,t)}catch(n){Q.warn("Could not put rw token storage"),Q.warn(n)}},MA=()=>{let e=null;try{e=Ue.getItem(Wse)}catch(t){Q.warn("Could not access local storage"),Q.warn(t)}if(!e)return Mx({}),{};try{return JSON.parse(e)??{}}catch(t){Q.warn("Could not deserialize rw token storage"),Q.warn(t);const n={};return Mx({}),n}},XYe=(e,t)=>{if(!e||!t)return;let n=MA(),r=Object.keys(n);if(r.length>=h$){const s=r[Math.floor(Math.random()*r.length)];s&&delete n[s]}r=Object.keys(n),r.length>h$+5&&(Q.warn("Too many rw tokens stored; resetting"),n={}),n[e]=t,Mx(n)},ZYe=e=>e?MA()[e]:void 0,zse=e=>{const t=e.context_uuid;if(!t)return;const n=ZYe(t);if(n)return n;const r=e?.read_write_token;if(r)return XYe(t,r),r},vDt=e=>{if(!e)return;const t=MA();delete t[e],Mx(t)},JYe=e=>e?.context_uuid??void 0,eQe=e=>e?.frontend_context_uuid??void 0,tQe=e=>e?.thread_title??cu,nQe=e=>e?.query_str??void 0,rQe=e=>e?.search_focus??void 0,sQe=e=>e.sources?.sources??void 0,aQe=e=>e?.author_id??void 0,iQe=e=>e?.author_username??void 0,oQe=e=>e?.author_image??void 0,lQe=e=>{if(e.parent_info)return e.parent_info},cQe=e=>e?.mode??null,uQe=e=>e?.personalized??void 0,dQe=e=>e?.collection_info??void 0,fQe=e=>e?.bookmark_state??void 0,hQe=e=>e?.thread_access??void 0,mQe=e=>e?.thread_url_slug??void 0,pQe=e=>e?.updated_datetime??void 0,gQe=e=>e?.expiry_time??null,vQe=e=>e?.privacy_state??void 0,x2=e=>e?{author_id:aQe(e),author_image:oQe(e),author_username:iQe(e),bookmarkState:fQe(e),collection:dQe(e),contextUUID:JYe(e),expiry_time:gQe(e)??void 0,first_query:nQe(e),focus:rQe(e),frontendContextUUID:eQe(e),mode:cQe(e)??void 0,parent_info:lQe(e)??void 0,personalized:uQe(e)??void 0,privacy_state:vQe(e)??void 0,rwToken:zse({backend_uuid:e.backend_uuid,read_write_token:e.read_write_token,context_uuid:e.context_uuid}),sources:sQe(e)??void 0,text_completed:!1,thread_access:hQe(e)??void 0,thread_url_slug:mQe(e),title:tQe(e),updated_datetime:pQe(e)}:Mte,i8=e=>({forkCount:e?.fork_count??0,likeCount:e?.like_count??0,viewCount:e?.view_count??0,userLikes:e?.user_likes??!1}),Vse={fork_count:0,like_count:0,view_count:0,user_likes:!1};function Km({entries:e,threads:t,streams:n},r,s){const a=r?n[r]:void 0;if(a&&a.threadId&&(s=a.threadId),s){const i=t.find(o=>o.id===s);if(i){const o=i.entryIds.map(c=>e[c]).filter(c=>c!=null);return a&&!a.entryId&&a.placeholderChunk&&o.push(a.placeholderChunk),{results:o,currentStreamId:r,currentThreadId:s}}}return{results:a?.placeholderChunk?[a.placeholderChunk]:[],currentStreamId:r,currentThreadId:s}}const yQe=({streamStore:e})=>{const t=bi()((r,s)=>({results:[],resultsLength:0,firstResult:void 0,lastResult:void 0,inFlight:!1,inFlightLatest:!1,inFlightEntry:void 0,isReadOnly:!1,socialStats:{forkCount:0,likeCount:0,viewCount:0,userLikes:!1},actions:{setResults:a=>{const i=a[0],o=i8(i?.social_info??Vse),c={inFlight:a.some(u=>Mn.isStatusPending(u)),inFlightLatest:a.length>0&&Mn.isStatusPending(a[a.length-1]),inFlightEntry:a.find(u=>Mn.isStatusPending(u))};r({results:a,firstResult:i,lastResult:a[a.length-1],inFlight:c.inFlight,inFlightLatest:c.inFlightLatest,inFlightEntry:c.inFlightEntry,socialStats:o,resultsLength:a.length},void 0)},setCurrentStreamId:a=>{const i=s(),o=Km(e.getState(),a,i.currentThreadId);i.actions.setResults(o.results),r({currentStreamId:o.currentStreamId,currentThreadId:o.currentThreadId},void 0)},clearCurrentStreamId:()=>{r({currentStreamId:void 0},void 0);const a=s(),i=Km(e.getState(),void 0,a.currentThreadId);a.actions.setResults(i.results),r({currentStreamId:i.currentStreamId,currentThreadId:i.currentThreadId},void 0)},setCurrentThreadId:a=>{r({currentThreadId:a},void 0);const i=s(),o=i.currentStreamId,c=Object.values(e.getState().streams).find(d=>d.threadId===a);c?c.id.description!==o&&i.actions.setCurrentStreamId(c.id.description):i.actions.clearCurrentStreamId();const u=Km(e.getState(),s().currentStreamId,a);i.actions.setResults(u.results),r({currentStreamId:u.currentStreamId,currentThreadId:u.currentThreadId},void 0)},clearCurrentThreadId:()=>{r({currentThreadId:void 0},void 0);const a=s(),i=Km(e.getState(),a.currentStreamId,void 0);a.actions.setResults(i.results),r({currentStreamId:i.currentStreamId,currentThreadId:i.currentThreadId},void 0)}}})),n=e.subscribe(({entries:r,threads:s,streams:a})=>Km({entries:r,threads:s,streams:a},t.getState().currentStreamId,t.getState().currentThreadId),r=>{t.getState().actions.setResults(r.results),t.setState({currentStreamId:r.currentStreamId,currentThreadId:r.currentThreadId},void 0)});return{store:t,clearSubscriptions:()=>{n()}}},{Context:xQe,useSelector:bQe,useStore:wQe,useTrackedState:_Qe}=Qw("ResultsStore"),CQe=({children:e})=>{const t=wl(),[{store:n,clearSubscriptions:r}]=f.useState(()=>yQe({streamStore:t}));return f.useEffect(()=>r,[r]),l.jsx(xQe.Provider,{value:n,children:e})},fr=_Qe,yDt=()=>{const{firstResult:e}=fr();return f.useMemo(()=>x2(e),[e])},SQe=e=>e.results.find(t=>Mn.isStatusPending(t)),EQe=e=>at({queryKey:["navigationResults",e],queryFn:()=>Promise.resolve({}),enabled:!1}),TA=()=>{const e=wQe(),t=GYe();return f.useCallback(n=>{const r=e.getState().currentThreadId;t(r,n)},[t,e])};function lm(){const{firstResult:{backend_uuid:e,context_uuid:t,read_write_token:n}={}}=fr();return f.useMemo(()=>zse({context_uuid:t,read_write_token:n}),[t,n,e])}const _l=$n({path:"M22.1475 2.00586C22.1569 2.00616 22.1663 2.00721 22.1758 2.00781L22.209 2.00977C22.2435 2.01325 22.2773 2.01899 22.3105 2.02637C22.3158 2.02753 22.3209 2.02901 22.3262 2.03027C22.3568 2.03766 22.3858 2.04906 22.415 2.05957C22.5326 2.10177 22.6441 2.16668 22.7383 2.26074C22.7468 2.26924 22.7546 2.27835 22.7627 2.28711C22.7657 2.29033 22.7686 2.29361 22.7715 2.29688C22.8041 2.33334 22.8329 2.37193 22.8584 2.41211C22.8612 2.41654 22.8635 2.4213 22.8662 2.42578C22.8909 2.46628 22.9132 2.50759 22.9307 2.55078C22.972 2.65239 22.9951 2.76339 22.9951 2.87988V17.75C22.9951 18.2332 22.6033 18.6249 22.1201 18.625H7.6123L4.99219 21.2451H16.875C16.8776 20.7642 17.2684 20.3751 17.75 20.375C18.2332 20.3751 18.625 20.7668 18.625 21.25V22.1201C18.6249 22.6033 18.2332 22.9951 17.75 22.9951H2.87988C2.39673 22.9951 2.00495 22.6033 2.00488 22.1201V7.25L2.00977 7.16016C2.05476 6.71917 2.42703 6.37506 2.87988 6.375H17.3867L20.0068 3.75488H8.125C8.12231 4.23583 7.73158 4.625 7.25 4.625C6.76679 4.625 6.37506 4.2332 6.375 3.75V2.87988L6.37988 2.79004C6.42488 2.34901 6.7971 2.00488 7.25 2.00488H22.1201L22.1475 2.00586ZM18.625 7.6123V14.25C18.625 14.7332 18.2332 15.1249 17.75 15.125C17.2668 15.1249 16.875 14.7332 16.875 14.25V8.125H3.75488V20.0068L6.375 17.3867V10.75C6.375 10.2668 6.76675 9.875 7.25 9.875C7.73325 9.875 8.125 10.2668 8.125 10.75V16.875H21.2451V4.99219L18.625 7.6123ZM12.5 10.75C13.4665 10.75 14.25 11.5335 14.25 12.5C14.25 13.4665 13.4665 14.25 12.5 14.25C11.5335 14.25 10.75 13.4665 10.75 12.5C10.75 11.5335 11.5335 10.75 12.5 10.75Z",name:"IconPerplexityCollection",variant:"filled"}),xDt=({currentAccessLevel:e,onClick:t,isCollection:n,isPage:r,spaceIsOrgPinned:s=!1,addOrgPinnedSpace:a,deleteOrgPinnedSpace:i,reason:o,hideLabels:c=!1,isCollectionOwner:u=!1})=>{const{$t:d}=K(),h=K(),{isIOS:m,isAndroid:p}=Nt(),{isEnterprise:g,organization:v}=Gt({reason:o}),{firstResult:{collection_info:y,sources:{sources:x}={}}={}}=fr(),b=n?v?.settings?.public_collection_sharing_allowed??!0:r?v?.settings?.public_page_sharing_allowed??!0:v?.settings?.public_thread_sharing_allowed??!0,w=x?.includes(Kl.factset),_=f.useMemo(()=>n&&u?[{label:h.formatMessage({defaultMessage:"Share via link",id:"oJFaPCNcIw"}),text:h.formatMessage({defaultMessage:"Link share",id:"5CBpesC8V9"}),onClick:()=>i?.(),active:!s},{label:h.formatMessage({defaultMessage:"Pinned for everyone in org",id:"BCLJqQMHbj"}),text:h.formatMessage({defaultMessage:"Pinned",id:"fWZYP5U4xZ"}),onClick:()=>a?.(),active:s}]:void 0,[a,i,h,n,u,s]),C=f.useMemo(()=>[{label:c?void 0:"",text:d({defaultMessage:"Owner Only",id:"RUPRkBML7X"}),icon:dM,show:!1,accessLevel:mt.OWNER_ONLY},{label:c?void 0:d({defaultMessage:"Only the author can view",id:"ZKx/MMPXAk"}),text:d(n?{defaultMessage:"Only invited members",id:"mm5vL8ueCo"}:{defaultMessage:"Private",id:"viXE3205/2"}),icon:dM,show:!r,onClick:()=>t(mt.PRIVATE_READ),active:e===mt.PRIVATE_READ,accessLevel:mt.PRIVATE_READ,testId:"access-level-private"},{label:c?void 0:d({defaultMessage:"Anyone in your Space can view",id:"8i8H9TisQU"}),text:d({defaultMessage:"Space",id:"0ah2udCSKF"}),icon:_l,onClick:()=>t(mt.COLLECTION_READ),active:e===mt.COLLECTION_READ,show:!n&&!r&&!!y?.uuid,accessLevel:mt.COLLECTION_READ,testId:"access-level-space"},{label:c?void 0:d({defaultMessage:"Anyone in your organization can view",id:"T2yBpbP3mu"}),text:d({defaultMessage:"Anyone in my org with the link",id:"ah50gEdYbM"}),icon:n1,onClick:()=>t(mt.ORG_READ),active:e===mt.ORG_READ,show:g&&(!r||b),accessLevel:mt.ORG_READ,testId:"access-level-org",subMenu:_},{label:c?void 0:d({defaultMessage:"Anyone with the link",id:"KL1VgUyLuG"}),text:d({defaultMessage:"Anyone with the link",id:"KL1VgUyLuG"}),icon:m?Ew:p?Aee:Ree,onClick:()=>t(mt.PUBLIC_READ),active:e===mt.PUBLIC_READ,show:b&&!w,accessLevel:mt.PUBLIC_READ,testId:"access-level-public"}],[d,y?.uuid,e,w,c,p,n,g,m,r,t,b,_]),S=C.find(k=>k.accessLevel===e)||null;return f.useMemo(()=>({accessLevelMenuItems:C,selectedAccessMenuItem:S}),[C,S])},bDt=e=>e?[mt.ORG_READ,mt.PUBLIC_READ,mt.PUBLIC_PUBLISHED].includes(e):!1,wDt=e=>e?[mt.OWNER_ONLY,mt.PRIVATE_READ].includes(e):!0,kQe=e=>e?[mt.PUBLIC_READ,mt.PUBLIC_PUBLISHED,mt.ORG_READ,mt.COLLECTION_READ].includes(e):!1,_Dt=e=>e?[mt.PUBLIC_READ,mt.PUBLIC_PUBLISHED].includes(e):!1,CDt=e=>{switch(e){case mt.PUBLIC_PUBLISHED:case mt.PUBLIC_READ:return Ree;case mt.COLLECTION_READ:return _l;case mt.ORG_READ:return n1;case mt.PRIVATE_READ:case mt.OWNER_ONLY:return dM;default:return null}},m$=e=>{switch(e){case mt.PUBLIC_READ:case mt.PUBLIC_PUBLISHED:return"public";case mt.ORG_READ:return"organization";case mt.COLLECTION_READ:return"collection";case mt.PRIVATE_READ:case mt.OWNER_ONLY:return"private";default:return"private"}},Bt=["list_user_collections",{}],Yo="list_collection_threads",Pl="__temp__";async function MQe({contextUUID:e,updatedAccess:t,rwToken:n,callback:r,reason:s}){try{const i=await(await J.POST("/rest/thread/update_thread_access",s,{body:{context_uuid:e??"",updated_access:t,read_write_token:n??""}}))?.data;r?.(i?.access)}catch(a){Q.error(a),r?.(a)}}const TQe=({threadAccess:e,contextUUID:t,rwToken:n,collectionSlug:r,reason:s})=>{const{trackEvent:a}=Ne(),i=ut(),o=ot(),c=TA(),u=kQe(e),d=f.useCallback((p,g)=>{!t||!n||!i||e===p||MQe({contextUUID:t,updatedAccess:p,rwToken:n,reason:s,callback:v=>{if(v===p){if(c(y=>{if(y)return y.map(x=>({...x,thread_access:v}))}),e&&a("thread privacy changed",{oldPrivacy:m$(e),newPrivacy:m$(v),contextUUID:t}),r){const y=[Yo,{collection_slug:r.slice(-22)}];o.invalidateQueries({queryKey:y})}g?.(v)}}})},[t,n,e,i,c,a,r,o,s]),h=f.useCallback(p=>{!i||u||(a("click share thread to space"),d(mt.COLLECTION_READ,p))},[i,u,d,a]),m=f.useCallback(p=>{!i||!u||(a("click make thread private"),d(mt.PRIVATE_READ,p))},[i,u,d,a]);return f.useMemo(()=>({isShareable:u,currentAccess:e,onShareThreadToSpace:h,onMakeThreadPrivate:m,handleAccessChange:d}),[u,d,m,h,e])},NQe=[{label:"Product",value:"PRODUCT"},{label:"AI",value:"AI"},{label:"Browser",value:"BROWSER"},{label:"Enterprise",value:"ENTERPRISE"},{label:"Platform",value:"PLATFORM"},{label:"Mobile",value:"MOBILE"},{label:"Search",value:"SEARCH"},{label:"Agent",value:"AGENT"}],RQe=({isOpen:e,onClose:t})=>{const[n,r]=f.useState(""),[s,a]=f.useState(""),[i,o]=f.useState(""),[c,u]=f.useState(!1),[d,h]=f.useState(null),{firstResult:{context_uuid:m,backend_uuid:p,expiry_time:g,collection_info:{slug:v}={}}={}}=fr(),y=lm(),{handleAccessChange:x}=TQe({contextUUID:m,rwToken:y,collectionSlug:v,reason:"Bug Report"}),{handleRemoveExpiry:b}=hYe({slugOrUUID:p}),w=async()=>{if(!n.trim()){h("Please describe the bug");return}u(!0),h(null);try{const C=cYe(window.location.href),S=await oYe(n,C,s,i);t(),S?.status==="success"&&S.linear_url&&window.open(S.linear_url,"_blank"),x(mt.PUBLIC_READ),g&&await b(),r(""),o("")}catch(C){Q.error("Failed to submit bug report",C),h("Failed to submit bug report. Please try again.")}finally{u(!1)}},_=()=>{r(""),o(""),a(""),h(null),t()};return l.jsx(jt,{isOpen:e,onClose:_,title:"Report a Bug",variant:"large",actionList:[{text:"Cancel",onClick:_,variant:"common"},{text:c?"Submitting...":"Submit Bug Report",onClick:w,variant:"primary",disabled:c||!n.trim(),isLoading:c}],children:l.jsxs("div",{className:"space-y-md",children:[l.jsxs("div",{children:[l.jsx(j,{variant:"base",className:"mb-sm",children:"Category (optional)"}),l.jsx(Mse,{id:"bug-category",options:NQe,activeKey:i,onOptionChange:o,defaultOption:"Select a category...",testId:"bug-report-category-select"})]}),l.jsxs("div",{children:[l.jsx(j,{variant:"base",className:"mb-sm",children:"Who should we assign this bug to? (optional)"}),l.jsx($u,{value:s,onChange:C=>a(C),placeholder:"Please provide the email address. E.g. johnny@perplexity.ai",className:"w-full",isMobileUserAgent:!1,isMobileStyle:!1,minRows:1})]}),l.jsxs("div",{children:[l.jsx(j,{variant:"base",className:"mb-sm",children:"Please describe the bug you encountered:"}),l.jsx($u,{value:n,onChange:C=>r(C),placeholder:"Describe what happened, steps to reproduce, and any other relevant details...",className:"w-full",isMobileUserAgent:!1,isMobileStyle:!1,minRows:1})]}),d&&l.jsx(j,{variant:"smallMono",color:"red",className:"text-sm",children:d})]})})};var pn=(e=>(e.MACOS="macos",e.WINDOWS="windows",e))(pn||{}),Lr=(e=>(e.NEW_THREAD="NEW_THREAD",e.STOP_GENERATING="STOP_GENERATING",e.TOGGLE_INCOGNITO="TOGGLE_INCOGNITO",e.SHOW_SHORTCUTS="SHOW_SHORTCUTS",e.FOCUS_ASK_INPUT="FOCUS_ASK_INPUT",e.TOGGLE_DICTATION="TOGGLE_DICTATION",e.TOGGLE_V2V="TOGGLE_V2V",e))(Lr||{});const SDt="keyboard-shortcuts",Gse=(e,t,n=!1)=>[{type:"NEW_THREAD",label:e.formatMessage({defaultMessage:"New Thread",id:"76XSxT3hV8"}),macos:["⌘","K"],windows:t?["Ctrl","Shift","P"]:["Ctrl","I"],editable:!0,global:!0},{type:"TOGGLE_V2V",label:e.formatMessage({defaultMessage:"Toggle Voice Mode",id:"ulahVrf1h4"}),macos:["⌘","Shift","B"],windows:["Ctrl","Shift","B"],editable:!0,global:!0,requiresAuth:!0,windowsAppOnly:!0},{type:"TOGGLE_DICTATION",label:e.formatMessage({defaultMessage:"Toggle Voice Dictation",id:"tWip/8rlIv"}),macos:["⌘","D"],windows:["Ctrl","D"],editable:!1,windowsAppOnly:!0},{type:"TOGGLE_INCOGNITO",label:e.formatMessage({defaultMessage:"Toggle Incognito",id:"YNMg3vd9IG"}),macos:["⌘",";"],windows:["Ctrl",";"],editable:!1},{type:"SHOW_SHORTCUTS",label:e.formatMessage({defaultMessage:"Show Shortcuts",id:"8o6rUVckYq"}),macos:["⌘","/"],windows:["Ctrl","/"],editable:!1},{type:"FOCUS_ASK_INPUT",label:e.formatMessage({defaultMessage:"Focus Ask Input",id:"RP5ybIk9wM"}),macos:["⌘","J"],windows:["Ctrl","J"],editable:!1}].filter(s=>(!s.requiresAuth||n)&&(!s.windowsAppOnly||t)),AQe={Meta:"⌘",Shift:"⇧",ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Enter:"⏎",Period:".",Semicolon:";",Slash:"/",Escape:"Esc"},jQe={"⌘":"Meta","⇧":"Shift","↑":"ArrowUp","↓":"ArrowDown","←":"ArrowLeft","→":"ArrowRight","⏎":"Enter"},PQe=(e,t="macos")=>e==="Meta"?t==="windows"?"Win":"⌘":AQe[e]||e,p$=e=>e==="Win"?"Meta":jQe[e]||e,IQe=({label:e,keys:t})=>l.jsxs(j,{color:"light",className:"py-md flex place-content-between items-center",children:[l.jsx(j,{as:"dd",variant:"small",color:"light",className:"line-clamp-1 overflow-hidden text-clip",children:e}),l.jsx(H,{as:"dl",className:"space-x-two flex items-center",children:t.map(n=>l.jsx(H,{className:"px-xs flex h-5 min-w-5 items-center justify-center rounded border font-mono",children:n},n))})]}),OQe=T.memo(({closeModal:e,isOpen:t})=>{const n=K(),{isMacOS:r,isWindowsApp:s}=Nt(),a=ut(),i=r?pn.MACOS:pn.WINDOWS,o=f.useMemo(()=>Gse(n,s,a),[n,s,a]);return l.jsx(am,{childVariant:"hide-chrome",isOpen:t,canOutsideClickClose:!0,onClose:e,children:l.jsxs(H,{variant:"offset",className:"p-md relative w-[90vw] max-w-screen-sm rounded-xl",children:[l.jsx(j,{className:"mb-2",variant:"section-title",as:"h2",children:n.formatMessage({defaultMessage:"Keyboard Shortcuts",id:"nFkLBjIGMy"})}),l.jsx(H,{as:"dl",className:"divide-y",children:o.map(c=>l.jsx(IQe,{label:c.label,keys:c[i]},c.type))})]})})}),LQe=async({reason:e})=>{try{return(await(await Nn({urlPath:"/rest/collections/list_recent",reason:e})).json()).map(r=>({...r,link:r.link.replace(/^\/collections\//,"/spaces/")}))}catch(t){return Q.error("Failed to get recent collections.",t),[]}},DQe=async({headers:e={},params:t,reason:n})=>{const r=await J.GET("/rest/collections/list_user_collections",n,{params:{query:{limit:t.limit,offset:t.offset,version:Ac}},timeoutMs:$e(),headers:e});if(!r.response.ok||!r.data)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list user collections",cause:r.error});return r.data},FQe=async({headers:e={},params:t,reason:n})=>{try{const{error:r,data:s}=await J.GET("/rest/collections/get_collection",n,{params:{query:t},headers:e,timeoutMs:$e()});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get collection",cause:r});if(!s?.status||s?.status==="failed")throw new Me("API_CLIENTS_ERROR",{message:"Failed to get collection",cause:s});return s}catch(r){Q.error(r);return}},UQe=async({headers:e={},params:t,reason:n})=>{try{const{error:r}=await J.PUT("/rest/collections/{collection_uuid}/access",n,{params:{path:{collection_uuid:t.collection_uuid}},headers:e,body:{updated_access:t.updated_access},timeoutMs:$e()});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to update collection access",cause:r})}catch(r){Q.error(r)}},EDt=async({headers:e={},params:t,reason:n})=>{try{const{error:r}=await J.POST("/rest/collections/{collection_uuid}/remove_user",n,{params:{path:{collection_uuid:t.collectionUUID}},body:{email:t.email},headers:e,timeoutMs:$e()});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to remove user from collection",cause:r})}catch(r){Q.error(r)}},kDt=async({headers:e={},params:t,reason:n})=>{try{const{error:r,data:s}=await J.GET("/rest/collections/list_collection_threads",n,{params:{query:t},headers:e,timeoutMs:$e()});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list collection threads",cause:r});if(!s||!Array.isArray(s))throw new Me("API_CLIENTS_ERROR",{message:"Failed to list collection threads",cause:s});return s}catch(r){return Q.error(r),[]}},MDt=async({reason:e})=>{try{const{error:t,data:n}=await J.GET("/rest/collections/invitations",e,{});if(t)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get invited collections",cause:t});return{collections:n.collections}}catch{return{collections:[]}}},Kv=async({params:e,reason:t})=>{try{const{error:n,data:r}=await J.POST("/rest/collections/upsert_thread_collection",t,{body:e});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to upsert thread collection",cause:n});if(!r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to upsert thread collection",cause:r});return r}catch{return}},TDt=async({params:e,reason:t})=>{try{const{error:n,data:r}=await J.POST("/rest/collections/invite_to_collection",t,{body:e,timeoutMs:$e()});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to invite user to collection",cause:n});return r}catch{return}},g$=async({collectionUUID:e,entryUUID:t,reason:n})=>{try{const{error:r}=await J.DELETE("/rest/collections/remove_collection_thread",n,{params:{query:{collection_uuid:e,entry_uuid:t}}});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to remove thread from collection",cause:r})}catch{return}},_d=({collectionSlug:e,reason:t})=>{const n=async()=>e?await FQe({params:{collection_slug:e,version:Ac},reason:t})??null:null,{data:r,isLoading:s}=at({enabled:!!e,queryKey:["get_collection",{collection_slug:e?.slice(-22)}],queryFn:n,placeholderData:G0});return f.useMemo(()=>({collection:r??void 0,isLoading:s}),[r,s])};var os;(function(e){e[e.NONE=0]="NONE",e[e.READER=1]="READER",e[e.WRITER=2]="WRITER",e[e.EDITOR=5]="EDITOR",e[e.ADMIN=3]="ADMIN",e[e.OWNER=4]="OWNER",e[e.OWNER_DEFAULT_BOOKMARKS=6]="OWNER_DEFAULT_BOOKMARKS",e[e.INVITED_READER=11]="INVITED_READER",e[e.INVITED_WRITER=12]="INVITED_WRITER",e[e.INVITED_EDITOR=15]="INVITED_EDITOR",e[e.INVITED_ADMIN=13]="INVITED_ADMIN"})(os||(os={}));function qse(){return[os.INVITED_READER,os.INVITED_WRITER,os.INVITED_EDITOR,os.INVITED_ADMIN]}function BQe(e){return e===os.OWNER||e===os.OWNER_DEFAULT_BOOKMARKS}function NA(e){return e===os.OWNER_DEFAULT_BOOKMARKS}function $Qe(e){return e>=os.WRITER&&e<os.INVITED_READER}function HQe(e){return e>=os.READER&&e<os.INVITED_READER}function WQe(e){return e==os.READER||e==os.INVITED_READER}function zQe(e){return qse().includes(e)}function NDt(e){if(e===void 0)return{ownerUser:void 0,contributorUsers:[],invitedUsers:[]};const t=e.owner_user,n=e.contributor_users,r=[],s=[],a=qse();return n?.forEach(i=>{i.permission&&a.includes(i.permission)?r.push(i):s.push(i)}),{ownerUser:t,contributorUsers:s,invitedUsers:r}}var Tx;(function(e){e.PageAccessNotAllowed="pageAccessNotAllowed",e.ThreadAccessNotAllowed="threadAccessNotAllowed",e.InvalidThread="invalidThread",e.ThreadExpired="threadExpired",e.ThreadStreamError="threadStreamError",e.CollectionAccessNotAllowed="collectionAccessNotAllowed",e.SpaceAccessNotAllowed="spaceAccessNotAllowed",e.InvalidCollection="invalidCollection",e.SubscriptionAlreadyActive="subscriptionAlreadyActive",e.UnableToGrantAccess="unableToGrantAccess"})(Tx||(Tx={}));const RDt="ENTRY_EXPIRED",ADt="VIEW_THREAD_NOT_ALLOWED",Cl=()=>{const e=Lt(),t=GFe(e),n=fNe();return f.useMemo(()=>({...t??{},...n}),[t,n])};function Kse({reason:e,collectionSlugOverride:t}){const n=Cl(),r=t??(Array.isArray(n?.slug)?n.slug[0]:n?.slug),{collection:s}=_d({collectionSlug:r,reason:e}),a=s?BQe(s.user_permission):!1,i=s?zQe(s.user_permission):!1,o=s?WQe(s.user_permission):!1,c=s?HQe(s.user_permission):!1,u=s?$Qe(s.user_permission):!1;return f.useMemo(()=>({isUserOwner:a,isUserInvited:i,isUserReader:o,isUserAtLeastReader:c,isUserAtLeastWriter:u}),[c,u,i,a,o])}const Eu=T.memo(({blockCount:e,size:t=Mt.large,animateLines:n=!0,divider:r,noLines:s,noHeight:a,variant:i="offset",className:o,...c})=>{const u="h-1 bg-textOff  rounded-full",d=f.useMemo(()=>{const h=[];for(let m=0;m<(e??1);m++)h.push(l.jsx(H,{variant:i,className:U("animate-pulse rounded-md",{"h-8":t===Mt.small,"h-10":t===Mt.regular,"h-[72px]":t===Mt.large,"h-32":t===Mt.xl,"h-6":t===Mt.tiny,"h-full":a}),children:l.jsx("div",{className:"gap-y-sm p-md flex h-full flex-col",children:!s&&l.jsxs(l.Fragment,{children:[l.jsx(ke.div,{initial:{width:n?0:"100%"},animate:{width:"100%"},transition:{duration:.8,delay:.2},className:u}),l.jsx(ke.div,{initial:{width:n?0:"100%"},animate:{width:"100%"},transition:{duration:.8,delay:.2},className:u}),l.jsx(ke.div,{initial:{width:n?0:"80%"},animate:{width:"80%"},transition:{duration:.8,delay:.2},className:u}),l.jsx(ke.div,{initial:{width:n?0:"20%"},animate:{width:"20%"},transition:{duration:.8,delay:.2},className:u})]})})},m));return h},[n,e,t,s,a,i]);return l.jsx(H,{className:U("h-full",{"divider gap-y-sm flex flex-col":r,"absolute top-0 w-full":a},o),...c,children:d})});var fn;(function(e){e.GOOGLE_DRIVE="GOOGLE_DRIVE",e.ONEDRIVE="ONEDRIVE",e.SHAREPOINT="SHAREPOINT",e.DROPBOX="DROPBOX",e.BOX="BOX",e.WILEY="WILEY",e.GCAL="GCAL",e.GENERATED_IMAGE="GENERATED_IMAGE",e.GENERATED_VIDEO="GENERATED_VIDEO",e.NOTION="NOTION",e.OUTLOOK="OUTLOOK",e.LINEAR="LINEAR",e.LOCAL="LOCAL"})(fn||(fn={}));const VQe=$n({path:"M14 3v4a1 1 0 0 0 1 1h4m-5-5H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3m4-18 5 5m0 0v3",name:"IconBadgeFile",variant:"stroked"}),_a=10,v$=20,jDt=_a*41+46,o8=async({request:e,reason:t})=>{const{fileRepositoryInfo:n,limit:r,offset:s,searchTerm:a,fileStates:i,email:o}=e;try{let c;i.includes("COMPLETE")?c={file_repository_info:n,limit:r,offset:s??0,search_term:a,file_states_in_filter:i,calculate_user_uploaded_file_count:!0}:c={calculate_user_uploaded_file_count:!1,file_repository_info:n,limit:r,offset:s??0,search_term:a,file_states_in_filter:i,email_in_filter:[o]};const{data:u,error:d}=await J.POST("/rest/file-repository/list-files",t,{headers:{"content-type":"application/json"},body:c,timeoutMs:$e(),numRetries:1});if(d)throw new Me("API_CLIENTS_ERROR",{cause:d});return{files:u?.files??[],numTotalFiles:u?.num_total_files??0,userUploadedFileCount:u?.user_uploaded_file_count??null}}catch(c){return Q.error(c),null}},GQe=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/file-repository/get-file-upload-urls",t,{body:e,timeoutMs:5e3,numRetries:1});if(r)throw new Error("Failed to get fileUploadUrl",{cause:r});return n},Yse=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/files/list",t,{body:e,timeoutMs:$e(),numRetries:1});if(r)throw new Error("Failed to get connector files",{cause:r});return n},PDt=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/files/delete",t,{body:e,timeoutMs:$e(),numRetries:1});if(r)throw new Error("Failed to delete connector files",{cause:r});return n},IDt=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/files/resync",t,{body:e,timeoutMs:$e(),numRetries:1});if(r)throw new Error("Failed to resync connector files",{cause:r});return n};async function RA({request:e,reason:t}){return new Promise((n,r)=>{J.SSE("/rest/sse/index_files",t,{params:e,headers:{"content-type":"application/json",accept:"text/event-stream"},handlers:{message:s=>{s.status==="success"?n():r(new Error("Indexing failed"))}}}).catch(r)})}const ODt=({fileRepoInfo:e,connectionTypes:t,status:n,searchKeyword:r,parentUuids:s,rootFilesOnly:a,cursor:i,pollingEnabled:o=!1,pageSize:c,fileTypes:u,reason:d})=>{const[h,m]=f.useState(!1),p=f.useMemo(()=>({file_repository_info:e,filters:{connection_types:t??je,status:n??je,search_keyword:r,parent_uuids:s??je,root_files_only:a??!1,file_types:u??je,connection_ids:je,ids:je,remote_file_ids:je,uuids:je},pagination:{cursor:i,page_size:c??100},order_by:"updated",order_dir:"desc"}),[e,t,n,r,s,a,i,c,u]),g=at({queryKey:tse(p),queryFn:()=>Yse({request:p,reason:d}),refetchInterval:()=>o&&h?5e3:!1,placeholderData:v=>v,enabled:e.file_repository_type==="USER"||e.file_repository_type=="COLLECTION"&&!!e.owner_id});return f.useEffect(()=>{const v=g.data?.files.some(y=>y.status==="SYNCING"||y.status==="QUEUED")||!1;m(v)},[g.data]),g},qQe=({fileRepoInfo:e,connectionTypes:t,status:n,searchKeyword:r,parentUuids:s,rootFilesOnly:a,pageSize:i,fileTypes:o,reason:c})=>{const u={file_repository_info:e,filters:{connection_types:t??je,status:n??je,search_keyword:r,parent_uuids:s??je,root_files_only:a??!1,file_types:o??je,connection_ids:je,ids:je,remote_file_ids:je,uuids:je},pagination:{page_size:i},order_by:"updated",order_dir:"desc"};return Nc({enabled:e.file_repository_type!=="ORG",initialPageParam:void 0,queryKey:tse(u,!0),queryFn:({pageParam:d})=>Yse({request:{...u,pagination:{cursor:d,page_size:i}},reason:c}),getNextPageParam:d=>d.next_cursor??void 0})},LDt=async({backendUUID:e,title:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await J.PUT("/rest/article/section/title/{section_uuid}",r,{params:{path:{section_uuid:e}},body:{read_write_token:n,title:t},headers:{"content-type":"application/json"},numRetries:1});if(a)throw new Error("Error updating article section title",{cause:a});return s},DDt=async({backendUUID:e,heroOffset:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await J.PUT("/rest/article/section/hero_offset/{section_uuid}",r,{params:{path:{section_uuid:e}},body:{read_write_token:n,hero_offset:t},timeoutMs:$e()});if(a)throw new Error("Error updating article section hero offset",{cause:a});return s},FDt=async({backendUUID:e,rwToken:t,reason:n})=>{if(!e||!t)return;const{data:r,error:s}=await J.DELETE("/rest/article/section/{section_uuid}",n,{params:{path:{section_uuid:e}},body:{read_write_token:t},timeoutMs:$e()});if(s)throw new Error("Error deleting article section",{cause:s});return r},UDt=async({sections:e,rwToken:t,reason:n})=>{if(!t||e.length===0)return;const{data:r,error:s}=await J.PUT("/rest/article/sections/layout",n,{body:{read_write_token:t,sections:e},timeoutMs:$e()});if(s)throw new Error("Error updating article sections layout",{cause:s});return r},BDt=async({sectionUUID:e,mediaItem:t,targetIndex:n,rwToken:r,isNewMediaItem:s=!1,reason:a})=>{if(!r)return;const{data:i,error:o}=await J.PUT("/rest/article/section/image/{section_uuid}",a,{params:{path:{section_uuid:e}},timeoutMs:5500,body:{read_write_token:r,media_item:t,target_index:n,new_media_item:s}});if(o)throw new Error("Error updating article section image",{cause:o});return i},$Dt=async({sectionUUID:e,mediaItem:t,rwToken:n,isNewMediaItem:r,reason:s})=>{n&&await J.PUT("/rest/page/section/media/add/{section_uuid}",s,{params:{path:{section_uuid:e}},timeoutMs:$e(),method:"PUT",body:{read_write_token:n,media_item:t,new_media_item:r}})},HDt=async({sectionUUID:e,image:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await J.POST("/rest/article/section/upload_image/{section_uuid}",r,{params:{path:{section_uuid:e}},timeoutMs:$e(),method:"POST",body:{read_write_token:n,content_type:t.type},headers:{"content-type":"application/json"},numRetries:1});if(a)throw new Error("Failed to upload image to section media items",{cause:a});return s},WDt=async({sectionUUID:e,mediaItemImageUrl:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await J.PUT("/rest/article/section/media/remove/{section_uuid}",r,{params:{path:{section_uuid:e}},timeoutMs:$e(),body:{read_write_token:n,media_item_image_url:t}});if(a)throw new Error("Error removing media item from section selected images",{cause:a});return s},zDt=async({sectionUUID:e,relativeMove:t,rwToken:n,articleSlug:r,reason:s})=>{if(!n||!r)return;const{data:a,error:i}=await J.PUT("/rest/article/reorder/{article_slug}",s,{params:{path:{article_slug:r}},timeoutMs:$e(),method:"PUT",body:{read_write_token:n,section_uuid:e,relative_move:t}});if(i)throw new Error("Error reordering article section",{cause:i});return a},VDt=async({backendUUID:e,reason:t})=>{if(!e)return;const{data:n,error:r}=await J.POST("/rest/article/section/terminate",t,{body:{entry_uuid:e},timeoutMs:1500,method:"POST",numRetries:1});if(r)throw new Error("Error terminating article section streaming",{cause:r});return n},GDt=async({sectionUUID:e,mediaItem:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await J.PUT("/rest/article/section/add/media_item/{section_uuid}",r,{params:{path:{section_uuid:e}},body:{read_write_token:n,media_item:t}});if(a)throw new Error("Error adding article section media item",{cause:a});return s},KQe=async({entryUUIDs:e,rwToken:t,reason:n})=>{await J.DELETE("/rest/thread",n,{body:{entry_uuids:e,read_write_token:t??""}})},YQe=async({entryUUID:e,rwToken:t,callback:n,reason:r})=>{n?.(),await J.DELETE("/rest/thread/delete_thread_by_entry_uuid",r,{body:{entry_uuid:e,read_write_token:t??""}})},QQe=async({backendUUID:e,url:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await J.PUT("/rest/thread/entry/remove_widget",r,{timeoutMs:$e(),body:{entry_uuid:e,read_write_token:n,url:t}});if(a)throw new Error("Error removing widget from entry",{cause:a});return s},qDt=async({backendUUID:e,rwToken:t,value:n,reason:r})=>{const{data:s,error:a}=await J.PUT("/rest/article/emphasize_sources/{section_uuid}",r,{params:{path:{section_uuid:e}},timeoutMs:$e(),method:"PUT",body:{read_write_token:t,value:n}});if(a)throw new Error("Error toggling emphasize sources",{cause:a});return s},XQe=async({name:e,referrer:t,referrerId:n,redirectPath:r,unauthedRedirectPath:s,reason:a})=>{try{let i="";if(e!=="factset"){const u=new URLSearchParams;t&&(u.append("referrer",t),n&&u.append("referrer_id",n)),r&&u.append("redirect_path",r),s&&u.append("unauthed_redirect_path",s),i="?"+u.toString()}const o=await Nn({urlPath:`/rest/connectors/${e}/connect${i}`,method:"GET",headers:{"content-type":"application/json"},timeoutMs:$e(),numRetries:1,reason:a});if(!o.ok)throw new Error("Failed to initiate OAuth flow");return(await o.json()).redirect_url}catch(i){return Q.error("Error fetching factset OAuth redirect URL:",i),null}},ZQe=async({connectorName:e,reason:t})=>{const n=`disconnectConnector:${e}`;try{const r=await Nn({urlPath:`/rest/connectors/${e}/disconnect`,method:"GET",headers:{"content-type":"application/json"},timeoutMs:$e({productionMs:500}),numRetries:1,reason:t});if(!r.ok)throw new Error("Failed to disconnect connector");return await r.json()}catch(r){return Q.log(`Error in ${n}:`,r),null}},JQe=async({connectionUUID:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/connections/{uuid}/update",t,{params:{path:{uuid:e}},body:{disconnect:!0}});if(r)throw new Error("Failed to disconnect file connector",{cause:r});return n},eXe=async({connectionUUID:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/connections/{uuid}/delete",t,{params:{path:{uuid:e}}});if(r)throw new Error("Failed to disconnect file connector and delete files",{cause:r});return n},KDt=async({connectorName:e,fileIds:t,fileRepoInfo:n,folder_ids:r,reason:s})=>{const a="uploadConnectorFiles";try{const i=await Nn({urlPath:`/rest/connectors/${e}/files`,method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({file_ids:t,file_repository_info:n,folder_ids:r}),reason:s});if(!i.ok)throw new Error("Failed to upload connector files");return await i.json()}catch(i){throw Q.log(`Error in ${a}:`,i),i}},tXe=async({reason:e})=>{const{data:t,error:n}=await J.POST("/rest/connectors/box/picker",e);if(n)throw new Error("Failed to refresh box picker credentials",{cause:n});return t},nXe=async({connectionType:e,content:t,reason:n})=>{const{data:r,error:s}=await J.POST("/rest/connectors/picker/log",n,{body:{connection_type:e,content:t}});if(s)throw new Error("Failed log connector picker",{cause:s});return r},rXe=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/file-repository/delete-files",t,{body:e});if(r)throw new Error("Failed to delete files",{cause:r});return n};class AA extends Error{constructor(){super("Downloads are disabled"),this.name="DownloadsDisabledError"}}class Qse extends Error{constructor(){super("PDF downloads are restricted"),this.name="PdfUntrustedOriginError"}}const sXe=async({request:e,reason:t})=>{const n=await J.POST("/rest/file-repository/download",t,{body:e,timeoutMs:2e3,numRetries:1});if(n.error){if(n.error.detail&&typeof n.error.detail=="object"&&"error_details"in n.error.detail){if(n.error.detail.error_details==="DOWNLOADS_DISABLED")throw new AA;if(n.error.detail.error_details==="PDF_UNTRUSTED_ORIGIN")throw new Qse}throw new Error("Failed to download file",{cause:n.error})}return n.data},aXe=async({request:e,reason:t})=>{const n=await J.POST("/rest/file-repository/download-attachment",t,{body:e,timeoutMs:2e3,numRetries:1});if(n.error){if(n.error.detail&&typeof n.error.detail=="object"&&"error_details"in n.error.detail){if(n.error.detail.error_details==="DOWNLOADS_DISABLED")throw new AA;if(n.error.detail.error_details==="PDF_UNTRUSTED_ORIGIN")throw new Qse}throw new Error("Failed to download file",{cause:n.error})}return n.data},YDt=async({seedDirectoryRequest:e,reason:t})=>{const n="seedDirectoryWithExampleFiles";try{if((await J.POST("/rest/file-repository/seed-examples",t,{body:e,timeoutMs:$e(),numRetries:1})).response.ok)return;throw new Error("Failed to seed file repository")}catch(r){throw Q.log(`Error in ${n}:`,r),r}},Xse=e=>{const{accessLevel:t,enableWebByDefault:n,...r}=e;return{...r,access:t,enable_web_by_default:n}},iXe=async({collectionUuid:e,changes:t,reason:n})=>{const r=Xse(t),s=await J.POST("/rest/collections/edit_collection/{collection_uuid}",n,{params:{path:{collection_uuid:e}},body:r,timeoutMs:$e()});if(!s.response.ok||!s.data)throw new Error("Failed to edit collection",{cause:s.error});const a=s.data,{access:i,...o}=a;return i!==void 0?{...o,accessLevel:i}:o},y$=async({params:e,reason:t})=>{const n=Xse(e);e.template_id&&(n.template_id=e.template_id);const r=await J.POST("/rest/collections/create_collection",t,{body:n,timeoutMs:$e()});if(!r.response.ok||!r.data)throw new Error("Failed to create collection",{cause:r.error});return r.data},QDt=async({entryUUID:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/entry/convert-to-report/{entry_uuid}",t,{params:{path:{entry_uuid:e}},timeoutMs:$e()});if(r)throw new Error("Failed to convert entry to report",{cause:r});return n},XDt=async({spaceUuid:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/spaces/{space_uuid}/subscription",t,{params:{path:{space_uuid:e}},timeoutMs:$e(),numRetries:1});if(r)throw new Error("Failed to subscribe to space",{cause:r});return n},ZDt=async({spaceUuid:e,reason:t})=>{const{data:n,error:r}=await J.DELETE("/rest/spaces/{space_uuid}/subscription",t,{params:{path:{space_uuid:e}},timeoutMs:$e(),numRetries:1});if(r)throw new Error("Failed to unsubscribe from space",{cause:r});return n},oXe=async({collectionUuid:e,reason:t})=>{const{error:n}=await J.DELETE("/rest/collections/delete_collection/{collection_uuid}",t,{params:{path:{collection_uuid:e}},timeoutMs:$e(),numRetries:1});if(n)throw new Error("Failed to delete collection",{cause:n})},JDt=async({contextUUID:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/thread/mark_viewed/{context_uuid}",t,{params:{path:{context_uuid:e}},timeoutMs:$e(),numRetries:1});if(r)throw new Error("Failed to mark thread as viewed",{cause:r});return n},Zse=({reason:e,onSuccess:t})=>{const{$t:n}=K(),{openToast:r}=Yn();return lt({mutationFn:async({file_url:s})=>(await sXe({request:{file_url:s},reason:e})).file_url,onSuccess:(s,{tab_id:a})=>{t?t(s,a):window.open(s,"_blank"),r(n({defaultMessage:"Downloading file...",id:"/vA9NyIeJh"}),"success",3)},onError:s=>{s instanceof AA?r(n({defaultMessage:"Downloads are disabled for files in this organization.",id:"NfM+Ayxvc6"}),"error",8):r(n({defaultMessage:"Failed to download file",id:"RIWlU8NdpC"}),"error",3)}})},Nx=async({fileRepositoryType:e,ownerId:t,limit:n,offset:r,searchTerm:s,email:a,reason:i})=>{const[o,c]=await Promise.all([o8({request:{fileRepositoryInfo:{file_repository_type:e,owner_id:t},limit:n,offset:r,searchTerm:s,fileStates:["COMPLETE"],email:a},reason:i}),o8({request:{fileRepositoryInfo:{file_repository_type:e,owner_id:t},limit:100,offset:0,searchTerm:"",fileStates:["PROCESSING","FAILED"],email:a},reason:i})]),u=d=>({name:d.filename,file_uuid:d.file_uuid,file_s3_url:d.file_s3_url??"",file_title:d.file_title,file_description:d.file_description,uploadedBy:d.uploaded_by,state:d.file_state,size:d.file_size??0,date:new Date(d.time_created).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"}),error:d.error??void 0,isOptimistic:!1});if(o||c){const d=o?.files?.map(u)||[],h=c?.files?.map(u)||[];return{completedFiles:d,processingFiles:h.filter(m=>m.state==="PROCESSING"),failedFiles:h.filter(m=>m.state==="FAILED"),numTotalFiles:o?.numTotalFiles||0,userUploadedFileCount:o?.userUploadedFileCount||0}}return{completedFiles:[],processingFiles:[],failedFiles:[],numTotalFiles:0,userUploadedFileCount:0}},lXe=({fileRepositoryType:e,limit:t,offset:n,searchTerm:r,ownerId:s,reason:a})=>{const i=ot(),c=Dt()?.user?.email??"",{isEnterprise:u}=Gt({reason:a}),d=!!(e==="COLLECTION"&&s||e==="ORG"&&u),h=r3(e,s,t,n,r),m=at({queryKey:h,queryFn:()=>d?Nx({fileRepositoryType:e,ownerId:s,limit:t,offset:n,searchTerm:r,email:c,reason:a}):Promise.reject(),enabled:d,placeholderData:G0,staleTime:5*60*1e3,gcTime:10*60*1e3});return f.useEffect(()=>{d&&(m.data?.numTotalFiles??0)>n+t&&i.prefetchQuery({queryKey:h,queryFn:()=>Nx({fileRepositoryType:e,ownerId:s,limit:t,offset:n+t,searchTerm:r,email:c,reason:a}),staleTime:5*60*1e3,gcTime:10*60*1e3})},[h,d,i,e,t,n,r,m.data?.numTotalFiles,c,s,a]),m},cXe=({fileRepositoryType:e,limit:t,searchTerm:n,ownerId:r,reason:s})=>{const i=Dt()?.user?.email??"",{isEnterprise:o}=Gt({reason:s}),c=!!(e==="COLLECTION"&&r||e==="ORG"&&o),u=r3(e,r,t,void 0,n,!0);return Nc({enabled:c,initialPageParam:0,queryKey:u,queryFn:({pageParam:h})=>!c||h===void 0?Promise.reject():Nx({fileRepositoryType:e,ownerId:r,limit:t,offset:h,searchTerm:n,email:i,reason:s}),getNextPageParam:(h,m)=>{const g=m.length*t+t;if(!(g>=h.numTotalFiles))return g}})},eFt=({fileRepoInfo:e,offset:t,setOffset:n,searchTerm:r,reason:s})=>{const a=e.file_repository_type,i=e.owner_id,{data:o,isLoading:c}=lXe({fileRepositoryType:a,limit:_a,offset:t,searchTerm:r,ownerId:i,reason:s}),{completedFiles:u,processingFiles:d,failedFiles:h,totalFiles:m,userUploadedFileCount:p}=f.useMemo(()=>({completedFiles:o?.completedFiles||[],processingFiles:o?.processingFiles||[],failedFiles:o?.failedFiles||[],totalFiles:o?.numTotalFiles??0,userUploadedFileCount:o?.userUploadedFileCount??0}),[o]),g=t>0,v=m>t+_a,y=Math.floor(t/_a)+1,x=Math.max(1,Math.ceil(m/_a)),b=f.useCallback(()=>{g&&n(Math.max(0,t-_a))},[g,t,n]),w=f.useCallback(()=>{v&&n(t+_a)},[v,t,n]);return f.useMemo(()=>({completedFiles:u,processingFiles:d,failedFiles:h,totalFiles:m,isLoadingFileDirectory:c,hasPreviousPage:g,hasNextPage:v,searchTerm:r,offset:t,currentPage:y,totalPages:x,setOffset:n,handlePrevPage:b,handleNextPage:w,userUploadedFileCount:p}),[u,y,h,w,b,v,g,c,t,d,r,n,m,x,p])},uXe=({fileRepoInfo:e,searchTerm:t,limit:n=_a,reason:r})=>{const s=e.file_repository_type,a=e.owner_id,{data:i,isLoading:o,hasNextPage:c,fetchNextPage:u}=cXe({fileRepositoryType:s,limit:n,searchTerm:t,ownerId:a,reason:r}),{completedFiles:d,processingFiles:h,failedFiles:m,totalFiles:p,userUploadedFileCount:g}=f.useMemo(()=>{const v=i?i.pages[i.pages.length-1]:null;return{completedFiles:i?.pages.map(y=>y.completedFiles).flat()||[],processingFiles:i?.pages.map(y=>y.processingFiles).flat()||[],failedFiles:i?.pages.map(y=>y.failedFiles).flat()||[],totalFiles:v?.numTotalFiles??0,userUploadedFileCount:v?.userUploadedFileCount??0}},[i]);return f.useMemo(()=>({completedFiles:d,processingFiles:h,failedFiles:m,totalFiles:p,isLoading:o,hasNextPage:c,searchTerm:t,fetchNextPage:u,userUploadedFileCount:g}),[d,m,u,c,o,h,t,p,g])},Cd=({reason:e,collectionSlugOverride:t})=>{const n=Lt(),r=Cl(),{firstResult:{collection_info:{uuid:s}={}}={}}=fr(),a=n?.includes("/search/")&&!!s,i=t??(Array.isArray(r?.slug)?r.slug[0]:r?.slug),{collection:o}=_d({collectionSlug:i,reason:e}),c=f.useMemo(()=>{let u,d;return a?(u="COLLECTION",d=s??""):n?.includes("/collections")||n?.includes("/spaces")?(u="COLLECTION",d=o?.uuid||""):(u="ORG",d=""),{file_repository_type:u,owner_id:d}},[a,n,s,o?.uuid]);return f.useMemo(()=>({fileRepoInfo:c}),[c])},Jse=({fileRepositoryType:e,offset:t,searchTerm:n,ownerId:r,reason:s})=>{const{$t:a}=K(),i=ot(),o=Cl(),{openToast:c}=Yn(),u=Dt(),{isEnterprise:d}=Gt({reason:s}),h=u?.user?.email,m=bl(),p=r3(e,r,_a,t,n),g=cA(r),v=Array.isArray(o?.slug)?o.slug[0]:o?.slug,y=v?aA(v):void 0;return lt({mutationFn:async x=>rXe({request:{file_uuids:x,file_repository_info:{file_repository_type:e,owner_id:r}},reason:s}),onMutate:async x=>{await i.cancelQueries({queryKey:p});const b=i.getQueryData(p);return b&&i.setQueryData(p,w=>({...w,completedFiles:w.completedFiles.filter(_=>!x.includes(_.file_uuid)),processingFiles:w.processingFiles.filter(_=>!x.includes(_.file_uuid)),failedFiles:w.failedFiles.filter(_=>!x.includes(_.file_uuid)),numTotalFiles:Math.max((w.numTotalFiles||0)-x.length,0),userUploadedFileCount:Math.max((w.userUploadedFileCount??0)-w.completedFiles.filter(_=>x.includes(_.file_uuid)&&_.uploadedBy===h).length,0)})),{previousData:b}},onSuccess:()=>{d&&i.invalidateQueries({queryKey:m}),i.invalidateQueries({queryKey:p}),v&&i.invalidateQueries({queryKey:y}),i.invalidateQueries({queryKey:g})},onError:(x,b,w)=>{w?.previousData&&i.setQueryData(p,w.previousData),c(a({defaultMessage:"Failed to delete file",id:"aJlra1/tgY"}),"error",3)}})},dXe=({fileRepoInfo:e,reason:t})=>{const n=ot(),r=Cl(),s=bl(),a=Array.isArray(r?.slug)?r.slug[0]:r?.slug,i=a?aA(a):void 0,o=r3(e.file_repository_type,e.owner_id,_a,0,""),c=["list_file_directory",e.file_repository_type,e.owner_id];return lt({mutationFn:async u=>{await RA({request:{file_repository_info:e,file_index_params:[{file_s3_url:u.file_s3_url,file_size:u.size,filename:u.name,file_uuid:u.file_uuid,replace_existing:!0}]},reason:t})},onMutate:async u=>{await n.cancelQueries({queryKey:o});const d={...u,state:"PROCESSING",error:void 0};return n.setQueriesData({queryKey:o},h=>{if(!h)return h;const m=h.completedFiles.filter(v=>v.name!==d.name),p=h.failedFiles.filter(v=>v.file_uuid!==d.file_uuid),g=[...h.processingFiles||[],d];return{...h,completedFiles:m,processingFiles:g,failedFiles:p}}),d},onSettled:()=>{n.invalidateQueries({queryKey:c}),e.file_repository_type==="ORG"&&n.invalidateQueries({queryKey:s}),a&&n.invalidateQueries({queryKey:i})}})},eae=/(\[\d{1,3}\])/,fXe=/(\[\d{1,3},\s*\{ts:.*\}\])/,u3=new RegExp(eae.source+"|"+fXe.source),tFt=(e,t)=>{if(u3.test(e))if(eae.test(e)){const n=parseInt(e.substring(1,e.length-1))-1,r=t?.[n]??null;return r||void 0}else{const n=e.indexOf(","),r=parseInt(e.substring(1,n))-1,s=t?.[r]??null;if(!s)return;if(!s.url){Q.warn("[parseCitation] web_result has no url",{web_result:s});return}return s.url=hXe(s.url,e),s}},hXe=(e,t)=>{const n=e.split("&")[0],r=t.indexOf(":");if(r===-1)return n;const s=t.indexOf("}"),a=t.substring(r+1,s);return n+`&t=${a}`},nFt=e=>e?.[0]?.article_info?.is_live;function rFt(e){return e.length==1&&e[0]?.article_info?.is_auto_generated}function mXe(e,t){return e.startsWith("http")?e:t?`/discover/${t}/${e}`:`/page/${e}`}const jA=e=>e?.toLowerCase(),b2=e=>jA(e.status)==="pending",sFt=e=>jA(e.status)==="staged",aFt=e=>jA(e.status)==="completed",pXe=e=>e.find(t=>b2(t)&&t.backend_uuid),gXe=e=>{const t=Mn.legacyParseBackendOutputStr(e);return t?t.answer.replace(u3,""):null},iFt=e=>{const t=e.mode==="article"?"/page":"/search";return{title:e.title??"",preview:gXe(e.first_answer),threadCount:e.query_count,lastUpdated:e.last_query_datetime,href:`${t}/${e.slug}`,rwToken:e.read_write_token,focus:e.search_focus??"internet",entryUUID:e.uuid,contextUUID:e.context_uuid,copilot:e.mode==="copilot",socialInfo:e.social_info,collectionUUID:e.collection?.uuid??null,authorImage:e.author_image??null,featuredImage:e?.featured_images?.[0]?.image??null,thumbnailImage:e?.featured_images?.[0]?.thumbnail??null,threadAccess:e.thread_access,collection:e.collection,mode:e.mode,expiry:e.expiry_time,source:e?.source??null,displayModel:e.display_model}},oFt=(e,t)=>({title:e.title??"",summary:e.summary??"",description:e.description??"",href:mXe(e.slug,t),backendUUID:e.uuid,collectionUUID:e.collection?.uuid??null,authorImage:e.author_image??null,authorUsername:e.author_username??null,featuredImage:e?.featured_images?.[0]?.image??null,collection:e.collection,socialInfo:e.social_info,feedbackState:e.feedback_state,supportedFeedbacks:e.supported_feedbacks,accessLevel:e.access??e.thread_access,preview:e.description.replace(u3,""),offset:e.hero_offset,entryUUID:e.uuid,rwToken:e.read_write_token,lastUpdated:e.last_query_datetime,threadAccess:e.access,thumbnailImage:e?.featured_images?.[0]?.thumbnail??null,contextUUID:e.context_uuid,webResults:e.web_results_preview,feedUUID:e.feed_uuid}),vXe={gpt4_limit:"gpt4Limit",gpt4_total:"gpt4Total",opus_limit:"opusLimit",pages_limit:"pagesLimit",upload_limit:"uploadLimit",article_image_upload_limit:"articleImageUploadLimit",max_files_per_user:"maxFilesPerUser",max_files_per_repository:"maxFilesPerRepository",default_image_generation_model:"defaultImageGenerationModel",query_count:"queryCount",query_count_copilot:"queryCountCopilot",query_count_mobile:"queryCountMobile",has_ai_profile:"hasAiProfile",referral_code:"referralCode",referral_num_success:"referralNumSuccess",disable_training:"disableTraining",is_sidebar_collapsed:"isSidebarCollapsed",is_sidebar_pinned:"isSidebarPinned",sidebar_hidden_hubs:"sidebarHiddenHubs",subscription_tier:"subscriptionTier",create_limit:"createLimit",notif_status:"notifStatus",email_status:"emailStatus",allow_article_creation:"allowArticleCreation",is_verified:"isVerified"};function yXe(e){return e||{connectors:[]}}const x$=e=>({hasLoadedSettings:!0,gpt4Limit:e?.gpt4_limit??0,gpt4Total:e?.gpt4_total??0,pplxAlphaLimit:e?.pplx_alpha_limit??0,pplxBetaLimit:e?.pplx_beta_limit??0,pagesLimit:e?.pages_limit??0,uploadLimit:e?.upload_limit??0,defaultImageGenerationModel:e?.default_image_generation_model??"default",articleImageUploadLimit:e?.article_image_upload_limit??0,maxFilesPerUser:e?.max_files_per_user??0,maxFilesPerRepository:e?.max_files_per_repository??0,queryCount:e?.query_count??0,queryCountCopilot:e?.query_count_copilot??0,queryCountMobile:e?.query_count_mobile??0,hasAiProfile:e?.has_ai_profile??!1,referralCode:e?.referral_code??"",referralNumSuccess:e?.referral_num_success??0,disableTraining:e?.disable_training??!1,isSidebarCollapsed:e?.is_sidebar_collapsed??!1,isSidebarPinned:e?.is_sidebar_pinned??!1,sidebarHiddenHubs:e?.sidebar_hidden_hubs??[],subscriptionTier:e?.subscription_tier??e?.subscription_tier??"null",stripeStatus:e?.stripe_status??"none",revenuecatStatus:e?.revenuecat_status??"none",revenuecatSource:e?.revenuecat_source??"none",createLimit:e?.create_limit??0,notifStatus:e?.notif_status??"daily",emailStatus:e?.email_status??"daily",hasDataRetentionWarning:e?.has_data_retention_warning??!1,allowArticleCreation:e?.allow_article_creation??!1,isVerified:e?.is_verified??!1,connectors:yXe(e?.connectors),connectorLimits:e?.connector_limits??{global_file_count:void 0,repo_type_limits:{},max_file_size_mb:void 0,max_attachment_file_size_mb:void 0}});function xXe(e,t){return e?e.place_widget_block&&t.place_widget_block?{...t,place_widget_block:{...e.place_widget_block,review_summary:t.place_widget_block.review_summary}}:e.shopping_widget_block&&t.shopping_widget_block?{...t,shopping_widget_block:{...e.shopping_widget_block,review_summary:t.shopping_widget_block.review_summary}}:t:t}const PA=async({reason:e})=>{try{const{error:t,data:n}=await J.GET("/rest/user/subscription/refresh",e,{timeoutMs:$e(),headers:{"X-Perplexity-CSRF-Protection":"1"}});if(t)throw new Me("API_CLIENTS_ERROR",{message:"Failed to refresh subscription status",cause:t});return n}catch(t){return Q.error(t),null}},tae={has_profile:!1,disabled:!1,bio:"",location:"",response_language:"",location_lng:"",location_lat:"",use_memory:!1,use_search_history:!1,language:""},bXe=async({headers:e,reason:t})=>{try{const{error:n,data:r}=await J.GET("/rest/user/get_user_ai_profile",t,{timeoutMs:1500,numRetries:sm,headers:e});if(n||!r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get user profile",cause:n});return r}catch(n){return Q.error(n),tae}},wXe=async({headers:e,reason:t})=>{try{const{error:n,data:r}=await J.GET("/rest/user/settings",t,{timeoutMs:1500,numRetries:sm,headers:e});if(n||!r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get user settings",cause:n});return x$(r)}catch(n){return Q.error(n),x$({})}},lFt=async({amount:e,headers:t,reason:n})=>{try{const{error:r,data:s}=await J.GET("/rest/shopping/user-discount-offer",n,{params:{query:{amount_micros:e}},headers:t});if(r||!s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch user discount offer",cause:r});return s}catch(r){return Q.error(r),{}}},_Xe=async({settings:e,reason:t})=>{const{error:n}=await J.PUT("/rest/user/save-settings",t,{body:{updated_settings:e},timeoutMs:$e(),numRetries:1});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to save user settings",cause:n});return{status:"success"}},CXe=async({reason:e})=>{const{error:t,data:n}=await J.GET("/rest/user/previous-subscription",e,{timeoutMs:3e3,numRetries:1});if(t)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get user previous subscription",cause:t});return n},SXe=async({filters:e,skipToken:t,reason:n})=>{const{error:r,data:s}=await J.POST("/rest/connectors/sharepoint/sites",n,{body:{filters:e,skip_token:t},timeoutMs:$e({productionMs:500}),numRetries:1});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch sharepoint sites",cause:r});return{sites:s.sites,skipToken:s.skip_token}},EXe=()=>{const e=en("isCollapsed"),{isWindowsApp:t}=Nt();return e===null?t:e==="true"},Da=({enabled:e,reason:t})=>{const{locale:n}=K(),r=n?{"accept-language":n}:{},s=async()=>wXe({headers:r,reason:t}),a=ut(),i=EXe(),{data:o}=at({enabled:a?typeof e>"u"?!0:e:!1,queryKey:sA(),queryFn:s,networkMode:"always"});return f.useEffect(()=>{o&&FHe({queryCount:o.queryCount,queryCountCopilot:o.queryCountCopilot,queryCountMobile:o.queryCountMobile})},[o]),o?{...o,isSidebarCollapsed:i}:{hasLoadedSettings:!1,gpt4Limit:void 0,gpt4Total:void 0,pplxAlphaLimit:void 0,pplxBetaLimit:void 0,pagesLimit:0,uploadLimit:0,articleImageUploadLimit:0,defaultImageGenerationModel:"default",queryCount:void 0,queryCountCopilot:void 0,queryCountMobile:void 0,hasAiProfile:!1,referralCode:void 0,referralNumSuccess:void 0,disableTraining:!1,defaultCopilot:!1,isSidebarCollapsed:i,subscriptionTier:void 0,stripeStatus:"none",revenuecatStatus:"none",revenuecatSource:"none",createLimit:0,notifStatus:void 0,emailStatus:void 0,hasDataRetentionWarning:!1,allowArticleCreation:!1,connectors:{connectors:je},connectorLimits:{global_file_count:void 0,repo_type_limits:{},max_file_size_mb:void 0,max_attachment_file_size_mb:void 0}}},b$=10,kXe=async(e,t)=>{const s=new FormData;Object.entries(t.fields).forEach(([i,o])=>{s.append(i,o)}),s.append("file",e);let a=null;for(let i=0;i<1;i++)try{i>0&&await new Promise(c=>setTimeout(c,2e3));const o=await fetch(t.s3_bucket_url,{method:"POST",body:s});if(!o.ok)throw new Error(`HTTP error ${o.status}: ${o.statusText}`);return}catch(o){a=o instanceof Error?o:new Error(String(o))}throw new Error(`UPLOAD_FAILED after 1 attempts: ${a?.message||"Unknown error"}`)},nae=({fileRepoInfo:e,setTotalFilesUploading:t,replaceExisting:n,reason:r,onLocalFileUploadSuccess:s})=>{const{$t:a}=K(),i=ot(),o=bl(),c=Cl(),u=Array.isArray(c?.slug)?c.slug[0]:c?.slug,d=u?aA(u):void 0,{openToast:h}=Yn(),p=Dt()?.user?.email??"",g=Da({reason:r}),v=["list_file_directory",e.file_repository_type,e.owner_id];return lt({mutationFn:async y=>{t(y.length);for(let x=0;x<y.length;x+=b$){const b=y.slice(x,x+b$),w=await GQe({request:{file_upload_params:b.map(k=>({filename:k.name,content_type:k.type,file_size:k.size})),file_repository_info:e},reason:r}),_=w.limits_reached[0];if(_==="FILE_REPOSITORY_LIMIT_EXCEEDED"){const k=g.maxFilesPerRepository;h(a({defaultMessage:"You have reached the file limit of {limit} files per repository.",id:"J0uyf2gB1u"},{limit:k}),"error",3);break}else if(_==="USER_FILE_LIMIT_EXCEEDED"){const k=g.maxFilesPerUser;h(a({defaultMessage:"You have reached the file limit of {limit} files.",id:"ZJfpzjWjp1"},{limit:k}),"error",3);break}const S=(await Promise.allSettled(w.file_url_params.map((k,E)=>({fileUploadUrlInfo:k,file:b[E]})).filter(({fileUploadUrlInfo:k})=>k!==null).map(async({fileUploadUrlInfo:k,file:E})=>{try{return await kXe(E,k),{file_s3_url:k.s3_object_url,filename:E.name,file_size:E.size,file_uuid:k.file_uuid,replace_existing:n}}catch(M){throw h(a({defaultMessage:"Failed to upload file",id:"x2gE8tKhMn"}),"error",3),M}}))).filter(k=>k.status==="fulfilled").map(k=>k.value);if(S.length>0&&await RA({request:{file_repository_info:e,file_index_params:S},reason:r}),w.limits_reached.length>0)break}},onMutate:async y=>{await i.cancelQueries({queryKey:v});const x=i.getQueryData(v),b=y.map(w=>({name:w.name,file_s3_url:"",file_title:null,file_description:null,file_uuid:Hr(),uploadedBy:p,state:"PROCESSING",size:w.size,date:new Date().toLocaleString(),isOptimistic:!0}));return i.setQueriesData({queryKey:v},w=>w&&{...w,processingFiles:[...w.processingFiles||[],...b]}),{previousData:x,optimisticFiles:b,uploadedFilesCount:y.length}},onError:(y,x,b)=>{h(a({defaultMessage:"Failed to upload file",id:"x2gE8tKhMn"}),"error",3),b?.previousData&&i.setQueriesData({queryKey:v},b.previousData)},onSettled:()=>{i.invalidateQueries({queryKey:v}),e.file_repository_type==="ORG"&&i.invalidateQueries({queryKey:o}),u&&i.invalidateQueries({queryKey:d})},onSuccess:()=>{s?.()}})},MXe=({reason:e,onLocalFileUploadSuccess:t,collectionSlugOverride:n})=>{const r=ot(),{fileRepoInfo:s}=Cd({reason:e,collectionSlugOverride:n}),[a,i]=f.useState(0),[o,c]=f.useState(""),[u,d]=f.useState(0),{mutate:h}=nae({fileRepoInfo:s,setTotalFilesUploading:d,reason:e,onLocalFileUploadSuccess:t}),{mutate:m}=Jse({fileRepositoryType:s.file_repository_type,offset:a,searchTerm:o,ownerId:s.owner_id,reason:e}),{mutate:p}=dXe({fileRepoInfo:s,reason:e}),g=f.useCallback(b=>{m(b),u>0&&d(u-b.length)},[m,u]),v=f.useCallback(b=>{d(w=>w+1),p(b)},[p]),y=f.useCallback(b=>{r.setQueryData(["list_file_directory",s.file_repository_type,s.owner_id,_a,a,o],w=>({...w,processingFiles:[],failedFiles:[],numTotalFiles:Math.max(0,(w?.numTotalFiles??0)-b.length)})),m(b.map(w=>w.file_uuid))},[s.file_repository_type,s.owner_id,a,o,r,m]),x=f.useCallback(async b=>{const w=[],_=async C=>{if(C.isFile){const S=await new Promise(k=>C.file(k));S.type!==""&&w.push(S)}else if(C.isDirectory){const S=C.createReader(),k=await new Promise(E=>S.readEntries(E));await Promise.all(k.map(_))}};b instanceof FileList?Array.from(b).forEach(C=>w.push(C)):await Promise.all(Array.from(b).map(async C=>{if(C.kind==="file"){const S=C.webkitGetAsEntry();S&&await _(S)}})),w.length>0&&h(w)},[h]);return f.useMemo(()=>({offset:a,setOffset:i,searchTerm:o,setSearchTerm:c,totalFilesUploading:u,setTotalFilesUploading:d,handleRemoveFiles:g,handleReplaceExistingFile:v,handleClearAllFiles:y,handleFileSelect:x}),[y,x,g,v,a,o,u])},cFt=async({collectionUUID:e,reason:t})=>{const n=await J.POST("/rest/spaces/bookmarks",t,{body:{collection_uuid:e},timeoutMs:$e(),numRetries:0}),r=n.data;if(!n.response.ok||!r)throw new Error("Failed to create space bookmark");return r},uFt=async({query:e,reason:t})=>{const{data:n,error:r}=await J.GET("/rest/spaces/bookmarks",t,{params:{query:e}});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list bookmarked spaces",cause:r});return n},rae=async({params:e,reason:t})=>{const n=await J.GET("/rest/spaces",t,{params:{query:{limit:e.limit,offset:e.offset,category:e.category,version:Ac}},timeoutMs:$e()});if(n.error)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list spaces",cause:n.error});return n.data},TXe=async({reason:e})=>{const t=await J.GET("/rest/spaces/mentions",e,{timeoutMs:$e()});if(t.error)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list at mention spaces",cause:t.error});return t.data},dFt=async({collectionUUID:e,reason:t})=>{const n=await J.POST("/rest/spaces/org/pins",t,{body:{collection_uuid:e},timeoutMs:$e(),numRetries:0}),r=n.data;if(!n.response.ok||!r)throw new Error("Failed to create org pinned space");return r},fFt=async({query:e,reason:t})=>{const{data:n,error:r}=await J.GET("/rest/spaces/org/pins",t,{params:{query:e},timeoutMs:$e()});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list org pinned spaces",cause:r});return n},hFt=async({spaceUuid:e,reason:t})=>{const n=await J.GET("/rest/spaces/{space_uuid}/subscription",t,{params:{path:{space_uuid:e}},timeoutMs:$e(),numRetries:1}),r=n.data;if(!n.response.ok||!r)throw new Error("Failed to get space subscription status");return r.subscribed},NXe=async({reason:e})=>{const t=await J.GET("/rest/collections/list_space_templates",e,{timeoutMs:$e(),numRetries:1});if(t.error)throw new Me("API_CLIENTS_ERROR",{message:"Failed to list space templates",cause:t.error});return t.data},RXe=async({slugOrUUID:e,headers:t,reason:n})=>{const{data:r,error:s}=await J.GET("/rest/article/{article_uuid_or_slug}",n,{params:{path:{article_uuid_or_slug:e}},headers:t,timeoutMs:$e({productionMs:3e3}),numRetries:1});if(s)throw new Me("API_CLIENTS_ERROR",{cause:s});if(r.status!=="success")throw new Me("API_CLIENTS_ERROR",{cause:r});return r.entries},mFt=async({articleUUID:e,reason:t})=>{const{data:n,error:r}=await J.GET("/rest/page/get_related_pages",t,{params:{query:{context_uuid:e}},numRetries:1});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r});if(n.status!=="success")throw new Me("API_CLIENTS_ERROR",{cause:n});return n.related_pages},w$=e=>e.length>0&&e[0].article_info?{title:e[0].article_info.title||"",suggested_sections:e[0].article_info.suggested_sections||[],audience:e[0].article_info.audience||"anyone",read_time:e[0].article_info.read_time,emphasize_sources:e[0].article_info.emphasize_sources??!1,num_sections:e.length,should_index:e[0].should_index??!1}:null,AXe={article:[],heroSection:void 0,isLoading:!1,isPublished:!1,isOrgInternal:!1,inFlight:!1,inFlightLatest:!1,currentlyStreamingSection:void 0,socialStats:{forkCount:0,likeCount:0,viewCount:0,userLikes:!1},threadMetadata:{rwToken:void 0,contextUUID:void 0,frontendContextUUID:void 0,title:void 0,first_query:void 0,focus:void 0,author_id:void 0,author_username:void 0,author_image:void 0,parent_info:void 0,mode:void 0,personalized:!1,collection:void 0,thread_access:0,thread_url_slug:void 0,updated_datetime:void 0,expiry_time:void 0,privacy_state:ox.NONE},articleMetadata:{title:"",suggested_sections:[],audience:"anyone",read_time:0,emphasize_sources:!1,num_sections:0,should_index:!1},articleMedia:[],articleWebResults:[],relatedPages:[],articleLocalState:{isEditModeEnabled:!1,setEditModeEnabled:()=>{},isCreating:!1,setIsCreating:()=>{},isTitleVisible:!0,setTitleVisible:()=>{},clickedImage:null,setClickedImage:()=>{},clickedImageIndex:0,isRewritingSection:!1,setRewritingSection:()=>{}},refetch:()=>{}},sae=f.createContext(AXe),jXe=T.memo(({relatedPages:e=je,children:t,slug:n})=>{const r="article-results-provider",[s,a]=f.useState(!1),[i,o]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(!0),[m,p]=f.useState(!1),{isEnterprise:g}=Gt({reason:r}),v=ot(),x=An()?.get("newFrontendContextUUID"),[b,w]=f.useState(v.getQueryData(GB(n||"")));f.useEffect(()=>{if(x){w(x);return}const W=v.getQueryData(GB(n||""));w(W)},[x,v,n]);const{data:_,isLoading:C}=at({enabled:!!n&&n!=="new",queryKey:oA(b||""),queryFn:()=>RXe({slugOrUUID:n,reason:r}),refetchOnMount:!0,placeholderData:G0}),S=f.useMemo(()=>{if(_)return{inFlight:_.some(b2),inFlightLatest:_.length>0&&b2(_[_.length-1])}},[_]),k=S?.inFlight??!1,E=S?.inFlightLatest??!1,M=f.useMemo(()=>{if(_)return pXe(_)},[_]),N=f.useMemo(()=>{if(!_||_.length===0)return null;const W=_[0];if(b2(W))return null;const X=W.social_info;return i8(X||Vse)},[_]),R=f.useMemo(()=>!_||_.length===0?x2():x2(_[0]),[_]),A=f.useMemo(()=>_?w$(_):null,[_]),P=f.useMemo(()=>{const W=[];return _?.forEach(X=>{if(X.article_info.layout==="media-only"){const ne=(X.article_info.user_selected_media_items??[])?.filter(V=>V.medium==="image");W.push(...ne)}else{const ee=X?.media_items??[],ne=X?.featured_images??[];X.article_info.layout!=="text"&&(ne.length>0&&ne[0].medium==="image"?W.push(ne[0]):ee.length>0&&ee[0].medium==="image"&&W.push(ee[0]))}}),W},[_]),O=f.useMemo(()=>{if(!c)return 0;const W=P.findIndex(X=>X?.image===c?.image);return W>-1?W:0},[c,P]),I=f.useMemo(()=>{const W=new Map;return!_||_.length===0?[]:(_?.forEach(X=>{const ee=Mn.parseAskTextField(X);ee?.web_results&&ee.web_results.forEach(ne=>{W.has(ne.url)?W.get(ne.url).count+=1:W.set(ne.url,{...ne,count:1})})}),Array.from(W.values()).sort((X,ee)=>ee.count-X.count).map(X=>({...X,count:void 0})))},[_]),L={isEditModeEnabled:s,setEditModeEnabled:a,isTitleVisible:d,setTitleVisible:h,isCreating:i,setIsCreating:o,clickedImage:c,setClickedImage:u,clickedImageIndex:O,isRewritingSection:m,setRewritingSection:p},F=R??x2(),D=g&&!!F.collection&&F.thread_access===mt.COLLECTION_READ,B=!!g&&F.thread_access===mt.ORG_READ,$=D||B||F.thread_access===mt.PUBLIC_READ;return l.jsx(sae.Provider,{value:{article:_??[],isLoading:C,heroSection:_?.[0],lastSection:_?.[_.length-1],socialStats:N,isPublished:$,isOrgInternal:B,inFlight:k,inFlightLatest:E,currentlyStreamingSection:M,threadMetadata:F,articleMetadata:A??w$([]),articleLocalState:L,articleMedia:P,articleWebResults:I,relatedPages:e},children:t})});jXe.displayName="ArticleResultsProvider";const aae=()=>{const e=f.useContext(sae);if(!e)throw new Error("useArticleResults must be used within ArticleResultsContext");return e},l8=10,_$=["invited","private","shared","saved","organization"];function cf(e){return["spaces","list",e]}function uf(){return["spaces","list","all"]}const PXe=({reason:e})=>{const t=ot(),{data:n,isLoading:r}=at({queryKey:uf(),queryFn:()=>rae({params:{offset:0,limit:l8,category:void 0},reason:e})});return f.useEffect(()=>{n&&(n.private_spaces&&t.setQueryData(cf("private"),s=>({...s,pages:[n.private_spaces||[]],pageParams:[0]})),n.shared_spaces&&t.setQueryData(cf("shared"),s=>({...s,pages:[n.shared_spaces||[]],pageParams:[0]})),n.saved_spaces&&t.setQueryData(cf("saved"),s=>({...s,pages:[n.saved_spaces||[]],pageParams:[0]})),n.organization_spaces&&t.setQueryData(cf("organization"),s=>({...s,pages:[n.organization_spaces||[]],pageParams:[0]})),n.invited_spaces&&t.setQueryData(cf("invited"),s=>({...s,pages:[n.invited_spaces||[]],pageParams:[0]})))},[n,t]),f.useMemo(()=>({data:n,isLoading:r}),[n,r])},IXe=({category:e,reason:t})=>Nc({queryKey:cf(e),queryFn:async({pageParam:n})=>{const r=await rae({params:{offset:n,limit:l8,category:e},reason:t});switch(e){case"private":return r.private_spaces;case"shared":return r.shared_spaces;case"saved":return r.saved_spaces;case"organization":return r.organization_spaces;case"invited":return r.invited_spaces;default:throw new Error("Invalid category")}},enabled:!1,getNextPageParam:(n,r,s)=>(s??0)+l8,initialPageParam:0}),IA={searchTerm:"",updateUserInput:e=>{}},iae=f.createContext(IA),OXe=({children:e})=>{const[t,n]=f.useState(IA),r=a=>{n(i=>({...i,...a}))},s=f.useMemo(()=>({...t,updateUserInput:r}),[t.searchTerm]);return l.jsx(iae.Provider,{value:s,children:e})},OA=()=>{const e=f.useContext(iae);return e||IA},df="recentCollections",oae=({reason:e})=>{const t=ha({reason:e}),{inFlightLatest:n}=fr(),s=Dt()?.user?.email,{data:a,refetch:i}=at({queryKey:[df,s],queryFn:async()=>s?await LQe({reason:e}):[],enabled:!t&&!!s,refetchOnMount:!1,refetchOnWindowFocus:!1,initialData:null});return f.useEffect(()=>{n||i({cancelRefetch:!1})},[n,i]),f.useMemo(()=>!s||t?{data:[]}:{data:a},[a,s,t])},pFt=(e,t)=>e&&e[0]?.has_next_page?t.length+1:void 0,LXe=(e,t)=>e.getQueryData(["results"])?.find(r=>r.frontend_context_uuid===t)?.collection_info,DXe=(e,t)=>e.getQueryData(oA(t))?.find(r=>r.frontend_context_uuid===t)?.collection_info,FXe=(e,t,n)=>{e.setQueryData(oA(t),r=>r&&r.map(n))},UXe=[mt.OWNER_ONLY,mt.PRIVATE_READ,mt.COLLECTION_READ],C$=(e,t,n,r,s)=>{const{entryUUID:a,frontendContextUUID:i,newCollectionUUID:o,newCollectionTitle:c,newCollectionEmoji:u,newCollectionSlug:d,newCollectionAccess:h,newCollectionUserPermission:m}=t,p={collection_info:{uuid:o,title:c,emoji:u,slug:d,access:h,user_permission:m},bookmark_state:"BOOKMARKED"};i&&(s(g=>g?g.map(v=>v.frontend_context_uuid===i?{...v,...p}:v):[]),e.setQueryData([r,{frontend_context_uuid:i}],g=>g?g.map(v=>v.frontend_context_uuid===i?{...v,...p}:v):[])),e.setQueryData(n,g=>{g=g||{pages:[],pageParams:[]};const v=g.pages.map(y=>y.map(x=>x.uuid===a?{...x,collection:{...x.collection,...p.collection_info}}:x));return{...g,pages:v}})},d3=({reason:e})=>{const{searchTerm:t}=OA(),n=ot(),{isEnterprise:r}=Gt({reason:e}),{threadMetadata:s}=aae(),a=lm(),i=Lt();let o="results";const c=[Hu,{search_term:t??""}],u=[Hu,{search_term:t??""}];let d=c,h=Tqe,m=LXe;const p=TA();let g=f.useCallback((A,P,O)=>{p(I=>I&&I.map(O))},[p]);(i?.startsWith("/page")||i?.startsWith("/discover"))&&(o="articleResults",d=u,h=Nqe,m=DXe,g=FXe);const v=f.useCallback(A=>{const P=!a&&!s?.rwToken;!r||P||p(O=>{if(O)return O.map(I=>{let L=!1,F=mt.PRIVATE_READ;return A==="add"?(L=UXe.includes(I.thread_access??null),F=Mn.isArticleMode(I)?mt.PRIVATE_READ:mt.COLLECTION_READ):(L=I.thread_access!==mt.COLLECTION_READ,F=mt.PRIVATE_READ),{...I,thread_access:L?I.thread_access:F}})})},[a,s?.rwToken,r,p]),{mutate:y}=lt({mutationFn:async({title:A,description:P,emoji:O,instructions:I,accessLevel:L,existingCollection:F,enableWebByDefault:D,closeModal:B})=>(B(),iXe({collectionUuid:F.uuid,changes:{title:A,description:P,emoji:O,instructions:I,accessLevel:L,enableWebByDefault:D},reason:e})),onMutate:async A=>{const I=["get_collection",{collection_slug:A.existingCollection.slug.slice(-22)}];await n.cancelQueries({queryKey:I});const L=n.getQueryData(I);return n.setQueryData(I,F=>({...F,title:A.title,description:A.description,emoji:A.emoji,instructions:A.instructions,access:A.accessLevel,enable_web_by_default:A.enableWebByDefault})),{previousCollection:L}},onSettled:(A,P,O,I)=>{const F=["get_collection",{collection_slug:O.existingCollection.slug.slice(-22)}];P?n.setQueryData(F,I?.previousCollection):(n.setQueryData(F,D=>({...D,...A})),n.setQueryData(Bt,D=>D?.pages?{...D,pages:D.pages.map(B=>B.map($=>$.uuid===O.existingCollection.uuid?{...$,...A}:$))}:D),n.invalidateQueries({queryKey:uf()}),n.invalidateQueries({queryKey:_p()}))}}),{mutate:x}=lt({mutationFn:async({accessLevel:A,collectionUuid:P})=>{await UQe({params:{collection_uuid:P,updated_access:A},reason:e})},onMutate:async A=>{const I=["get_collection",{collection_slug:A.collectionSlug.slice(-22)}];await n.cancelQueries({queryKey:I});const L=n.getQueryData(I);return n.setQueryData(I,F=>({...F,access:A.accessLevel})),{previousCollection:L}},onSettled:async(A,P,O,I)=>{if(P)n.setQueryData(Bt,I?.previousCollection);else{const L=O.collectionSlug.slice(-22);await n.invalidateQueries({queryKey:["org_pinned_spaces_query_key"]}),await n.invalidateQueries({queryKey:["get_collection",{collection_slug:L}]}),n.invalidateQueries({queryKey:uf()})}}}),{mutate:b}=lt({mutationFn:async({entryUUID:A,title:P,description:O,emoji:I,instructions:L,accessLevel:F,callback:D,frontendContextUUID:B})=>{const $=await y$({params:{title:P,description:O,emoji:I,instructions:L,accessLevel:F},reason:e});return await Kv({params:{new_collection_uuid:$.uuid,entry_uuid:A,return_collection:!1,return_thread:!1},reason:e}),D($),v("add"),{title:P,description:O,emoji:I,instructions:L,accessLevel:F,newCollection:$}},onMutate:async({entryUUID:A,frontendContextUUID:P,...O})=>{await n.cancelQueries({queryKey:d}),await n.cancelQueries({queryKey:Bt});const I=n.getQueryData(d),L=n.getQueryData(Bt);n.setQueryData(Bt,D=>{D=D||{pages:[],pageParams:[]};const B=(D&&D.pages&&D.pages[0])??[],W={...B?.length>0?B[0]:[],...O,uuid:Pl,thread_count:1};return{...D,pages:[[W,...B]]}}),n.setQueryData(d,D=>{D=D||{pages:[],pageParams:[]};const B=D.pages.map($=>$.map(W=>W.uuid===A?{...W,collection:{...W.collection,description:O.description,uuid:Pl,title:O.title,emoji:O.emoji}}:W));return{...D,pages:B}}),n.setQueryData(h(A),D=>{const B=D?.collection_info??{};return{...D,collection_info:{...B,uuid:Pl,description:O.description,title:O.title,emoji:O.emoji}}});let F=null;return P&&(F=m(n,P)??null,g(n,P,D=>D.frontend_context_uuid===P?{...D,collection_info:{...D.collection_info,uuid:Pl,title:O.title,emoji:O.emoji},bookmark_state:"BOOKMARKED"}:D)),{previousThreads:I,previousCollections:L,previousCollectionInfo:F}},onSettled:(A,P,O,I)=>{P?(n.setQueryData(d,I.previousThreads),n.setQueryData(Bt,I.previousCollections),O.frontendContextUUID&&g(n,O.frontendContextUUID,L=>L.frontend_context_uuid===O.frontendContextUUID?{...L,collection_info:I?.previousCollectionInfo??null,bookmark_state:I?.previousCollectionInfo?"BOOKMARKED":"NOT_BOOKMARKED"}:L)):(n.invalidateQueries({queryKey:d}),n.invalidateQueries({queryKey:Bt}),n.invalidateQueries({queryKey:[df]}),n.invalidateQueries({queryKey:_p()}),n.invalidateQueries({queryKey:uf()}),O.frontendContextUUID&&g(n,O.frontendContextUUID,L=>L.frontend_context_uuid===O.frontendContextUUID?{...L,collection_info:{...L.collection_info,uuid:A?.newCollection?.uuid,title:A?.newCollection?.title,emoji:A?.newCollection?.emoji,slug:A?.newCollection?.slug},bookmark_state:"BOOKMARKED"}:L))}}),{mutate:w}=lt({mutationFn:async({title:A,description:P,emoji:O,instructions:I,accessLevel:L,template_id:F,callback:D})=>{const B=await y$({params:{title:A,description:P,emoji:O,instructions:I,accessLevel:L,template_id:F},reason:e});return D(B),{collection:B}},onMutate:async({...A})=>{n.setQueryData(Bt,P=>{P=P||{pages:[],pageParams:[]};const O=P.pages[0]||[],I={...O.length>0?O[0]:{},...A,uuid:Pl,thread_count:0};return{...P,pages:[[I,...O]]}})},onSuccess:async()=>{n.refetchQueries({queryKey:Bt}),n.invalidateQueries({queryKey:[df]}),n.invalidateQueries({queryKey:_p()}),n.invalidateQueries({queryKey:uf()})}}),{mutate:_}=lt({mutationFn:async({entryUUID:A})=>{const P=await Kv({params:{entry_uuid:A,upsert_type:"bookmark",return_collection:!0,return_thread:!1},reason:e});return v("add"),P},onMutate:async({entryUUID:A,topic:P})=>{const O=n.getQueryData(Fo(P));let I;for(const L of O?.pages??[])for(const F of L.threads)if(F.uuid===A){I=F.collection;break}return n.setQueryData(Fo(P),L=>{if(L)return{pageParams:L.pageParams,pages:L.pages.map(F=>({...F,threads:F.threads.map(D=>({...D,collection:D.uuid===A?{uuid:Pl,title:"Bookmarks",emoji:"1f516",slug:Pl}:D.collection}))}))}}),{previousCollection:I}},onSettled:(A,P,O,I)=>{const{entryUUID:L,topic:F}=O;if(P||!A)I?.previousCollection&&n.setQueryData(Fo(F),D=>{if(D)return{pageParams:D.pageParams,pages:D.pages.map(B=>({...B,threads:B.threads.map($=>({...$,collection:$.uuid===L?I.previousCollection:$.collection}))}))}});else{const{updated_collection:D}=A,{uuid:B,title:$,emoji:W,slug:X}=D;n.setQueryData(Fo(F),ee=>{if(ee)return{pageParams:ee.pageParams,pages:ee.pages.map(ne=>({...ne,threads:ne.threads.map(V=>({...V,collection:V.uuid===L?{uuid:B,title:$,emoji:W,slug:X}:V.collection}))}))}})}}}),{mutate:C}=lt({mutationFn:async({entryUUID:A,topic:P,oldCollectionUUID:O})=>(await g$({collectionUUID:O,entryUUID:A,reason:e}),{topic:P}),onMutate:async({entryUUID:A,topic:P})=>{const O=n.getQueryData(Fo(P));let I;for(const L of O?.pages??[])for(const F of L.threads)if(F.uuid===A){I=F.collection;break}return n.setQueryData(Fo(P),L=>{if(L)return{pageParams:L.pageParams,pages:L.pages.map(F=>({...F,threads:F.threads.map(D=>({...D,collection:D.uuid===A?void 0:D.collection}))}))}}),{previousCollection:I}},onSettled:(A,P,O,I)=>{const{entryUUID:L,topic:F}=O;P&&I?.previousCollection&&n.setQueryData(Fo(F),D=>{if(D)return{pageParams:D.pageParams,pages:D.pages.map(B=>({...B,threads:B.threads.map($=>({...$,collection:$.uuid===L?I.previousCollection:$.collection}))}))}})}}),{mutate:S}=lt({mutationFn:async({entryUUID:A,frontendContextUUID:P})=>{const O=await Kv({params:{entry_uuid:A,upsert_type:"bookmark",return_collection:!0,return_thread:!1},reason:e});return v("add"),{response:O,entryUUID:A,frontendContextUUID:P}},onMutate:async({frontendContextUUID:A})=>{await n.cancelQueries({queryKey:d}),await n.cancelQueries({queryKey:Bt}),p(P=>P&&P.map(O=>O.frontend_context_uuid===A?{...O,bookmark_state:"BOOKMARKED",collection_info:{uuid:null,title:"Bookmarks",emoji:"1f516",slug:null,access:null,user_permission:os.OWNER_DEFAULT_BOOKMARKS}}:O))},onSettled:async(A,P)=>{if(!A||!A.response?.updated_collection)return;const O=A.response.updated_collection,I=A.entryUUID,L=A.frontendContextUUID,{uuid:F,title:D,emoji:B=null,slug:$,access:W,user_permission:X}=O;await n.cancelQueries({queryKey:d}),await n.cancelQueries({queryKey:Bt}),C$(n,{entryUUID:I,frontendContextUUID:L,newCollectionUUID:F,newCollectionTitle:D,newCollectionEmoji:B,newCollectionSlug:$,newCollectionAccess:W,newCollectionUserPermission:X},d,o,p),n.invalidateQueries({queryKey:Bt}),n.invalidateQueries({queryKey:d}),n.invalidateQueries({queryKey:["results"]}),n.invalidateQueries({queryKey:[o,{frontend_context_uuid:L}]})}}),{mutate:k}=lt({mutationFn:async({entryUUID:A,currentCollectionUUID:P,newCollectionTitle:O,newCollectionUUID:I,newCollectionSlug:L,newCollectionAccess:F,closeModal:D,callback:B})=>{if(I!==Pl)return D(),await Kv({params:{new_collection_uuid:I,entry_uuid:A,return_collection:!1,return_thread:!1},reason:e}),B?.(),v("add"),{entryUUID:A,currentCollectionUUID:P,newCollectionTitle:O,newCollectionUUID:I,newCollectionSlug:L,newCollectionAccess:F,closeModal:D}},onMutate:async({entryUUID:A,frontendContextUUID:P,currentCollectionUUID:O,newCollectionUUID:I,newCollectionTitle:L,newCollectionEmoji:F,newCollectionSlug:D,newCollectionAccess:B,newCollectionUserPermission:$})=>{await n.cancelQueries({queryKey:d}),await n.cancelQueries({queryKey:Bt});const W=n.getQueryData(d),X=n.getQueryData(Bt);return C$(n,{entryUUID:A,frontendContextUUID:P,newCollectionUUID:I,newCollectionTitle:L,newCollectionEmoji:F,newCollectionSlug:D,newCollectionAccess:B,newCollectionUserPermission:$},d,o,p),n.setQueryData(Bt,ee=>{ee=ee||{pages:[],pageParams:[]};const ne=ee.pages.map(V=>V.map(q=>q.uuid===O?{...q,thread_count:q.thread_count-1}:q.uuid===I?{...q,thread_count:q.thread_count+1}:q));return{...ee,pages:ne}}),{previousThread:W,previousCollections:X}},onSettled:(A,P,O,I)=>{if(P)n.setQueryData(d,I.previousThread),n.setQueryData(Bt,I.previousCollections);else{const F={collection_slug:O.existingCollectionSlug?.slice(-22)},D={collection_slug:O.newCollectionSlug.slice(-22)},B=[Yo,F],$=[Yo,D];n.invalidateQueries({queryKey:["get_collection",D]}),n.invalidateQueries({queryKey:B}),n.refetchQueries({queryKey:$}),n.refetchQueries({queryKey:h(O.entryUUID)}),n.invalidateQueries({queryKey:Bt}),n.invalidateQueries({queryKey:d}),n.invalidateQueries({queryKey:["results"]}),n.invalidateQueries({queryKey:[o,{frontend_context_uuid:O.frontendContextUUID}]}),n.invalidateQueries({queryKey:[df]})}}}),{mutate:E}=lt({mutationFn:async({entryUUID:A,oldCollectionUUID:P,callback:O})=>{if(P)return await g$({collectionUUID:P,entryUUID:A,reason:e}),O?.(),v("remove"),{entryUUID:A,oldCollectionUUID:P}},onMutate:async({entryUUID:A,oldCollectionUUID:P,frontendContextUUID:O,collectionSlug:I})=>{await n.cancelQueries({queryKey:d}),await n.cancelQueries({queryKey:Bt});const L=n.getQueryData(d),F=n.getQueryData(Bt);return O&&(p(D=>D?D.map(B=>B.frontend_context_uuid===O?{...B,collection_info:void 0,bookmark_state:"NOT_BOOKMARKED"}:B):[]),n.setQueryData([o,{frontend_context_uuid:O}],D=>D?D.map(B=>B.frontend_context_uuid===O?{...B,collection_info:null,bookmark_state:"NOT_BOOKMARKED"}:B):[])),n.setQueryData(d,D=>{D=D||{pages:[],pageParams:[]};const B=D.pages.map($=>$.map(W=>A===W.uuid&&W.collection?.uuid===P?{...W,collection:null}:W));return{...D,pages:B}}),n.setQueryData(Bt,D=>{D=D||{pages:[],pageParams:[]};const B=D.pages.map($=>$.map(W=>W.uuid===P?{...W,thread_count:W.thread_count-1}:W));return n.setQueryData(h(A),$=>$&&Array.isArray($.pages)?{...$,pages:$.pages.map(W=>W.map(X=>X.uuid===A?{...X,collection_info:null}:X))}:{...$,collection_info:null}),{...D,pages:B}}),I&&n.setQueryData([Yo,{collection_slug:I.slice(-22)}],(D={pages:[],pageParams:[]})=>({...D,pages:D.pages.map(B=>B.filter($=>$.uuid!==A))})),{previousThreads:L,previousCollections:F}},onSettled:(A,P,O,I)=>{if(P)n.setQueryData(d,I.previousThreads),n.setQueryData(Bt,I.previousCollections);else if(n.invalidateQueries({queryKey:h(O.entryUUID)}),n.invalidateQueries({queryKey:d}),n.invalidateQueries({queryKey:Bt}),n.invalidateQueries({queryKey:["results"]}),n.invalidateQueries({queryKey:[df]}),n.invalidateQueries({queryKey:[o,{frontend_context_uuid:O.frontendContextUUID}]}),O.collectionSlug){const L={collection_slug:O.collectionSlug.slice(-22)},F=[Yo,L];n.invalidateQueries({queryKey:F}),n.invalidateQueries({queryKey:["get_collection",L]})}}}),{mutate:M}=lt({mutationFn:async A=>{await oXe({collectionUuid:A,reason:e})},onSuccess:(A,P)=>{n.invalidateQueries({queryKey:Bt}),n.invalidateQueries({queryKey:[df]}),n.invalidateQueries({queryKey:_p()}),n.invalidateQueries({queryKey:uf()}),n.setQueryData(Bt,O=>!O||!O.pages?O:{...O,pages:O.pages.map(I=>I.filter(L=>L.uuid!==P))})}}),{mutate:N}=lt({mutationFn:async({collectionUuid:A,link:P,reason:O})=>{const I=await Nn({urlPath:"/rest/collections/focused_web_config/links",timeoutMs:$e(),method:"POST",body:JSON.stringify({collection_uuid:A,link:P}),headers:{"content-type":"application/json"},numRetries:1,reason:O});if(!I.ok){const L=await I.json();throw new Error(L.detail||"Failed to add link")}return I},onSettled:(A,P,O,I)=>{n.invalidateQueries({queryKey:["get_collection",{collection_slug:O.collectionSlug.slice(-22)}]})}}),{mutate:R}=lt({mutationFn:async({collectionUuid:A,link:P,reason:O})=>{await Nn({urlPath:"/rest/collections/focused_web_config/links",timeoutMs:$e(),method:"DELETE",body:JSON.stringify({collection_uuid:A,link:P}),headers:{"content-type":"application/json"},numRetries:1,reason:O})},onSettled:(A,P,O,I)=>{n.invalidateQueries({queryKey:["get_collection",{collection_slug:O.collectionSlug.slice(-22)}]})}});return f.useMemo(()=>({updateCollectionInfo:y,updateCollectionAccessLevel:x,createCollectionForThread:b,createCollection:w,bookmarkFromFeed:_,removeBookmarkFromFeed:C,firstTimeBookmark:S,swapThreadCollection:k,removeThreadFromCollection:E,deleteCollection:M,addLink:N,removeLink:R}),[N,_,b,w,M,S,C,R,E,k,x,y])},BXe=({reason:e})=>at({queryKey:["list_space_templates"],queryFn:()=>NXe({reason:e})}),lae=({collectionSlug:e,reason:t})=>{const{data:n,isLoading:r}=BXe({reason:t});return f.useMemo(()=>!n?.templates||!e?{templateSpace:void 0,isLoading:r}:{templateSpace:n.templates.find(s=>s.collection.slug===e),isLoading:r},[e,n?.templates,r])},gFt=({template:e,reason:t})=>{const n=Rt(),{$t:r}=K(),{trackEvent:s}=Ne(),{openToast:a}=Yn(),{createCollection:i,addLink:o}=d3({reason:t}),{collection:c,tags:u}=e,d=f.useCallback(()=>{c&&(s("space template copied",{collectionSlug:c.slug??"",templateTitle:c?.title??"",tags:Array.from(u)}),i({...c,title:c.title??"",description:c.description??"",instructions:c.instructions??"",emoji:c.emoji??"",accessLevel:mt.PRIVATE_READ,callback:async h=>{c.focused_web_config?.link_configs&&await Promise.all(c.focused_web_config.link_configs.map(m=>o({collectionUuid:h.uuid,link:m.link??"",collectionSlug:h.slug,reason:t}))),n.push(`/spaces/${h.slug}`),a(r({defaultMessage:"Space is ready to customize",id:"AWqOucIdz5"}),"success",3)}}))},[n,c,u,i,a,r,s,o,t]);return f.useMemo(()=>({handleCopyTemplate:d}),[d])},cae=(e,t,n)=>{f.useEffect(()=>{const r=new IntersectionObserver(a=>{a.forEach(i=>{i.isIntersecting&&t()})},n),s=e.current;return s&&r.observe(s),()=>{s&&r.unobserve(s)}},[e,t,n])},e0=$n({path:"M12.2401 8.96004C10.6561 8.96004 9.36011 7.66404 9.36011 6.08004C9.36011 4.49604 10.6561 3.20004 12.2401 3.20004C13.8241 3.20004 15.1201 4.49604 15.1201 6.08004C15.1201 7.66404 13.8241 8.96004 12.2401 8.96004ZM12.2401 5.12004C11.7121 5.12004 11.2801 5.55204 11.2801 6.08004C11.2801 6.60804 11.7121 7.04004 12.2401 7.04004C12.7681 7.04004 13.2001 6.60804 13.2001 6.08004C13.2001 5.55204 12.7681 5.12004 12.2401 5.12004Z M18 14.7201C16.416 14.7201 15.12 13.4241 15.12 11.8401C15.12 10.2561 16.416 8.96011 18 8.96011C19.584 8.96011 20.88 10.2561 20.88 11.8401C20.88 13.4241 19.584 14.7201 18 14.7201ZM18 10.8801C17.472 10.8801 17.04 11.3121 17.04 11.8401C17.04 12.3681 17.472 12.8001 18 12.8001C18.528 12.8001 18.96 12.3681 18.96 11.8401C18.96 11.3121 18.528 10.8801 18 10.8801Z M6.48004 14.7201C4.89604 14.7201 3.60004 13.4241 3.60004 11.8401C3.60004 10.2561 4.89604 8.96011 6.48004 8.96011C8.06404 8.96011 9.36004 10.2561 9.36004 11.8401C9.36004 13.4241 8.06404 14.7201 6.48004 14.7201ZM6.48004 10.8801C5.95204 10.8801 5.52004 11.3121 5.52004 11.8401C5.52004 12.3681 5.95204 12.8001 6.48004 12.8001C7.00804 12.8001 7.44004 12.3681 7.44004 11.8401C7.44004 11.3121 7.00804 10.8801 6.48004 10.8801Z M12.2401 20.48C10.6561 20.48 9.36011 19.184 9.36011 17.6C9.36011 16.016 10.6561 14.72 12.2401 14.72C13.8241 14.72 15.1201 16.016 15.1201 17.6C15.1201 19.184 13.8241 20.48 12.2401 20.48ZM12.2401 16.64C11.7121 16.64 11.2801 17.072 11.2801 17.6C11.2801 18.128 11.7121 18.56 12.2401 18.56C12.7681 18.56 13.2001 18.128 13.2001 17.6C13.2001 17.072 12.7681 16.64 12.2401 16.64Z",name:"IconPerplexitySourcesActive",variant:"filled"}),Rx=(e,t)=>{const n=t?.isOverlapping??!1,r=t?.stackDirection??"left";if(!e.length)return l.jsx(_e,{icon:e0,size:"sm"});const s=t?.maxVisuals??3;if(e.length>s)return l.jsxs("div",{className:"gap-x-xs flex items-center px-1",children:[l.jsx(_e,{icon:e0}),l.jsx("span",{className:"text-xs",children:l.jsx(ce,{id:"Pc503bLReE",defaultMessage:"{count, plural, one {#source} other {# sources}}",values:{count:e.length}})})]});const a=e.map((i,o)=>{const c=U("relative flex items-center justify-center rounded-full",{"size-4":t?.size==="sm","size-5":t?.size==="md","size-6":t?.size==="lg","size-7":t?.size==="xl"}),u=U(c,"bg-background-300 ring-background dark:ring-offset first:ml-0",{"-ml-0.25 ring-[4px]":t?.size==="sm","-ml-1 ring-1":t?.size==="md","-ml-1 ring-[2px]":t?.size==="lg"||t?.size==="xl"});return l.jsx("div",{className:n?u:c,style:{zIndex:r==="left"?e.length-o-1:e.length+o},children:i},o)});return l.jsxs("div",{className:t?.containerClass??"my-xs flex items-center",children:[l.jsx("div",{className:U("flex items-center",{"gap-2":!n}),children:a.slice(0,s)}),t?.rightText&&l.jsx("div",{className:"ml-2",children:t.rightText})]})},LA=e=>{switch(e){case"GOOGLE_DRIVE":return Bg;case"ONEDRIVE":return $g;case"SHAREPOINT":return Hg;case"DROPBOX":return Wg;case"BOX":return FN;case"WILEY":return XJ;case"GCAL":return ux;default:return""}},$Xe=$n({path:"M1.88 6.063c-.496 0-.88.385-.88.824v6.92a4.208 4.208 0 0 0 4.229 4.12 4.323 4.323 0 0 0 3.79-2.253c.714 1.318 2.142 2.252 3.735 2.252 2.362 0 4.284-1.867 4.284-4.228.055-2.253-1.867-4.12-4.229-4.12-1.593 0-3.02.878-3.734 2.197-.715-1.319-2.143-2.198-3.79-2.198-.99 0-1.869.33-2.583.824V6.887a.843.843 0 0 0-.823-.824Zm15.255 3.425a.871.871 0 0 0-.645.145c-.33.275-.44.824-.165 1.208l2.197 2.857-2.196 2.855c-.275.385-.22.88.165 1.155.384.275.931.273 1.206-.112l1.87-2.416 1.92 2.472c.276.33.825.384 1.209.11.33-.275.385-.77.11-1.154l-2.143-2.855 2.144-2.803c.275-.384.273-.933-.111-1.208-.44-.275-.934-.22-1.209.165l-1.92 2.362-1.87-2.47a.919.919 0 0 0-.562-.31ZM5.23 11.225c1.428 0 2.582 1.155 2.582 2.528 0 1.428-1.154 2.526-2.582 2.526-1.429 0-2.582-1.098-2.582-2.526 0-1.373 1.153-2.528 2.582-2.528Zm7.58 0c1.429 0 2.582 1.155 2.582 2.528-.055 1.428-1.208 2.526-2.582 2.526-1.428 0-2.582-1.098-2.582-2.526 0-1.373 1.154-2.528 2.582-2.528Z",name:"IconBrandBox",variant:"filled"}),HXe=$n({path:"M16.145 4.2a.875.875 0 0 1 .816.057l4.5 2.79a.875.875 0 0 1 .003 1.485l-3.333 2.083 3.334 2.092a.876.876 0 0 1-.002 1.484l-4.088 2.545v.637a.876.876 0 0 1-.338.691l-.096.065-4.5 2.627a.877.877 0 0 1-.882 0l-4.5-2.627a.876.876 0 0 1-.434-.756v-.637l-4.088-2.545a.875.875 0 0 1-.002-1.484l3.316-2.081-3.315-2.071a.875.875 0 0 1 0-1.485l4.5-2.812.11-.058a.875.875 0 0 1 .818.058L12 6.78l4.036-2.522.11-.058Zm-7.77 12.536v.135L12 18.986l3.625-2.115v-.135L12 14.48l-3.625 2.257Zm-3.725-3.29 2.85 1.772 2.849-1.773L7.5 11.657l-2.85 1.788Zm9 0 2.85 1.772 2.849-1.773-2.849-1.788-2.85 1.788Zm-4.502-2.82L12 12.415l2.864-1.797-2.862-1.775-2.854 1.783ZM4.651 7.813 7.5 9.593l2.849-1.78L7.5 6.03 4.651 7.813Zm9.004-.003 2.843 1.762 2.847-1.779-2.843-1.763-2.847 1.78Z",name:"IconBrandDropbox",variant:"filled"});function vFt(e){if(e===0)return"0 bytes";const t=1024,n=["bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(t));return Math.ceil(e/Math.pow(t,r))+" "+n[r]}const yFt=e=>{const t=e.file_metadata.file_type;return t==="FOLDER"||t==="DATABASE"||t==="WORKSPACE"||t==="PAGE"},xFt=e=>{const t=e.file_metadata.file_type;return t==="FOLDER"||t==="DATABASE"||t==="WORKSPACE"?OFe:yd},uu=e=>{switch(e){case"GOOGLE_DRIVE":return IN;case"ONEDRIVE":return ON;case"SHAREPOINT":return LN;case"DROPBOX":return JJ;case"BOX":return DN;case"GCAL":return ZJ;case"NOTION":return eee;case"OUTLOOK":return see;case"LINEAR":return dx;default:return null}},Ax=e=>{switch(e){case"crunchbase":return KJ;case"factset":return GJ;case"wiley":return QJ;case"google_drive":return IN;case"onedrive":return ON;case"sharepoint":return LN;case"gcal":return ZJ;case"dropbox":return JJ;case"box":return DN;case"gmail":return jLe;case"notion":return eee;case"outlook":return see;case"linear":return dx;default:return null}},Yv=e=>{switch(e){case"crunchbase":return YJ;case"factset":return qJ;case"google_drive":return Bg;case"onedrive":return $g;case"sharepoint":return Hg;case"gcal":return ux;case"dropbox":return Wg;case"box":return FN;case"gmail":return PLe;case"notion":return tee;case"outlook":return rM;default:return e}},bFt=e=>{switch(e){case"GOOGLE_DRIVE":return Bg;case"ONEDRIVE":return $g;case"SHAREPOINT":return Hg;case"DROPBOX":return Wg;case"BOX":return FN;case"NOTION":return tee;default:return""}},wFt=(e,t)=>new Date(e+"Z").toLocaleString(t,{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),_Ft=(e,t)=>{switch(e){case"RECEIVED":case"QUEUED":case"RATE_LIMITED":return t.formatMessage({id:"Cnm0QAkWnp",defaultMessage:"Queued"});case"SYNCING":return t.formatMessage({id:"eOnwqs6QFY",defaultMessage:"Syncing"});case"SYNC_ERROR":return t.formatMessage({id:"N1cqoEe4CZ",defaultMessage:"Sync error"});case"EVALUATING_RESYNC":case"READY":return t.formatMessage({id:"IZFEUgrg25",defaultMessage:"Ready"})}},CFt=e=>e.url.includes("ppl-ai-file-upload.s3.amazonaws.com/web/direct-files")||e.url.includes("ppl-ai-sandbox-file-upload.s3.amazonaws.com/web/direct-files"),SFt=e=>{if(e.startsWith("/rest/connectors/wiley/"))return"WILEY";if(e.includes("drive.google.com")||e.includes("connectors/google-drive")||e.includes("docs.google.com"))return"GOOGLE_DRIVE";if(e.includes("onedrive.live.com")||e.includes("1drv.ms")||e.includes("connectors/onedrive"))return"ONEDRIVE";if(e.includes("my.sharepoint.com")||e.includes("connectors/sharepoint"))return"SHAREPOINT";if(e.includes("dropbox.com/preview")||e.includes("connectors/dropbox"))return"DROPBOX";if(e.includes("app.box.com/file")||e.includes("connectors/box"))return"BOX"},EFt=(e,t)=>{if(t==="WILEY")return LA(t);if(t||e.is_memory||e.is_conversation_history)return e.name},uae=e=>e.isFile,dae=e=>e.isDirectory,WXe=async(e,t=oLe)=>{const n=[e],r=[];for(;n.length>0;){const s=n.pop();if(s){if(uae(s)){const a=await new Promise(i=>{s.file(i)});if(r.push(a),r.length>t)return r}else if(dae(s)){const a=s.createReader(),i=await new Promise(o=>a.readEntries(o));n.push(...i)}}}return r};var K5={},S$;function zXe(){return S$||(S$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="user",r=448,s=512,a=[128100,62144],i="f007",o="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faUser=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(K5)),K5}var VXe=zXe(),Y5={},E$;function GXe(){return E$||(E$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="user-secret",r=448,s=512,a=[128373],i="f21b",o="M224 16c-6.7 0-10.8-2.8-15.5-6.1C201.9 5.4 194 0 176 0c-30.5 0-52 43.7-66 89.4C62.7 98.1 32 112.2 32 128c0 14.3 25 27.1 64.6 35.9c-.4 4-.6 8-.6 12.1c0 17 3.3 33.2 9.3 48l-59.9 0C38 224 32 230 32 237.4c0 1.7 .3 3.4 1 5l38.8 96.9C28.2 371.8 0 423.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7c0-58.5-28.2-110.4-71.7-143L415 242.4c.6-1.6 1-3.3 1-5c0-7.4-6-13.4-13.4-13.4l-59.9 0c6-14.8 9.3-31 9.3-48c0-4.1-.2-8.1-.6-12.1C391 155.1 416 142.3 416 128c0-15.8-30.7-29.9-78-38.6C324 43.7 302.5 0 272 0c-18 0-25.9 5.4-32.5 9.9c-4.8 3.3-8.8 6.1-15.5 6.1zm56 208l-12.4 0c-16.5 0-31.1-10.6-36.3-26.2c-2.3-7-12.2-7-14.5 0c-5.2 15.6-19.9 26.2-36.3 26.2L168 224c-22.1 0-40-17.9-40-40l0-14.4c28.2 4.1 61 6.4 96 6.4s67.8-2.3 96-6.4l0 14.4c0 22.1-17.9 40-40 40zm-88 96l16 32L176 480 128 288l64 32zm128-32L272 480 240 352l16-32 64-32z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faUserSecret=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(Y5)),Y5}var qXe=GXe();const fae=T.memo(({width:e="w-14",fillColor:t="fill-max",svgClassName:n,...r})=>{const s=U("h-auto group",e);return l.jsx("div",{className:s,...r,children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 99 36",className:n,children:[l.jsx("path",{className:t,d:"M50.0858 22.3525C50.0858 23.9034 51.4144 24.8675 53.5527 24.8675C55.1684 24.8675 56.5468 24.3911 57.5393 23.4903C58.5991 22.5277 59.1595 21.1074 59.1595 19.3821V19.3262L53.1962 19.956C51.1311 20.147 50.0858 20.9534 50.0858 22.3525Z"}),l.jsx("path",{className:t,d:"M96.7015 8.60077C95.1033 5.76707 92.7331 3.49361 89.8477 2.02806C87.198 0.682565 84.1956 0 80.925 0H4.46551C1.9767 0.000755049 -0.00527674 2.02051 1.0554e-05 4.5084V36H80.925C83.8489 36 86.556 35.4503 88.9904 34.3736L78.7837 21.1444H78.5571L72.8105 28.5922H67.2136V27.4883L75.0795 17.6697L67.2136 7.851V6.74712H72.8105L78.5571 14.1949H78.7837L84.5302 6.74712H90.1264V7.851L82.2612 17.6697L93.3728 31.5407C94.6878 30.3568 95.8171 28.9675 96.7023 27.3977C98.2266 24.6946 99 21.5355 99 18.0102C99 14.4849 98.2266 11.3054 96.7015 8.60077ZM40.5936 28.593H35.122V14.6268C35.122 13.5886 34.8214 12.7392 34.2518 12.1699C33.6612 11.5794 32.8009 11.2804 31.6951 11.2804C30.0009 11.2804 27.1586 11.926 27.1586 16.2517V28.593H21.687V14.6268C21.687 13.5886 21.3863 12.7392 20.8168 12.1699C20.2262 11.5794 19.3658 11.2804 18.26 11.2804C16.5658 11.2804 13.7228 11.926 13.7228 16.2517V28.593H8.29124V7.35569H13.5649V9.06814C13.5649 9.20934 13.7402 9.27276 13.8308 9.16479C14.25 8.66721 14.7236 8.2693 15.2788 7.94236C16.3883 7.29 17.8182 6.96005 19.5275 6.96005C21.2368 6.96005 22.8419 7.38212 24.0602 8.21418C24.9538 8.82426 25.5248 9.54835 25.8828 10.1554C25.938 10.2498 26.0739 10.2543 26.1358 10.1645C27.5997 8.0375 29.88 6.9608 32.9232 6.9608C35.1363 6.9608 37.0239 7.60184 38.3812 8.81445C39.8277 10.1063 40.5928 11.9932 40.5928 14.2704L40.5936 28.593ZM64.5518 28.593H59.2781V26.5407C59.2781 26.4033 59.1074 26.3361 59.016 26.4388C57.5076 28.1316 55.3406 28.9894 52.5625 28.9894C47.7344 28.9894 44.6149 26.5083 44.6149 22.6696C44.6149 20.7261 45.3718 19.1699 46.8658 18.0449C48.1733 17.0596 49.9838 16.4503 52.249 16.2321L59.1603 15.5148V14.8647C59.1603 12.2658 57.806 11.0033 55.0203 11.0033C53.1093 11.0033 50.6885 11.6119 50.366 14.5105L50.3282 14.8458H45.1097C45.1097 14.8458 45.0863 14.4154 45.1746 13.8129C45.7978 9.61102 49.7542 6.91927 55.0989 6.91927C60.93 6.91927 64.5525 10.0852 64.5525 15.181L64.5518 28.593Z"})]})})});fae.displayName="Max";const Sn=T.memo(({size:e="medium",user:t,showEdit:n,onChange:r,anon:s,altText:a,defaultIcon:i=VXe.faUser,rounded:o=!0,showBackground:c=!0,showProBadge:u,showMaxBadge:d,className:h,proBadgeClassName:m,badgeProps:p})=>{let g="xs";e==="medium"?g="1x":e==="xlarge"&&(g="2x");const v=f.useCallback(()=>{const y=document.createElement("input");y.type="file",y.accept="image/*",y.onchange=x=>{const b=x.target.files?.[0];if(b){const w=new FileReader;w.onload=_=>{r&&r(_.target?.result)},w.readAsDataURL(b)}},y.click()},[r]);return l.jsx("div",{className:U("text-offset relative",h),children:l.jsxs(H,{variant:c?"offset":"transparent",className:U("relative flex aspect-square shrink-0 items-center justify-center",{"rounded-full":o,"size-3":e==="tiny","size-4":e==="mini","size-5":e==="small","size-6":e==="base","size-8":e==="medium","size-10":e==="large","size-20":e==="xlarge","!ring-super border-offset border-2 ring-[1.5px]":u,"!ring-max border-offset border-2 ring-[1.5px]":d}),children:[p?.show&&l.jsx("div",{className:U("absolute right-0 top-0 h-3 w-3 -translate-y-1/4 translate-x-1/4 select-none rounded-full border-2",p?.className)}),t&&!s?l.jsx("img",{alt:a??"User avatar",className:U("size-full object-cover",{"rounded-full":o}),src:t}):l.jsx(j,{color:"light",children:l.jsx(gt,{size:g,icon:s?qXe.faUserSecret:i,fixedWidth:!0})}),n&&e!=="small"&&l.jsx("div",{className:"absolute -bottom-1 -right-2",children:l.jsx(ye,{ariaLabel:"Edit avatar",variant:t?"common":"primary",size:e!=="xlarge"?"tiny":"small",pill:!0,icon:t?vd:Tr,onClick:v})}),u&&l.jsx("div",{className:U("absolute top-full -mt-[6px] w-[24px] rounded-r-full bg-current p-[1.5px]",{"opacity-0":e==="small"},{"w-lg -mt-[10px]":e==="xlarge"},m),children:l.jsx(c1,{fillColor:"fill-super",width:"w-full",sizeVariant:"small"})}),d&&l.jsx("div",{className:U("absolute left-1/2 top-full -mt-[6px] flex w-[28px] -translate-x-1/2 items-center justify-center rounded-full bg-current p-[1.5px]",{"opacity-0":e==="small"},{"w-xl -mt-[10px]":e==="xlarge"}),children:l.jsx(fae,{width:"w-full"})})]})})});Sn.displayName="Avatar";const KXe=(e,t)=>e===0&&t>0?"connectors":(e>0&&t===0||e>0&&t>0,"localFiles"),hae=T.memo(({collectionSlug:e,handleSpaceEdit:t,handleSourcesEdit:n})=>{const r="space-context",s=K(),{collection:a}=_d({collectionSlug:e,reason:r}),{isUserReader:i,isUserAtLeastWriter:o,isUserInvited:c}=Kse({collectionSlugOverride:e,reason:r}),{templateSpace:u}=lae({collectionSlug:e??"",reason:r}),d=i&&!!u,h=f.useRef(null),{fileRepoInfo:m}=Cd({reason:r,collectionSlugOverride:e}),{mutate:p}=Zse({reason:r}),{searchTerm:g}=MXe({reason:r}),{completedFiles:v,totalFiles:y,hasNextPage:x,fetchNextPage:b}=uXe({fileRepoInfo:m,searchTerm:g,limit:v$,reason:r}),{data:w,hasNextPage:_,fetchNextPage:C}=qQe({connectionTypes:[fn.GOOGLE_DRIVE,fn.ONEDRIVE,fn.SHAREPOINT,fn.DROPBOX,fn.BOX],status:["READY"],fileRepoInfo:m,pageSize:v$,fileTypes:["FILE"],reason:r}),{connectorFiles:S,totalConnectorFiles:k}=f.useMemo(()=>{const F=w?w.pages[w.pages.length-1]:null;return{connectorFiles:w?.pages.map(D=>D.files).flat()||[],totalConnectorFiles:F?.files_in_repo??0}},[w]),{focusedWebLinks:E,totalFocusedWebLinks:M}=f.useMemo(()=>{const F=a?.focused_web_config?.link_configs??[];return{focusedWebLinks:F,totalFocusedWebLinks:F.length}},[a?.focused_web_config?.link_configs]),N=f.useCallback(F=>F.file_s3_url?()=>p({file_url:F.file_s3_url}):null,[p]),R=f.useCallback(F=>()=>{F.connection_file_url&&window.open(F.connection_file_url,"_blank")},[]),A=f.useCallback(F=>()=>window.open(`https://${F.link}`,"_blank"),[]),P=f.useCallback(F=>{let D="",B=null;return F==="INSTRUCTIONS"?D=s.formatMessage({defaultMessage:"Add instructions to format, scope, and add relevance to your search results.",id:"JnYU6ctsCn"}):F==="FILES"?(D=o?s.formatMessage({defaultMessage:"Upload or sync files to be used as sources in every search.",id:"yF+cGexY2F"}):s.formatMessage({defaultMessage:"No files included.",id:"wZ9qntul+a"}),o&&(B=Rx([l.jsx(Sn,{user:IN,showBackground:!1,size:"small"},"gdrive"),l.jsx(Sn,{user:ON,showBackground:!1,size:"small"},"onedrive"),l.jsx(Sn,{user:LN,showBackground:!1,size:"small"},"sharepoint"),l.jsx(_e,{icon:Ew,size:"sm"},"upload")],{isOverlapping:!0,maxVisuals:4,size:"xl",stackDirection:"right"}))):F==="LINKS"&&(D=o?s.formatMessage({defaultMessage:"Add URLs to be used as sources in every search.",id:"FTItpgdarF"}):s.formatMessage({defaultMessage:"No links included.",id:"Qid6Kgk2jz"})),D?l.jsxs(H,{className:"px-sm py-md gap-y-xs flex flex-col items-center",children:[B&&l.jsx(H,{className:"mb-xs",children:B}),l.jsx(j,{variant:"small",color:"light",className:"text-center",children:D})]}):null},[s,o]),O=f.useMemo(()=>[{id:"INSTRUCTIONS",text:s.formatMessage({defaultMessage:"Instructions",id:"sV2v5LjRpX"}),content:[{icon:null,badge:null,text:a?.instructions,onClick:null}],hasNextPage:!1,showSection:!c&&o||d,actionIcon:vd,action:t,showButton:!c&&o,isEmpty:!a?.instructions,testId:"space-context-instructions-edit-button"},{id:"FILES",text:s.formatMessage({defaultMessage:"Files",id:"m4vqJl0/FT"}),content:[...v.map(F=>({icon:yd,badge:null,text:F.name,onClick:N(F)})),...S.map(F=>({icon:VQe,badge:uu(F.connection_type),text:F.name,onClick:R(F)}))],hasNextPage:x||_,showSection:!0,actionIcon:Tr,action:n?()=>{const F=KXe(y,k);n(F)}:void 0,itemCount:y+k,showButton:!c&&o,isEmpty:y+k===0,testId:"space-context-files-add-button"},{id:"LINKS",text:s.formatMessage({defaultMessage:"Links",id:"qCcwo3DU78"}),content:E.map(F=>({icon:WN,badge:null,text:F.link,onClick:A(F)})),hasNextPage:!1,showSection:!0,actionIcon:Tr,action:n?()=>n("links"):void 0,showButton:!c&&o,isEmpty:M===0,testId:"space-context-links-add-button"}],[s,a?.instructions,v,S,E,y,k,M,x,_,n,t,N,R,A,c,o,d]),I=f.useMemo(()=>_i(()=>{x?b():_&&C()},500),[x,b,_,C]);cae(h,I,{threshold:.5});const L=f.useMemo(()=>T.memo(({icon:F,badge:D})=>{const B=f.useMemo(()=>D&&l.jsx(Sn,{size:"tiny",showBackground:!1,rounded:!1,user:D}),[D]);return l.jsx(_e,{icon:F,size:18,stroke:2,color:"#64645F",badge:B})}),[]);return l.jsx(H,{className:"hideScroll h-full flex-col overflow-y-auto",children:O.map((F,D)=>F.showSection?l.jsxs(H,{children:[l.jsxs("div",{className:"my-xs py-xs pl-sm flex items-center justify-between",children:[l.jsx(j,{variant:"smallBold",children:F.itemCount?`${F.text} (${F.itemCount})`:F.text}),F.showButton&&F.action&&F.actionIcon&&l.jsx(ze,{variant:"common",size:"small",icon:F.actionIcon,pill:!0,onClick:F.action,"data-testid":F.testId})]}),F.isEmpty?P(F.id):F.content.map((B,$)=>{const W=B.icon&&l.jsx(H,{className:"flex size-6 flex-none items-center justify-center",children:l.jsx(L,{icon:B.icon,badge:B.badge})});return l.jsx(H,{children:B.onClick?l.jsx(ze,{variant:"positive",text:B.text,leadingComponent:W,onClick:B.onClick,textClassName:"font-sans font-normal text-sm",layout:"left",fullWidth:!0}):l.jsxs(H,{className:"pl-sm gap-x-xs flex w-full items-center py-[10px]",children:[W,l.jsx(j,{variant:"small",color:"light",className:`${F.id==="INSTRUCTIONS"?"line-clamp-4":"line-clamp-1"} pl-[1px]`,children:B.text})]})},F.id+$)}),F.hasNextPage&&l.jsx(Eu,{ref:h,size:"small",className:"my-xs"}),O.some((B,$)=>$>D&&B.showSection)&&l.jsx("hr",{className:"my-sm"})]},F.id):null)})});hae.displayName="SpaceContext";const mae=T.memo(({closeModal:e,isOpen:t,collectionSlug:n})=>{const r="space-context-modal",s=K(),{openModal:a}=St(),{collection:i}=_d({collectionSlug:n,reason:r}),{isUserAtLeastWriter:o,isUserAtLeastReader:c}=Kse({reason:r,collectionSlugOverride:n}),u=ot(),d=f.useCallback(()=>{if(n){const g=["get_collection",{collection_slug:n.slice(-22)}];u.invalidateQueries({queryKey:g})}e()},[e,n,u]),h=f.useCallback(()=>{i&&a("spaceSettings",{existingSpace:i})},[i,a]),m=f.useCallback(g=>{i&&a("uploadFilesModal",{initialTab:g,collectionSlug:n})},[i,n,a]),p=f.useMemo(()=>l.jsx(j,{variant:"section-title",className:"px-sm",children:s.formatMessage({defaultMessage:"Context",id:"V2qutIKrxy"})}),[s]);return l.jsx(jt,{variant:"side-sheet",isOpen:t,onClose:d,includeBlur:!1,titleContent:p,modalClassname:"!min-w-[300px] !w-[25vw]",closeButtonClassname:"right-sm absolute",fixedTitle:!0,children:l.jsx(hae,{collectionSlug:n,handleSpaceEdit:o?h:void 0,handleSourcesEdit:c?m:void 0})})});mae.displayName="SpaceContextModal";const f3=T.memo(({title:e,subtitle:t,subtitleClassname:n,centerTitle:r,children:s,actionList:a=je,variant:i="centered-sheet",onClose:o,noPadding:c,onIsClosing:u,footerContent:d,icon:h,overlayVariant:m,titleLeadingButtonProps:p,showCloseButton:g=!0,...v})=>{const[y,x]=f.useState(!1),[b,w]=f.useState(!1),_=f.useMemo(()=>U("shadow-md overflow-y-auto scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent fill-mode-both",{"bg-none dark:bg-none bg-backdrop/25 backdrop-blur-sm":i==="full-sheet-blurred","bg-gradient-to-t from-background from-45% to-transparent":i==="bottom-sheet-gradient","w-screen md:h-screen h-[100dvh] flex flex-col":i==="full-sheet-blurred"||i==="full-sheet","w-screen min-h-[60dvh] md:min-h-[60vh] max-h-[96dvh] md:max-h-[96vh] flex flex-col fixed bottom-0 left-0 right-0 bg-none dark:bg-none bg-backdrop/70 backdrop-blur-md":i==="bottom-sheet-blurred","flex items-center justify-end w-screen h-[100dvh] md:max-h-[96vh] flex flex-col fixed bottom-0 left-0 right-0":i==="bottom-sheet-gradient","animate-in slide-in-from-bottom ease-in":i==="bottom-sheet-blurred"&&!b,"animate-out slide-out-to-bottom ease-out":i==="bottom-sheet-blurred"&&b,"animate-in fade-in ease-in duration-300":i==="bottom-sheet-gradient"&&!b,"animate-out fade-out ease-out duration-300":i==="bottom-sheet-gradient"&&b,"bg-background":i==="full-sheet","bg-background rounded-lg md:min-w-[600px] max-w-screen-lg max-h-[100vh]":i==="centered-sheet","bg-background rounded-2xl max-w-[90dvw] max-h-[90dvh]":i==="inset-centered-sheet"}),[i,b]),C=f.useMemo(()=>U("py-md px-md grow flex flex-col",{"justify-center":i!=="bottom-sheet-gradient","justify-end":i==="bottom-sheet-gradient","md:pt-lg":e===void 0,"md:pb-lg":a?.length===0,"px-0":c,"py-0":c}),[a?.length,c,e,i]),S=f.useMemo(()=>a.map(({text:A,onClick:P,variant:O,disabled:I,isLoading:L,testId:F,icon:D},B)=>{const $={key:B,text:A,chevron:D!==void 0,disabled:I,isLoading:L,onClick:P,testId:F,chevronIcon:D};return O?f.createElement(ye,{fullWidthMobile:!0,variant:O,...$,key:$.key}):f.createElement(ye,{fullWidthMobile:!0,...$,key:$.key})}),[a]),k=f.useCallback(()=>{u?.(),w(!0)},[w,u]),E=f.useCallback(()=>{w(!1),x(!1),o?.()},[w,x,o]),M=f.useCallback(()=>{w(!1),x(!1),o?.()},[x,w,o]),N=f.useMemo(()=>{switch(i){case"full-sheet-blurred":return"full-sheet";case"full-sheet":return"full-sheet";case"bottom-sheet-blurred":case"bottom-sheet-gradient":return"bottom-sheet";default:return"default"}},[i]),R=f.useMemo(()=>i==="bottom-sheet-blurred"||i==="bottom-sheet-gradient",[i]);return l.jsx(am,{transparent:R,canOutsideClickClose:!0,childVariant:N,shouldClose:y,onIsClosing:k,onClose:E,variant:m,...v,children:l.jsx("div",{children:l.jsxs("div",{className:_,children:[l.jsx("div",{className:"right-sm top-sm fixed z-[23] md:absolute"}),l.jsxs(H,{className:U("flex h-full w-[100vw] grow flex-col rounded-none md:w-[unset] md:grow-[unset]",{"border-t":i!=="bottom-sheet-gradient","w-[90dvw]":i==="inset-centered-sheet"}),children:[l.jsxs(H,{variant:"transparent",className:U("px-md py-sm md:py-md sticky top-0 z-[22] w-full",{"border-b":e&&!r,"text-center":r,"h-8":!e&&g}),children:[l.jsxs("div",{className:"gap-sm md:gap-md flex items-center",children:[p&&l.jsx(ze,{extraCSS:"-ml-sm",...p,size:"small",variant:"common"}),h&&l.jsx(gt,{icon:h,size:"xl",className:"text-text -translate-y-[2px]"}),e&&l.jsx(j,{variant:"page-title",className:U("line-clamp-1 md:line-clamp-2",{"pt-lg grow":r,"mr-lg":!r}),children:e}),!R&&i!=="full-sheet-blurred"&&g&&l.jsx(s3,{onClick:M,testId:"close-modal"})]}),t&&l.jsx(j,{variant:"base",color:"light",className:U("mt-xs line-clamp-3",n),children:t})]}),l.jsx("div",{className:C,children:s}),(S?.length>0||d)&&l.jsxs(H,{variant:"background",className:U("gap-x-sm p-sm pb-md md:pb-sm sticky bottom-0 z-[10] flex items-center border-t",{"justify-end":!d},{"justify-between":d}),children:[d,S]})]})]})})})});f3.displayName="SheetModal";const kFt=e=>{const t=Number(e);return isNaN(t)?(console.log(`formatNumber number failed on: ${e}`),"0"):t.toLocaleString("en-US")},ja=()=>Hr(),MFt={status:"PENDING",uuid:ja()},TFt=(e,t,n)=>{if(e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);return r.length==s.length&&r.every(a=>n?n(e[a],t[a]):e[a]===t[a])},NFt=(e,t)=>{const n=new URL(e);return n.searchParams.delete("source"),n.searchParams.delete("s"),t&&(n.hash=t),n.searchParams.sort(),n.href};function pae(e){return e.charAt(0).toUpperCase()+e.slice(1)}function YXe(e,t){try{const n=new Date(e.replace(/-/g,"/")).toLocaleString(t,{weekday:"long",hour:"numeric",minute:"numeric",hour12:!0});return pae(n)}catch(n){console.log(n)}return null}function h3(e,t,n="short"){const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(e.toLowerCase());if(s===-1)return"";const a=new Date,i=new Date(a.setDate(a.getDate()-a.getDay()+s)),o=Intl.DateTimeFormat(t,{weekday:n}).format(i);return pae(o)}function QXe(e){return e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:12})}function DA(e,t,n){const r=new URL(e),s=r.searchParams;return s.set(t,n),r.search=s.toString(),r.toString()}const RFt=e=>{let t;if(typeof e=="string"){if(t=parseFloat(e),isNaN(t))throw new Error("Invalid input: not a number")}else if(typeof e=="number")t=e;else throw new Error("Invalid input: not a string or number");return t.toLocaleString("en-US")},XXe=/\[(\d{1,3})(,\s*\{ts:\d+\})?\]/g,ZXe=/(\n*^(("""+|'''+|```+)[A-Za-z0-9]*|#+ .*)$|^- |\*\*|\$\$|\||`|[-|]{3,})/gm;function JXe(e){return e.replace(XXe,"")}function eZe(e){return e.replace(ZXe,"")}function jx(e,t){const n=JXe(eZe(e)).trim();if(n.length<=t)return n;{const r=n.slice(0,t).trim(),s=r.lastIndexOf(" ");return s*2>t&&s<t-1?r.slice(0,s)+"...":r+"..."}}const tZe=({children:e,title:t,handleClose:n,experimentalImageDesign:r})=>{const{image:s,imageAlt:a}=r;return l.jsxs(H,{variant:"offset",className:"max-w-[400px] overflow-hidden rounded-xl md:flex md:max-w-[960px]",children:[l.jsx("div",{className:"md:w-[55%]",children:l.jsx("img",{src:s,alt:a,className:"md:object-cover"})}),l.jsxs("div",{className:"p-lg md:p-xl relative flex flex-col md:w-[45%]",children:[l.jsx(s3,{testId:"close-modal",variant:"common",size:"small",onClick:n}),l.jsx("div",{className:"mb-lg grow",children:l.jsx(j,{color:"default",variant:"page-title",className:"mb-sm mt-sm text-center font-serif text-[2rem] leading-none",children:t})}),e]})]})},gae=$n({path:"M5.01 17.833h11.023a6.34 6.34 0 0 0 2.91-.676 5.484 5.484 0 0 0 2.274-2.136c.52-.88.783-1.896.783-3.021s-.263-2.14-.782-3.02a5.484 5.484 0 0 0-2.271-2.135 6.348 6.348 0 0 0-2.914-.678H2.018v1.176h14.015c.849 0 1.636.182 2.341.542a4.285 4.285 0 0 1 1.776 1.671l.002.004c.414.7.624 1.52.624 2.44 0 .92-.21 1.741-.625 2.442l-.002.003a4.286 4.286 0 0 1-1.778 1.672c-.702.359-1.49.54-2.338.54H5.011v1.176ZM3.415 9.568c1.209-1.272 3.672-.9 4.537.67.293.48.442 1.072.442 1.762.041 1.78-1.22 3.211-3.054 3.2-.822 0-1.468-.307-1.925-.77-.036-.037-.102-.012-.102.04v3.363H2V9.03h1.312v.5c0 .051.066.076.102.038Zm3.135 4.015c.352-.358.531-.94.531-1.583 0-.645-.178-1.223-.532-1.574-.64-.72-2.126-.712-2.772.001-.697.677-.69 2.475 0 3.156.646.698 2.132.706 2.773 0Zm12.28-3.31c-1.09-1.969-4.506-1.966-5.604 0-.277.48-.418 1.06-.418 1.727-.038 1.88 1.296 3.212 3.225 3.2 1.928.012 3.258-1.333 3.225-3.2 0-.667-.144-1.248-.429-1.727ZM17.944 12c0 .644-.179 1.225-.532 1.583-.64.706-2.127.699-2.773 0-.69-.681-.697-2.48 0-3.155.646-.714 2.132-.721 2.773-.002.354.352.532.929.532 1.573Zm-6.96-2.85c.249-.136.591-.206 1.017-.206h.633v1.276c-.11.002-.227 0-.347-.001-.542-.008-1.152-.016-1.488.318-.222.21-.334.57-.334 1.072v3.423H9.154V9.03h1.312v.5c0 .056.078.078.11.029.127-.197.262-.331.409-.408Z",name:"IconPerplexityPro",variant:"filled"});let vae=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function nZe(e,t){const n=k$(e),r=k$(t);return n.major>r.major?!0:n.major<r.major?!1:n.minor>r.minor?!0:n.minor<r.minor?!1:n.patch>r.patch?!0:!(n.patch<r.patch)}function k$(e){const[t,n,r]=e.split(".").map(Number);return{major:t,minor:n,patch:r}}function rZe(e){return nZe(yae(),e)}function Jp(e,t){return rZe(t)?!0:(console.warn(`[todesktop-client] ${e} not called. ${e} was introduced in ${t}. You are running version ${yae()}.`),!1)}const yae=()=>typeof window.todesktop=="object"&&window.todesktop.desktopifyVersion,nl=typeof window<"u"&&window.todesktop,sZe=e=>async(t,n)=>{const r=vae(),s=t==="*"?Object.keys(e):[t];for(const i of s){const o=e[i];nl?.on(o,n,r)}const a=xae(e);return async()=>a(t,n,r)},aZe=e=>async(t,n)=>{const r=vae(),s=t==="*"?Object.keys(e):[t];for(const i of s){const o=e[i];nl?.on(o,n,r)}const a=xae(e);return async()=>a(t,n,r)},xae=e=>(t,n,r)=>{const s=t==="*"?Object.keys(e):[t];for(const a of s){const i=e[a];nl?.off(i,n,r)}};function iZe(e,t){const n={package:{name:e,version:t},invoke:{version:"1.0.0"}};function r(i){const o={metadata:n,payload:{command:i}};return window.todesktop.invoke(o)}function s(i){const o={metadata:n,payload:{command:Object.assign(Object.assign({},i),{method:":new"})}};return window.todesktop.invoke(o)}function a(i){if(Jp("releaseMemory","4.6.0")){if(!i?.length){console.log("No memory references to release");return}return window.todesktop.releaseMemory(i)}}return{invoke:r,construct:s,releaseMemory:a}}const{invoke:Hs,construct:bae}=iZe("client-core","1.0.0-dev"),oZe={openProtocolURL:"open-protocol-url"},lZe=aZe(oZe);var Q5;const X5=typeof window<"u"&&window.todesktop,cZe=(e,t)=>{const n=async(a,i,{ref:o,preventDefault:c}={})=>{if(t&&!Jp(`${e} addEventListener`,t))return;const u=await Hs({instanceRef:o,namespace:e,eventName:a,eventOptions:{preventDefault:c}});return window.todesktop.on(u,(d,...h)=>{if(mZe(h[0])){const[,...m]=h;return i(...m)}else return i(...h)}),()=>r(a,{eventId:u,ref:o})},r=async(a,...i)=>{const{eventId:o,ref:c}=i[0]||{};t&&!Jp(`${e} removeEventListener`,t)||(await Hs({instanceRef:c,namespace:e,eventName:a,eventId:o}),window.todesktop.off(o))};return{removeAllListeners:async(a,{ref:i}={})=>{t&&!Jp(`${e} removeAllListeners`,t)||(await Hs({instanceRef:i,namespace:e,method:"removeAllListeners",args:[a]}),window.todesktop.off(a))},on:n}};function uZe(e){console.warn(`[todesktop-client] ${e} is a legacy event and may be removed in future.
        Contact support or look through our typescript files to find a suitable replacement.`)}function dZe(e,t){const n=e[0],r=n in t;return r&&uZe(n),r}const fZe=(e,t)=>dZe(e,t),hZe=(e,t)=>{const n=cZe(t),r=(...s)=>fZe(s,e)?sZe(e)(...s):n.on(...s);return{removeAllListeners:n.removeAllListeners,on:r}};(Q5=X5?.env)===null||Q5===void 0||Q5.NODE_ENV;const mZe=e=>pZe(e)&&"preventDefault"in e&&"sender"in e,pZe=e=>e===null?!1:typeof e=="function"||typeof e=="object";async function gZe(e,t){return window.todesktop.shortcut.register(e,t)}async function Z5(e){return window.todesktop.shortcut.unregister(e)}async function vZe(e){return bae({namespace:"BrowserWindow",args:[e]})}async function yZe({ref:e,viewRef:t}){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"setBrowserView",args:[t]})}async function xZe({ref:e}={}){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"getSize",args:[]})}async function FA({ref:e}={}){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"focus",args:[]})}async function c8({ref:e}={}){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"isVisible",args:[]})}async function bZe({ref:e}={}){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"hide",args:[]})}async function UA({ref:e}={}){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"show",args:[]})}async function wZe({ref:e}={}){return await Hs({instanceRef:e,namespace:"BrowserWindow",property:"webContents"})}async function _Ze({ref:e}={},...t){return Hs({instanceRef:e,namespace:"BrowserWindow",method:"setPosition",args:t})}const CZe={enterFullscreen:"window.enter-full-screen",exitFullscreen:"window.leave-full-screen"},wae=hZe(CZe,"BrowserWindow"),Sp=wae.on,u8=wae.removeAllListeners;async function M$({id:e}){if(Jp(`${T$}:retrieve`,"4.18.0"))return window.todesktop[T$]({action:"retrieve",payload:{id:e}})}const T$="objectStore";async function Px(e){return window.todesktop.contents.openUrlInBrowser(e)}async function SZe(){return Hs({namespace:"screen",method:"getCursorScreenPoint",args:[]})}async function EZe(e){return Hs({namespace:"screen",method:"getDisplayNearestPoint",args:[e]})}async function kZe(e){return bae({namespace:"BrowserView",args:[e]})}async function MZe({ref:e},...t){return Hs({instanceRef:e,namespace:"WebContents",method:"loadURL",args:t})}const TZe={prefix:"pplx",suffix:"v2",runtime:"runtime"},J5={cacheName:TZe},NZe=[J5.cacheName.prefix,J5.cacheName.runtime,J5.cacheName.suffix].join("-");async function N$(){const e=ls();if("serviceWorker"in navigator){const{Workbox:t}=await he(async()=>{const{Workbox:s}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:s}},[]),n=new URL("/service-worker.js",window.location.origin);e.version&&n.searchParams.set("v",e.version);const r=new t(n.toString());try{await r.register()}catch(s){Q.error("Error registering service worker",s)}}}async function RZe(){"serviceWorker"in navigator&&await navigator.serviceWorker.getRegistrations().then(e=>Promise.all(e.map(t=>t.unregister())))}async function m3(){if("serviceWorker"in navigator){await caches.delete(NZe);return}}const Ep=async(...e)=>(await m3(),Oa.signIn(...e)),AZe="pkce_verifier",jZe=5/(24*60),PZe=128,IZe=e=>{const t=Math.ceil(e*.75),n=new Uint8Array(t);return crypto.getRandomValues(n),btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"").slice(0,e)},OZe=async e=>{const n=new TextEncoder().encode(e);try{let r;typeof window<"u"&&window.crypto?.subtle?r=await window.crypto.subtle.digest("SHA-256",n):r=new TextEncoder().encode(e);const s=Array.from(new Uint8Array(r)),a=String.fromCharCode(...s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(r){throw Q.error("Failed to generate code challenge: "+r),new Error("Failed to generate code challenge: "+r)}},LZe=e=>{Ot(AZe,e,{secure:!0,sameSite:"Lax",expires:jZe,path:"/"})},R$=async()=>{const e=IZe(PZe);return LZe(e),OZe(e)},DZe=async({email:e,reason:t})=>{let n=null;try{n=await Xre({email:e,reason:t})}catch(r){return Q.log(r),null}return n?.workos_org_id??null},FZe=async({email:e,reason:t})=>{let n=null;try{n=await Xre({email:e,reason:t})}catch(r){return Q.log(r),null}return n?.force_sso??!1},UZe=({email:e,onError:t,onClose:n,redirectUrl:r,reason:s})=>{const{$t:a}=K(),{trackEvent:i}=Ne(),{isWindowsApp:o}=Nt(),c=Rt(),{locale:u}=K(),d=f.useMemo(()=>e.length>0&&e.includes("@")&&e.includes(".")&&e.indexOf("@")<e.lastIndexOf(".")&&e.indexOf("@")>0,[e]),h=f.useCallback(async v=>{i("login with third party clicked",{thirdParty:v});const y=window.location.origin;if(o){const x=await R$(),b=`${y}/auth/${fx}/${v}?code_challenge=${x}&desktopRedirect=${encodeURIComponent(r)}&client_id=${LF}`;return Px(b),b}return await Ep(v,{callbackUrl:r})},[i,r,o]),m=f.useCallback(async()=>{const v=await DZe({email:e,reason:s});if(!v){t(`SSO not available for email ${e}`);return}if(n(),o){const y=window.location.origin,x=await R$(),b=`${y}/auth/${fx}/workos?code_challenge=${x}&desktopRedirect=${r}&organization=${v}&login_hint=${e}&client_id=${LF}`;Px(b);return}await Ep("workos",{callbackUrl:r},{organization:v,login_hint:e})},[e,n,t,r,o,s]),p=f.useCallback(async()=>{const v=e?.toLowerCase();if(await FZe({email:v,reason:s})){await m();return}const x=J$e({redirect:r});i("login with email clicked",{email:v});let b=`${x}#locale=${u}`;o&&(b=`${x}?windows-app-redirect-token=${LLe}#locale=${u}`);const w=await Ep("email",{email:v,callbackUrl:b,redirect:!1});if(w?.ok){y5(`email request POST successful for ${v}`);const _=encodeURIComponent(v),C=encodeURIComponent(x),S=`/auth/verify-request?email=${_}&redirectUrl=${C}`;c.push(S)}else if(w?.status===429)y5(`email sign in rate limited for ${v}`),c.push("/auth/email-rate-limited");else{const _=`email sign in generic error: ${v} Response(status=${w?.status}, error=${w?.error}, ok=${w?.ok}, url=${w?.url})`;y5(_),Q.error(new Error(_)),t(a({defaultMessage:"Something went wrong. Please try again.",id:"W/5hwrn09m"}))}},[e,r,c,i,u,m,t,a,o,s]),g=f.useCallback(async(v,y)=>{const x={callbackUrl:r};switch(v){case"basic":x.pro=!1;break;case"pro":x.pro=!0;break;case"enterpriseMember":x.enterprise_member=!0;break;case"enterpriseAdmin":x.enterprise_admin=!0;break;case"enterpriseBillingAdmin":x.enterprise_billing_admin=!0;break;case"script":x.script=!0;break;case"frontendTest":x.fe_test=!0;break;case"example.com":x.email_handle=y??"pplx-dev";break}return await Ep("devlogin",x)},[r]);return f.useMemo(()=>({emailIsValid:d,handleThirdPartySignIn:h,handleMagicLinkEmailSignIn:p,handleSSOSignIn:m,handleDevSignIn:g}),[d,g,p,m,h])},_ae={...h9},BZe=_ae.useInsertionEffect,$Ze=BZe||(e=>e());function HZe(e){const t=f.useRef(()=>{});return $Ze(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}var Ix=typeof document<"u"?f.useLayoutEffect:f.useEffect;function d8(){return d8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d8.apply(this,arguments)}let A$=!1,WZe=0;const j$=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+WZe++;function zZe(){const[e,t]=f.useState(()=>A$?j$():void 0);return Ix(()=>{e==null&&t(j$())},[]),f.useEffect(()=>{A$=!0},[]),e}const VZe=_ae.useId,Cae=VZe||zZe,GZe=f.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:a,shift:i}},width:o=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:h,stroke:m,d:p,style:{transform:g,...v}={},...y}=t,x=Cae(),[b,w]=f.useState(!1);if(Ix(()=>{if(!s)return;Aa(s).direction==="rtl"&&w(!0)},[s]),!s)return null;const[_,C]=r.split("-"),S=_==="top"||_==="bottom";let k=h;(S&&i!=null&&i.x||!S&&i!=null&&i.y)&&(k=null);const E=d*2,M=E/2,N=o/2*(u/-8+1),R=c/2*u/4,A=!!p,P=k&&C==="end"?"bottom":"top";let O=k&&C==="end"?"right":"left";k&&b&&(O=C==="end"?"left":"right");const I=a?.x!=null?k||a.x:"",L=a?.y!=null?k||a.y:"",F=p||"M0,0"+(" H"+o)+(" L"+(o-N)+","+(c-R))+(" Q"+o/2+","+c+" "+N+","+(c-R))+" Z",D={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[_];return f.createElement("svg",d8({},y,{"aria-hidden":!0,ref:n,width:A?o:o+E,height:o,viewBox:"0 0 "+o+" "+(c>o?c:o),style:{position:"absolute",pointerEvents:"none",[O]:I,[P]:L,[_]:S||A?"100%":"calc(100% - "+E/2+"px)",transform:[D,g].filter(B=>!!B).join(" "),...v}}),E>0&&f.createElement("path",{clipPath:"url(#"+x+")",fill:"none",stroke:m,strokeWidth:E+(p?0:1),d:F}),f.createElement("path",{stroke:E&&!p?y.fill:"none",d:F}),f.createElement("clipPath",{id:x},f.createElement("rect",{x:-M,y:M*(A?-1:1),width:o+E,height:o})))});function qZe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(s=>s!==n))||[])}}}const KZe=f.createContext(null),YZe=f.createContext(null),QZe=()=>{var e;return((e=f.useContext(KZe))==null?void 0:e.id)||null},XZe=()=>f.useContext(YZe);function ZZe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=Cae(),a=f.useRef({}),[i]=f.useState(()=>qZe()),o=QZe()!=null,[c,u]=f.useState(r.reference),d=HZe((p,g,v)=>{a.current.openEvent=p?g:void 0,i.emit("openchange",{open:p,event:g,reason:v,nested:o}),n?.(p,g,v)}),h=f.useMemo(()=>({setPositionReference:u}),[]),m=f.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return f.useMemo(()=>({dataRef:a,open:t,onOpenChange:d,elements:m,events:i,floatingId:s,refs:h}),[t,d,m,i,s,h])}function JZe(e){e===void 0&&(e={});const{nodeId:t}=e,n=ZZe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[a,i]=f.useState(null),[o,c]=f.useState(null),d=s?.domReference||a,h=f.useRef(null),m=XZe();Ix(()=>{d&&(h.current=d)},[d]);const p=ite({...e,elements:{...s,...o&&{reference:o}}}),g=f.useCallback(w=>{const _=bs(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c(_),p.refs.setReference(_)},[p.refs]),v=f.useCallback(w=>{(bs(w)||w===null)&&(h.current=w,i(w)),(bs(p.refs.reference.current)||p.refs.reference.current===null||w!==null&&!bs(w))&&p.refs.setReference(w)},[p.refs]),y=f.useMemo(()=>({...p.refs,setReference:v,setPositionReference:g,domReference:h}),[p.refs,v,g]),x=f.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),b=f.useMemo(()=>({...p,...r,refs:y,elements:x,nodeId:t}),[p,y,x,t,r]);return Ix(()=>{r.dataRef.current.floatingContext=b;const w=m?.nodesRef.current.find(_=>_.id===t);w&&(w.context=b)}),f.useMemo(()=>({...p,context:b,refs:y,elements:x}),[p,y,x,b])}class eJe{static detectOverflowOptions={padding:8};static offsetMiddleware=nR({mainAxis:4,crossAxis:0});static shiftMiddleware=ote({limiter:lte(),...this.detectOverflowOptions});static flipMiddleware=cte(this.detectOverflowOptions);static sizeMiddleware(t={matchTargetWidth:!1},n=!0){return ute({...this.detectOverflowOptions,apply({availableHeight:r,rects:s,elements:a}){n&&(a.floating.style.maxHeight=`${r}px`),(t.matchTargetWidth??!0)&&(a.floating.style.width=`${s.reference.width}px`)}})}static defaultMiddleWare(t={avoidCollisions:!0,matchTargetWidth:!1}){const n=t.avoidCollisions??!0,r=t.avoidPositionCollisions!==void 0?t.avoidPositionCollisions:n,s=t.avoidSizeCollisions!==void 0?t.avoidSizeCollisions:n;return[this.offsetMiddleware,r&&this.shiftMiddleware,r&&this.flipMiddleware,this.sizeMiddleware({matchTargetWidth:t.matchTargetWidth},s)].filter(Boolean)}}const tJe=130,Sl=T.memo(({content:e,contentClassName:t="",children:n,delayTime:r=200,isOpen:s,hoverOpen:a,placement:i="bottom-end",matchTargetWidth:o=!1,childrenClassName:c,testId:u,overlayProps:d,onOpen:h,onClose:m,disableAnimation:p,hasInteractiveContent:g=!1,avoidCollisions:v=!0,avoidPositionCollisions:y,avoidSizeCollisions:x,customFloatingUIOptions:b,disableShadow:w,floatingElementProps:_,arrowClassName:C,borderRadius:S="rounded-xl",sideOffset:k=4})=>{const E=f.useRef(null),M=f.useMemo(()=>{const de=eJe.defaultMiddleWare({avoidCollisions:v,avoidPositionCollisions:y,avoidSizeCollisions:x,matchTargetWidth:o});return k!==4&&(de[0]=nR({mainAxis:k,crossAxis:0})),C&&de.push(dte({element:E})),de},[v,y,x,o,C,k]),{refs:N,floatingStyles:R,placement:A,context:P}=JZe({strategy:"fixed",placement:i,middleware:M,whileElementsMounted:(...de)=>ste(...de),...b}),[O,I]=f.useState(!1),L=f.useRef(O),[F,D]=f.useState(!1),B=f.useRef(F),[$,W]=f.useState(!1),X=s!==void 0,[ee,ne]=f.useState(!1),V=f.useMemo(()=>X?s:ee,[X,s,ee]),q=f.useCallback(de=>{de.stopPropagation()},[]),z=f.useCallback(()=>{V||(h?.(),X||ne(!0))},[X,V,h]),te=f.useCallback(()=>{W(de=>V&&!de?(m?.(),X||ne(!1),p?!1:(setTimeout(()=>{W(!1)},tJe),!0)):de)},[X,V,m,p]),Y=f.useCallback(()=>{V?te():z()},[te,z,V]),Z=f.useCallback(()=>{setTimeout(()=>{!B.current&&!L.current&&te()},r)},[r,te,B,L]);f.useEffect(()=>{if(!a||!V||$)return;const de=setInterval(()=>{const Se=N.reference.current,qe=N.floating.current,be=Se.matches(":hover"),ve=qe.matches(":hover");!be&&L.current&&oe(),!ve&&B.current&&ie(),!be&&!ve&&Z()},250);return()=>clearInterval(de)},[$,V,Z,a]);const re=f.useCallback(()=>{setTimeout(()=>{te()},0)},[te]),G=f.useCallback(()=>{L.current=!0,I(!0),z()},[z]),oe=f.useCallback(()=>{L.current=!1,I(!1),Z()},[Z]),ae=()=>{B.current=!0,D(!0)},ie=f.useCallback(()=>{B.current=!1,D(!1),Z()},[Z]),xe=f.useCallback(de=>{de.stopPropagation(),Y()},[Y]);return l.jsxs(l.Fragment,{children:[l.jsx("span",{onMouseEnter:a?G:void 0,onMouseLeave:a?oe:void 0,ref:N.setReference,onMouseDown:q,onClick:a?void 0:xe,className:c,"data-test-id":u,children:n}),e?l.jsx(am,{isOpen:V||$,onClose:re,transparent:!0,childVariant:"clean",disableAnimation:p,delayClose:!1,...d,children:l.jsx("div",{className:"absolute left-0 right-0 top-0",children:l.jsx("div",{className:"flex",ref:N.setFloating,onMouseEnter:a?ae:void 0,onMouseLeave:a?ie:void 0,onClick:de=>{g&&de.stopPropagation()},style:R,..._,children:l.jsxs(H,{variant:"background",className:U({"shadow-overlay dark:shadow-overlayDark":!w},"flex min-h-0 min-w-0","data-[placement=bottom-end]:origin-top-right data-[placement=bottom-start]:origin-top-left data-[placement=top-end]:origin-bottom-right data-[placement=top-start]:origin-bottom-left",{"duration-150":!p,"animate-out fade-out zoom-out-[0.97] ease-in":$&&!p,"p-xs animate-in fade-in zoom-in-[0.97] ease-out":!p},t,S),"data-placement":A,children:[e,C&&l.jsx(GZe,{ref:E,context:P,className:C})]})})})}):null]})});Sl.displayName="Popover";var nJe=f.createContext(void 0);function BA(e){const t=f.useContext(nJe);return e||t||"ltr"}function rJe(e,[t,n]){return Math.min(n,Math.max(t,e))}function sJe(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var $A="ScrollArea",[Sae,AFt]=Ci($A),[aJe,Fa]=Sae($A),Eae=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[o,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[p,g]=f.useState(null),[v,y]=f.useState(null),[x,b]=f.useState(0),[w,_]=f.useState(0),[C,S]=f.useState(!1),[k,E]=f.useState(!1),M=Kn(t,R=>c(R)),N=BA(s);return l.jsx(aJe,{scope:n,type:r,dir:N,scrollHideDelay:a,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:_,children:l.jsx(xn.div,{dir:N,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Eae.displayName=$A;var kae="ScrollAreaViewport",Mae=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=Fa(kae,n),o=f.useRef(null),c=Kn(t,o,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(xn.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Mae.displayName=kae;var Mo="ScrollAreaScrollbar",Tae=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Fa(Mo,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,o=e.orientation==="horizontal";return f.useEffect(()=>(o?a(!0):i(!0),()=>{o?a(!1):i(!1)}),[o,a,i]),s.type==="hover"?l.jsx(iJe,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(oJe,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(Nae,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(HA,{...r,ref:t}):null});Tae.displayName=Mo;var iJe=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Fa(Mo,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const o=s.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(As,{present:n||a,children:l.jsx(Nae,{"data-state":a?"visible":"hidden",...r,ref:t})})}),oJe=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Fa(Mo,e.__scopeScrollArea),a=e.orientation==="horizontal",i=g3(()=>c("SCROLL_END"),100),[o,c]=sJe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),i()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),l.jsx(As,{present:n||o!=="hidden",children:l.jsx(HA,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:It(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:It(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Nae=f.forwardRef((e,t)=>{const n=Fa(Mo,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=f.useState(!1),o=e.orientation==="horizontal",c=g3(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(o?u:d)}},10);return ph(n.viewport,c),ph(n.content,c),l.jsx(As,{present:r||a,children:l.jsx(HA,{"data-state":a?"visible":"hidden",...s,ref:t})})}),HA=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Fa(Mo,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[o,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Pae(o.viewport,o.content),d={...r,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,p){return mJe(m,i.current,o,p)}return n==="horizontal"?l.jsx(lJe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=P$(m,o,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?l.jsx(cJe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=P$(m,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),lJe=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Fa(Mo,e.__scopeScrollArea),[i,o]=f.useState(),c=f.useRef(null),u=Kn(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(Aae,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":p3(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Oae(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Lx(i.paddingLeft),paddingEnd:Lx(i.paddingRight)}})}})}),cJe=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Fa(Mo,e.__scopeScrollArea),[i,o]=f.useState(),c=f.useRef(null),u=Kn(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(Aae,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":p3(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Oae(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Lx(i.paddingTop),paddingEnd:Lx(i.paddingBottom)}})}})}),[uJe,Rae]=Sae(Mo),Aae=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,p=Fa(Mo,n),[g,v]=f.useState(null),y=Kn(t,M=>v(M)),x=f.useRef(null),b=f.useRef(""),w=p.viewport,_=r.content-r.viewport,C=ss(d),S=ss(c),k=g3(h,10);function E(M){if(x.current){const N=M.clientX-x.current.left,R=M.clientY-x.current.top;u({x:N,y:R})}}return f.useEffect(()=>{const M=N=>{const R=N.target;g?.contains(R)&&C(N,_)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,g,_,C]),f.useEffect(S,[r,S]),ph(g,k),ph(p.content,k),l.jsx(uJe,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:ss(a),onThumbPointerUp:ss(i),onThumbPositionChange:S,onThumbPointerDown:ss(o),children:l.jsx(xn.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:It(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(M))}),onPointerMove:It(e.onPointerMove,E),onPointerUp:It(e.onPointerUp,M=>{const N=M.target;N.hasPointerCapture(M.pointerId)&&N.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Ox="ScrollAreaThumb",jae=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Rae(Ox,e.__scopeScrollArea);return l.jsx(As,{present:n||s.hasThumb,children:l.jsx(dJe,{ref:t,...r})})}),dJe=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Fa(Ox,n),i=Rae(Ox,n),{onThumbPositionChange:o}=i,c=Kn(t,h=>i.onThumbChange(h)),u=f.useRef(),d=g3(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(d(),!u.current){const p=pJe(h,o);u.current=p,o()}};return o(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,d,o]),l.jsx(xn.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:It(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,v=h.clientY-p.top;i.onThumbPointerDown({x:g,y:v})}),onPointerUp:It(e.onPointerUp,i.onThumbPointerUp)})});jae.displayName=Ox;var WA="ScrollAreaCorner",fJe=f.forwardRef((e,t)=>{const n=Fa(WA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(hJe,{...e,ref:t}):null});fJe.displayName=WA;var hJe=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Fa(WA,n),[a,i]=f.useState(0),[o,c]=f.useState(0),u=!!(a&&o);return ph(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),c(d)}),ph(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(xn.div,{...r,ref:t,style:{width:a,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Lx(e){return e?parseInt(e,10):0}function Pae(e,t){const n=e/t;return isNaN(n)?0:n}function p3(e){const t=Pae(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function mJe(e,t,n,r="ltr"){const s=p3(n),a=s/2,i=t||a,o=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return Iae([c,u],h)(e)}function P$(e,t,n="ltr"){const r=p3(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,o=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=rJe(e,c);return Iae([0,i],[0,o])(u)}function Iae(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Oae(e,t){return e>0&&e<t}var pJe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,o=n.top!==a.top;(i||o)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function g3(e,t){const n=ss(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ph(e,t){const n=ss(t);po(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var gJe=Eae,vJe=Mae,I$=Tae,O$=jae;const Oc=T.memo(({children:e,orientation:t="vertical",showScrollIndicator:n=!0,thumbClassName:r="",className:s,viewportRef:a,viewportClassName:i,showIndicatorOnHover:o=!0,onScroll:c})=>{const d="before:content-[''] before:absolute before:top-[50%] before:left-[50%] before:translate-x-[-50%] before:translate-y-[-50%] before:w-[100%] before:h-[100%] before:min-w-[10px] before:min-h-[10px]"+" rounded-full bg-idle duration-150 dark:bg-idleDark relative",h=U("flex flex-col p-[1px] duration-150",{"data-[state=visible]:opacity-100":n,"pointer-events-none":!n,"opacity-0":o,"opacity-100":!o});return l.jsxs(gJe,{className:U("w-full overflow-hidden",s),children:[l.jsx(vJe,{className:U("h-full w-full",i),ref:a,onScroll:c,children:e}),["vertical","both"].includes(t)&&l.jsx(I$,{forceMount:!0,orientation:"vertical",className:h,children:l.jsx(O$,{className:`!w-[6px] ${d} ${r}`})}),["horizontal","both"].includes(t)&&l.jsx(I$,{forceMount:!0,orientation:"horizontal",className:h,children:l.jsx(O$,{className:`!h-[6px] ${d} ${r}`})})]})});Oc.displayName="ScrollArea";const yJe={super:"dark:!text-light text-white",red:"!text-white",darkOffset:"text-white",textColor:"dark:!text-light text-white",backToSchoolOrange:"dark:!text-light text-white",max:"dark:!text-light text-white"},Lae=T.memo(({text:e,variant:t="super",boxProps:n})=>l.jsx(H,{variant:t,...n,className:U("px-xs -mt-px inline-flex h-[1rem] rounded-[0.3125rem]",n?.className),children:l.jsx(j,{variant:"tiny",className:U("leading-[1rem]",yJe[t??"super"]??""),inline:!0,children:e})}));Lae.displayName="Badge";j.displayName="Badge";const p1=T.memo(({children:e,className:t,disabled:n,onClick:r,onMouseDown:s,onMouseEnter:a,onMouseMove:i,testId:o,rounded:c,href:u,focused:d,disableHoverStyles:h=!1,target:m="_blank",tooltipText:p,active:g=!1,role:v="menuitem"})=>{const y=f.useRef(null),x=Ks(),b=l.jsx("div",{className:U("relative select-none rounded-lg transition-all duration-300","px-sm py-1.5 md:h-full",{"hover:bg-offset cursor-pointer":!n&&!h,"cursor-pointer":!n&&h,rounded:c,"bg-offset":d}),children:e}),w=U("group/item md:h-full",t);f.useEffect(()=>{y.current&&d&&y.current.scrollIntoView({behavior:"instant",block:"nearest"})},[d]);const _=v==="menuitemradio"||v==="menuitemcheckbox"?g?"true":"false":void 0;return u&&!n?l.jsx(it,{href:u,target:m,className:w,onClick:r,"data-testid":o,children:b}):l.jsx(Dn,{tooltipText:p,showTooltip:!x&&!!p,tooltipLayout:"right",asChild:!0,children:l.jsx("div",{role:v,"aria-checked":_,ref:y,"data-testid":o,className:w,onClick:n?void 0:r,onMouseDown:n?void 0:s,onMouseEnter:n?void 0:a,onMouseMove:n?void 0:i,children:b})})}),xJe=({icon:e,avatar:t,destructive:n})=>{if(t)return t;if(!e)return null;const r=U({"!text-caution":n},"opacity-90");return l.jsx(_e,{icon:e,className:r,size:"sm"})},bJe=/\bgap(-[xy])?-/,wJe={[Mt.small]:"extraSmall",[Mt.tiny]:"tiny"},cm=T.memo(({customDescriptionNode:e,customTextNode:t,text:n,description:r,icon:s,avatar:a,label:i,badge:o,link:c,onLinkClick:u,size:d=Mt.small,color:h="default",badgeVariant:m="super",destructive:p,leftElement:g,rightElement:v,bottomElement:y,className:x="",preserveLeftIconSpace:b=!1,textClassName:w})=>{const _=s||a;return l.jsxs("div",{className:U("flex",x,bJe.test(x)?"":"gap-sm"),children:[(_||b)&&l.jsx("div",{className:"flex",children:l.jsx(j,{color:h,className:"pt-two flex size-5 justify-center leading-none",children:!b||_?l.jsx(xJe,{icon:s,avatar:a,destructive:p}):null})}),g,l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[t||l.jsxs(j,{variant:wJe[d]??"baseSemi",color:h,className:U("flex items-center gap-x-1.5",{"!text-caution":p}),children:[l.jsx("span",{className:w,children:n}),o&&l.jsx(Lae,{text:o,variant:m})]}),e||r&&l.jsx(j,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:r}),c&&l.jsx(j,{variant:"tinyRegular",color:"super",onClick:u,children:c}),y]}),i&&l.jsx(j,{className:"mt-one whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:i})]}),v]})});cm.displayName="BaseMenuItem";const Dae=T.memo(e=>{const{active:t,show:n=!0,className:r,rounded:s,color:a="default",badgeVariant:i="super",disabled:o,href:c,onClick:u,onMouseDown:d,onMouseEnter:h,onMouseMove:m,testId:p,rightElement:g,focused:v,preserveRightElementSpace:y=!0,disableHoverStyles:x=!1,target:b,tooltipText:w,role:_}=e;if(!n)return null;let C=a;o?C="ultraLight":t&&(C="super");const S=g??l.jsx(j,{color:t?"super":C,className:"pr size-5",children:l.jsx(_e,{icon:da,size:"sm",className:t?"opacity-100":"opacity-0","aria-hidden":!t})});return l.jsx(p1,{className:r,disabled:o,onClick:u,onMouseDown:d,onMouseEnter:h,onMouseMove:m,testId:p,rounded:s,href:c,focused:v,disableHoverStyles:x,target:b,tooltipText:w,role:_,active:t,children:l.jsx(cm,{...e,color:C,badgeVariant:i,rightElement:y?S:g})})});Dae.displayName="DefaultMenuItem";const Fae=T.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onClick:a,onMouseDown:i,onMouseEnter:o,onMouseMove:c,testId:u,selected:d,active:h,disableHoverStyles:m=!1,tooltipText:p}=e;let g=r;s?g="ultraLight":(h||d)&&(g="super");const v=f.useMemo(()=>l.jsx(j,{color:d?"super":g,children:l.jsx(_e,{icon:d?jee:CFe,size:"sm"})}),[g,d]);return l.jsx(p1,{className:t,disabled:s,onClick:a,onMouseDown:i,onMouseEnter:o,onMouseMove:c,testId:u,rounded:n,disableHoverStyles:m,tooltipText:p,children:l.jsx(cm,{...e,color:g,rightElement:v})})});Fae.displayName="MultiSelectMenuItem";const Uae=T.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onClick:a,onMouseDown:i,onMouseEnter:o,onMouseMove:c,testId:u,selected:d,active:h,rightElement:m,disableHoverStyles:p=!1,tooltipText:g}=e;let v=r;s?v="ultraLight":(h||d)&&(v="super");const y=f.useMemo(()=>l.jsxs("div",{className:"gap-x-sm flex items-start pt-0.5",children:[m,l.jsx(wd,{active:d,disabled:s,size:"small"})]}),[s,m,d]);return l.jsx(p1,{className:t,disabled:s,onClick:a,onMouseDown:i,onMouseEnter:o,onMouseMove:c,testId:u,rounded:n,disableHoverStyles:p,tooltipText:g,children:l.jsx(cm,{...e,color:v,rightElement:y})})});Uae.displayName="ToggleMenuItem";const Bae=T.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onClick:a,onMouseDown:i,onMouseEnter:o,onMouseMove:c,testId:u,selected:d,active:h,showIconLeft:m=!1,disableHoverStyles:p=!1,tooltipText:g}=e;let v=r;(h||d)&&(v="super");const y=l.jsx(j,{color:d?v:"ultraLight",className:U("leading-non flex pt-0.5",{"opacity-50":s}),children:l.jsx(_e,{icon:d?gM:gDe,size:"sm"})});return l.jsx(p1,{className:t,disabled:s,onClick:a,onMouseDown:i,onMouseEnter:o,onMouseMove:c,testId:u,rounded:n,disableHoverStyles:p,tooltipText:g,children:l.jsx(cm,{...e,rightElement:m?void 0:y,leftElement:m?y:void 0})})});Bae.displayName="RadioMenuItem";const $ae=T.memo(e=>{const{text:t,show:n,className:r}=e;return n?l.jsxs(l.Fragment,{children:[l.jsx(H,{className:U("sm:mx-sm my-sm border-b first:hidden",r)}),t&&l.jsx(H,{variant:"background",className:"sm:mx-sm mt-xs mb-sm pr-sm",children:l.jsx(j,{className:"w-max",variant:"tinyMono",color:"light",children:t})})]}):null});$ae.displayName="MenuItemSeparator";const _Je=T.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onMouseDown:a,onMouseEnter:i,onMouseMove:o,testId:c,submenu:u,active:d,disableHoverStyles:h=!1,isSubmenuOpen:m,onSubmenuOpen:p,onSubmenuClose:g,menuWidth:v="200px"}=e;let y=r;s?y="ultraLight":d&&(y="super");const x=f.useMemo(()=>l.jsx(j,{color:"light",children:l.jsx(_e,{icon:Wr,size:"sm"})}),[]),b=f.useMemo(()=>({className:"min-w-0",style:{width:v}}),[v]),w=f.useMemo(()=>({hasInteractiveContent:!0}),[]);return l.jsx(bn,{isOpen:m,items:u,placement:"right-end",onOpen:p,onClose:g,isMobileStyle:!1,hoverOpen:!0,boxProps:b,popoverProps:w,children:l.jsx(p1,{className:t,disabled:s,onMouseDown:a,onMouseEnter:i,onMouseMove:o,testId:c,rounded:n,disableHoverStyles:h,children:l.jsx(cm,{...e,color:y,rightElement:x})})})}),t0=T.memo(e=>{switch(e.type){case"default":{const{type:t,...n}=e;return l.jsx(Dae,{...n,role:n.role||"menuitem"})}case"multiSelect":{const{type:t,...n}=e;return l.jsx(Fae,{...n,role:"menuitemcheckbox"})}case"toggle":{const{type:t,...n}=e;return l.jsx(Uae,{...n,role:"menuitemcheckbox"})}case"radio":{const{type:t,...n}=e;return l.jsx(Bae,{...n,role:"menuitemradio"})}case"separator":{const{type:t,...n}=e;return l.jsx($ae,{...n})}case"nested":{const{type:t,...n}=e;return l.jsx(_Je,{...n})}}});t0.displayName="MenuItem";const gh=T.memo(({items:e,grid:t,cols:n=1,disableScrollArea:r=!1,menuItemClassName:s="",disableHoverStyles:a=!1})=>{const i=f.useMemo(()=>t&&n>1?{display:"grid",gridTemplateColumns:`repeat(${n}, minmax(0, 1fr))`,gap:"1px"}:void 0,[t,n]),o=({children:c})=>i?l.jsx("div",{role:"menu",style:i,children:c}):r?l.jsx("div",{role:"menu",className:"p-xs flex flex-col gap-px",children:c}):l.jsx(Oc,{showIndicatorOnHover:!1,className:"p-xs",children:l.jsx("div",{role:"menu",className:"flex flex-col gap-px",children:c})});return l.jsx(o,{children:e.map((c,u)=>c.type==="separator"?l.jsx(t0,{...c},u):l.jsx(t0,{className:s,disableHoverStyles:a,...c},u))})});gh.displayName="Menu";const bn=T.memo(({isOpen:e,hoverOpen:t=!1,children:n,items:r,placement:s,disabled:a=!1,grid:i,onOpen:o,title:c,onClose:u,testid:d,isMobileStyle:h,boxProps:m,modalProps:p,popoverProps:g,cols:v=1,footer:y=null,menuItemClassName:x="",contentClassName:b="",wrapperClassName:w,header:_,alwaysShowChildren:C,size:S})=>{const[k,E]=f.useState(!1),M=e!==void 0,N=M?e:k,R=f.useCallback(()=>{if(!N&&!a){const L=o?.()??!0;!M&&L&&E(!0)}},[a,M,o,N]),A=f.useCallback(()=>{N&&!a&&(u?.(),M||E(!1))},[a,M,u,N]),P=f.useMemo(()=>r.map(L=>({...L,size:S??(h?Mt.regular:void 0),onClick:F=>{!a&&"onClick"in L&&(L.onClick?.(F),L.type==="toggle"||L.type==="multiSelect"||A())}})),[a,A,r,S,h]),O=f.useMemo(()=>l.jsx(H,{className:U("flex max-h-[80vh] min-h-0 min-w-[160px] flex-col",{"max-w-[250px]":!i,"gap-two grid max-w-lg":i}),...m,children:l.jsxs("div",{className:"flex h-full flex-col",children:[_&&l.jsx(H,{className:"mb-sm mx-sm flex-shrink-0 border-b",children:_}),c&&l.jsx(H,{testId:d,className:"mb-sm mx-sm flex-shrink-0 border-b",children:l.jsx(j,{variant:"smallBold",className:"py-sm mb-1",children:c})}),l.jsxs(Oc,{orientation:"vertical",showIndicatorOnHover:!1,className:"min-h-0 flex-1 overflow-auto",children:[l.jsx(gh,{items:P,grid:i,cols:v,menuItemClassName:x,disableScrollArea:!0}),y]})]})}),[m,v,y,i,_,P,x,d,c]);return r.every(L=>L.show===!1)?C?n:null:h?l.jsxs(l.Fragment,{children:[l.jsx(jt,{variant:"bottom-left-sheet",actionList:je,isOpen:N,onClose:A,...p,children:l.jsx(H,{className:"divide-y",children:l.jsx(gh,{items:P,grid:i,menuItemClassName:x})})}),l.jsx("span",{className:w,onClick:t?void 0:L=>{L.stopPropagation(),R()},children:n})]}):l.jsx(Sl,{...g,hoverOpen:t,isOpen:N,placement:s,onClose:A,onOpen:R,contentClassName:b,childrenClassName:w,content:O,children:n})});bn.displayName="DropDownMenu";const Hae={SIDEBAR:"sidebar",LOGIN_MODAL:"login-modal"},CJe={ANSWER_MODE_TABS_ROOT:"answer-mode-tabs",ANSWER_MODE_TABS:{ANSWER:e=>`answer-mode-tabs-tab-${e}`,SEARCH:"answer-mode-tabs-tab-search",RESEARCH:"answer-mode-tabs-tab-research",SHOPPING:"answer-mode-tabs-tab-shopping",ASSETS:"answer-mode-tabs-tab-assets",JOBS:"answer-mode-tabs-tab-jobs",HOTELS:"answer-mode-tabs-tab-hotels",PLACES:"answer-mode-tabs-tab-places",IMAGES:"answer-mode-tabs-tab-images",VIDEOS:"answer-mode-tabs-tab-videos",SOURCES:"answer-mode-tabs-tab-sources",APPS:"answer-mode-tabs-tab-apps",TASKS:"answer-mode-tabs-tab-tasks"},ANSWER_MODE_JOBS:{FILTERS_ROOT:"jobs-filters"},ANSWER_MODE_VIDEO:{VIDEO_PREVIEW:"jobs-video-preview"},ANSWER_MODE_IMAGE:{IMAGE_PREVIEW:"jobs-image-preview"},ANSWER_MODE_SHOPPING:{SHOPPING_ITEM:"shopping-item"},ANSWER_MODE_PLACES:{PLACE_ITEM:"place-item"},ANSWER_MODE_HOTELS:{HOTEL_ITEM:"hotel-item"}},SJe=({autoFocus:e=!1,isSSO:t,email:n,emailInFlight:r,handleEmailClick:s,inputRef:a,handleKeyDown:i,setEmail:o,error:c,setError:u,placeholder:d,loginButtonsStyle:h})=>{const{$t:m}=K(),{isMobileUserAgent:p}=Oe(),g="regular",v="w-full h-11",y=U("h-11 border-none rounded-lg","!bg-offsetPlus");return l.jsxs(H,{className:"space-y-xs",children:[l.jsx(ko,{autoFocus:e,isMobileUserAgent:p,type:"email",name:"email",className:y,pill:!1,errorText:c,placeholder:d||m(t?{defaultMessage:"Enter your work email",id:"jAgre55Zsn"}:{defaultMessage:"Enter your email",id:"5MDGuMLnEB"}),value:n,onKeyDown:i,onChange:x=>{u(""),o(x)},ref:a,disabled:r}),l.jsx("div",{className:"flex justify-center",children:t?l.jsx(ye,{chevron:!0,chevronIcon:Wr,size:g,text:m(t?{defaultMessage:"Continue with SSO",id:"qank7+0V6w"}:{defaultMessage:"Continue with email",id:"l6yCDglZqT"}),extraCSS:U(v,"mt-xs"),variant:eg(h,!0),onClick:s,isLoading:r,disabled:n===""||r}):l.jsx(ye,{size:g,text:m({defaultMessage:"Continue with email",id:"l6yCDglZqT"}),onClick:s,isLoading:r,disabled:n===""||r,extraCSS:"w-full h-11 mt-xs",variant:eg(h,!0)})})]})},eg=(e,t)=>e==="highlightPrimary"?t?"primary":"common":e==="highlightBackToSchool"?t?"backToSchoolOrange":"common":"inverted",EJe=({autoFocus:e,showInternal:t,disallowedMethods:n,className:r,email:s,setEmail:a,error:i,onClose:o,setError:c,handleEmailClick:u,handleKeyDown:d,emailInFlight:h,handleThirdPartySignIn:m,isSSO:p,setIsSSO:g,internalItems:v,envHasDevLogins:y,isMobileStyle:x,placeholder:b,showCloseButton:w,loginButtonsStyle:_})=>{const{$t:C}=K(),S=T.useRef(null);return l.jsxs("div",{className:r,"data-testid":Hae.LOGIN_MODAL,children:[p&&l.jsx("div",{className:"absolute left-0 top-0 z-40",children:l.jsx(ze,{size:"small",icon:oee,onClick:()=>{g(!1),c(void 0)}})}),l.jsxs("div",{className:"mx-auto max-w-sm",children:[!p&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-sm mx-auto w-[90%]",children:[l.jsx(ye,{fullWidth:!0,leadingComponent:l.jsx(PFe,{size:18}),text:C({defaultMessage:"Continue with {google}",id:"Fc2NqN6N7A"},{google:"Google"}),onClick:()=>m("google"),extraCSS:"h-11",variant:eg(_,!0)}),n?.includes("apple")?l.jsx(l.Fragment,{children:!n?.includes("apple")&&l.jsx(ye,{fullWidth:!0,leadingComponent:l.jsx(YF,{className:"relative -top-px left-[2px]",size:18}),extraCSS:"h-11",variant:eg(_,!1),text:C({defaultMessage:"Continue with {apple}",id:"Iy1YQBJ5Tk"},{apple:"Apple"}),onClick:()=>m("apple")})}):l.jsx(ye,{fullWidth:!0,leadingComponent:l.jsx(YF,{className:"relative -top-px left-[2px]",size:18}),extraCSS:"h-11",variant:eg(_,!1),text:C({defaultMessage:"Continue with {apple}",id:"Iy1YQBJ5Tk"},{apple:"Apple"}),onClick:()=>m("apple")}),t&&y&&l.jsx(H,{children:l.jsx(bn,{items:v.map(k=>({type:"default",...k})),isMobileStyle:x,children:l.jsx(ye,{icon:pFe,text:"Internal Login",chevron:!0,fullWidth:!0,variant:"rejected"})})})]}),l.jsx(H,{className:"mx-auto my-4 h-0 w-[90%] shrink-0 border-t"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"mx-auto w-[90%]",children:l.jsx(SJe,{autoFocus:e||p,isSSO:p,email:s,emailInFlight:h,handleEmailClick:u,inputRef:S,handleKeyDown:d,setError:c,setEmail:a,error:i,placeholder:b,loginButtonsStyle:_})}),!p&&!n?.includes("sso")&&l.jsx("div",{className:"mt-md flex justify-center",children:l.jsx(ze,{size:"tiny",variant:"noBackground",text:C({defaultMessage:"Single sign-on (SSO)",id:"TI79WvQ5kU"}),onClick:()=>{g(!0)}})}),w&&l.jsxs(l.Fragment,{children:[l.jsx(H,{className:"my-4 h-0 w-full shrink-0"}),l.jsx(ze,{fullWidth:!0,variant:"noBackground",extraCSS:"border-none text-background-100",text:C({defaultMessage:"Close",id:"rbrahOGMC3"}),onClick:o})]})]})]})]})},Dx=({autoFocus:e=!1,onClose:t=Ln,redirectUrl:n,showInternal:r,disallowedMethods:s,className:a,preEnteredEmail:i,placeholder:o,showCloseButton:c=!0,loginButtonsStyle:u="allInverted"})=>{const d="login-modal-inner",[h,m]=T.useState(i??""),[p,g]=T.useState(),[v,y]=T.useState(!1),{emailIsValid:x,handleThirdPartySignIn:b,handleMagicLinkEmailSignIn:w,handleSSOSignIn:_,handleDevSignIn:C}=UZe({email:h,onClose:t,redirectUrl:n??"/",onError:g,reason:d}),{envHasDevLogins:S}=Pc(),{isMobileStyle:k}=Oe(),{$t:E}=K(),[M,N]=T.useState(!1),{closeModal:R}=St(),A=f.useCallback(async()=>{if(!x){g(E({defaultMessage:"Please enter a valid email address",id:"oLpv295HWX"}));return}if(!v){if(y(!0),h.endsWith("@example.com")&&S&&!M){t(),await C("example.com",h.split("@")[0]),y(!1);return}M?await _():(await w(),await R()),y(!1)}},[x,v,h,S,M,E,t,C,_,w,R]),P=f.useCallback(I=>{ai.isEnterKeyWithoutShift(I)&&A()},[A]),O=[{icon:VDe,text:"Basic",onClick:()=>C("basic")},{icon:gae,text:"Pro",onClick:()=>C("pro")},{icon:n1,text:"Enterprise Member",onMouseDown:I=>I.preventDefault(),onClick:()=>C("enterpriseMember")},{icon:iM,text:"Enterprise Admin",onMouseDown:I=>I.preventDefault(),onClick:()=>C("enterpriseAdmin")},{icon:iM,text:"Enterprise Billing Admin",onMouseDown:I=>I.preventDefault(),onClick:()=>C("enterpriseBillingAdmin")},{icon:oM,text:"Script Default User",onClick:()=>C("script")},{icon:oM,text:"FE Test User",onClick:()=>C("frontendTest")}];return l.jsx(EJe,{autoFocus:e,onClose:t,redirectUrl:n,showInternal:r,disallowedMethods:s,className:a,email:h,setEmail:m,handleEmailClick:A,handleKeyDown:P,error:p,setError:g,emailInFlight:v,setEmailInFlight:y,emailIsValid:x,handleThirdPartySignIn:b,isSSO:M,setIsSSO:N,handleDevSignIn:C,internalItems:O,envHasDevLogins:S,isMobileStyle:k,placeholder:o,showCloseButton:c,loginButtonsStyle:u})},kJe=T.memo(({pitchMessage:e,origin:t,isOpen:n,closeModal:r,closeCallback:s,experimentalImageDesign:a,sheetModalDesign:i,overrideRedirectUrl:o,disallowedMethods:c,loginButtonsStyle:u})=>{const{$t:d}=K(),h=ut(),[m,p]=f.useState(""),{trackEvent:g}=Ne(),{isMobileStyle:v}=Oe(),y=e?.title??d({defaultMessage:"Welcome",id:"PwaN2oE2pC"}),[x]=f.useState(!1),b=f.useCallback(()=>{r(),s?.()},[r,s]);return f.useEffect(()=>{n&&g("login modal opened",{origin:t})},[n,t,g]),f.useEffect(()=>{!h&&t&&p(DA(o??window.location.href,pd,t))},[h,t,o]),l.jsx(l.Fragment,{children:a?l.jsx(jt,{isOpen:n,onClose:b,centerTitle:!!e,actionList:je,variant:"hide-chrome",children:l.jsx(tZe,{title:y,handleClose:b,experimentalImageDesign:a,children:l.jsx(Dx,{autoFocus:!0,onClose:b,redirectUrl:m,disallowedMethods:c,loginButtonsStyle:u,showCloseButton:!1})})}):l.jsx(f3,{isOpen:n,onClose:b,shouldClose:x,centerTitle:!!e,actionList:je,variant:i,children:l.jsxs("div",{onClick:w=>w.stopPropagation(),children:[l.jsxs("div",{className:"px-lg mx-auto max-w-sm md:max-w-lg",children:[l.jsx(j,{variant:"page-title",className:"font-base text-pretty text-center font-serif leading-[1.3] md:text-4xl",children:e?.title??l.jsx(ce,{defaultMessage:"Sign up below to <italic>unlock</italic> the full {br} potential of Perplexity",id:"exZDTeIaG0",values:{italic:w=>l.jsx("span",{className:"italic",children:w}),br:l.jsx("br",{})}})}),l.jsx(j,{className:"mt-md font-base text-pretty text-center leading-[1.3]",children:e?.description?e.description:l.jsx(ce,{defaultMessage:"By continuing, you agree to our {privacyPolicyLink}.",id:"cE5rUKm7fb",values:{privacyPolicyLink:l.jsx(it,{className:"underline",target:"_blank",href:"https://www.perplexity.ai/hub/legal/privacy-policy",children:l.jsx(ce,{defaultMessage:"privacy policy",id:"LIDXd2UwSl"})})}})}),l.jsx("div",{className:"mt-lg"})]}),l.jsx(Dx,{autoFocus:!v,onClose:b,redirectUrl:m,showInternal:!0,disallowedMethods:c,loginButtonsStyle:u})]})})})}),zA=T.memo(()=>l.jsx("div",{className:"bg-background fixed inset-0 z-[999] flex h-screen w-screen items-center justify-center opacity-50"}));zA.displayName="VoiceToVoiceModalLoader";var f8;(function(e){e.token_limit_exceeded="token_limit_exceeded",e.parsing_error="parsing_error",e.unknown_error="unknown_error",e.unauthorized="unauthorized",e.no_data_received="no_data_received",e.file_type_not_supported="file_type_not_supported",e.image_failed_moderation="image_failed_moderation"})(f8||(f8={}));var tg;(function(e){e.generic_upload_error="generic_upload_error",e.unsupported_type="unsupported_type",e.too_large="too_large",e.too_small="too_small",e.no_name="no_name",e.failed_moderation="failed_moderation",e.rate_limited="rate_limited",e.over_file_count="over_file_count",e.over_image_count="over_image_count"})(tg||(tg={}));const w2=e=>{const n=e.split("?")[0].split("#")[0].split(".").pop()?.toLowerCase();return n&&{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",jp2:"image/jp2",gif:"image/gif",bmp:"image/bmp",tiff:"image/tiff",tif:"image/tiff",svg:"image/svg+xml",webp:"image/webp",ico:"image/x-icon",avif:"image/avif",heic:"image/heic",heif:"image/heif",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",txt:"text/plain",csv:"text/csv",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",md:"text/markdown"}[n]||"application/octet-stream"},MJe=e=>{const t=e.meta_data?.repo_type;return e.is_attachment&&!t&&!e.meta_data?.file_uuid},TJe=e=>{if(!e)return!1;try{return new URL(e).hostname.includes("s3.amazonaws.com")}catch{return!1}},Ka=pt({token_limit_exceeded:{id:"cnFlyTXVDl",defaultMessage:"File {filename} exceeds the model's token limit."},parsing_error:{id:"RdRRX8+YG/",defaultMessage:"Failed to parse file {filename}."},file_type_not_supported:{id:"IaflMSTTq6",defaultMessage:"File type not supported for {filename}."},unknown_error:{id:"zhy7qBi3Eu",defaultMessage:"Unknown error for file {filename}."},unauthorized:{id:"6bOe+cTUhc",defaultMessage:"User not authorised to access file {filename}."},no_data_received:{id:"34PXW7VvKh",defaultMessage:"No data received for file {filename}."},generic_upload_error:{id:"xVFvYDY5wK",defaultMessage:"File upload failed"},unsupported_type:{id:"VUOyYEDS96",defaultMessage:"The file type you uploaded is not supported."},too_large:{id:"XBcIjOYq8V",defaultMessage:"File too large: {max} maximum."},too_small:{id:"ZUyiNCx0Aw",defaultMessage:"File too small."},no_name:{id:"IkAmckATMw",defaultMessage:"File name is required."},image_failed_moderation:{id:"YCCLnMQDPb",defaultMessage:"File {filename} failed moderation."},failed_moderation:{id:"hnN6c9ExET",defaultMessage:"File upload failed moderation."},rate_limited:{id:"el7NlqcDQZ",defaultMessage:"You have reached the daily upload limit for your plan."},over_file_count:{id:"2+5sg16GUy",defaultMessage:"You are allowed up to {maxNumFiles, plural, one {# file} other {# files}} at once."},over_image_count:{id:"FIudmpgA1s",defaultMessage:"You are allowed up to {maxNumImages, plural, one {# image} other {# images}} at once."}}),Wae=e=>!!(e?.meta_data?.connection_type&&e?.meta_data.connection_type!=="LOCAL"),n0=e=>!!(e.is_attachment&&(e.meta_data?.file_uuid||e.url)&&!Wae(e)),NJe=1080;function Ma(e){return typeof e=="string"?w2(e).startsWith("image/"):e.type.startsWith("image/")}const zae=(e,t=32)=>`https://www.google.com/s2/favicons?sz=${t}&domain=${e}`,RJe=(e,t,n)=>{const r=Math.max(e,t);if(r<=n)return{width:e,height:t};const s=n/r;return{width:Math.round(e*s),height:Math.round(t*s)}},AJe=(e,t=NJe)=>new Promise((n,r)=>{if(!Ma(e)){r(new Error("File is not an image."));return}const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image,o=URL.createObjectURL(e);if(!a){r(new Error("Could not get canvas context"));return}i.onload=()=>{const c=RJe(i.width,i.height,t);s.width=c.width,s.height=c.height,a.fillStyle="#fff",a.fillRect(0,0,s.width,s.height),a.drawImage(i,0,0,c.width,c.height),s.toBlob(u=>{if(!u){r(new Error("Failed to create blob from canvas"));return}const h=e.name.replace(/\.[^/.]+$/,"")+".jpg",m=new File([u],h,{type:"image/jpeg"});URL.revokeObjectURL(o),n(m)},"image/jpeg")},i.onerror=()=>{URL.revokeObjectURL(o),r(new Error("Failed to load image."))},i.src=o});var eC,L$;function jJe(){return L$||(L$=1,eC=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=r;s--!==0;){var i=a[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),eC}var PJe=jJe();const IJe=Rs(PJe);var Qv={exports:{}},tC,D$;function OJe(){if(D$)return tC;D$=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,s){var a={name:r,handler:s};return n[r]=n[r]||[],n[r].unshift(a),a},t.off=function(r){var s=n[r.name].indexOf(r);s!==-1&&n[r.name].splice(s,1)},t.trigger=function(r,s){var a=n[r],i;if(a)for(i=a.length;i--;)a[i].handler(s)},t},tC=e,tC}var Xv={exports:{}},nC,F$;function LJe(){if(F$)return nC;F$=1,nC=function(s,a,i){var o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof a=="function"&&(i=a,a={}),a=a||{},i=i||function(){},c.type=a.type||"text/javascript",c.charset=a.charset||"utf8",c.async="async"in a?!!a.async:!0,c.src=s,a.attrs&&e(c,a.attrs),a.text&&(c.text=""+a.text);var u="onload"in c?t:n;u(c,i),c.onload||t(c,i),o.appendChild(c)};function e(r,s){for(var a in s)r.setAttribute(a,s[a])}function t(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return nC}var U$;function DJe(){return U$||(U$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=LJe(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}t.default=function(a){var i=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var c=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(c+"//www.youtube.com/iframe_api",function(d){d&&a.trigger("error",d)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),o(window.YT)}});return i},e.exports=t.default}(Xv,Xv.exports)),Xv.exports}var Zv={exports:{}},Jv={exports:{}},ey={exports:{}},rC,B$;function FJe(){if(B$)return rC;B$=1;var e=1e3,t=e*60,n=t*60,r=n*24,s=r*365.25;rC=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return a(u);if(h==="number"&&isNaN(u)===!1)return d.long?o(u):i(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var d=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function i(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function o(u){return c(u,r,"day")||c(u,n,"hour")||c(u,t,"minute")||c(u,e,"second")||u+" ms"}function c(u,d,h){if(!(u<d))return u<d*1.5?Math.floor(u/d)+" "+h:Math.ceil(u/d)+" "+h+"s"}return rC}var $$;function UJe(){return $$||($$=1,function(e,t){t=e.exports=s.debug=s.default=s,t.coerce=c,t.disable=i,t.enable=a,t.enabled=o,t.humanize=FJe(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var d=0,h;for(h in u)d=(d<<5)-d+u.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}function s(u){function d(){if(d.enabled){var h=d,m=+new Date,p=m-(n||m);h.diff=p,h.prev=n,h.curr=m,n=m;for(var g=new Array(arguments.length),v=0;v<g.length;v++)g[v]=arguments[v];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var y=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(b,w){if(b==="%%")return b;y++;var _=t.formatters[w];if(typeof _=="function"){var C=g[y];b=_.call(h,C),g.splice(y,1),y--}return b}),t.formatArgs.call(h,g);var x=d.log||t.log||console.log.bind(console);x.apply(h,g)}}return d.namespace=u,d.enabled=t.enabled(u),d.useColors=t.useColors(),d.color=r(u),typeof t.init=="function"&&t.init(d),d}function a(u){t.save(u),t.names=[],t.skips=[];for(var d=(typeof u=="string"?u:"").split(/[\s,]+/),h=d.length,m=0;m<h;m++)d[m]&&(u=d[m].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function i(){t.enable("")}function o(u){var d,h;for(d=0,h=t.skips.length;d<h;d++)if(t.skips[d].test(u))return!1;for(d=0,h=t.names.length;d<h;d++)if(t.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}}(ey,ey.exports)),ey.exports}var H$;function BJe(){return H$||(H$=1,function(e,t){var n={};t=e.exports=UJe(),t.log=a,t.formatArgs=s,t.save=i,t.load=o,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}};function s(u){var d=this.useColors;if(u[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+u[0]+(d?"%c ":" ")+"+"+t.humanize(this.diff),!!d){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var m=0,p=0;u[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(m++,g==="%c"&&(p=m))}),u.splice(p,0,h)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function o(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(o());function c(){try{return window.localStorage}catch{}}}(Jv,Jv.exports)),Jv.exports}var ty={exports:{}},W$;function $Je(){return W$||(W$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(ty,ty.exports)),ty.exports}var ny={exports:{}},z$;function HJe(){return z$||(z$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(ny,ny.exports)),ny.exports}var ry={exports:{}},sy={exports:{}},V$;function WJe(){return V$||(V$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(sy,sy.exports)),sy.exports}var G$;function zJe(){return G$||(G$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=WJe(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(ry,ry.exports)),ry.exports}var q$;function VJe(){return q$||(q$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=BJe(),r=d(n),s=$Je(),a=d(s),i=HJe(),o=d(i),c=zJe(),u=d(c);function d(p){return p&&p.__esModule?p:{default:p}}var h=(0,r.default)("youtube-player"),m={};m.proxyEvents=function(p){var g={},v=function(k){var E="on"+k.slice(0,1).toUpperCase()+k.slice(1);g[E]=function(M){h('event "%s"',E,M),p.trigger(k,M)}},y=!0,x=!1,b=void 0;try{for(var w=o.default[Symbol.iterator](),_;!(y=(_=w.next()).done);y=!0){var C=_.value;v(C)}}catch(S){x=!0,b=S}finally{try{!y&&w.return&&w.return()}finally{if(x)throw b}}return g},m.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v={},y=function(E){g&&u.default[E]?v[E]=function(){for(var M=arguments.length,N=Array(M),R=0;R<M;R++)N[R]=arguments[R];return p.then(function(A){var P=u.default[E],O=A.getPlayerState(),I=A[E].apply(A,N);return P.stateChangeRequired||Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(O)===-1?new Promise(function(L){var F=function D(){var B=A.getPlayerState(),$=void 0;typeof P.timeout=="number"&&($=setTimeout(function(){A.removeEventListener("onStateChange",D),L()},P.timeout)),Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(B)!==-1&&(A.removeEventListener("onStateChange",D),clearTimeout($),L())};A.addEventListener("onStateChange",F)}).then(function(){return I}):I})}:v[E]=function(){for(var M=arguments.length,N=Array(M),R=0;R<M;R++)N[R]=arguments[R];return p.then(function(A){return A[E].apply(A,N)})}},x=!0,b=!1,w=void 0;try{for(var _=a.default[Symbol.iterator](),C;!(x=(C=_.next()).done);x=!0){var S=C.value;y(S)}}catch(k){b=!0,w=k}finally{try{!x&&_.return&&_.return()}finally{if(b)throw w}}return v},t.default=m,e.exports=t.default}(Zv,Zv.exports)),Zv.exports}var K$;function GJe(){return K$||(K$=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=OJe(),s=u(r),a=DJe(),i=u(a),o=VJe(),c=u(o);function u(h){return h&&h.__esModule?h:{default:h}}var d=void 0;t.default=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,s.default)();if(d||(d=(0,i.default)(g)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');m.events=c.default.proxyEvents(g);var v=new Promise(function(x){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var b=h;x(b)}else d.then(function(w){var _=new w.Player(h,m);return g.on("ready",function(){x(_)}),null})}),y=c.default.promisifyPlayer(v,p);return y.on=g.on,y.off=g.off,y},e.exports=t.default}(Qv,Qv.exports)),Qv.exports}var qJe=GJe();const KJe=Rs(qJe);var YJe=Object.defineProperty,QJe=Object.defineProperties,XJe=Object.getOwnPropertyDescriptors,Y$=Object.getOwnPropertySymbols,ZJe=Object.prototype.hasOwnProperty,JJe=Object.prototype.propertyIsEnumerable,Q$=(e,t,n)=>t in e?YJe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h8=(e,t)=>{for(var n in t||(t={}))ZJe.call(t,n)&&Q$(e,n,t[n]);if(Y$)for(var n of Y$(t))JJe.call(t,n)&&Q$(e,n,t[n]);return e},m8=(e,t)=>QJe(e,XJe(t)),eet=(e,t,n)=>new Promise((r,s)=>{var a=c=>{try{o(n.next(c))}catch(u){s(u)}},i=c=>{try{o(n.throw(c))}catch(u){s(u)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,i);o((n=n.apply(e,t)).next())});function tet(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const s=((n=e.opts)==null?void 0:n.playerVars)||{},a=((r=t.opts)==null?void 0:r.playerVars)||{};return s.start!==a.start||s.end!==a.end}function X$(e={}){return m8(h8({},e),{height:0,width:0,playerVars:m8(h8({},e.playerVars),{autoplay:0,start:0,end:0})})}function net(e,t){return e.videoId!==t.videoId||!IJe(X$(e.opts),X$(t.opts))}function ret(e,t){var n,r,s,a;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((s=e.opts)==null?void 0:s.height)!==((a=t.opts)==null?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var set={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},aet={videoId:me.string,id:me.string,className:me.string,iframeClassName:me.string,style:me.object,title:me.string,loading:me.oneOf(["lazy","eager"]),opts:me.objectOf(me.any),onReady:me.func,onError:me.func,onPlay:me.func,onPause:me.func,onEnd:me.func,onStateChange:me.func,onPlaybackRateChange:me.func,onPlaybackQualityChange:me.func},_2=class extends T.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,s,a,i,o,c,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case _2.PlayerState.ENDED:(a=(s=this.props).onEnd)==null||a.call(s,t);break;case _2.PlayerState.PLAYING:(o=(i=this.props).onPlay)==null||o.call(i,t);break;case _2.PlayerState.PAUSED:(u=(c=this.props).onPause)==null||u.call(c,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=m8(h8({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=KJe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let a=!1;const i={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(i.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(i.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(i);return}(s=this.internalPlayer)==null||s.cueVideoById(i)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return eet(this,null,function*(){ret(e,this.props)&&this.updatePlayer(),net(e,this.props)&&(yield this.resetPlayer()),tet(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return T.createElement("div",{className:this.props.className,style:this.props.style},T.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},v3=_2;v3.propTypes=aet;v3.defaultProps=set;v3.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Z$=v3;const J$={fadeIn:{opacity:1},fadeOut:{opacity:0}},iet={width:"100%",height:"100%",playerVars:{autoplay:1,color:"white",playsinline:1}},Sd=T.memo(e=>{const{isOpen:t,name:n,setisOpen:r,url:s}=e,a=s?pl(s):void 0,i=f.useRef(void 0),[o,c]=f.useState(!1),u=f.useCallback(m=>{i.current=m.target,c(!0)},[i]),d=f.useCallback(m=>{if(i.current)switch(m.key){case" ":{i.current.getPlayerState()===Z$.PlayerState.PLAYING?i.current.pauseVideo():i.current.playVideo();break}case"ArrowRight":{i.current.seekTo(i.current.getCurrentTime()+5,!0);break}case"ArrowLeft":{i.current.seekTo(i.current.getCurrentTime()-5,!0);break}}},[i]);f.useEffect(()=>(t?window.addEventListener("keydown",d):window.removeEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}),[d,t]);const h=f.useCallback(m=>{r(m)},[r]);return a?l.jsx(fA,{open:t,onOpenChange:h,children:l.jsx(ere,{className:"z-[10]",asChild:!0,children:l.jsxs(ke.div,{className:"bg-backdrop/65 fixed inset-0 flex items-center justify-center backdrop-blur-md",initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",variants:J$,transition:{duration:.2},children:[l.jsx(Tze,{asChild:!0,children:l.jsx(ye,{extraCSS:"!fixed top-md right-md shadow-sm",icon:tn,pill:!0,size:"small",variant:"common"})}),l.jsxs(Kw,{className:"grid outline-none","aria-describedby":void 0,children:[l.jsx(o1,{children:l.jsx(Yw,{children:n})}),l.jsxs(wt,{children:[!o&&l.jsx(ke.div,{className:"grid place-items-center [grid-area:1/-1]",initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",transition:{duration:.2},variants:J$,children:l.jsx(yl,{size:24})},"youtube-player-loading"),l.jsx(ke.div,{className:U("aspect-video overflow-hidden rounded-2xl shadow-lg [grid-area:1/-1] *:size-full","w-[calc(100dvw-(2*var(--size-md)))] sm:w-[75vw]"),initial:{opacity:0},animate:{opacity:o?1:0},transition:{duration:.2},children:l.jsx(Z$,{onReady:u,opts:iet,title:n,videoId:a})},"youtube-player-content")]})]})]},"youtube-player-overlay")})}):null});Sd.displayName="YoutubeVideoPlayer";const Vae=T.createContext({isVisible:!1}),Gae=T.memo(function(t){const{children:n}=t,[r,s]=f.useState((typeof document<"u"&&document?.visibilityState==="hidden")??!1);return f.useEffect(()=>{if(typeof window>"u")return;function a(){s(document.visibilityState==="hidden")}return document.addEventListener("visibilitychange",a,!1),()=>{typeof window>"u"||document.removeEventListener("visibilitychange",a)}},[]),l.jsx(Vae.Provider,{value:{isVisible:r},children:n})});Gae.displayName="VisibilityChangeProvider";function oet(){return f.useContext(Vae)}const qae=T.forwardRef(function(t,n){const{bounceDuration:r=6e4,blurDuration:s=5e3,children:a,href:i,trackEvent:o,className:c,onClickLink:u,...d}=t,[h,m]=f.useState(null),[p,g]=f.useState(null),v=f.useRef(!1),{isVisible:y}=oet();f.useEffect(()=>{if(!(v.current||!h)){if(h&&!p&&!y){const b=Date.now();b-h<s?g(b):v.current=!0;return}if(h&&p&&y){const b=Date.now()-p;b<r&&!v.current&&o?.("bounced from external link",{url:i,timeSpent:b}),g(null),v.current=!0}}},[s,p,r,h,i,y,o]);const x=f.useCallback(()=>{u?.(),m(Date.now()),v.current=!1},[u]);return l.jsx(it,{ref:n,href:i,target:"_blank",rel:"noopener",className:c,onClick:x,...d,children:a})}),VA=T.memo(function(t){const{className:n,children:r,result:s,trackEvent:a,...i}=t,o=U("group flex w-full cursor-pointer items-stretch h-full",n);return RN(s)?l.jsx(qae,{className:o,href:s.url,trackEvent:a,...i,children:l.jsx("div",{className:"w-full",children:r})}):l.jsx(l.Fragment,{children:r})});VA.displayName="CitationCardLink";const Kae=e=>e.is_scrubbed??!1,cet=e=>GA(e)?Kae(e):!1,GA=e=>e.is_memory||e.is_conversation_history,jFt=e=>e.is_memory,qA=e=>{const t=e.is_client_context,n=cet(e);return t||n},uet=$n({path:"M16.265 19.352h.1l4.933-12.484c.485-1.201.927-1.792 1.369-2.056V4.69h-2.97v.122c.622.346.762 1.283.34 2.361l-3.03 7.698-4.115-10.223h-.099L8.458 14.853 5.347 6.826c-.361-.956-.26-1.67.32-2.014V4.69H1.334v.122c.462.244.803.753 1.224 1.792l5.098 12.748h.1L12.05 9.027l4.215 10.325Z",name:"IconBrandWiley",variant:"filled"});function det(e,t,n=2){if(e==null)return"";const r=e.includes(".")?e.slice(e.lastIndexOf(".")):"",s=e.substring(0,e.length-r.length);return s.length>t?s.substring(0,t-r.length-3)+".".repeat(n)+r:s+r}const y3=e=>{try{return(new URL(e).pathname.split("/").pop()||"").split(".").pop()?.toLowerCase()}catch{return e.split(".").pop()?.toLowerCase()}},Yae=e=>e.file.type.includes("image"),fet=e=>e.file.type==="application/pdf",het=e=>e.file.type==="text/csv"||e.file.type=="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",met=e=>e.file.type==="text/plain"||e.file.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||e.file.type==="text/markdown",p8={txt:"text/plain",pdf:"application/pdf",jpeg:"image/jpeg",jpg:"image/jpeg",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",md:"text/markdown",png:"image/png",csv:"text/csv"},pet=e=>{if(e<0)throw new Error("Number of bytes cannot be negative");const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1e3&&n<t.length-1;)r/=1e3,n++;return`${r%1===0?r.toString():r.toFixed(1)} ${t[n]}`},Qa={PDF:"pdf",TXT:"txt",CSV:"csv",XLSX:"xlsx",DOCX:"docx",PPTX:"pptx",MARKDOWN:"md",JSON:"json",JPG:"jpg",JPEG:"jpeg",PNG:"png"},get=e=>{switch(y3(e)){case Qa.TXT:return cM;case Qa.MARKDOWN:return cM;case Qa.PDF:return ADe;case Qa.XLSX:return wee;case Qa.CSV:return NDe;case Qa.DOCX:return RDe;case Qa.PPTX:return jDe;case Qa.JPG:case Qa.JPEG:case Qa.PNG:return _w;default:return yd}},vet={"my.apps.factset.com":"www.factset.com"},bc=T.memo(({domain:e,overrideIconUrl:t,size:n=16,hideBorder:r=!1,className:s,...a})=>{const i=vet[e]||e,o=zae(i,128),c=f.useMemo(()=>t||o,[t,o]),[u,d]=f.useState(!0);f.useEffect(()=>{d(!0)},[c]);const h=f.useMemo(()=>({width:n,height:n}),[n]),m=f.useMemo(()=>({width:n*.7,height:n*.7}),[n]);return l.jsxs("div",{style:{width:n,height:n},className:U("relative overflow-hidden rounded-full",s),...a,children:[u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:U("rounded-inherit absolute inset-0",!r&&"bg-white")}),l.jsx("img",{className:"relative block",src:c,alt:`${e} favicon`,width:n,height:n,onLoad:p=>{const g=p.target,v=t!==void 0||g.naturalWidth!==16||g.naturalHeight!==16;d(v||e!==i)},onError:()=>{d(!1)},style:{width:n,height:n}})]}):l.jsx(H,{variant:"offset",style:h,className:"flex items-center justify-center",children:l.jsx(j,{color:"ultraLight",children:l.jsx(_e,{icon:kw,className:"relative block",style:m})})}),!r&&l.jsx("div",{className:"rounded-inherit absolute bottom-0 left-0 right-0 top-0 border border-[black]/10 dark:border-transparent"})]})}),yet={[fn.GOOGLE_DRIVE]:nDe,[fn.ONEDRIVE]:aDe,[fn.SHAREPOINT]:dee,[fn.DROPBOX]:HXe,[fn.BOX]:$Xe,[fn.GENERATED_IMAGE]:_w,[fn.GENERATED_VIDEO]:xFe,[fn.NOTION]:sDe,[fn.WILEY]:uet,[fn.LOCAL]:yd},Qae=T.memo(({url:e,isConversationHistory:t,isMemory:n,isInlineAttachment:r,connectionType:s,isAttachment:a,isClientContext:i})=>{const o=f.useMemo(()=>{const c=NN(e),u=a?get(e):null;if(t)return l.jsx(_e,{icon:Qh,size:"xs"});if(n)return l.jsx(_e,{icon:Yh,size:"xs"});if(r)return l.jsx(_e,{icon:VN,size:"xs"});if(s){const d=yet[s];return d?l.jsx(_e,{icon:d}):l.jsx(bc,{domain:c})}else return a?l.jsx(_e,{icon:u||yd,size:"xs"}):i?l.jsx(_e,{icon:zDe,size:"xs"}):l.jsx(bc,{domain:c})},[e,t,n,r,s,a,i]);return l.jsx("div",{className:"flex size-4 items-center justify-center",children:o})}),Xae=T.memo(({url:e,source:t,isAttachment:n,connectionType:r,isConversationHistory:s})=>{const a=K(),i=f.useMemo(()=>{if(s)return a.formatMessage({defaultMessage:"library",id:"B7J+pmy9R5"});if(t!=null)return t;let o;return n?o=kOe(e):r?o=LA(r):o=$s(e),o.replace(/\.[^.]*$/,"")},[e,t,n,r,s,a]);return l.jsx(l.Fragment,{children:i.toLocaleLowerCase()})}),xet=T.memo(({url:e,source:t,isAttachment:n,isClientContext:r,variant:s="small",color:a="default",truncate:i=!0,className:o,connectionType:c,isInlineAttachment:u,isMemory:d,isConversationHistory:h,name:m,snippet:p,...g})=>l.jsxs(H,{className:"flex items-center gap-x-1.5",children:[l.jsx(j,{variant:s,className:"relative -mt-px flex-none",color:d||h?"light":a,children:l.jsx(Qae,{url:e,isConversationHistory:h,isMemory:d,isInlineAttachment:u,connectionType:c,isAttachment:n,isClientContext:r})}),m&&l.jsx(j,{variant:s,color:a,...g,className:U(o,"min-w-0 truncate"),children:m}),l.jsx(j,{variant:s,color:m?"light":a,className:U("line-clamp-1 min-w-0 grow break-all transition-all duration-300",{"max-w-[150px]":t!=null&&i},o),...g,children:l.jsx(Xae,{url:e,source:t,isAttachment:n,connectionType:c,isMemory:d,isConversationHistory:h})})]})),wc=Object.assign(xet,{Icon:Qae,Source:Xae}),KA=T.memo(({variant:e="medium",searchType:t})=>{const n=t==="memory",s=U("flex items-center justify-between w-full",e==="small"?"mb-0":"mb-2");return l.jsxs("div",{className:s,children:[l.jsxs(j,{className:"flex items-center gap-2",variant:"tiny",color:"light",children:[l.jsx(_e,{icon:n?Yh:Qh,size:"sm"}),n?l.jsx(ce,{defaultMessage:"Memory",id:"dVx3yznM2C"}):l.jsx(ce,{defaultMessage:"Library",id:"StcK672jB9"})]}),l.jsx(j,{variant:"tiny",color:"ultraLight",children:l.jsx(_e,{icon:Lee,size:"sm"})})]})});KA.displayName="MemorySearchCitationCardTitle";const Zae=T.memo(function(t){const{$t:n}=K(),{result:r,citationNumber:s,additionalMetadata:a,variant:i}=t,o=r.url,c=r.meta_data?.generated_file_description??r.snippet,u=r.meta_data?.generated_file_title??r.name,d=r?.is_client_context,h=!!r.meta_data?.connection_type,m=typeof r.meta_data?.quoteBeforeContext=="string"?r.meta_data?.quoteBeforeContext:"",p=typeof r.meta_data?.quoteEmphasisText=="string"?r.meta_data?.quoteEmphasisText:"",g=typeof r.meta_data?.quoteAfterContext=="string"?r.meta_data?.quoteAfterContext:"",v=m.length>0||p.length>0||g.length>0,y=i!=="grid"&&c&&v,x=r.meta_data?.repo_type,b=typeof r.meta_data?.wiley_book_uuid=="string",w=typeof r.meta_data?.domain_name=="string"?r.meta_data?.domain_name:void 0,_=MJe(r),C=()=>{if(h&&r.meta_data?.connection_type!==fn.WILEY)return LA(r.meta_data?.connection_type);if(r.is_attachment){if(x=="USER")return n({defaultMessage:"Local Files",id:"FBnEWaGOHR"});if(x=="ORG")return n({defaultMessage:"Org Files",id:"DaFSYzpM1Q"});if(x=="COLLECTION")return n({defaultMessage:"Files",id:"m4vqJl0/FT"});if(!r?.meta_data?.file_uuid)return n({defaultMessage:"Attachment",id:"eLCAEP8LHj"})}return w},S=GA(r),k=r.is_memory,E=qA(r);return l.jsxs("div",{className:U("items gap-xs pointer-events-none relative flex h-full max-w-full select-none flex-col",{"px-sm pb-sm pt-sm w-full":i==="grid"},{"p-md":i!=="grid"}),children:[l.jsxs("div",{className:"flex w-full items-center justify-between",children:[S&&!E?l.jsx(KA,{variant:"small",searchType:k?"memory":"conversation-history"}):l.jsxs("div",{className:"space-x-xs flex",children:[a||(i!=="grid"?l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"tiny",color:"light",children:s}),l.jsx(j,{variant:"tiny",color:"light",children:"·"})]}):null),l.jsx(wc,{variant:"tiny",color:"light",url:o,isAttachment:r.is_attachment,connectionType:r.meta_data?.connection_type,source:C(),isInlineAttachment:_})]}),l.jsxs("div",{children:[b&&l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(_e,{size:"sm",icon:Dee})}),d&&i==="grid"?l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(_e,{size:"sm",icon:Oee})}):null]})]}),l.jsx(j,{variant:i==="grid"?"tiny":i==="list"?"small":"base",className:U("",{"":i==="grid","pr-1":i==="list"}),children:k&&!E?l.jsx(j,{variant:"tiny",className:"line-clamp-2 h-8",children:r?.snippet}):l.jsx("span",{className:"line-clamp-1 text-left md:line-clamp-2 md:h-8",children:u||l.jsx("div",{children:" "})})}),u!==r.name?l.jsx(j,{variant:"small",color:"light",className:"line-clamp-1",children:r.name}):null,y&&l.jsxs(j,{variant:i==="list"?"tiny":"small",className:"mt-two line-clamp-8 border-super border-l-4 pl-2 font-normal",children:[l.jsx("span",{children:m}),l.jsx("span",{className:"bg-super/30",children:p}),l.jsx("span",{children:g})]}),i!=="grid"&&c&&!v&&l.jsx(j,{variant:i==="list"?"tiny":"small",className:"mt-two line-clamp-1 font-normal md:line-clamp-4",children:c}),E&&i!=="grid"?l.jsxs(H,{className:"gap-xs pt-sm mt-xs flex items-center border-t",children:[l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(_e,{size:"sm",icon:Lee})}),l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(ce,{defaultMessage:"Personal Search",id:"7+aLCEyqS2",description:"title"})})]}):null]})});Zae.displayName="CitationDefaultCard";function Jae(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var sC={},eH;function bet(){return eH||(eH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="microchip-ai",r=512,s=512,a=[],i="e1ec",o="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c-35.3 0-64 28.7-64 64l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c0 35.3 28.7 64 64 64l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c35.3 0 64-28.7 64-64l40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0c0-35.3-28.7-64-64-64l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40zm32 152c6.4 0 12.1 3.8 14.7 9.6l42 96 14 32c3.5 8.1-.1 17.5-8.2 21.1s-17.5-.2-21.1-8.2L239.5 304l-63.1 0-9.8 22.4c-3.5 8.1-13 11.8-21.1 8.2s-11.8-13-8.2-21.1l14-32 42-96c2.5-5.8 8.3-9.6 14.7-9.6zm17.5 96L208 231.9 190.5 272l35.1 0zM336 176c8.8 0 16 7.2 16 16l0 128c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faMicrochipAi=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(sC)),sC}var wet=bet();const _et=({children:e,className:t,delimiter:n="·",...r})=>{const s=T.Children.toArray(e),a=s.map((i,o)=>{if(T.isValidElement(i)&&i.type===eie){const c=i.props.id;return l.jsxs(T.Fragment,{children:[i,o!==s.length-1&&l.jsxs(j,{className:"inline-flex !text-inherit",children:[" ",n," "]})]},c)}return null});return l.jsx("div",{className:`gap-sm flex items-center ${t}`,...r,children:a})},eie=({children:e})=>l.jsx(l.Fragment,{children:e}),El=_et,Gn=eie,g1=T.memo(({isOpen:e,onClose:t,imgProps:n,alt:r,width:s,height:a,origin:i,onDownload:o})=>{const{url:c,name:u,showCitation:d=!0}=i||{},h=Ks(),m=f.useCallback(p=>{p.stopPropagation(),o?.()},[o]);return l.jsxs(jt,{onClose:t,isOpen:e,variant:"hide-chrome",disableAnimation:!1,removeScroll:!h,modalClassname:"z-[100]",children:[l.jsx("div",{className:"flex h-screen w-screen place-content-center",onClick:t,children:l.jsxs("div",{className:U("gap-md p-md md:p-lg flex w-full flex-col",{"md:pb-md":d&&(c||o)}),children:[l.jsx("div",{className:"relative grow",children:l.jsx("img",{width:s,height:a,...n,alt:r,className:"absolute inset-0 size-full object-contain"})}),d&&(c||o)?l.jsxs("div",{className:"gap-sm flex w-full flex-row justify-center",children:[c&&l.jsx(it,{href:c,target:"_blank",children:l.jsxs(H,{variant:"offsetPlus",className:"gap-x-xs bg-offset/50 p-sm dark:bg-offsetDark/80 flex items-center rounded-full",children:[l.jsx(wc,{url:c,source:u,isAttachment:!1}),l.jsx(j,{variant:"small",className:"pr-xs",children:l.jsx(_e,{icon:il,size:"xs"})})]})}),o&&l.jsx(H,{as:"button",onClick:m,variant:"offsetPlus",className:"gap-x-xs bg-offset/50 p-sm dark:bg-offsetDark/80 flex !aspect-square w-9 items-center justify-center rounded-full",children:l.jsx(_e,{icon:HN,size:"sm"})})]}):null]})}),l.jsx(ye,{onClick:t,icon:tn,extraCSS:"!fixed top-md right-md shadow-sm",size:"small",pill:!0,ariaLabel:"Close"})]})});g1.displayName="LightboxImage";const fs=T.memo(({src:e,lightboxSrc:t,alt:n,fadeIn:r,fallbackSrc:s,fallback:a,hasShadow:i=!1,includeLightBoxModal:o=!0,origin:c,draggable:u=!0,imageClassName:d,maskClassName:h,containerClassName:m,rounded:p="md",onClick:g,AIProps:v,authorName:y,authorUrl:x,onLoad:b,onFail:w,softBlockSaveImage:_=!1,imageRef:C,imageProps:S,testId:k,onDownload:E,...M})=>{const[N,R]=f.useState(!1),[A,P]=f.useState(!1),[O,I]=f.useState(!1),L=f.useRef(null),{isAI:F,AILabel:D}=v||{isAI:!1,AILabel:""},B=f.useCallback(()=>{R(!0),w?.()},[]),$=f.useCallback(()=>{P(!0),b?.()},[P,b]);f.useEffect(()=>{if(L.current){if(L.current.complete){$();return}L.current.src||(L.current.src=e)}},[e,$,L]);const W=U(d,"transition-all ease-in-out",{"opacity-100 duration-200 scale-100":A&&r,"opacity-0 scale-[0.98]":!A&&r,"hidden opacity-0":N&&!s,"max-h-[90vh]":o,"cursor-zoom-in hover:shadow-lg duration-200 ":o&&!O}),X=f.useMemo(()=>({className:W,src:e,alt:n,onError:B,onClick:()=>I(!0),...S}),[n,W,S,B,e]),ee=f.useMemo(()=>({ref:L,onLoad:$,...X}),[$,X]),ne=f.useMemo(()=>({...X,src:t??e}),[t,X,e]),V=f.useCallback(te=>{te.stopPropagation()},[]),q=l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"tiny",color:"white",className:"px-xs py-two h-5 rounded-md bg-black/60 opacity-0 transition-all group-hover:opacity-100",children:l.jsxs(El,{className:"gap-xs",children:[l.jsx(Gn,{id:"authorName",children:y}),x?l.jsx(Gn,{id:"authorDomain",children:$s(x)}):null]})}),l.jsx("div",{className:"h-xs w-xs bg-black/60 opacity-0 transition-all group-hover:opacity-100"})]}),z=f.useCallback(()=>I(!1),[]);if(N){if(s&&L.current)L.current.src=s;else if(a!==void 0)return a}return l.jsxs(l.Fragment,{children:[l.jsx("div",{onClick:g,className:m,"data-testid":k,children:l.jsxs("div",{className:U("bg-offset group relative h-full w-full overflow-hidden",h,{"shadow-md":i&&A,"transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-lg":i,"rounded-sm":p==="sm","rounded-md":p==="md",rounded:p===!0}),children:[F&&l.jsxs("div",{className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:[l.jsx("div",{children:l.jsx(j,{variant:"tiny",color:"white",className:"gap-x-two px-xs py-two flex h-5 items-center rounded-md bg-black/60 opacity-0 transition-all group-hover:opacity-100",children:l.jsx("span",{className:"",children:D})})}),l.jsx("div",{className:"h-xs w-xs bg-black/60 opacity-0 transition-all group-hover:opacity-100"}),l.jsx("div",{children:l.jsx(j,{variant:"tiny",color:"white",className:"gap-x-two p-two flex h-5 items-center rounded-md bg-black/60",children:l.jsx(gt,{fixedWidth:!0,icon:wet.faMicrochipAi})})})]}),y&&(x?l.jsx(it,{href:x??"",target:"_blank",onClick:V,className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:q}):l.jsx("div",{onClick:V,className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:q})),_&&!F&&l.jsx("div",{className:"absolute inset-0",onClick:o?()=>I(!0):void 0}),l.jsx("img",{width:M.width,height:M.height,alt:n,...ee,ref:Jae([C,L]),draggable:u})]})}),o&&l.jsx(g1,{onClose:z,isOpen:O,imgProps:ne,origin:c,width:M.width,height:M.height,alt:n,onDownload:E})]})});fs.displayName="Image";const tie=T.memo(function(t){const{result:n,imageURL:r,citationNumber:s,useLightBoxModal:a=!0}=t,i=U(" w-full relative max-h-[76px]");return l.jsxs("div",{className:i,children:[l.jsx(fs,{includeLightBoxModal:a,alt:n.name,containerClassName:"w-full h-full p-xs",imageClassName:"object-cover object-center w-full h-full rounded-md",src:r}),s&&l.jsx(j,{className:"bottom-sm left-sm px-xs absolute z-[1] inline-flex rounded-sm bg-black/50",variant:"tiny",color:"white",children:s})]})});tie.displayName="CitationImageCard";class Cet extends Date{constructor(t){const n=t?new Date(t):new Date,r=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());super(r)}getTimezoneOffset(){return 0}}class x3{static isRecentlyTrending(t,n=432e5){return t.meta_data?.client!=="trending"?!1:new Date().getTime()-new Cet(t.meta_data?.published_date).getTime()<n}}function nie(e){const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function PFt(e){return!isNaN(new Date(e).getTime())}function IFt(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Eet(e){const t=new Date;return t.setDate(t.getDate()-1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function rie(e){const t=new Date;return t.setDate(t.getDate()+1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function b3(e,t,n={numeric:"auto",style:"long"},r=1e3*60*60*24){if(!t)return"";const s=new Date(t);if(isNaN(s.getTime()))return"";const a=s.getTime()-Date.now(),i=Math.abs(a);return i<=1e3?"":i<1e3*60?e.formatRelativeTime(Math.round(a/1e3),"second",n):i<1e3*60*60?e.formatRelativeTime(Math.round(a/(1e3*60)),"minute",n):i<r&&i<1e3*60*60*24?e.formatRelativeTime(Math.round(a/(1e3*60*60)),"hour",n):i<r&&i>=1e3*60*60*24?e.formatRelativeTime(Math.round(a/(1e3*60*60*24)),"day",n):e.formatDate(s,{month:"short",day:"numeric",year:"numeric"})}const w3=T.memo(e=>{const{children:t,timestamp:n,timestampProps:r,includeIcon:s=!0}=e,a=K();if(!n)return null;const i=n?.endsWith("Z")?n:`${n}Z`;return l.jsxs(H,{className:"gap-x-xs flex",children:[s?l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(_e,{icon:uee,size:"xs"})}):null,l.jsxs(j,{variant:"tinyRegular",color:"light",...r,children:[t&&l.jsxs(l.Fragment,{children:[t," "]}),b3(a,i)]})]})}),sie=T.memo(e=>{const{result:t,imageURL:n}=e,r=t.url,s=K(),a=f.useMemo(()=>({color:"white"}),[]),i=f.useMemo(()=>l.jsx(w3,{recentlyUpdatedLabel:s.$t({defaultMessage:"just now",id:"I90sbWU03C"}),timestamp:t.meta_data?.published_date,timestampProps:a,includeIcon:!1,children:s.$t({defaultMessage:"Updated",id:"xrk6zgu9jU"})}),[s,t.meta_data?.published_date,a]);return l.jsxs("div",{className:U("p-sm gap-sm flex h-full max-h-[190px]"),children:[l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsxs("div",{className:"space-x-xs flex justify-between",children:[l.jsx(wc,{variant:"tiny",color:"light",url:r,isAttachment:t.is_attachment}),x3.isRecentlyTrending(t)?l.jsx(Dn,{tooltipText:i,children:l.jsx(uee,{className:"text-super size-3.5"})}):null]}),l.jsx("div",{children:l.jsx(j,{variant:"tiny",className:"line-clamp-2",children:t.name})})]}),n?l.jsx("div",{className:"relative -mb-1 -mr-1 -mt-1 h-[60px] w-[60px] shrink-0",children:l.jsx(fs,{includeLightBoxModal:!1,alt:t.name,containerClassName:"w-full h-full",imageClassName:"object-cover object-center w-full h-full  rounded-md",src:n})}):null]})});sie.displayName="CitationTrendingCard";const v1=T.memo(({result:e,idx:t,isSelected:n,testId:r,additionalMetadata:s,isTrendingLayout:a=!1,trackEvent:i,downloadCitation:o,getImageUrl:c,variant:u,isSidecar:d,onClick:h,useLightBoxModal:m=!0})=>{const p=e.meta_data?.file_uuid?"fileRepositoryFile":e.is_attachment?"fileAttachment":"sourceCard";f.useEffect(()=>{i?.("source card viewed",{citation_url:e.url,position:t,title:e.name,source:p})},[i,e.name,e.url,t,p]);const g=e.url,[v,y]=f.useState(()=>!e.is_memory&&AN(e.url)?e.url:null),[x,b]=f.useState(!1),w=f.useMemo(()=>g&&!d&&pl(g),[g,d]),[_,C]=f.useState(!1),S=Wae(e),k=Ma(e.url),E=!w&&!e.is_attachment&&!k,M=a&&e.meta_data?.client==="trending",N=f.useMemo(()=>M?l.jsx(sie,{result:e,authors:e.meta_data?.authors,imageURL:e.meta_data?.images?.[0],citationNumber:t+1}):k&&v?l.jsx(tie,{result:e,imageURL:v,useLightBoxModal:m}):k&&!v?l.jsx(Eu,{blockCount:1,size:"large"}):l.jsx(Zae,{result:e,citationNumber:t+1,variant:u,additionalMetadata:s,isSelected:n}),[M,k,v,e,t,m,u,s,n]),R=f.useCallback((P,O)=>{b(O),y(P)},[]),A=f.useRef(null);return f.useEffect(()=>{const P=new IntersectionObserver(I=>{I.forEach(L=>{L.isIntersecting&&k&&v===null&&!x&&c?.(e,R)})},{threshold:.1}),O=A.current;return O&&k&&P.observe(O),()=>{O&&k&&P.unobserve(O)}},[A,g,c,e,v,R,x,k]),l.jsxs(VA,{result:e,trackEvent:i,children:[l.jsx("div",{ref:A,onClick:P=>{const O=typeof e.meta_data?.quoteBeforeContext=="string"?e.meta_data?.quoteBeforeContext:"",I=typeof e.meta_data?.quoteEmphasisText=="string"?e.meta_data?.quoteEmphasisText:"",L=typeof e.meta_data?.quoteAfterContext=="string"?e.meta_data?.quoteAfterContext:"",F=O.length>0||I.length>0||L.length>0;if(w&&!_&&C(!0),S&&typeof window<"u"){const D=window.open(g,"_blank");D&&D.focus()}else o&&!k?(P.preventDefault(),o(e)):h?.(P);i?.("click citation",{source:p,citation_url:g}),F&&i?.("click check sources citation",{source:p,citation_url:g,quoteBeforeContext:O,quoteEmphasisText:I,quoteAfterContext:L})},className:U("group relative flex w-full items-stretch",{"h-full":u==="grid","cursor-pointer":!!o||!!w||!!h}),"data-test-id":r,children:l.jsx(H,{variant:"offset",bgHover:E||w?"offsetPlus":void 0,className:U("flex w-full rounded-lg",{"bg-super/10 ring-super/80 hover:!bg-super/10 dark:bg-super/20 dark:ring-super/80 dark:hover:!bg-super/20 ring-1":n}),children:N},e.name)}),w&&g&&e.name&&l.jsx(Sd,{isOpen:_,name:e.name,url:g,setisOpen:C})]})});v1.displayName="CitationCard";const ket=Ee(async()=>({default:(await he(()=>import("./MarkSpinner-B-Nur9YQ.js").then(t=>t.a),__vite__mapDeps([2,1]))).MarkSpinner})),aie=T.memo(({entryUUID:e,frontendContextUUID:t,contextUUID:n,webResults:r,isOpen:s,onClose:a,extendedBeforeContext:i,beforeContext:o,selectedText:c,afterContext:u,state:d})=>{const{$t:h}=K(),{isMobileStyle:m}=Oe(),{trackEvent:p}=Ne(),g=f.useCallback((b,w)=>{p(b,{entryUUID:e,frontendContextUUID:t,contextUUID:n,selectedTextExtendedBeforeContext:i,selectedTextBeforeContext:o,selectedText:c,selectedTextAfterContext:u,...w})},[e,t,n,i,o,c,u,p]),v=r?.length??0,y=d==="completed"?v===0?h({defaultMessage:"No sources",id:"tN3HZvczgp"}):h({defaultMessage:"{sources, plural, one {# source} other {# sources}}",id:"oWRBjE1HK2"},{sources:v}):h(d==="loading"?{defaultMessage:"Checking...",id:"1SvspNS1us"}:{defaultMessage:"Error",id:"KN7zKn8z4F"}),x=f.useMemo(()=>l.jsxs("div",{className:"gap-sm md:gap-md flex items-center",children:[l.jsx(ket,{size:32,shouldAnimate:d==="loading"}),l.jsx(j,{variant:"page-title",className:U("mr-lg line-clamp-1 md:line-clamp-2"),children:y})]}),[d,y]);return l.jsxs(jt,{isOpen:s,variant:m?"bottom-left-sheet":"side-sheet",onClose:a,titleContent:x,children:[l.jsxs(j,{children:[l.jsx("span",{children:o}),l.jsx("span",{className:"bg-super/30 font-bold",children:c}),l.jsx("span",{children:u})]}),l.jsx("hr",{className:"my-4 w-full border-t border-gray-200"}),l.jsx(H,{className:"gap-md flex h-full flex-col items-start",children:r?.map((b,w)=>l.jsx("div",{className:"gap-sm flex w-full min-w-[0] flex-row-reverse",children:l.jsx(v1,{result:b,idx:w,isSelected:!1,variant:"modal",trackEvent:g})},w))})]})});aie.displayName="CheckSourcesModal";const ng=/<q>(.*?)<\/q>/s,tH=(e,t)=>{if(!e||!t)return e;const n=e.trim(),r=n[n.length-1];return r&&!["!","?",".",":",";"].includes(r)?`${n}. ${t}`:`${n} ${t}`};function r0(e,t){if(!e)return{quote:null,actualQuery:null};if(!ng.test(e)){const o=t?.join(" ").trim();return{quote:null,actualQuery:o?tH(e,o):e}}const s=e.match(ng)?.[1]||null;let a=e.replace(ng,"").trim();const i=t?.join(" ").trim();return i&&(a=tH(a,i)),{quote:s,actualQuery:a}}function Met(e,t){const n=t.trim();return n?ng.test(e)?e.replace(ng,`<q>${n}</q>`):e.length===0?n:`<q>${n}</q> ${e}`:e}const OFt=3,Tet=120,Net=1.5,LFt=2,DFt=4;function iie(e){return"article_info"in e}const FFt=(e,t)=>({backend_uuid:"",context_uuid:"",frontend_context_uuid:"",knowledge_cards:void 0,widget_data:void 0,query_str:e,status:Cs.STAGED.toLowerCase(),uuid:t,article_info:{title:e,summary:"",has_changed_title:!1,layout:"text",format:"paragraph",length:"concise",suggested_sections:[],user_selected_media_items:[],audience:"anyone",read_time:0,hero_offset:-1,emphasize_sources:!1,is_live:!1,is_auto_generated:!1},prompt_source:"page_suggestion",final:!1,mode:zp.ARTICLE.toLowerCase(),sources:{sources:[]},should_index:!1,updated_datetime:void 0,thread_url_slug:void 0,expiry_time:null,thread_access:0,privacy_state:ox.NONE}),UFt=e=>e?e.image_width&&e.image_height?e.image_width<Tet?!1:e.image_width>=Net*e.image_height:!0:!1,BFt=(e,t,n,r)=>{const s=[...e],a=t.find(i=>i.image===n);return a&&r<s.length&&s.splice(r,1,a),s},$Ft=(e,t,n)=>{const r=[...e],s=r.findIndex(a=>a.image===t);if(s!==-1&&n<r.length){const a=r[n];r[n]=r[s],r[s]=a}return r},_3=()=>{const e=Dt(),t=cn(),{firstResult:{backend_uuid:n,context_uuid:r}={}}=fr(),s=f.useCallback((a,i)=>{io({name:a,data:{entryUUID:n,threadUUID:r,...i,isPerplexityBrowser:t},session:e??void 0})},[n,r,t,e]);return f.useMemo(()=>({trackEvent:s}),[s])};var YA="Checkbox",[Ret,HFt]=Ci(YA),[Aet,jet]=Ret(YA),oie=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:o,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,p]=f.useState(null),g=Kn(t,_=>p(_)),v=f.useRef(!1),y=m?d||!!m.closest("form"):!0,[x=!1,b]=jc({prop:s,defaultProp:a,onChange:u}),w=f.useRef(x);return f.useEffect(()=>{const _=m?.form;if(_){const C=()=>b(w.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[m,b]),l.jsxs(Aet,{scope:n,state:x,disabled:o,children:[l.jsx(xn.button,{type:"button",role:"checkbox","aria-checked":sc(x)?"mixed":x,"aria-required":i,"data-state":uie(x),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:g,onKeyDown:It(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:It(e.onClick,_=>{b(C=>sc(C)?!0:!C),y&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),y&&l.jsx(Pet,{control:m,bubbles:!v.current,name:r,value:c,checked:x,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:sc(a)?!1:a})]})});oie.displayName=YA;var lie="CheckboxIndicator",cie=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=jet(lie,n);return l.jsx(As,{present:r||sc(a.state)||a.state===!0,children:l.jsx(xn.span,{"data-state":uie(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});cie.displayName=lie;var Pet=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,i=f.useRef(null),o=bA(n),c=Aw(t);f.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=sc(n),p.call(d,sc(n)?!1:n),d.dispatchEvent(g)}},[o,n,r]);const u=f.useRef(sc(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sc(e){return e==="indeterminate"}function uie(e){return sc(e)?"indeterminate":e?"checked":"unchecked"}var Iet=oie,Oet=cie;const QA=T.memo(({checked:e,toggleChecked:t,className:n="",variant:r="default",unselectedCheckboxClassName:s,...a})=>l.jsx(Iet,{className:U("inline-flex cursor-pointer items-center justify-center duration-150 md:hover:opacity-50",{"size-[24px]":r==="large","size-[18px]":r==="default"},n),checked:e,onCheckedChange:t,...a,children:l.jsx(H,{variant:e?"super":"background",className:U("border-textMain/35 dark:border-textMainDark/35 inline-flex size-full items-center justify-center rounded border",{"!border-super bg-super":e},!e&&s),children:l.jsx(Oet,{children:l.jsx(wt,{children:e&&l.jsx(ke.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{type:"spring",bounce:.2,duration:.2},children:l.jsx(_e,{icon:da,size:"sm",className:"text-background"})})})})})})),die=T.memo(({onSelect:e,isSelected:t,result:n,idx:r})=>{const s=i=>{e?.(i)},{trackEvent:a}=Ne();return l.jsxs("div",{className:"gap-sm flex w-full flex-row-reverse",children:[l.jsx("div",{className:"w-full min-w-[0]",children:l.jsx(v1,{result:n,idx:r,isSelected:t,variant:"modal",trackEvent:a})}),e&&l.jsx("div",{className:"mt-[6px] shrink-0",children:l.jsx(QA,{checked:t,toggleChecked:s.bind(null,n.url)})})]})});die.displayName="ManageCitationRow";const XA=T.memo(({webResults:e,isOpen:t,submit:n,onClose:r,entry:s})=>{const{$t:a}=K(),{isMobileStyle:i}=Oe(),[o,c]=f.useState([]),{trackEvent:u}=_3(),d=b=>{c(w=>w.includes(b)?w.filter(_=>_!==b):w.concat(b))},h=f.useCallback(()=>{c([]),r()},[c,r]),m=f.useCallback(b=>{u("click apply curation",{toDelete:b,entryUUID:s?.backend_uuid??void 0}),n?.(b)},[u,s,n]),p=f.useCallback(()=>{o.length>0&&m([...o]),h()},[o,h,m]),g=f.useMemo(()=>o.length>0?[{text:o.length===0?a({defaultMessage:"No sources",id:"tN3HZvczgp"}):a({defaultMessage:"{sources, plural, one {Remove # source} other {Remove # sources}}",id:"aRfiMe0V3R"},{sources:o.length}),disabled:o.length===0,onClick:p}]:[],[o.length,a,p]),v=s?.query_str??"";let y=v?r0(v).actualQuery:"";s&&iie(s)&&s.article_info?.title&&(y=s.article_info.title);const x=e?.length??0;return l.jsx(jt,{actionList:g,title:x===0?a({defaultMessage:"No sources",id:"tN3HZvczgp"}):a({defaultMessage:"{sources, plural, one {# source} other {# sources}}",id:"oWRBjE1HK2"},{sources:x}),subtitle:y??void 0,isOpen:t,variant:i?"bottom-left-sheet":"side-sheet",onClose:h,icon:e0,children:l.jsx(H,{className:"gap-md flex h-full flex-col items-start",children:e?.map((b,w)=>l.jsx(die,{onSelect:s&&n?d:void 0,isSelected:o.includes(b.url),idx:w,result:b},b.url))})})});XA.displayName="CitationListModal";const Let=20,Det=async({queryParams:e,headers:t={},reason:n})=>{const r="getMemories";try{const s=await J.GET("/rest/memories/list",n,{params:{query:{limit:e.limit,offset:e.offset,query:e.query},timeoutMs:ds.MEDIUM},headers:t});return s.data?{memories:s.data.memories,totalCount:s.data.total_memory_count}:{memories:[],totalCount:0}}catch(s){return Q.log(`Error in ${r}:`,s),{memories:[],totalCount:0}}},Fet=(e,t)=>{const n=t.reduce((r,s)=>r+s.memories.length,0);if(n<e.totalCount)return n},WFt=({initialPageParam:e=0,searchQuery:t,reason:n})=>Nc({queryKey:lA(t),queryFn:async({pageParam:r})=>Det({queryParams:{limit:Let,offset:r??0,query:t},reason:n}),getNextPageParam:Fet,initialPageParam:e,refetchOnMount:"always",placeholderData:r=>r}),Uet=async({memoryKey:e,reason:t})=>{try{return(await J.DELETE("/rest/memories/delete",t,{params:{query:{memory_key:e}}})).data}catch(n){Q.log("Error in deleteMemory:",n);return}},Bet=({reason:e})=>{const t=ot();return lt({mutationFn:n=>Uet({memoryKey:n,reason:e}),onMutate:async n=>{await t.cancelQueries({queryKey:["memories"]});const r=t.getQueryData(["memories"]);try{t.setQueryData(["memories"],s=>{if(!s)return s;const a=s.pages.map(i=>({totalCount:i.totalCount-1,memories:i.memories.filter(o=>o.memory_key!==n)}));return{...s,pages:a}})}catch(s){Q.log(`Error in onMutate deleteMemories (${lA()}):`,s)}return{previousData:r}},onError:(n,r,s)=>{s?.previousData&&t.setQueryData(["memories"],s.previousData)},onSettled:()=>{t.invalidateQueries({queryKey:["memories"]})}})},$et=async({reason:e})=>{try{return(await J.DELETE("/rest/memories/delete-all",e)).data}catch(t){Q.log("Error in deleteAllMemories:",t);return}},Het=()=>{const e=ot();return lt({mutationFn:$et,onMutate:async()=>{await e.cancelQueries({queryKey:["memories"]});const t=e.getQueryData(["memories"]);try{e.setQueryData(["memories"],()=>({pages:[{memories:[],totalCount:0}],pageParams:[0]}))}catch(n){Q.log(`Error in onMutate deleteAllMemories (${lA()}):`,n)}return{previousData:t}},onError:(t,n,r)=>{r?.previousData&&e.setQueryData(["memories"],r.previousData)},onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]})}})},Wet=async({memoryKey:e,shouldForget:t,feedback:n,feedbackEntryUuid:r,reason:s})=>{try{return(await J.POST("/rest/memories/toggle_memory_feedback",s,{params:{query:{memory_key:e,should_forget:t===null?void 0:t,feedback:n,feedback_entry_uuid:r}}})).data}catch(a){Q.log("Error in forgetMemory:",a);return}},zet=({memoryKey:e,reason:t})=>{const n=ot();return lt({mutationFn:({shouldForget:r,feedback:s,feedbackEntryUuid:a})=>Wet({memoryKey:e,shouldForget:r,feedback:s,feedbackEntryUuid:a,reason:t}),onMutate:async({shouldForget:r})=>{await n.cancelQueries({queryKey:of(e)});const s=n.getQueryData(of(e));return n.setQueryData(of(e),r),{previousFeedback:s}},onError:(r,s,a)=>{a?.previousFeedback!==void 0&&n.setQueryData(of(e),a.previousFeedback)},onSuccess:()=>{n.invalidateQueries({queryKey:of(e)})}})},Vet=async({entryUuid:e,shouldForget:t,feedback:n,feedbackEntryUuid:r,reason:s})=>{try{return(await J.POST("/rest/memories/toggle_entry_feedback",s,{params:{query:{entry_uuid:e,should_forget:t===null?void 0:t,feedback:n,feedback_entry_uuid:r}}})).data}catch(a){Q.log("Error in forgetEntry:",a);return}},Get=({entryUuid:e,reason:t})=>{const n=ot();return lt({mutationFn:({shouldForget:r,feedback:s,feedbackEntryUuid:a})=>Vet({entryUuid:e,shouldForget:r,feedback:s,feedbackEntryUuid:a,reason:t}),onMutate:async({shouldForget:r})=>{await n.cancelQueries({queryKey:lf(e)});const s=n.getQueryData(lf(e));return n.setQueryData(lf(e),r),{previousFeedback:s}},onError:(r,s,a)=>{a?.previousFeedback!==void 0&&n.setQueryData(lf(e),a.previousFeedback)},onSuccess:()=>{n.invalidateQueries({queryKey:lf(e)})}})},qet=async({memoryKey:e,reason:t})=>{try{return(await J.GET("/rest/memories/get",t,{params:{query:{memory_key:e}}})).data?.memories?.[0]?.is_thumbs_down}catch(n){Q.log("Error in getMemory:",n);return}},Ket=({memoryKey:e,enabled:t,reason:n})=>at({queryKey:of(e??""),queryFn:()=>e?qet({memoryKey:e,reason:n}):null,enabled:!!e&&t}),Yet=async({entryUuid:e,reason:t})=>{try{return(await J.GET("/rest/memories/get_entries",t,{params:{query:{entry_uuid:e}}})).data?.entries?.[0]?.is_thumbs_down}catch(n){Q.log("Error in getEntry:",n);return}},Qet=({entryUuid:e,enabled:t,reason:n})=>at({queryKey:lf(e??""),queryFn:()=>e?Yet({entryUuid:e,reason:n}):null,enabled:!!e&&t}),Yi={outOfDate:Jt({defaultMessage:"Out of date",id:"osuyeDna3D"}),inaccurate:Jt({defaultMessage:"Inaccurate",id:"nzRZzFiqUd"}),irrelevant:Jt({defaultMessage:"Irrelevant",id:"yi63oZJMHr"}),upToDate:Jt({defaultMessage:"Up to date",id:"aOfyGCCmT0"}),accurate:Jt({defaultMessage:"Accurate",id:"wrxp13nnhA"}),relevant:Jt({defaultMessage:"Relevant",id:"XpZsjM22T8"}),successToast:Jt({defaultMessage:"Thank you for your detailed feedback!",id:"ZrHT928df5"}),positivePrompt:Jt({defaultMessage:"What did you like about this memory? (optional)",id:"xNH2PHiuYB"}),negativePrompt:Jt({defaultMessage:"What didn't you like about this memory? (optional)",id:"gEOv/lEKfP"}),placeholder:Jt({defaultMessage:"Add specific details",id:"HY/Q6ifj24"})},Xet={out_of_date:Yi.outOfDate,inaccurate:Yi.inaccurate,irrelevant:Yi.irrelevant},Zet={up_to_date:Yi.upToDate,accurate:Yi.accurate,relevant:Yi.relevant},fie=T.memo(({type:e,message:t,onFeedbackClick:n})=>{const s=K().formatMessage,a=f.useCallback(()=>{n(e)},[e,n]);return l.jsx(ye,{size:"small",variant:"common",text:s(t),onClick:a,extraCSS:"w-full justify-start text-left"})});fie.displayName="FeedbackOption";const hie=T.memo(({isPositive:e,onFeedbackClick:t,onFreeformVisible:n})=>{const r=e?Zet:Xet,s=f.useMemo(()=>Object.entries(r).map(([a,i])=>l.jsx(fie,{type:a,message:i,onFeedbackClick:t},a)),[r,t]);return l.jsxs("div",{className:"gap-sm flex flex-col",children:[s,l.jsx(ye,{size:"small",variant:"common",text:"Other...",onClick:n,extraCSS:"w-full justify-start text-left"})]})});hie.displayName="FeedbackOptions";const mie=T.memo(({onSubmit:e,feedbackState:t,setFeedbackState:n,onDismiss:r,isPositive:s})=>{const{openToast:a}=Yn(),o=K().formatMessage,{isMobileStyle:c,isMobileUserAgent:u}=Oe(),[d,h]=f.useState(!1),m=f.useCallback(()=>{a(o(Yi.successToast),"success",2)},[a,o]),p=f.useCallback(C=>{m(),e(C)},[m,e]),g=f.useCallback(()=>{t&&p(t)},[t,p]),v=f.useCallback(C=>{const S={type:C};n(S),p(S)},[n,p]),y=f.useCallback(()=>{h(!1)},[h]),x=f.useCallback(()=>{h(!0)},[h]),b=f.useCallback(C=>{n({type:"comment",comment:C})},[n]),w=f.useCallback(C=>{ai.isEnterKeyWithoutShift(C)&&g()},[g]),_=f.useMemo(()=>[{type:"button",buttonProps:{variant:"primary",size:"small",icon:lee,onClick:g,disabled:!t?.comment,extraCSS:"aspect-square min-h-md h-md w-md",pill:!0}}],[g,t?.comment]);return l.jsx("div",{className:"mt-lg animate-in fade-in w-full duration-500",children:l.jsxs(H,{className:"gap-sm p-md pt-sm relative flex w-full flex-col rounded-md border",children:[l.jsx("div",{className:U("absolute bottom-full flex size-0 items-end",s?"left-2":"left-10"),children:l.jsx(H,{variant:"background",className:"size-3 shrink-0 origin-bottom-left rotate-45 border border-b-0 border-r-0"})}),l.jsxs("div",{className:U("ease-outExpo flex items-center pr-8 duration-150",{"pl-4":d}),children:[l.jsx(ze,{size:"tiny",onClick:y,pill:!0,icon:oee,extraCSS:U("!absolute duration-150",{"opacity-0 pointer-events-none":!d,"top-xs left-xs":d})}),l.jsx(j,{variant:"small",color:"light",children:o(s?Yi.positivePrompt:Yi.negativePrompt)})]}),l.jsx(md,{mode:"popLayout",transition:{duration:.2,ease:qn},children:l.jsx(mc,{initial:{opacity:0,x:d?10:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:d?-10:10},transition:{duration:.2,ease:qn},children:d?l.jsx("div",{className:"gap-x-sm flex items-end",children:l.jsx("div",{className:"flex-1",children:l.jsx($u,{className:"pr-md w-full",placeholder:o(Yi.placeholder),value:t?.comment||"",minRows:3,isOptional:!0,onChange:b,onKeyDown:w,autoFocus:!0,isMobileStyle:c,isMobileUserAgent:u,rightItems:_})})}):l.jsx(hie,{isPositive:s,onFeedbackClick:v,onFreeformVisible:x})},d?"visible":"hidden")}),l.jsx(ze,{size:"tiny",onClick:r,pill:!0,icon:tn,extraCSS:"!absolute top-xs right-xs"})]})})});mie.displayName="MemoryFeedbackInput";const pie=e=>{if(!e)return;const t=e.split("/").filter(Boolean);return t.length>0?t[t.length-1]:void 0},ZA=e=>{const t=e.is_memory?"memory":"conversation_history",n=e.is_memory?e.url:void 0,r=e.is_conversation_history?pie(e.url):void 0;return{snippet:e.snippet,url:e.url??"",title:e.name,type:t,memoryKey:n,entryUuid:r,timestamp:e.timestamp??""}},gie=T.memo(({isOpen:e,onClose:t,snippet:n,type:r,url:s,memoryKey:a,entryUuid:i,title:o,timestamp:c})=>{const{formatDate:u}=K(),d=Ks(),h=r==="conversation_history",m=r==="memory",{trackEvent:p}=Ne(),{openStackedModal:g}=St(),v=f.useCallback(()=>{p("navigated to manage memory",{memory_key:a}),g("memoryListModal",{isMemoryEnabled:!0})},[a,p,g]),y=f.useMemo(()=>l.jsx(j,{variant:"small",children:l.jsx(ce,{defaultMessage:"Manage",id:"0AzlrbMWV9"})}),[]),x=f.useMemo(()=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{icon:h?Qh:Yh}),l.jsx(j,{variant:"baseSemi",children:h?l.jsx(ce,{defaultMessage:"Library",id:"StcK672jB9"}):l.jsx(ce,{defaultMessage:"Memory",id:"dVx3yznM2C"})})]}),[h]);return l.jsxs(jt,{variant:d?"bottom-sheet":"side-sheet",isOpen:e,onClose:t,modalClassname:"md:!max-w-[400px] md:!min-w-[400px]",modalContentClassname:"justify-between",titleContent:x,children:[l.jsxs(H,{className:"flex h-full w-full flex-col items-start",children:[o&&c&&l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"baseSemi",children:o}),l.jsx(j,{variant:"tinyRegular",color:"light",className:"pb-sm",children:u(c,{dateStyle:"long"})})]}),l.jsxs("div",{className:"inline",children:[l.jsx(j,{variant:"small",className:"inline",children:n}),l.jsx(j,{variant:"smallBold",className:"ml-1 inline",color:"super",children:h&&l.jsx(it,{href:s,target:"_blank",rel:"noopener",className:"whitespace-nowrap",children:l.jsx(ce,{defaultMessage:"See more",id:"yoLwRWw99S"})})})]}),l.jsx(vie,{entryUuid:i??"",memoryKey:a??"",type:r})]}),m&&l.jsxs(H,{className:"flex w-full items-center justify-center gap-1",children:[l.jsx(j,{variant:"small",className:"inline",color:"light",children:l.jsx(ce,{defaultMessage:"See all your memories.",id:"h0JAuR900y"})}),l.jsx(ze,{onClick:v,size:"small",variant:"common",noPadding:!0,text:y})]})]})});gie.displayName="MemorySearchHistoryModal";const vie=T.memo(({entryUuid:e,memoryKey:t,type:n})=>{const r="feedback-container",{$t:s}=K(),a=f.useMemo(()=>{if(typeof window>"u")return;const E=pie(window.location.pathname);if(E)return E.split("-").pop()},[]),{mutate:i}=Get({entryUuid:e??"",reason:r}),{mutate:o}=zet({memoryKey:t??"",reason:r}),{trackEvent:c}=Ne(),{data:u}=Ket({memoryKey:t,enabled:!!t&&n==="memory",reason:r}),{data:d}=Qet({entryUuid:e??"",enabled:!!e&&n==="conversation_history",reason:r}),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[v,y]=f.useState(null),x=f.useMemo(()=>n==="memory"?u:d,[n,u,d]),b=f.useCallback((E,M)=>{n==="conversation_history"&&e&&i({shouldForget:E,feedback:M,feedbackEntryUuid:a}),n==="memory"&&t&&o({shouldForget:E,feedback:M,feedbackEntryUuid:a})},[n,e,t,i,o,a]),w=f.useCallback(E=>{c("memory search history feedback",{type:n,isHelpful:!E,...n==="conversation_history"&&{entry_uuid:e},...n==="memory"&&{memory_key:t}}),b(E),g(!E),m(!0)},[n,e,t,c,b]),_=f.useCallback(()=>{if(x===!1){b(null),m(!1);return}w(!1)},[x,b,w]),C=f.useCallback(()=>{if(x===!0){b(null),m(!1);return}w(!0)},[x,b,w]),S=f.useCallback(E=>{const M=E.type==="comment"?E.comment:E.type;b(!p,M),c("memory search history feedback",{type:n,isHelpful:p,...n==="conversation_history"&&{entry_uuid:e},...n==="memory"&&{memory_key:t}}),m(!1),y(null)},[n,e,t,c,p,b]),k=f.useCallback(()=>{m(!1),y(null)},[]);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(ze,{size:"small",icon:ett(x??null),onClick:_,toolTip:s({defaultMessage:"Helpful",id:"5vwKkgYwrE"}),pill:!0}),l.jsx(ze,{size:"small",icon:Jet(x??null),onClick:C,toolTip:s({defaultMessage:"Not helpful",id:"04tuTF23S7"}),pill:!0})]}),x===!0&&l.jsx(j,{variant:"tinyRegular",color:"light",children:l.jsx(ce,{defaultMessage:"This {type} will not be referenced in future searches.",id:"167AKZjMm1",values:{type:n==="memory"?"memory":"entry"}})}),h&&l.jsx(mie,{onSubmit:S,feedbackState:v,setFeedbackState:y,onDismiss:k,isPositive:p})]})});vie.displayName="FeedbackContainer";const Jet=e=>e===null?VF:e===!0?UFe:VF,ett=e=>e===null?pM:e===!1?BFe:pM;function ttt({isOpen:e,onContinue:t,onClose:n}){return l.jsx(jt,{isOpen:e,onClose:n,title:"",variant:"small",children:l.jsxs(H,{className:"mx-auto w-full rounded-2xl px-4 py-0",children:[l.jsx(j,{variant:"section-title",className:"mb-2",children:l.jsx(ce,{defaultMessage:"We need more access to help with your Google calendar and email",id:"qfQz160ySM"})}),l.jsx(j,{variant:"small",color:"light",className:"mb-6",children:l.jsx(ce,{defaultMessage:"These permissions let us help you schedule meetings, find important messages, manage your inbox, and provide personalized assistance based on your real schedule and communication needs.",id:"yN/31P429t"})}),l.jsx(j,{variant:"small",color:"light",className:"mb-6",children:l.jsx(ce,{defaultMessage:"Important: Please select <b>all permission boxes</b> on the next screen to enable these features.",id:"sr/jqAmxMK",values:{b:r=>l.jsx("span",{className:"font-semibold",children:r})}})}),l.jsx(ye,{text:l.jsx(ce,{defaultMessage:"Grant access to calendar and email",id:"SLN8GewG3+"}),variant:"primary",size:"regular",onClick:t,extraCSS:"w-full rounded-xl mb-4"})]})})}const ntt=({isOpen:e,onClose:t})=>{const n="delete-all-memories-modal",r=K(),{mutate:s}=Het(),{trackEvent:a}=Ne(),i=f.useMemo(()=>[{text:r.formatMessage({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t,variant:"common"},{text:r.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:()=>{a("cleared all memories",{}),s({reason:n}),t()},variant:"rejected"}],[s,r,t,a]);return l.jsx(jt,{isOpen:e,onClose:t,actionList:i,titleTextVariant:"smallBold",renderCloseButton:!1,modalClassname:"!min-w-0 max-w-[324px] p-0",headerClassname:"pt-6 px-6  md:px-6 border-b-0 !pb-0",modalContentClassname:"pt-0",footerClassname:"border-t-0 pt-2 px-6 !pb-6 md:pt-2 md:px-6 md:pb-6",title:r.formatMessage({defaultMessage:"Delete all memories",id:"wViT4HVZZG"}),children:l.jsx("div",{className:"w-full justify-start px-2 py-1",children:l.jsx(j,{variant:"tinyRegular",children:r.formatMessage({defaultMessage:"Are you sure you want to delete all of your memories? Memories cannot be recovered once deleted.",id:"2xMxdqIgTQ"})})})})},rtt=({isOpen:e,onClose:t,memoryId:n})=>{const r="delete-memory-modal",s=K(),{mutate:a}=Bet({reason:r}),{trackEvent:i}=Ne(),o=f.useMemo(()=>[{text:s.formatMessage({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t,variant:"common",shouldShowConfirmDialog:!0},{text:s.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:()=>{n&&(i("delete memory",{memoryId:n}),a(n),t())},variant:"rejected"}],[a,s,n,t,i]);return l.jsx(jt,{isOpen:e,onClose:t,actionList:o,titleTextVariant:"smallBold",renderCloseButton:!1,modalClassname:"!min-w-0 max-w-[324px] p-0",headerClassname:"pt-6 px-6  md:px-6 border-b-0 !pb-0",modalContentClassname:"pt-0",footerClassname:"border-t-0 pt-2 px-6 !pb-6 md:pt-2 md:px-6 md:pb-6",title:s.formatMessage({defaultMessage:"Delete memory",id:"767lMfHCVm"}),children:l.jsx("div",{className:"w-full justify-start px-2 py-1",children:l.jsx(j,{variant:"tinyRegular",children:s.formatMessage({defaultMessage:"Are you sure you want to delete this memory? Memories cannot be recovered once deleted.",id:"bJP46nmx6X"})})})})},hs=({children:e,className:t,as:n="div",active:r=!0,speed:s="normal",hoverOnly:a=!1,variant:i="default"})=>{const[o,c]=f.useState(!1),u=a?o:r;return T.createElement(n,{style:{animationDuration:s==="normal"?"1200ms":"1800ms"},className:U({shimmer:u&&i==="default","animate-gradient bg-clip-text text-transparent shimmer-super":u&&i==="super"},t),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1)},e)};var aC={},nH;function stt(){return nH||(nH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="arrow-up-left",r=384,s=512,a=[],i="e09d",o="M56 96c-13.3 0-24 10.7-24 24l0 240c0 13.3 10.7 24 24 24s24-10.7 24-24l0-182.1L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-231-231L296 144c13.3 0 24-10.7 24-24s-10.7-24-24-24L56 96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faArrowUpLeft=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(aC)),aC}var att=stt(),iC={},rH;function itt(){return rH||(rH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="globe",r=512,s=512,a=[127760],i="f0ac",o="M256 464c7.4 0 27-7.2 47.6-48.4c8.8-17.7 16.4-39.2 22-63.6l-139.2 0c5.6 24.4 13.2 45.9 22 63.6C229 456.8 248.6 464 256 464zM178.5 304l155 0c1.6-15.3 2.5-31.4 2.5-48s-.9-32.7-2.5-48l-155 0c-1.6 15.3-2.5 31.4-2.5 48s.9 32.7 2.5 48zm7.9-144l139.2 0c-5.6-24.4-13.2-45.9-22-63.6C283 55.2 263.4 48 256 48s-27 7.2-47.6 48.4c-8.8 17.7-16.4 39.2-22 63.6zm195.3 48c1.5 15.5 2.2 31.6 2.2 48s-.8 32.5-2.2 48l76.7 0c3.6-15.4 5.6-31.5 5.6-48s-1.9-32.6-5.6-48l-76.7 0zm58.8-48c-21.4-41.1-56.1-74.1-98.4-93.4c14.1 25.6 25.3 57.5 32.6 93.4l65.9 0zm-303.3 0c7.3-35.9 18.5-67.7 32.6-93.4c-42.3 19.3-77 52.3-98.4 93.4l65.9 0zM53.6 208c-3.6 15.4-5.6 31.5-5.6 48s1.9 32.6 5.6 48l76.7 0c-1.5-15.5-2.2-31.6-2.2-48s.8-32.5 2.2-48l-76.7 0zM342.1 445.4c42.3-19.3 77-52.3 98.4-93.4l-65.9 0c-7.3 35.9-18.5 67.7-32.6 93.4zm-172.2 0c-14.1-25.6-25.3-57.5-32.6-93.4l-65.9 0c21.4 41.1 56.1 74.1 98.4 93.4zM256 512A256 256 0 1 1 256 0a256 256 0 1 1 0 512z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faGlobe=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(iC)),iC}var ott=itt(),oC={},sH;function ltt(){return sH||(sH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="globe-pointer",r=512,s=512,a=[],i="e60e",o="M303.6 415.6C283 456.8 263.4 464 256 464c-3.1 0-8.3-1.3-14.8-5.7l-15.3 52c9.9 1.2 19.9 1.8 30.1 1.8c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256c0 10.2 .6 20.2 1.8 30.1l46.9-13.8c-.4-5.4-.6-10.8-.6-16.3c0-16.5 1.9-32.6 5.6-48l76.7 0c-1.3 13.3-2 27-2.2 41l48.4-14.2c.4-9.1 1.1-18 2-26.7l155 0c1.6 15.3 2.5 31.4 2.5 48s-.9 32.7-2.5 48l-47 0-14.1 48 53.2 0c-5.6 24.4-13.2 45.9-22 63.6zM208.4 96.4C229 55.2 248.6 48 256 48s27 7.2 47.6 48.4c8.8 17.7 16.4 39.2 22 63.6l-139.2 0c5.6-24.4 13.2-45.9 22-63.6zM384 256c0-16.4-.8-32.5-2.2-48l76.7 0c3.6 15.4 5.6 31.5 5.6 48s-1.9 32.6-5.6 48l-76.7 0c1.5-15.5 2.2-31.6 2.2-48zm-9.3-96c-7.3-35.9-18.5-67.7-32.6-93.4c42.3 19.3 77 52.3 98.4 93.4l-65.9 0zM71.4 160c21.4-41.1 56.1-74.1 98.4-93.4c-14.1 25.6-25.3 57.5-32.6 93.4l-65.9 0zM374.7 352l65.9 0c-21.4 41.1-56.1 74.1-98.4 93.4c14.1-25.6 25.3-57.5 32.6-93.4zM39 308.5c-13.9 4.1-15.6 23.2-2.6 29.7l57.3 28.7c1.3 .7 2.6 1.5 3.7 2.5l-88 88c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l88-88c1 1.1 1.9 2.3 2.5 3.7l28.7 57.3c6.5 13 25.6 11.3 29.7-2.6l60.2-204.8c3.6-12.1-7.7-23.4-19.9-19.9L39 308.5z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faGlobePointer=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(oC)),oC}var ctt=ltt(),lC,aH;function utt(){if(aH)return lC;aH=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,c=typeof Ql=="object"&&Ql&&Ql.Object===Object&&Ql,u=typeof self=="object"&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype,m=h.toString,p=Math.max,g=Math.min,v=function(){return d.Date.now()};function y(C,S,k){var E,M,N,R,A,P,O=0,I=!1,L=!1,F=!0;if(typeof C!="function")throw new TypeError(e);S=_(S)||0,x(k)&&(I=!!k.leading,L="maxWait"in k,N=L?p(_(k.maxWait)||0,S):N,F="trailing"in k?!!k.trailing:F);function D(z){var te=E,Y=M;return E=M=void 0,O=z,R=C.apply(Y,te),R}function B(z){return O=z,A=setTimeout(X,S),I?D(z):R}function $(z){var te=z-P,Y=z-O,Z=S-te;return L?g(Z,N-Y):Z}function W(z){var te=z-P,Y=z-O;return P===void 0||te>=S||te<0||L&&Y>=N}function X(){var z=v();if(W(z))return ee(z);A=setTimeout(X,$(z))}function ee(z){return A=void 0,F&&E?D(z):(E=M=void 0,R)}function ne(){A!==void 0&&clearTimeout(A),O=0,E=P=M=A=void 0}function V(){return A===void 0?R:ee(v())}function q(){var z=v(),te=W(z);if(E=arguments,M=this,P=z,te){if(A===void 0)return B(P);if(L)return A=setTimeout(X,S),D(P)}return A===void 0&&(A=setTimeout(X,S)),R}return q.cancel=ne,q.flush=V,q}function x(C){var S=typeof C;return!!C&&(S=="object"||S=="function")}function b(C){return!!C&&typeof C=="object"}function w(C){return typeof C=="symbol"||b(C)&&m.call(C)==n}function _(C){if(typeof C=="number")return C;if(w(C))return t;if(x(C)){var S=typeof C.valueOf=="function"?C.valueOf():C;C=x(S)?S+"":S}if(typeof C!="string")return C===0?C:+C;C=C.replace(r,"");var k=a.test(C);return k||i.test(C)?o(C.slice(2),k?2:8):s.test(C)?t:+C}return lC=y,lC}var dtt=utt();const iH=Rs(dtt);var yie=typeof window<"u"?f.useLayoutEffect:f.useEffect;function Fx(e,t,n,r){const s=f.useRef(t);yie(()=>{s.current=t},[t]),f.useEffect(()=>{const a=window;if(!(a&&a.addEventListener))return;const i=o=>{s.current(o)};return a.addEventListener(e,i,r),()=>{a.removeEventListener(e,i,r)}},[e,n,r])}function Ux(e){const t=f.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return yie(()=>{t.current=e},[e]),f.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[t])}var cC=typeof window>"u";function C3(e,t,n={}){const{initializeWithValue:r=!0}=n,s=f.useCallback(m=>n.serializer?n.serializer(m):JSON.stringify(m),[n]),a=f.useCallback(m=>{if(n.deserializer)return n.deserializer(m);if(m==="undefined")return;const p=t instanceof Function?t():t;let g;try{g=JSON.parse(m)}catch(v){return console.error("Error parsing JSON:",v),p}return g},[n,t]),i=f.useCallback(()=>{const m=t instanceof Function?t():t;if(cC)return m;try{const p=window.localStorage.getItem(e);return p?a(p):m}catch(p){return console.warn(`Error reading localStorage key “${e}”:`,p),m}},[t,e,a]),[o,c]=f.useState(()=>r?i():t instanceof Function?t():t),u=Ux(m=>{cC&&console.warn(`Tried setting localStorage key “${e}” even though environment is not a client`);try{const p=m instanceof Function?m(i()):m;window.localStorage.setItem(e,s(p)),c(p),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(p){console.warn(`Error setting localStorage key “${e}”:`,p)}}),d=Ux(()=>{cC&&console.warn(`Tried removing localStorage key “${e}” even though environment is not a client`);const m=t instanceof Function?t():t;window.localStorage.removeItem(e),c(m),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});f.useEffect(()=>{c(i())},[e]);const h=f.useCallback(m=>{m.key&&m.key!==e||c(i())},[e,i]);return Fx("storage",h),Fx("local-storage",h),[o,u,d]}function JA(e){const t=f.useRef(e);t.current=e,f.useEffect(()=>()=>{t.current()},[])}function zFt(e,t=500,n){const r=f.useRef();JA(()=>{r.current&&r.current.cancel()});const s=f.useMemo(()=>{const a=iH(e,t,n),i=(...o)=>a(...o);return i.cancel=()=>{a.cancel()},i.isPending=()=>!!r.current,i.flush=()=>a.flush(),i},[e,t,n]);return f.useEffect(()=>{r.current=iH(e,t,n)},[e,t,n]),s}function xie({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:r=!1,initialIsIntersecting:s=!1,onChange:a}={}){var i;const[o,c]=f.useState(null),[u,d]=f.useState(()=>({isIntersecting:s,entry:void 0})),h=f.useRef();h.current=a;const m=((i=u.entry)==null?void 0:i.isIntersecting)&&r;f.useEffect(()=>{if(!o||!("IntersectionObserver"in window)||m)return;const v=new IntersectionObserver(y=>{const x=Array.isArray(v.thresholds)?v.thresholds:[v.thresholds];y.forEach(b=>{const w=b.isIntersecting&&x.some(_=>b.intersectionRatio>=_);d({isIntersecting:w,entry:b}),h.current&&h.current(w,b)})},{threshold:e,root:t,rootMargin:n});return v.observe(o),()=>{v.disconnect()}},[o,JSON.stringify(e),t,n,m,r]);const p=f.useRef(null);f.useEffect(()=>{var v;!o&&((v=u.entry)!=null&&v.target)&&!r&&!m&&p.current!==u.entry.target&&(p.current=u.entry.target,d({isIntersecting:s,entry:void 0}))},[o,u.entry,r,m,s]);const g=[c,!!u.isIntersecting,u.entry];return g.ref=g[0],g.isIntersecting=g[1],g.entry=g[2],g}function bie(){const[e,t]=f.useState(!1);return f.useEffect(()=>{t(!0)},[]),e}function ftt(){const e=f.useRef(!1);return f.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),f.useCallback(()=>e.current,[])}var oH={width:void 0,height:void 0};function htt(e){const{ref:t,box:n="content-box"}=e,[{width:r,height:s},a]=f.useState(oH),i=ftt(),o=f.useRef({...oH}),c=f.useRef(void 0);return c.current=e.onResize,f.useEffect(()=>{if(!t.current||typeof window>"u"||!("ResizeObserver"in window))return;const u=new ResizeObserver(([d])=>{const h=n==="border-box"?"borderBoxSize":n==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",m=lH(d,h,"inlineSize"),p=lH(d,h,"blockSize");if(o.current.width!==m||o.current.height!==p){const v={width:m,height:p};o.current.width=m,o.current.height=p,c.current?c.current(v):i()&&a(v)}});return u.observe(t.current,{box:n}),()=>{u.disconnect()}},[n,t,i]),{width:r,height:s}}function lH(e,t,n){return e[t]?Array.isArray(e[t])?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}var uC=typeof window>"u";function wie(e,t,n={}){const{initializeWithValue:r=!0}=n,s=f.useCallback(m=>n.serializer?n.serializer(m):JSON.stringify(m),[n]),a=f.useCallback(m=>{if(n.deserializer)return n.deserializer(m);if(m==="undefined")return;const p=t instanceof Function?t():t;let g;try{g=JSON.parse(m)}catch(v){return console.error("Error parsing JSON:",v),p}return g},[n,t]),i=f.useCallback(()=>{const m=t instanceof Function?t():t;if(uC)return m;try{const p=window.sessionStorage.getItem(e);return p?a(p):m}catch(p){return console.warn(`Error reading sessionStorage key “${e}”:`,p),m}},[t,e,a]),[o,c]=f.useState(()=>r?i():t instanceof Function?t():t),u=Ux(m=>{uC&&console.warn(`Tried setting sessionStorage key “${e}” even though environment is not a client`);try{const p=m instanceof Function?m(i()):m;window.sessionStorage.setItem(e,s(p)),c(p),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))}catch(p){console.warn(`Error setting sessionStorage key “${e}”:`,p)}}),d=Ux(()=>{uC&&console.warn(`Tried removing sessionStorage key “${e}” even though environment is not a client`);const m=t instanceof Function?t():t;window.sessionStorage.removeItem(e),c(m),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))});f.useEffect(()=>{c(i())},[e]);const h=f.useCallback(m=>{m.key&&m.key!==e||c(i())},[e,i]);return Fx("storage",h),Fx("session-storage",h),[o,u,d]}const Ed=$n({path:"M5.00226 5.710185C0.612577 10.215135 0.782 17.46045 5.22972 21.90795L6.481905 23.16015C6.601665 23.28 6.795615 23.28 6.915375 23.16015L8.793945 21.28155C8.913705 21.16185 8.913705 20.96775 8.793945 20.8482L7.42119 19.4751C3.690195 15.74415 3.65811 9.727305 7.34925 6.035955C10.71483 2.670375 16.0131 2.40102 19.75005 5.20743C19.89945 5.31963 19.91085 5.540355 19.7787 5.67258C19.66995 5.781315 19.4985 5.79357 19.37445 5.702625C16.29255 3.44289 12.064695 3.59229 9.424635 6.23256C6.491505 9.16569 6.629655 14.05935 9.73344 17.16285L11.106195 18.53595C11.225955 18.65565 11.420115 18.65565 11.539875 18.53595L13.418445 16.65735C13.538205 16.5375 13.538205 16.3434 13.418445 16.2237L12.04548 14.85087C9.96519 12.77058 10.04184 9.321015 12.21675 7.14609C14.02257 5.34027 16.70655 4.98201 18.7566 6.10278C18.9477 6.20742 18.98265 6.4686 18.8286 6.622695C18.73215 6.71916 18.585 6.74778 18.4611 6.68994C17.1153 6.05925 15.46275 6.29919 14.352825 7.413405C12.929595 8.84217 12.99969 11.18058 14.42559 12.606465L15.73065 13.911585C15.8502 14.031135 16.04445 14.031135 16.16415 13.911585L18.04275 12.032805C18.16245 11.913045 18.16245 11.719095 18.04275 11.599335L16.7097 10.266015C16.0938 9.65025 16.0209 8.64801 16.5954 7.99383C17.22525 7.27668 18.3183 7.250325 18.9822 7.91433L19.3761 8.30814C19.99185 8.92392 20.994 8.99688 21.64845 8.422185C22.36545 7.792515 22.3917 6.69954 21.72795 6.035535L21.2943 5.60208C16.7892 1.096925 9.46224 1.132893 5.00226 5.710185Z",name:"IconBrandComet",variant:"filled"}),y1=$n({path:"M19.6602 2C20.9486 2.00018 21.993 3.0446 21.9932 4.33301C21.9932 5.62156 20.9487 6.66682 19.6602 6.66699C19.6103 6.66699 19.5608 6.66128 19.5117 6.6582L16.9111 12.3467C16.803 12.5829 16.5903 12.7551 16.3369 12.8125C16.1151 12.8626 15.8841 12.8195 15.6963 12.6963L15.6182 12.6387L11.374 9.08691L5.05176 19.4873H10.333V13.667C10.333 13.2069 10.706 12.8342 11.166 12.834C11.6263 12.834 11.999 13.2068 11.999 13.667V19.4873H15.3203V15.333C15.3205 14.8729 15.6932 14.5 16.1533 14.5C16.6134 14.5001 16.9862 14.873 16.9863 15.333V19.4873H19.5C19.9595 19.4871 20.3328 19.1128 20.333 18.6533V9.49414C20.333 9.03406 20.706 8.66042 21.166 8.66016C21.6263 8.66016 22 9.0339 22 9.49414V18.6533C21.9998 20.0333 20.88 21.1531 19.5 21.1533H4.5C3.2062 21.1532 2.14091 20.1693 2.0127 18.9092L2 18.6533V5.33398C2 3.9538 3.11983 2.83407 4.5 2.83398H14.5L14.585 2.83789C15.0051 2.8806 15.333 3.23555 15.333 3.66699C15.3328 4.09829 15.005 4.4534 14.585 4.49609L14.5 4.5H4.5C4.04031 4.50008 3.66602 4.87427 3.66602 5.33398V18.5586L10.4541 7.39355L10.5059 7.31836C10.6338 7.15201 10.821 7.03859 11.0303 7.00391C11.2698 6.96435 11.515 7.03176 11.7012 7.1875L15.8496 10.6582L17.9951 5.96777C17.5817 5.54678 17.3262 4.96964 17.3262 4.33301C17.3263 3.04449 18.3716 2 19.6602 2Z",name:"IconPerplexityFinance",variant:"filled"});function mtt(e){return e.blocks?.some(t=>t.intended_usage==="ask_text")??!1}function ptt(e){return typeof e=="object"&&e!==null&&"step_type"in e&&e.step_type===TOe.PROMPT_INPUT}function gtt(e,t,n=[]){return t===ge.DEFAULT||n.length>0&&n[n.length-1].step_type==="FINAL"||e?.some(s=>s.markdown_block||s.entity_list_block||Rse(s.entity_group_block))}function Ts(e){const t=e?.toLowerCase();return ks[t]??ue.SEARCH}function um(){const{isMax:e,isPro:t}=At(),{isMaxUpsellEnabled:n}=Lc(),{gpt4Limit:r,pplxAlphaLimit:s,pplxBetaLimit:a}=Qn();return f.useMemo(()=>o=>{let c=!1;return o===ue.RESEARCH?c=Math.min(r,s)<=0:c=Math.min(r,a)<=0,n&&!e&&t&&c&&(o===ue.RESEARCH||o===ue.STUDIO)},[n,e,t,r,s,a])}function Lc(){const{isEnterprise:e}=Gt({reason:"max-tier"}),{value:t,loading:n}=Rr({flag:"max-upsell",defaultValue:!1,subjectType:"visitor_id",extraAttributes:{isEnterprise:e??!1}});return f.useMemo(()=>({isMaxUpsellEnabled:t,loading:n}),[t,n])}const vtt=({reason:e})=>{const t=ot(),n=sA(),{mutate:r}=lt({mutationFn:async s=>{await _Xe({settings:s,reason:e})},onMutate:async s=>{await t.cancelQueries({queryKey:n});const a=t.getQueryData(n),i={};for(const o in s)i[vXe[o]]=s[o];return t.setQueryData(n,o=>({...o,...i})),{previousSettings:a}},onSettled(s,a,i,o){a&&t.setQueryData(n,o?.previousSettings)}});return f.useMemo(()=>({updateSettings:r}),[r])},ytt=["presentpicker"],xtt=e=>e?ytt.includes(e):!1;function btt(e){const t=An(),n=ut(),{hasAccessToProFeatures:r}=At(),{trackEvent:s}=Ne(),{actions:a,preferredSearchModels:i,preferredSearchMode:o}=on(),{isMaxUpsellEnabled:c}=Lc(),u=t?.get("copilot"),d=t?.get("pro"),h=t?.get("utm_source"),m=u==="false"||d==="false",p=!m&&(u==="true"||d==="true"||xtt(h??void 0)),g=i[ue.SEARCH];g&&(ks[g]!==ue.SEARCH?(i[ue.SEARCH]=ge.PRO,a.setPreferredSearchModel(ue.SEARCH,ge.PRO)):g===ge.DEFAULT&&r&&a.setPreferredSearchModel(ue.SEARCH,void 0));const v=t?.get("model_id")==="pplx_alpha"?null:t?.get("model_id");let y;v&&(v==="deep_research"?y=ge.ALPHA:Object.values(ge).includes(v)&&(y=v));let x;return m?x=ge.DEFAULT:y?x=y:p&&(x=ge.PRO),x&&y&&y==x&&s("search mode utm",{mode:ks[x]}),f.useMemo(()=>{let b=ge.DEFAULT;if(!n)return b;if(x)return x;if(!c)return b=i[ue.SEARCH]??ge.PRO,b;switch(o){case ue.RESEARCH:b=i[ue.RESEARCH]??ge.ALPHA;break;case ue.STUDIO:b=i[ue.STUDIO]??ge.BETA;break;case ue.SEARCH:default:b=i[ue.SEARCH]??ge.PRO;break}return b},[n,c,x,o,i])}const _ie={isCopilot:!1,sources:["web"],gpt4Limit:0,gpt4Total:0,pplxAlphaLimit:0,pplxBetaLimit:0,uploadRateLimit:0,createLimit:0,recency:null,askInputReasoningMode:!1,askInputReasoningModelPreference:null,setAskInputReasoningMode:()=>{},setAskInputReasoningModelPreference:()=>{},setConfiguredModel(){},setSources:()=>{},setIsCopilot:()=>{},decrementCreateLimit:()=>{},setGPT4Limit:()=>{},setPplxAlphaLimit:()=>{},setPplxBetaLimit:()=>{},setRecency:()=>{},setUploadRateLimit:()=>{},configuredModel:ge.DEFAULT,configuredSearchMode:ue.SEARCH,setConfiguredSearchMode(){}},Cie=f.createContext(_ie),wtt=({children:e,shouldFetchSettings:t})=>{const n="thread-settings-provider",r=Da({enabled:t,reason:n}),{updateSettings:s}=vtt({reason:n}),{organization:a}=Gt({reason:"thread-settings-provider"}),i=on(),{isMax:o}=At();let c=i.preferredSearchMode;const u=c?Object.values(ue).includes(c):!1,{isMaxUpsellEnabled:d}=Lc();!d&&c!==ue.SEARCH&&(c=void 0,i.actions.setPreferredSearchMode(void 0));const h=btt(),[m,p]=f.useState({..._ie,gpt4Limit:r.gpt4Limit,gpt4Total:r.gpt4Total,pplxAlphaLimit:r.pplxAlphaLimit,pplxBetaLimit:r.pplxBetaLimit,configuredModel:h,configuredSearchMode:ks[h]??ue.SEARCH}),g=f.useCallback(N=>p(R=>({...R,configuredModel:N,configuredSearchMode:ks[N]??R.configuredSearchMode})),[]),v=f.useCallback(()=>{g(ge.DEFAULT),i.actions.setPreferredSearchMode(ue.SEARCH)},[g,i.actions]),y=f.useCallback(N=>{p(R=>({...R,sources:N}))},[]),x=f.useCallback(N=>{p(R=>({...R,recency:N}))},[]),b=f.useCallback(N=>{p(R=>({...R,askInputReasoningModelPreference:N,askInputReasoningMode:!!N}))},[]),w=f.useCallback(N=>{p(R=>({...R,askInputReasoningMode:N}))},[]);f.useEffect(()=>{r.createLimit!==null&&p(N=>({...N,createLimit:r.createLimit}))},[r.createLimit]),f.useEffect(()=>{r.uploadLimit!==null&&p(N=>({...N,uploadRateLimit:r.uploadLimit}))},[r.uploadLimit]),f.useEffect(()=>{r.gpt4Limit!==null&&p(N=>({...N,gpt4Limit:r.gpt4Limit}))},[r.gpt4Limit]),f.useEffect(()=>{r.gpt4Total!==null&&p(N=>({...N,gpt4Total:r.gpt4Total}))},[r.gpt4Total]),f.useEffect(()=>{r.pplxAlphaLimit!==null&&p(N=>({...N,pplxAlphaLimit:r.pplxAlphaLimit}))},[r.pplxAlphaLimit]),f.useEffect(()=>{r.pplxBetaLimit!==null&&p(N=>({...N,pplxBetaLimit:r.pplxBetaLimit}))},[r.pplxBetaLimit]),f.useEffect(()=>{r.hasLoadedSettings&&((m.configuredModel!==ge.DEFAULT&&r.gpt4Limit<=0||Ts(m.configuredModel)===ue.RESEARCH&&r.pplxAlphaLimit<=0&&!o||Ts(m.configuredModel)===ue.STUDIO&&r.pplxBetaLimit<=0&&!o)&&v(),(m.askInputReasoningMode||m.askInputReasoningModelPreference)&&r.gpt4Limit<=0&&v())},[v,r.gpt4Limit,r.pplxAlphaLimit,r.pplxBetaLimit,r.hasLoadedSettings,m.askInputReasoningMode,m.askInputReasoningModelPreference,m.configuredModel,o]),f.useEffect(()=>{const N=a?.settings?.disabled_model_preferences??[];u&&c&&N?.includes(c)&&v()},[u,a?.settings?.disabled_model_preferences,c,v,g]);const _=f.useCallback(()=>{const N=Math.max(m.createLimit-1,0);r.createLimit!==N&&s({create_limit:N}),p(R=>({...R,createLimit:N}))},[m.createLimit,s,r.createLimit]),C=f.useCallback((N=1)=>{const R=Math.max(m.uploadRateLimit-N,0);r.uploadLimit!==R&&s({upload_limit:R}),p(A=>({...A,uploadRateLimit:R}))},[m.uploadRateLimit,s,r.uploadLimit]),S=f.useCallback(N=>{p(R=>({...R,gpt4Limit:N})),r.gpt4Limit!==N&&s({gpt4_limit:N})},[s,r.gpt4Limit]),k=f.useCallback(N=>{p(R=>({...R,pplxAlphaLimit:N})),r.pplxAlphaLimit!==N&&s({pplx_alpha_limit:N})},[s,r.pplxAlphaLimit]),E=f.useCallback(N=>{p(R=>({...R,pplxBetaLimit:N})),r.pplxBetaLimit!==N&&s({pplx_beta_limit:N})},[s,r.pplxBetaLimit]),M={...m,setConfiguredModel:g,setSources:y,decrementCreateLimit:_,setUploadRateLimit:C,setGPT4Limit:S,setPplxAlphaLimit:k,setPplxBetaLimit:E,setRecency:x,askInputReasoningMode:m.askInputReasoningMode,isCopilot:m.configuredModel!==ge.DEFAULT,setAskInputReasoningMode:w,setAskInputReasoningModelPreference:b,configuredSearchMode:m.configuredSearchMode,setConfiguredSearchMode:N=>{p(R=>({...R,configuredSearchMode:N}))}};return l.jsx(Cie.Provider,{value:M,children:e})},Qn=()=>{const e=f.useContext(Cie);if(!e)throw new Error("useThreadConfig must be used within ThreadSettingsContext");return e};function ma(){const{configuredModel:e,configuredSearchMode:t}=Qn(),n=rr();return f.useMemo(()=>t||(n&&e===ge.DEFAULT?ue.SEARCH:ks[e]),[t,e,n])}const _tt="npclhjbddhklpbnacpjloidibaggcgon",Ctt="entropy-agent-extension-main";class Bx extends fl{name="CometError"}function cH({onMessage:e,extensionId:t,name:n}){let r,s;function a(){if(s&&(s.onMessage.removeListener(e),clearTimeout(r)),typeof chrome>"u"||!chrome.runtime){tl()&&(r&&clearTimeout(r),r=setTimeout(a,1e3),Q.error("Comet browser is missing chrome.runtime"));return}s=chrome.runtime.connect(t,{name:n}),s.onMessage.addListener(e),s.onDisconnect.addListener(()=>{Q.info("Disconnected. Attempting to reconnect...",{extensionId:t}),r&&clearTimeout(r),r=setTimeout(a,1e3)})}return tl()&&(a(),Go("web.frontend.comet_extension_connected",{extensionId:t,startTime:performance.timeOrigin,duration:performance.now()})),{sendMessage:i=>Stt(t,i),sendMessageToPort:i=>{if(!tl())return()=>{};const o=chrome.runtime.connect(t,{name:`${n}_${Hr()}`});return o.postMessage(i),()=>{try{o.disconnect()}catch{}}}}}async function Stt(e,t){return new Promise((n,r)=>{if(!tl()){r(new Bx("INVALID_BROWSER_ERROR"));return}if(typeof chrome>"u"||!chrome.runtime){r(new Bx("MISSING_RUNTIME_ERROR"));return}chrome.runtime.sendMessage(e,t,s=>{if(chrome.runtime.lastError){r(chrome.runtime.lastError);return}n(s)})})}function Ett(){const e="node";try{return{html:t(document.documentElement).innerHTML.trim(),url:window.location.href}}catch(p){return{html:"",url:window.location.href,error:p instanceof Error?p.message:"Unknown error while getting HTML"}}function t(p=document.body){const g=[p],v=n(p);if(!v)return console.error("Failed to process DOM. Fallback to original DOM"),p;const y=[v];for(;g.length>0;){const x=g.pop(),b=y.pop();if(!x||!b)break;x.childNodes.forEach(w=>{const _=n(w);_!==null&&(b.appendChild(_),y.push(_),g.push(w))})}return v}function n(p){if(!c(p))return null;const g=p.cloneNode();if(d(p)){if(o(p)){if(!p.hasAttribute(e)){const v=s();p.setAttribute(e,v),g.setAttribute(e,v)}r(p,g)}return a(g)}return g}function r(p,g){const v=["value"],y=["checked","disabled","hidden","readonly","required","selected"];for(const x of v)typeof p[x]<"u"&&g.setAttribute(x,p[x]);for(const x of y)typeof p[x]<"u"&&(p[x]?g.setAttribute(x,""):g.removeAttribute(x))}function s(){return globalThis.__idCounter||(globalThis.__idCounter=0),`${globalThis.__idCounter++}`}function a(p){const g=p.getAttributeNames();for(const v of g){if(v=="href"){const y=p.getAttribute(v)||"";y.startsWith("http:")||y.startsWith("https:")||p.removeAttribute(v);continue}if(v==="name"&&p.getAttribute(v).length>128){p.removeAttribute(v);continue}i(v)||p.removeAttribute(v)}return p}function i(p){return["alt","aria-checked","aria-description","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-readonly","aria-required","aria-role","aria-selected","checked","content","default","disabled","name","placeholder","readonly","required","role","selected","title","type","value",e].includes(p)}function o(p){const g=["A","BUTTON","DETAILS","EMBED","INPUT","MENU","MENUITEM","OBJECT","SELECT","TEXTAREA","SUMMARY"],v=["button","menu","menuitem","link","checkbox","radio","slider","tab","tabpanel","textbox","combobox","grid","listbox","option","progressbar","scrollbar","searchbox","switch","tree","treeitem","spinbutton","tooltip"],y=["menu","menuitem","button"],x=["onclick","tabindex","autofocus"],b=p.tagName,w=p.getAttribute("role"),_=p.getAttribute("aria-role");return g.includes(b)||x.some(C=>p.hasAttribute(C))||w&&v.includes(w)||_&&y.includes(_)}function c(p){return d(p)?h(p)?!0:!m(p):u(p)}function u(p){return p.nodeType===Node.TEXT_NODE&&!!p.textContent?.trim()}function d(p){return p.nodeType===Node.ELEMENT_NODE}function h(p){const g=["HEAD","TITLE"],v=["description"];return g.includes(p.tagName)||p.tagName==="META"&&v.some(y=>p.getAttribute("name")===y)}function m(p){return p.hidden||p.getAttribute("aria-hidden")==="true"?!0:!(p.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})||p.computedStyleMap().get("display").value==="contents")}}function uH({selector:e,value:t,submit:n}){const r=document.querySelector(e);if(!r)return{success:!1,reason:"not found"};if(r.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),r instanceof HTMLElement&&r.focus(),r.tagName==="INPUT"||r.tagName==="TEXTAREA")r.value=t;else if(r instanceof HTMLElement&&r.isContentEditable)r.innerText=t;else return{success:!1,reason:"not editable"};if(r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})),n){let s=null;"closest"in r&&(s=r.closest("form")),!s&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(s=r.form),s?.requestSubmit?.()??s?.submit?.()}return{success:!0}}function ktt({selector:e}){const t=document.querySelector(e);return t instanceof HTMLElement&&t.offsetParent!==null?(t.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),t.click(),{success:!0,outerHTML:t.outerHTML,text:t.innerText,tag:t.tagName}):{success:!1,reason:t?"invisible":"not found"}}function Mtt({scrollDirection:e}){const t=window.innerHeight,n=Math.round(t*4);return window.scrollBy({top:e===eM.DOWN?n:-n,left:0,behavior:"smooth"}),{scrolledBy:e===eM.DOWN?n:-n,scrollTop:window.scrollY}}function Ttt({url:e}){window.location.href=e}const Ntt=async(e,t)=>new Att(e,t).start();class Rtt{bridge;constructor(t){this.bridge=t}async GetPageState(t){const n=t.tab_id,r=await this.bridge.tabs_get({id:n}),{result:s}=await this.bridge.agent_execute_js({id:n,js:`(${Ett.toString()})()`});return console.log("[agent] GetPageState content:",{result:s}),Q.log("[agent] GetPageState content:",{result:s}),{page_state:{html:s.html,title:r.tab?.title??"",url:r.tab?.url??"",screenshot:void 0}}}async RunActions(t){console.log("[agent] RunActions request:",t),Q.log("[agent] RunActions request:",t);for(const n of t.actions){const r=t.tab_id;if(n.type===Ud.CLICK){const s=await this.executeJs(r,ktt,{selector:n.selector??""});console.log("[agent] Click action result:",s),Q.log("[agent] Click action result:",s)}else n.type===Ud.WAIT?await new Promise(s=>setTimeout(s,n.duration||1e3)):n.type===Ud.SCROLL_PAGE?await this.executeJs(r,Mtt,{scrollDirection:n.scroll_direction??eM.DOWN}):n.type===Ud.NAVIGATE?await this.executeJs(r,Ttt,{url:n.value??""}):n.type===Ud.FILL?await this.executeJs(r,uH,{selector:n.selector??"",value:n.value??"",submit:!1}):n.type===Ud.SEARCH?await this.executeJs(r,uH,{selector:n.selector??"",value:n.value??"",submit:!0}):(console.warn("[agent] Unknown action type:",n.type),Q.warn("[agent] Unknown action type:",n.type));await this.bridge.agent_wait_idle({id:r}),await new Promise(s=>setTimeout(s,500))}return this.GetPageState({tab_id:t.tab_id,capture_screenshot:t.capture_screenshot})}async ShowMessage(t){return console.log("[agent] ShowMessage request:",t),Q.log("[agent] ShowMessage request:",t),{}}async executeJs(t,n,...r){return(await this.bridge.agent_execute_js({id:t,js:`(${n.toString()})(${r.map(a=>JSON.stringify(a)).join(",")})`})).result}}class Att{payload;bridge;browserService;socket;constructor(t,n){this.payload=t,this.bridge=n,this.browserService=new Rtt(n)}async start(){Q.log("[agent] Starting agent task:",this.payload),console.log("[agent] Starting agent task:",this.payload);const t=performance.now();let n=()=>{},r=()=>{};const s=new Promise((c,u)=>{n=c,r=u}),a=this.payload.base_url+"/agent";this.socket=new WebSocket(a),this.socket.onopen=n,this.socket.onerror=r,this.socket.onmessage=this.handleRpcMessage.bind(this),await s;const{tab:i}=await this.bridge.tabs_create({url:this.payload.start_url,hidden:!1,agent:!0});await this.bridge.agent_wait_idle({id:i.id});const o=await this.browserService.GetPageState({tab_id:i.id,capture_screenshot:!1});return this.socket.send(JSON.stringify({start_agent:{page_state:o.page_state,tab_id:i.id,task:this.payload.task,task_uuid:this.payload.uuid,extra_headers:this.payload.extra_headers,extension_version:"0.0.1",vision:this.payload.vision,url:this.payload.start_url,client_start_time_ms:Math.round(performance.now()-t)}})),()=>{this.socket?.close(),this.bridge.tabs_close({id:i.id})}}async handleRpcMessage(t){const n=JSON.parse(t.data),r=n.request_id,s=a=>{this.socket?.readyState===WebSocket.OPEN?this.socket.send(JSON.stringify({rpc_response:a})):(console.warn("[agent] Socket is not open, cannot send response:",a),Q.warn("[agent] Socket is not open, cannot send response:",a))};try{if(!n.method||!(n.method in this.browserService))throw Q.error("[agent] Unknown method:",n.method),console.error("[agent] Unknown method:",n.method),new Error(`Unknown method: ${n.method}`);const a=n.request?JSON.parse(n.request):void 0,i=n.method,o=await this.browserService[i]({...a});s({request_id:r,response:JSON.stringify(o)})}catch(a){const i=JSON.stringify({status:"error",error:`${a}`});s({request_id:r,response:i}),Q.error("[agent] Error handling RPC message:",a,n),console.error("[agent] Error handling RPC message:",a,n)}}}class jtt{requests=new Map;bridge;constructor(){this.bridge=new Proxy({},{get:(t,n)=>r=>{const s=Hr(),a={request_id:s,[n]:r??{}};return new Promise((i,o)=>{this.requests.set(s,c=>{"error"in c?o(new Error(String(c.error))):i(c)}),window.cometBridge?.postMessage(JSON.stringify(a))})}}),this.startListenMessages()}startListenMessages(){window.cometBridge&&(window.cometBridge.onmessage=t=>{const n=t.data;if(n)try{const r=JSON.parse(n),s=this.requests.get(r.request_id);s?(this.requests.delete(r.request_id),s(r)):(console.warn("No callback found for requestId",r.request_id,r),Q.warn("No callback found for requestId",r.request_id,r))}catch(r){console.warn("Failed to parse bridge response",n,r),Q.warn("Failed to parse bridge response",n,r)}})}}class dH{bridge;constructor(){this.bridge=new Proxy({},{get:(t,n)=>async r=>{const a={request_id:Hr(),[n]:r??{}},i=await window.webkit?.messageHandlers?.cometBridge?.postMessage(JSON.stringify(a));if(!i)throw new Error("No response from cometBridge");return JSON.parse(i)}})}}function Ptt(){return bi(e=>({sourceTabUrl:"",sourceTabTitle:"",screenshotToolEnabled:!0,navigationResults:{},classifierResults:{},omniboxInput:{},navigationMeta:{},taskScreenshots:{},userSelection:void 0,actions:{setSourceTabUrl:t=>{let n=!0;try{const r=new URL(t);n=!((r.protocol==="chrome:"||r.protocol==="comet:")&&r.hostname!=="newtab")}catch{}e({sourceTabUrl:t,screenshotToolEnabled:n})},setSourceTabTitle:t=>{e({sourceTabTitle:t})},setLastOmniboxInput:(t,n)=>{e(r=>({omniboxInput:{...r.omniboxInput,[t]:n}}))},addNavigationResults:(t,{results:n,classifierResult:r,...s})=>{n?.length&&e(a=>{const i={navigationResults:{...a.navigationResults,[t]:n}};return r&&(i.classifierResults={...a.classifierResults,[t]:r}),s&&!a.navigationMeta[t]&&(i.navigationMeta={...a.navigationMeta,[t]:s}),i})},setTaskScreenshot:(t,n)=>{e(r=>({taskScreenshots:{...r.taskScreenshots,[t]:n}}))},setUserSelection:t=>{e({userSelection:t})},clearUserSelection:()=>{e({userSelection:void 0})}}}))}const Itt="mcjlamohcooanphmebaiigheeeoplihb",Ott="streamId",Ltt=Object.freeze([]);class Dtt{tools;mobileProxy=new dH;isTestDebugMode=!1;platform="web";useAgentExtensionTools=!1;store=Ptt();mainExtension;agentExtension;taskTeardowns=new Map;emitter=Lse();constructor(){const t=gl();t?.android_version&&(this.platform="android"),t?.ios_version&&(this.platform="ios"),this.mainExtension=cH({onMessage:this.handleMessage,extensionId:Itt,name:"entropy_client_context"}),this.agentExtension=cH({onMessage:this.handleAgentExtensionMessage,extensionId:_tt,name:Ctt}),this.tools=Ftt(this.agentExtension),this.platform==="web"?this.mainExtension.sendMessage({type:"INIT"}).then(n=>{n&&(this.isTestDebugMode=!!n.isTestDebugMode)},n=>{if(tl())throw n}):this.mobileProxy=this.platform==="android"?new jtt:new dH,zOe()}getStore(){return this.store}async openNewTab(t){const n=new URL(t);n.searchParams.delete("erp"),n.pathname=n.pathname.replace("/sidecar",""),await this.openTab({url:n.toString(),request_id:"openNewTab",key:"openNewTab"})}_getNavigationResults(t){return this.store.getState().navigationResults[t]??Ltt}async closeSideCar(){return this.send({type:"HIDE_SIDECAR"})}async openTab(t){if(this.platform!=="web"){const r=(await this.mobileProxy?.bridge.tabs_create({url:t.url,hidden:!1})).tab;return{is_success:!0,_metadata:{time:1},result:{tab_id:r.id,url:r.url,title:r.title,last_accessed:r.last_accessed}}}return this.useAgentExtensionTools?{is_success:!0,result:(await this.tools.OpenTabs({key:t.key??"unknown",request_id:t.request_id??"unknown",urls:[t.url],tab_ids:t.tabId?[t.tabId]:[]})).tabs[0]}:this.send({type:"OPEN_TAB",payload:{tabId:t.tabId??null,...t}})}async injectSearchResults(t,n,r={}){try{const s=li(),a={streamId:n,...r};Ou("web.frontend.comet_navigation_run_inject",a);const i=await this.send({type:"NAV_SEARCH",payload:{query:t,streamId:n}});if(!i.is_success)throw new Error("Failed to inject search results");this.store.getState().actions.addNavigationResults(n,i);const c={type:i.type??"unknown",...a};s.addTiming("web.frontend.comet_navigation_search_results",c);const u=s.getAbsoluteStartTime(),d={...c,startTime:u};i._metadata?.time&&Go("web.frontend.comet_navigation_extension_processing",{duration:i._metadata.time,...d}),i.searchTime&&Go("web.frontend.comet_navigation_search_time",{duration:i.searchTime,...d}),i.classifyTime&&Go("web.frontend.comet_navigation_classify_time",{duration:i.classifyTime,...d}),i.networkingTime&&Go("web.frontend.comet_navigation_networking_time",{duration:i.networkingTime,...d})}catch(s){Q.error(new Bx("NAV_RESULTS_INJECTION_FAILED",{details:{streamId:n},cause:s}))}}async getIsCometDefaultBrowser(t){try{const n=await this.send({type:"GET_IS_DEFAULT_BROWSER",key:t});return n.is_success?n.isDefault:null}catch{return null}}async setCometAsDefaultBrowser(t){return this.send({type:"SET_AS_DEFAULT_BROWSER",key:t})}subscribeCometNavigate(t){const n=r=>{const s=new URL(r.detail.url);if(delete window.pplxNavIntentEvent,this.store.getState().actions.clearUserSelection(),Ou("comet_navigate"),s.pathname==="/search"&&s.searchParams.has("q")&&(s.pathname="/search/new"),s.pathname==="/search/new"){const a=Hr(),i=r.detail.text||"",o=s.searchParams.get("q")??"";s.searchParams.set(Ott,a),this.injectSearchResults(o,a,{omnisearch:!0}),this.store.getState().actions.setLastOmniboxInput(a,i)}t({url:s})};return window.pplxNavIntentEvent&&n(window.pplxNavIntentEvent),document.addEventListener("comet-navigate",n),()=>{document.removeEventListener("comet-navigate",n)}}subscribeToCometQuery(t){const n=r=>{const s=r.detail.query;delete window.pplxCometQuery,t(s)};return window.pplxCometQuery&&n(window.pplxCometQuery),document.addEventListener("comet-query",n),()=>{document.removeEventListener("comet-query",n)}}getLastOmniboxInput(t){return this.store.getState().omniboxInput[t]}async searchTabs(t){if(this.platform!=="web"){const{tabs:n}=await this.mobileProxy.bridge.tabs_query();return{is_success:!0,tabs:n.map(r=>({tabId:r.id,title:r.title??"",url:r.url,isCurrent:!1,lastAccess:r.last_accessed??0,snippet:""})),_metadata:{time:1}}}return this.useAgentExtensionTools?{is_success:!0,tabs:(await this.tools.SearchBrowser({queries:[],sources:["OPEN_TABS"],key:t,history_max_results:0,open_tabs_max_results:500,closed_tabs_max_results:0,request_id:t})).open_tabs_results.map(r=>({...r,tabId:r.tab_id,lastAccess:r.last_accessed}))}:this.send({type:"SEARCH_TABS",payload:{queries:[]},key:t})}async ungroupTabs(t,n,r){return this.useAgentExtensionTools?{is_success:!0,tabIds:(await this.tools.UngroupTabs({group_ids:t.groupIds,tab_ids:t.tabIds,key:n,request_id:r})).ungrouped_tabs.map(a=>({id:a.tab_id,error:a.error})),groupIds:t.groupIds.map(a=>({id:a}))}:this.send({type:"UNGROUP_TABS",payload:t,key:n})}showNotification(){this.send({type:"SHOW_NOTIFICATION"}).catch(()=>{})}setTabProgress(t){this.send({type:"SET_TAB_PROGRESS",payload:t}).catch(()=>{})}async searchTabGroups(t,n,r){return this.useAgentExtensionTools?{is_success:!0,results:(await this.tools.SearchTabGroups({queries:t.queries,request_id:r,key:n})).tab_groups.map(a=>({...a,color:a.color,tabs:a.tabs.map(i=>({...i,tabId:i.tab_id,isCurrent:i.is_current_tab??!1}))}))}:this.send({type:"SEARCH_TAB_GROUPS",payload:t,key:n})}showFeedbackForm(){this.send({type:"SHOW_FEEDBACK_FORM"}).catch(()=>{})}subscribeScreenshotCaptured(t){return this.emitter.on("SCREENSHOT_CAPTURED",t)}handleAgentExtensionMessage=t=>{try{is(t).with({type:"SCREENSHOT_CAPTURED"},async({payload:{screenshot:n}})=>{const s=await(await fetch(n)).blob(),a=new File([s],"screenshot.png",{type:s.type});Q.info("Screenshot captured"),this.emitter.emit("SCREENSHOT_CAPTURED",a)}).with({type:"BROWSER_TASK_PROGRESS_SCREENSHOT"},async({payload:{screenshot:n,taskUuid:r}})=>{this.store.getState().actions.setTaskScreenshot(r,`data:image/png;base64,${n}`)}).with({type:"BROWSER_TASK_STOP"},()=>{Q.info("Browser task stopped"),this.emitter.emit("BROWSER_TASK_STOP")}).with({type:"AGENT_TASK_FAILURE"},({payload:{taskUuid:n,extraHeaders:r,error:s}})=>{IJ({clientPayloadCacheKey:n,errorType:s,errorMsg:"Agent task failure."},r,"CometAdapter").catch(a=>{Q.error("Error sending tool failure",a)})}).with({type:"USER_SELECTION_CAPTURED"},({payload:{selection:n}})=>{this.store.getState().actions.setUserSelection(n)}).otherwise(n=>{Q.log("Unknown message type",n)})}catch(n){Q.error("Error parsing entropy message",n)}};async fetchOpenedTabs(){const t=await this.searchTabs("fetch_opened_tabs");return t.is_success?t.tabs.filter(n=>(n.url.startsWith("https://")||n.url.startsWith("file://"))&&!n.isCurrent).sort((n,r)=>r.lastAccess-n.lastAccess):[]}async getPersonalSuggestions(t,n){return this.send({type:"GET_PERSONAL_SUGGESTIONS",payload:t,key:n})}async getTopMostVisitedUrls(t,n){return this.send({type:"GET_TOP_MOST_VISITED_URLS",payload:t,key:n})}getQuickActions(t){return this.send({type:"GET_QUICK_ACTIONS",key:t})}async getInitialHistorySummary(t,n,r){return this.SearchBrowser({queries:[],sources:["HISTORY"],key:t,request_id:"",start_time:n*24*60*60*1e3,history_max_results:r,open_tabs_max_results:r,closed_tabs_max_results:r})}async getHistorySummary(t,n=[],r=14,s=20){return this.SearchBrowser({queries:n,sources:["HISTORY"],key:t,request_id:"",start_time:r*24*60*60*1e3,history_max_results:s,open_tabs_max_results:s,closed_tabs_max_results:s})}async GetContent(t){return this.platform!=="web"?{contents:(await Promise.allSettled(t.pages.map(async r=>r.id?(await this.mobileProxy.bridge.tabs_get_content({id:r.id})).tab_content:(await this.mobileProxy.bridge.tabs_get_url_content({url:r.url})).tab_content))).map(r=>r.status==="fulfilled"?r.value:void 0).filter(r=>r!==void 0).map(r=>({html:"",id:r.id,url:r.url,title:r.title??"",og_meta:r.og_meta??{},markdown:r.markdown??""}))}:this.tools.GetContent(t)}async GetVisibleTabScreenshot(t){return this.tools.GetVisibleTabScreenshot(t)}async SearchBrowser(t){if(this.platform!=="web"){const n=t.sources.includes("HISTORY")?Promise.allSettled((t.queries.length?t.queries:[""]).map(async i=>await this.mobileProxy.bridge.history_search({text:i,max_results:t.history_max_results,start_time:t.start_time,end_time:t.end_time}))):[],[{tabs:r},s]=await Promise.all([t.sources.includes("OPEN_TABS")?this.mobileProxy.bridge.tabs_query():{tabs:[]},n]),a=s.map(i=>i.status==="fulfilled"?i.value.history_items:[]).flat().map(i=>({title:i.title??"",url:i.url,last_accessed:i.last_visit_time??Date.now(),visit_count:i.visit_count??1}));return{closed_tabs_results:[],history_results:a,open_tabs_results:r.map(i=>({tab_id:i.id,title:i.title??"",url:i.url,last_accessed:i.last_accessed??0}))}}return this.tools.SearchBrowser(t)}async GetSidecarContext(t){return this.tools.GetSidecarContext(t)}async closeTabs(t,n,r){if(this.platform!=="web"){const{tabs:s}=await this.mobileProxy.bridge.tabs_query(),a=t.tabIds??[],i=s.filter(o=>a.includes(o.id));return i.forEach(o=>{this.mobileProxy.bridge.tabs_close({id:o.id})}),{is_success:!0,result:i.map(o=>({id:o.id,url:o.url,title:o.title??""}))}}return this.useAgentExtensionTools?{is_success:!0,result:(await this.tools.CloseTabs({tab_ids:t.tabIds??[],key:n,request_id:r})).tabs.map(a=>({id:a.tab_id,...a}))}:this.send({type:"CLOSE_TABS",payload:t,key:n})}async groupTabs(t,n,r){if(this.useAgentExtensionTools){const s=await this.tools.GroupTabs({...t,tab_ids:t.tabIds,group_id:t.groupId,key:n,request_id:r});if(!s.tab_group)throw new Error("[GroupTabs] Tab group not found");return{is_success:!0,tabGroup:{id:s.tab_group.id,title:s.tab_group.title,collapsed:s.tab_group.collapsed??!1,color:s.tab_group.color}}}return this.send({type:"GROUP_TABS",payload:t,key:n})}async maybeSendSearchResult(t,n,r){if(!this.isTestDebugMode||!t)return;const a=[...t.web_results??[],...t.extra_web_results??[]].map(i=>({name:i.name,snippet:i.snippet,url:i.url,isClientContext:!!i.is_client_context}));return this.send({type:"PERPLEXITY_SEARCH_RESULT",payload:{answer:t.answer,webResults:a,isPending:r,steps:n.map(i=>i.step_type)}})}submitTask(t){const n=this.taskTeardowns.get(t.entryId)??[];if(this.taskTeardowns.set(t.entryId,n),this.platform!=="web"){const r=Ntt(t,this.mobileProxy.bridge);n.push(()=>r.then(s=>s()));return}n.push(this.agentExtension.sendMessageToPort(t))}cleanupTasks(t){if(!t)return;const n=this.taskTeardowns.get(t);n&&(n.forEach(r=>r()),this.taskTeardowns.delete(t))}captureSourceTabScreenshotV2({sourceTabUrl:t=""}){this.agentExtension.sendMessage({type:"CAPTURE_SCREENSHOT_V2",payload:{tabId:void 0,sourceTabUrl:t}})}deactivateScreenshotTool(){this.agentExtension.sendMessage({type:"DEACTIVATE_SCREENSHOT_TOOL",payload:{tabId:void 0}})}subscribeToSidecarBrowserTaskStop(t){return this.emitter.on("BROWSER_TASK_STOP",t)}subscribeForceSubmitQuery(t){return this.emitter.on("FORCE_SUBMIT_QUERY",t)}subscribeQuickActionButtonFired(t){return this.emitter.on("QUICK_ACTION_BUTTON_FIRED",t)}async send(t){return this.mainExtension.sendMessage(t).then(n=>(n.is_success=!n.errorType,n))}handleMessage=t=>{try{is(t).with({type:"UPDATE_SOURCE_TAB_URL"},r=>{this.store.getState().actions.setSourceTabUrl(r.payload.url),this.store.getState().actions.clearUserSelection()}).with({type:"UPDATE_SOURCE_TAB_TITLE"},r=>{this.store.getState().actions.setSourceTabTitle(r.payload.title)}).with({type:"FORCE_SUBMIT_QUERY"},r=>{this.isTestDebugMode&&this.emitter.emit("FORCE_SUBMIT_QUERY",r.payload)}).with({type:"QUICK_ACTION_BUTTON_FIRED"},()=>{this.emitter.emit("QUICK_ACTION_BUTTON_FIRED")}).with({type:"INIT"},r=>{this.isTestDebugMode=!!r.payload.isTestDebugMode,r.payload.sourceTabUrl&&this.store.getState().actions.setSourceTabUrl(r.payload.sourceTabUrl),r.payload.sourceTabTitle&&this.store.getState().actions.setSourceTabTitle(r.payload.sourceTabTitle)}).otherwise(r=>{Q.log("Unknown message type",r)})}catch(n){Q.error("Error parsing entropy message",n)}}}const Ftt=e=>new Proxy({},{get(t,n){return r=>e.sendMessage({type:"CALL_TOOL",method:n,request:r}).then(({success:s,response:a})=>{if(!s)throw a;return a}).catch(s=>{throw Q.error("Error calling tool",s),"errorType"in s?s:{errorType:"unhandled",errorMsg:"Proxy error."}})}}),C2=new Dtt,{Provider:Utt,useTrackedState:Btt}=nm("CometState",()=>C2.getStore()),Sie=f.createContext(void 0),$tt=({children:e})=>{const t=Rt(),n=zee(),r=rr();return f.useLayoutEffect(()=>{const s=ls();return document.documentElement.dataset.erp=s.erp,C2.subscribeCometNavigate(({url:a})=>{if(a.origin===window.location.origin&&a.pathname.startsWith(t.base)&&(a.pathname=a.pathname.replace(t.base,""),n(a.pathname))){const o=a.searchParams.toString(),c=`${a.pathname}${o?`?${o}`:""}`;t.push(c,void 0,"Comet navigate");return}if(r){Q.error("Invalid soft navigation in Sidecar",{url:a}),C2.openTab({url:a.toString()});return}const i=a.toString();window.location.href=i})},[t,n,r]),l.jsx(Utt,{children:l.jsx(Sie.Provider,{value:C2,children:e})})};function Vr(e=!0){const t=f.useContext(Sie);if(!t&&e)throw new Error("useEntropyBrowser must be used inside EntropyBrowserProvider");return t}const kd=Btt;var dC={},fH;function Htt(){return fH||(fH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="plus",r=448,s=512,a=[10133,61543,"add"],i="2b",o="M248 72c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 160L40 232c-13.3 0-24 10.7-24 24s10.7 24 24 24l160 0 0 160c0 13.3 10.7 24 24 24s24-10.7 24-24l0-160 160 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-160 0 0-160z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faPlus=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(dC)),dC}var Eie=Htt();const kie=T.memo(({query:e,completion:t,inputsAndCompletions:n,description:r,highlightPrefix:s,url:a,title:i,shouldShowTitle:o})=>{const c=Aie(a),u=jie(a),d=o&&i?i:e,h=c?d.toUpperCase():d,{$t:m}=K(),p=c?t?.toUpperCase():t;return u?l.jsx(j,{variant:"small",inline:!0,children:m({defaultMessage:"{perplexity} Finance",id:"LnL5Kdg1cp"},{perplexity:"Perplexity"})},"perplexity-finance"):l.jsxs(l.Fragment,{children:[!r&&n?.length&&s?n.map(([g,v],y)=>g?l.jsx(j,{color:"light",variant:"small",className:"inline",as:"div",children:g},`${y}-${g}`):l.jsx(j,{className:"inline whitespace-pre",variant:"small",as:"div",children:v},`${y}-${v}`)):r?l.jsxs("div",{className:"flex flex-col",children:[l.jsx(j,{variant:"small",inline:!0,children:h}),l.jsx(j,{variant:"tinyRegular",className:"!text-subtle opacity-70",inline:!0,children:r})]}):l.jsx(j,{inline:!0,color:"light",variant:"small",children:h}),t&&s&&!n?.length&&l.jsx(j,{className:"whitespace-pre",inline:!0,variant:"small",children:p}),t&&!s&&l.jsx(j,{color:"light",inline:!0,variant:"small",children:p})]})});kie.displayName="DefaultQueryContentComponent";const Mie=T.memo(({onClick:e,query:t,completion:n,inputsAndCompletions:r,url:s,suggestionIndex:a,keyboardFocusedIndex:i,setKeyboardFocusedIndex:o,leftIcon:c,rightIcon:u=l.jsx(gt,{icon:Eie.faPlus}),className:d,description:h,title:m,shouldShowTitle:p,highlightPrefix:g=!0,category:v,QueryContentComponent:y=kie,metadata:x,actionHandler:b})=>{const{isMobileUserAgent:w}=Oe(),_="group-hover:opacity-100 group-data-[focused=self]:opacity-100",C="opacity-0 group-data-[focused=other]:opacity-0",S=f.useCallback(()=>{o?.(-1)},[o]),k=f.useCallback(E=>p&&m&&t?l.jsx(Dn,{tooltipText:t,bodyClassName:"max-w-[300px]",showTooltip:!0,asChild:!0,tooltipLayout:"right",children:E}):E,[p,m,t]);return l.jsx(wt,{children:k(l.jsx("div",{"data-focused":i===void 0||i===-1?"none":i===a?"self":"other",className:U("group flex cursor-pointer flex-row items-center rounded-lg p-[8px] last:rounded-b-xl",d),onPointerDown:()=>{b?b():e(n?t+n:t)},onPointerLeave:S,children:l.jsxs("div",{className:"flex w-full min-w-0 flex-row whitespace-pre leading-tight",children:[l.jsx(j,{className:"-mr-[3px]",color:"light",inline:!0,variant:"small",children:c}),l.jsx(j,{variant:"small",className:w?"truncate":"line-clamp-2 text-wrap",children:s?l.jsx(it,{href:s,target:"_blank",rel:"noopener",children:l.jsx(y,{query:t,url:s,completion:n,inputsAndCompletions:r,description:h,category:v,highlightPrefix:g,metadata:x,title:m,shouldShowTitle:p})}):l.jsx(y,{query:t,url:s,completion:n,inputsAndCompletions:r,description:h,category:v,highlightPrefix:g,metadata:x,title:m,shouldShowTitle:p})}),l.jsx(j,{variant:"smallBold",color:"super",inline:!0,className:U("pr-xs ml-auto",_,{[C]:!s}),children:u})]})}))})});Mie.displayName="SuggestionCard";const g8={ticker:{order:0,showHeader:!1,highlightPrefix:!1},suggestion:{order:1,showHeader:!1,highlightPrefix:!0},news:{displayName:"Latest News",order:2,showHeader:!0,highlightPrefix:!1},related_question:{displayName:"Related Questions",order:3,showHeader:!0,highlightPrefix:!1},shortcuts:{displayName:"Shortcuts",order:4,showHeader:!0,highlightPrefix:!0}},Wtt=e=>{const t={};return e.forEach(n=>{const r=n.category||"suggestion";t[r]||(t[r]=[]),t[r].push(n)}),t},ztt=e=>Object.keys(e).sort((t,n)=>{const r=g8[t]?.order??Number.MAX_SAFE_INTEGER,s=g8[n]?.order??Number.MAX_SAFE_INTEGER;return r-s}),hH=e=>{const{metadata:t}=e;return!!t&&t.type==="price"&&!!t.price_info&&typeof t.price_info.currentPrice=="number"&&!!t.price_info.change&&!!t.price_info.changePercentage},Vtt=e=>[...e].sort((t,n)=>{const r=hH(t),s=hH(n);return r&&!s?-1:!r&&s?1:0}),Gtt=T.memo(e=>{const{text:t,show:n,className:r}=e;return n?l.jsxs(l.Fragment,{children:[l.jsx(H,{className:U("my-sm sm:mx-sm border-b first:hidden",r)}),t&&l.jsx(H,{variant:"transparent",className:"sm:mx-sm mt-xs mb-sm pr-sm",children:l.jsx(j,{className:"w-max",variant:"tinyMono",color:"light",children:t})})]}):null}),Tie=T.memo(({category:e,suggestions:t,categoryConfig:n,value:r,focusedIndex:s,setFocusedIndex:a,handleSubmit:i,indexOffset:o,LeftIconComponent:c,RightIconComponent:u,QueryContentComponent:d,onFillButtonClick:h,titleClassName:m})=>{const p=f.useMemo(()=>e==="ticker"?Vtt(t):t,[e,t]),g=f.useMemo(()=>T.memo(({suggestion:{input:v,completion:y,query_uuid:x,image:b,imageDark:w,url:_="",description:C,identifier:S="",category:k,title:E="",subscribed:M=!1,metadata:N,submission_query:R,inputs_and_completions:A,icon_name:P,shouldShowTitle:O,actionHandler:I},index:L})=>{const F=f.useCallback(W=>i({query:W,query_uuid:x,url:_,identifier:S,category:k,description:C,image:b,imageDark:w,title:E,subscribed:M,submission_query:R},L+o),[k,C,S,b,w,L,x,R,M,E,_]),D=f.useCallback(()=>{h(v+y,_)},[y,v,_]),B=f.useMemo(()=>l.jsx(c,{image:b,imageDark:w,alt:v+r,url:_,category:k,iconName:P,value:r}),[k,P,b,w,v,_]),$=f.useMemo(()=>l.jsx(u,{onClick:D,url:_,isSelected:M,metadata:N,category:k}),[D,N,M,_,k]);return l.jsx(Mie,{onClick:F,query:v,completion:y,inputsAndCompletions:A,url:_,suggestionIndex:L+o,keyboardFocusedIndex:s,setKeyboardFocusedIndex:a,description:C,title:E,shouldShowTitle:O,highlightPrefix:n.highlightPrefix??!0,className:U("bg-background-50 dark:bg-background-200","hover:bg-background-200 dark:hover:bg-background-300","data-[focused=self]:bg-background-200","dark:data-[focused=self]:bg-background-300","hover:data-[focused=other]:bg-background-50","dark:hover:data-[focused=other]:bg-background-200"),category:k,QueryContentComponent:d,metadata:N,leftIcon:B,rightIcon:$,actionHandler:I})}),[c,d,u,n.highlightPrefix,s,i,o,h,a,r]);return t.length?l.jsxs(l.Fragment,{children:[l.jsx(Gtt,{show:n.showHeader,text:n.displayName,className:m}),p.map((v,y)=>l.jsx(g,{suggestion:v,index:y},`${e}-${v.input+v.completion+v.description||v.query_uuid}`))]}):null});Tie.displayName="SuggestionGroup";const qtt=60,Ktt=2e3,Ytt=6,Qtt=4,Xtt=5,Wf=(e,t)=>e?Qtt:t?Xtt:Ytt,Ztt=e=>!(e.length===0||e.includes(`
`)),Jtt=e=>e.map(t=>({query:t.text,image:t.image_url,url:t.url,title:t.title})),ent=e=>e.sort((t,n)=>t.url?-1:n.url?1:t.image?-1:n.image?1:0),v8=(e,t,n)=>{let r=e;const s=rr();(t||s)&&(r=e.filter(o=>!o.url));const a=wJ(r,"query");if(n){const o=a.findIndex(c=>c.query===n);if(~o){const c=a[o];a.splice(o,1),a.unshift(c)}}const i=ent(a);return[i,i.slice(0,Wf(t))]},Nie=(e,t,n)=>{const r=n?e.replace(/\s+/g,"").toLocaleLowerCase():e,s=t.query;let a=0,i=0;for(;a<r.length&&i<s.length;)r[a]===s[i].toLocaleLowerCase()&&a++,i++;return[a===r.length,i]},tnt=(e,t)=>{const n=e.replace(/\s+/g,""),r=[];let s="",a="",i=0,o=0;for(;i<n.length&&o<t.length;)n[i].toLocaleLowerCase()===t[o].toLocaleLowerCase()?(a&&(r.push(["",a]),a=""),s+=t[o],i++,o++):(s&&(r.push([s,""]),s=""),a+=t[o],o++);return s&&r.push([s,""]),a&&r.push(["",a]),o<t.length&&r.push(["",t.slice(o)]),r},nnt={calendar:BN,"report-search":Nee,browser:hee,mail:zN,"shopping-bag":hM,message:Eee,"user-heart":Iee,play:Mee,globe:UDe,music:aFe,book:hx,plane:Cw,plus:Tr},Rie=T.memo(({image:e,alt:t,url:n,iconName:r,value:s,category:a})=>{const i=rr(),[o,c]=f.useState(!1),{sourceTabUrl:u}=kd(),d=ma(),h=f.useMemo(()=>{if(i&&u)return Ug(u);if(e)return e;if(n)return zae(n)},[e,n,i,u]),m=r?nnt[r]:null,p=s.length===0?yKe[d]??Lu:Lu;return a==="shortcuts"&&!r?l.jsx(_e,{icon:yFe,size:"sm",className:"mt-two mr-2 w-5 flex-shrink-0"}):jie(n)?l.jsx("div",{className:"mr-2 flex size-5 shrink-0 items-center justify-center",children:l.jsx(_e,{icon:y1,size:"sm",className:"text-text"})}):h&&!o?l.jsx("div",{className:"relative mr-2 size-5 shrink-0 overflow-hidden rounded-sm",children:l.jsx("img",{src:h,alt:t??"suggestion",className:"object-cover",sizes:"24px",onError:()=>c(!0)})}):o&&n?l.jsx(H,{className:"mr-2 flex size-5 shrink-0 items-center justify-center overflow-hidden rounded-sm",variant:"offsetPlus",children:l.jsx(gt,{icon:ott.faGlobe})}):l.jsx(_e,{icon:m??p,size:"sm",className:"mt-two mr-2 w-5 flex-shrink-0"})});Rie.displayName="LeftIcon";const Aie=e=>e?.includes("perplexity.ai/finance"),jie=e=>e==="https://www.perplexity.ai/finance",Pie=T.memo(({onClick:e,url:t,category:n})=>n==="shortcuts"?null:Aie(t)?l.jsx("div",{className:"flex h-full items-center",children:l.jsx(_e,{icon:Wr,size:"md",className:"text-subtle -mr-xs"})}):l.jsx("button",{className:"appearance-none",onPointerDown:r=>{r.stopPropagation(),r.preventDefault(),e(r)},type:"button",children:l.jsx(gt,{icon:t?ctt.faGlobePointer:att.faArrowUpLeft})}));Pie.displayName="RightIcon";const Iie=T.memo(()=>{const{$t:e}=K();return l.jsxs("div",{className:"flex w-full min-w-0 flex-row items-center whitespace-pre p-[8px] leading-tight",children:[l.jsx(j,{className:"-mr-[3px] flex-shrink-0 px-[3px]",color:"super",inline:!0,variant:"small",children:l.jsx(_e,{size:"xs",icon:Ed})}),l.jsx(j,{variant:"tinyMono",color:"super",className:"ml-2",children:e({defaultMessage:"Comet Assistant",id:"ML678gEBQ1"})})]})});Iie.displayName="CometAssistantRow";const x1=T.memo(({isOpen:e,suggestedQueries:t,focusedIndex:n,setFocusedIndex:r,handlePasteQuery:s,handleSubmit:a,dropdownClassName:i,dropdownType:o="query",components:c,value:u,children:d,popoverClassName:h,categoryTitleClassName:m,userInputQuery:p,portalTarget:g,placement:v="bottom",allowNonSequentialMatch:y=!1,isCometHome:x,scrollableShards:b=[]})=>{const{trackEvent:w}=Ne(),{RightIconComponent:_=Pie,LeftIconComponent:C=Rie,QueryContentComponent:S}=c??{},k=f.useMemo(()=>t.map(({query:B,query_uuid:$,image:W,imageDark:X,url:ee,title:ne,description:V="",identifier:q="",category:z,subscribed:te=!1,metadata:Y,submission_query:Z,icon:re,is_comet_assistant:G,shouldShowTitle:oe,actionHandler:ae},ie,xe)=>{if(o==="select")return{input:B,completion:"",query_uuid:$,title:ne,image:W,url:ee,description:V,identifier:q,category:z,subscribed:te,submission_query:Z,icon_name:re,is_comet_assistant:G,shouldShowTitle:oe,actionHandler:ae};const de=p?n===-1?u:p:u;return de.length>0&&B.startsWith(de)?{input:de,completion:B.slice(de.length),query_uuid:$,title:ne,image:W,imageDark:X,url:ee,category:z,metadata:Y,...(z==="ticker"||z==="news")&&{description:V},submission_query:Z,icon_name:re,is_comet_assistant:G,shouldShowTitle:oe,actionHandler:ae}:y&&!V&&de.length>0&&de.length<=B.length&&Nie(de,xe[ie],!0)[0]?{input:"",completion:B,inputs_and_completions:tnt(de,B),query_uuid:$,title:ne,image:W,url:ee,category:z,metadata:Y,...(z==="ticker"||z==="news")&&{description:V},submission_query:Z,icon_name:re,is_comet_assistant:G,shouldShowTitle:oe,actionHandler:ae}:{input:B,completion:"",query_uuid:$,title:ne,image:W,imageDark:X,url:ee,category:z,metadata:Y,...(z==="ticker"||z==="news")&&{description:V},submission_query:Z,icon_name:re,is_comet_assistant:G,shouldShowTitle:oe,actionHandler:ae}}),[t,u,o,p,n,y]),E=f.useMemo(()=>Wtt(k),[k]),M=f.useMemo(()=>ztt(E),[E]),N=f.useMemo(()=>M.some(B=>E[B].some($=>$.is_comet_assistant)),[M,E]),R=f.useCallback((B,$)=>{if($){window.open($,"_blank");return}w("auto suggestion filled",{}),s(B)},[s,w]),A=U("!block w-full",v==="bottom"?"rounded-b-[20px]":"rounded-t-[20px]",h),P=f.useRef(null),[O,I]=f.useState(null),L=!e||t.length===0;htt({ref:P,onResize:B=>{I(B?.height??null)}});const F=f.useMemo(()=>({portalTarget:g??void 0,removeScroll:!0,shards:b}),[g,b]),D=f.useMemo(()=>l.jsx("div",{className:U(v==="bottom"?"border-t-borderMainDark/10 dark:border-t-textMainDark/10 shadow-textMain/5 mt-[-5px] rounded-b-[20px] shadow-md dark:shadow-lg dark:shadow-black/10":"border-b-borderMainDark/10 dark:border-b-textMainDark/10 mb-[-5px] rounded-t-[20px]","border-borderMainDark/30 dark:border-textMain/15 border","bg-background-50 dark:bg-offsetDark p-3",i),children:l.jsx(ke.div,{animate:{height:L?0:O??"auto"},initial:{height:0},transition:{height:{type:"spring",bounce:.1,duration:.05}},style:{overflow:"hidden"},children:l.jsxs("div",{ref:P,className:"flex flex-col items-stretch",children:[x&&N?l.jsx(Iie,{}):null,M.map((B,$)=>{const W=E[B],X=g8[B]||{order:999,showHeader:!1};let ee=0;for(let ne=0;ne<$;ne++){const V=M[ne];ee+=E[V]?.length||0}return W.length?l.jsx(Tie,{category:B,suggestions:W,categoryConfig:X,value:u,focusedIndex:n,setFocusedIndex:r,handleSubmit:a,indexOffset:ee,LeftIconComponent:C,RightIconComponent:_,QueryContentComponent:S,onFillButtonClick:R,titleClassName:m},B):null})]})})}),[C,S,_,m,O,i,n,E,a,N,x,R,v,L,r,M,u]);return l.jsx(Sl,{isOpen:e,matchTargetWidth:!0,disableAnimation:!0,placement:v,childrenClassName:"grow block",contentClassName:A,avoidCollisions:!1,disableShadow:!0,overlayProps:F,content:D,children:d})});x1.displayName="SuggestDropdown";const s0="homepage-widgets",ej="homepage/weather",rnt="homepage-widgets/dismiss",snt=e=>({"x-loc-latitude":e.latitude.toString(),"x-loc-longitude":e.longitude.toString()}),ant=(e,t,n)=>{let r="existing";return t<3?r="new":t<10&&(r="activated"),`/rest/homepage-widgets/public?isComet=${e}&lifecycle=${r}&lang=${n}`},int=async({headers:e,urlPath:t="/rest/homepage-widgets",params:n,reason:r})=>{if(n){const s=t.split("?"),a=new URLSearchParams(s[1]??"");new URLSearchParams(n).forEach((o,c)=>{a.set(c,o)}),t=s[0]+"?"+a.toString()}try{const s=await Nn({urlPath:t,method:"GET",timeoutMs:$e({productionMs:2e3,clientSideMs:2e3,devMs:4e3}),numRetries:1,headers:{"content-type":"application/json",...e},reason:r}),a=await s.json();if(!s.ok)throw new Error("Homepage widget fetch failed");return a.widgets}catch(s){return Q.error("Failed to get homepage widgets",s),[]}},ont=async({widgetUuid:e,reason:t})=>{try{return(await J.POST("/rest/homepage-widgets/dismiss/{widget_uuid}",t,{params:{path:{widget_uuid:e}},numRetries:1})).data}catch(n){return Q.error("Failed to dismiss homepage widget",n),null}},lnt=({widget:e,reason:t})=>{const n=ot();return lt({mutationKey:[rnt],mutationFn:()=>ont({widgetUuid:e.uuid??"",reason:t}),onMutate:async()=>{e.size==="ROW"&&n.setQueryData([s0],r=>r.filter(s=>s.uuid!==e.uuid))}})},Oie=async({location:e,locale:t,reason:n})=>{const r={...e?snt(e):{},"accept-language":t},s=await J.GET("/rest/homepage-widgets/weather",n,{headers:r});if(!s.response.ok||!s.data)throw new Error("Failed to get weather");return s.data.data[0]},Lie=async({query:e,watchlistType:t,limit:n,category:r,cometRenderPlace:s,reason:a})=>{const i=encodeURIComponent(e),{data:o,error:c}=await J.GET("/rest/homepage-widgets/watchlist/list-autosuggest",a,{params:{query:{type:t,query:i,limit:n,category:r,entropy_render_place:s}},timeoutMs:1500,numRetries:1});if(c)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get watchlist autosuggestions",cause:c});return o.results??je},cnt=async({watchlistType:e,reason:t})=>{try{const{error:n,data:r}=await J.GET("/rest/homepage-widgets/watchlist/subscription",t,{params:{query:{type:e}},headers:{"content-type":"application/json"},numRetries:1});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get watchlist subscriptions",cause:n});return r.results??[]}catch(n){return Q.error(n),[]}},unt=async({watchlistType:e,reason:t})=>{try{const{error:n,data:r}=await J.GET("/rest/homepage-widgets/watchlist/categories",t,{params:{query:{type:e}},numRetries:1});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get watchlist categories",cause:n});return r?.results??[]}catch(n){return Q.error(n),[]}},dnt=async({watchlistType:e,identifier:t,category:n,reason:r})=>{try{const{error:s}=await J.PUT("/rest/homepage-widgets/watchlist/subscription",r,{params:{query:{type:e,identifier:t??"",category:n}},headers:{"content-type":"application/json"}});if(s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to add watchlist subscription",cause:s});return!0}catch(s){return Q.error(s),!1}},fnt=async({watchlistType:e,identifier:t,category:n,reason:r})=>{try{const{error:s}=await J.DELETE("/rest/homepage-widgets/watchlist/subscription",r,{params:{query:{type:e,identifier:t,category:n}},headers:{"content-type":"application/json"}});if(s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to remove watchlist subscription",cause:s});return!0}catch(s){return Q.error(s),!1}},hnt=async({watchlistType:e,identifier:t,order:n,reason:r})=>{try{const{error:s}=await J.PATCH("/rest/homepage-widgets/watchlist/subscription",r,{params:{query:{type:e,identifier:t}},body:{order:n},headers:{"content-type":"application/json"}});if(s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to update watchlist subscription order",cause:s});return!0}catch(s){return Q.error(s),!1}},S3=e=>["watchlist",e,"subscriptions"],mnt=e=>["watchlist",e,"addSubscription"],pnt=e=>["watchlist",e,"removeSubscription"],gnt=e=>["watchlist",e,"updateSubscription"],Die=({watchlistType:e,reason:t})=>{const n=ut(),r=S3(e);return at({queryKey:r,queryFn:()=>cnt({watchlistType:e,reason:t}),staleTime:0,enabled:n})},vnt=({watchlistType:e,queryClient:t,reason:n})=>{const r=S3(e);return lt({mutationKey:mnt(e),mutationFn:async s=>dnt({watchlistType:e,reason:n,...s}),onMutate:async({identifier:s,category:a,description:i,image:o,title:c})=>{await t.cancelQueries({queryKey:r});const u=t.getQueryData(["watchlist",e]);return t.setQueryData(r,(d=[])=>{const h={identifier:s??"",category:a,description:i??"",image_url:o??"",title:c??"",subscribed:!0,order:Date.now()},m=d.filter(p=>p.identifier!==s);return[h,...m]}),{previousSubscriptions:u}},onError:(s,a,i)=>{Q.error("Error adding watchlist subscription",s),t.setQueryData(r,i?.previousSubscriptions)},onSuccess:()=>{t.invalidateQueries({queryKey:r})}})},ynt=({watchlistType:e,queryClient:t,reason:n})=>{const r=S3(e);return lt({mutationKey:pnt(e),mutationFn:async s=>fnt({watchlistType:e,reason:n,...s}),onSuccess:()=>{t.invalidateQueries({queryKey:r})},onMutate:async({identifier:s})=>{await t.cancelQueries({queryKey:r});const a=t.getQueryData(["watchlist",e]);return t.setQueryData(r,(i=[])=>i.filter(o=>o.identifier!==s)),{previousSubscriptions:a}},onError:(s,a,i)=>{Q.error("Error removing watchlist subscription",s),t.setQueryData(r,i?.previousSubscriptions)}})},xnt=({watchlistType:e,queryClient:t,reason:n})=>{const r=S3(e);return lt({mutationKey:gnt(e),mutationFn:async s=>hnt({watchlistType:e,reason:n,...s}),onMutate:async({newOrderedList:s})=>{await t.cancelQueries({queryKey:r});const a=t.getQueryData(r);return t.setQueryData(r,s),{previousSubscriptions:a}},onError:(s,a,i)=>{Q.error("Error updating watchlist subscription order",s),i?.previousSubscriptions&&t.setQueryData(r,i.previousSubscriptions)},onSuccess:()=>{t.invalidateQueries({queryKey:r})}})},mH={nba:h2,nfl:cee,cricket:wDe,ncaam:h2,ncaaw:h2},fC=ODe,bnt=({watchlistType:e,selectedCategory:t,setSelectedCategory:n})=>{const r="watchlist-category-dropdown",{isMobileStyle:s}=Oe(),{$t:a}=K(),[i,o]=f.useState([]);f.useEffect(()=>{(async()=>{const h=await unt({watchlistType:e,reason:r});o(h)})()},[e]);const c=a({defaultMessage:"All Categories",id:"1X6HtI/EN/"}),u=f.useMemo(()=>[{text:c,icon:fC,onClick:()=>n(void 0),type:"default",active:t===void 0,size:Mt.tiny},...i.map(h=>({text:h.display_name,icon:mH[h.category]||fC,onClick:()=>n(h),type:"default",active:t?.category===h.category,size:Mt.tiny}))],[i,n,t,c]);return i.length===0?null:l.jsx(bn,{isMobileStyle:s,items:u,placement:"bottom-end",children:l.jsx(ye,{icon:mH[t?.category]||fC,size:Mt.tiny,text:t?.display_name??c})})},pH=50,rg={title:Jt({defaultMessage:"Watchlist",id:"b+DoOaU7zT"}),saveWatchlist:Jt({defaultMessage:"Save",id:"jvo0vs3nF0"}),cancel:Jt({defaultMessage:"Cancel",id:"47FYwba+bI"}),settingsTitle:Jt({defaultMessage:"Categories",id:"VKb1MSJZP+"}),sports:pt({title:{defaultMessage:"Sports",id:"qEuXjx1B4z"},settingsCtaText:{defaultMessage:"Add teams",id:"kapmPqUzuB"},searchPlaceholder:{defaultMessage:"Search for a team",id:"yve+fFGCVl"},widgetDescription:{defaultMessage:"Choose your teams",id:"6ZVPGK17cb"},settingsDescription:{defaultMessage:"Event updates, breaking news, and live scores",id:"yBBV27kmkn"},modalDescription:{defaultMessage:"Get event updates, breaking news, and live scores",id:"VLVunZTFAF"}}),finance:pt({title:{defaultMessage:"Finance",id:"Fm3M+yFIbr"},settingsCtaText:{defaultMessage:"Add stocks",id:"IrqguKbukF"},searchPlaceholder:{defaultMessage:"Search...",id:"0BUTMvePvK"},widgetDescription:{defaultMessage:"Set your watchlist",id:"Uh4Ex766Qm"},settingsDescription:{defaultMessage:"Set your watchlist for daily updates and summaries",id:"7SMcHmFldb"},modalDescription:{defaultMessage:"Updates and news about stocks and more",id:"uJAhXQDitL"}}),f1:pt({title:{defaultMessage:"Sports",id:"qEuXjx1B4z"},settingsCtaText:{defaultMessage:"Add drivers",id:"R9U03Vy8bO"},searchPlaceholder:{defaultMessage:"Search for a driver",id:"lE7oUWeeV1"},widgetDescription:{defaultMessage:"Choose your drivers",id:"sCVGGM0Ka3"},settingsDescription:{defaultMessage:"Event updates, breaking news, and live scores",id:"yBBV27kmkn"},modalDescription:{defaultMessage:"Get event updates, breaking news, and live scores",id:"VLVunZTFAF"}})},wnt=({symbol:e})=>l.jsx(j,{color:"light",children:l.jsx("span",{className:"font-mono opacity-70",children:e.slice(0,1)})}),_nt=({image:e,imageDark:t,alt:n,watchlistType:r,className:s})=>{const a=r==="FINANCE",{colorScheme:i}=zr(),o=a&&i==="dark"&&t?t:e,[c,u]=f.useState(()=>{if(!o)return!1;const p=new Image;return p.src=o,p.complete&&p.naturalWidth>0}),[d,h]=f.useState(!1),m=!c||d;return l.jsxs("div",{className:U("flex size-6 items-center justify-center",{"bg-offset":m},s),children:[m&&l.jsx(wnt,{symbol:n??""}),!d&&!m&&l.jsx("img",{src:o,alt:n,width:32,height:32,className:U("max-h-full max-w-full object-contain",{"opacity-0":!c}),onLoad:()=>u(!0),onError:()=>h(!0)})]})},Cnt=Ee(async()=>({default:(await he(()=>import("./WatchlistSelections-CzU79JCm.js"),__vite__mapDeps([3,1]))).WatchlistSelections}),{loading:()=>l.jsx(Fie,{})}),Snt=5,Ent=e=>{const{isSelected:t}=e;return l.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:l.jsx(ze,{icon:t?da:Tr,size:"small",pill:!0})})},knt=({onClear:e})=>l.jsx(ze,{icon:tn,size:"tiny",pill:!0,onClick:e}),Mnt=({isOpen:e,onClose:t,watchlistType:n,origin:r})=>{const{isMobileStyle:s,isMobileUserAgent:a}=Oe(),i="watchlist-modal",{$t:o}=K(),c=ot(),{trackEvent:u}=Ne(),{openToast:d}=Yn(),h=f.useRef(null),[m,p]=f.useState(""),[g,v]=f.useState(je),[y,x]=f.useState(-1),[b,w]=f.useState(!1),[_,C]=f.useState(!1),[S,k]=f.useState();f.useEffect(()=>{u("watchlist modal viewed",{origin:r,watchlistType:n})},[r,n,u]);const M=(re=>re==="sports"||re==="finance"||re==="f1")(S?.category)?S.category:n.toLowerCase(),N=f.useCallback(()=>{b&&c.invalidateQueries({queryKey:[s0]}),t()},[b,c,t]),{data:R,isLoading:A}=Die({watchlistType:n,reason:i}),{mutate:P}=vnt({watchlistType:n,queryClient:c,reason:i}),{mutate:O}=ynt({watchlistType:n,queryClient:c,reason:i}),{mutate:I}=xnt({watchlistType:n,queryClient:c,reason:"watchlist-reorder"}),L=n==="FINANCE",F=[{text:o({defaultMessage:"Done",id:"JXdbo8Vnlw"}),variant:"inverted",onClick:N}],D=f.useCallback(async(re,G)=>{const ae=ls().erp,xe=(await c.fetchQuery({queryKey:["watchlist",n,re,G?.category],queryFn:()=>Lie({query:re,watchlistType:n,limit:Snt,category:G?.category,cometRenderPlace:ae,reason:i}),staleTime:0})).map(de=>({query:de.title,title:de.title,image:de.image_url??void 0,imageDark:de.image_url_dark??void 0,description:de.description,identifier:de.identifier,category:de.category??void 0,subscribed:de.subscribed}));v(xe)},[c,n]),B=_i(D,100,{leading:!0,trailing:!0}),$=f.useCallback((re,G)=>{B(re,G)},[B]),W=()=>{C(!0),$(m,S)},X=()=>{C(!1)},ee=f.useCallback(re=>{const G=re;p(G),$(G,S)},[$,S]),ne=()=>{p(""),v([])},V=(re,G)=>{z(re),p(""),v([]),C(!1)},q=U("h-10 rounded-md dark:border-0 dark:border-transparent dark:bg-background-300 p-4 dark:[&:focus]:ring-0",{"rounded-t-md rounded-b-none":_&&g.length>0}),z=f.useCallback(re=>{if(w(!0),v(je),p(""),(R?.length??0)>=pH){d(o({defaultMessage:"Watchlist full (max {maxItems} items).",id:"mdbFzAw6E5"},{maxItems:pH}),"error",2);return}re.subscribed||P(re)},[P,R?.length,d,o]),te=f.useCallback((re,G)=>{O({identifier:re,category:G}),w(!0)},[O]),Y=f.useCallback((...re)=>{I(...re),w(!0)},[I]),Z=f.useMemo(()=>({image:re,imageDark:G,alt:oe})=>l.jsx(_nt,{image:re,imageDark:G,alt:oe,watchlistType:n}),[n]);return l.jsx(jt,{isOpen:e,onClose:N,title:o(rg[M].title),titleTextVariant:"baseSemi",subtitle:o(rg[M].settingsDescription),subtitleClassname:"text-sm",actionList:F,variant:s?"bottom-sheet":"medium",renderCloseButton:!1,delayClose:!1,noPadding:!0,children:l.jsxs("div",{className:"pt-md flex h-[50vh] min-h-0 shrink-0 flex-col",children:[l.jsx("div",{className:"px-md flex flex-row items-center justify-between",children:l.jsx(bnt,{watchlistType:n,selectedCategory:S,setSelectedCategory:k})}),l.jsxs("div",{className:"h-full",children:[l.jsx("div",{className:"px-md",children:l.jsx(x1,{isOpen:_&&g.length>0,suggestedQueries:g,focusedIndex:y,setFocusedIndex:x,handlePasteQuery:Ln,handleSubmit:V,value:m,components:{RightIconComponent:Ent,LeftIconComponent:Z},dropdownClassName:"dark:border-none dark:ml-0 dark:mr-0 dark:w-full",dropdownType:"select",popoverClassName:"dark:!border-none",children:l.jsx(ko,{onFocus:W,onBlur:X,className:q,pill:!1,ref:h,isMobileUserAgent:a,placeholder:o(rg[M].searchPlaceholder),value:m,onChange:ee,ClearIcon:knt,...m.length>0?{onClear:ne}:{}})})}),A?l.jsx(Fie,{}):l.jsx(Cnt,{subscriptions:R??je,onRemove:te,onUpdateOrder:Y,watchlistType:n,selectedCategory:S,isReorderingEnabled:L,isMobile:s})]})]})})},Fie=()=>l.jsx(hs,{children:l.jsx("div",{style:{maskImage:"linear-gradient(to bottom, black 50%, transparent)"},className:"flex flex-col items-center",children:Array.from({length:4}).map((e,t)=>l.jsx(Tnt,{},t))})}),Tnt=()=>l.jsx(H,{className:"gap-sm mt-2 flex w-full flex-col px-6 py-2",children:l.jsx(H,{variant:"offsetPlus",className:"h-10 w-full rounded-md"})}),Uie=T.memo(({message:e,subtitle:t,...n})=>l.jsx(jt,{title:e,subtitle:t,closeButtonClassname:"right-sm top-md flex self-start justify-end grow",...n}));Uie.displayName="ConfirmationModal";const tj=async({file:e,fileSource:t,forceImage:n,reason:r})=>{const s=await J.POST("/rest/uploads/create_upload_url",r,{body:{filename:e.name,content_type:e.type,source:t??"default",file_size:e.size,force_image:n??!1},timeoutMs:ds.MEDIUM,retries:2});return s.data?s.data:null},Nnt=async({remote_file_id:e,connection_type:t,source:n,reason:r})=>{const s=await J.POST("/rest/connectors/attachments/upload",r,{body:{remote_file_id:e,connection_type:t,source:n??"default"},timeoutMs:ds.VERY_HIGH,retries:2});return s.data?s.data:null};async function Rnt({request:e,reason:t}){return new Promise((n,r)=>{J.SSE("/rest/sse/attachment_processing/subscribe",t,{params:e,handlers:{message:s=>{n(s)}}}).catch(r)})}async function Ant({request:e,reason:t}){const{data:n,error:r}=await J.POST("/rest/shopping/generate-shopping-try-on",t,{body:e,timeoutMs:35e3,headers:{"content-type":"application/json"}});return r?{status:"error",image_url:""}:n}async function gH({request:e,reason:t}){const{data:n,error:r}=await J.POST("/rest/shopping/try-on-photo/generate-avatar",t,{body:e,timeoutMs:4e4,headers:{"content-type":"application/json"}});return r?{status:"error",image_url:""}:n}const jnt=async({reason:e,try_on_photo_url:t})=>{try{const n=await J.PUT("/rest/shopping/try-on-photo/save",e,{body:{try_on_photo_url:t},timeoutMs:$e()});return n.data?n.data:{status:"error"}}catch(n){return Q.error("Failed to save user try on photo",n),{status:"error"}}},Pnt=async({reason:e})=>{try{const t=await J.DELETE("/rest/shopping/try-on-photo/delete",e,{timeoutMs:$e()});return t.data?t.data:{status:"error"}}catch(t){return Q.error("Failed to delete user try on photo",t),{status:"error"}}},nj=({reason:e})=>{const{$t:t}=K(),[n,r]=f.useState({status:"idle",error:null,resultUrl:null,selfieUrl:null}),s=f.useCallback(()=>{r({status:"idle",error:null,resultUrl:null,selfieUrl:null})},[]),a=f.useCallback(p=>{r(g=>({...g,status:"error",error:p}))},[]),i=f.useCallback(async p=>{if(!p.type.startsWith("image/"))return a(t({defaultMessage:"Only image files are supported.",id:"f4sVsu2Ean"})),null;const g=10*1024*1024;if(p.size>g)return a(t({defaultMessage:"Image size exceeds 10MB limit.",id:"/lVoGk8eeX"})),null;try{r(w=>({...w,status:"uploading"}));const v=await tj({file:p,fileSource:"shopping_try_on",forceImage:!0,reason:e});if(!v?.fields||!v?.s3_bucket_url)throw v?.rate_limited?new Error("File upload failed due to rate limit."):new Error("Failed to get upload URL");const y=new FormData;Object.entries(v.fields).forEach(([w,_])=>{y.append(w,_)}),y.append("file",p);const x=await fetch(v.s3_bucket_url,{method:"POST",body:y});if(!x.ok)throw new Error("Failed to upload file");let b=null;try{const w=await x.json();w?.secure_url?b=w.secure_url:w?.eager?.[0]?.secure_url&&(b=w.eager[0].secure_url),b&&Wp(b)&&(b=Zk(b))}catch{v.s3_object_url&&(b=v.s3_object_url)}if(!b)throw new Error("Failed to get image URL from upload response");return r(w=>({...w,status:"idle"})),b}catch(v){return a(v instanceof Error?v.message:t({defaultMessage:"Failed to upload image.",id:"+eCvtPyOJg"})),null}},[t,e,a]),o=f.useCallback(async p=>{const g=await i(p);return g&&r(v=>({...v,selfieUrl:g})),g},[i]),c=f.useCallback(async p=>{try{r(v=>({...v,status:"processing",resultUrl:null,error:null}));const g=await gH({request:{user_image_url:p},reason:e});if(g.status==="failed")throw new Error("Failed to generate avatar");r(v=>({...v,status:"success",resultUrl:g.image_url}))}catch(g){a(g instanceof Error?g.message:t({defaultMessage:"Failed to generate avatar.",id:"anPmJ/DLsx"}))}},[e,t,a]),u=f.useCallback(async(p,g)=>{try{r(y=>({...y,status:"processing",resultUrl:null,error:null}));const v=await gH({request:{user_image_url:g,selfie_image_url:p},reason:e});if(v.status==="failed")throw new Error("Failed to generate avatar");r(y=>({...y,status:"success",resultUrl:v.image_url}))}catch(v){a(v instanceof Error?v.message:t({defaultMessage:"Failed to generate avatar.",id:"anPmJ/DLsx"}))}},[e,t,a]),d=f.useCallback(async(p,g)=>{try{r(y=>({...y,status:"processing",resultUrl:null,error:null}));const v=await Ant({request:{image_url:p,product_image_url:g},reason:e});if(v.status==="error")throw new Error("Failed to generate try-on");r(y=>({...y,status:"success",resultUrl:v.image_url}))}catch(v){a(v instanceof Error?v.message:t({defaultMessage:"Failed to generate try-on.",id:"ptEP5MGDf6"}))}},[e,t,a]),h=f.useCallback(async p=>{try{await jnt({reason:e,try_on_photo_url:p})}catch(g){Q.error("Failed to save avatar",g)}},[e]),m=f.useCallback(async()=>{try{await Pnt({reason:e})}catch(p){Q.error("Failed to delete avatar",p)}},[e]);return f.useMemo(()=>({status:n.status,error:n.error,resultUrl:n.resultUrl,selfieUrl:n.selfieUrl,uploadPhoto:i,uploadSelfie:o,generateDefaultAvatar:c,generateCustomAvatar:u,tryOnProduct:d,saveAvatar:h,resetState:s,deleteAvatar:m}),[n.status,n.error,n.resultUrl,n.selfieUrl,i,o,c,u,d,h,s,m])},VFt=async({shipping_address:e,amount:t,reason:n})=>{const{data:r,error:s}=await J.POST("/rest/shopping/calculate-tax-and-shipping",n,{body:{shipping_address:e,amount:t},timeoutMs:$e(),numRetries:1});if(s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to calculate tax and shipping",cause:s});return r},Int=async({reason:e})=>{const{data:t,error:n}=await J.GET("/rest/shopping/retrieve-customer-shopping-info",e,{timeoutMs:$e({productionMs:5e3})});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get customer shopping info",cause:n});return t};async function GFt({body:e,reason:t}){const n="createShoppingOrder";try{const r=await J.POST("/rest/shopping/create-shopping-order",t,{headers:{"content-type":"application/json"},body:e,timeoutMs:1e4,numRetries:0});if(r.error)throw new Me("API_CLIENTS_ERROR",{message:"Failed to create shopping order",cause:r.error});return r.data}catch(r){throw Q.log(`Error in ${n}:`,r),r}}const qFt=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/shopping/create-shopping-payment-intent",t,{body:e,timeoutMs:6e3,numRetries:0});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to create shopping payment intent",cause:r});if(n.status!=="success")throw new Me("API_CLIENTS_ERROR",{message:"Failed to create payment intent",cause:n});return n},KFt=async({orderId:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/shopping/update-shopping-order",t,{body:{order_id:e,order_status:"cancelled"},timeoutMs:2e4});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to cancel shopping order",cause:r});return n},Ont=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/shopping/create-firmly-cart",t,{body:e,timeoutMs:$e({clientSideMs:5e3})});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to create firmly cart",cause:r});return n},YFt=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/shopping/set-firmly-shipping-info",t,{body:e,timeoutMs:$e({clientSideMs:7e3})});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to set firmly shipping info",cause:r});return n},Lnt=async({reason:e})=>{const{data:t,error:n}=await J.GET("/rest/shopping/create-firmly-session",e,{timeoutMs:$e()});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to create firmly session",cause:n});return t},QFt=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/stripe/update-customer-shipping-address",t,{body:e,timeoutMs:$e()});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to update customer shipping address",cause:r});return n},XFt=async({optionKey:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/shopping/fetch-product-details",t,{body:{option_key:e},timeoutMs:4e3});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch product details",cause:r});return n},ZFt=async({query:e,reason:t})=>{try{const{error:n,data:r}=await J.GET("/rest/autosuggest/shopping/list-autosuggest",t,{timeoutMs:ds.MEDIUM,params:{query:{query:e}}});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get shopping suggestions",cause:n});return r.results??je}catch(n){return Q.error("Failed to get shopping suggestions",n),[]}},JFt=async({page:e,reason:t})=>{const{data:n,error:r}=await J.GET("/rest/shopping/landing-page/tile-data",t,{timeoutMs:ds.MEDIUM,params:e!==void 0?{query:{page:e}}:void 0});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get shopping tile data",cause:r});return n.shopping_tile_data.length===0&&Q.error("Empty shopping tile data"),n.shopping_tile_data},Dnt=async({request:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/shopping/search-shopping-for-entry",t,{body:{query:e.query,read_write_token:e.read_write_token,entry_uuid:e.entry_uuid},timeoutMs:ds.HIGH});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to search for additional products",cause:r});return!n||n.status==="failure"?[]:[...n.shopping_widgets]},Fnt=async({reason:e})=>{const{error:t,data:n}=await J.GET("/rest/shopping/try-on-photo/get",e,{timeoutMs:$e()});return t?{status:"error",try_on_photo_url:null}:n},Bie=({reason:e})=>{const{data:t,isLoading:n,refetch:r}=at({queryKey:iA(),queryFn:()=>Fnt({reason:e})});return f.useMemo(()=>({userTryOnPhotoUrl:t?.try_on_photo_url??null,isUserTryOnPhotoLoading:n,refetchUserTryOnPhoto:r}),[t,n,r])},Unt=({isOpen:e,onClose:t})=>{const{$t:n}=K(),r=ot(),[s,a]=f.useState(!1),{userTryOnPhotoUrl:i,isUserTryOnPhotoLoading:o}=Bie({reason:"avatar_management"}),{deleteAvatar:c}=nj({reason:"avatar_management"}),u=async()=>{await c(),r.setQueryData(iA(),{try_on_photo_url:null}),a(!1),t()};return l.jsxs(l.Fragment,{children:[l.jsx(jt,{isOpen:e,onClose:t,title:n({defaultMessage:"Your avatar photo",id:"fXPKMrv34o"}),centerTitle:!0,modalClassname:"max-w-lg mx-auto",children:l.jsxs("div",{className:"flex flex-col items-center gap-6 p-6",children:[o?l.jsx(yl,{}):i?l.jsx(H,{className:"gap-sm relative isolate flex flex-col overflow-hidden rounded-lg border",children:i&&l.jsx(fs,{src:i,alt:"Your Avatar",imageClassName:"max-h-[500px] max-w-full object-contain",containerClassName:"flex justify-center",includeLightBoxModal:!1})}):l.jsx(j,{variant:"smallMono",children:n({defaultMessage:"No avatar uploaded",id:"RDTTX4AfZg"})}),l.jsx("div",{className:"flex gap-3",children:i&&l.jsx(ye,{variant:"common",onClick:()=>a(!0),text:n({defaultMessage:"Delete",id:"K3r6DQW7h+"})})})]})}),l.jsx(Uie,{isOpen:s,onClose:()=>a(!1),message:n({defaultMessage:"Are you sure you want to delete?",id:"y7o4RnAvXG"}),subtitle:n({defaultMessage:"Once deleted, your avatar cannot be recovered.",id:"CtPvgMBMh3"}),children:l.jsxs("div",{className:"flex justify-center gap-3 p-6",children:[l.jsx(ye,{variant:"common",onClick:()=>a(!1),text:n({defaultMessage:"No",id:"oUWADlOjJt"})}),l.jsx(ye,{variant:"primary",onClick:u,text:n({defaultMessage:"Yes",id:"a5msuh5ORp"})})]})})]})},Bnt=()=>{const e=An();return f.useMemo(()=>{const n=e?.get("pt")||MHe();if(n)try{const r=atob(n);return JSON.parse(r).title}catch{return}},[e])};var hC={},vH;function $nt(){return vH||(vH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="star",r=576,s=512,a=[11088,61446],i="f005",o="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faStar=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(hC)),hC}var Ym=$nt();const Hnt=({origin:e})=>{const{isIOS:t}=Nt(),{downloadAppLink:n}=Ww(e),{$t:r}=K();return l.jsx(it,{className:"box",href:n,children:l.jsxs("div",{className:"gap-x-md py-lg flex items-center justify-center",children:[l.jsx("div",{className:U("border-borderMainDark bg-dark inline-block border",{"p-sm rounded-xl":t,"p-md rounded-full":!t}),children:l.jsx("div",{className:"flex aspect-square w-12 items-center justify-center",children:l.jsx(Es,{variant:"mark",size:"md",color:"white"})})}),l.jsxs("div",{className:"-mt-xs",children:[l.jsx(j,{variant:"baseSemi",children:"Perplexity"}),l.jsx(j,{variant:"small",color:"light",children:r({defaultMessage:"Search and discovery with AI",id:"n3oaAt293P"})}),l.jsx(j,{variant:"small",children:l.jsxs("div",{className:"gap-x-xs flex items-center text-orange-400",children:[l.jsx(gt,{icon:Ym.faStar}),l.jsx(gt,{icon:Ym.faStar}),l.jsx(gt,{icon:Ym.faStar}),l.jsx(gt,{icon:Ym.faStar}),l.jsx(gt,{icon:Ym.faStar}),l.jsxs(j,{variant:"tiny",color:"light",className:"gap-xs flex items-center pl-1 pt-1",children:[l.jsx("span",{children:"4.9"}),l.jsx("span",{className:"text-[8px]",children:"•"}),l.jsxs("span",{children:["176K"," ",r({defaultMessage:"Ratings",id:"XYovs/iySe"})]})]})]})})]})]})})},Wnt=({origin:e,isOpen:t,onClose:n,sheetModalVariant:r})=>{const{trackEventOnce:s,trackEvent:a}=Ne(),{$t:i}=K(),{handleAppDownloadClicked:o}=Ww("install-gate-modal-upsell"),c=Bnt(),u=Hw({origin:"install-gate"}),{mwebUpsellWhatsApp:d}=Gw();f.useEffect(()=>{s("install modal opened",{origin:e})},[e,s]);const h=f.useCallback(()=>{a("install modal closed",{origin:e}),n()},[n,e,a]);return l.jsx(f3,{isOpen:t,onClose:h,variant:r,showCloseButton:!1,overlayVariant:"default-less-blur",children:d?l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"section-title",className:"px-sm text-center",children:l.jsx(ce,{defaultMessage:"Keep the conversation going.",id:"4/VUgNnQik"})}),l.jsx(j,{variant:"section-title",className:"px-sm text-center",children:l.jsx(ce,{defaultMessage:"Try Perplexity on WhatsApp",id:"YTg7pt2IE4"})}),l.jsxs("div",{className:"align-center mt-md mb-lg flex flex-row items-center justify-center gap-4",children:[l.jsx("div",{className:"aspect-square size-10 overflow-hidden rounded-full shadow-lg",children:l.jsx("img",{src:"https://r2cdn.perplexity.ai/whatsapp.jpg",alt:"WhatsApp"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(j,{children:"Perplexity"}),l.jsx(j,{variant:"smallMono",color:"super",textCenter:!0,children:"+1 (833) 436-3285"})]})]}),l.jsx(ye,{variant:"primary",text:i({defaultMessage:"Continue on WhatsApp",id:"I7Lrfco0vS"}),size:"small",extraCSS:"h-[44px] mb-md",onClick:()=>{a("whatsapp button clicked",{origin:"install-gate"}),u()}})]}):l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"page-title",className:"px-sm text-center",children:c??l.jsx(ce,{defaultMessage:"One verified answer to any question",id:"C+F6JBwTvO"})}),l.jsx(Hnt,{origin:"install-gate-modal-upsell"}),l.jsx(ye,{variant:"primary",text:i({defaultMessage:"Open Perplexity app",id:"u0MSV+x6J3"}),size:"small",extraCSS:"h-[44px] mb-md",onClick:()=>{a("app download button clicked",{origin:"install-gate"}),o()}})]})})},znt={in:{opacity:1,scale:1},out:{opacity:0,scale:.9}},$ie=f.forwardRef((e,t)=>{const{cancelButton:n,confirmButton:r,description:s,title:a}=e,{handleCancel:i,handleConfirm:o}=zqe();return l.jsx(Kw,{asChild:!0,onEscapeKeyDown:c=>{c.stopPropagation()},ref:t,children:l.jsxs(ke.div,{animate:"in",className:"border-border/50 bg-background p-lg rounded-lg border shadow-lg",exit:"out",initial:"out",transition:{duration:.2},variants:znt,children:[l.jsxs(o1,{children:[l.jsx(Yw,{children:a}),l.jsx(WR,{children:s})]}),l.jsxs("div",{className:"gap-md flex flex-col items-center",children:[l.jsx(j,{children:s}),l.jsxs("div",{className:"gap-md mx-auto flex",children:[l.jsx(ye,{variant:"common",onClick:i,testId:"confirm-close-modal-cancel-button",...n}),l.jsx(ye,{variant:"rejected",onClick:o,testId:"confirm-close-modal-confirm-button",...r})]})]})]},"confirm-close-modal-content")})});$ie.displayName="ConfirmCloseModalContent";const Hie=f.forwardRef((e,t)=>{const{children:n,className:r="",motionProps:s}=e;return l.jsx(ere,{asChild:!0,ref:t,children:l.jsx(ke.div,{className:U("bg-backdrop/25 fixed inset-0 flex flex-col items-center justify-center backdrop-blur-[1px]",r),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},...s,children:n},"confirm-close-modal-overlay")})});Hie.displayName="ConfirmCloseModalOverlay";const Wie=T.memo(function(){const{$t:t}=K(),n=f.useMemo(()=>({text:t({defaultMessage:"Cancel",id:"47FYwba+bI"}),testId:"default-confirm-modal-cancel-button"}),[t]),r=f.useMemo(()=>({text:t({defaultMessage:"Discard",id:"nmpevlUATU"}),testId:"default-confirm-modal-discard-button"}),[t]);return l.jsx(Hie,{children:l.jsx($ie,{cancelButton:n,confirmButton:r,description:t({defaultMessage:"Discard any unsaved changes?",id:"p7u+eL35XP"}),title:t({defaultMessage:"Discard changes?",id:"41zpq3nBvm"})})})});Wie.displayName="DefaultConfirmModal";var mC={},yH;function Vnt(){return yH||(yH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="plus",r=448,s=512,a=[10133,61543,"add"],i="2b",o="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faPlus=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(mC)),mC}var Gnt=Vnt();const qnt={xlarge:[64,"h-[64px] w-auto leading-[64px]"],large:[48,"h-[48px] w-auto leading-[48px]"],regular:[32,"h-[32px] w-auto leading-[32px]"],small:[18,"h-[18px] w-auto leading-[18px]"],tiny:[12,"h-[12px] w-auto leading-[12px]"]},Knt=Ee(async()=>({default:(await he(()=>import("./emoji-picker-react.esm-DlXyi2SX.js"),__vite__mapDeps([4,1]))).Emoji})),b1=T.memo(({unified:e,size:t})=>{const[n,r]=qnt[t];return e?l.jsx("div",{className:`relative align-middle ${r}`,children:l.jsx(Knt,{emojiStyle:"native",unified:e,size:n})}):null});b1.displayName="PerplexityEmoji";const Ynt=Ee(()=>he(()=>import("./emoji-picker-react.esm-DlXyi2SX.js"),__vite__mapDeps([4,1]))),zie=T.memo(({emoji:e,setEmoji:t,size:n="large"})=>{const{$t:r}=K(),{colorScheme:s}=zr(),[a,i]=f.useState(!1),o=f.useCallback(g=>{i(!1),t(g.unified)},[t]),c={small:"h-8 w-8",medium:"h-11 w-11",large:"h-14 w-14"},u=f.useCallback(()=>i(!1),[]),d=f.useMemo(()=>({showPreview:!1}),[]),h=f.useMemo(()=>l.jsx(Ynt,{emojiStyle:"native",onEmojiClick:o,autoFocusSearch:!0,width:"100%",theme:s==="dark"?"dark":"light",previewConfig:d}),[s,o,d]),m=f.useCallback(()=>t(""),[t]),p=f.useCallback(()=>i(g=>!g),[]);return l.jsxs("div",{className:"relative",children:[l.jsx(j,{variant:"smallBold",children:r({defaultMessage:"Emoji",id:"34NuzGC3+4"})}),l.jsxs("div",{className:"mt-sm relative inline-block",children:[e!==""&&l.jsx("div",{className:"-right-sm -top-sm absolute",children:l.jsx(ye,{pill:!0,size:"tiny",icon:tn,onClick:m})}),l.jsx(Sl,{isOpen:a,onClose:u,content:h,hasInteractiveContent:!0,children:l.jsx(H,{onClick:p,variant:"offset",bgHover:"offsetPlus",className:`p-sm flex cursor-pointer items-center justify-center rounded-full ${c[n]}`,children:e===""?l.jsx("div",{className:"flex h-full w-full items-center justify-center",children:l.jsx(gt,{icon:Gnt.faPlus})}):l.jsx("div",{className:"flex h-full w-full items-center justify-center",children:l.jsx(b1,{unified:e,size:"regular"})})})})]})]})});zie.displayName="CollectionEmojiPicker";const xH=T.memo(({isOpen:e,closeModal:t,existingCollection:n,entryUUID:r,frontendContextUUID:s,onCreate:a,content:i})=>{const o="space-create-modal",{$t:c}=K(),{isMobileStyle:u,isMobileUserAgent:d}=Oe(),{createCollection:h,createCollectionForThread:m}=d3({reason:o}),[p,g]=f.useState({title:i?.title??n?.title??"",description:i?.description??n?.description??"",instructions:i?.instructions??n?.instructions??"",emoji:i?.emoji??n?.emoji??"",accessLevel:n?.access??cx,enableWebByDefault:n?.enable_web_by_default??!0}),[v,y]=f.useState(!1),{title:x,description:b,emoji:w,instructions:_}=p,C=x?.length===0||x?.length>EF||b?.length>kF||_?.length>SF,S=I=>{g(L=>({...L,...I})),y(!0)},k=Rt(),E=f.useCallback(I=>{S({title:"",description:"",instructions:"",emoji:"",accessLevel:cx}),t(),k.push(`/spaces/${I.slug}`),a?.(I)},[t,k,a]),M=f.useCallback(()=>{r?m({...p,entryUUID:r,frontendContextUUID:s??"",callback:E}):h({...p,callback:E})},[r,m,p,s,E,h]),N=f.useMemo(()=>[{text:c({defaultMessage:"Cancel",id:"47FYwba+bI"}),variant:"common",onClick:t,shouldShowConfirmDialog:!0},{text:c({defaultMessage:"Continue",id:"acrOozm08x"}),variant:"primary",disabled:C,onClick:()=>M()}],[t,c,C,M]),R=f.useCallback(I=>S({title:I}),[]),A=f.useCallback(I=>S({emoji:I}),[]),P=f.useCallback(I=>S({description:I}),[]),O=f.useCallback(I=>S({instructions:I}),[]);return l.jsx(jt,{title:c({defaultMessage:"Create a Space",id:"SqVNRzqwJz"}),isOpen:e,onClose:t,actionList:N,confirmOnClose:v?l.jsx(Wie,{}):void 0,children:l.jsxs("div",{className:"space-y-md",children:[l.jsxs("div",{className:"space-x-sm flex items-center",children:[l.jsx("div",{className:"flex-grow",children:l.jsx(ko,{isMobileUserAgent:d,label:c({defaultMessage:"Title",id:"9a9+wwWy4u"}),value:x,autoFocus:!0,onChange:R,placeholder:c({defaultMessage:"Team Space...",id:"CR3RufeyCu"}),maxLength:EF})}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(zie,{emoji:w,setEmoji:A,size:"medium"})})]}),l.jsx($u,{isMobileStyle:u,isMobileUserAgent:d,placeholder:c({defaultMessage:"A collaborative space for discussing latest insights...",id:"r+xI8TGuu9"}),label:c({defaultMessage:"Description",id:"Q8Qw5BZ1VA"}),isOptional:!0,minRows:2,value:b,onChange:P,maxLength:kF}),l.jsx($u,{isMobileStyle:u,isMobileUserAgent:d,placeholder:c({defaultMessage:"Always respond in a formal tone and prioritize data-driven insights...",id:"ERATUnZFe3"}),label:c({defaultMessage:"Custom Instructions",id:"nRK52SgZ/p"}),subtitle:c({defaultMessage:"Give instructions to the AI that affects every thread in this space.",id:"6peDHp5LgI"}),isOptional:!0,value:_,minRows:2,onChange:O,maxLength:SF})]})})}),Qnt=async({reason:e})=>{try{const{error:t,data:n}=await J.GET("/rest/user/promotions",e,{timeoutMs:$e({productionMs:2e3})});if(t)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch user promotions",cause:t});return n}catch{return{campaign:null,offer:null,institution:null}}},Vie=async({locale:e,headers:t,reason:n})=>{let r="";e&&(r=`?locale=${e}`);try{const a=await(await Nn({urlPath:`/rest/billing/get-customer-portal${r}`,method:"GET",headers:t,timeoutMs:3e3,reason:n})).json();return a.status!=="success"||a.url===null||a.url===""?null:a.url}catch{return null}};async function Xnt({currency:e,reason:t,subscriptionTier:n}){const{error:r,data:s}=await J.GET("/rest/stripe/prices",t,{timeoutMs:ds.NONE,params:{query:{currency:e,subscription_tier:n}}});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch prices",cause:r});return s}const bH=({currency:e,reason:t,subscriptionTier:n})=>at({queryKey:["prices",e,n],queryFn:()=>Xnt({currency:e,reason:t,subscriptionTier:n}),gcTime:5*60*1e3,staleTime:2*60*1e3}),y8=async({request:e,reason:t})=>{const n=Lw(),r=xd(),s={"content-type":"application/json",...n?{"Screen-Dimensions":n}:{}};try{const i=await(await Nn({urlPath:"/rest/stripe/checkout-session",method:"POST",body:JSON.stringify({referral_code:e.referralCode,discount_code:e.discountCode,origin:e.origin,tier:e.tier,locale:e.locale,visitor_id:r,embedded:e.embedded,subscription_tier:e.subscriptionTier,success_redirect_url:e.success_redirect_url}),timeoutMs:5e3,headers:s,reason:t})).json();return{subscriptionStatus:i.subscription_status,status:i.status,url:i.url,clientSecret:i.client_secret,errorCode:i.error_code,subscriptionTier:i.subscription_tier}}catch{return}},eUt=async({request:e,headers:t,reason:n})=>{try{return{clientSecret:(await(await Nn({urlPath:"/rest/stripe/create-setup-intent",method:"POST",body:JSON.stringify({is_updating:e.isUpdating}),timeoutMs:$e({productionMs:2500}),headers:{...t,"content-type":"application/json"},reason:n})).json()).client_secret}}catch{return}},Znt=async({headers:e,reason:t})=>{try{const r=await(await Nn({urlPath:"/rest/stripe/create-setup-intent-and-customer-session",method:"POST",timeoutMs:$e({productionMs:3e3}),headers:{...e,"content-type":"application/json"},reason:t})).json();return{customerId:r.customer_id,clientSecret:r.client_secret,customerSessionClientSecret:r.customer_session_client_secret}}catch{return}};var rj=(e=>(e.WINDOWSAPP="windowsapp",e.MACAPP="macapp",e.COMET="comet",e))(rj||{});async function Gie({platform:e,reason:t}){try{const{error:n,data:r}=await J.GET("/rest/billing/get-milestone-usage",t,{timeoutMs:ds.NONE,params:{query:{platform:e}}});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch milestones",cause:n});return r}catch{return null}}async function Jnt({locale:e,reason:t}){try{const{error:n,data:r}=await J.GET("/rest/billing/get-milestone-progress",t,{timeoutMs:ds.NONE,params:{header:{"accept-language":e}}});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch milestones",cause:n});return r}catch{return null}}const tUt=async({displayName:e,address:t,description:n,contactInfo:r,reason:s})=>{try{const{error:a,data:i}=await J.POST("/rest/pplx-api/v2/groups",s,{timeoutMs:9e3,headers:{"content-type":"application/json"},body:{display_name:e,address:t,description:n,contact_info:r}});if(a)throw new Me("API_CLIENTS_ERROR",{message:"Failed to create API group",cause:a});return i.org}catch(a){return Q.log(a),null}},nUt=async({reason:e})=>{const t="getAPIGroupsV2";try{return(await(await Nn({urlPath:"/rest/pplx-api/v2/groups",method:"GET",headers:{"content-type":"application/json"},timeoutMs:1e4,numRetries:1,reason:e})).json())?.orgs??[]}catch(n){return Q.log(`Error in ${t}:`,n),[]}},ert=async({headers:e,reason:t})=>{const{error:n,data:r}=await J.GET("/rest/stripe/upgrade-subscription-preview",t,{headers:{"content-type":"application/json",...e},timeoutMs:ds.HIGH});if(n){const s=n?.detail;if(s&&typeof s=="object"&&"error_code"in s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch upgrade subscription preview",cause:n})}return r},trt=async({headers:e,reason:t})=>{const{error:n,data:r}=await J.GET("/rest/stripe/downgrade-subscription-preview",t,{headers:{"content-type":"application/json",...e},timeoutMs:ds.HIGH});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch downgrade subscription preview",cause:n});return r},nrt=({reason:e,enabled:t})=>at({queryKey:jqe(),queryFn:()=>ert({reason:e}),gcTime:0,staleTime:0,enabled:t}),rrt=({reason:e})=>at({queryKey:["downgrade-subscription-preview"],queryFn:()=>trt({reason:e}),gcTime:0,staleTime:0}),srt=async({headers:e,reason:t})=>{const{error:n,data:r}=await J.POST("/rest/stripe/upgrade-subscription",t,{headers:{"content-type":"application/json",...e},timeoutMs:ds.HIGH});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to upgrade subscription",cause:n});return r},art=({reason:e},t)=>{const n="useUpgradeSubscription";return lt({retry:!1,mutationFn:()=>srt({reason:e}),onError:r=>{Q.error(`Error in ${n}:`,r)},...t})},irt=async({headers:e,reason:t})=>{const{error:n,data:r}=await J.POST("/rest/stripe/downgrade-subscription",t,{headers:{"content-type":"application/json",...e},timeoutMs:ds.HIGH});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to downgrade subscription",cause:n});return r},ort=({reason:e},t)=>{const n="useDowngradeSubscription";return lt({mutationFn:()=>irt({reason:e}),onError:r=>{Q.error(`Error in ${n}:`,r)},...t})},lrt=async({reason:e})=>{const{error:t,data:n}=await J.GET("/rest/stripe/subscription-changes",e,{headers:{"content-type":"application/json"},timeoutMs:ds.HIGH});if(t)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch subscription changes",cause:t});return n},rUt=({reason:e,enabled:t})=>at({queryKey:["subscription-changes"],queryFn:()=>lrt({reason:e}),gcTime:0,staleTime:0,enabled:t});function crt(){E3(void 0)}function $x(e={}){const t=new URL(window.location.href);for(const[n,r]of Object.entries(e))typeof r>"u"?t.searchParams.delete(n):t.searchParams.set(n,r);E3(Object.fromEntries(t.searchParams))}function E3(e){const t=new URL(window.location.href),r=(e?new URLSearchParams(e):new URLSearchParams).toString();r!==t.searchParams.toString()&&window.history.replaceState({},"",`?${r}`)}const qie="AF",Kie="AL",Yie="DZ",Qie="AS",Xie="AD",Zie="AO",Jie="AI",eoe="AQ",toe="AG",noe="AR",roe="AM",soe="AW",aoe="AU",ioe="AT",ooe="AZ",loe="BS",coe="BH",uoe="BD",doe="BB",foe="BY",hoe="BE",moe="BZ",poe="BJ",goe="BM",voe="BT",yoe="BO",xoe="BA",boe="BW",woe="BR",_oe="IO",Coe="BN",Soe="BG",Eoe="BF",koe="BI",Moe="CV",Toe="KH",Noe="CM",Roe="CA",Aoe="KY",joe="CF",Poe="TD",Ioe="CL",Ooe="CN",Loe="CO",Doe="KM",Foe="CG",Uoe="CD",Boe="CK",$oe="CR",Hoe="CI",Woe="HR",zoe="CU",Voe="CW",Goe="CY",qoe="CZ",Koe="DK",Yoe="DJ",Qoe="DM",Xoe="DO",Zoe="EC",Joe="EG",ele="SV",tle="GQ",nle="ER",rle="EE",sle="SZ",ale="ET",ile="FK",ole="FO",lle="FJ",cle="FI",ule="FR",dle="GF",fle="PF",hle="TF",mle="GA",ple="GM",gle="GE",vle="DE",yle="GH",xle="GI",ble="GR",wle="GL",_le="GD",Cle="GP",Sle="GU",Ele="GT",kle="GG",Mle="GN",Tle="GW",Nle="GY",Rle="HT",Ale="HN",jle="HK",Ple="HU",Ile="IS",Ole="IN",Lle="ID",Dle="IR",Fle="IQ",Ule="IE",Ble="IM",$le="IL",Hle="IT",Wle="JM",zle="JP",Vle="JE",Gle="JO",qle="KZ",Kle="KE",Yle="KI",Qle="KP",Xle="KR",Zle="KW",Jle="KG",ece="LA",tce="LV",nce="LB",rce="LS",sce="LR",ace="LY",ice="LI",oce="LT",lce="LU",cce="MO",uce="MG",dce="MW",fce="MY",hce="MV",mce="ML",pce="MT",gce="MH",vce="MQ",yce="MR",xce="MU",bce="YT",wce="MX",_ce="FM",Cce="MD",Sce="MC",Ece="MN",kce="ME",Mce="MS",Tce="MA",Nce="MZ",Rce="MM",Ace="NA",jce="NR",Pce="NP",Ice="NL",Oce="NC",Lce="NZ",Dce="NI",Fce="NE",Uce="NG",Bce="NU",$ce="NF",Hce="MK",Wce="MP",zce="NO",Vce="OM",Gce="PK",qce="PW",Kce="PS",Yce="PA",Qce="PG",Xce="PY",Zce="PE",Jce="PH",eue="PN",tue="PL",nue="PT",rue="PR",sue="QA",aue="RE",iue="RO",oue="RU",lue="RW",cue="BL",uue="SH",due="KN",fue="LC",hue="MF",mue="PM",pue="VC",gue="WS",vue="SM",yue="ST",xue="SA",bue="SN",wue="RS",_ue="SC",Cue="SL",Sue="SG",Eue="SX",kue="SK",Mue="SI",Tue="SB",Nue="SO",Rue="ZA",Aue="SS",jue="ES",Pue="LK",Iue="SD",Oue="SR",Lue="SJ",Due="SE",Fue="CH",Uue="SY",Bue="TW",$ue="TJ",Hue="TZ",Wue="TH",zue="TL",Vue="TG",Gue="TK",que="TO",Kue="TT",Yue="TN",Que="TR",Xue="TM",Zue="TC",Jue="TV",ede="UG",tde="UA",nde="AE",rde="GB",sde="US",ade="UY",ide="UZ",ode="VU",lde="VE",cde="VN",ude="VG",dde="VI",fde="EH",hde="YE",mde="ZM",pde="ZW",urt={AFG:qie,ALB:Kie,DZA:Yie,ASM:Qie,AND:Xie,AGO:Zie,AIA:Jie,ATA:eoe,ATG:toe,ARG:noe,ARM:roe,ABW:soe,AUS:aoe,AUT:ioe,AZE:ooe,BHS:loe,BHR:coe,BGD:uoe,BRB:doe,BLR:foe,BEL:hoe,BLZ:moe,BEN:poe,BMU:goe,BTN:voe,BOL:yoe,BIH:xoe,BWA:boe,BRA:woe,IOT:_oe,BRN:Coe,BGR:Soe,BFA:Eoe,BDI:koe,CPV:Moe,KHM:Toe,CMR:Noe,CAN:Roe,CYM:Aoe,CAF:joe,TCD:Poe,CHL:Ioe,CHN:Ooe,COL:Loe,COM:Doe,COG:Foe,COD:Uoe,COK:Boe,CRI:$oe,CIV:Hoe,HRV:Woe,CUB:zoe,CUW:Voe,CYP:Goe,CZE:qoe,DNK:Koe,DJI:Yoe,DMA:Qoe,DOM:Xoe,ECU:Zoe,EGY:Joe,SLV:ele,GNQ:tle,ERI:nle,EST:rle,SWZ:sle,ETH:ale,FLK:ile,FRO:ole,FJI:lle,FIN:cle,FRA:ule,GUF:dle,PYF:fle,ATF:hle,GAB:mle,GMB:ple,GEO:gle,DEU:vle,GHA:yle,GIB:xle,GRC:ble,GRL:wle,GRD:_le,GLP:Cle,GUM:Sle,GTM:Ele,GGY:kle,GIN:Mle,GNB:Tle,GUY:Nle,HTI:Rle,HND:Ale,HKG:jle,HUN:Ple,ISL:Ile,IND:Ole,IDN:Lle,IRN:Dle,IRQ:Fle,IRL:Ule,IMN:Ble,ISR:$le,ITA:Hle,JAM:Wle,JPN:zle,JEY:Vle,JOR:Gle,KAZ:qle,KEN:Kle,KIR:Yle,PRK:Qle,KOR:Xle,KWT:Zle,KGZ:Jle,LAO:ece,LVA:tce,LBN:nce,LSO:rce,LBR:sce,LBY:ace,LIE:ice,LTU:oce,LUX:lce,MAC:cce,MDG:uce,MWI:dce,MYS:fce,MDV:hce,MLI:mce,MLT:pce,MHL:gce,MTQ:vce,MRT:yce,MUS:xce,MYT:bce,MEX:wce,FSM:_ce,MDA:Cce,MCO:Sce,MNG:Ece,MNE:kce,MSR:Mce,MAR:Tce,MOZ:Nce,MMR:Rce,NAM:Ace,NRU:jce,NPL:Pce,NLD:Ice,NCL:Oce,NZL:Lce,NIC:Dce,NER:Fce,NGA:Uce,NIU:Bce,NFK:$ce,MKD:Hce,MNP:Wce,NOR:zce,OMN:Vce,PAK:Gce,PLW:qce,PSE:Kce,PAN:Yce,PNG:Qce,PRY:Xce,PER:Zce,PHL:Jce,PCN:eue,POL:tue,PRT:nue,PRI:rue,QAT:sue,REU:aue,ROU:iue,RUS:oue,RWA:lue,BLM:cue,SHN:uue,KNA:due,LCA:fue,MAF:hue,SPM:mue,VCT:pue,WSM:gue,SMR:vue,STP:yue,SAU:xue,SEN:bue,SRB:wue,SYC:_ue,SLE:Cue,SGP:Sue,SXM:Eue,SVK:kue,SVN:Mue,SLB:Tue,SOM:Nue,ZAF:Rue,SSD:Aue,ESP:jue,LKA:Pue,SDN:Iue,SUR:Oue,SJM:Lue,SWE:Due,CHE:Fue,SYR:Uue,TWN:Bue,TJK:$ue,TZA:Hue,THA:Wue,TLS:zue,TGO:Vue,TKL:Gue,TON:que,TTO:Kue,TUN:Yue,TUR:Que,TKM:Xue,TCA:Zue,TUV:Jue,UGA:ede,UKR:tde,ARE:nde,GBR:rde,USA:sde,URY:ade,UZB:ide,VUT:ode,VEN:lde,VNM:cde,VGB:ude,VIR:dde,ESH:fde,YEM:hde,ZMB:mde,ZWE:pde},wH=Object.freeze(Object.defineProperty({__proto__:null,ABW:soe,AFG:qie,AGO:Zie,AIA:Jie,ALB:Kie,AND:Xie,ARE:nde,ARG:noe,ARM:roe,ASM:Qie,ATA:eoe,ATF:hle,ATG:toe,AUS:aoe,AUT:ioe,AZE:ooe,BDI:koe,BEL:hoe,BEN:poe,BFA:Eoe,BGD:uoe,BGR:Soe,BHR:coe,BHS:loe,BIH:xoe,BLM:cue,BLR:foe,BLZ:moe,BMU:goe,BOL:yoe,BRA:woe,BRB:doe,BRN:Coe,BTN:voe,BWA:boe,CAF:joe,CAN:Roe,CHE:Fue,CHL:Ioe,CHN:Ooe,CIV:Hoe,CMR:Noe,COD:Uoe,COG:Foe,COK:Boe,COL:Loe,COM:Doe,CPV:Moe,CRI:$oe,CUB:zoe,CUW:Voe,CYM:Aoe,CYP:Goe,CZE:qoe,DEU:vle,DJI:Yoe,DMA:Qoe,DNK:Koe,DOM:Xoe,DZA:Yie,ECU:Zoe,EGY:Joe,ERI:nle,ESH:fde,ESP:jue,EST:rle,ETH:ale,FIN:cle,FJI:lle,FLK:ile,FRA:ule,FRO:ole,FSM:_ce,GAB:mle,GBR:rde,GEO:gle,GGY:kle,GHA:yle,GIB:xle,GIN:Mle,GLP:Cle,GMB:ple,GNB:Tle,GNQ:tle,GRC:ble,GRD:_le,GRL:wle,GTM:Ele,GUF:dle,GUM:Sle,GUY:Nle,HKG:jle,HND:Ale,HRV:Woe,HTI:Rle,HUN:Ple,IDN:Lle,IMN:Ble,IND:Ole,IOT:_oe,IRL:Ule,IRN:Dle,IRQ:Fle,ISL:Ile,ISR:$le,ITA:Hle,JAM:Wle,JEY:Vle,JOR:Gle,JPN:zle,KAZ:qle,KEN:Kle,KGZ:Jle,KHM:Toe,KIR:Yle,KNA:due,KOR:Xle,KWT:Zle,LAO:ece,LBN:nce,LBR:sce,LBY:ace,LCA:fue,LIE:ice,LKA:Pue,LSO:rce,LTU:oce,LUX:lce,LVA:tce,MAC:cce,MAF:hue,MAR:Tce,MCO:Sce,MDA:Cce,MDG:uce,MDV:hce,MEX:wce,MHL:gce,MKD:Hce,MLI:mce,MLT:pce,MMR:Rce,MNE:kce,MNG:Ece,MNP:Wce,MOZ:Nce,MRT:yce,MSR:Mce,MTQ:vce,MUS:xce,MWI:dce,MYS:fce,MYT:bce,NAM:Ace,NCL:Oce,NER:Fce,NFK:$ce,NGA:Uce,NIC:Dce,NIU:Bce,NLD:Ice,NOR:zce,NPL:Pce,NRU:jce,NZL:Lce,OMN:Vce,PAK:Gce,PAN:Yce,PCN:eue,PER:Zce,PHL:Jce,PLW:qce,PNG:Qce,POL:tue,PRI:rue,PRK:Qle,PRT:nue,PRY:Xce,PSE:Kce,PYF:fle,QAT:sue,REU:aue,ROU:iue,RUS:oue,RWA:lue,SAU:xue,SDN:Iue,SEN:bue,SGP:Sue,SHN:uue,SJM:Lue,SLB:Tue,SLE:Cue,SLV:ele,SMR:vue,SOM:Nue,SPM:mue,SRB:wue,SSD:Aue,STP:yue,SUR:Oue,SVK:kue,SVN:Mue,SWE:Due,SWZ:sle,SXM:Eue,SYC:_ue,SYR:Uue,TCA:Zue,TCD:Poe,TGO:Vue,THA:Wue,TJK:$ue,TKL:Gue,TKM:Xue,TLS:zue,TON:que,TTO:Kue,TUN:Yue,TUR:Que,TUV:Jue,TWN:Bue,TZA:Hue,UGA:ede,UKR:tde,URY:ade,USA:sde,UZB:ide,VCT:pue,VEN:lde,VGB:ude,VIR:dde,VNM:cde,VUT:ode,WSM:gue,YEM:hde,ZAF:Rue,ZMB:mde,ZWE:pde,default:urt},Symbol.toStringTag,{value:"Module"}));new Set(Object.keys(wH).map(function(e){return wH[e]}));const gde="SHP",vde="EUR",yde="AED",xde="AFN",bde="XCD",wde="XCD",_de="ALL",Cde="AMD",Sde="AOA",Ede="ARS",kde="USD",Mde="EUR",Tde="AUD",Nde="AWG",Rde="EUR",Ade="AZN",jde="BAM",Pde="BBD",Ide="BDT",Ode="EUR",Lde="XOF",Dde="BGN",Fde="BHD",Ude="BIF",Bde="XOF",$de="EUR",Hde="BMD",Wde="BND",zde="BOB",Vde="USD",Gde="BRL",qde="BSD",Kde="INR",Yde="NOK",Qde="BWP",Xde="BYN",Zde="BZD",Jde="CAD",efe="AUD",tfe="CDF",nfe="XAF",rfe="XAF",sfe="CHF",afe="XOF",ife="NZD",ofe="CLP",lfe="XAF",cfe="CNY",ufe="COP",dfe="CRC",ffe="CUP",hfe="CVE",mfe="XCG",pfe="AUD",gfe="EUR",vfe="CZK",yfe="EUR",xfe="USD",bfe="DJF",wfe="DKK",_fe="XCD",Cfe="DOP",Sfe="DZD",Efe="EUR",kfe="USD",Mfe="EUR",Tfe="EGP",Nfe="MAD",Rfe="ERN",Afe="EUR",jfe="ETB",Pfe="EUR",Ife="EUR",Ofe="FJD",Lfe="FKP",Dfe="USD",Ffe="DKK",Ufe="EUR",Bfe="XAF",$fe="GBP",Hfe="XCD",Wfe="GEL",zfe="EUR",Vfe="GBP",Gfe="GHS",qfe="GIP",Kfe="DKK",Yfe="GMD",Qfe="GNF",Xfe="EUR",Zfe="XAF",Jfe="EUR",ehe="GBP",the="GTQ",nhe="USD",rhe="XOF",she="GYD",ahe="HKD",ihe="AUD",ohe="HNL",lhe="EUR",che="USD",uhe="HUF",dhe="EUR",fhe="IDR",hhe="EUR",mhe="ILS",phe="GBP",ghe="INR",vhe="USD",yhe="IQD",xhe="IRR",bhe="ISK",whe="EUR",_he="GBP",Che="JMD",She="JOD",Ehe="JPY",khe="KES",Mhe="KGS",The="KHR",Nhe="AUD",Rhe="KMF",Ahe="XCD",jhe="KPW",Phe="KRW",Ihe="KWD",Ohe="KYD",Lhe="KZT",Dhe="LAK",Fhe="LBP",Uhe="XCD",Bhe="CHF",$he="LKR",Hhe="LRD",Whe="ZAR",zhe="EUR",Vhe="EUR",Ghe="EUR",qhe="LYD",Khe="MAD",Yhe="EUR",Qhe="MDL",Xhe="EUR",Zhe="EUR",Jhe="MGA",eme="USD",tme="MKD",nme="XOF",rme="MMK",sme="MNT",ame="MOP",ime="USD",ome="EUR",lme="MRU",cme="XCD",ume="EUR",dme="MUR",fme="MVR",hme="MWK",mme="MXN",pme="MYR",gme="MZN",vme="ZAR",yme="XPF",xme="XOF",bme="AUD",wme="NGN",_me="NIO",Cme="EUR",Sme="NOK",Eme="NPR",kme="AUD",Mme="NZD",Tme="NZD",Nme="OMR",Rme="USD",Ame="PEN",jme="XPF",Pme="PGK",Ime="PHP",Ome="PKR",Lme="PLN",Dme="EUR",Fme="NZD",Ume="USD",Bme="JOD",$me="EUR",Hme="USD",Wme="PYG",zme="QAR",Vme="EUR",Gme="RON",qme="RSD",Kme="RUB",Yme="RWF",Qme="SAR",Xme="SBD",Zme="SCR",Jme="SDG",epe="SEK",tpe="SGD",npe="SHP",rpe="EUR",spe="NOK",ape="EUR",ipe="SLE",ope="EUR",lpe="XOF",cpe="SOS",upe="SRD",dpe="SSP",fpe="STN",hpe="USD",mpe="XCG",ppe="SYP",gpe="SZL",vpe="GBP",ype="USD",xpe="XAF",bpe="EUR",wpe="XOF",_pe="THB",Cpe="TJS",Spe="NZD",Epe="USD",kpe="TMT",Mpe="TND",Tpe="TOP",Npe="TRY",Rpe="TTD",Ape="AUD",jpe="TWD",Ppe="TZS",Ipe="UAH",Ope="UGX",Lpe="USD",Dpe="USD",Fpe="UYU",Upe="UZS",Bpe="EUR",$pe="XCD",Hpe="VES",Wpe="USD",zpe="USD",Vpe="VND",Gpe="VUV",qpe="XPF",Kpe="WST",Ype="EUR",Qpe="YER",Xpe="EUR",Zpe="ZAR",Jpe="ZMW",ege="ZWG",drt={AC:gde,AD:vde,AE:yde,AF:xde,AG:bde,AI:wde,AL:_de,AM:Cde,AO:Sde,AR:Ede,AS:kde,AT:Mde,AU:Tde,AW:Nde,AX:Rde,AZ:Ade,BA:jde,BB:Pde,BD:Ide,BE:Ode,BF:Lde,BG:Dde,BH:Fde,BI:Ude,BJ:Bde,BL:$de,BM:Hde,BN:Wde,BO:zde,BQ:Vde,BR:Gde,BS:qde,BT:Kde,BV:Yde,BW:Qde,BY:Xde,BZ:Zde,CA:Jde,CC:efe,CD:tfe,CF:nfe,CG:rfe,CH:sfe,CI:afe,CK:ife,CL:ofe,CM:lfe,CN:cfe,CO:ufe,CR:dfe,CU:ffe,CV:hfe,CW:mfe,CX:pfe,CY:gfe,CZ:vfe,DE:yfe,DG:xfe,DJ:bfe,DK:wfe,DM:_fe,DO:Cfe,DZ:Sfe,EA:Efe,EC:kfe,EE:Mfe,EG:Tfe,EH:Nfe,ER:Rfe,ES:Afe,ET:jfe,EU:Pfe,FI:Ife,FJ:Ofe,FK:Lfe,FM:Dfe,FO:Ffe,FR:Ufe,GA:Bfe,GB:$fe,GD:Hfe,GE:Wfe,GF:zfe,GG:Vfe,GH:Gfe,GI:qfe,GL:Kfe,GM:Yfe,GN:Qfe,GP:Xfe,GQ:Zfe,GR:Jfe,GS:ehe,GT:the,GU:nhe,GW:rhe,GY:she,HK:ahe,HM:ihe,HN:ohe,HR:lhe,HT:che,HU:uhe,IC:dhe,ID:fhe,IE:hhe,IL:mhe,IM:phe,IN:ghe,IO:vhe,IQ:yhe,IR:xhe,IS:bhe,IT:whe,JE:_he,JM:Che,JO:She,JP:Ehe,KE:khe,KG:Mhe,KH:The,KI:Nhe,KM:Rhe,KN:Ahe,KP:jhe,KR:Phe,KW:Ihe,KY:Ohe,KZ:Lhe,LA:Dhe,LB:Fhe,LC:Uhe,LI:Bhe,LK:$he,LR:Hhe,LS:Whe,LT:zhe,LU:Vhe,LV:Ghe,LY:qhe,MA:Khe,MC:Yhe,MD:Qhe,ME:Xhe,MF:Zhe,MG:Jhe,MH:eme,MK:tme,ML:nme,MM:rme,MN:sme,MO:ame,MP:ime,MQ:ome,MR:lme,MS:cme,MT:ume,MU:dme,MV:fme,MW:hme,MX:mme,MY:pme,MZ:gme,NA:vme,NC:yme,NE:xme,NF:bme,NG:wme,NI:_me,NL:Cme,NO:Sme,NP:Eme,NR:kme,NU:Mme,NZ:Tme,OM:Nme,PA:Rme,PE:Ame,PF:jme,PG:Pme,PH:Ime,PK:Ome,PL:Lme,PM:Dme,PN:Fme,PR:Ume,PS:Bme,PT:$me,PW:Hme,PY:Wme,QA:zme,RE:Vme,RO:Gme,RS:qme,RU:Kme,RW:Yme,SA:Qme,SB:Xme,SC:Zme,SD:Jme,SE:epe,SG:tpe,SH:npe,SI:rpe,SJ:spe,SK:ape,SL:ipe,SM:ope,SN:lpe,SO:cpe,SR:upe,SS:dpe,ST:fpe,SV:hpe,SX:mpe,SY:ppe,SZ:gpe,TA:vpe,TC:ype,TD:xpe,TF:bpe,TG:wpe,TH:_pe,TJ:Cpe,TK:Spe,TL:Epe,TM:kpe,TN:Mpe,TO:Tpe,TR:Npe,TT:Rpe,TV:Ape,TW:jpe,TZ:Ppe,UA:Ipe,UG:Ope,UM:Lpe,US:Dpe,UY:Fpe,UZ:Upe,VA:Bpe,VC:$pe,VE:Hpe,VG:Wpe,VI:zpe,VN:Vpe,VU:Gpe,WF:qpe,WS:Kpe,XK:Ype,YE:Qpe,YT:Xpe,ZA:Zpe,ZM:Jpe,ZW:ege},_H=Object.freeze(Object.defineProperty({__proto__:null,AC:gde,AD:vde,AE:yde,AF:xde,AG:bde,AI:wde,AL:_de,AM:Cde,AO:Sde,AR:Ede,AS:kde,AT:Mde,AU:Tde,AW:Nde,AX:Rde,AZ:Ade,BA:jde,BB:Pde,BD:Ide,BE:Ode,BF:Lde,BG:Dde,BH:Fde,BI:Ude,BJ:Bde,BL:$de,BM:Hde,BN:Wde,BO:zde,BQ:Vde,BR:Gde,BS:qde,BT:Kde,BV:Yde,BW:Qde,BY:Xde,BZ:Zde,CA:Jde,CC:efe,CD:tfe,CF:nfe,CG:rfe,CH:sfe,CI:afe,CK:ife,CL:ofe,CM:lfe,CN:cfe,CO:ufe,CR:dfe,CU:ffe,CV:hfe,CW:mfe,CX:pfe,CY:gfe,CZ:vfe,DE:yfe,DG:xfe,DJ:bfe,DK:wfe,DM:_fe,DO:Cfe,DZ:Sfe,EA:Efe,EC:kfe,EE:Mfe,EG:Tfe,EH:Nfe,ER:Rfe,ES:Afe,ET:jfe,EU:Pfe,FI:Ife,FJ:Ofe,FK:Lfe,FM:Dfe,FO:Ffe,FR:Ufe,GA:Bfe,GB:$fe,GD:Hfe,GE:Wfe,GF:zfe,GG:Vfe,GH:Gfe,GI:qfe,GL:Kfe,GM:Yfe,GN:Qfe,GP:Xfe,GQ:Zfe,GR:Jfe,GS:ehe,GT:the,GU:nhe,GW:rhe,GY:she,HK:ahe,HM:ihe,HN:ohe,HR:lhe,HT:che,HU:uhe,IC:dhe,ID:fhe,IE:hhe,IL:mhe,IM:phe,IN:ghe,IO:vhe,IQ:yhe,IR:xhe,IS:bhe,IT:whe,JE:_he,JM:Che,JO:She,JP:Ehe,KE:khe,KG:Mhe,KH:The,KI:Nhe,KM:Rhe,KN:Ahe,KP:jhe,KR:Phe,KW:Ihe,KY:Ohe,KZ:Lhe,LA:Dhe,LB:Fhe,LC:Uhe,LI:Bhe,LK:$he,LR:Hhe,LS:Whe,LT:zhe,LU:Vhe,LV:Ghe,LY:qhe,MA:Khe,MC:Yhe,MD:Qhe,ME:Xhe,MF:Zhe,MG:Jhe,MH:eme,MK:tme,ML:nme,MM:rme,MN:sme,MO:ame,MP:ime,MQ:ome,MR:lme,MS:cme,MT:ume,MU:dme,MV:fme,MW:hme,MX:mme,MY:pme,MZ:gme,NA:vme,NC:yme,NE:xme,NF:bme,NG:wme,NI:_me,NL:Cme,NO:Sme,NP:Eme,NR:kme,NU:Mme,NZ:Tme,OM:Nme,PA:Rme,PE:Ame,PF:jme,PG:Pme,PH:Ime,PK:Ome,PL:Lme,PM:Dme,PN:Fme,PR:Ume,PS:Bme,PT:$me,PW:Hme,PY:Wme,QA:zme,RE:Vme,RO:Gme,RS:qme,RU:Kme,RW:Yme,SA:Qme,SB:Xme,SC:Zme,SD:Jme,SE:epe,SG:tpe,SH:npe,SI:rpe,SJ:spe,SK:ape,SL:ipe,SM:ope,SN:lpe,SO:cpe,SR:upe,SS:dpe,ST:fpe,SV:hpe,SX:mpe,SY:ppe,SZ:gpe,TA:vpe,TC:ype,TD:xpe,TF:bpe,TG:wpe,TH:_pe,TJ:Cpe,TK:Spe,TL:Epe,TM:kpe,TN:Mpe,TO:Tpe,TR:Npe,TT:Rpe,TV:Ape,TW:jpe,TZ:Ppe,UA:Ipe,UG:Ope,UM:Lpe,US:Dpe,UY:Fpe,UZ:Upe,VA:Bpe,VC:$pe,VE:Hpe,VG:Wpe,VI:zpe,VN:Vpe,VU:Gpe,WF:qpe,WS:Kpe,XK:Ype,YE:Qpe,YT:Xpe,ZA:Zpe,ZM:Jpe,ZW:ege,default:drt},Symbol.toStringTag,{value:"Module"}));Object.keys(_H).reduce(function(e,t){var n=_H[t];return e[n]||(e[n]=[]),e[n].push(t),e},{});var frt={};function hrt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}XEe(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,He([void 0],t,!1)))},{cache:hrt(frt),strategy:ZEe.variadic});const tge=2,nge=2,rge=2,sge=2,age=2,ige=2,oge=2,lge=2,cge=2,uge=2,dge=2,fge=2,hge=2,mge=3,pge=2,gge=2,vge=2,yge=2,xge=0,bge=2,wge=2,_ge=2,Cge=2,Sge=2,Ege=2,kge=2,Mge=2,Tge=2,Nge=2,Rge=2,Age=0,jge=2,Pge=2,Ige=0,Oge=2,Lge=2,Dge=0,Fge=4,Uge=2,Bge=2,$ge=2,Hge=0,Wge=2,zge=2,Vge=2,Gge=2,qge=2,Kge=2,Yge=2,Qge=0,Xge=2,Zge=2,Jge=2,e0e=2,t0e=2,n0e=2,r0e=2,s0e=2,a0e=0,i0e=2,o0e=2,l0e=2,c0e=2,u0e=2,d0e=2,f0e=0,h0e=2,m0e=2,p0e=2,g0e=2,v0e=2,y0e=0,x0e=2,b0e=2,w0e=3,_0e=2,C0e=2,S0e=0,E0e=3,k0e=2,M0e=2,T0e=2,N0e=0,R0e=3,A0e=2,j0e=2,P0e=2,I0e=2,O0e=2,L0e=2,D0e=3,F0e=2,U0e=2,B0e=2,$0e=2,H0e=2,W0e=2,z0e=2,V0e=2,G0e=2,q0e=2,K0e=2,Y0e=2,Q0e=2,X0e=2,Z0e=2,J0e=2,e1e=2,t1e=2,n1e=2,r1e=2,s1e=3,a1e=2,i1e=2,o1e=2,l1e=0,c1e=2,u1e=2,d1e=2,f1e=2,h1e=2,m1e=2,p1e=0,g1e=2,v1e=2,y1e=2,x1e=2,b1e=2,w1e=2,_1e=2,C1e=2,S1e=2,E1e=2,k1e=2,M1e=2,T1e=2,N1e=2,R1e=2,A1e=2,j1e=2,P1e=2,I1e=2,O1e=2,L1e=2,D1e=2,F1e=2,U1e=2,B1e=3,$1e=2,H1e=2,W1e=0,z1e=2,V1e=2,G1e=2,q1e=2,K1e=0,Y1e=4,Q1e=2,X1e=0,Z1e=2,J1e=2,eve=0,tve=2,nve=2,rve=2,mrt={AFN:tge,EUR:nge,ALL:rge,DZD:sge,USD:age,AOA:ige,XCD:oge,ARS:lge,AMD:cge,AWG:uge,AUD:dge,AZN:fge,BSD:hge,BHD:mge,BDT:pge,BBD:gge,BYN:vge,BZD:yge,XOF:xge,BMD:bge,INR:wge,BTN:_ge,BOB:Cge,BOV:Sge,BAM:Ege,BWP:kge,NOK:Mge,BRL:Tge,BND:Nge,BGN:Rge,BIF:Age,CVE:jge,KHR:Pge,XAF:Ige,CAD:Oge,KYD:Lge,CLP:Dge,CLF:Fge,CNY:Uge,COP:Bge,COU:$ge,KMF:Hge,CDF:Wge,NZD:zge,CRC:Vge,CUP:Gge,XCG:qge,CZK:Kge,DKK:Yge,DJF:Qge,DOP:Xge,EGP:Zge,SVC:Jge,ERN:e0e,SZL:t0e,ETB:n0e,FKP:r0e,FJD:s0e,XPF:a0e,GMD:i0e,GEL:o0e,GHS:l0e,GIP:c0e,GTQ:u0e,GBP:d0e,GNF:f0e,GYD:h0e,HTG:m0e,HNL:p0e,HKD:g0e,HUF:v0e,ISK:y0e,IDR:x0e,IRR:b0e,IQD:w0e,ILS:_0e,JMD:C0e,JPY:S0e,JOD:E0e,KZT:k0e,KES:M0e,KPW:T0e,KRW:N0e,KWD:R0e,KGS:A0e,LAK:j0e,LBP:P0e,LSL:I0e,ZAR:O0e,LRD:L0e,LYD:D0e,CHF:F0e,MOP:U0e,MKD:B0e,MGA:$0e,MWK:H0e,MYR:W0e,MVR:z0e,MRU:V0e,MUR:G0e,MXN:q0e,MXV:K0e,MDL:Y0e,MNT:Q0e,MAD:X0e,MZN:Z0e,MMK:J0e,NAD:e1e,NPR:t1e,NIO:n1e,NGN:r1e,OMR:s1e,PKR:a1e,PAB:i1e,PGK:o1e,PYG:l1e,PEN:c1e,PHP:u1e,PLN:d1e,QAR:f1e,RON:h1e,RUB:m1e,RWF:p1e,SHP:g1e,WST:v1e,STN:y1e,SAR:x1e,RSD:b1e,SCR:w1e,SLE:_1e,SGD:C1e,SBD:S1e,SOS:E1e,SSP:k1e,LKR:M1e,SDG:T1e,SRD:N1e,SEK:R1e,CHE:A1e,CHW:j1e,SYP:P1e,TWD:I1e,TJS:O1e,TZS:L1e,THB:D1e,TOP:F1e,TTD:U1e,TND:B1e,TRY:$1e,TMT:H1e,UGX:W1e,UAH:z1e,AED:V1e,USN:G1e,UYU:q1e,UYI:K1e,UYW:Y1e,UZS:Q1e,VUV:X1e,VES:Z1e,VED:J1e,VND:eve,YER:tve,ZMW:nve,ZWG:rve},prt=Object.freeze(Object.defineProperty({__proto__:null,AED:V1e,AFN:tge,ALL:rge,AMD:cge,AOA:ige,ARS:lge,AUD:dge,AWG:uge,AZN:fge,BAM:Ege,BBD:gge,BDT:pge,BGN:Rge,BHD:mge,BIF:Age,BMD:bge,BND:Nge,BOB:Cge,BOV:Sge,BRL:Tge,BSD:hge,BTN:_ge,BWP:kge,BYN:vge,BZD:yge,CAD:Oge,CDF:Wge,CHE:A1e,CHF:F0e,CHW:j1e,CLF:Fge,CLP:Dge,CNY:Uge,COP:Bge,COU:$ge,CRC:Vge,CUP:Gge,CVE:jge,CZK:Kge,DJF:Qge,DKK:Yge,DOP:Xge,DZD:sge,EGP:Zge,ERN:e0e,ETB:n0e,EUR:nge,FJD:s0e,FKP:r0e,GBP:d0e,GEL:o0e,GHS:l0e,GIP:c0e,GMD:i0e,GNF:f0e,GTQ:u0e,GYD:h0e,HKD:g0e,HNL:p0e,HTG:m0e,HUF:v0e,IDR:x0e,ILS:_0e,INR:wge,IQD:w0e,IRR:b0e,ISK:y0e,JMD:C0e,JOD:E0e,JPY:S0e,KES:M0e,KGS:A0e,KHR:Pge,KMF:Hge,KPW:T0e,KRW:N0e,KWD:R0e,KYD:Lge,KZT:k0e,LAK:j0e,LBP:P0e,LKR:M1e,LRD:L0e,LSL:I0e,LYD:D0e,MAD:X0e,MDL:Y0e,MGA:$0e,MKD:B0e,MMK:J0e,MNT:Q0e,MOP:U0e,MRU:V0e,MUR:G0e,MVR:z0e,MWK:H0e,MXN:q0e,MXV:K0e,MYR:W0e,MZN:Z0e,NAD:e1e,NGN:r1e,NIO:n1e,NOK:Mge,NPR:t1e,NZD:zge,OMR:s1e,PAB:i1e,PEN:c1e,PGK:o1e,PHP:u1e,PKR:a1e,PLN:d1e,PYG:l1e,QAR:f1e,RON:h1e,RSD:b1e,RUB:m1e,RWF:p1e,SAR:x1e,SBD:S1e,SCR:w1e,SDG:T1e,SEK:R1e,SGD:C1e,SHP:g1e,SLE:_1e,SOS:E1e,SRD:N1e,SSP:k1e,STN:y1e,SVC:Jge,SYP:P1e,SZL:t0e,THB:D1e,TJS:O1e,TMT:H1e,TND:B1e,TOP:F1e,TRY:$1e,TTD:U1e,TWD:I1e,TZS:L1e,UAH:z1e,UGX:W1e,USD:age,USN:G1e,UYI:K1e,UYU:q1e,UYW:Y1e,UZS:Q1e,VED:J1e,VES:Z1e,VND:eve,VUV:X1e,WST:v1e,XAF:Ige,XCD:oge,XCG:qge,XOF:xge,XPF:a0e,YER:tve,ZAR:O0e,ZMW:nve,ZWG:rve,default:mrt},Symbol.toStringTag,{value:"Module"}));function grt(e){var t=prt[e.toUpperCase()];if(t==null)throw new Error("Unknown currency code: ".concat(e));return t}function x8(e){return Math.pow(10,grt(e))}const vrt=e=>e?x8(e):void 0,ff=(e,t)=>{if(!e)return"";const n=vrt(e.currency);return n==null?"":t(e.price_minor_units/n,{style:"currency",currency:e.currency})},yrt=({billingInterval:e})=>e==="monthly"?l.jsx(ce,{defaultMessage:"/ month",id:"Vn2ud4qKOl"}):e==="yearly"?l.jsx(ce,{defaultMessage:"/ year",id:"8hNOud/igo"}):e==="unknown"?l.jsx(ce,{defaultMessage:"/ month",id:"Vn2ud4qKOl"}):null,Hx=({planName:e,price:t,formatNumber:n,isHighlighted:r=!1,className:s="",billingInterval:a})=>l.jsxs(H,{variant:"offset",className:`px-md h-xl my-sm flex items-center justify-between rounded-md ${s}`,children:[l.jsx(j,{variant:"baseSemi",color:r?"default":"light",children:l.jsx(ce,{...e})}),l.jsxs("div",{className:"gap-xs flex items-center",children:[l.jsx(j,{variant:"small",children:t?ff(t,n):""}),l.jsx(j,{variant:"tinyRegular",children:l.jsx(yrt,{billingInterval:a})})]})]}),xrt=({lineItems:e})=>{const{$t:t,formatNumber:n}=K(),r=f.useMemo(()=>{const s=e;return[{title:Jt({defaultMessage:"Payment method",id:"BVTni9A2ca"}),value:s.payment_method,separator:!0},{title:Jt({defaultMessage:"Perplexity Max Subscription",id:"zmPIe7d+w+"}),value:s.new_product_price?ff(s.new_product_price,n):""},{title:Jt({defaultMessage:"Adjustment",id:"LaLTJRqloA"}),value:s.adjustment_price?ff(s.adjustment_price,n):"",separator:!0},{title:Jt({defaultMessage:"Subtotal",id:"L8seEcJFZ7"}),value:ff(s.subtotal_price,n)},{title:Jt({defaultMessage:"Taxes",id:"r+dgivP2Od"}),value:ff(s.tax_price,n),separator:!0},{title:Jt({defaultMessage:"Total due today",id:"MxAykvkF+r"}),value:ff(s.total_due_today_price,n),color:"default",size:"small"}]},[e,n]);return l.jsx("ul",{className:"flex flex-col",children:r.map(s=>l.jsxs("li",{className:`flex items-center justify-between ${s.separator?"border-background-300 py-sm mb-sm border-b":"pb-sm"}`,children:[l.jsx(j,{variant:"tinyRegular",color:"light",children:t(s.title)}),l.jsx(j,{variant:s.size??"tinyRegular",color:s.color??"light",children:s.value})]},s.title.id))})},brt=({isOpen:e,onClose:t})=>{const{data:n}=rrt({reason:"downgrade-modal"}),{update:r}=Oa.useSession(),{currentOpenModals:s}=St(),{openToast:a}=Yn(),{formatNumber:i,formatDate:o,$t:c}=K(),{trackEvent:u}=Ne();f.useEffect(()=>{e&&u("subscription downgrade modal rendered")},[e,u]);const d=f.useCallback(async()=>{await PA({reason:"downgrade-to-pro-modal"}),await r(),t(),u("subscription downgrade success"),s.length>0&&t(),$x({downgrade:"success"}),a(c({defaultMessage:"Subscription updated",id:"Eq5gCUdVyJ"}),"success",5)},[t,s,r,a,c,u]),{mutate:h,isPending:m}=ort({reason:"downgrade-modal"},{onSuccess:d}),p=n?.next_billing_start_ts,g=p?o(p*1e3):"";return l.jsx(jt,{isOpen:e,onClose:t,renderCloseButton:!1,headerClassname:"hidden",modalClassname:"!w-[416px] !min-w-[416px] !max-w-[416px] !p-0",modalContentClassname:"!p-0",noPadding:!0,children:l.jsxs(H,{className:"p-ml",children:[l.jsx(j,{variant:"baseSemi",children:l.jsx(ce,{defaultMessage:"Confirm changes",id:"AnPtOvcf8f"})}),l.jsx(Hx,{planName:{id:"kkjl2vQekD",defaultMessage:"Max"},price:n?.old_product_price,formatNumber:i,billingInterval:n?.old_product_interval}),l.jsx(H,{children:l.jsxs(j,{variant:"tinyRegular",color:"light",className:"flex items-center justify-center gap-1",children:[l.jsx("div",{className:"border-background-300 flex-1 border-t"}),l.jsx(ce,{defaultMessage:"Downgrade",id:"SduMNm+0em"}),l.jsx("div",{className:"border-background-300 flex-1 border-t"})]})}),l.jsx(Hx,{planName:{id:"R/eOkjWqNU",defaultMessage:"Pro"},price:n?.new_product_price,formatNumber:i,billingInterval:n?.new_product_interval,isHighlighted:!0,className:"mb-0.5 !rounded-b-none rounded-t-md"}),l.jsx(H,{variant:"offset",className:"px-md py-sm flex items-center justify-between rounded-b-md",children:l.jsx(j,{variant:"small",color:"light",children:l.jsx(ce,{defaultMessage:"Your current Max subscription will remain active until {date} when it will change to Pro.",id:"2C6tgt4MMg",values:{date:g}})})}),l.jsxs(H,{className:"gap-sm mt-ml flex justify-end",children:[l.jsx(ze,{text:l.jsx(ce,{defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t}),l.jsx(ye,{variant:"primary",text:l.jsx(ce,{defaultMessage:"Confirm",id:"N2IrpMDHDB"}),disabled:m,onClick:()=>h()})]})]})})},wrt=()=>C3("pplx.persistent_promo_code",null);function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CH(Object(n),!0).forEach(function(r){sve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S2(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S2=function(t){return typeof t}:S2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S2(e)}function sve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _rt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Crt(e,t){if(e==null)return{};var n=_rt(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wx(e,t){return Srt(e)||Ert(e,t)||krt(e,t)||Mrt()}function Srt(e){if(Array.isArray(e))return e}function Ert(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],s=!0,a=!1,i,o;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,o=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function krt(e,t){if(e){if(typeof e=="string")return SH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SH(e,t)}}function SH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qs=function(t,n,r){var s=!!r,a=T.useRef(r);T.useEffect(function(){a.current=r},[r]),T.useEffect(function(){if(!s||!t)return function(){};var i=function(){a.current&&a.current.apply(a,arguments)};return t.on(n,i),function(){t.off(n,i)}},[s,n,t,a])},a0=function(t){var n=T.useRef(t);return T.useEffect(function(){n.current=t},[t]),n.current},zu=function(t){return t!==null&&S2(t)==="object"},Trt=function(t){return zu(t)&&typeof t.then=="function"},Nrt=function(t){return zu(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},EH="[object Object]",b8=function e(t,n){if(!zu(t)||!zu(n))return t===n;var r=Array.isArray(t),s=Array.isArray(n);if(r!==s)return!1;var a=Object.prototype.toString.call(t)===EH,i=Object.prototype.toString.call(n)===EH;if(a!==i)return!1;if(!a&&!r)return t===n;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(var u={},d=0;d<o.length;d+=1)u[o[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var m=Object.keys(u);if(m.length!==o.length)return!1;var p=t,g=n,v=function(x){return e(p[x],g[x])};return m.every(v)},ave=function(t,n,r){return zu(t)?Object.keys(t).reduce(function(s,a){var i=!zu(n)||!b8(t[a],n[a]);return r.includes(a)?(i&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):i?kf(kf({},s||{}),{},sve({},a,t[a])):s},null):null},ive="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",kH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ive;if(t===null||Nrt(t))return t;throw new Error(n)},ove=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ive;if(Trt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return kH(s,n)})};var r=kH(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},lve=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},k3=T.createContext(null);k3.displayName="ElementsContext";var cve=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Rrt=function(t){var n=t.stripe,r=t.options,s=t.children,a=T.useMemo(function(){return ove(n)},[n]),i=T.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),o=Wx(i,2),c=o[0],u=o[1];T.useEffect(function(){var m=!0,p=function(v){u(function(y){return y.stripe?y:{stripe:v,elements:v.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(g){g&&m&&p(g)}):a.tag==="sync"&&!c.stripe&&p(a.stripe),function(){m=!1}},[a,c,r]);var d=a0(n);T.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=a0(r);return T.useEffect(function(){if(c.elements){var m=ave(r,h,["clientSecret","fonts"]);m&&c.elements.update(m)}},[r,h,c.elements]),T.useEffect(function(){lve(c.stripe)},[c.stripe]),T.createElement(k3.Provider,{value:c},s)};Rrt.propTypes={stripe:me.any,options:me.object};var Art=function(t){var n=T.useContext(k3);return cve(n,t)},sUt=function(){var t=Art("calls useElements()"),n=t.elements;return n};me.func.isRequired;var jrt=["on","session"],M3=T.createContext(null);M3.displayName="CheckoutSdkContext";var uve=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},sj=T.createContext(null);sj.displayName="CheckoutContext";var Prt=function(t,n){if(!t)return null;t.on,t.session;var r=Crt(t,jrt);return n?kf(kf({},r),n):kf(kf({},r),t.session())},Irt="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ort=function(t){var n=t.stripe,r=t.options,s=t.children,a=T.useMemo(function(){return ove(n,Irt)},[n]),i=T.useState(null),o=Wx(i,2),c=o[0],u=o[1],d=T.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,checkoutSdk:null}}),h=Wx(d,2),m=h[0],p=h[1],g=function(_,C){p(function(S){return S.stripe&&S.checkoutSdk?S:{stripe:_,checkoutSdk:C}})},v=T.useRef(!1);T.useEffect(function(){var w=!0;return a.tag==="async"&&!m.stripe?a.stripePromise.then(function(_){_&&w&&!v.current&&(v.current=!0,_.initCheckout(r).then(function(C){C&&(g(_,C),C.on("change",u))}))}):a.tag==="sync"&&a.stripe&&!v.current&&(v.current=!0,a.stripe.initCheckout(r).then(function(_){_&&(g(a.stripe,_),_.on("change",u))})),function(){w=!1}},[a,m,r,u]);var y=a0(n);T.useEffect(function(){y!==null&&y!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[y,n]);var x=a0(r);T.useEffect(function(){var w,_;if(m.checkoutSdk){r.clientSecret&&!zu(x)&&!b8(r.clientSecret,x.clientSecret)&&console.warn("Unsupported prop change: options.clientSecret is not a mutable property.");var C=x==null||(w=x.elementsOptions)===null||w===void 0?void 0:w.appearance,S=r==null||(_=r.elementsOptions)===null||_===void 0?void 0:_.appearance;S&&!b8(S,C)&&m.checkoutSdk.changeAppearance(S)}},[r,x,m.checkoutSdk]),T.useEffect(function(){lve(m.stripe)},[m.stripe]);var b=T.useMemo(function(){return Prt(m.checkoutSdk,c)},[m.checkoutSdk,c]);return m.checkoutSdk?T.createElement(M3.Provider,{value:m},T.createElement(sj.Provider,{value:b},s)):null};Ort.propTypes={stripe:me.any,options:me.shape({clientSecret:me.string.isRequired,elementsOptions:me.object}).isRequired};var Lrt=function(t){var n=T.useContext(M3);return uve(n,t)},w8=function(t){var n=T.useContext(M3),r=T.useContext(k3);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?uve(n,t):cve(r,t)},aUt=function(){Lrt("calls useCheckout()");var t=T.useContext(sj);if(!t)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return t},Drt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},sr=function(t,n){var r="".concat(Drt(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,m=h===void 0?{}:h,p=c.onBlur,g=c.onFocus,v=c.onReady,y=c.onChange,x=c.onEscape,b=c.onClick,w=c.onLoadError,_=c.onLoaderStart,C=c.onNetworksChange,S=c.onConfirm,k=c.onCancel,E=c.onShippingAddressChange,M=c.onShippingRateChange,N=w8("mounts <".concat(r,">")),R="elements"in N?N.elements:null,A="checkoutSdk"in N?N.checkoutSdk:null,P=T.useState(null),O=Wx(P,2),I=O[0],L=O[1],F=T.useRef(null),D=T.useRef(null);Qs(I,"blur",p),Qs(I,"focus",g),Qs(I,"escape",x),Qs(I,"click",b),Qs(I,"loaderror",w),Qs(I,"loaderstart",_),Qs(I,"networkschange",C),Qs(I,"confirm",S),Qs(I,"cancel",k),Qs(I,"shippingaddresschange",E),Qs(I,"shippingratechange",M),Qs(I,"change",y);var B;v&&(t==="expressCheckout"?B=v:B=function(){v(I)}),Qs(I,"ready",B),T.useLayoutEffect(function(){if(F.current===null&&D.current!==null&&(R||A)){var W=null;A?W=A.createElement(t,m):R&&(W=R.create(t,m)),F.current=W,L(W),W&&W.mount(D.current)}},[R,A,m]);var $=a0(m);return T.useEffect(function(){if(F.current){var W=ave(m,$,["paymentRequest"]);W&&"update"in F.current&&F.current.update(W)}},[m,$]),T.useLayoutEffect(function(){return function(){if(F.current&&typeof F.current.destroy=="function")try{F.current.destroy(),F.current=null}catch{}}},[]),T.createElement("div",{id:u,className:d,ref:D})},a=function(c){w8("mounts <".concat(r,">"));var u=c.id,d=c.className;return T.createElement("div",{id:u,className:d})},i=n?a:s;return i.propTypes={id:me.string,className:me.string,onChange:me.func,onBlur:me.func,onFocus:me.func,onReady:me.func,onEscape:me.func,onClick:me.func,onLoadError:me.func,onLoaderStart:me.func,onNetworksChange:me.func,onConfirm:me.func,onCancel:me.func,onShippingAddressChange:me.func,onShippingRateChange:me.func,options:me.object},i.displayName=r,i.__elementType=t,i},ar=typeof window>"u",Frt=T.createContext(null);Frt.displayName="EmbeddedCheckoutProviderContext";var iUt=function(){var t=w8("calls useStripe()"),n=t.stripe;return n};sr("auBankAccount",ar);sr("card",ar);sr("cardNumber",ar);sr("cardExpiry",ar);sr("cardCvc",ar);sr("fpxBank",ar);sr("iban",ar);sr("idealBank",ar);sr("p24Bank",ar);sr("epsBank",ar);var oUt=sr("payment",ar),lUt=sr("expressCheckout",ar);sr("currencySelector",ar);sr("paymentRequestButton",ar);var cUt=sr("linkAuthentication",ar),uUt=sr("address",ar);sr("shippingAddress",ar);sr("paymentMethodMessaging",ar);sr("affirmMessage",ar);sr("afterpayClearpayMessage",ar);const dUt=()=>{const{colorScheme:e}=zr();return f.useMemo(()=>({rules:{".Input":{...e==="dark"?{backgroundColor:"#191A1A",borderColor:"#3D3F40"}:{borderColor:"#D9D9D0",backgroundColor:"#fcfcf9"}}},variables:{fontFamily:"fkGroteskNeue,  ui-sans-serif, system-ui",fontLineHeight:"1.5",borderRadius:"4px",fontSizeBase:"16px",...e==="dark"?{colorBackground:"#202222",colorPrimary:"#1FB8CD",colorText:"#E8E8E6",colorDanger:"#FF5459"}:{colorBackground:"#F3F3EE",colorPrimary:"#20808D",colorText:"#13343B",colorDanger:"#FF5459"}}}),[e])},fUt=()=>[{family:"fkGroteskNeue",src:"url(https://www.perplexity.ai/fonts/FKGroteskNeue.woff2)"}];var dve="https://js.stripe.com/v3",Urt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var Brt=function(){for(var t=document.querySelectorAll('script[src^="'.concat(dve,'"]')),n=0;n<t.length;n++){var r=t[n];if(Urt.test(r.src))return r}return null},MH=function(t){var n="",r=document.createElement("script");r.src="".concat(dve).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},$rt=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:n})},Qm=null,ay=null,iy=null,Hrt=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},Wrt=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},zrt=function(t){return Qm!==null?Qm:(Qm=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=Brt();if(!(s&&t)){if(!s)s=MH(t);else if(s&&iy!==null&&ay!==null){var a;s.removeEventListener("load",iy),s.removeEventListener("error",ay),(a=s.parentNode)===null||a===void 0||a.removeChild(s),s=MH(t)}}iy=Wrt(n,r),ay=Hrt(r),s.addEventListener("load",iy),s.addEventListener("error",ay)}catch(i){r(i);return}}),Qm.catch(function(n){return Qm=null,Promise.reject(n)}))},Vrt=function(t,n,r){if(t===null)return null;var s=t.apply(void 0,n);return $rt(s,r),s},Xm,fve=!1,hve=function(){return Xm||(Xm=zrt(null).catch(function(t){return Xm=null,Promise.reject(t)}),Xm)};Promise.resolve().then(function(){return hve()}).catch(function(e){fve||console.warn(e)});var Grt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];fve=!0;var s=Date.now();return hve().then(function(a){return Vrt(a,n,s)})};const qrt="pk_live_51N9YqBGZwjqPfxkZtUgmBVuQH2100lzQ2yLYZp7mlr80eUyO8n3fBwXMgeMIhARze7BNrAHjhOXRD1u5AawwCO8800sFI1FBVA",Krt="pk_test_51N9YqBGZwjqPfxkZo0iwN0OgoN9pvr85PDuJjOJeoeKbo4wSXpwhYg7BSoKJVHV3HnqWUkfD0IJSOs9q3n5Hqlqx00PsidZhZT",Yrt=["ar","bg","cs","da","de","el","en","en-AU","en-CA","en-NZ","en-GB","es","es-ES","es-419","et","fi","fil","fr","fr-CA","fr-FR","he","hu","hr","id","it","it-IT","ja","ko","lt","lv","ms","mt","nb","nl","no","pl","pt","pt-BR","ro","ru","sk","sl","sv","th","tr","vi","zh","zh-HK","zh-TW"],hUt=()=>{const{isProduction:e,isStaging:t}=Pc(),{locale:n}=K(),r=f.useMemo(()=>Ote([n],Yrt,"en"),[n]);return f.useMemo(()=>Grt(e||t?qrt:Krt,{betas:["custom_checkout_beta_5"],locale:r}),[e,t,r])},pC="referral_code",gC="referral_code_expiry",Qrt=()=>{const[e,t]=f.useState(null),[n,r]=f.useState(!1),a=An()?.get("referral_code"),i=Array.isArray(a)?a[0]:a,o=f.useCallback(()=>{const c=Ue.getItem(pC),u=Ue.getItem(gC);if(!(!c&&!i)){if(u&&new Date(u)<new Date){Ue.removeItem(pC),Ue.removeItem(gC),t(null);return}if(!c||i&&i!==c){const d=new Date;d.setDate(d.getDate()+1),Ue.setItem(pC,String(i)),Ue.setItem(gC,d.toString()),t(String(i));return}if(c){t(c);return}}},[i]);return f.useEffect(()=>{o(),r(!0)},[i,o]),f.useMemo(()=>({referralCode:e,referralEvaluated:n}),[e,n])},mUt=l.jsx(ce,{defaultMessage:"Start for free, no credit card needed.",id:"uzjbT1FGfk"}),pUt=l.jsx(ce,{defaultMessage:"Upgrade productivity and learning with additional access.",id:"PnQLpmbknU"}),gUt=l.jsx(ce,{defaultMessage:"Unlock Perplexity's full capabilities with early access to new products.",id:"XvAk63xTH/"}),vUt=l.jsx(ce,{defaultMessage:"Unlock the full capabilities of Perplexity for your team and enjoy new perks as they are added.",id:"fyHXg6ONTT"}),yUt=[l.jsx(ce,{defaultMessage:"Limited file uploads and image generation",id:"Yajq3Us4wf"},"ei4z2Aep9t"),l.jsx(ce,{defaultMessage:"Limited access to Perplexity Research",id:"rxiI86annI"},"Q4n6qAgIjm"),l.jsx(ce,{defaultMessage:"Limited access to advanced AI models",id:"Um2NQaGAN2"},"k+gSVpF51l"),l.jsx(ce,{defaultMessage:"Access to voice mode",id:"yzxI9mX7Ne"},"yzxI9mX7Ne")],xUt=[l.jsx(ce,{defaultMessage:"10x as many citations in answers",id:"D0fULpN8/D"},"ei4z2Aep9t"),l.jsx(ce,{defaultMessage:"Access to Perplexity Labs",id:"umi6FCpljx"},"LicOGayBYr"),l.jsx(ce,{defaultMessage:"Unlimited file and photo uploads",id:"9mQ544QaNG"},"9mQ544QaNG"),l.jsx(ce,{defaultMessage:"Extended access to Perplexity Research",id:"N+s4bfYMOJ"},"+tC8PdouYw"),l.jsx(ce,{defaultMessage:"Extended access to image generation",id:"YLNO5T8j3R"},"YLNO5T8j3R"),l.jsx(ce,{defaultMessage:"One subscription for all the latest AI models",id:"lcvAIYTstR"},"ZSiV9iYVeG"),l.jsx(ce,{defaultMessage:"Exclusive access to Pro Perks",id:"RO2aKrXj5b"},"RO2aKrXj5b")],bUt=[l.jsx(ce,{defaultMessage:"Everything in Pro",id:"EQO1QOs7ln"},"EQO1QOs7ln"),l.jsx(ce,{defaultMessage:"Early access to Comet, the agentic browser",id:"itbmh6iTsp"},"ju0j9rjkOw"),l.jsx(ce,{defaultMessage:"Unlimited access to Perplexity Labs",id:"Vc+NmvcKpa"},"8jDdpmfeqS"),l.jsx(ce,{defaultMessage:"Unlimited access to Perplexity Research",id:"+tC8PdouYw"},"8jDdpmfeqS"),l.jsx(ce,{defaultMessage:"Use advanced AI models like OpenAI o3-pro and Anthropic Claude 4 Opus",id:"yO1JuxyZ4F"},"R/MiWjuMZ1"),l.jsx(ce,{defaultMessage:"Priority support",id:"3sSrKzxPrc"},"3sSrKzxPrc")],wUt=[l.jsx(ce,{defaultMessage:"Unlimited Pro searches",id:"isnJxc1XxM"},"UnlimitedProSearches"),l.jsx(ce,{defaultMessage:"Unlimited uploads for files and images",id:"y5R/L7qsi/"},"UnlimitedUploads"),l.jsx(ce,{defaultMessage:"Unlimited collaborators in Spaces",id:"EZFr73mN/d"},"UnlimitedCollaborators"),l.jsx(ce,{defaultMessage:"Connect Google Drive, Sharepoint, Dropbox, OneDrive, and Box",id:"ALW0u9e/Ps"},"ConnectCloudServices"),l.jsx(ce,{defaultMessage:"Powered by the latest top AI models",id:"ZSiV9iYVeG"},"LatestAIModels"),l.jsx(ce,{defaultMessage:"Dedicated enterprise support",id:"6ojq3KOETz"},"DedicatedSupport"),l.jsx(ce,{defaultMessage:"Integrate with your identity provider",id:"NEWodUzDlf"},"IdentityProvider"),l.jsx(ce,{defaultMessage:"User permissioning",id:"oEuCJfg2fr"},"UserPermissioning"),l.jsx(ce,{defaultMessage:"SOC 2 Type II security compliance",id:"j84mT5pXG7"},"SOC2TypeII")],TH="USD";function aj(e){throw new Error(e)}const Xrt=({reason:e})=>{const t=async()=>CXe({reason:e}),{data:n}=at({queryKey:["get_user_previous_subscription"],queryFn:t});return f.useMemo(()=>({previousSubscriptionStatus:n?.previous_subscription_status??"none",previousSubscriptionSource:n?.previous_subscription_source??"none"}),[n?.previous_subscription_source,n?.previous_subscription_status])},Zrt=({variant:e="border",extraCSS:t,subscriptionSource:n})=>{const{$t:r}=K(),s=[{type:"default",text:r({defaultMessage:"SoftBank",id:"mz906WB9pc"}),href:"https://stn.mb.softbank.jp/G4H51",onClick:i=>{i.preventDefault(),window.open("https://stn.mb.softbank.jp/G4H51","_blank")}},{type:"default",text:r({defaultMessage:"Y!mobile",id:"waO5BNtbEl"}),href:"https://stn.mb.softbank.jp/h6C4p",onClick:i=>{i.preventDefault(),window.open("https://stn.mb.softbank.jp/h6C4p","_blank")}},{type:"default",text:r({defaultMessage:"LINEMO",id:"5EeaeTgd/I"}),href:"https://stn.mb.softbank.jp/22m5K",onClick:i=>{i.preventDefault(),window.open("https://stn.mb.softbank.jp/22m5K","_blank")}}],a=r(n==="softbank"?{defaultMessage:"Manage carrier billing",id:"qt9JnrA7Lf"}:{defaultMessage:"Set up carrier billing",id:"KvLeD+r7rf"});return l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(bn,{items:s,isMobileStyle:!1,placement:"bottom-start",children:l.jsx(ye,{text:a,size:"small",icon:Ia,variant:e,extraCSS:t})})})},Jrt="https://billing.stripe.com/p/login/test_7sIdSS7ioeNSdpe9AA",est="https://billing.stripe.com/p/login/6oEeXaewnb3z1facMM",tst="https://perplexity.sng.link/A6awk/pxdx?_ios_dl=home&_android_dl=singular-perplexity%3A%2F%2Fhome&_smtype=3";function nst(e){switch(e){case"ios":return"https://www.apple.com/app-store/";case"android":return"https://play.google.com/store";default:aj(e)}}const mve=({text:e,hasPreviousSub:t=!1,origin:n,variant:r="common",extraCSS:s})=>{const a="sub-modal-button",{$t:i,locale:o}=K(),c=Rt(),{hasAccessToProFeatures:u,subscriptionSource:d}=At(),{revenuecatStatus:h,stripeStatus:m}=Da({reason:a}),{previousSubscriptionSource:p}=Xrt({reason:a}),{isProduction:g,isBeta:v}=Pc(),y=Dt(),{openModal:x}=St(),b=f.useCallback(async()=>{if(d==="incentive"){x("incentiveProModal",{origin:n});return}const C=d==="ios"||d==="android",S=p==="ios"||p==="android";if(C||S){S&&p!==d?c.push(nst(p)):c.push(tst);return}const E=await Vie({locale:o,reason:"sub-modal-button"});E?c.push(E):c.push(g||v?est:Jrt)},[d,p,c,g,v,o,x,n]),w=u||m==="past_due"||t===!0,_=f.useMemo(()=>d==="ios"?i({defaultMessage:"Manage in App Store",id:"3iCRcP8mV0"}):d==="android"?i({defaultMessage:"Manage in Google Play",id:"tiFovnryYO"}):t?i({defaultMessage:"Manage plan",id:"88XpVMnmFe"}):h!=="none"||["ios","android"].includes(p)?i({defaultMessage:"Mobile subscription",id:"EttF2eTvlk"}):i(d==="softbank"?{defaultMessage:"SoftBank, Y!mobile, and LINEMO Customers",id:"i1WJntbsih"}:{defaultMessage:"Manage",id:"0AzlrbMWV9"}),[t,h,p,d,i]);return l.jsx("div",{children:w?d==="softbank"?l.jsx(Zrt,{variant:r,extraCSS:s,subscriptionSource:d}):l.jsx(ye,{extraCSS:s,text:_,size:"small",onClick:b,variant:r,trailingComponent:l.jsx(_e,{icon:il,size:"xs"})}):l.jsx(ye,{text:e??i({defaultMessage:"Learn more",id:"TdTXXf940t"}),size:"small",onClick:()=>{y?x("pricingModal",{origin:n}):x("loginModal",{origin:rt.TRY_PRO,pitchMessage:{title:i({defaultMessage:"Sign in to unlock {pro}",id:"HsM7RilrD6"},{pro:"Pro"})}})},icon:il,variant:r})})};function rst({subscriptionSource:e,isMissingPaymentMethod:t,paymentFailed:n,upgradeError:r}){return e==="android"?"android":e==="ios"?"ios":t?"missingPaymentMethod":n?"paymentFailed":r?"genericPaymentError":"upgradeToContinue"}function sst(e){switch(e){case"unsupported":return Jt({defaultMessage:"Max subscriptions are not supported by carrier billing.",id:"Ux4ivT++jB"});case"missingPaymentMethod":return Jt({defaultMessage:"Please add a payment method to upgrade to Max.",id:"W6HVT1BPC8"});case"paymentFailed":return Jt({defaultMessage:"Payment failed. Please update payment to continue.",id:"b0rdlbJ3AI"});case"android":return Jt({defaultMessage:"You subscribed on the Google Play Store. Upgrade your subscription via settings on the Android app.",id:"97MQ1Swe7/"});case"ios":return Jt({defaultMessage:"You subscribed on the App Store. Upgrade your subscription via settings on the iOS app.",id:"JGkQSWrZEy"});case"upgradeToContinue":return Jt({defaultMessage:"You will be charged now and immediately get access to Max.",id:"9x1isMahOJ"});case"genericPaymentError":return Jt({defaultMessage:"Something went wrong. Please continue to Stripe and complete your payment.",id:"xdKfV2F++4"});default:aj(e)}}const ast="https://billing.stripe.com/p/login/test_7sIdSS7ioeNSdpe9AA",ist="https://billing.stripe.com/p/login/6oEeXaewnb3z1facMM",ost=()=>{const e=Rt(),{isProduction:t,isBeta:n}=Pc(),r=f.useCallback(async({locale:s,reason:a})=>{const i=await Vie({locale:s,reason:a});i?e.push(i):e.push(t||n?ist:ast)},[e,t,n]);return f.useMemo(()=>({navigateToCustomerPortal:r}),[r])},NH=6,lst=()=>l.jsx("ul",{className:"flex flex-col",children:Array.from({length:NH}).map((e,t)=>{const n=t%2===0;return l.jsx("li",{className:U({"border-background-300 py-sm mb-sm border-b":n,"pb-sm":!n}),children:l.jsx(hs,{children:l.jsx(H,{variant:"offset",className:U("h-4 w-full rounded",{"py-0.5":t===NH-1})})})},t)})}),cst=({isOpen:e,onClose:t})=>{const n=K(),s=Dt()?.user?.subscription_source,a=s==="stripe",{data:i,isLoading:o,status:c,error:u}=nrt({reason:"upgrade-modal",enabled:a}),{data:d,isLoading:h}=bH({currency:TH,reason:"upgrade-modal",subscriptionTier:"max"}),{data:m,isLoading:p}=bH({currency:TH,reason:"upgrade-modal",subscriptionTier:"pro"}),{formatNumber:g,locale:v}=K(),{update:y}=Oa.useSession(),{currentOpenModals:x}=St(),{trackEvent:b}=Ne(),{navigateToCustomerPortal:w}=ost(),_=f.useMemo(()=>d?.prices&&d.prices.find(B=>B.tier==="monthly")||null,[d]),C=f.useMemo(()=>m?.prices&&m.prices.find(B=>B.tier==="monthly")||null,[m]),S=f.useMemo(()=>c==="error"?u?.message:null,[c,u]),k=f.useCallback(async()=>{await PA({reason:"upgrade-to-max-modal"}),await y(),t(),b("subscription upgrade success"),x.length>0&&t(),$x({upgrade_max:"success"})},[t,x,y,b]),E=art({reason:"upgrade-modal"},{onSuccess:k}),M=S==="missing_payment_method",N=S==="stripe_upgrade_payment_error";f.useEffect(()=>{e&&b("subscription upgrade modal rendered")},[e,b]);const R=rst({subscriptionSource:s,isMissingPaymentMethod:M,paymentFailed:N,upgradeError:E?.error?.message}),A=f.useCallback(async()=>{await w({locale:v,reason:"upgrade-modal-add-payment"})},[w,v]),P=!!i?.payment_method,O=M||N||!!E.error,I=f.useMemo(()=>!a||E.isPending||!P||o||!!E.error,[a,E.isPending,P,o,E.error]),L=f.useCallback(async()=>{E.isPending||await E.mutateAsync()},[E]),F=f.useMemo(()=>M?l.jsx(ce,{defaultMessage:"Add payment method",id:"+EIsonKmCI"}):E.error?l.jsx(ce,{defaultMessage:"Continue to Stripe",id:"W2hJP+kQGf"}):l.jsx(ce,{defaultMessage:"Update payment method",id:"iIM9E+ynde"}),[M,E.error]);return l.jsx(jt,{isOpen:e,onClose:t,renderCloseButton:!1,headerClassname:"hidden",modalClassname:"!w-[416px] !min-w-[416px] !max-w-[416px] !p-0",modalContentClassname:"!p-0",noPadding:!0,children:l.jsxs(H,{className:"p-ml",children:[l.jsx(j,{variant:"baseSemi",children:l.jsx(ce,{defaultMessage:"Confirm changes",id:"AnPtOvcf8f"})}),l.jsx(Hx,{planName:{id:"R/eOkjWqNU",defaultMessage:"Pro"},price:c==="error"||!a?C:i?.old_product_price,formatNumber:g,billingInterval:c==="error"||!a?"monthly":i?.old_product_interval}),l.jsx(H,{children:l.jsxs(j,{variant:"tinyRegular",color:"light",className:"flex items-center justify-center gap-1",children:[l.jsx("div",{className:"border-background-300 flex-1 border-t"}),l.jsx(ce,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"}),l.jsx("div",{className:"border-background-300 flex-1 border-t"})]})}),l.jsx(Hx,{planName:{id:"kkjl2vQekD",defaultMessage:"Max"},price:M||!a?_:i?.new_product_price,formatNumber:g,billingInterval:M||!a?"monthly":i?.new_product_interval,isHighlighted:!0,className:"mb-ml"}),o?l.jsx(lst,{}):i&&l.jsx(xrt,{lineItems:i}),l.jsxs(H,{variant:"offset",className:"px-md py-sm mt-ml gap-sm flex flex-col rounded-md",children:[l.jsx(j,{variant:"small",color:"light",children:l.jsx(ce,{...sst(R)})}),!a&&l.jsx(mve,{origin:rt.UPGRADE_MODAL,variant:"primary",extraCSS:"w-full"}),O&&l.jsx(ye,{size:"small",fullWidth:!0,variant:"primary",text:F,onClick:A})]}),l.jsxs(H,{className:"gap-sm mt-ml flex justify-end",children:[l.jsx(ze,{text:n.formatMessage({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t}),l.jsx(ye,{variant:"primary",text:n.formatMessage({defaultMessage:"Confirm",id:"N2IrpMDHDB"}),isLoading:E.isPending,disabled:I,onClick:L})]})]})})},hr=T.memo(()=>l.jsx("div",{className:"bg-backdrop/70 fixed inset-0 z-[999] flex items-center justify-center backdrop-blur-sm",children:l.jsx(yl,{})}));hr.displayName="ModalLoader";const pve=T.memo(()=>l.jsx("p",{children:"An error has occurred"}));pve.displayName="ErrorFallback";const ust=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>wRt),void 0)).LocationPermissionModal}),{loading:()=>l.jsx(hr,{})}),dst=Ee(async()=>({default:(await he(()=>import("./FileUploadModal-CEGHfei3.js"),__vite__mapDeps([5,1,6]))).FileUploadModal}),{loading:()=>l.jsx(hr,{})}),RH=Ee(async()=>({default:(await he(()=>import("./CollectionCreateEditModal-B_Xh9cr7.js"),__vite__mapDeps([7,1]))).CollectionCreateEditModal}),{loading:()=>l.jsx(hr,{})}),fst=Ee(async()=>({default:(await he(()=>import("./CollectionSelectModal-CGGhqud_.js"),__vite__mapDeps([8,1]))).CollectionSelectModal}),{loading:()=>l.jsx(hr,{})}),hst=Ee(async()=>({default:(await he(()=>import("./OnboardingModal-DacrWCZQ.js").then(t=>t.a),__vite__mapDeps([9,1,2,10,11,12,13,14,15,16,17,18,19,20]))).OnboardingModal}),{loading:()=>l.jsx(hr,{})}),mst=Ee(async()=>({default:(await he(()=>import("./PurchaseConfirmationToast-BlSBxcUu.js"),__vite__mapDeps([21,1]))).PurchaseConfirmationToast}),{loading:()=>l.jsx(hr,{})}),pst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>Qst),void 0)).ThreadLossAversionModal}),{loading:()=>l.jsx(hr,{})}),gst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>gIt),void 0)).CompanyDataPrivacyModal}),{loading:()=>l.jsx(hr,{})}),vst=Ee(async()=>({default:(await he(()=>import("./SpaceVideoModal-CsgjkS4N.js"),__vite__mapDeps([22,1]))).SpaceVideoModal}),{loading:()=>l.jsx(hr,{})}),yst=Ee(async()=>({default:(await he(()=>import("./PricingTableModal-BhkFslQl.js"),__vite__mapDeps([23,1,19]))).PricingTableModal})),xst=Ee(async()=>({default:(await he(()=>import("./MapModal-DdUeZe81.js"),__vite__mapDeps([24,1,25,26,15,11]))).MapModal})),bst=Ee(()=>he(()=>import("./InputPaymentModal-C-brU6Io.js"),__vite__mapDeps([27,1]))),wst=Ee(()=>he(()=>import("./ShoppingPaymentModal-C0Okkh-5.js").then(e=>e.b),__vite__mapDeps([28,1,29,30,31])),{loading:()=>l.jsx(hr,{})}),_st=Ee(async()=>({default:(await he(()=>import("./ShoppingOnboardingModal-Ch4Gav6s.js"),__vite__mapDeps([32,1,31,28,29,30,20]))).ShoppingOnboardingModal}),{loading:()=>l.jsx(hr,{})}),Cst=Ee(async()=>({default:(await he(()=>import("./PurchaseDetailsModal-DdssGkGz.js").then(t=>t.P),__vite__mapDeps([31,1]))).PurchaseDetailsModal}),{loading:()=>l.jsx(hr,{})}),Sst=Ee(async()=>({default:(await he(()=>import("./ReservationDetailsModal-DkG2-Dv3.js"),__vite__mapDeps([33,1,2,34]))).ReservationDetailsModal}),{loading:()=>l.jsx(hr,{})}),Est=Ee(async()=>({default:(await he(()=>import("./SpaceSettingsModal-BsCDgkGQ.js"),__vite__mapDeps([35,1]))).SpaceSettingsModal}),{loading:()=>l.jsx(hr,{})}),kst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>EIt),void 0)).UsernameModal})),Mst=Ee(async()=>({default:(await he(()=>import("./FullNameModal-CpNm4qMT.js"),__vite__mapDeps([36,1]))).FullNameModal})),Tst=Ee(async()=>({default:(await he(()=>import("./KeyboardShortcutEditorModal-BMdUW-QA.js"),__vite__mapDeps([37,1]))).KeyboardShortcutEditorModal}),{loading:()=>l.jsx(hr,{})}),Nst=Ee(async()=>({default:(await he(()=>import("./VoiceToVoiceModal-DgLM0NUG.js"),__vite__mapDeps([38,1,39]))).VoiceToVoiceModal}),{loading:()=>l.jsx(zA,{})}),Rst=Ee(async()=>({default:(await he(()=>import("./SearchStepsAssetsModal-BgtN3Svn.js"),__vite__mapDeps([40,1,10,11,41,42,43,44,45,46]))).SearchStepsAssetsModal})),Ast=Ee(async()=>({default:(await he(()=>import("./MemoryListModal-C4bqSgE5.js").then(t=>t.M),__vite__mapDeps([47,1]))).MemoryListModal})),jst=Ee(async()=>({default:(await he(()=>import("./HotelRoomDetailsModal-CMmP-p0B.js").then(t=>t.H),__vite__mapDeps([48,1]))).HotelRoomDetailsModal}),{loading:()=>l.jsx(hr,{})}),Pst=Ee(async()=>({default:(await he(()=>import("./PaymentModal-CaRqNm03.js"),__vite__mapDeps([49,1]))).PaymentModal}),{loading:()=>l.jsx(hr,{})}),Ist=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>_It),void 0)).FreeTrialModal})),Ost=Ee(async()=>({default:(await he(()=>import("./ProReferralModal-BHKYLSly.js").then(t=>t.P),__vite__mapDeps([50,1,11]))).ProReferralModal})),Lst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>IIt),void 0)).ProMessageModal})),Dst=Ee(async()=>({default:(await he(()=>import("./MemorySearchHistoryIntroModal-DWVcq5Ey.js"),__vite__mapDeps([51,1]))).MemorySearchHistoryIntroModal})),Fst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>LIt),void 0)).default})),Ust=Ee(async()=>({default:(await he(()=>import("./ReferralErrorModal-DLe81emY.js"),__vite__mapDeps([52,1]))).default})),Bst=Ee(async()=>({default:(await he(()=>import("./ReferralSuccessModal-BemT5nBb.js"),__vite__mapDeps([53,1]))).default})),$st=Ee(async()=>({default:(await he(()=>import("./IncentiveProModal-C5GhNsYa.js"),__vite__mapDeps([54,1]))).default})),Hst=Ee(async()=>({default:(await he(()=>import("./RestaurantBookingModal-B4rOUZsX.js"),__vite__mapDeps([55,1,56]))).RestaurantBookingModal}),{loading:()=>l.jsx(hr,{})}),Wst=Ee(async()=>({default:(await he(()=>import("./SheerIdRedirectModal-BUBDRv2g.js"),__vite__mapDeps([57,1]))).default})),zst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>UIt),void 0)).EnterprisePremiumSecureUpgradeModal})),Vst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>VIt),void 0)).ShortcutModal})),Gst=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>V5t),void 0)).default})),qst=Ee(async()=>({default:(await he(()=>import("./FinanceAddAlert-BgAlDIRO.js").then(t=>t.b),__vite__mapDeps([58,1]))).FinanceAlertModal})),Kst=Ee(async()=>({default:(await he(()=>import("./PlatformOptionsModal-jk7_LtyF.js"),__vite__mapDeps([59,1]))).PlatformOptionsModal}));function Yst(e){return e?{[e.modalName]:e.arg}:{}}const gve=T.memo(({})=>{const{currentOpenModals:e}=St(),[t,n]=f.useState(e.length);f.useEffect(()=>{setTimeout(()=>{n(e.length)},100)},[e.length]);const r=t!=e.length;return e.map((s,a)=>l.jsx(vve,{modal:s,canOutsideClickClose:!r&&a+1==e.length},a))});gve.displayName="Modals";const vve=T.memo(({modal:e,canOutsideClickClose:t})=>{const n=f.useMemo(()=>({canOutsideClickClose:t}),[t]);return l.jsx(fse.Provider,{value:n,children:l.jsx(yve,{modal:e})})});vve.displayName="SingleModalWrapper";const yve=T.memo(({modal:e})=>{const{closeModal:t}=St(),n=e.modalName,{pricingModal:r,loginModal:s,installModal:a,requestAccessModal:i,collectionSelectModal:o,collectionCreateOrEdit:c,collectionCreateForThread:u,spaceCreate:d,spaceCreateForThread:h,spaceSettings:m,companyDataPrivacyModal:p,citationListModal:g,checkSourcesModal:v,mapModal:y,inputPaymentModal:x,shoppingPaymentModal:b,purchaseConfirmationModal:w,shoppingOnboardingModal:_,shoppingOrderDetailsModal:C,lossAversionModal:S,spaceVideoModal:k,uploadFilesModal:E,spaceContextModal:M,locationPermissionModal:N,watchlistModal:R,reservationDetailsModal:A,deleteMemoryModal:P,hotelRoomDetailsModal:O,searchStepsAssetsModal:I,memoryListModal:L,proSubscriptionPaymentModal:F,proMessageModal:D,memorySearchHistoryModal:B,gmailFailedPermissionsModal:$,subSuccessModal:W,incentiveProModal:X,restaurantBookingModal:ee,sheerIdRedirectModal:ne,enterprisePremiumSecureUpgradeModal:V,taskShortcutModal:q,financeAlertModal:z,scheduledTaskModal:te,referralSuccessModal:Y}=Yst(e);return l.jsxs(l.Fragment,{children:[n==="loginModal"&&s?.origin&&l.jsx(kJe,{pitchMessage:s?.pitchMessage,origin:s.origin,isOpen:n==="loginModal",experimentalImageDesign:s.experimentalImageDesign,sheetModalDesign:s.sheetModalDesign,closeModal:t,closeCallback:s?.closeCallback,overrideRedirectUrl:s?.overrideRedirectUrl,disallowedMethods:s?.disallowedMethods,loginButtonsStyle:s?.loginButtonsStyle}),l.jsx(hh,{isSamsungBrowser:!0,isCometSidecar:!0,isFirefoxDefaultSearch:!0,children:n==="installModal"&&a&&l.jsx(Wnt,{isOpen:n==="installModal",onClose:()=>{t(),a.closeCallback?.()},origin:a.origin,sheetModalVariant:a.sheetModalVariant})}),n==="pricingModal"&&r&&l.jsx(yst,{isOpen:n==="pricingModal",pitchMessage:r?.pitchMessage,closeModal:t,origin:r.origin,showFreeTier:r.showFreeTier}),n==="collectionSelectModal"&&o?.entryUUID&&l.jsx(fst,{isOpen:n==="collectionSelectModal",currentCollection:o.currentCollection,entryUUID:o.entryUUID,searchTerm:o.searchTerm,frontendContextUUID:o.frontendContextUUID,closeModal:t}),n==="collectionCreateOrEdit"&&l.jsx(RH,{isOpen:n==="collectionCreateOrEdit",existingCollection:c?.existingCollection,frontendContextUUID:c?.frontendContextUUID,closeModal:t,onCreate:c?.onCreate}),n==="spaceCreate"&&l.jsx(xH,{isOpen:n==="spaceCreate",closeModal:t,existingCollection:d?.existingCollection,onCreate:d?.onCreate,content:d?.content}),n==="spaceCreateForThread"&&h?.entryUUID&&l.jsx(xH,{isOpen:n==="spaceCreateForThread",closeModal:t,existingCollection:d?.existingCollection,frontendContextUUID:h?.frontendContextUUID,entryUUID:h?.entryUUID,onCreate:h?.onCreate}),n==="spaceSettings"&&l.jsx(Est,{isOpen:n==="spaceSettings",existingSpace:m?.existingSpace,closeModal:t}),n==="spaceVideoModal"&&k&&l.jsx(vst,{isOpen:n==="spaceVideoModal",setIsOpen:t,type:k.type}),n==="uploadFilesModal"&&l.jsx(dst,{isOpen:n==="uploadFilesModal",closeModal:t,collectionSlug:E?.collectionSlug,showUpsell:E?.showUpsell,initialTab:E?.initialTab}),n==="spaceContextModal"&&l.jsx(mae,{isOpen:n==="spaceContextModal",closeModal:t,collectionSlug:M?.collectionSlug}),n==="requestAccessModal"&&i?.uuidOrSlug&&l.jsx(bse,{isOpen:n==="requestAccessModal",onClose:t,uuidOrSlug:i.uuidOrSlug}),n==="mapModal"&&l.jsx(La,{fallback:pve,children:l.jsx(xst,{isOpen:n==="mapModal",closeModal:t,locations:y&&y.locations,header:y.header,entryUUID:y.entryUUID,searchByLocationOverride:y?.searchByLocationOverride})}),n==="collectionCreateForThread"&&u?.entryUUID&&l.jsx(RH,{isOpen:n==="collectionCreateForThread",existingCollection:c?.existingCollection,frontendContextUUID:u?.frontendContextUUID,closeModal:t,entryUUID:u?.entryUUID}),n==="inputPaymentModal"&&x&&l.jsx(bst,{isOpen:n==="inputPaymentModal",closeModal:t,isUpdating:x.isUpdating}),n==="shoppingPaymentModal"&&b&&l.jsx(wst,{isOpen:n==="shoppingPaymentModal",closeModal:t,product:b.product,onSuccess:b.onSuccess}),n==="companyDataPrivacyModal"&&l.jsx(gst,{organizationName:p.organizationName,isOpen:n==="companyDataPrivacyModal",closeModal:t,onContinue:p.onContinue}),n==="citationListModal"&&g.webResults&&l.jsx(XA,{isOpen:n==="citationListModal",onClose:t,entry:g.entry,webResults:g.webResults,submit:g.submit}),n==="checkSourcesModal"&&v&&l.jsx(aie,{isOpen:n==="checkSourcesModal",onClose:t,entryUUID:v.entryUUID,frontendContextUUID:v.frontendContextUUID,contextUUID:v.contextUUID,webResults:v.webResults,extendedBeforeContext:v.extendedBeforeContext,beforeContext:v.beforeContext,selectedText:v.selectedText,afterContext:v.afterContext,state:v?.state}),n==="keyboardShortcutEditorModal"&&l.jsx(Tst,{isOpen:n==="keyboardShortcutEditorModal",closeModal:t}),n==="keyboardShortcutHelperModal"&&l.jsx(OQe,{isOpen:n==="keyboardShortcutHelperModal",closeModal:t}),n==="onboardingModal"&&l.jsx(hst,{isOpen:n==="onboardingModal",closeModal:t}),n==="lossAversionModal"&&S&&l.jsx(pst,{isOpen:n==="lossAversionModal",onClose:()=>{t(),S.callback?.()},origin:S.origin}),n==="shoppingOnboardingModal"&&_&&l.jsx(_st,{isOpen:n==="shoppingOnboardingModal",onClose:t,onContinue:_.onContinue}),n==="shoppingOrderDetailsModal"&&l.jsx(Cst,{isOpen:n==="shoppingOrderDetailsModal",onClose:t,item:C?.item,userIntercomHash:C?.userIntercomHash}),n==="purchaseConfirmationModal"&&w&&l.jsx(mst,{isOpen:n==="purchaseConfirmationModal",onClose:t,order:w.order}),n==="watchlistModal"&&R&&l.jsx(Mnt,{isOpen:n==="watchlistModal",onClose:t,watchlistType:R.watchlistType,origin:R.origin}),n==="locationPermissionModal"&&N&&l.jsx(ust,{isOpen:n==="locationPermissionModal",onClose:t,onPermissionGranted:N.onPermissionGranted??Ln,origin:N.origin}),n==="reservationDetailsModal"&&A&&l.jsx(Sst,{isOpen:n==="reservationDetailsModal",onClose:t,reservation:A.reservation,userIntercomHash:A.userIntercomHash}),n==="usernameModal"&&l.jsx(kst,{isOpen:n==="usernameModal",onClose:t}),n==="userFullNameModal"&&l.jsx(Mst,{isOpen:n==="userFullNameModal",onClose:t}),n==="deleteMemoryModal"&&l.jsx(rtt,{isOpen:n==="deleteMemoryModal",onClose:t,memoryId:P?.memoryId}),n==="deleteAllMemoriesModal"&&l.jsx(ntt,{isOpen:n==="deleteAllMemoriesModal",onClose:t}),n==="voiceToVoiceModal"&&l.jsx(Nst,{isOpen:n==="voiceToVoiceModal",onClose:t}),n==="hotelRoomDetailsModal"&&O&&l.jsx(jst,{isOpen:n==="hotelRoomDetailsModal",onClose:t,...O}),n==="searchStepsAssetsModal"&&I?.backendUUID&&l.jsx(Rst,{isOpen:n==="searchStepsAssetsModal",closeModal:t,...I}),n==="memoryListModal"&&l.jsx(Ast,{isOpen:n==="memoryListModal",onClose:t,isMemoryEnabled:L?.isMemoryEnabled??!1}),n==="proSubscriptionPaymentModal"&&F&&l.jsx(Pst,{isOpen:n==="proSubscriptionPaymentModal",onClose:t,...F}),n==="proReferralModal"&&l.jsx(Ost,{isOpen:n==="proReferralModal",onClose:t}),n==="proMessageModal"&&D&&l.jsx(Lst,{isOpen:n==="proMessageModal",onClose:t,...D}),n==="freeTrialModal"&&l.jsx(Ist,{isOpen:n==="freeTrialModal",onClose:t}),n==="memorySearchHistoryModal"&&l.jsx(gie,{isOpen:n==="memorySearchHistoryModal",onClose:t,snippet:B?.snippet??"",type:B?.type??"memory",url:B?.url??"",memoryKey:B?.memoryKey,entryUuid:B?.entryUuid,title:B?.title,timestamp:B?.timestamp}),n==="memorySearchHistoryIntroModal"&&l.jsx(Dst,{isOpen:n==="memorySearchHistoryIntroModal",onClose:t}),n==="gmailFailedPermissionsModal"&&$&&l.jsx(ttt,{isOpen:n==="gmailFailedPermissionsModal",onContinue:$.onContinue??Ln,onClose:t}),n==="subSuccessModal"&&W&&l.jsx(Fst,{isOpen:n==="subSuccessModal",onClose:t,flowType:W.flowType,upgradeMax:W.upgradeMax,subscriptionTier:W.subscriptionTier}),n==="referralErrorModal"&&l.jsx(Ust,{isOpen:n==="referralErrorModal",onClose:t}),n==="referralSuccessModal"&&Y&&l.jsx(Bst,{isOpen:n==="referralSuccessModal",onClose:t,monthsAwarded:Y.monthsAwarded}),n==="incentiveProModal"&&l.jsx($st,{isOpen:n==="incentiveProModal",onClose:t,...X}),n==="sheerIdRedirectModal"&&ne&&l.jsx(Wst,{isOpen:n==="sheerIdRedirectModal",onContinue:()=>{t(),oo(ne.sheerIdUrl,"sheerIdRedirectModal")},onCancel:t}),n==="upgradeModal"&&l.jsx(cst,{isOpen:n==="upgradeModal",onClose:t}),n==="downgradeModal"&&l.jsx(brt,{isOpen:n==="downgradeModal",onClose:t}),n==="restaurantBookingModal"&&ee&&l.jsx(Hst,{isOpen:n==="restaurantBookingModal",onClose:t,...ee}),n==="bugReportModal"&&l.jsx(RQe,{isOpen:n==="bugReportModal",onClose:t}),n==="enterprisePremiumSecureUpgradeModal"&&l.jsx(zst,{isOpen:n==="enterprisePremiumSecureUpgradeModal",onClose:t,onUpgradeSuccess:V?.onUpgradeSuccess}),n==="taskShortcutModal"&&q&&l.jsx(Vst,{open:n==="taskShortcutModal",onClose:()=>{t(),q.onClose?.()},source:q.source,shortcut:q.shortcut}),n==="financeAlertModal"&&z&&l.jsx(qst,{isOpen:n==="financeAlertModal",onClose:()=>{t(),z.onClose?.()},symbol:z.symbol,task:z.task}),n==="scheduledTaskModal"&&te&&l.jsx(im,{children:l.jsx(Gst,{open:n==="scheduledTaskModal",onClose:()=>{t(),te.onClose?.()},source:te.source})}),n==="platformOptionsModal"&&l.jsx(Kst,{isOpen:n==="platformOptionsModal",onClose:t}),n==="avatarManagementModal"&&l.jsx(Unt,{isOpen:n==="avatarManagementModal",onClose:t})]})});yve.displayName="SingleModal";const xve=T.memo(({...e})=>{const{$t:t}=K(),n=f.useMemo(()=>DA(window.location.href,pd,rt.LOSS_AVERSION_MODAL),[]),{trackEvent:r}=Ne(),[s,a]=f.useState(!1);return f.useEffect(()=>{r("loss aversion modal opened",{origin:e.origin})},[r,e.origin]),l.jsx(jt,{title:t(s?{defaultMessage:"Sign up or log in",id:"Qv2KGSr1CQ"}:{defaultMessage:"Lose your answer?",id:"BxKmht5dD3"}),actionList:s?void 0:[{text:t({defaultMessage:"Sign up or log in",id:"Qv2KGSr1CQ"}),onClick:()=>{a(!0)},variant:"primary"}],...e,children:l.jsx("div",{className:"grid grid-cols-1 grid-rows-1",children:l.jsx(md,{initial:!1,mode:"popLayout",transition:{type:"spring",duration:.2},children:s?l.jsx(mc,{transition:{ease:Vs,duration:.1,delay:.1},children:l.jsxs(ke.div,{className:"relative col-start-1 row-start-1",children:[l.jsx(j,{className:"mb-md",textCenter:!0,children:l.jsx(ce,{defaultMessage:"Log in to save this answer",id:"Ngtk6vEw7T"})}),l.jsx(Dx,{redirectUrl:n,showCloseButton:!1})]})},"login"):l.jsx(mc,{transition:{ease:Vs,duration:.1},children:l.jsx(ke.div,{className:"col-start-1 row-start-1",children:l.jsx(j,{children:t({defaultMessage:"To save this answer, sign up or log in.",id:"9Ha7YBI+Yh"})})})},"initial")})})})});xve.displayName="ThreadLossAversionModal";const bve=()=>{const e=f.useCallback(r=>{cHe(r)},[]),t=en(kM),n=f.useCallback(()=>sh(kM),[]);return f.useMemo(()=>({lossAversionStatus:t,setLossAversionStatus:e,unsetLossAversion:n}),[t,e,n])},w1=()=>{const{lossAversionStatus:e,setLossAversionStatus:t}=bve(),n=Lt(),r=ut(),s=f.useMemo(()=>!r&&e==="allowed"&&n?.startsWith("/search"),[r,e,n]),{openModal:a}=St(),i=f.useCallback(({args:o,openModalOverride:c})=>{c?c("lossAversionModal",o):a("lossAversionModal",o),t("cooldown")},[a,t]);return f.useMemo(()=>({shouldShowLossAversionModal:s,handleOpenLossAversion:i}),[s,i])},Qst=Object.freeze(Object.defineProperty({__proto__:null,ThreadLossAversionModal:xve,useLossAversion:w1,useLossAversionStorage:bve},Symbol.toStringTag,{value:"Module"})),wve=f.createContext({currentOpenModals:[],currentOpenedModal:null,openModal:()=>{},openStackedModal:()=>{},updateModal:()=>{},closeModal:()=>{}}),Xst=({children:e})=>{const[t,n]=f.useState([]),r=f.useMemo(()=>t.at(-1)?.modalName??null,[t]),{trackEvent:s}=Ne(),{isMacOS:a,isWindowsApp:i}=Nt(),{shouldShowLossAversionModal:o,handleOpenLossAversion:c}=w1(),u=Rt(),d=f.useCallback((y,x)=>{n(()=>[{modalName:y,arg:x}])},[]),h=f.useCallback((y,x)=>{n(b=>[...b,{modalName:y,arg:x}])},[]),m=f.useCallback((y,x)=>{n(b=>{const w=b.findLastIndex(_=>_.modalName==y);if(w!=-1){const _=b.slice();return _[w]={modalName:y,arg:x},_}else return b})},[]),p=f.useCallback(()=>{n(y=>y.slice(0,y.length-1))},[]),g=f.useMemo(()=>({currentOpenModals:t,currentOpenedModal:r,openModal:d,openStackedModal:h,updateModal:m,closeModal:p}),[t,d,h,m,p,r]),v=f.useCallback(y=>{if(a?y.metaKey&&y.key==="k":y.ctrlKey&&y.key==="i")y.preventDefault(),o?c({args:{origin:rt.NEW_THREAD_SHORTCUT,callback:()=>{s("quick ask keyboard shortcut",{}),u.push("/",void 0,"Quick ask keyboard shortcut (loss aversion)")}},openModalOverride:d}):(s("quick ask keyboard shortcut",{}),u.push("/",void 0,"Quick ask keyboard shortcut"));else if(a?y.metaKey&&y.key==="/":y.ctrlKey&&y.key==="/")y.preventDefault(),d(i?"keyboardShortcutEditorModal":"keyboardShortcutHelperModal",null);else if(i&&y.ctrlKey&&y.key==="d"){y.preventDefault();const x=new CustomEvent("toggleDictation");document.dispatchEvent(x)}},[a,i,o,c,d,s,u]);return f.useEffect(()=>(document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]),l.jsxs(wve.Provider,{value:g,children:[e,l.jsx(gve,{})]})},St=()=>{const e=f.useContext(wve);if(!e)throw new Error("useModalState must be used within ModalContext");return e},Zst=()=>{const{openModal:e}=St(),{isMobileUserAgent:t}=Oe(),n=yR(),r=f.useCallback(({origin:s,sheetModalVariant:a,closeCallback:i})=>{!t||n||e("installModal",{origin:s,sheetModalVariant:a,closeCallback:i})},[n,t,e]);return f.useMemo(()=>({openInstallUpsell:r}),[r])},Gr=({enabled:e})=>{const{openModal:t}=St(),{keysRequiringRerender:n,removeKeyRequiringRerender:r}=Ic(),{isMobileUserAgent:s}=Oe(),a=ut(),{openInstallUpsell:i}=Zst(),o=rr(),c=f.useCallback(({title:d,description:h,origin:m,image:p,imageAlt:g,closeCallback:v,loginButtonsStyle:y})=>{!e||a||o||t("loginModal",{pitchMessage:d?{title:d,description:h}:void 0,origin:m,experimentalImageDesign:{image:p,imageAlt:g},closeCallback:v,loginButtonsStyle:y})},[e,t,a,o]),u=f.useCallback(({title:d,description:h,origin:m,sheetModalVariant:p,closeCallback:g,overrideRedirectUrl:v,disallowedMethods:y,overrideMobileVariant:x=!1})=>{if(!e||a||o)return;let b="full-sheet";(x||!s)&&p&&(b=p),t("loginModal",{pitchMessage:d?{title:d,description:h}:void 0,origin:m,sheetModalDesign:b,closeCallback:g,overrideRedirectUrl:v,disallowedMethods:y})},[e,s,t,a,o]);return f.useEffect(()=>{e&&(n.includes("visitor-gate")&&(s&&!qg()?i({origin:rt.VISITOR_GATE,sheetModalVariant:"inset-centered-sheet"}):u({origin:rt.VISITOR_GATE,sheetModalVariant:"bottom-sheet-gradient"}),r("visitor-gate")),n.includes("visitor-gate-ii")&&(s&&!qg()?i({origin:rt.VISITOR_GATE,sheetModalVariant:"inset-centered-sheet"}):u({origin:rt.VISITOR_GATE}),r("visitor-gate-ii")))},[e,u,n,r,s,i]),f.useMemo(()=>({openVisitorLoginUpsell:u,openVisitorLoginImageUpsell:c}),[c,u])},Jst=({message:e,discountCode:t,clearDiscountCode:n})=>{const r="discount-code-banner",s=ut(),{trackEvent:a}=Ne(),{$t:i}=K(),{isMobileStyle:o}=Oe(),[c,u]=f.useState(!1),[d,h]=f.useState(null),{openVisitorLoginUpsell:m}=Gr({enabled:!s}),{navigateToPayment:p}=ase(),g=rt.DISCOUNT_CODE_BANNER;f.useEffect(()=>{a("promo code banner shown",{discountCode:t})},[a,t]);const v=f.useCallback(()=>{const b=new URL(window.location.href);b.searchParams.delete("discount_code"),E3(Object.fromEntries(b.searchParams)),n()},[n]),y=f.useCallback(async()=>{if(a("promo code banner clicked",{discountCode:t}),!c){if(d){v(),h(null);return}if(s){if(u(!0),a("get started button clicked from discount banner",{tier:"monthly"}),await p({origin:g,discountCode:t,tier:"monthly"})){n();return}a("pro checkout started",{subscriptionTier:"pro",origin:g,discountCode:t??"",referralCode:"",tier:"monthly",flowType:"stripe_checkout"}),y8({request:{subscriptionTier:"pro",tier:"monthly",referralCode:"",discountCode:t,origin:g,locale:ao()},reason:r}).then(b=>{b?.url?oo(b.url,"Discount code banner checkout"):(b?.errorCode==="PROMO_CODE_CUSTOMER_NOT_FIRST_TIME"?h(i({defaultMessage:"This code is only valid for first-time customers. Click to dismiss.",id:"xTWJg0ueMJ"})):h(i({defaultMessage:"There was an error with your code. Please double-check your code and click to try again.",id:"CdOiX2ylN6"})),u(!1))})}else m({title:i({defaultMessage:"Get started with your Pro discount",id:"XTa2YrANRF"}),origin:g})}},[i,n,t,d,c,s,p,m,g,a,v]),x=b=>{v(),b.preventDefault()};return l.jsx(h1,{onClick:y,isLoading:c,icon:d?Bqe.faExclamationTriangle:Hqe.faGift,variant:d?"bad":"good",title:d||e,isMobileStyle:o,onClose:x})};var vC={},AH;function eat(){return AH||(AH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="gift",r=512,s=512,a=[127873],i="f06b",o="M190.5 68.8L225.3 128l-1.3 0-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40zM32 288l0 176c0 26.5 21.5 48 48 48l144 0 0-224L32 288zM288 512l144 0c26.5 0 48-21.5 48-48l0-176-192 0 0 224z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faGift=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(vC)),vC}var tat=eat();const nat="back_to_school_winner",_ve="EDUFREEYEAR";var yC={},jH;function _Ut(){return jH||(jH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="circle-check",r=512,s=512,a=[61533,"check-circle"],i="f058",o="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCircleCheck=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(yC)),yC}const rat=f.memo(({className:e,innerClassName:t,gridClassName:n,children:r,fadeOut:s,dotClassName:a,highlightClassName:i,animate:o=!0})=>{const[d,{width:h,height:m}]=hc(),[p,g]=f.useState([]),[v,y]=f.useState(0),[x,b]=f.useState(0),w=f.useRef(null),_=f.useRef(new Set),C=f.useCallback(()=>{const k=Math.floor(Math.random()*v)+1,E=Math.floor(Math.random()*x)+1,M=`${k}-${E}`;if(_.current.has(M))return;const N={col:k,row:E,id:M,duration:Math.floor(Math.random()*1001)+1e3,isSuper:Math.floor(Math.random()*5)%5===0};g(R=>{const A=[N,...R];if(A.length>20){const P=A.pop();P&&_.current.delete(P.id)}return _.current.add(M),A})},[v,x]);f.useEffect(()=>{if(o)return w.current=setInterval(C,100),()=>{w.current&&clearInterval(w.current)}},[C,o]),f.useEffect(()=>{y(Math.floor(h/22)),b(Math.floor(m/22))},[h,m,22]);const S=s?{maskImage:"radial-gradient(black, transparent)"}:void 0;return l.jsxs("div",{className:U("bg-background-100 dotGridContainer pointer-events-none relative isolate",e),ref:d,children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",style:S,children:[l.jsx("div",{className:U("dotHighlightGrid bg-text/20 absolute inset-0",i),children:p.map(k=>l.jsx(sat,{item:k,className:a},k.id))}),l.jsx("div",{className:U("dotGrid absolute inset-0",n)})]}),l.jsx("div",{className:U("relative",t),children:r})]})}),sat=f.memo(({item:e,className:t})=>l.jsx("div",{className:U("gridDot text-text",t,{highlight:e.isSuper}),style:{gridColumn:e.col,gridRow:e.row,animationDuration:`${e.duration}ms`}}));function Cve(){return C3("pplx.partner_banner",null,{initializeWithValue:!1})}function Sve(){return C3("pplx.partner_discount_code",null,{initializeWithValue:!1})}const xC=({partnerCode:e,partnerDiscountCode:t,bannerVariant:n})=>{const{$t:r}=K(),s=Dt(),{hasActiveSubscription:a}=At(),i=e==="edu"&&t===_ve?!1:a,[,,o]=Cve(),[,,c]=Sve(),[u,d]=f.useState(!1),{isMobileStyle:h}=Oe(),{data:m}=at({queryKey:["partner",e],queryFn:()=>fetch(`/api/subscription/config?partnerCode=${e}`).then(C=>C.json())}),p=Rt();if(!e)return null;const g=m?.messages??Mte,v=i?r({defaultMessage:"Welcome to Perplexity Pro",id:"dcD7kilsgv"}):g?.bannerMessage??"",y=i?r({defaultMessage:"Learn More",id:"7DIW6+rckr"}):e.startsWith("edu")?r({defaultMessage:"Redeem Now",id:"EiBCDsh1sP"}):r({defaultMessage:"Get Started",id:"9QXm1EW9qz"}),x=i?void 0:tat.faGift,b=i?`/join/p/${e}/welcome`:s&&t?`/join/p/${e}/${t}`:`/join/p/${e}`,w=C=>{o(),c(),C.preventDefault()},_=()=>{u||(d(!0),p.push(b))};return m?.maskPromoCodeFromQueryParams?null:l.jsx(h1,{icon:x,isMobileStyle:h,title:v,actionLabel:y,onClick:_,isLoading:u,variant:n??"good",onClose:w})},aat="Welcome Ramp members. Your 6 month Perplexity Pro free trial starts now!",iat="Welcome ATT Employees.  Your complimentary 1-year subscription starts now!",oat="Welcome AWS Employees.  Your complimentary 1-year subscription starts now!",lat="Welcome r1 owners.  Your complimentary 1-year Perplexity Pro subscription starts now!",cat="Welcome UT Staff.  Your complimentary 1-year Perplexity Pro subscription starts now!",uat="Welcome Databricks team.  Your complimentary 1-year Perplexity Pro subscription starts now!",dat="Welcome SRA team. Your complimentary 1-year Perplexity Pro subscription starts now!",fat="Welcome HBS Tech Conference Attendees.  Your complimentary 6 month Perplexity Pro subscription starts now!",hat="Welcome HBS Tech Conference Attendees.  Your complimentary 1 year Perplexity Pro subscription starts now!",mat="Welcome Friends!  Your complimentary 1-year Perplexity Pro subscription starts now!",pat="Welcome Inkitt Writers!  Your complimentary 1-year subscription to Perplexity Pro starts now!",gat="Welcome Time team!  Your complimentary 1-year subscription to Perplexity Pro starts now!",vat="Welcome T-Mobile team!  Your complimentary 1-year subscription to Perplexity Pro starts now!",yat="Welcome Cavs team! Your complimentary 1-year Perplexity Pro subscription starts now!",xat="Welcome Nothing owners. Your complimentary 6-month Perplexity Pro subscription starts now!",bat="Welcome Nothing owners. Your complimentary 6-month Perplexity Pro subscription starts now!",wat="Welcome Nothing owners. Your complimentary 1-year Perplexity Pro subscription starts now!",_at="Welcome Nothing owners. Your complimentary 1-year Perplexity Pro subscription starts now!",Cat="Welcome HooHacks Community. Your 1-year Perplexity Pro free trial starts now!",Sat="Welcome NJ ED Community. Your 1-year Perplexity Pro free trial starts now!",Eat="Welcome Copy AI customers! Your 6-month complimentary Perplexity Pro subscription starts now!",kat="Welcome Raycast users! Your 6-month complimentary Perplexity Pro subscription starts now!",Mat="Welcome Raycast users! Your 3-month complimentary Perplexity Pro subscription starts now!",Tat="Welcome Deutsche Telekom!  Your complimentary 1-year Perplexity Pro subscription starts now!",Nat="Welcome friend of Perplexity! Your complimentary 1-year Perplexity Pro subscription starts now.",Rat="Welcome UTA team! Your complimentray 1-year Perplexity Pro subscription starts now.",Aat="Willkommen Deutsche Telekom Kunde! Sie erhalten dank Magenta Moments ein kostenloses 1-Jahres-Abonnement für Perplexity Pro.",jat="Welcome! Your complimentary 1-year Perplexity Pro subscription starts now.",PH={RAMP:aat,FREEATT:iat,FREEAWS:oat,RABBIT:lat,FREEUT:cat,FREEDATABRICKS:uat,FREESRA:dat,HBSTECH:fat,HBSSTAFF:hat,FREENEWSROOM:mat,FREEINKITT:pat,FREETIME:gat,FREETMOBILE:vat,"11LABS":"Welcome! Your complimentary 3-month subscription to Perplexity Pro starts now!",FREECAVS:yat,NOTHING6:xat,FREENOTHING6:bat,NOTHING1:wat,FREENOTHING1:_at,HOOHACKS:Cat,NJED:Sat,COPYAI:Eat,RAYCAST6:kat,RAYCAST3:Mat,FREEMAGENTALOVE:Tat,FREEPPLXVIP:Nat,FREEUTA1:Rat,DT:Aat,MY:jat},oy="pplx.discount_code",bC="pplx.discount_code_expiry",Eve=()=>{const[e,t]=f.useState(null),[n,r]=f.useState(null),s=Rt(),a=An(),i=Lt(),o=a?.get("discount_code"),{$t:c}=K(),u=Array.isArray(o)?o[0]:o,[d,h]=f.useState(u||null),{hasAccessToProFeatures:m}=At(),p=f.useCallback(()=>{Ue.removeItem(oy),Ue.removeItem(bC),r(null),t(null)},[]),g=f.useCallback(()=>{p(),h(null)},[p]),v=f.useCallback(()=>{if(n&&e)return;const b=Ue.getItem(oy);b?.startsWith("REPLIT")?(t("/static/images/replit.svg"),r("/static/images/replit_dark.svg")):b?.startsWith("BREX")?(t("/static/images/brex.svg"),r("/static/images/brex_dark.svg")):(r(null),t(null))},[n,e]),y=f.useCallback(()=>{const b=Ue.getItem(oy),w=Ue.getItem(bC);if(m){p();return}if(!(!b&&!u)){if(w&&new Date(w)<new Date){p();return}if(!b||u&&u!==b){const _=new Date;_.setDate(_.getDate()+2),Ue.setItem(oy,String(u)),Ue.setItem(bC,_.toString()),h(String(u)),v(),i==="/pro"&&s.push("/",void 0,"Pro page");return}if(b){h(b),v();return}}},[u,v,m,i,p,s]),x=f.useCallback(b=>{for(const w in PH)if(b&&b.startsWith(w))return PH[w];return c({defaultMessage:"Redeem your promo code {discountCode}. Get started",id:"Vapo/CiOwF"},{discountCode:b})},[c]);return f.useEffect(()=>{y()},[u,y]),f.useMemo(()=>({discountCode:d,setDiscountCode:h,partnerLogoDark:n,partnerLogoLight:e,message:x(d??""),clearDiscountCode:g}),[g,d,x,n,e])},Pat=({reason:e})=>{const{$t:t}=K(),{data:n,isLoading:r}=at({queryKey:kqe(),queryFn:()=>Qnt({reason:e})}),s=!!n?.institution;let a=n?.offer?.discount_str??void 0;!a&&s&&(a=t({defaultMessage:"$4.99",id:"ngR/pJs1LV"}));const i=n?.offer?.discount_type??void 0;return f.useMemo(()=>({userPromotionsLoading:r,discountPrice:a,discountType:i,showStudentDiscountContent:s,campaignId:n?.campaign?.id,institution:n?.institution}),[n?.campaign?.id,n?.institution,a,i,r,s])};var _8=(e=>(e.NONE="none",e.ACTIVE="active",e.TRIALING="trialing",e.PAST_DUE="past_due",e.INVOICE_PAST_DUE="invoice_past_due",e.WHITE_GLOVE_PAST_DUE="white_glove_past_due",e.CANCELED="canceled",e))(_8||{});const Iat="https://www.perplexity.ai/hub/blog/eligible-uber-one-members-can-now-unlock-a-complimentary-full-year-of-perplexity-pro",Oat=()=>{const{$t:e}=K(),t=Rt(),{isMobileStyle:n}=Oe(),[r,s]=f.useState(!1),a=()=>{r||(s(!0),t.push(Iat))};return l.jsx(h1,{variant:"good",title:e({defaultMessage:"{uberOne} members in the United States and Canada can redeem one free year of {perplexityPro}",id:"jo9fEuRnKx"},{uberOne:"Uber One",perplexityPro:"Perplexity Pro"}),onClick:a,isLoading:r,isMobileStyle:n})},Lat=e=>["/onboarding/org/create"].includes(e),Dat="gov_free_year";function Fat(){const e="app-banner-inner",{isMobileUserAgent:t}=Oe(),{message:n,discountCode:r,clearDiscountCode:s}=Eve(),{hasAccessToProFeatures:a}=At(),[i]=Cve(),[o]=Sve(),c=Lt(),{organization:u,orgUser:d}=Gt({reason:e}),h=[_8.NONE,_8.PAST_DUE],m=u?.stripe_status&&h.includes(u.stripe_status),p=d?.role==="ADMIN",g=An(),v=Pat({reason:e}),y=v.campaignId===nat,x=v.campaignId===Dat;return p&&m&&!Lat(c??"")&&!t?l.jsx(Dqe,{orgStripeStatus:u?.stripe_status}):/(^\/$)|(^\/search)/.test(c??"")&&i?l.jsx(xC,{partnerCode:i,partnerDiscountCode:o}):r&&!a&&!i?l.jsx(Jst,{message:n,discountCode:r,clearDiscountCode:s}):g?.get("utm_campaign")==="morningbrew_083024"&&g?.get("utm_source")==="newsletter"?l.jsx(Oat,{}):y?l.jsx(xC,{partnerCode:"edu",partnerDiscountCode:_ve,bannerVariant:"backToSchoolOrange"}):x&&!a?l.jsx(xC,{partnerCode:"gov",partnerDiscountCode:"GOVFREEYEAR"}):null}const zf=72,i0=200,kve=f.createContext(void 0),kl=()=>{const e=f.useContext(kve);if(!e)throw new Error("useAppLayout must be used within an AppLayoutProvider");return e},Uat=({children:e})=>{const[t,n]=f.useState(!1);return jze(),l.jsx(kve.Provider,{value:{isMobileSidebarOpen:t,setMobileSidebarOpen:n},children:e})},Bat=({children:e,ref:t})=>l.jsx(Uat,{children:l.jsx(H,{variant:"offset",children:l.jsx("div",{className:"isolate flex h-[100dvh]",ref:t,children:e})})}),$at=({children:e})=>{const{isMobileStyle:t}=Oe({evaluateOnInit:!0});return t?l.jsx(Nze,{children:e}):l.jsx(l.Fragment,{children:e})},Hat=({children:e,fillHeight:t=!0,hasSidebar:n,ref:r})=>{const{isSidebarPinned:s}=on(),{isMobileStyle:a}=Oe({evaluateOnInit:!0}),i=Lt(),o=n&&!nre(i),c=s&&!a&&o,u=tl();return l.jsxs(ke.div,{initial:{paddingLeft:c?i0:0},animate:{paddingLeft:c?i0:0},transition:{duration:.2,ease:qn},className:U("erp-tab:p-0 md:gap-xs erp-tab:gap-0 lg:py-sm lg:pr-sm isolate flex h-auto max-h-screen min-w-0 grow flex-col"),ref:r,children:[l.jsx(zR,{inRenderingPlace:"sidecar",children:l.jsx(Fat,{})}),l.jsxs(H,{variant:"background",className:"@container/main erp-tab:rounded-none erp-tab:shadow-none erp-tab:shadow-left-sm relative isolate flex-1 overflow-clip bg-clip-border shadow-sm lg:rounded-lg",children:[l.jsx("div",{className:U("max-w-screen md:max-w-auto mx-auto flex w-full flex-col",{"h-full":t}),children:e}),l.jsx(H,{className:U("rounded-inherit pointer-events-none absolute inset-0 z-20 hidden md:dark:block",o&&"md:erp-tab:!border-y-0 md:erp-tab:!border-r-0",!u&&"md:dark:border")})]})]})},T3=({children:e,childrenWidth:t,containerClassName:n=""})=>{const r=is(t).with("small",()=>"max-w-screen-sm px-md md:px-lg").with("default",()=>"max-w-screen-md px-md md:px-lg").with("static",()=>"max-w-screen-lg px-md py-lg md:px-xl").with("large",()=>"max-w-threadWidth px-md md:px-lg").with("none",()=>"max-w-none").otherwise(()=>"max-w-screen-md px-md md:px-lg"),s=f.useRef(null);return l.jsx(Kze,{scrollContainerRef:s,children:l.jsx("div",{ref:s,className:"scrollable-container scrollbar-subtle flex flex-1 basis-0 overflow-auto [scrollbar-gutter:stable]",children:l.jsx("div",{className:U("mx-auto size-full",r,n),children:e})})})},Wat=({children:e,mobileHeader:t=!0})=>{const{isMobileStyle:n}=Oe();return l.jsxs(l.Fragment,{children:[l.jsx("div",{children:t&&n&&l.jsx(Rze,{})}),e]})},Mve=f.createContext(null),zat=({children:e})=>{const t=f.useRef(null),n=f.useRef(!1),r=Lt(),{isWindowsApp:s}=Nt(),[a,i]=f.useState(!1),o=!!(s&&r?.includes(ch)),c=f.useCallback(async()=>{const p=await c8({ref:t.current});i(p);const g=()=>i(!0),v=()=>i(!1);return Sp("show",g,{ref:t.current}),Sp("hide",v,{ref:t.current}),()=>{try{t.current&&(u8("show",{ref:t.current}),u8("hide",{ref:t.current}))}catch(y){Q.warn("Error removing window listeners during cleanup",y)}}},[t]),u=f.useCallback(async()=>{if(n.current)return Q.info("Already creating window, skipping"),!1;if(t.current)try{return await c8({ref:t.current}),Q.info("Existing window is still valid, skipping creation"),!0}catch{Q.warn("Existing window reference is invalid, will create new window"),t.current=null}try{Q.info("Starting panel window creation"),n.current=!0;const p=await vZe({width:720,height:350,transparent:!0,show:!1,frame:!1,alwaysOnTop:!0,type:"panel"});if(!p)throw new Error("Failed to create window - no window reference returned");const g=await wZe({ref:p});if(!g)throw new Error("Failed to get web contents");const v=await kZe({webPreferences:{nodeIntegration:!0,contextIsolation:!1}});if(!v)throw new Error("Failed to create view");await yZe({ref:p,viewRef:v});const y=new URL(ch,window.location.origin).toString();await MZe({ref:g},y),t.current=p;const x=await c();if(x){const b=t.current;Sp("close",x,{ref:b})}return Sp("close",()=>{},{ref:p,preventDefault:!0}),!0}catch(p){return Q.error("Error creating panel window: ",p),t.current=null,!1}finally{n.current=!1}},[c]),d=f.useCallback(async()=>{try{if(!t.current)return Q.info("No panel window to hide"),!1;try{return await bZe({ref:t.current}),!0}catch(p){return Q.warn("Error hiding panel, window may be invalid",p),t.current=null,!1}}catch(p){return Q.warn("Error in hidePanel: ",p),!1}},[]),h=f.useCallback(async()=>{try{if(t.current){if(a){Q.info("Panel window is already visible, skipping centering");return}}else if(!await u())return;const p=await SZe(),g=(await EZe(p)).bounds,[v,y]=await xZe({ref:t.current});await _Ze({ref:t.current},Math.round(g.x+(g.width-v)/2),Math.round(g.y+g.height*.3)),await UA({ref:t.current}),await FA({ref:t.current})}catch(p){Q.warn("Error showing panel: ",p)}},[u,a]),m={isVisible:a,isWindowsAppPanelView:o,handleShowPanel:h,hidePanel:d,createPanelWindow:u};return l.jsx(Mve.Provider,{value:m,children:e})},dm=()=>{const e=f.useContext(Mve);if(!e)throw new Error("useWindowsAppPanel must be used within a WindowsAppPanelProvider");return e},C8="keyboard-shortcuts",Vat=(e,t)=>{const n={[Lr.NEW_THREAD]:{[pn.MACOS]:[],[pn.WINDOWS]:[]},[Lr.STOP_GENERATING]:{[pn.MACOS]:[],[pn.WINDOWS]:[]},[Lr.TOGGLE_INCOGNITO]:{[pn.MACOS]:[],[pn.WINDOWS]:[]},[Lr.SHOW_SHORTCUTS]:{[pn.MACOS]:[],[pn.WINDOWS]:[]},[Lr.FOCUS_ASK_INPUT]:{[pn.MACOS]:[],[pn.WINDOWS]:[]},[Lr.TOGGLE_DICTATION]:{[pn.MACOS]:[],[pn.WINDOWS]:[]},[Lr.TOGGLE_V2V]:{[pn.MACOS]:[],[pn.WINDOWS]:[]}},r=Gse(e,t);[Lr.NEW_THREAD,Lr.TOGGLE_V2V].forEach(s=>{const a=r.find(i=>i.type===s);a&&(n[s]={[pn.MACOS]:a.macos,[pn.WINDOWS]:a.windows})});try{const s=Ue.getItem(C8);if(s){const a=JSON.parse(s);[Lr.NEW_THREAD,Lr.TOGGLE_V2V].forEach(i=>{const o=a.find(c=>c.type===i);o&&(n[i]={[pn.MACOS]:o.macos,[pn.WINDOWS]:o.windows})})}}catch(s){Q.warn("Error reading keyboard shortcuts:",s)}return n},Gat=(e,t)=>bi(n=>({globalShortcuts:Vat(e,t),setShortcut:(r,s,a)=>n(i=>{const o={...i.globalShortcuts,[r]:{...i.globalShortcuts[r],[s]:a}};try{const c=Ue.getItem(C8),d=(c?JSON.parse(c):[]).map(h=>h.type===r?{...h,[s]:a}:h);Ue.setItem(C8,JSON.stringify(d))}catch(c){Q.warn("Error saving keyboard shortcuts:",c)}return{globalShortcuts:o}})}));let wC=null;const S8=e=>{const{isWindowsApp:t}=Nt(),n=K();return wC||(wC=Gat(n,t)),wC(e)},Tve=T.memo(({collapsed:e})=>{const{$t:t}=K(),{isMacOS:n,isWindowsApp:r}=Nt(),{handleShowPanel:s}=dm(),{shouldShowLossAversionModal:a,handleOpenLossAversion:i}=w1(),o=Rt(),c=S8(p=>p.globalShortcuts[Lr.NEW_THREAD]),u=n?pn.MACOS:pn.WINDOWS,d=f.useMemo(()=>c[u],[u,c]),h=f.useMemo(()=>d.map(p=>PQe(p)),[d]),m=f.useCallback(()=>{r?s():a?i({args:{callback:()=>{o.push("/",void 0,"New thread loss aversion")},origin:rt.NEW_THREAD_BUTTON}}):o.push("/",void 0,"New thread button")},[r,a,s,i,o]);return l.jsx("div",{onClick:m,className:e?"-mb-sm py-lg":"pt-sm",children:e?l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(ye,{tooltipLayout:"right",icon:Tr,pill:!0,toolTip:t({defaultMessage:"New Thread",id:"76XSxT3hV8"})})}):l.jsx("div",{className:"ml-xs",children:l.jsxs(H,{variant:"background",className:"mx-md py-sm pl-md pr-sm hover:ring-super group flex flex-none cursor-pointer select-none items-center justify-between rounded-full border ring-1 ring-transparent transition duration-200",children:[l.jsx(j,{variant:"smallBold",color:"light",className:"line-clamp-1 overflow-hidden text-clip",children:t({defaultMessage:"New Thread",id:"76XSxT3hV8"})}),l.jsx(j,{variant:"tiny",color:"light",className:"flex items-center gap-0 whitespace-nowrap",children:h.map(p=>l.jsx(H,{className:U("flex items-center justify-center rounded border font-mono",{"text-xs":p!=="⌘","px-xs h-4 min-w-4":h.length<=2,"px-xs h-3.5 min-w-3.5":h.length===3}),children:p},p))})]})})})});Tve.displayName="NewThreadButton";const fm=T.memo(({size:e,inverse:t})=>l.jsx(H,{variant:"background",className:U("w-lg text-textMain flex aspect-square shrink-0 items-center justify-center rounded-full border",{"!w-[24px]":e==="small","!w-[16px]":e==="tiny"},{"!bg-inverse !text-inverse border-0":t}),children:l.jsx("svg",{width:e==="tiny"?"12":e==="small"?"16":"24",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1927 4.54688C11.4375 4.71875 11.651 4.86458 12 4.86458C12.3453 4.86458 12.5529 4.72184 12.7993 4.55235L12.8073 4.54688L12.8084 4.54609C13.152 4.31187 13.5635 4.03125 14.5 4.03125C16.0885 4.03125 17.2083 6.30729 17.9375 8.6875C20.401 9.14062 22 9.875 22 10.6979C22 11.4427 20.6979 12.1094 18.6354 12.5677C18.6562 12.776 18.6667 12.9844 18.6667 13.1979C18.6667 14.0833 18.4948 14.9271 18.1823 15.6979H18.1965C17.2165 18.1697 14.8115 19.9169 12 19.9169C9.18854 19.9169 6.78355 18.1697 5.80356 15.6979H5.81771C5.50521 14.9271 5.33333 14.0833 5.33333 13.1979C5.33333 12.9844 5.34375 12.776 5.36458 12.5677C3.30208 12.1094 2 11.4427 2 10.6979C2 9.875 3.59896 9.14062 6.0625 8.6875C6.79167 6.30729 7.91146 4.03125 9.5 4.03125C10.4365 4.03125 10.848 4.31187 11.1916 4.54609L11.1927 4.54688ZM14.2708 15.6979H14.9167C16.0677 15.6979 17 14.7656 17 13.6146V12.8646C15.5312 13.0781 13.8229 13.1979 12 13.1979C10.1771 13.1979 8.46875 13.0781 7 12.8646V13.6146C7 14.7656 7.93229 15.6979 9.08333 15.6979H9.73437C10.5885 15.6979 11.3542 15.1458 11.625 14.3333C11.7448 13.9687 12.2604 13.9687 12.3802 14.3333C12.651 15.1458 13.4115 15.6979 14.2708 15.6979Z",fill:"currentColor"})})}));fm.displayName="IncognitoIcon";var _C={},IH;function qat(){return IH||(IH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="building",r=384,s=512,a=[127970,61687],i="f1ad",o="M48 0C21.5 0 0 21.5 0 48L0 464c0 26.5 21.5 48 48 48l96 0 0-80c0-26.5 21.5-48 48-48s48 21.5 48 48l0 80 96 0c26.5 0 48-21.5 48-48l0-416c0-26.5-21.5-48-48-48L48 0zM64 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm112-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM80 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM272 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faBuilding=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(_C)),_C}var Kat=qat();const Yat="#FF3B30",ij=T.memo(({text:e,variant:t})=>{const{openModal:n}=St(),{trackEvent:r}=Ne(),[s,a]=f.useState(!1),i=ER();f.useEffect(()=>{a(i>5&&!qg())},[i]);const o=f.useCallback(()=>{$w(),r("homepage footer download menu opened",{}),n("platformOptionsModal")},[n,r]),c=f.useMemo(()=>l.jsxs("div",{className:"relative ml-auto",children:[l.jsx(_e,{icon:HN,className:"size-4"}),s&&l.jsx("div",{className:U("absolute size-2 rounded-full",{"-right-1 -top-1":t!=="iconOnly","-right-sm -top-sm ring-offset ring-2":t==="iconOnly"}),style:{backgroundColor:Yat}})]}),[s,t]);return l.jsx(ye,{size:"small",text:t==="iconOnly"?void 0:e,trailingComponent:c,pill:t==="iconOnly",fullWidth:t!=="iconOnly",onClick:o})});ij.displayName="SideDownloadPrompt";const Fi="/account",xa={Account:{href:`${Fi}/details`},ProPerks:{href:`${Fi}/pro-perks`},Preferences:{href:`${Fi}/preferences`},Personalize:{href:`${Fi}/personalize`},Connectors:{href:`${Fi}/connectors`},Notifications:{href:`${Fi}/notifications`},Tasks:{href:`${Fi}/tasks`},Shortcuts:{href:`${Fi}/shortcuts`}},Qat=()=>`${Fi}/details`,hm=()=>Fi,Xat=({isEnterprise:e})=>{const t="enterprise-or-social",{$t:n}=K(),{organization:r,isLoading:s}=Gt({reason:t}),{isWindowsApp:a}=Nt(),i=hm();return s&&!a?l.jsx(hs,{className:"p-sm divide-borderMain/50 border-borderMain/50 ring-borderMain/50 dark:divide-borderMainDark/50 dark:border-borderMainDark/50 dark:ring-borderMainDark/50 h-14 border-t",children:l.jsx("div",{className:"bg-background-300 h-8 w-full rounded-md"})}):l.jsxs("div",{className:e||!a?"h-14 items-stretch":"",children:[e&&l.jsx(H,{className:"p-sm h-full border-t",children:l.jsx(it,{href:e?`${i}/org`:"",children:l.jsxs(H,{className:"gap-sm p-sm flex cursor-pointer items-center rounded-full",bgHover:"offsetPlus",children:[r?.logo?l.jsx(Sn,{size:"small",user:r?.logo,altText:"Logo"}):l.jsx(j,{children:l.jsx(gt,{icon:Kat.faBuilding})}),l.jsx(j,{variant:"smallBold",className:"line-clamp-1 grow",children:r?.display_name})]})})}),!e&&!a&&l.jsx(H,{className:"p-sm border-t",children:l.jsx(ij,{text:n({defaultMessage:"Download",id:"5q3qC0sC3r"})})})]})};var CC={},OH;function Zat(){return OH||(OH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="check",r=448,s=512,a=[10003,10004],i="f00c",o="M441 103c9.4 9.4 9.4 24.6 0 33.9L177 401c-9.4 9.4-24.6 9.4-33.9 0L7 265c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l119 119L407 103c9.4-9.4 24.6-9.4 33.9 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCheck=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(CC)),CC}var N3=Zat(),SC={},EC={},LH;function Jat(){return LH||(LH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-question",r=512,s=512,a=[62108,"question-circle"],i="f059",o="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCircleQuestion=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(EC)),EC}var DH;function eit(){return DH||(DH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Jat();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faQuestionCircle=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(SC)),SC}var tit=eit();const R3=T.memo(({showAvatar:e,showCreatorLabel:t,showEdit:n,isCurrentUser:r=!0,textClassName:s="",textColor:a,textVariant:i="smallBold",username:o,image:c,anon:u,avatarSize:d="small",isAlwaysEditing:h=!1,onButtonClick:m=Ln})=>{const{$t:p}=K(),{update:g}=Oa.useSession(),v=Dt(),[y,x]=T.useState(h),[b,w]=T.useState(o??(r?v?.user?.username:"Anonymous")),[_,C]=T.useState(),{isMobileUserAgent:S}=Oe(),k=async()=>fetch("/api/user",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b})}),{mutate:E,isPending:M}=lt({mutationFn:k,onSuccess:O=>{O.json().then(I=>{if(O.status!==200){C(I.message);return}x(!1),C(void 0),g(),m()})}});f.useEffect(()=>{w(o??(r?v?.user?.username:"Anonymous"))},[o,r,v?.user?.username]);const N=f.useCallback(()=>x(!0),[]),R=f.useCallback(()=>E(),[E]),A=f.useCallback(()=>{w(v?.user?.username??""),h||x(!1),m()},[h,m,v?.user?.username]),P=f.useMemo(()=>v?l.jsxs("div",{className:"ml-sm gap-x-xs flex items-center",children:[l.jsx(ye,{text:p({defaultMessage:"Save",id:"jvo0vs3nF0"}),variant:b===v.user.username||b===""||M?"common":"primary",size:"small",disabled:b===v.user.username||b===""||M,onClick:R}),l.jsx(ye,{text:p({defaultMessage:"Cancel",id:"47FYwba+bI"}),size:"small",disabled:M,onClick:A})]}):null,[p,A,R,M,v,b]);return l.jsxs("div",{className:"gap-x-xs relative flex items-center",children:[e&&l.jsx(Sn,{size:d,anon:u,user:c??(r?v?.user.image??void 0:void 0)}),y?l.jsx("div",{children:l.jsx(ko,{isMobileUserAgent:S,value:b,disabled:M,errorText:_??(b===""?"Username cannot be empty":""),onChange:w,className:"md:min-w-[300px]",inlineEditBlock:P})}):l.jsx(j,{variant:i,color:a,className:U("line-clamp-1 break-all",s),children:u?"Anonymous":b}),t&&l.jsx(H,{variant:"offset",className:"px-sm py-xs rounded-full",children:l.jsx(j,{variant:"tiny",color:"light",className:s,children:"Author"})}),n&&!y&&l.jsx(ze,{pill:!0,size:"small",icon:vd,onClick:N})]})});R3.displayName="Username";const Nve=({session:e,onClick:t})=>{const n="sidebar-incognito-menu",{$t:r}=K(),s=ha({reason:n}),{actions:a}=on(),{hasAccessToProFeatures:i,isPro:o,isMax:c}=At(),u=f.useCallback(()=>{a.setIsIncognito(!1),t()},[a,t]),d=f.useCallback(()=>{a.setIsIncognito(!0),t()},[a,t]);return l.jsxs("div",{className:"w-sideBarWidth flex flex-col items-stretch",children:[l.jsx(FH,{onClick:u,icon:l.jsx("div",{className:`relative inline-flex ${i?"-top-[2px]":""}`,children:l.jsx(Sn,{size:"medium",user:e?.user?.image,showProBadge:o,showMaxBadge:c,className:"!text-inverse",showBackground:!1})}),label:l.jsx("div",{className:"gap-sm flex items-center",children:l.jsx(R3,{username:e?.user?.username})}),selected:!s},"user"),l.jsx(FH,{onClick:d,icon:l.jsx(fm,{inverse:!0}),label:r({defaultMessage:"Incognito",id:"Sp8UUpZ0at"}),selected:s,showTooltip:!0},"incognito")]})},FH=({onClick:e,label:t,selected:n,icon:r,showTooltip:s})=>{const{$t:a}=K();return l.jsxs(H,{as:"button",bgHover:"offset",className:"gap-sm p-sm pr-md flex items-center rounded-md active:scale-[.98]",onClick:e,children:[r,typeof t=="string"?l.jsx(j,{variant:"smallBold",children:t}):t,l.jsx("div",{className:"flex-1"}),n?l.jsx("span",{className:"text-super",children:l.jsx(gt,{icon:N3.faCheck,size:"sm"})}):s&&l.jsx(Dn,{className:"max-w-[280px]",tooltipText:a({defaultMessage:"Create anonymous threads that don't appear in your library and expire after 24 hours.",id:"BBjMWPmxC0"}),keyboardShortcut:UJ?["⌘",";"]:["ctrl",";"],tooltipLayout:"right",asChild:!0,children:l.jsx(j,{color:"light",className:"opacity-50 duration-150 hover:opacity-100",children:l.jsx(gt,{icon:tit.faQuestionCircle,size:"sm"})})})]})},nit=({children:e})=>{const[t,n]=f.useState(!1),r=Dt(),s=()=>{n(!1)};return l.jsx(Sl,{childrenClassName:"inline-flex min-w-0",placement:"top-start",isOpen:t,onOpen:()=>{n(!0)},onClose:()=>{n(!1)},content:l.jsx(Nve,{session:r,onClick:s}),children:e})},rit="pplx.first-purchase-tooltip",sit=({imageProps:e,title:t,description:n,buttonText:r,buttonVariant:s,onClick:a,onDismiss:i,useBackgroundImage:o=!1,buttonSize:c="small"})=>{const{image:u,imageAlt:d,imageHeight:h,imageWidth:m,imageClassName:p,imageIsRoundedFull:g}=e;return l.jsx("div",{className:"m-1",children:l.jsxs(H,{variant:o?"offsetPlus":"background",className:U("relative",o?"mx-md p-md animate-in fade-in rounded-[12px] border duration-300 ease-out":"mx-sm rounded-lg p-[10px]"),children:[o&&l.jsxs(l.Fragment,{children:[l.jsx("img",{src:NLe,alt:IF,className:"absolute inset-0 rounded-[12px] object-cover dark:hidden"}),l.jsx("img",{src:RLe,alt:IF,className:"light:hidden absolute inset-0 rounded-[12px] object-cover"})]}),l.jsx("img",{src:u,alt:d,className:U("mb-md",g?"rounded-full":"rounded",p),height:h,width:m}),l.jsx(j,{variant:"smallBold",className:"mb-xs text-center",children:t}),l.jsx(j,{color:"light",variant:"small",className:"mb-md text-center leading-tight",children:n}),l.jsx("div",{className:"w-full",children:l.jsx(ye,{fullWidth:!0,text:r,variant:s,size:c,onClick:a})}),i&&l.jsx("div",{className:"right-xs top-xs absolute",children:l.jsx(ze,{icon:tn,size:"small",onClick:i})})]})})},Rve=T.memo(()=>{const e=K(),{trackEvent:t}=Ne(),n=Rt(),{actions:r}=on(),s=hm(),a=f.useCallback(()=>{r.setIsSidebarConnectorsAdDismissed(!0),t("sidebar connectors upsell clicked",{}),n.push(`${s}/connectors`)},[r,t,n,s]),i=f.useCallback(()=>{t("sidebar connectors upsell dismissed",{}),r.setIsSidebarConnectorsAdDismissed(!0)},[r,t]),o=f.useMemo(()=>({image:OLe,imageAlt:"Sidebar connectors showcase image",imageHeight:128,imageWidth:128,imageClassName:"mx-auto mt-md"}),[]);return l.jsx(sit,{imageProps:o,title:e.formatMessage({defaultMessage:"Connect your files",id:"tQyDiwqfQw"}),description:"",buttonText:e.formatMessage({defaultMessage:"Get started",id:"/aBLH2Kytu"}),buttonVariant:"primary",buttonSize:"regular",onClick:a,onDismiss:i,useBackgroundImage:!0})});Rve.displayName="SidebarConnectorsAd";const ait=()=>{const{$t:e}=K(),{actions:t}=on(),{isEnterpriseAdDismissed:n}=on(),{handleSidebarAdClick:r}=Qre();return n?null:l.jsxs(H,{className:"px-md pb-sm",children:[l.jsxs("div",{className:"gap-x-xs flex items-center justify-between",children:[l.jsx(j,{variant:"smallBold",className:"inline",children:l.jsx(it,{onClick:r,className:"hover:text-super duration-300",children:e({defaultMessage:"Invite your teammates",id:"P1ZqgVAx88"})})}),l.jsx("div",{className:"-mr-sm",children:l.jsx(ze,{ariaLabel:e({defaultMessage:"Close",id:"rbrahOGMC3"}),icon:tn,size:"small",pill:!0,onClick:()=>t.setIsEnterpriseAdDismissed(!0)})})]}),l.jsx(j,{color:"light",variant:"small",className:"-mt-xs",children:e({defaultMessage:"Want to use Perplexity with your team or business?",id:"6vISFfmj6M"})}),l.jsx("div",{className:"mt-sm gap-x-sm flex",children:l.jsx(ye,{size:"small",onClick:r,fullWidth:!0,chevron:!0,chevronIcon:Wr,text:e({defaultMessage:"Learn More",id:"7DIW6+rckr"})})})]})},iit=async({stringProperties:e,headers:t,reason:n})=>{if(!t["accept-language"])return Q.warn("No accept-language header provided for translation request"),e;const r=await J.POST("/rest/translation/translate",n,{body:{texts:e},headers:{...t}});return r.response.ok?r.data?.translated_texts??[]:(Q.error(`Failed to fetch translations for ${e.join(", ")}}`),[])},oit=e=>e==null||e==="";async function Ave({originalContent:e,keysToTranslate:t,reason:n}){const r=ao();if(r===gc)return e;const s=t.map(i=>e[i]);if(s.some(oit))return e;const a=await iit({stringProperties:s,headers:{"accept-language":r},reason:n});if(a.length===s.length){const i={...e};return t.forEach((o,c)=>{i[o]=a[c]}),i}return e}const lit=()=>{const e="subs-ad",[t,n]=f.useState(!1),{hasActiveSubscription:r}=At(),{trackEvent:s}=Ne(),[a,i]=f.useState({bannerTitleText:"",bannerBodyText:"",bannerButtonText:"",buttonVariant:"common"}),{value:o}=bd({flag:"pro-upsell-banner-customization-flag",subjectType:"user_nextauth_id",defaultValue:{bannerTitleText:"",bannerBodyText:"",bannerButtonText:"",buttonVariant:"common"}});if(f.useEffect(()=>{(async()=>{const m=await Ave({originalContent:o,keysToTranslate:["bannerTitleText","bannerBodyText","bannerButtonText"],reason:e});i(m),n(!0)})()},[o]),f.useEffect(()=>{r||s("sidebar pro upsell viewed",{})},[r,s]),r)return null;const{bannerTitleText:c,bannerBodyText:u,bannerButtonText:d}=a;return!t||!c||!u||!d?null:l.jsxs(H,{className:"px-md pb-sm animate-in fade-in duration-200",children:[l.jsx("div",{children:l.jsx(j,{variant:"smallBold",className:"inline",children:l.jsx(it,{href:"/pro",className:"hover:text-super duration-300",children:c})})}),l.jsx(j,{color:"light",variant:"small",children:u}),l.jsx("div",{className:"mt-xs",children:l.jsx(mve,{text:d,origin:rt.LEFT_HAND_NAV,variant:o.buttonVariant})})]})};function cit({reason:e}){const{organization:t}=Gt({reason:e}),n=t?.uuid??"",{value:r}=Rr({flag:"org-connectors-blocklist",subjectType:"user_nextauth_id",defaultValue:!1,extraAttributes:{orgUuid:n}});return r}const uit=({reason:e})=>{const{organization:t}=Gt({reason:e}),n=t?.settings?.disabled_connectors,r=n?.includes(fn.GOOGLE_DRIVE)&&n?.includes(fn.ONEDRIVE)&&n?.includes(fn.SHAREPOINT);return f.useMemo(()=>({allFileConnectorsDisabled:r,disabledConnectors:n}),[r,n])},dit=()=>{const e="sidebar-ads",{hasAccessToProFeatures:t}=At(),{isEnterprise:n,orgUser:r,isLoading:s}=Gt({reason:e}),a=r?.role==="MEMBER",i=ut(),{hasLoadedSettings:o}=Da({reason:e}),{isSidebarConnectorsAdDismissed:c}=on(),u=cit({reason:e}),{allFileConnectorsDisabled:d}=uit({reason:e});if(s||!o)return null;const h=i&&!a,m=!n&&!s&&t;return n&&t&&!s&&!c&&!u&&!d?l.jsx(Rve,{}):!h&&!m?null:l.jsxs(l.Fragment,{children:[h&&l.jsx(lit,{}),m&&l.jsx(ait,{})]})},fit=T.memo(()=>l.jsx(H,{variant:"offset",className:"inline-flex h-5 items-center rounded px-[6px] py-px",children:l.jsx(j,{color:"light",variant:"micro",className:"translate-y-[0.5px] uppercase tracking-wider",children:l.jsx(ce,{defaultMessage:"Beta",id:"riw/yc06Nq"})})}));fit.displayName="BetaBadge";const hit=T.memo(()=>l.jsx("div",{className:"bg-super dark inline-flex h-5 items-center justify-center rounded px-[6px] py-px",children:l.jsx(j,{color:"white",variant:"tinyRegular",children:l.jsx(ce,{defaultMessage:"New",id:"bW7B87wFFp"})})}));hit.displayName="NewBadge";const mit=({enabled:e,reason:t})=>{const{locale:n}=K(),r=n?{"accept-language":n}:{},s=async()=>bXe({headers:r,reason:t}),a=ut(),{data:i}=at({enabled:a?typeof e>"u"?!0:e:!1,queryKey:Eqe(),queryFn:s,networkMode:"always"});return i??tae},pit={memory_enabled:!1,conversation_history_enabled:!1,citations_enabled:!1},jve=({reason:e})=>{const{isEnterprise:t}=Gt({reason:e}),{value:n,loading:r}=Rr({flag:"memory-experiment",defaultValue:!1,extraAttributes:{isEnterprise:t??!1},subjectType:"user_nextauth_id"}),{value:s,loading:a}=bd({flag:"memory-search-history",defaultValue:pit,extraAttributes:{isEnterprise:t??!1,dependent_flag:"memory-experiment",variation_served:n},subjectType:"user_nextauth_id"});return a||r?!1:"memory_enabled"in s&&"conversation_history_enabled"in s&&"citations_enabled"in s?s?.memory_enabled&&s?.conversation_history_enabled&&s?.citations_enabled:!1},Pve=()=>{const e=Lt();return cn()&&e?.startsWith("/b/home")},git=["/?","/search","/discover"],vit=["/"],oj=e=>e?!vit.some(t=>e===t)&&!git.some(t=>e.startsWith(t)):!0,E8=()=>Nr.getItem("signUpBannerDismissed")!=="true",yit=()=>Nr.setItem("signUpBannerDismissed","true"),xit=()=>Nr.setItem("signUpBannerDismissed","reset"),bit=T.memo(({portalTarget:e})=>{const{$t:t}=K(),[n,r]=f.useState(!1),s=Lt(),{trackEvent:a}=Ne(),{keysRequiringRerender:i,removeKeyRequiringRerender:o,addKeyRequiringRerender:c}=Ic(),u=Pve(),[d,h]=f.useState(""),m=f.useCallback(()=>{h(DA(window.location.href,pd,rt.FLOATING_SIGNUP))},[]);if(f.useEffect(()=>{m()},[m]),f.useEffect(()=>{r(E8())},[]),f.useEffect(()=>{i.includes("floating-signup")&&(r(E8()),m()),o("floating-signup")},[o,i]),f.useEffect(()=>{n&&a("floating sign up shown",{})},[n,a]),oj(s)&&!u||!n)return null;const p=()=>{r(!1),yit(),a("floating sign up dismissed",{}),c("sidebar-sign-in-button")};return l.jsx(m1,{portalTarget:e??void 0,children:l.jsx("div",{className:"bottom-md right-md fixed hidden w-[300px] md:block",children:l.jsx(H,{variant:"offset",className:U("px-md py-lg animate-in fade-in rounded-lg shadow-md duration-300 ease-out"),children:l.jsxs("div",{className:"",children:[l.jsx("div",{className:"absolute right-0 top-0",children:l.jsx(ze,{pill:!0,size:"small",icon:tn,onClick:p,testId:"floating-signup-close-button"})}),l.jsx("div",{className:"pb-md flex justify-center",children:l.jsx(Es,{variant:"mark",color:"super",size:"small"})}),l.jsx(j,{variant:"baseSemi",className:"mb-xs text-center",children:t({defaultMessage:"Sign in or create an account",id:"eN8MTJfuKA"})}),l.jsx(j,{variant:"small",color:"light",className:"text-center",children:t({defaultMessage:"Unlock {proSearch} and History",id:"azC54WXvtr"},{proSearch:"Pro Search"})}),l.jsx("div",{className:"mt-md",children:l.jsx(Dx,{onClose:p,redirectUrl:d,showCloseButton:!1,autoFocus:!1,loginButtonsStyle:"highlightPrimary"})})]})})})})});function lj(){const{value:e}=dr({flag:"shortcut-tasks",defaultValue:!0});return e&&tl()}function _1(){return dr({flag:"tasks-automations-rename",defaultValue:!1})}const ji="default",Ive=({trigger:e,popoverPlacement:t="top-start"})=>{const n=Rt(),[r,s]=f.useState(!1),a=ut(),{hasAccessToProFeatures:i}=At(),o=lj(),{isMaxUpsellEnabled:c}=Lc(),u=jve({reason:"sidebar-bottom-popover"}),{openModal:d}=St(),h=f.useRef(SR().sidebar),{openVisitorLoginUpsell:m}=Gr({enabled:!a}),{isWindowsApp:p}=Nt(),{$t:g}=K(),v=E8(),[y,x]=f.useState(p),[b,w]=f.useState(!1),{keysRequiringRerender:_,removeKeyRequiringRerender:C}=Ic(),S=u&&!h.current&&une(),k=SHe(),{value:E,loading:M}=_1();f.useEffect(()=>{!h.current&&r&&CHe("sidebar",!0)},[r]);const N=f.useMemo(()=>[{icon:qF,show:!0,text:g({defaultMessage:"Account",id:"TwyMauNL3r"}),type:ji,onClick:()=>n.push(xa.Account.href),testId:"sidebar-my-account"},{icon:sM,show:!0,text:g({defaultMessage:"Preferences",id:"PCSt5TwTnx"}),type:ji,onClick:()=>n.push(xa.Preferences.href),testId:"sidebar-preferences"},{icon:NFe,show:!0,text:g({defaultMessage:"Personalization",id:"FAejG+JVWn"}),type:ji,onClick:()=>n.push(xa.Personalize.href),testId:"sidebar-personalize",...S&&{rightElement:l.jsx(_e,{icon:XF,color:"currentColor",className:"text-super"})}},{icon:_Fe,show:o,text:g({defaultMessage:"Shortcuts",id:"7FAwwkYilD"}),type:ji,onClick:()=>n.push(xa.Shortcuts.href),testId:"sidebar-shortcuts"},{icon:ww,show:!0,text:g(E?{defaultMessage:"Automations",id:"ORNSnD2XJb"}:{defaultMessage:"Tasks",id:"yhU1etXT1A"}),type:ji,onClick:()=>{i?n.push(xa.Tasks.href):n.push("/?upsell=tasks",void 0,"Tasks sidebar upsell redirect")},testId:"sidebar-tasks",...!k&&{rightElement:l.jsx(_e,{icon:XF,color:"currentColor",className:"text-super"})}},{icon:bw,show:!0,text:g({defaultMessage:"Notifications",id:"NAidKbB0vi"}),type:ji,onClick:()=>n.push(xa.Notifications.href),testId:"sidebar-notifications"},{icon:_ee,show:!0,text:g({defaultMessage:"Connectors",id:"2mMJRvsAg1"}),type:ji,onClick:()=>n.push(xa.Connectors.href),testId:"sidebar-connectors"},{icon:HDe,show:!0,text:g({defaultMessage:"Pro Perks",id:"x69637XBwS"}),type:ji,onClick:()=>n.push(xa.ProPerks.href),testId:"sidebar-pro-perks"},{icon:Sw,show:!0,text:g({defaultMessage:"All settings",id:"IzEySeOy5/"}),type:ji,onClick:()=>n.push(xa.Account.href),testId:"sidebar-settings"},{type:"separator",show:c,className:"!border-b-background-200 !border-b !-mx-1 mb-1"},{icon:qDe,show:c,text:g({defaultMessage:"View plans",id:"EaucLAoHiC"}),type:ji,onClick:()=>{d("pricingModal",{origin:rt.SIDEBAR_BOTTOM_POPOVER,pitchMessage:{title:g({defaultMessage:"Select your plan",id:"kujKpiV0z4"})}})},testId:"sidebar-view-plans"}],[g,S,o,E,k,c,n,i,d]);f.useEffect(()=>{_.includes("sidebar-sign-in-button")&&x(!0),C("sidebar-sign-in-button")},[C,_]),f.useEffect(()=>{v||x(!0)},[v]),f.useEffect(()=>{requestAnimationFrame(()=>{w(!0)})},[]);const{trackEvent:R}=Ne();return!a&&!y||M?null:a?l.jsx(bn,{placement:t,items:N,footer:l.jsx(wit,{handleClick:()=>s(!1)}),isMobileStyle:!1,isOpen:r,onOpen:()=>s(!0),onClose:()=>s(!1),menuItemClassName:"gap-md",wrapperClassName:"inline-flex",children:l.jsx("div",{onClick:()=>s(!r),className:"inline-flex w-full","data-testid":"sidebar-popover-trigger-signed-in",children:e(r)})}):l.jsx("div",{className:"relative inline-flex justify-center duration-150 hover:opacity-80",children:l.jsxs(ke.button,{initial:b?{opacity:0,scale:.5}:void 0,animate:b?{opacity:1,scale:1}:void 0,className:"inline-flex appearance-none flex-col items-center justify-center",onClick:()=>{R("sidebar sign in button clicked"),m({origin:rt.SIGNUP_BUTTON})},children:[l.jsx("div",{className:"p-1",children:l.jsx(H,{variant:"super",className:"flex size-8 items-center justify-center rounded-full",children:l.jsx(qF,{className:"text-background-100 size-5"})})}),l.jsx(j,{variant:"tinyRegular",className:"text-center",color:"super",children:g({defaultMessage:"Sign In",id:"Ub+AGcdPg6"})})]})})},wit=({handleClick:e})=>{const t=Dt();return l.jsx("div",{className:"border-t-background-200 border-t pt-2",children:t&&l.jsx(Nve,{session:t,onClick:e})})},_it=()=>{const e="collapsed-bottom-items",t=ut(),{organization:n,isEnterprise:r}=Gt({reason:e}),s=ha({reason:e}),a=hm();return l.jsx(l.Fragment,{children:t&&l.jsxs(H,{className:"mb-md gap-sm pt-sm flex flex-col items-center justify-center border-t",children:[l.jsx(Ive,{trigger:()=>l.jsx(Cit,{isIncognito:s})}),r&&l.jsx(H,{className:"px-two pb-sm pt-md flex justify-center border-t",children:l.jsx(it,{href:`${a}/org`,children:n?.logo?l.jsx(Sn,{size:"medium",user:n?.logo,altText:"Logo"}):l.jsx(ye,{ariaLabel:"Organization settings",pill:!0,size:"small",variant:"inverted",icon:iM})})})]})})},Cit=({isIncognito:e})=>{const t=Dt(),{isMax:n,isPro:r,hasAccessToProFeatures:s}=At();return l.jsx(H,{as:"button",bgHover:"offsetPlus",className:"mb-xs mt-xs gap-x-sm relative flex items-center justify-between rounded-full",children:l.jsx("div",{className:"flex items-center gap-[1px]",children:l.jsxs("div",{className:"p-xs relative flex",children:[e?l.jsx("div",{className:"w-[32px]",children:l.jsx(fm,{inverse:!0})}):l.jsx(Sn,{size:"medium",user:t?.user?.image,showProBadge:r,showMaxBadge:n}),!s&&l.jsx(j,{color:"ultraLight",className:"bg-offset absolute bottom-0 right-20 inline-flex -translate-y-[2px] translate-x-[4px] rounded-full p-[2px]",children:l.jsx(gt,{icon:o3.faChevronDown,size:"2xs"})})]})})})},Sit=()=>{const e="uncollapsed-bottom-items",{$t:t}=K(),{isPro:n,isMax:r}=At(),{isEnterprise:s}=Gt({reason:e}),a=ut(),{status:i}=Oa.useSession(),o=Dt(),c=ha({reason:e}),u=Rt(),{isMobileStyle:d}=Oe(),[h,,m]=wie(rit,null);f.useEffect(()=>{h&&setTimeout(()=>{m()},5e3)},[m,h]);const p=Qat(),g=()=>{h&&m(),u.push(p)};return l.jsxs("div",{className:"gap-md flex flex-col",children:[l.jsx("div",{className:"hidden md:[@media(min-height:670px)]:block",children:l.jsx("div",{className:"opacity-0 transition-opacity duration-300 ease-in-out [@media(min-height:700px)]:opacity-100",children:l.jsx(dit,{})})}),l.jsxs("div",{children:[a&&l.jsx("div",{children:l.jsx(H,{className:"py-sm mb-safeAreaBottom w-full border-t md:mb-0",children:l.jsxs(H,{className:"mx-sm gap-xs flex items-center justify-between",children:[l.jsx(nit,{children:l.jsxs(H,{variant:"offset",bgHover:"offsetPlus",className:U("gap-sm pr-sm inline-flex w-full cursor-pointer select-none items-center justify-start rounded-full p-1 transition !duration-150",{"!bg-inverse":c}),children:[c?l.jsxs(l.Fragment,{children:[l.jsx(fm,{}),l.jsx(j,{variant:"smallBold",className:"!text-inverse truncate",children:t({defaultMessage:"Incognito",id:"Sp8UUpZ0at"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Sn,{size:"medium",showProBadge:n,showMaxBadge:r,user:o?.user?.image}),l.jsx(R3,{username:o?.user?.username})]}),l.jsx("span",{className:U("text-inverse relative top-[1px] opacity-50",{"!dark:text-textOff !text-textOff !opacity-100":!c}),children:l.jsx(gt,{icon:o3.faChevronDown,size:"xs"})})]})}),l.jsx(Eit,{text:t({defaultMessage:"Track purchase status in settings",id:"dt0t5ILzKX"}),open:!!h,children:l.jsx(ze,{ariaLabel:t({defaultMessage:"Settings",id:"D3idYvSLF9"}),pill:!0,icon:Sw,onClick:g,size:"small",extraCSS:"aspect-square min-h-[unset] shrink-0 h-[32px] -mr-xs"})})]})})}),!d&&l.jsx(Xat,{isEnterprise:!!s})]})]})},Eit=({children:e,text:t,open:n})=>l.jsx(Dn,{bodyClassName:"!bg-super !p-md",bodyTextClassName:"!text-base !text-white",tooltipText:t,arrowClassName:"!fill-super !w-4 translate-x-[1px] !h-auto",open:n,asChild:!0,children:e}),kit=()=>{const e="sidebar-bottom",{$t:t}=K(),n=ha({reason:e}),{isCollapsed:r,actions:s}=on(),{isMobileStyle:a}=Oe(),i=r&&!a,o=f.useCallback(c=>{(c.metaKey||c.ctrlKey)&&c.key===";"&&(c.preventDefault(),s.setIsIncognito(!n))},[s,n]);return f.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[o]),l.jsxs("div",{className:U("flex flex-col",{"items-center justify-center":i}),children:[i&&l.jsx("div",{className:"pb-md flex items-center justify-center",children:l.jsx(ye,{pill:!0,ariaLabel:"Expand sidebar",icon:qLe,onClick:()=>s.setIsCollapsed(!1),toolTip:t({defaultMessage:"Expand",id:"0oLj/toqZk"}),tooltipLayout:"right"})}),i?l.jsx(_it,{}):l.jsx(Sit,{})]})},Ove=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(""),i=f.useCallback(()=>{r(!0),setTimeout(()=>{r(!1)},2e3)},[]),o=f.useCallback(()=>{a("Brandmark copied to clipboard"),t(!1),i()},[i]),c=f.useCallback(()=>{a("Logo copied to clipboard"),t(!1),i()},[i]),u=f.useCallback(()=>{a("Brand kit downloading..."),t(!1),i()},[i]),d=f.useCallback(()=>{t(!1)},[]);return f.useMemo(()=>({toastCopy:s,toastVisible:n,isBrandDropdownOpen:e,setBrandDropdownOpen:t,handleBrandCopy:o,handleLogoCopy:c,handleDownload:u,handlePopoverClose:d}),[o,u,c,d,e,s,n])},Mit=T.memo(()=>l.jsx("svg",{className:"h-[auto] w-[14px]",width:"278",height:"330",viewBox:"0 0 278 330",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126.99 83.0617L37.008 0.156738V98.524H0V240.866H37.11V329.64L126.99 250.476V325.948H150.506V249.154L241.005 328.664V240.866H278V98.524H240.891V0.156755L150.506 83.4328V4.1913H126.99V83.0617ZM109.019 121.826L37.088 187.144V217.564H23.5159V121.826H109.019ZM151.01 137.113L217.396 197.396V240.866H217.489V276.862L151.01 218.454V137.113ZM241.005 186.421L169.711 121.826H254.484V217.564H241.005V186.421ZM60.625 197.477L126.99 137.199V219.3L60.625 277.752V197.477ZM168.661 98.524L217.375 53.6415V98.524H168.661ZM60.524 53.6416L109.238 98.524H60.524V53.6416Z",fill:"currentColor"})}));Mit.displayName="Brandmark";const cj=T.memo(({children:e,onLogoCopy:t,onBrandmarkCopy:n,onDownload:r,...s})=>{const a=T.lazy(()=>he(()=>import("./BrandPopoverContent-DocB6Pta.js"),__vite__mapDeps([60,1]))),i=f.useMemo(()=>l.jsx("div",{className:"w-[200px]",children:l.jsxs(H,{className:"gap-sm p-sm flex flex-col",children:[l.jsx(Eu,{noLines:!0,size:"tiny"}),l.jsx(Eu,{noLines:!0,size:"tiny"}),l.jsx(Eu,{noLines:!0,size:"tiny"})]})}),[]),o=f.useMemo(()=>l.jsx(f.Suspense,{fallback:i,children:l.jsx(a,{onLogoCopy:t,onBrandmarkCopy:n,onDownload:r})}),[a,i,n,r,t]);return l.jsx(Sl,{content:o,placement:"right-start",...s,children:e})});cj.displayName="BrandPopover";const _c={type:"spring",stiffness:700,damping:50},Vu=T.memo(({keyProp:e=0,message:t,variant:n,description:r,ctaText:s,ctaOnClick:a,isVisible:i=!1,timeout:o,handleClick:c,handleClose:u,onTimeout:d=Ln,position:h="top",...m})=>{const[p,g]=f.useState(i);f.useEffect(()=>{g(i)},[i]),f.useEffect(()=>{let x;return i&&o&&(x=setTimeout(()=>{g(!1),d()},o*1e3)),()=>{clearTimeout(x)}},[p,o,i,d]);const v=f.useCallback(()=>{g(!1),u?.()},[u]),y=f.useCallback(()=>{a?.(),v()},[a,v]);return l.jsx(wt,{children:p&&l.jsx(m1,{children:l.jsx(ke.div,{className:U(`right-toastHMargin erp-sidecar:top-[114px] fixed ${h==="top"?"top-toastVMargin":"bottom-toastVMargin"} z-30 flex items-center justify-center ${c?"cursor-pointer":""}`),initial:{opacity:0,x:6},animate:{opacity:1,x:0},exit:{opacity:0,x:6},transition:_c,...m,children:l.jsxs(H,{variant:"raised",className:U("gap-x-sm p-md shadow-overlay dark:shadow-overlayDark flex items-center rounded-lg",{"cursor-pointer":n==="refresh"}),onClick:c??Ln,children:[l.jsx(H,{variant:"offset",className:"p-sm dark:bg-offsetPlus rounded-md",children:l.jsx(j,{variant:"smallBold",color:n==="error"?"red":n==="warning"?"yellow":"super",children:l.jsx(_e,{icon:n==="refresh"?Tee:n==="error"||n==="warning"?zLe:yee,size:"sm"})})}),l.jsxs(H,{className:"flex-1",children:[l.jsx(j,{variant:"small",color:"default",children:t}),r&&l.jsx(j,{variant:"tinyRegular",color:"light",children:r})]}),s&&a&&l.jsx(ze,{text:s,variant:"offset",onClick:y,size:"small",extraCSS:"ml-xl"}),o===void 0&&l.jsx(ze,{variant:"primary",size:"tiny",icon:tn,onClick:v,extraCSS:"ml-sm",noPadding:!0})]})},e)})})});Vu.displayName="Toast";const Tit=()=>{const{$t:e}=K(),{setBrandDropdownOpen:t,handleBrandCopy:n,handleDownload:r,handleLogoCopy:s,isBrandDropdownOpen:a,handlePopoverClose:i,toastCopy:o,toastVisible:c}=Ove(),{isCollapsed:u,actions:d}=on(),{isMobileUserAgent:h}=Oe(),{setMobileSidebarOpen:m}=kl(),{isMobileStyle:p}=Oe(),g=w=>{w.button===2&&(w.preventDefault(),t(!0))},v=()=>{m(!1),b.push("/")},y=()=>{m(!1)},x=u&&!p,b=Rt();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`my-sm md:my-md flex items-center ${x?"justify-center":"justify-between"}`,children:[l.jsx(cj,{onBrandmarkCopy:n,onLogoCopy:s,onDownload:r,isOpen:a,onClose:i,children:l.jsx(it,{"aria-label":"Perplexity",href:"/",className:"block",onContextMenu:g,onClick:y,children:x?l.jsx(Es,{includeEffects:!0,size:"md",variant:"mark"}):l.jsx("div",{className:"ml-xs pl-md pr-sm pt-xs",children:l.jsx(Es,{includeEffects:!0,color:"mixed",isPro:!0,size:"small"})})})}),!x&&!h&&l.jsx("div",{className:"mr-xs pt-two",children:l.jsx(ze,{ariaLabel:e({defaultMessage:"Collapse",id:"W/V6+Y+Vy2"}),icon:GLe,size:"small",pill:!0,onClick:()=>{m(!1),d.setIsCollapsed(!0)},toolTip:e({defaultMessage:"Collapse",id:"W/V6+Y+Vy2"}),tooltipLayout:"bottom"})}),h&&l.jsx("div",{className:"mr-xs pt-two",children:l.jsx(ze,{icon:Tr,pill:!0,onClick:v})})]}),l.jsx(Vu,{message:o,variant:"success",isVisible:c,timeout:2})]})},Lve=T.memo(({variant:e="common",active:t,vertical:n,onClick:r,indicatorPos:s="bottom",extraCSS:a,showNewIndicator:i,styleProps:o,isNewRedesign:c=!1,disabled:u,innerRef:d,...h})=>{const m=U("absolute",{"right-0 h-full w-[3px] rounded-l-sm":s=="right","left-0 h-full w-[3px] rounded-l-sm":s=="left","bottom-0 left-0 right-0 h-[3px] rounded-t-sm":s=="bottom","top-0 left-0 right-0 h-[3px] rounded-b-sm":s=="top","bg-textMain":e==="primary","bg-textOff":e==="common"},o?.indicatorClass),p=U({"px-xs transition duration-300 relative ":n,"flex items-center":t&&n,"justify-center px-xs":!n,"!cursor-not-allowed":u,"my-0.5 [&_*]:!font-normal [&_*]:!text-text-100 dark:[&_*]:!text-textMainDark [&_a]:hover:bg-background-200":c,"[&_a]:bg-offsetPlus [&_a]:text-textMain [&_a]:hover:bg-offsetPlus":c&&t,"opacity-70 cursor-not-allowed":u},t?o?.activeBgClass:o?.bgClass);return l.jsxs("div",{onClick:u?void 0:r,className:p,children:[i&&l.jsx("div",{className:"right-md top-sm text-super absolute z-10",children:"●"}),l.jsx(ze,{variant:u?"noHover":t?"primary":"common",...h,fullWidth:!0,extraCSS:U("py-md focus-visible:!bg-transparent before:absolute before:opacity-0 focus-visible:before:opacity-100 before:ring-super/50 before:ring-[1.5px] before:inset-y-0 before:-inset-x-[10px] before:rounded-md",{"cursor-not-allowed":u},a),noXPadding:!n,disabled:u,ref:d??void 0}),t&&!u&&l.jsx(ke.div,{layout:"position",layoutId:"tab-indicator",className:m,transition:{duration:.1,ease:"easeOut"}})]})});Lve.displayName="TabButton";const Dc=T.memo(({actionList:e,size:t=Mt.regular,variant:n="primary",fillSpace:r=!1,vertical:s=!1,layout:a="left",indicatorPos:i,iconOnly:o,allowScroll:c,tabClass:u,testId:d,layoutGroupId:h,styleProps:m,isNewRedesign:p=!1,activeTabRef:g})=>{const v=U({"w-full":r&&!c,"flex w-auto":c,"justify-center":a==="center","justify-end":a==="right"},m?.wrapperClass),y=U("items-center relative",{"justify-center":a==="center","flex-1":r,"w-full":r&&!c,"w-auto overflow-hidden flex":c},m?.innerClass),x=U("flex",{"w-full":r&&!c,"w-auto overflow-x-auto overflow-y-hidden flex-1 scrollbar-none":c},m?.scrollClass),b=U("items-center relative scrollbar-none",{"flex-1":r,"space-y-xs":s&&!p,"gap-x-md flex h-14":!s&&t!=="tiny","gap-x-sm flex h-10":!s&&t==="tiny","w-full":!s&&!c,"flex px-md w-auto overflow-x-auto":c},m?.scrollInnerClass),w=U("relative",{"h-full flex items-center":!s,"justify-center":r,"w-full":r&&!c,"flex-1 shrink-0":c},m?.itemClass);return l.jsx("div",{className:v,"data-test-id":d,children:l.jsx("div",{className:y,children:l.jsx("div",{className:x,children:l.jsx("div",{className:b,children:l.jsx(dd,{id:h,children:e.map(_=>_.show?l.jsxs(H,{className:w,children:[l.jsx(Lve,{testId:_.testId,ariaLabel:_.ariaLabel,vertical:s,text:o?void 0:_.text,size:t,variant:n,onClick:_.onClick,fullWidth:r,active:_.active,icon:_.icon,href:_.href,layout:a,tooltipLayout:i==="right"?"right":"top",toolTip:_.tooltip,indicatorPos:i,trailingComponent:_.trailingComponent,extraCSS:u,showNewIndicator:_.showNewIndicator,styleProps:m?.tabButton,isNewRedesign:p,disabled:_.disabled,innerRef:_.active?g:void 0}),!o&&_.badge&&l.jsx(j,{className:"bg-super pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 rounded-md px-1 py-0.5 text-white",variant:"tiny",children:_.badge}),_.children&&l.jsx(l.Fragment,{children:_.children})]},_.key??_.text):null)})})})})})});Dc.displayName="TabBar";const Dve=T.memo(({vertical:e=!0,size:t,collapsed:n,actionList:r,...s})=>l.jsx(Dc,{layout:n?"center":"left",size:t,iconOnly:n,vertical:e,actionList:r??je,indicatorPos:n?"right":"none",fillSpace:!0,...s}));Dve.displayName="SiteTabs";const Fve=$n({path:"M12.3799 0.995117C18.6621 0.995117 23.7549 6.08788 23.7549 12.3701C23.7549 18.6524 18.6621 23.7451 12.3799 23.7451C6.0977 23.7451 1.00488 18.6523 1.00488 12.3701C1.00488 6.08792 6.0977 0.995179 12.3799 0.995117ZM12.3701 2.75488C11.8475 2.75509 11.1171 3.22655 10.4121 4.58887L10.2715 4.87402C10.065 5.3106 9.54321 5.49714 9.10645 5.29102C8.66967 5.08453 8.48308 4.56284 8.68945 4.12598L8.84277 3.81445C8.93133 3.64256 9.02498 3.47428 9.12305 3.31055C7.13221 4.02636 5.44689 5.38035 4.31055 7.125H12.3809L12.4697 7.12988C12.9108 7.17482 13.2558 7.54711 13.2559 8C13.2559 8.45294 12.9108 8.82517 12.4697 8.87012L12.3809 8.875H3.41211C2.98945 9.95869 2.75488 11.1368 2.75488 12.3701C2.75488 13.6071 2.99092 14.7886 3.41602 15.875H4.94043C5.42344 15.8752 5.81537 16.2669 5.81543 16.75C5.81543 17.2331 5.42348 17.6248 4.94043 17.625H4.31738C5.45343 19.3645 7.13555 20.7142 9.12207 21.4287C8.88505 21.0314 8.66832 20.5962 8.47461 20.1318C7.62775 18.1014 7.12501 15.3566 7.125 12.3701C7.125 12.083 7.12514 11.7675 7.13574 11.46C7.15246 10.9771 7.55716 10.5996 8.04004 10.6162C8.523 10.6329 8.90142 11.0375 8.88477 11.5205C8.87538 11.7927 8.875 12.0775 8.875 12.3701C8.87501 15.1832 9.3519 17.6886 10.0898 19.458C10.4596 20.3446 10.8783 21.0053 11.2979 21.4307C11.7142 21.8527 12.0793 21.995 12.3799 21.9951C12.9373 21.9951 13.731 21.4591 14.4785 19.877L14.5215 19.7979C14.7504 19.418 15.2339 19.2656 15.6436 19.459C16.0804 19.6654 16.2679 20.1871 16.0615 20.624L15.9072 20.9355C15.8202 21.1046 15.7271 21.2695 15.6309 21.4307C17.6203 20.7168 19.305 19.3664 20.4424 17.625H12.3799C11.8967 17.6249 11.5049 17.2332 11.5049 16.75C11.5049 16.2668 11.8967 15.8751 12.3799 15.875H21.3438C21.7689 14.7886 22.0049 13.6072 22.0049 12.3701C22.0049 11.1368 21.7703 9.95871 21.3477 8.875H19.8096C19.3265 8.87477 18.9346 8.48311 18.9346 8C18.9346 7.51695 19.3266 7.12523 19.8096 7.125H20.4492C19.309 5.3744 17.6159 4.01757 15.6162 3.30371C15.8576 3.70575 16.0787 4.14659 16.2754 4.61816C17.1223 6.64864 17.625 9.39331 17.625 12.3799C17.625 12.667 17.6258 12.9825 17.6152 13.29L17.6074 13.3789C17.5476 13.8184 17.1627 14.1501 16.71 14.1348C16.2272 14.1179 15.8496 13.7123 15.8662 13.2295L15.875 12.3799C15.875 9.56674 15.3982 7.0614 14.6602 5.29199C14.2904 4.40554 13.8727 3.7447 13.4531 3.31934C13.0368 2.89735 12.6707 2.75503 12.3701 2.75488ZM12.3799 10.6201C13.3464 10.6201 14.1299 11.4036 14.1299 12.3701C14.1299 13.3366 13.3464 14.1201 12.3799 14.1201C11.4134 14.1201 10.6299 13.3366 10.6299 12.3701C10.6299 11.4037 11.4134 10.6202 12.3799 10.6201Z",name:"IconPerplexityDiscover",variant:"filled"}),Uve=$n({path:"M18.8809 18.8809C19.2013 18.5604 19.7091 18.5407 20.0527 18.8213L20.1191 18.8809L22.3086 21.0713L22.3691 21.1377C22.6493 21.4814 22.6289 21.9883 22.3086 22.3086C21.9883 22.6288 21.4813 22.6493 21.1377 22.3691L21.0713 22.3086L18.8809 20.1191L18.8213 20.0527C18.5407 19.7091 18.5605 19.2013 18.8809 18.8809ZM10.75 2.00488C15.5724 2.00494 19.5048 5.92589 19.5049 10.7598C19.5049 15.593 15.5832 19.5146 10.75 19.5146H9.875V19.4502C5.46095 19.01 1.9953 15.278 1.99512 10.7402C1.99512 5.90341 5.93043 2.00495 10.75 2.00488ZM10.75 3.75488C6.88968 3.75495 3.74512 6.87714 3.74512 10.7402C3.74531 14.6061 6.8927 17.7451 10.75 17.7451H11.25C14.8836 17.4884 17.7549 14.4584 17.7549 10.7598C17.7548 6.89383 14.6074 3.75494 10.75 3.75488ZM10.75 9C11.7165 9 12.5 9.7835 12.5 10.75C12.4999 11.7164 11.7165 12.5 10.75 12.5C9.78354 12.5 9.00006 11.7164 9 10.75C9 9.7835 9.7835 9 10.75 9Z",name:"IconPerplexityHome",variant:"filled"}),Nit=$n({path:"M9 15.9951C10.4319 15.9952 11.7044 16.6861 12.5029 17.752C13.3018 16.6913 14.5722 16.0049 16 16.0049H22.1299L22.2197 16.0098C22.6608 16.0547 23.0049 16.4269 23.0049 16.8799C23.0049 17.3328 22.6608 17.7051 22.2197 17.75L22.1299 17.7549H16C14.5532 17.7549 13.375 18.9331 13.375 20.3799V21.25C13.3749 21.7331 12.9831 22.1249 12.5 22.125C12.0169 22.1249 11.6251 21.7331 11.625 21.25V20.3701C11.625 18.9234 10.4467 17.7452 9 17.7451H2.87988C2.39676 17.7451 2.00501 17.3532 2.00488 16.8701C2.00488 16.3869 2.39669 15.9952 2.87988 15.9951H9ZM12.5 2.00488C18.3038 2.00495 22.9951 6.70738 22.9951 12.5V13.3799C22.9951 13.8631 22.6033 14.2548 22.1201 14.2549C21.6369 14.2548 21.2451 13.8631 21.2451 13.3799V12.5C21.2451 7.6727 17.3361 3.75495 12.5 3.75488C7.6633 3.75494 3.75488 7.66329 3.75488 12.5V13.3799C3.75488 13.8631 3.36313 14.2549 2.87988 14.2549C2.39669 14.2548 2.00488 13.8631 2.00488 13.3799V12.5C2.00488 6.69679 6.6968 2.00494 12.5 2.00488ZM12.5 6.375C15.8832 6.375 18.625 9.11675 18.625 12.5V13.3799C18.6249 13.8631 18.2332 14.2549 17.75 14.2549C17.2668 14.2549 16.8751 13.8631 16.875 13.3799V12.5C16.875 10.0833 14.9167 8.125 12.5 8.125C10.0832 8.125 8.125 10.0832 8.125 12.5V13.3799C8.12494 13.8631 7.73321 14.2549 7.25 14.2549C6.76679 14.2549 6.37506 13.8631 6.375 13.3799V12.5C6.375 9.11675 9.11675 6.375 12.5 6.375ZM12.5 10.75C13.4665 10.75 14.25 11.5335 14.25 12.5C14.2499 13.4664 13.4665 14.25 12.5 14.25C11.5335 14.25 10.7501 13.4664 10.75 12.5C10.75 11.5335 11.5335 10.75 12.5 10.75Z",name:"IconPerplexityLibrary",variant:"filled"}),Bve=$n({path:"M13.3801 3.20001H11.4601V9.92001H13.3801V3.20001Z M16.2599 13.7601C14.6879 13.7601 13.2959 14.5281 12.4199 15.7041C11.5439 14.5281 10.1519 13.7601 8.57988 13.7601H3.77988V15.6801H8.57988C10.1639 15.6801 11.4599 16.9761 11.4599 18.5601V19.5201H13.3799V18.5601C13.3799 16.9761 14.6759 15.6801 16.2599 15.6801H21.0599V13.7601H16.2599Z M4.96321 5.88607L3.60556 7.24371L8.35732 11.9955L9.71496 10.6378L4.96321 5.88607Z M19.8836 5.89171L15.1318 10.6435L16.4895 12.0011L21.2412 7.24935L19.8836 5.89171Z",name:"IconPerplexityPage",variant:"filled"}),$ve=$n({path:"M3.60001 5.59995H12.24L12.2399 7.51995H3.60001V5.59995Z M12.2399 9.43989V7.51995L20.8799 7.51994V9.43994L12.2399 9.43989Z M12.24 11.3599L12.2399 9.43989H3.60001V11.3599H12.24Z M12.24 13.28H20.8799V11.36L12.24 11.3599V13.28Z M12.24 15.2V13.28H3.60001V15.2H12.24Z M12.24 15.2L12.2399 17.12H20.8799V15.2H12.24Z",name:"IconPerplexityThread",variant:"filled"}),Hve=T.memo(({item:{title:e,link:t},position:n})=>{const{trackEvent:r}=Ne(),{setMobileSidebarOpen:s}=kl(),a=f.useCallback(()=>{s(!1),r("click recent collection",{title:e,link:t,position:n})},[t,n,s,e,r]);return l.jsx(it,{href:t,className:"group block cursor-pointer",onClick:a,children:l.jsx(H,{className:"p-xs rounded",bgHover:"offsetPlus",children:l.jsx(j,{variant:"tiny",className:"gap-x-xs flex items-center justify-between",color:"light",children:l.jsx("div",{className:"flex w-full items-center",children:l.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",style:{maskImage:"linear-gradient(to right, black 85%, transparent 97%)"},children:e})})})})})});Hve.displayName="CollectionHistoryItem";const Wve=({show:e,data:t,type:n,HistoryComponent:r,wrapperClassName:s,id:a})=>{const o=ha({reason:"recent-items"}),c=(u,d="")=>"link"in u?u.link+d:"uuid"in u?u.uuid+d:"slug"in u?u.slug+d:d;return!e||!t?.length?null:l.jsx("div",{className:"group/history",children:l.jsx(wt,{initial:!1,mode:"wait",children:o?l.jsx(UH,{className:"px-sm",direction:"in",children:l.jsx(H,{className:"mx-md mb-lg mt-sm px-md py-md rounded-md border border-dashed",children:l.jsx(j,{color:"ultraLight",variant:"tiny",className:"gap-sm flex flex-col items-start text-left",children:l.jsx("span",{children:n==="thread"?l.jsx(ce,{defaultMessage:"Library disabled while incognito",id:"OUt8F76OaH"}):l.jsx(ce,{defaultMessage:"Spaces disabled while incognito",id:"kdu3grXdAD"})})})})},"empty"):l.jsx(UH,{direction:"out",children:l.jsx(ke.div,{layout:!0,layoutRoot:!0,className:U("mb-md mt-xs space-y-xs border-borderMain/50 pr-sm dark:border-borderMainDark relative ml-[26px] border-l pl-[14px] duration-200",s),children:l.jsx(dd,{children:l.jsx(wt,{initial:!1,mode:"popLayout",children:t.map((u,d)=>l.jsx(ke.div,{layout:"position",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:0},transition:{ease:qn,duration:.3},children:l.jsx(r,{item:u,position:d})},c(u,a)))})})})},"history")})})},o0=f.memo(Wve);Wve.displayName="RecentItems";const UH=f.memo(({children:e,className:t,direction:n})=>l.jsx(ke.div,{initial:{x:n==="in"?20:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:n==="in"?20:-20,opacity:0,transition:{ease:mo(.7,0,.84,0),duration:.1}},transition:{x:{ease:mo(.16,1,.3,1),duration:.2},opacity:{ease:Vs,duration:.15}},className:t,children:e})),zve=T.memo(({item:{variant:e,title:t,link:n},position:r})=>{const{trackEvent:s}=Ne(),{setMobileSidebarOpen:a}=kl(),{actualQuery:i}=r0(t),o=i||t,c=f.useCallback(()=>{a(!1),s("click recent thread",{title:t,link:n,variant:e,position:r})},[n,r,a,t,s,e]);return l.jsx(it,{href:n,className:"group block cursor-pointer",onClick:c,children:l.jsx(H,{className:"p-xs rounded",bgHover:"offsetPlus",children:l.jsx(j,{variant:"tiny",className:"gap-x-xs flex items-center justify-between",color:"light",children:l.jsxs("div",{className:"flex w-full items-center",children:[l.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",style:{maskImage:"linear-gradient(to right, black 85%, transparent 97%)"},children:o}),l.jsx(_e,{icon:e==="article"?Bve:$ve,size:"sm",className:"min-w-0 shrink basis-0 scale-90 opacity-0 duration-300 ease-out group-hover:block group-hover:shrink-0 group-hover:basis-auto group-hover:scale-100 group-hover:opacity-100"})]})})})})});zve.displayName="ThreadHistoryItem";const Vve=f.memo(({vertical:e=!0,size:t,collapsed:n,incognito:r,animationId:s})=>{const a="ask-site-tabs",{$t:i}=K(),o=ut(),{isMobileStyle:c}=Oe(),{trackEvent:u}=Ne(),{allowArticleCreation:d}=Da({reason:a}),h=Lt(),{openVisitorLoginUpsell:m}=Gr({enabled:!o}),{shouldShowLossAversionModal:p,handleOpenLossAversion:g}=w1(),{data:v}=oae({reason:a}),{data:y}=Hse({reason:a}),{setMobileSidebarOpen:x}=kl(),b=f.useCallback(E=>{x(!1),p&&(E.preventDefault(),g({args:{origin:rt.DISCOVER_BUTTON}}))},[p,g,x]),w=f.useCallback(()=>{u("spaces click",{}),x(!1),o||m({title:i({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:rt.SPACES_PAGE})},[u,o,m,i,x]),_=f.useCallback(()=>{u("library click",{}),x(!1),o||m({title:i({defaultMessage:"Organize your search history by signing up",id:"PMTP+jTgx8"}),origin:rt.LIBRARY_PAGE})},[u,o,m,i,x]),C=f.useCallback(()=>{u("finance click",{}),x(!1)},[x,u]),S=f.useCallback(()=>{x(!1)},[x]),k=f.useMemo(()=>{const E=[{icon:Uve,text:i({defaultMessage:"Home",id:"ejEGdxSUGs"}),href:"/",show:!0,active:h==="/",ariaLabel:i({defaultMessage:"Home",id:"ejEGdxSUGs"}),testId:"home-tab",onClick:S,tooltip:n?i({defaultMessage:"Home",id:"ejEGdxSUGs"}):void 0},{icon:Fve,text:i({defaultMessage:"Discover",id:"cE4HfwyEyr"}),show:!0,active:h?.startsWith("/discover"),ariaLabel:i({defaultMessage:"Discover",id:"cE4HfwyEyr"}),testId:"discover-tab",href:p?void 0:"/discover",onClick:b,tooltip:n?i({defaultMessage:"Discover",id:"cE4HfwyEyr"}):void 0},{icon:_l,text:i({defaultMessage:"Spaces",id:"ZMoczsYew9"}),href:o?"/spaces":void 0,onClick:w,show:!0,active:h?.startsWith("/spaces"),ariaLabel:i({defaultMessage:"Spaces",id:"ZMoczsYew9"}),testId:"spaces-tab",tooltip:n?i({defaultMessage:"Spaces",id:"ZMoczsYew9"}):void 0,children:!n&&o&&l.jsx(o0,{show:!0,data:v,type:"collection",HistoryComponent:Hve})},{icon:Nit,text:i({defaultMessage:"Library",id:"StcK672jB9"}),href:o?"/library":void 0,onClick:_,show:!0,testId:"library-tab",trailingComponent:!r&&d&&!n?l.jsx(Gve,{}):void 0,active:h?.startsWith("/library"),ariaLabel:i({defaultMessage:"Library",id:"StcK672jB9"}),tooltip:n?i({defaultMessage:"Library",id:"StcK672jB9"}):void 0,children:!n&&o&&l.jsx(o0,{show:!0,data:y,type:"thread",HistoryComponent:zve})},{icon:y1,text:i({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),show:!0,active:h?.startsWith("/finance"),ariaLabel:i({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),testId:"finance-tab",href:"/finance",onClick:C,tooltip:n?i({defaultMessage:"Finance",id:"Fm3M+yFIbr"}):void 0}];return n&&E.push({icon:zg,text:i({defaultMessage:"Sign in",id:"SQJto27U8S"}),onClick:()=>{u("login click",{}),m({origin:rt.LOGIN_BUTTON})},show:!o,active:h?.startsWith("/login"),testId:"sign-in-tab",ariaLabel:"Sign in",tooltip:n?i({defaultMessage:"Sign In",id:"Ub+AGcdPg6"}):void 0}),E},[h,n,i,o,r,d,b,C,w,_,u,m,v,y,p,S]);return l.jsx(Dve,{isMobileStyle:c,size:t,vertical:e,collapsed:n,actionList:k,layoutGroupId:s})});Vve.displayName="AskSiteTabs";const Gve=f.memo(({defaultHidden:e=!0,buttonClassName:t})=>{const{$t:n}=K(),[r,s]=f.useState(!1),{openModal:a}=St(),{trackEvent:i}=Ne(),o=Rt(),c=ut(),u=v=>{v.preventDefault(),v.stopPropagation(),s(!r)},d=()=>{s(!1)},h=()=>{s(!0)},m=f.useCallback(v=>{v.stopPropagation(),c?o.push("/page/new"):a("loginModal",{pitchMessage:{title:n({defaultMessage:"Sign in to create a {page}",id:"MsQ6yWbdOY"},{page:"Page"})},origin:rt.ARTICLE_NEW}),v.preventDefault()},[o,c,n,a]),p=f.useCallback(v=>{v.preventDefault(),v.stopPropagation(),i("new thread click on threads page",{}),o.push("/",void 0,"New thread (library)")},[i,o]),g=f.useMemo(()=>[{type:"default",text:n({defaultMessage:"Thread",id:"6dmn4mbc3j"}),icon:$ve,onClick:p,testId:"library-dropdown-new-thread"},{type:"default",text:n({defaultMessage:"Page",id:"wFmAFCPAci"}),icon:Bve,onClick:m,testId:"library-dropdown-new-page"}],[p,m,n]);return l.jsx("div",{className:"-mr-sm flex w-full flex-1 justify-end",children:l.jsx(bn,{placement:"right",items:g,isMobileStyle:!1,onClose:d,onOpen:h,isOpen:r,children:l.jsx(H,{onClick:u,"data-testid":"library-add-button",className:U("text-text flex h-[24px] w-[27px] items-center justify-center rounded-md duration-150 hover:bg-black/5 dark:hover:bg-white/5",{"opacity-0 group-hover/button:opacity-100":e,"!text-text !bg-black/5 !opacity-100 dark:!bg-white/5":r},t),children:l.jsx(gt,{icon:Eie.faPlus,size:"xs"})})})})}),Rit=(e,t)=>e&&!t?"w-collapsedSideBarWidth":"w-sideBarWidth",qve=f.memo(()=>{const e="sidebar",{$t:t}=K(),n=ut(),{trackEvent:r}=Ne(),{isCollapsed:s}=on(),a=ha({reason:e}),{openVisitorLoginUpsell:i}=Gr({enabled:!n}),{setMobileSidebarOpen:o}=kl(),{isMobileStyle:c}=Oe(),u=Rit(s,c),d=s&&!c;return l.jsx("div",{"data-testid":Hae.SIDEBAR,className:U("group/bar isolate h-full shrink-0 transition-all duration-300 ease-in-out md:hidden md:h-auto",u),children:l.jsx(H,{className:U("h-full transition-all duration-300 ease-in-out",u),children:l.jsxs("div",{className:U("flex h-full min-h-0 flex-1 flex-col"),children:[l.jsx(Tit,{}),!c&&l.jsx(Tve,{collapsed:s}),l.jsx("div",{className:"pt-md scrollbar min-h-0 flex-1 overflow-y-auto overflow-x-hidden",children:l.jsx(Vve,{collapsed:d,incognito:a,animationId:"sidebar-tabs"})}),!n&&!d&&l.jsx("div",{className:"mb-md md:mb-lg ml-md mr-md mt-md",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(ye,{variant:"primary",size:"small",extraCSS:"h-[44px]",fullWidth:!0,text:t({defaultMessage:"Sign Up",id:"39AHJmowNE"}),onClick:()=>{o(!1),r("signup click",{}),i({origin:rt.SIGNUP_BUTTON})}}),l.jsx(ye,{variant:"common",size:"small",extraCSS:"h-[44px]",fullWidth:!0,text:t({defaultMessage:"Log in",id:"odXlk858Gb"}),onClick:()=>{o(!1),r("login click",{}),i({origin:rt.LOGIN_BUTTON})}})]})}),n||d?l.jsx(kit,{}):null]})})})});qve.displayName="Sidebar";const Kve=f.createContext(null),Ait=({children:e})=>{const[t,n]=f.useState(!1),[r,s]=f.useState(!1),[a,i]=f.useState(!1),[o,c]=f.useState(!0),u=f.useMemo(()=>(t||r)&&!a,[t,r,a]),d=f.useCallback(()=>{o&&(n(!1),s(!1),i(!1))},[o]);return l.jsx(Kve.Provider,{value:{isSelected:t,isHovered:r,isHidden:a,isOpen:u,autoClose:o,setIsSelected:n,setIsHovered:s,setIsHidden:i,setAutoClose:c,close:d},children:e})},uj=()=>{const e=f.useContext(Kve);if(!e)throw new Error("useSidebarNotifications must be used within a SidebarNotificationsProvider");return e},ly=30,jit=({autoFetch:e,reason:t})=>{const n=Dt(),r=ot(),s=async({pageParam:p=0})=>{(!p||p<0)&&(p=1);const g=(p-1)*ly;return await DQe({params:{limit:ly,offset:g},reason:t})},a=Nc({queryKey:Bt,enabled:e&&!!n,initialPageParam:0,queryFn:({pageParam:p})=>s({pageParam:p}),getNextPageParam:(p,g)=>p&&p[0]?.has_next_page?g.length+1:void 0}),i=a.data?.pageParams?.length??1,o=a.data?.pages??je,c=f.useMemo(()=>o.flat(),[o]),u=o[o.length-1]?.[0]?.has_next_page,d=f.useMemo(()=>({currentPage:i,hasNextPage:!!u,hasPreviousPage:i>1,getNextPage:()=>a.fetchNextPage(),getPreviousPage:()=>a.fetchPreviousPage()}),[i,u,a]),h=f.useCallback(p=>{const g=[],v=[];let y=0;for(;y<p.length;)v.push(g.length),g.push(p.slice(y,y+ly)),y+=ly;r.setQueryData(Bt,{pages:g,pageParams:v})},[r]),m=f.useCallback(()=>{!d.hasNextPage||a.isLoading||d.getNextPage()},[a.isLoading,d]);return f.useMemo(()=>({...a,fetchNextPage:m,collections:c,paginationInfo:d,updateCache:h}),[c,m,d,a,h])},Pit=({reason:e})=>{const{collections:t}=jit({autoFetch:!0,reason:e}),{data:n}=oae({reason:e}),r=t?.filter(i=>!NA(i.user_permission)),s=n?.[0]?.link;return r?.length===0?"/spaces/templates/":s||"/spaces/templates/"},Iit={palette:iFe,flask:FDe,tv:EDe,microchip_ai:$N,dollar_circle:_De,medal:cee,plane:Cw,paint_brush:dDe};function Oit({userSelectedTopics:e,topics:t}){const n=e.map(s=>s.id);return Object.fromEntries(t.map(s=>{const a={...s,userSelected:n.includes(s.id)};return[s.id,a]}))}const Lit=({allTopics:e})=>{const{$t:t}=K();return f.useMemo(()=>[{id:"you",slug:"you",name:t({defaultMessage:"For You",id:"5KhEnUXBTF"}),icon:bFe,description:t({defaultMessage:"Stories curated for you",id:"2sibbc2gbI"}),isAlwaysShown:!0},{id:"top",slug:"top",name:t({defaultMessage:"Top",id:"X/9XdXSCBu"}),icon:mM,isAlwaysShown:!0},...e.map(r=>({id:r.id,name:r.translated_name??r.name,icon:Iit[r.icon]??mM,slug:r.slug}))],[e,t])};function Dit(e){return e==="you"||e==="top"||e==="trending"?null:e}const Yve=T.memo(e=>{const{$t:t}=K(),{isMobileStyle:n}=Oe();return l.jsx(jt,{...e,title:t({defaultMessage:"Make it yours",id:"RBKgNODPrT"}),variant:n?"bottom-left-sheet":void 0,children:l.jsx("div",{className:"mb-safeAreaInsetBottom md:-m-md md:-mb-10",children:l.jsx("div",{className:"-m-md md:m-0",children:l.jsx(Qve,{title:t({defaultMessage:"Select topics and interests to customize your Discover experience",id:"EmIFJDqmup"}),onSave:e.onSave,discoverTopicMap:e.discoverTopicMap,userSelectedTopics:e.userSelectedTopics})})})})});Yve.displayName="InterestConfigurationSheet";const Qve=T.memo(({title:e,subtitle:t,onClose:n,onSave:r,discoverTopicMap:s,userSelectedTopics:a,variant:i})=>{const{$t:o}=K(),[c,u]=f.useState(a),d=ut(),{openVisitorLoginUpsell:h}=Gr({enabled:!d}),{trackEvent:m}=Ne();f.useEffect(()=>{m("discover topics picker opened",{})},[m]);const p=f.useCallback(()=>{h({title:o({defaultMessage:"Sign in to customize your Discover Feed",id:"tlclIdp++4"}),origin:rt.DISCOVER_TOPICS,sheetModalVariant:"bottom-sheet-gradient"})},[o,h]),g=x=>{if(m(c.includes(x)?"discover topic unselected":"discover topic selected",{topicUUID:Dit(x)}),!d){p();return}u(b=>b.includes(x)?b.filter(w=>w!==x):b.concat(x))},v=f.useCallback(()=>{if(m("discover topics picker saved",{}),!d){p();return}r(c)},[c,d,r,p,m]),y=f.useCallback(x=>{x.stopPropagation()},[]);return l.jsxs(H,{variant:"background",className:"p-md relative rounded-xl",onClick:y,children:[l.jsxs("div",{className:"relative z-[2]",children:[l.jsxs("div",{className:"mb-md flex items-start justify-between",children:[l.jsxs("div",{children:[e&&l.jsx(j,{variant:"baseSemi",children:e}),t&&l.jsx(j,{color:"light",variant:"small",children:t})]}),n&&l.jsx(ze,{icon:tn,size:"tiny",pill:!0,onClick:n,extraCSS:"-mt-sm -mr-sm hover:!bg-textMain/5"})]}),l.jsx("div",{className:"gap-sm flex flex-wrap",children:Object.values(s).map(x=>x.isAlwaysShown?null:l.jsx(Xve,{topic:x.id,topicData:x,onClick:g,selected:c.includes(x.id)},x.id))}),l.jsx("div",{className:"mt-md bg-textMain h-px opacity-10"}),l.jsx("div",{className:"mt-md",children:l.jsx(ye,{text:o({defaultMessage:"Save Interests",id:"YbI1HM86Ih"}),variant:"primary",size:"small",extraCSS:"w-full",onClick:v})})]}),i==="offset"&&l.jsx("div",{className:"absolute inset-0 z-[1] rounded-[inherit] dark:bg-black",children:l.jsx("div",{className:"bg-super/10 dark:bg-super/25 dark:border-super/5 absolute inset-0 z-[1] rounded-[inherit] dark:border"})})]})});Qve.displayName="InterestConfigurationBox";const Xve=T.memo(({topic:e,topicData:t,selected:n,onClick:r})=>l.jsxs(ke.button,{className:U("px-sm py-xs inline-flex cursor-pointer items-center gap-1.5 rounded-md duration-150 active:scale-[0.95]",{"bg-super/15 dark:bg-white/5":!n},{"bg-super":n}),onClick:()=>r(e),children:[l.jsx(wt,{mode:"popLayout",initial:!1,children:l.jsx(ke.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.2,type:"spring",bounce:.2},children:l.jsx(_e,{icon:n?yee:t.icon,size:"sm",className:U({"text-textMain dark:text-textMain/75":!n},{"text-inverse":n})})},n?`selected-${e}`:e)}),l.jsx(j,{variant:"small",className:U({"text-textMain dark:text-textMain/75":!n},{"text-inverse":n}),children:t.name})]}));Xve.displayName="InterestPill";const Zve=20,Fit=async({options:e,reason:t})=>{const n=e?.offset??0,r=e?.limit??Zve,s=e?.topic??null,a=e?.nextToken??null,{data:i,error:o}=await J.GET("/rest/discover/feed",t,{params:{query:{limit:r,offset:n,next_token:a,topic:s&&s!=="you"?[s]:void 0}},timeoutMs:$e(),numRetries:1,reason:t});if(o)throw new Me("API_CLIENTS_ERROR",{cause:o});const c=i;if(c.status!=="success")throw new Me("API_CLIENTS_ERROR",{cause:c});const u=c?.items??[],d=c?.feed_uuid??null,h=c?.next_token??null;return d&&u.length>0&&u.forEach(m=>{m.feed_uuid=d}),{threads:u,nextToken:h}},Uit=async e=>{try{const t=await Nn({headers:e,urlPath:`/rest/discover/topics?version=${Ac}`,timeoutMs:1500,numRetries:1});if(!t.ok){const r=await t.text();throw new Error(`Bad discover response: ${r}`)}const n=await t.json();return{userSelectedTopics:n?.user_selected_topics??[],allTopics:n?.all_topics??[]}}catch(t){return Q.error("Failed to get discover topics.",t),{userSelectedTopics:[],allTopics:[]}}},Bit=async({topics:e,reason:t})=>{const{data:n,error:r}=await J.PUT("/rest/discover/topics",t,{body:{topics:e,return_feed:!0,return_feed_limit:Zve,return_feed_version:Ac},timeoutMs:1500,numRetries:1});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r});const s=n,a=s.feed_items??[],i=s.feed_uuid,o=s.next_token??null;return i&&a?.length>0&&a.forEach(c=>{c.feed_uuid=i}),{status:"success",feedItems:a,nextToken:o}},CUt=async({contextUUID:e,reason:t})=>{const n=await J.PUT("/rest/discover/feed-items/{context_uuid}/feedback/like",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},SUt=async({contextUUID:e,reason:t})=>{const n=await J.DELETE("/rest/discover/feed-items/{context_uuid}/feedback/like",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},EUt=async({contextUUID:e,reason:t})=>{const n=await J.PUT("/rest/discover/feed-items/{context_uuid}/feedback/dislike",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},kUt=async({contextUUID:e,reason:t})=>{const n=await J.DELETE("/rest/discover/feed-items/{context_uuid}/feedback/dislike",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},$it=({reason:e})=>{const t=ot();return lt({mutationKey:["discover_update_topics",{}],mutationFn:r=>Bit({topics:r,reason:e}),onSuccess:()=>{t.invalidateQueries({queryKey:Jre()}),t.invalidateQueries({queryKey:Fo()})}})},zx=f.memo(()=>l.jsx(hs,{speed:"slow",className:"flex flex-col gap-2",children:Array.from({length:4}).map((e,t)=>l.jsxs(H,{className:U("grid place-items-center",{"w-[90%]":t===0||t===1,"w-[70%]":t===2,"w-[60%]":t===3}),children:[l.jsx(j,{variant:"small",className:"opacity-0",style:{gridArea:"1/-1"},children:" "}),l.jsx(H,{variant:"offsetPlus",className:"h-2 w-full rounded-full",style:{gridArea:"1/-1"}})]},t))}));zx.displayName="SidebarListLoader";const l0=f.memo(({children:e})=>l.jsx("div",{className:"flex flex-col gap-[10px]",children:e}));l0.displayName="SidebarSubMenu";const c0=f.memo(()=>l.jsx("div",{className:"bg-borderMain/50 h-px"}));c0.displayName="SidebarDivider";const vh=f.memo(({text:e,accessory:t,className:n,href:r,onClick:s,onMouseOver:a,testId:i})=>{const o=l.jsx(j,{variant:"tiny",color:"light",children:e}),c=r?l.jsxs(it,{href:r,className:"group relative block",onClick:s,onMouseOver:a,"data-testid":i||"library-button",children:[l.jsx(H,{variant:"offsetPlus",className:"-inset-y-xs -inset-x-sm absolute rounded-md opacity-0 duration-200 group-hover:opacity-100"}),l.jsxs("span",{className:"gap-xs relative flex items-center",children:[o,l.jsx(Wr,{className:"text-textMain/35 group-hover:text-subtle -mr-xs size-4 opacity-0 duration-200 group-hover/header:opacity-100"})]})]}):o;return l.jsxs("div",{className:U("group/header gap-xs flex h-6 items-center justify-between",n),children:[c,l.jsx(wt,{initial:!1,children:t&&l.jsx(ke.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex",children:t})})]})});vh.displayName="SidebarSubMenuHeader";const k8=f.memo(({href:e,text:t,onMouseOver:n,onClick:r})=>l.jsx(it,{href:e,className:"block",onMouseOver:n,onClick:r,children:l.jsx(j,{variant:"tinyRegular",color:"light",className:"duration-200 hover:opacity-60",children:t})}));k8.displayName="SidebarLink";const vs=f.memo(({href:e,text:t,icon:n,fadeOut:r,onClick:s,selected:a,deemphasized:i,menuItems:o,testId:c,sidebarOpen:u,accessory:d})=>{const h=l.jsxs(l.Fragment,{children:[l.jsx(H,{variant:"offsetPlus",className:U("-inset-y-xs -inset-x-sm absolute rounded-md opacity-0 duration-200 group-hover:opacity-100",{"opacity-100":a})}),l.jsxs(j,{className:"relative flex items-center gap-2",variant:"small",color:i?"light":void 0,children:[n&&(f.isValidElement(n)?n:l.jsx(_e,{icon:n,className:"size-[18px]"})),l.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",style:{maskImage:r?"linear-gradient(to right, black 85%, transparent 97%)":void 0},children:t}),l.jsx(wt,{initial:!1,children:d&&l.jsx(ke.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex",children:d})}),o&&u&&l.jsx("span",{style:{maskImage:"linear-gradient(to left, black 60%, transparent)"},className:"pl-md bg-offsetPlus -right-xs absolute top-1/2 -translate-y-1/2 opacity-0 duration-200 group-hover:opacity-100",children:l.jsx(bn,{isMobileStyle:!1,items:o,placement:"right",children:l.jsx("div",{onClick:m=>{m.preventDefault()},className:"hover:bg-text/5 p-xs rounded duration-150",children:l.jsx(_e,{icon:gd,size:14,className:"text-textMain/35 hover:text-subtle duration-150"})})})})]})]});return e?l.jsx(it,{href:e,className:"group relative block","data-testid":c,children:l.jsx("div",{className:"group relative block",onClick:s,children:h})}):l.jsx("button",{onClick:s,className:"group relative block appearance-none text-left",type:"button","data-testid":c,children:h})}),BH=e=>{const t=e?.split("/").slice(1);return t?t[1]:null},Jve=f.memo(({isConfiguring:e,setConfiguring:t,sidebarOpen:n})=>{const r="discover-sidebar",s=ut(),a=Lt(),{data:i,isLoading:o}=at({queryKey:Jre(),queryFn:()=>Uit(),enabled:!0,placeholderData:G0,refetchOnReconnect:!0,refetchOnMount:!1}),c=ut(),u=Lit({allTopics:i?.allTopics??je}),d=i?.userSelectedTopics??je,h=Oit({userSelectedTopics:d,topics:u}),m=d.length>0?"selected":"default",p=f.useCallback(w=>w.id==="top"||w.id==="trending"?!0:w.id==="you"?s:m==="default"?!0:!!w.userSelected,[m,s]),g=f.useMemo(()=>{const w=[],_=[];return Object.values(h).map(C=>{const{name:S,icon:k,slug:E}=C;p(C)?w.push({text:S,icon:k,link:`/discover/${E}`,active:BH(a)===E}):_.push({text:S,icon:k,link:`/discover/${E}`,active:BH(a)===E})}),{activeItems:w,overflowItems:_}},[h,p,a]),v=d.map(w=>w.id),y=$it({reason:r}),x=w=>{y.mutate(Array.from(w)),e&&t(!1)},{$t:b}=K();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col gap-[12px]",children:[l.jsx(vh,{text:b({defaultMessage:"Topics",id:"kc79d3WUbd"})}),o?l.jsx(zx,{}):l.jsx(l0,{children:g.activeItems.map(w=>l.jsx(vs,{href:w.link??"",text:w.text,selected:w.active,icon:w.icon,sidebarOpen:n},w.text))}),g.overflowItems.length>0&&c&&l.jsxs(l.Fragment,{children:[l.jsx(vh,{text:b({defaultMessage:"More",id:"I5NMJ8llIi"})}),l.jsx(l0,{children:g.overflowItems.map(w=>l.jsx(vs,{href:w.link??"",text:w.text,selected:w.active,icon:w.icon,sidebarOpen:n},w.text))})]})]}),l.jsx(Yve,{isOpen:e,onClose:()=>t(!1),onSave:x,discoverTopicMap:h,userSelectedTopics:v})]})});Jve.displayName="DiscoverSidebar";const eye=$n({path:"M12 2C12.4599 2 12.833 2.37307 12.833 2.83301V18.5176L17.0029 14.9473V5.6748L15.918 6.75488C15.5918 7.07873 15.0644 7.0769 14.7402 6.75098C14.4163 6.42487 14.4182 5.89747 14.7441 5.57324L17.249 3.08105L17.3438 3.00098C17.5762 2.83052 17.8846 2.79036 18.1562 2.90332C18.4666 3.0325 18.6688 3.33569 18.6689 3.67188V15.3311C18.6689 15.5743 18.5618 15.8056 18.377 15.9639L14.2529 19.4951H20.334V6.16406C20.334 5.70426 20.7072 5.33127 21.167 5.33105C21.6269 5.33105 22 5.70412 22 6.16406V20.3281C21.9999 20.788 21.6269 21.1611 21.167 21.1611H2.83301C2.37314 21.1611 2.00012 20.788 2 20.3281V6.16406C2 5.70412 2.37307 5.33105 2.83301 5.33105C3.29279 5.33124 3.66504 5.70424 3.66504 6.16406V19.4951H9.74707L5.62207 15.9639C5.43739 15.8057 5.33105 15.5742 5.33105 15.3311V3.67188L5.33984 3.54688C5.38309 3.26217 5.57241 3.01627 5.84375 2.90332C6.1542 2.77424 6.51245 2.84416 6.75098 3.08105L9.25586 5.57324L9.36328 5.70312C9.57757 6.02568 9.54328 6.4656 9.25977 6.75098C8.97578 7.03648 8.53579 7.07335 8.21191 6.86035L8.08203 6.75488L6.99707 5.6748V14.9473L11.167 18.5176V2.83301C11.167 2.37308 11.5401 2.00002 12 2Z",name:"IconPerplexityAcademic",variant:"filled"}),tye=$n({path:"M14.4927 2C16.3409 2.00026 17.8167 3.49511 17.8169 5.32422V6.1709H20.3286L20.3599 6.17383C20.3974 6.17522 20.434 6.17832 20.4702 6.18457L20.4966 6.1875C20.5069 6.18962 20.5167 6.1938 20.5268 6.19629C20.5524 6.20259 20.5774 6.21012 20.602 6.21875C20.6251 6.22679 20.6473 6.23613 20.6694 6.24609C20.687 6.25405 20.7042 6.26236 20.7212 6.27148C20.7443 6.28393 20.7668 6.29702 20.7886 6.31152C20.8086 6.32487 20.8274 6.3395 20.8462 6.35449C20.8639 6.36867 20.8814 6.38288 20.8979 6.39844C20.9139 6.41346 20.9291 6.42907 20.9438 6.44531C20.9622 6.46558 20.9793 6.48678 20.9956 6.50879C21.006 6.52287 21.0163 6.537 21.0259 6.55176C21.0417 6.57623 21.0555 6.60178 21.0688 6.62793C21.0771 6.64429 21.085 6.66075 21.0923 6.67773C21.1035 6.70413 21.113 6.73108 21.1216 6.75879C21.1245 6.7684 21.1297 6.77735 21.1323 6.78711L21.1362 6.8125C21.1443 6.84666 21.1491 6.88136 21.1528 6.91699L21.1597 6.9541L21.9995 21.1172C22.0131 21.3461 21.9312 21.5713 21.7739 21.7383C21.6166 21.9052 21.3969 22 21.1675 22H8.66942C8.20949 22 7.83641 21.6269 7.83641 21.167V7.83594H4.45751L3.71727 20.334H5.33837L5.50634 20.3516C5.88563 20.4293 6.17127 20.7647 6.17137 21.167C6.17137 21.5694 5.88575 21.9057 5.50634 21.9834L5.33837 22H2.83348C2.60409 22 2.38439 21.9052 2.22704 21.7383C2.06982 21.5713 1.98789 21.3461 2.00145 21.1172L2.8413 6.9541L2.86669 6.79395C2.96003 6.43372 3.28695 6.17107 3.67235 6.1709H5.33153V5.33789C5.33155 3.4895 6.82654 2.01393 8.65575 2.01367C8.95257 2.01369 9.23722 2.05368 9.50634 2.125L9.77001 2.20703L9.92333 2.27734C10.2559 2.47593 10.4145 2.88775 10.2817 3.26758C10.1489 3.64715 9.76879 3.86999 9.38524 3.81836L9.22118 3.7793L9.08055 3.73438C8.94008 3.69706 8.79847 3.67873 8.65575 3.67871C7.74059 3.67897 6.99757 4.41516 6.99755 5.33789V6.1709H11.1675V5.32422C11.1677 3.47583 12.6633 2 14.4927 2ZM9.50243 20.334H20.2837L19.5434 7.83594H17.8169V9.49512C17.8168 9.95489 17.4436 10.328 16.9839 10.3281C16.5241 10.328 16.1519 9.9549 16.1518 9.49512V7.83594H12.8335V9.49512C12.8334 9.95499 12.4604 10.3281 12.0005 10.3281C11.5406 10.3281 11.1675 9.95498 11.1675 9.49512V7.83594H9.50243V20.334ZM14.4927 3.66602C13.5774 3.66602 12.8337 4.40149 12.8335 5.32422V6.1709H16.1518V5.32422C16.1516 4.40916 15.4152 3.66627 14.4927 3.66602Z",name:"IconPerplexityShopping",variant:"filled"}),nye=$n({path:"M13.7718 4C18.3247 4 21.9993 7.68969 21.9993 12.2275C21.9992 16.7663 18.3105 20.4551 13.7718 20.4551C12.7177 20.455 11.6928 20.2498 10.7679 19.8828L10.7347 19.8701L10.6956 19.8506L10.6888 19.8477L10.7005 19.8506C10.2597 19.7402 9.99093 19.2935 10.1009 18.8525C10.2112 18.4114 10.6588 18.1427 11.0999 18.2529C11.201 18.2782 11.2994 18.3177 11.3802 18.3545C12.1137 18.6448 12.931 18.8086 13.7718 18.8086C17.401 18.8086 20.3527 15.8568 20.3528 12.2275C20.3528 8.59729 17.4133 5.64648 13.7718 5.64648C10.1295 5.64662 7.17822 8.59799 7.17802 12.2402C7.17802 12.6986 7.22473 13.1431 7.31181 13.5674L7.4124 13.9834L7.43974 14.1484C7.4658 14.5306 7.22073 14.892 6.8372 14.998C6.45383 15.1037 6.05889 14.9192 5.88505 14.5781L5.82451 14.4229L5.69853 13.8975C5.58917 13.3644 5.53154 12.8096 5.53154 12.2402C5.53174 7.68849 9.22001 4.00013 13.7718 4ZM10.6888 19.8477C10.6862 19.8469 10.6839 19.8467 10.6839 19.8467H10.6868L10.6888 19.8477ZM16.2591 8.95508C16.2902 8.95596 16.3209 8.96043 16.3519 8.96484L16.4017 8.9707C16.4046 8.9713 16.4075 8.97202 16.4104 8.97266C16.4181 8.97431 16.4253 8.97762 16.4329 8.97949C16.4707 8.98881 16.5077 8.99934 16.5433 9.01367C16.5527 9.01748 16.5613 9.02317 16.5706 9.02734C16.6042 9.04238 16.6372 9.05793 16.6683 9.07715C16.6781 9.08327 16.6869 9.09107 16.6966 9.09766C16.7271 9.11839 16.7571 9.13953 16.7845 9.16406C16.786 9.16545 16.7878 9.16657 16.7894 9.16797C16.8129 9.18943 16.8343 9.21289 16.8548 9.23633C16.8667 9.24994 16.878 9.26394 16.889 9.27832C16.9079 9.30307 16.9259 9.32817 16.9417 9.35449C16.9476 9.36436 16.9528 9.37463 16.9583 9.38477C16.9747 9.41493 16.9889 9.44591 17.0013 9.47754C17.0042 9.48503 17.0073 9.49241 17.0101 9.5C17.0231 9.53641 17.0326 9.5737 17.0403 9.61133C17.0427 9.62301 17.0453 9.63463 17.0472 9.64648C17.0535 9.68596 17.0573 9.72569 17.0579 9.76562C17.058 9.76941 17.0589 9.77354 17.0589 9.77734V13.8877C17.0587 14.3423 16.6902 14.7109 16.2356 14.7109C15.7811 14.7109 15.4126 14.3423 15.4124 13.8877V11.8701C12.0054 15.4487 9.45177 17.4947 7.53252 18.5244C5.5087 19.61 3.92643 19.6815 2.8792 18.8291L2.67705 18.6465C2.04543 18.0149 1.92632 17.1236 2.03642 16.2793C2.14798 15.424 2.50735 14.468 3.03545 13.4951C3.25239 13.0955 3.75298 12.9462 4.15263 13.1631C4.55218 13.38 4.69947 13.8807 4.48271 14.2803C4.01013 15.1509 3.74555 15.9076 3.66923 16.4912C3.59173 17.0854 3.72193 17.3609 3.84111 17.4805C4.09158 17.7309 4.8066 18.118 6.7542 17.0732C8.47468 16.1502 10.9246 14.2091 14.345 10.6006H12.1253C11.6707 10.6006 11.3022 10.2319 11.302 9.77734C11.302 9.32259 11.6705 8.95312 12.1253 8.95312H16.2356L16.2591 8.95508Z",name:"IconPerplexityTravel",variant:"filled"}),Hit=(e,t)=>t?t===e.link:!1,rye=T.memo(({item:e,position:t,onDeleteClick:n,sidebarOpen:r})=>{const{trackEvent:s}=Ne(),a=Lt(),{title:i,link:o,variant:c}=e,u=c==="thread",{actualQuery:d}=r0(i),h=d||i,{$t:m}=K(),p=f.useCallback(()=>{s("click recent thread",{title:i,link:o,variant:c,position:t})},[o,t,i,s,c]),g=f.useMemo(()=>[{text:m({defaultMessage:"Delete {item}",id:"rdK9AWns19"},{item:u?"Thread":"Page"}),icon:r1,onClick:v=>{v.stopPropagation(),n(e)},type:"default"}],[m,u,e,n]);return l.jsx(vs,{href:o,text:h,fadeOut:!0,onClick:p,sidebarOpen:r,selected:Hit(e,a),menuItems:g,testId:`thread-title-${h}`})});rye.displayName="ThreadHistoryItemV2";const Fn=T.memo(({children:e,header:t,fullBleed:n,roundedClass:r,shadow:s,fullBleedBorderClassname:a,...i})=>l.jsxs(l.Fragment,{children:[t,l.jsxs(H,{...i,variant:i.variant??"raised",className:U("relative",{"border-subtle border":!n&&!i.variant,[r||"rounded-xl"]:!i.variant,"shadow-[0_1px_2px_0_rgba(0,0,0,0.03)]":s},i.className),children:[n&&l.jsx("div",{className:U("rounded-inherit pointer-events-none absolute inset-0 z-[1] border border-[black]/5 dark:border-[white]/5",a)}),e]})]}));Fn.displayName="CanonicalCard";const Wit={about:zg,born:D4,age:D4,died:D4,parents:KF,siblings:KF,children:QLe,spouse:uM,spouses:uM,education:fM,educated_at:fM,net_worth:mDe,ratings:mM,directed_by:sFe,starring:zg,watch_on:Mee,treatment:eFe,symptoms:yDe,specialists:SFe};function zit(e){return e&&Wit[e]||null}const Vit={EXTERNAL_LINK_TYPE_UNSPECIFIED:lM,PRIMARY:lM,WIKIPEDIA:oDe,X:lDe,INSTAGRAM:rDe,TIKTOK:iDe,YOUTUBE:fee,FACEBOOK:tDe,MAYOCLINIC:n1,IMDB:dee};function $H(e){return Vit[e]}const sye=f.createContext({menuItems:void 0}),A3=()=>{const e=f.useContext(sye);if(!e)throw new Error("usePanel must be used within PanelContext");return e},Xn=({children:e,menuItems:t,variant:n,className:r})=>l.jsx(La,{fallback:null,children:l.jsx(sye.Provider,{value:{menuItems:t},children:n==="noChrome"?l.jsx(H,{className:r||"mb-md",children:e}):l.jsx(Fn,{shadow:!0,className:`${r||"mb-md"} p-md`,children:e})})}),Git=({menuItems:e,buttonClass:t,placement:n})=>{const{isMobileStyle:r}=Oe();return e.length<=0?null:l.jsx(bn,{items:e,isMobileStyle:r,placement:n,children:l.jsx(ze,{size:"tiny",pill:!0,icon:gd,extraCSS:t})})},qit=({title:e,href:t,subtitle:n,image_url:r,links:s,children:a,entryUUID:i,data:o})=>{const{trackEvent:c}=Ne(),u=f.useCallback(h=>{c("knowledge card link clicked",{label:"social media",socialMediaType:h.type,value:h.url,entryUUID:i,type:o?.type??"",name:o?.title??"",id:o?.source_url??""})},[o?.source_url,o?.title,o?.type,i,c]),d=f.useMemo(()=>T.memo(({link:h,solo:m})=>{const p=f.useCallback(()=>u(h),[h]);return m?l.jsx(ye,{icon:$H(h.type),text:h.title,textClassName:"font-normal ml-2xs text-textOff ",size:"tiny",href:h.url,target:"_blank",onClick:p},h.url):l.jsx(ye,{icon:$H(h.type),size:"tiny",href:h.url,target:"_blank",onClick:p},h.type)}),[u]);return l.jsx(H,{className:"gap-sm flex w-full justify-between",children:l.jsxs("div",{className:"gap-md flex grow items-start",children:[r?l.jsx("div",{className:"flex-none",children:l.jsx(fs,{imageClassName:"size-[120px] object-cover object-top",rounded:"md",src:r,alt:e,includeLightBoxModal:!1})}):null,l.jsxs("div",{className:"flex h-full grow flex-col",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"gap-sm mb-[2px] flex items-start",children:[l.jsx(j,{variant:"section-title",className:"flex-1",children:t?l.jsx(it,{href:t,target:"_blank",className:"pointer-cursor hover:text-super flex-1 duration-150",children:e}):e}),a]}),n&&l.jsx(j,{variant:"small",className:"mb-sm mr-sm text-pretty",children:n})]}),s&&s.length>0&&l.jsx("div",{className:"gap-sm flex flex-wrap",children:s.map(h=>l.jsx(d,{link:h,solo:s.length===1},h.type))})]})]})})},Kit=({name:e,title:t,value:n})=>{const r=zit(e);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"gap-sm flex min-w-[120px]",children:[r&&l.jsx(j,{variant:"smallBold",color:"light",className:"w-5",children:l.jsx(_e,{icon:r,size:"sm"})}),l.jsx(j,{variant:"smallBold",color:"light",children:t})]}),l.jsx(j,{variant:"small",children:n})]})},Yit=({children:e})=>l.jsx(H,{className:"pt-sm px-md border-t",children:e});Xn.Title=qit;Xn.Item=Kit;Xn.Menu=Git;Xn.Footer=Yit;const aye=T.memo(({graphData:e})=>{const[t,n]=f.useState(!1),r=e.url,s=e.name,a=f.useCallback(()=>n(!1),[]);return l.jsxs("div",{className:"flex justify-center",children:[l.jsx("img",{src:r,alt:s,className:"max-h-[50vh] overflow-hidden rounded align-middle",onClick:()=>n(!0)}),l.jsx(iye,{isOpen:t,onClose:a,alt:s,src:r})]})});aye.displayName="StaticImageGraph";const iye=T.memo(({isOpen:e,onClose:t,alt:n,src:r})=>{const s=f.useCallback(()=>t(!1),[t]);return l.jsxs(jt,{onClose:s,isOpen:e,variant:"hide-chrome",disableAnimation:!1,children:[l.jsx("div",{className:"size-screen flex place-content-center",onClick:()=>t(!1),children:l.jsx("div",{className:"gap-xs p-md md:p-xl flex flex-col items-center justify-between",children:l.jsx("div",{className:"grow",children:l.jsx("img",{alt:n,src:r,className:"max-h-[50vh]"})})})}),l.jsx(ye,{onClick:s,icon:tn,extraCSS:"!fixed top-md right-md shadow-sm",size:"small",pill:!0,ariaLabel:"Close"})]})});iye.displayName="ImageModal";const oye=T.memo(({graphData:e})=>l.jsxs(Xn,{className:"gap-md bg-offset p-md flex flex-col rounded-md text-center",children:[l.jsx(Xn.Title,{title:e.name,subtitle:""}),l.jsx(aye,{graphData:e})]}));oye.displayName="GraphPanel";const mm=e=>{let t;if("meta_data"in e?t=e.meta_data:t=is(e).with({place_widget_block:Cu.nonNullable},n=>({...n.place_widget_block,object:"PlaceWidget"})).with({shopping_widget_block:Cu.nonNullable},n=>({...n.shopping_widget_block,progress:Wm.DONE,object:"ShopifyWidget"})).with({search_result_widget_block:Cu.nonNullable},n=>{const r=n.search_result_widget_block.metadata||{},s=r.object;if(s==="WeatherWidget")return{...r,progress:Wm.DONE,object:"WeatherWidget"};if(s==="TimeWidget")return{...r,progress:Wm.DONE,object:"TimeWidget"};if(s==="CalculatorWidget")return{...r,progress:Wm.DONE,object:"CalculatorWidget"};if(s==="TaskWidget")return{...r,progress:Wm.DONE,object:"TaskWidget"}}).otherwise(()=>{}),!!t)return t},Qit={pendingClarifications:[],addClarification:()=>{},clearClarifications:()=>{}},lye=f.createContext(Qit),Xit=({children:e})=>{const[t,n]=f.useState([]),r=f.useCallback(i=>{n(t.concat([i]))},[t]),s=f.useCallback(()=>{n([])},[]),a={pendingClarifications:t,clearClarifications:s,addClarification:r};return l.jsx(lye.Provider,{value:a,children:e})},Zit=()=>{const e=f.useContext(lye);if(!e)throw new Error("useDeepResearchState must be used within DeepResearchContext");return e};var Pi={},HH;function Jit(){if(HH)return Pi;HH=1;var e=Pi&&Pi.__values||function(s){var a=typeof Symbol=="function"&&s[Symbol.iterator],i=0;return a?a.call(s):{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}}},t=Pi&&Pi.__read||function(s,a){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var o=i.call(s),c,u=[],d;try{for(;(a===void 0||a-- >0)&&!(c=o.next()).done;)u.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return u};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.selectState=function(s){return s};function n(){var s,a,i;function o(c){var u=0,d;function h(p){var g,v;s||(s={state:p,version:1}),s.state!==p&&(s.state=p,s.version+=1);var y=s.version,x;if(d){if(y===d.stateVersion)return d.value;var b=!1;try{for(var w=e(d.dependencies.entries()),_=w.next();!_.done;_=w.next()){var C=t(_.value,2),S=C[0],k=C[1];if(S(p)!==k){b=!0,x=S;break}}}catch(R){g={error:R}}finally{try{_&&!_.done&&(v=w.return)&&v.call(w)}finally{if(g)throw g.error}}if(!b)return d.value}u+=1;var E=new Map,M=Object.assign(function(R){if(E.has(R))return E.get(R);var A=R(p);return E.set(R,A),A},{reason:x}),N=i?i(function(){return c(M)},m,p,x):c(M);if(E.size===0)throw new Error("[rereselect] Selector malfunction: The selection logic must select some data by calling `query(selector)` at least once.");return d={stateVersion:y,dependencies:E,value:N},N}var m=Object.assign(function(g){return a?a(function(){return h(g)},m,g):h(g)},{selectionLogic:c,recomputations:function(){return u},resetRecomputations:function(){return u=0},introspect:function(){return d}});return m}return{makeSelector:o,setInvocationWrapper:function(c){a=c},setComputationWrapper:function(c){i=c}}}Pi.createSelectionContext=n;var r=n();return Pi.makeSelector=r.makeSelector,Pi}var vt=Jit();const eot=4,cye=T.memo(({dollarCount:e,priceRange:t,className:n="",dollarColor:r="default",textVariant:s="tiny",currencySymbol:a,...i})=>{const o=t&&/^(.+?)\s*(\1\s*)+$/.test(t.trim());return o&&(e=t.replace(/\u200A/g,"").length??0),l.jsx("div",{className:`flex items-center ${n}`,...i,children:t&&!o?l.jsx(j,{variant:s,color:r,children:t}):l.jsx("div",{className:"flex gap-px",children:Array.from({length:eot},(c,u)=>l.jsx(j,{variant:s,className:"inline-flex",color:u<e?r:"ultraLight",children:a||"$"},u))})})});cye.displayName="DollarRange";var kC={},WH;function tot(){return WH||(WH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="chevron-down",r=512,s=512,a=[],i="f078",o="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faChevronDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(kC)),kC}var uye=tot(),MC={},zH;function not(){return zH||(zH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="chevron-right",r=320,s=512,a=[9002],i="f054",o="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faChevronRight=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(MC)),MC}var rot=not();const dye=f.createContext({selectedWidgetId:void 0,scrollToWidget:()=>{},entityRefs:{}}),dj=()=>{const e=f.useContext(dye);if(!e)throw new Error("useScrollToWidget must be used within ScrollToWidgetContext");return e},sot=T.memo(({children:e,entities:t})=>{const[n,r]=f.useState({}),[s,a]=f.useState(void 0),{scrollContainerRef:i}=VR(),o=f.useRef(null);f.useEffect(()=>()=>{r({})},[]),f.useEffect(()=>{r(u=>{const d=u;let h=!1;return t?.map(m=>{const p=mm(m);if(!p)return;if(p.object==="ShopifyWidget"){const v=p.id;if(!n[v]){h=!0;const y=f.createRef();d[v]=y}}}),h?d:u})},[t,n]);const c=u=>{o.current&&clearTimeout(o.current);const d=n[u].current;if(d&&i?.current){const m=d.getBoundingClientRect().top+i.current?.scrollTop-200;i?.current?.scrollTo({top:m,behavior:"smooth"})}a(u),o.current=setTimeout(()=>{a(void 0)},2e3)};return l.jsx(dye.Provider,{value:{selectedWidgetId:s,scrollToWidget:c,entityRefs:n},children:e})});sot.displayName="ScrollToWidgetProvider";const fye=f.createContext({entityId:"",menuItems:void 0,variant:void 0}),C1=()=>{const e=f.useContext(fye);if(!e)throw new Error("useEntity must be used within EntityContext");return e},aot=({children:e,id:t,menuItems:n,className:r,entityVariant:s})=>l.jsx(fye.Provider,{value:{entityId:t,menuItems:n,variant:s},children:l.jsx(Fn,{variant:s==="hide-chrome"?"transparent":void 0,className:U("group/card flex flex-col",{"p-md":s!=="hide-chrome"},r),children:e})}),iot=({className:e,...t})=>l.jsx(H,{className:U("gap-sm md:gap-md relative flex flex-col rounded-lg md:flex-row",e),...t}),oot=({primaryButtonText:e,onPrimaryButtonClick:t,listNumber:n,className:r,children:s,...a})=>l.jsxs("div",{className:U("relative md:w-[calc(30%_-_8px)]",r),...a,children:[l.jsxs("div",{className:"gap-md flex h-full flex-col justify-between",children:[s,e&&t&&l.jsx("div",{className:"flex flex-col items-stretch md:max-w-[160px]",children:l.jsx(ye,{text:e,variant:"primary",onClick:t,pill:!0,size:"small"})})]}),typeof n=="number"&&l.jsx(j,{variant:"smallCaps",color:"light",className:"border-borderMain bg-background absolute -left-1.5 -top-1.5 flex size-5 shrink-0 items-center justify-center rounded-full border shadow-sm",children:n})]}),lot=({className:e,buttonProps:t,secondaryButtonProps:n,trailingComponent:r,children:s,...a})=>{const{menuItems:i}=C1();return l.jsx("div",{className:U("flex min-w-0 flex-1 flex-col",e),...a,children:l.jsxs("div",{className:"gap-sm md:gap-md flex flex-1 flex-col justify-between rounded-lg",children:[l.jsx("div",{className:"gap-xs flex flex-col justify-between",children:l.jsx("div",{className:U("gap-xs relative mb-4 mt-2 flex flex-col md:mt-0"),children:s})}),(t||n)&&l.jsxs("div",{className:"gap-sm flex w-full items-center",children:[t&&l.jsx(ye,{variant:"primary",pill:!0,size:"small",...t,extraCSS:`${t.extraCSS} w-full max-w-[160px]`}),n&&l.jsx(ye,{variant:"border",pill:!0,size:"small",...n,extraCSS:`${n.extraCSS}`}),r,i&&i.length>0&&l.jsx("div",{className:"duration-150 group-hover/card:opacity-100 md:opacity-0",children:l.jsx(Xn.Menu,{menuItems:i,placement:"bottom-start"})})]})]})})},cot=({title:e,onTitleClick:t,className:n})=>{const{selectedWidgetId:r}=dj(),{entityId:s}=C1(),{isMobileStyle:a}=Oe();return l.jsx("div",{onClick:t,className:n,children:l.jsx(j,{variant:a?"section-title":"entry-title",className:U("line-clamp-3 cursor-pointer !leading-tight duration-150 hover:opacity-70 md:text-2xl"),children:l.jsx("span",{className:U("rounded-md duration-300",{"bg-super/10":r===s}),children:e})})})},uot=({loading:e,className:t,onClick:n,trailingText:r})=>{const{$t:s}=K();return l.jsxs(H,{className:U("group relative flex h-12 items-center",{"opacity-50":e,"cursor-pointer":!e},t),onClick:e?void 0:n,children:[!e&&l.jsx(H,{variant:"offsetPlus",className:"inset-y-xs absolute -inset-x-3 rounded-md opacity-0 duration-150 group-hover:opacity-100"}),l.jsxs("div",{className:"relative w-full",children:[l.jsxs("div",{className:U("gap-md relative flex w-full items-center justify-between",{"opacity-0":e}),children:[l.jsx(j,{variant:"smallBold",color:"light",children:s({defaultMessage:"View More",id:"QQSdHPJWXu"})}),l.jsxs(j,{variant:"tiny",color:"light",className:"gap-sm flex items-center",children:[r,l.jsx(_e,{icon:Wr,size:"xs"})]})]}),e&&l.jsxs("div",{className:"absolute inset-0 flex items-center justify-between",children:[l.jsx(H,{className:"h-2 w-[100px] rounded-full",variant:"offsetPlus"}),l.jsx(gt,{icon:rot.faChevronRight,className:"text-textMain/35"})]})]})]})},dot=({title:e,className:t,children:n,trailingContent:r,defaultExpanded:s=!1})=>{const[a,i]=f.useState(!s);return l.jsxs(H,{className:t,children:[l.jsxs("div",{onClick:()=>i(!a),className:"group relative flex h-12 cursor-pointer select-none items-center justify-between",children:[l.jsx(H,{variant:"offsetPlus",className:"inset-y-xs absolute -inset-x-3 rounded-md opacity-0 duration-150 group-hover:opacity-100"}),l.jsx(j,{variant:"smallBold",color:"light",className:"relative",children:e}),l.jsxs("div",{className:"gap-md relative flex items-center",children:[l.jsx("div",{className:"gap-xs flex items-stretch",children:r}),l.jsx(gt,{icon:uye.faChevronDown,className:U("text-text relative opacity-50",{"rotate-180":!a}),size:"sm"})]})]}),l.jsx(md,{transition:{ease:mo(.16,1,.3,1),duration:.2},initial:!1,children:!a&&l.jsx(mc,{transition:{duration:.1},exit:{y:-5,opacity:0},animate:{y:0,opacity:1},initial:{y:-5,opacity:0},children:l.jsx("div",{className:"pb-4",children:n})})})]})},fj=aot,fot=iot,hot=cot,TC=dot,mot=oot,pot=lot,got=uot;var NC={},RC={},VH;function vot(){return VH||(VH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="xmark",r=384,s=512,a=[128473,10005,10006,10060,215,"close","multiply","remove","times"],i="f00d",o="M345 137c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-119 119L73 103c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l119 119L39 375c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l119-119L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-119-119L345 137z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faXmark=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(RC)),RC}var GH;function yot(){return GH||(GH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=vot();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faClose=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(NC)),NC}var xot=yot();const bot=T.memo(f.forwardRef(({isOpen:e,children:t,placement:n,hoverOpen:r=!1,disabled:s=!1,onOpen:a,onClose:i,content:o,contentWidth:c="360px",isMobileStyle:u,boxProps:d,canOutsideClickClose:h,removeScroll:m,...p},g)=>{const[v,y]=f.useState(!1),x=f.useMemo(()=>e!==void 0,[e]),b=f.useMemo(()=>x?e:v,[x,e,v]),w=f.useCallback(()=>{!b&&!s&&(a?.(),x||y(!0))},[s,x,a,b]),_=f.useCallback(()=>{b&&!s&&(i?.(),x||y(!1))},[s,x,i,b]);f.useImperativeHandle(g,()=>({dismiss:_}),[_]);const C=f.useMemo(()=>({width:c??void 0}),[c]),S=f.useMemo(()=>l.jsx(H,{style:C,...d,children:o}),[C,d,o]),k=f.useMemo(()=>({canOutsideClickClose:h??!0,removeScroll:m}),[h,m]);return u?l.jsxs(l.Fragment,{children:[l.jsx(jt,{variant:"bottom-left-sheet",actionList:je,isOpen:b,onClose:_,children:o}),l.jsx("span",{onClick:w,children:t})]}):l.jsx(Sl,{isOpen:b,hoverOpen:r,placement:n,onClose:_,onOpen:w,overlayProps:k,content:S,hasInteractiveContent:!0,...p,children:t})})),hye=T.memo(({inFlight:e,chooseIfReason:t,chooseIfLeadInCopy:n,pros:r,cons:s,className:a,viewState:i="collapsed",id:o})=>{const c=!t&&e;return l.jsx(hs,{active:c,className:U("relative",a),children:l.jsx(md,{children:l.jsx(mc,{children:l.jsxs("div",{className:"gap-sm pb-xs relative mt-3 flex flex-col rounded-md md:mx-0",children:[l.jsx(mye,{reason:t,leadInCopy:n,loading:c}),l.jsx(u0,{pros:r??je,cons:s??je,loading:c,viewState:i,id:o})]})})})})});hye.displayName="EntityItemGuidance";const mye=T.memo(({reason:e,icon:t,leadInCopy:n,loading:r,textVariant:s="base"})=>{const{variant:a}=C1();return!e&&!r?null:l.jsxs("div",{className:U("flex items-start gap-[12px] rounded-md md:items-center"),children:[!r&&t&&l.jsxs(H,{className:"mt-xs text-background relative isolate hidden aspect-square size-8 shrink-0 items-center justify-center rounded-full md:mt-0 md:flex",children:[l.jsx("svg",{width:"75",height:"75",viewBox:"0 0 75 75",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute h-auto w-full",children:l.jsx("path",{d:"M30.4039 2.95197C34.316 -0.98399 40.684 -0.983989 44.5961 2.95197L46.7415 5.11049C48.627 7.00748 51.1935 8.07056 53.8681 8.06241L56.9114 8.05315C62.4608 8.03625 66.9637 12.5392 66.9468 18.0886L66.9376 21.1319C66.9294 23.8065 67.9925 26.373 69.8895 28.2585L72.048 30.4039C75.984 34.316 75.984 40.684 72.048 44.5961L69.8895 46.7415C67.9925 48.627 66.9294 51.1935 66.9376 53.8681L66.9468 56.9114C66.9637 62.4608 62.4608 66.9637 56.9114 66.9469L53.8681 66.9376C51.1935 66.9294 48.627 67.9925 46.7415 69.8895L44.5961 72.048C40.684 75.984 34.316 75.984 30.4039 72.048L28.2585 69.8895C26.373 67.9925 23.8065 66.9294 21.1319 66.9376L18.0886 66.9469C12.5392 66.9637 8.03625 62.4608 8.05315 56.9114L8.06241 53.8681C8.07056 51.1935 7.00748 48.627 5.11049 46.7415L2.95197 44.5961C-0.983992 40.684 -0.983987 34.316 2.95197 30.4039L5.11049 28.2585C7.00748 26.373 8.07056 23.8065 8.06241 21.1319L8.05315 18.0886C8.03625 12.5392 12.5392 8.03625 18.0886 8.05315L21.1319 8.06241C23.8065 8.07056 26.373 7.00748 28.2585 5.11049L30.4039 2.95197Z",fill:"#D9D9D9",className:"fill-super"})}),l.jsx(gt,{icon:t,size:"sm",className:"relative"})]}),l.jsx("div",{className:"w-full",children:r?l.jsxs("div",{className:"gap-sm pb-sm flex flex-col",children:[l.jsx(H,{variant:a==="hide-chrome"?"offset":"offsetPlus",className:"h-2 w-full rounded-full"}),l.jsx(H,{variant:a==="hide-chrome"?"offset":"offsetPlus",className:"h-2 rounded-full"}),l.jsx(H,{variant:a==="hide-chrome"?"offset":"offsetPlus",className:"h-2 w-[50%] rounded-full"})]}):l.jsxs(j,{variant:s,children:[l.jsx("span",{className:"font-medium",children:n})," ",e]})})]})});mye.displayName="EntityItemChooseIf";const pye=3,gye=2,u0=T.memo(({pros:e,cons:t,loading:n,className:r,viewState:s="collapsed",id:a,scrollOnMobile:i=!0})=>!n&&e.length===0&&t.length===0?null:l.jsx("div",{className:r,children:s==="collapsed"?l.jsx(yye,{loading:n,pros:e,cons:t,id:a,scrollOnMobile:i}):l.jsx(xye,{loading:n,pros:e,cons:t})}));u0.displayName="EntityItemProsCons";const vye=T.memo(({children:e,loading:t,scrollOnMobile:n=!0})=>{const{isMobileStyle:r}=Oe(),{variant:s}=C1();return r&&n?l.jsx("div",{className:"-mx-md",children:l.jsx(Oc,{orientation:"horizontal",showScrollIndicator:!1,children:l.jsx("div",{className:"flex",children:l.jsx("ul",{className:"gap-sm px-md flex shrink-0",children:e})})})}):l.jsx("ul",{className:U("flex flex-wrap",{"gap-0":s==="dense-card"&&!t,"gap-sm":s!=="dense-card"||t}),children:e})});vye.displayName="ProsConsCollapsedContainer";const yye=T.memo(({loading:e,pros:t,cons:n,id:r,scrollOnMobile:s=!0})=>l.jsx(vye,{loading:e,scrollOnMobile:s,children:l.jsx(wt,{initial:!1,children:l.jsx(dd,{children:e?Array.from({length:3}).map((a,i)=>l.jsx(E2,{asPlaceholder:!0,text:"",type:"con",label:"",id:r},i)):l.jsxs(l.Fragment,{children:[t.map(a=>l.jsx(E2,{text:a.description,type:"pro",label:a.label,id:r},a.label+r)).slice(0,pye),n.map(a=>l.jsx(E2,{text:a.description,type:"con",label:a.label,id:r},a.label+r)).slice(0,gye)]})})})}));yye.displayName="ProsConsCollapsed";const xye=T.memo(({loading:e,pros:t,cons:n})=>l.jsx("div",{className:"-mx-6",children:l.jsx(Oc,{orientation:"horizontal",showScrollIndicator:!1,children:l.jsx("ul",{className:"gap-sm flex px-6",children:e?Array.from({length:3}).map((r,s)=>l.jsx(bye,{},s)):l.jsxs(l.Fragment,{children:[t.map(r=>l.jsx(M8,{text:r.description,type:"pro",label:r.label},r.label)).slice(0,pye),n.map(r=>l.jsx(M8,{text:r.description,type:"con",label:r.label},r.label)).slice(0,gye)]})})})}));xye.displayName="ProsConsExpanded";const E2=T.memo(({text:e,label:t,type:n,asPlaceholder:r,id:s})=>{const{trackEvent:a}=Ne(),{variant:i}=C1(),o=()=>{r||a("shopping pro con hover",{type:n,label:t})},c={initial:{opacity:0,x:-3},animate:{opacity:1,x:0}},u=f.useMemo(()=>l.jsx("div",{className:U("px-sm py-sm pointer-events-none translate-y-0"),children:l.jsx(j,{variant:"small",children:e})}),[e]);return l.jsx(ke.li,{variants:c,initial:"initial",animate:"animate",transition:{duration:.1,ease:Vs},className:U("group inline-flex shrink-0 cursor-default rounded-full duration-150",{"gap-xs":i!=="dense-card","gap-sm":i==="dense-card","hover:bg-offsetPlus/50":!r,"border-borderMain/50 border duration-150":!r&&i!=="dense-card","!border-transparent !bg-transparent":r}),onMouseEnter:o,children:l.jsx(bot,{hoverOpen:!0,placement:"bottom-start",contentWidth:"200px",removeScroll:!1,content:u,isMobileStyle:!1,delayTime:1,disabled:r,hasInteractiveContent:!1,childrenClassName:"inline-flex",children:l.jsxs("div",{className:U("px-xs py-xs relative inline-flex items-center pr-[10px]",{"bg-offset dark:bg-offsetPlus":r,"h-[26px] rounded-full":r,"gap-2xs":i==="dense-card","gap-xs":i!=="dense-card"}),children:[l.jsx("div",{className:U("size-md flex shrink-0 items-center justify-center rounded-full",{"text-super":n==="pro"},{"text-textOff":n==="con"},{"bg-transparent":r}),children:l.jsx(j,{variant:"tiny",color:n==="pro"?"super":"light",className:"inline-flex",children:l.jsx(_e,{className:r?"opacity-0":"",icon:n==="pro"?da:tn,size:"xs"})})}),r?l.jsx(j,{variant:"tiny",className:"w-10 shrink-0",children:" "}):l.jsx(j,{variant:"tiny",color:"light",children:l.jsx("span",{className:U({"text-super":n==="pro"}),children:t})})]})})},t+s)});E2.displayName="EntityItemProConItem";const bye=T.memo(()=>l.jsx(H,{className:"p-sm h-[136px] w-[200px] rounded-md",variant:"offset"}));bye.displayName="ExpandedLoading";const M8=T.memo(({text:e,label:t,type:n})=>l.jsxs(H,{className:"p-sm w-[200px] rounded-md",variant:"offset",children:[l.jsxs("div",{className:"mb-2xs gap-xs flex items-center",children:[l.jsx(H,{variant:n==="pro"?"super":"textColor",className:U("size-md flex shrink-0 items-center justify-center rounded-full",{"opacity-50":n==="con"}),children:l.jsx(gt,{icon:n==="pro"?N3.faCheck:xot.faClose,className:"text-background",size:"2xs"})}),l.jsx(j,{variant:"smallBold",color:n==="pro"?"super":"light",children:t})]}),l.jsx(j,{variant:"small",color:"light",children:e})]}));M8.displayName="ProConItemExpanded";const Gu=f.memo(({src:e,onClick:t,showViewMore:n,onMouseEnter:r,onMouseLeave:s,className:a,imageClassName:i,albumSize:o})=>{const{$t:c}=K();return l.jsxs("div",{onClick:t,onMouseEnter:r,onMouseLeave:s,className:U("bg-offsetPlus group relative aspect-square h-full w-full cursor-pointer overflow-hidden rounded duration-150",a),children:[l.jsx("img",{src:e,alt:"",className:U("m-0 size-full object-contain duration-150 group-hover:scale-[1.02]",i),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:"lazy",decoding:"async"}),o&&l.jsx("div",{className:"absolute bottom-1.5 right-1.5 flex items-center justify-center rounded-full bg-black/40",children:l.jsxs(j,{variant:"tiny",color:"white",className:"gap-sm px-sm py-xs relative flex items-center",children:[o,l.jsx(_e,{icon:YDe,size:"xs"})]})}),n&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 dark:bg-black/80",children:l.jsxs(j,{variant:"tiny",color:"white",className:"px-sm py-xs relative rounded-full",children:[l.jsx("span",{className:"absolute inset-0 rounded-[inherit] bg-black opacity-30 dark:bg-white dark:opacity-10"}),l.jsx("span",{className:"relative opacity-80 dark:opacity-60",children:c({defaultMessage:"View More",id:"QQSdHPJWXu"})})]})})]})}),wot=()=>{const[e,t]=f.useState(!1),n=f.useRef(null),r=f.useRef(!1),s=f.useRef({x:0,y:0}),a=f.useRef(null);f.useEffect(()=>{const c=u=>{s.current={x:u.clientX,y:u.clientY}};return document.addEventListener("mousemove",c,{passive:!0}),()=>document.removeEventListener("mousemove",c)},[]);const i=f.useCallback(()=>{if(!n.current)return;const c=n.current.getBoundingClientRect(),{x:u,y:d}=s.current,h=u>=c.left&&u<=c.right&&d>=c.top&&d<=c.bottom;r.current&&!h&&(t(!0),r.current=!1,a.current&&(clearInterval(a.current),a.current=null))},[]),o=f.useCallback(()=>{t(!1),r.current=!0,a.current=setInterval(i,50)},[i]);return f.useEffect(()=>()=>{a.current&&clearInterval(a.current)},[]),[e,n,o]},wye=f.memo(({images:e,className:t,badgeText:n,imageClassName:r})=>{const[s,a]=f.useState(0),[i,o]=f.useState(!1),c=f.useRef(null),u=4,[d,h,m]=wot(),p=f.useCallback(()=>{i||(o(!0),c.current=setInterval(()=>{a(y=>y===e.length-1?0:y+1)},1e3))},[i,e.length]),g=f.useCallback(()=>{o(!1),c.current&&(clearInterval(c.current),c.current=null),a(0)},[]),v=f.useCallback(()=>{m(),p()},[m,p]);return f.useEffect(()=>{d&&g()},[d,g]),f.useEffect(()=>()=>{c.current&&(clearInterval(c.current),c.current=null)},[]),l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{ref:h,className:U("p-xs grid grid-cols-1 grid-rows-1 rounded bg-white",t),onMouseEnter:v,children:i?e.map((y,x)=>l.jsx(Gu,{src:y,className:U("rounded-inherit col-start-1 row-start-1 bg-white !duration-100",{"opacity-0":x!==s,hidden:x!==s&&!i}),imageClassName:U(r,"!scale-100")},x)):l.jsx(Gu,{src:e[s],className:"rounded-inherit col-start-1 row-start-1 bg-white",imageClassName:U(r,"!scale-100")})}),e.length>1&&l.jsx("div",{className:U("bottom-sm pointer-events-none absolute left-1/2 -translate-x-1/2 duration-150",{"translate-y-0 opacity-50":i,"translate-y-0.5 opacity-0":!i}),children:l.jsx(_ot,{images:e,activeIndex:s,maxDots:u,isAnimating:i})}),n&&l.jsx("div",{className:"gap-sm right-xs top-xs pointer-events-none absolute flex items-center",children:n&&l.jsx(j,{variant:"smallCaps",className:"bg-text-200 !text-background dark:bg-background-200 dark:!text-text flex h-5 items-center whitespace-nowrap rounded-full px-1.5 !text-[10px] backdrop-blur-sm",children:n})})]})}),_ot=f.memo(({images:e,activeIndex:t,maxDots:n,isAnimating:r})=>l.jsx(ke.div,{layout:!0,layoutRoot:!0,className:"gap-xs flex items-center justify-center",children:l.jsx(wt,{mode:"popLayout",children:e.map((s,a)=>{let i=0,o=0;return t<n?(i=Math.max(t-Math.floor(n/2),0),o=i+n):(o=Math.min(t+Math.floor(n/2),e.length-1),i=o-n),a>o||a<i?null:l.jsx(ke.div,{initial:{opacity:0,x:4},animate:{opacity:1,x:0,scale:a===t?1:.6},exit:{opacity:0,x:-4},transition:{duration:.15},layout:"position",children:l.jsx("div",{className:U("bg-dark h-1.5 rounded-full border border-white p-px duration-200",{"w-4":a===t,"w-1.5":a!==t}),children:l.jsx(ke.div,{className:"h-full rounded-full bg-white/50",initial:{width:"0",opacity:0},animate:{width:a===t&&r?"100%":"0",opacity:r?1:0},transition:{width:{duration:1},opacity:{duration:.15}}},s+"progress")})},a)})})})),Cot=25,pm=T.memo(({rating:e,className:t,reviewCount:n,size:r="xs",textVariant:s="small",reviewTextVariant:a="small",reviewTextColor:i="light",variant:o,showCount:c=!0,minReviewCount:u=Cot,showRatingLabel:d=!0,url:h,color:m="default"})=>{const p=Math.floor(e),g=e%1===0?0:1,v=5-p-g;if(e===0||!n||n<u)return null;const y=l.jsxs("div",{className:U("gap-xs flex items-center",t),children:[l.jsxs("div",{className:"flex items-center",children:[o==="truncated"?l.jsx(_e,{icon:Lf,size:r,className:"text-super translate-y-[-1px]"}):Array.from({length:p}).map((x,b)=>l.jsx(_e,{icon:Lf,size:r,className:"text-super"},`rating-star-full-${b}`)),o!=="truncated"&&Array.from({length:g}).map((x,b)=>l.jsx(_ye,{fraction:e%1,size:r},`rating-star-half-${b}`)),o!=="truncated"&&Array.from({length:v}).map((x,b)=>l.jsx("span",{className:"inline-flex opacity-20",children:l.jsx(_e,{icon:Lf,size:r,className:"text-super"},b)},`rating-star-empty-${b}`))]}),d&&l.jsx(j,{variant:s,className:"group-hover/link:text-super relative font-medium leading-none",color:m,children:l.jsx(ZO,{value:e,maximumFractionDigits:1})}),n&&n>0&&c&&l.jsxs(j,{variant:a,color:i,className:"group-hover/link:text-super relative leading-none",children:["(",l.jsx(ZO,{value:n}),")"]})]});return h?l.jsx(it,{href:h,target:"_blank",className:"group/link",children:y}):y});pm.displayName="EntityItemRating";const _ye=T.memo(({fraction:e,size:t})=>l.jsxs("div",{className:"isolate inline-grid grid-cols-1 grid-rows-1",children:[l.jsx("span",{className:"z-1 text-textMain relative col-start-1 row-start-1 inline-flex items-center opacity-30",children:l.jsx("span",{className:"inline-flex",children:l.jsx(_e,{icon:Lf,size:t})})}),l.jsx("span",{className:"z-2 relative col-start-1 row-start-1 inline-flex items-center",children:l.jsx("span",{className:"text-super inline-flex overflow-hidden",style:{width:e*100+"%"},children:l.jsx(_e,{icon:Lf,size:t,className:"shrink-0"})})})]}));_ye.displayName="HalfStar";const Cye=T.memo(()=>l.jsx("svg",{className:"h-auto w-full",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4635.92 708.22",children:l.jsx("path",{d:"M4806.79,746.44a25,25,0,1,0,25,25A25,25,0,0,0,4806.79,746.44Zm0,46.08a21.08,21.08,0,1,1,21.08-21.07A21.09,21.09,0,0,1,4806.79,792.52Zm8.12-25.33c0-4.55-3.25-7.25-8-7.25h-8v22.77h3.94v-8.26h4.26l4.13,8.26h4.23L4811,773.6A6.59,6.59,0,0,0,4814.91,767.19Zm-8.16,3.78h-3.87v-7.55h3.87c2.63,0,4.23,1.33,4.23,3.77S4809.38,771,4806.75,771ZM569.17,605.31a97.95,97.95,0,1,1-97.94-97.94A97.94,97.94,0,0,1,569.17,605.31Zm552.18,0a97.95,97.95,0,1,1-97.95-97.94A97.95,97.95,0,0,1,1121.35,605.31ZM1099,304.09C998.87,235.77,878,195.89,747.32,195.89a619.47,619.47,0,0,0-351,108.2H195.89l90.17,98.12a274.9,274.9,0,0,0-89.89,203.66c0,152.19,123.38,275.57,275.57,275.57A274.54,274.54,0,0,0,659,808l88.34,96.12L835.66,808a274.54,274.54,0,0,0,187.23,73.4c152.19,0,275.68-123.38,275.68-275.57a274.9,274.9,0,0,0-89.89-203.66l90.17-98.12ZM471.74,792.36c-103,0-186.49-83.49-186.49-186.49s83.5-186.49,186.49-186.49,186.5,83.49,186.5,186.49S574.74,792.36,471.74,792.36ZM747.37,600.5c0-122.73-89.26-228-207-273.06a538.15,538.15,0,0,1,413.93,0C836.62,372.49,747.37,477.78,747.37,600.5Zm462,5.37c0,103-83.5,186.49-186.49,186.49s-186.5-83.49-186.5-186.49,83.5-186.49,186.5-186.49S1209.38,502.87,1209.38,605.87Zm654.11-173.45h43.37v85.84h-50.75c-39.09,0-64.17,19.18-64.17,58.28V792.36h-92.78V432.42h92.78V492.9C1800.05,450.12,1829.56,432.42,1863.49,432.42Zm186.35-85.59a56.06,56.06,0,0,1-112.12,0c0-31.72,24.34-56.8,56.06-56.8S2049.84,315.11,2049.84,346.83Zm-102.33,85.59H2040V792.36h-92.53Zm347.35-6.08a179,179,0,0,0-109.22,36.52V432.42h-92.52V898h92.52V761.92a179,179,0,0,0,109.22,36.52c102.76,0,186-83.3,186-186.05S2397.62,426.34,2294.86,426.34Zm-8.15,287.12a101.07,101.07,0,1,1,101.07-101.07A101.07,101.07,0,0,1,2286.71,713.46Zm1890.57-34.8c0,69.4-59.54,119.78-141.57,119.78-85.12,0-144.57-51.57-144.57-125.42v-2h90.54v2c0,30.82,22,51.53,54.78,51.53,31.42,0,52.53-15.33,52.53-38.14,0-21.61-14.61-33.69-53.89-44.56l-51.71-14.1c-54.34-14.71-85.5-50.12-85.5-97.14,0-60.42,57-104.27,135.57-104.27,79.3,0,132.58,43.88,132.58,109.21v2.05h-85.3v-2.05c0-22.18-20.77-39.55-47.28-39.55-27.84,0-47.28,12.78-47.28,31.09,0,18.76,13.84,29.66,49.36,38.91l54,14.81C4162.05,600.16,4177.28,644.7,4177.28,678.66Zm-1368-215.8A179,179,0,0,0,2700,426.34c-102.76,0-186.05,83.3-186.05,186.05S2597.26,798.44,2700,798.44a179,179,0,0,0,109.22-36.52v30.44h92.52V432.42h-92.52Zm0,149.54a101.07,101.07,0,1,1-101.07-101.08A101.08,101.08,0,0,1,2809.24,612.4ZM3236,462.86a179,179,0,0,0-109.22-36.52c-102.75,0-186.05,83.3-186.05,186.05s83.3,186.05,186.05,186.05A179,179,0,0,0,3236,761.92v30.44h92.53V304.3H3236Zm-101.06,250.6A101.07,101.07,0,1,1,3236,612.39,101.07,101.07,0,0,1,3134.89,713.46Zm623.34-281h92.53V792.36h-92.53Zm102.33-85.59a56.06,56.06,0,1,1-112.12,0c0-31.72,24.34-56.8,56.06-56.8S3860.56,315.11,3860.56,346.83Zm530.71,79.51c-102.75,0-186.05,83.3-186.05,186.05s83.3,186.05,186.05,186.05,186-83.3,186-186.05S4494,426.34,4391.27,426.34Zm0,287.12a101.07,101.07,0,1,1,101.07-101.07A101.06,101.06,0,0,1,4391.27,713.46ZM1744.55,386.87H1613.14V792.36h-92.22V386.87H1389.51V304.3h355Zm1877.76,45.55h97.21L3595.31,792.36H3484L3360.47,432.42h97.2L3540,693.79Zm1162.19,0h43.37v85.84h-50.75c-39.09,0-64.18,19.18-64.18,58.28V792.36h-92.77V432.42h92.77V492.9C4721.06,450.12,4750.57,432.42,4784.5,432.42Z",transform:"translate(-195.89 -195.89)",fill:"currentColor"})}));Cye.displayName="TripadvisorLogo";const Sye=T.memo(()=>l.jsxs("svg",{className:"h-auto w-full",viewBox:"0 0 1000 385",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M806.495 227.151L822.764 223.392C823.106 223.313 823.671 223.183 824.361 222.96C828.85 221.753 832.697 218.849 835.091 214.862C837.485 210.874 838.241 206.113 837.198 201.582C837.175 201.482 837.153 201.388 837.13 201.289C836.596 199.117 835.66 197.065 834.37 195.239C832.547 192.926 830.291 190.991 827.728 189.542C824.711 187.82 821.553 186.358 818.289 185.171L800.452 178.659C790.441 174.937 780.432 171.309 770.328 167.771C763.776 165.439 758.224 163.393 753.4 161.901C752.49 161.62 751.485 161.34 750.669 161.058C744.837 159.271 740.739 158.53 737.272 158.505C734.956 158.42 732.649 158.841 730.511 159.738C728.283 160.699 726.282 162.119 724.639 163.906C723.822 164.835 723.054 165.806 722.337 166.815C721.665 167.843 721.049 168.907 720.491 170.001C719.876 171.174 719.348 172.391 718.911 173.642C715.6 183.428 713.951 193.7 714.032 204.029C714.091 213.368 714.342 225.354 719.475 233.479C720.712 235.564 722.372 237.366 724.348 238.769C728.004 241.294 731.7 241.627 735.544 241.904C741.289 242.316 746.855 240.905 752.403 239.623L806.45 227.135L806.495 227.151Z",fill:"currentColor"}),l.jsx("path",{d:"M987.995 140.779C983.553 131.457 977.581 122.947 970.328 115.601C969.39 114.669 968.385 113.806 967.321 113.02C966.339 112.283 965.318 111.598 964.264 110.967C963.18 110.373 962.065 109.837 960.924 109.362C958.668 108.476 956.25 108.077 953.829 108.19C951.513 108.322 949.254 108.956 947.207 110.049C944.105 111.591 940.748 114.07 936.283 118.221C935.666 118.834 934.891 119.525 934.195 120.177C930.511 123.641 926.413 127.911 921.536 132.883C914.002 140.497 906.583 148.152 899.21 155.89L886.017 169.571C883.601 172.071 881.401 174.771 879.441 177.643C877.771 180.07 876.59 182.799 875.963 185.678C875.6 187.886 875.653 190.142 876.12 192.329C876.143 192.429 876.164 192.523 876.187 192.622C877.229 197.154 879.988 201.103 883.883 203.637C887.778 206.172 892.505 207.094 897.068 206.211C897.791 206.106 898.352 205.982 898.693 205.898L969.033 189.646C974.576 188.365 980.202 187.191 985.182 184.3C988.522 182.363 991.699 180.443 993.878 176.569C995.043 174.441 995.748 172.092 995.948 169.675C997.027 160.089 992.021 149.202 987.995 140.779Z",fill:"currentColor"}),l.jsx("path",{d:"M862.1 170.358C867.197 163.955 867.184 154.41 867.64 146.607C869.174 120.536 870.79 94.4619 872.07 68.3766C872.56 58.4962 873.624 48.7498 873.036 38.7944C872.552 30.5816 872.492 21.1521 867.307 14.4122C858.154 2.52688 838.636 3.50371 825.319 5.34732C821.239 5.91358 817.153 6.6749 813.099 7.64807C809.045 8.62124 805.033 9.6841 801.108 10.9412C788.329 15.127 770.365 22.8103 767.323 37.5341C765.608 45.858 769.672 54.3727 772.824 61.9691C776.645 71.1774 781.865 79.4721 786.622 88.1401C799.198 111.024 812.008 133.765 824.782 156.53C828.597 163.326 832.755 171.933 840.135 175.454C840.623 175.667 841.121 175.856 841.628 176.018C844.937 177.272 848.545 177.513 851.993 176.712C852.201 176.664 852.405 176.617 852.608 176.57C855.792 175.704 858.675 173.973 860.937 171.568C861.345 171.185 861.734 170.782 862.1 170.358Z",fill:"currentColor"}),l.jsx("path",{d:"M855.997 240.155C854.008 237.355 851.184 235.258 847.931 234.162C844.677 233.065 841.16 233.027 837.881 234.051C837.111 234.307 836.361 234.618 835.636 234.983C834.515 235.554 833.445 236.221 832.439 236.976C829.507 239.148 827.039 241.97 824.791 244.8C824.221 245.522 823.7 246.483 823.022 247.1L811.708 262.663C805.295 271.382 798.971 280.123 792.7 289.003C788.608 294.735 785.068 299.576 782.273 303.859C781.743 304.666 781.193 305.567 780.689 306.284C777.338 311.469 775.441 315.252 774.467 318.622C773.735 320.862 773.503 323.234 773.788 325.572C774.1 328.008 774.92 330.35 776.195 332.447C776.873 333.499 777.604 334.516 778.385 335.495C779.196 336.436 780.058 337.332 780.966 338.18C781.936 339.105 782.973 339.957 784.07 340.729C791.879 346.162 800.428 350.066 809.421 353.083C816.904 355.567 824.682 357.053 832.555 357.504C833.894 357.572 835.237 357.543 836.572 357.417C837.809 357.309 839.04 357.136 840.26 356.9C841.479 356.615 842.681 356.266 843.863 355.853C846.162 354.993 848.255 353.66 850.008 351.94C851.667 350.279 852.944 348.276 853.749 346.07C855.057 342.81 855.917 338.671 856.483 332.526C856.532 331.652 856.657 330.604 856.744 329.644C857.19 324.545 857.395 318.556 857.723 311.514C858.276 300.685 858.71 289.903 859.053 279.09C859.053 279.09 859.782 259.875 859.78 259.865C859.946 255.437 859.81 250.53 858.582 246.121C858.042 244.008 857.17 241.994 855.997 240.155V240.155Z",fill:"currentColor"}),l.jsx("path",{d:"M983.707 270.24C981.346 267.651 978 265.069 972.722 261.878C971.961 261.453 971.068 260.886 970.244 260.392C965.85 257.749 960.557 254.969 954.374 251.611C944.876 246.396 935.372 241.312 925.778 236.271L908.825 227.28C907.946 227.024 907.053 226.389 906.225 225.989C902.968 224.432 899.516 222.978 895.932 222.311C894.697 222.074 893.444 221.944 892.186 221.923C891.375 221.913 890.565 221.962 889.761 222.07C886.371 222.595 883.234 224.178 880.795 226.591C878.356 229.005 876.74 232.128 876.178 235.513C875.919 237.667 875.998 239.847 876.411 241.976C877.24 246.487 879.254 250.95 881.338 254.858L890.391 271.824C895.428 281.394 900.526 290.907 905.752 300.391C909.123 306.578 911.929 311.871 914.557 316.26C915.055 317.085 915.62 317.974 916.046 318.738C919.245 324.013 921.815 327.333 924.421 329.715C926.109 331.345 928.132 332.586 930.349 333.351C932.68 334.124 935.146 334.398 937.59 334.155C938.832 334.008 940.066 333.795 941.286 333.516C942.488 333.193 943.672 332.808 944.833 332.362C946.087 331.889 947.305 331.327 948.478 330.678C955.36 326.82 961.703 322.07 967.345 316.552C974.112 309.894 980.093 302.633 984.745 294.321C985.392 293.145 985.952 291.924 986.422 290.667C986.86 289.504 987.24 288.319 987.558 287.118C987.834 285.896 988.045 284.662 988.191 283.418C988.422 280.977 988.138 278.514 987.358 276.19C986.591 273.963 985.345 271.932 983.707 270.24V270.24Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M400.03 105.19C400.03 91.2089 411.42 79.7877 425.167 79.7877C438.717 79.7877 449.714 91.2089 450.303 105.387V303.682C450.303 317.663 438.913 329.084 425.167 329.084C411.027 329.084 400.03 317.663 400.03 303.682V105.19ZM376.657 227.672C376.461 231.61 375.479 238.896 370.373 244.213C364.874 249.923 357.412 251.302 353.092 251.302C335.123 251.4 317.155 251.45 299.187 251.499C281.218 251.548 263.248 251.597 245.279 251.696C246.85 256.619 249.992 264.101 257.062 270.994C261.382 275.129 265.506 277.492 267.273 278.476C269.434 279.855 276.896 283.793 286.126 283.793C295.945 283.793 304.586 280.642 313.03 276.31L313.736 275.945C319.604 272.904 325.66 269.766 332.079 268.631C338.363 267.646 345.04 268.827 349.949 273.16C355.841 278.279 358.197 285.762 356.037 293.442C353.484 302.106 346.218 309.589 338.559 314.118C334.239 316.678 329.526 318.844 324.813 320.617C318.725 322.783 312.441 324.358 306.157 325.343C299.872 326.327 293.392 326.721 286.911 326.524H286.911C283.769 326.524 280.431 326.524 277.092 326.13C273.558 325.736 270.023 324.949 266.684 324.161C261.186 322.98 256.08 321.207 250.974 318.844C246.064 316.678 241.155 313.921 236.638 310.771C232.121 307.62 227.997 303.879 224.07 299.94C220.338 296.002 216.804 291.67 213.662 286.944C203.057 270.797 198.147 250.908 199.129 231.61C199.915 212.706 206.199 193.802 217.589 178.443C218.823 176.519 220.247 174.883 221.596 173.333C222.18 172.663 222.75 172.008 223.284 171.354C237.35 154.158 256.142 148.716 263.894 146.471L264.328 146.345C286.519 140.044 304.978 144.179 312.441 146.345C316.172 147.33 337.185 153.828 353.484 171.354C354.27 172.141 356.43 174.701 359.179 178.443C369.505 192.508 373.066 205.605 374.272 210.042L374.301 210.146C375.479 214.478 376.657 220.386 376.657 227.672ZM261.382 195.181C249.992 204.436 246.85 216.251 246.064 219.992H331.686C330.901 216.448 327.562 204.436 316.172 195.181C304.586 185.925 292.41 185.335 288.679 185.335C284.948 185.335 272.772 185.925 261.382 195.181ZM586.98 142.998C564.593 142.998 544.169 153.041 529.637 169.385V168.794C529.048 155.6 518.05 144.967 504.696 144.967C490.753 144.967 479.56 156.191 479.56 170.172V359.409C479.56 373.391 490.753 384.615 504.696 384.615C518.64 384.615 529.833 373.391 529.833 359.409V352.123V300.334C544.365 316.482 564.593 326.721 587.176 326.721C632.147 326.721 668.674 285.959 668.674 235.155C668.478 184.35 631.951 142.998 586.98 142.998ZM575.983 285.566C550.453 285.566 529.637 263.314 529.637 235.549C529.637 207.586 550.257 185.335 575.983 185.335C601.512 185.335 622.328 207.586 622.328 235.549C622.132 263.314 601.512 285.566 575.983 285.566ZM161.425 248.348L153.177 266.464C149.446 274.341 145.715 282.415 142.18 290.488C141.052 292.966 139.916 295.494 138.764 298.057C123.068 332.981 104.44 374.43 63.8242 383.236C44.1861 387.568 14.5327 381.661 3.5354 363.15C-7.4619 344.443 8.83767 322.979 29.8504 327.902C33.1646 328.641 36.4235 330.266 39.7101 331.904C45.187 334.635 50.7406 337.404 56.7545 336.173C62.4495 335.188 65.9844 331.053 70.5011 325.736C76.7853 318.45 79.5346 310.771 80.7129 306.242C80.6147 306.045 80.5165 305.798 80.4183 305.552C80.3201 305.306 80.2219 305.06 80.1237 304.863C75.0117 295.326 70.5473 286.8 66.8178 279.677C64.3868 275.034 62.2681 270.987 60.4857 267.646C56.8287 260.714 54.0662 255.473 51.918 251.398C45.6449 239.497 44.609 237.532 41.8296 232.398C35.7418 220.78 29.2612 209.555 22.5843 198.331C15.3182 186.122 7.85577 172.535 13.9436 158.16C18.8531 146.542 31.4214 140.634 43.4006 144.376C56.0403 148.212 61.6377 160.239 66.8724 171.487C67.8188 173.52 68.7534 175.528 69.7156 177.458C78.16 194.196 86.4079 210.934 94.6559 227.672C95.382 229.336 96.4917 231.605 97.8402 234.362C99.0447 236.824 100.44 239.676 101.922 242.834C102.697 244.475 103.434 246.002 104.101 247.382C104.954 249.149 105.691 250.676 106.242 251.892C110.072 242.342 113.95 232.841 117.829 223.34C121.707 213.839 125.586 204.337 129.415 194.787C129.522 194.253 130.436 192.216 131.813 189.145C132.977 186.549 134.473 183.215 136.092 179.427C136.64 178.133 137.191 176.79 137.755 175.417C142.856 162.995 148.988 148.06 162.604 143.982C172.423 141.028 183.42 144.967 189.115 153.237C192.061 157.372 193.239 162.098 193.435 166.824C193.593 177.275 188.545 188.491 184.212 198.115C183.157 200.459 182.144 202.708 181.26 204.829C181.219 204.91 181.048 205.296 180.739 205.988C179.541 208.679 176.278 216.005 170.655 228.066C168.626 232.389 166.679 236.713 164.707 241.09C163.626 243.491 162.538 245.907 161.425 248.348Z",fill:"currentColor"}),l.jsx("path",{d:"M687.728 310.153H689.549C690.447 310.153 691.167 309.923 691.706 309.462C692.256 308.99 692.532 308.395 692.532 307.676C692.532 306.833 692.29 306.232 691.807 305.872C691.324 305.502 690.56 305.316 689.515 305.316H687.728V310.153ZM695.043 307.608C695.043 308.507 694.801 309.305 694.318 310.002C693.846 310.687 693.178 311.198 692.313 311.535L696.324 318.193H693.492L690.004 312.226H687.728V318.193H685.234V303.176H689.633C691.498 303.176 692.863 303.541 693.728 304.271C694.605 305.002 695.043 306.114 695.043 307.608ZM677.228 310.676C677.228 308.429 677.79 306.322 678.914 304.356C680.037 302.389 681.582 300.839 683.549 299.704C685.515 298.569 687.633 298.002 689.902 298.002C692.15 298.002 694.256 298.564 696.223 299.687C698.189 300.811 699.74 302.356 700.874 304.322C702.009 306.288 702.577 308.406 702.577 310.676C702.577 312.889 702.032 314.968 700.942 316.912C699.852 318.856 698.324 320.412 696.358 321.58C694.391 322.749 692.24 323.333 689.902 323.333C687.577 323.333 685.431 322.754 683.464 321.597C681.498 320.429 679.964 318.872 678.863 316.929C677.773 314.985 677.228 312.901 677.228 310.676ZM678.998 310.676C678.998 312.62 679.487 314.44 680.464 316.136C681.442 317.822 682.773 319.153 684.459 320.131C686.155 321.097 687.97 321.58 689.902 321.58C691.858 321.58 693.672 321.092 695.346 320.114C697.02 319.136 698.346 317.816 699.324 316.153C700.313 314.479 700.807 312.653 700.807 310.676C700.807 308.721 700.318 306.906 699.341 305.232C698.363 303.558 697.037 302.232 695.363 301.255C693.7 300.266 691.88 299.771 689.902 299.771C687.947 299.771 686.133 300.26 684.459 301.238C682.785 302.215 681.453 303.541 680.464 305.215C679.487 306.878 678.998 308.698 678.998 310.676Z",fill:"currentColor"})]}));Sye.displayName="YelpLogo";const Sot=({className:e})=>l.jsx(j,{className:U("w-10",e),children:l.jsx(Sye,{})}),Eot=({className:e})=>l.jsx(j,{className:U("w-[70px]",e),children:l.jsx(Cye,{})}),kot=e=>{const t=f.useMemo(()=>is(e).with(Cu.string.includes("yelp.com"),()=>Sot).with(Cu.string.includes("tripadvisor.com"),()=>Eot).otherwise(()=>null),[e]);return f.useMemo(()=>({SearchClientLogo:t}),[t])},Eye=T.memo(({operatingHours:e})=>{const{locale:t}=K();return e?l.jsx("div",{className:"gap-xs flex flex-col",children:e.map(({day:n,hours:r,is_today:s})=>l.jsxs("div",{className:"gap-md flex items-center justify-between",children:[l.jsx(j,{variant:"tiny",color:"white",className:s?void 0:"opacity-[0.5]",children:h3(n,t)}),l.jsx(j,{variant:"tiny",color:"white",className:s?void 0:"opacity-[0.5]",children:r.join(", ")})]},`place-hours-${n}`))}):null});Eye.displayName="PlaceOperatingHours";const Gi=T.memo(({children:e,isOpen:t,onClose:n,...r})=>l.jsx(am,{isOpen:t,onClose:n,center:!1,variant:"lightbox",...r,children:l.jsx("div",{className:"flex h-screen flex-col",children:e})}));Gi.displayName="Gallery";const kye=T.memo(({className:e="",headerText:t,children:n,onClose:r,...s})=>l.jsxs("div",{className:U("mx-md gap-md border-borderMainDark/50 h-headerHeight flex items-center justify-between border-b",e),...s,children:[l.jsxs("div",{className:"gap-x-md flex items-center",children:[l.jsx(Es,{variant:"mark",color:"white",size:"tiny"}),t&&l.jsx(j,{color:"white",variant:"section-title",className:"line-clamp-1",children:t})]}),l.jsxs("div",{className:"gap-sm flex items-center",children:[n,l.jsx(ye,{pill:!0,icon:tn,onClick:r,size:"small",extraCSS:"!text-white hover:!bg-offsetDark !border-0 !bg-offsetDark"})]})]}));kye.displayName="GalleryHeader";const Mye=T.memo(({className:e,style:t,...n})=>l.jsx("div",{className:U("col-span-6 h-[50dvh] min-h-0 w-full flex-1 shrink-0 md:h-auto md:w-auto lg:col-span-7",e),style:{colorScheme:"dark",...t},...n})),Mot=T.memo(({children:e,className:t,style:n,...r})=>l.jsx("div",{className:U("col-span-4 flex h-[50dvh] min-h-0 flex-col md:h-auto lg:col-span-3",t),style:{colorScheme:"dark",...n},...r,children:l.jsx("div",{className:"scrollbar-thin scrollbar-thumb-borderMainDark scrollbar-track-offsetDark dark:scrollbar-thumb-borderMainDark dark:scrollbar-track-offsetDark min-h-0 flex-1 overflow-y-auto",children:e})}));Mye.displayName="GalleryMain";const Tye=T.memo(({className:e,...t})=>l.jsx("div",{className:U("gap-lg flex min-h-0 flex-1 grow flex-col md:grid md:grid-cols-10 md:gap-0",e),...t}));Tye.displayName="GalleryContent";Gi.Header=kye;Gi.Main=Mye;Gi.Sidebar=Mot;Gi.Content=Tye;var T8=(e=>(e.DEFAULT="default",e.DALLE3="dall-e-3",e.PLAYGROUND="playground",e.FLUX="flux",e.GPT4O_IMAGE="gpt-4o",e))(T8||{});const Nye=e=>{switch(e){case"dall-e-3":return"DALL-E 3";case"playground":return"Playground";case"flux":return"FLUX";case"gpt-4o":return"GPT-4o Image";default:return"AI"}},hj=e=>{if(e==="dalle"||Object.values(T8).includes(e))return!0;const t=e.toLowerCase();return Object.values(T8).some(n=>t.includes(n.toLowerCase()))},Rye=T.memo(({mediaItem:e})=>{const{name:t,url:n,image:r,source:s,author_name:a,author_url:i}=e,o=hj(s??""),c=n?.includes("unsplash.com"),u=a&&i;let d=t;c&&(d="Unsplash");const h=f.useCallback(m=>{m.stopPropagation()},[]);return l.jsx(it,{className:"cursor-pointer",target:"_blank",rel:"noopener nofollow",href:n??r??"",children:u?l.jsxs(H,{className:"flex max-w-[300px] items-stretch overflow-hidden",children:[l.jsxs("div",{className:"gap-sm hover:bg-offsetDark flex shrink-0 items-center rounded-md p-[7px] duration-300",children:[n&&l.jsx(bc,{domain:n}),l.jsx(j,{color:"white",variant:"tiny",className:"truncate",children:d})]}),l.jsx(it,{href:i,target:"_blank",className:"gap-sm p-sm hover:bg-offsetDark group flex items-center overflow-hidden rounded-md pr-[10px] duration-300",onClick:h,children:l.jsx(j,{color:"white",variant:"tiny",className:"truncate opacity-50 duration-300 group-hover:opacity-75",children:a})})]}):l.jsx(H,{className:"hover:bg-offsetDark max-w-[250px] rounded-md p-[7px] px-[10px] duration-300",variant:o?"darkOffset":"transparent",children:n&&l.jsx(wc,{color:"white",url:n,source:d,truncate:!1,isAttachment:!1,variant:"tiny"})})})});Rye.displayName="ImageGalleryCitation";const Aye=T.memo(({image:e,name:t,url:n,fallbackSrc:r,onClick:s,AIProps:a,softBlockSaveImage:i,imageClassName:o,includeLightBoxModal:c,lightboxSrc:u,rounded:d="sm",onFail:h,onLoad:m,className:p,style:g,containerClassName:v,maskClassName:y})=>{const x=f.useRef(null),b=f.useMemo(()=>({url:n,name:t}),[t,n]),w=f.useMemo(()=>({draggable:!1}),[]);return l.jsx("div",{onClick:s,className:p,style:g,children:l.jsx(fs,{AIProps:a,origin:b,fadeIn:!1,hasShadow:!1,includeLightBoxModal:c,lightboxSrc:u,imageClassName:U("max-h-[70vh] object-cover w-full",o),alt:t,src:e,fallback:null,fallbackSrc:r,softBlockSaveImage:i,rounded:d,imageRef:x,onFail:h,onLoad:m,containerClassName:v,maskClassName:y,imageProps:w},n)})}),jye=T.memo(({mediaItem:e,softBlockSaveImage:t})=>{const{image:n,name:r,url:s,thumbnail:a,source:i}=e,o=n??a;return o?l.jsx("div",{className:"py-md px-lg flex size-full select-none items-center justify-center",children:l.jsx(Aye,{image:o,name:r,fallbackSrc:a,url:s,AIProps:i?{isAI:hj(i),AILabel:Nye(i)}:void 0,includeLightBoxModal:!1,softBlockSaveImage:t,maskClassName:"bg-offsetDark"})}):(Q.warn(new Error("Invalid media item in image gallery"),{extra:{mediaItem:e}}),null)});jye.displayName="ImageGalleryMain";class Pye extends T.Component{static defaultProps={columnsCount:3,gutter:"0"};getColumns(){const{children:t,columnsCount:n=3}=this.props,r=Array.from({length:n},()=>[]);let s=0;return T.Children.forEach(t,a=>{a&&T.isValidElement(a)&&(r[s%n].push(a),s++)}),r}renderColumns(){const{gutter:t="0"}=this.props;return this.getColumns().map((n,r)=>l.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:t},children:n.map(s=>s)},r))}render(){const{columnsCount:t,gutter:n="0",style:r,...s}=this.props;return l.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:n,...r},...s,children:this.renderColumns()})}}const Iye=T.memo(({mediaItem:e,isHighlighed:t,onClick:n})=>{const{image:r,name:s,url:a,thumbnail:i,source:o}=e,c=i??r,[u,d]=f.useState(!1),[h,m]=f.useState(!1),p=f.useCallback(()=>d(!0),[]),g=f.useCallback(()=>m(!0),[]);return!c||u?(Q.warn(new Error("Invalid media item in image gallery sidebar"),{extra:{mediaItem:e}}),null):l.jsx(Aye,{className:U("cursor-pointer select-none rounded-lg border-2 border-transparent transition-all duration-200 ease-in-out",{"ring-superBG !border-black ring-2":t,"hover:opacity-70":!t,"animate-in fade-in duration-300 ease-in":h,hidden:!h}),AIProps:o?{isAI:hj(o),AILabel:Nye(o)}:void 0,image:c,rounded:"md",name:s,fallbackSrc:void 0,url:a,includeLightBoxModal:!1,onClick:n,maskClassName:"bg-offsetDark",imageClassName:"select-none",onFail:p,onLoad:g})});Iye.displayName="GalleryImage";const Oye=T.memo(({mainIndex:e,images:t,onClick:n})=>{const r=f.useMemo(()=>T.memo(({mediaItem:s,index:a})=>{const i=f.useCallback(()=>n(a),[a]);return l.jsx(Iye,{mediaItem:s,isHighlighed:a===e,onClick:i})}),[e,n]);return l.jsx(Pye,{className:"p-sm select-none pr-1",columnsCount:2,gutter:"8px",children:t.map((s,a)=>l.jsx(r,{mediaItem:s,index:a},"galleryImage "+a))})});Oye.displayName="ImageGallerySidebar";const mj=T.memo(({mainImageIndex:e,title:t,isOpen:n,onClose:r=Ln,onSelect:s,images:a,softBlockSaveImage:i})=>{const[o,c]=f.useState(e);f.useEffect(()=>{c(e)},[e,n]);const u=f.useCallback(()=>{c(g=>(g+1)%a.length)},[a.length]),d=f.useCallback(()=>{c(g=>(g-1+a.length)%a.length)},[a.length]),h=f.useCallback(()=>{c(g=>{const v=g-2;return v>=0?v:g})},[]),m=f.useCallback(()=>{c(g=>{const v=g+2;return v<a.length?v:g})},[a.length]);f.useEffect(()=>{const g=v=>{n&&(v.key==="ArrowRight"?u():v.key==="ArrowLeft"?d():v.key==="ArrowUp"?h():v.key==="ArrowDown"&&m())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[n,u,d,h,m]);const p=f.useCallback(g=>{c(g),s&&s(a[g])},[a,s]);return l.jsxs(Gi,{isOpen:n,onClose:r,children:[l.jsx(Gi.Header,{headerText:t,onClose:r,children:l.jsx(Rye,{mediaItem:a[o]})}),l.jsxs(Gi.Content,{children:[l.jsx(Gi.Main,{children:l.jsx(jye,{mediaItem:a[o],softBlockSaveImage:i})}),l.jsx(Gi.Sidebar,{children:l.jsx(Oye,{images:a,mainIndex:o,onClick:p})})]})]})});mj.displayName="ImageGallery";const Tot=({entity_id:e,entity_name:t,data_source:n,entry_uuid:r,url:s,reason:a})=>{const i=ot(),o=["place_result_reviews",`${n}_${s}`],{refetch:c,data:u,isFetching:d,error:h}=at({queryKey:o,enabled:!1,queryFn:async()=>{let m={summary:"",review_quality_score:0,pros:[],cons:[],key_features:[],review_search_results:[]},p="PENDING",g="";try{await J.SSE("/rest/sse/places_review_summary_bulk",a,{params:{places:[{entity_id:e,entity_name:t,data_source:n,entry_uuid:r,url:s}]},handlers:{message:v=>{v.blocks?.[0]?.review_summary_block&&(m={...m,...v.blocks[0].review_summary_block}),p=v.status??"FAILED",g=v.id??"",i.setQueryData(o,{review_summary:m,status:p,id:g})}}})}catch{}return{review_summary:m,status:p,id:g}}});return f.useMemo(()=>({generateReviewSummaryForPlace:c,reviewSummary:u?.review_summary,isFetching:d,error:h}),[u?.review_summary,h,c,d])};function Not(){const{locale:e}=K(),t=new Intl.Locale(e),{value:n,loading:r}=dr({flag:"canonical-hotel-pages-enabled",defaultValue:!1,extraAttributes:{cfLanguage:t.language,appApiVersion:Ac}});return f.useMemo(()=>({initialized:!r,value:n}),[n,r])}const Lye=T.memo(({place:e,menuItems:t,className:n,entryUUID:r,contextUUID:s,onHover:a})=>{const i="place-widget",{$t:o}=K(),[c,u]=f.useState(!1),{SearchClientLogo:d}=kot(e.url),h=Not(),{generateReviewSummaryForPlace:m,reviewSummary:p,isFetching:g}=Tot({entity_id:String(e.id),entity_name:e.name,entry_uuid:r??"",data_source:e.client,url:e.url,reason:i}),{trackEvent:v}=Ne();f.useEffect(()=>{r&&v("place card viewed",{entryUUID:r,contextUUID:s??"",inline:!1,itemID:e.url})},[r,s,e.url,v]),f.useEffect(()=>{e.review_summary||p||m()},[e.review_summary,p]);const y=f.useMemo(()=>e.review_summary??p,[e.review_summary,p]),x=f.useMemo(()=>{const P=[];return e.image_url&&P.push(e.image_url),e.images&&e.images.forEach(O=>{O!==e.image_url&&P.push(O)}),P.length?P.map(O=>({image:O,url:O.includes("tripadvisor.com")?e.url:e.entity_url??e.url})):null},[e.image_url,e.images,e.url,e.entity_url]),b=f.useMemo(()=>is(e.url).with(Cu.string.includes("yelp.com"),()=>o({defaultMessage:"View on {partnerSite}",id:"Z/KOc+Wez3"},{partnerSite:"Yelp"})).with(Cu.string.includes("tripadvisor.com"),()=>o({defaultMessage:"View on {partnerSite}",id:"Z/KOc+Wez3"},{partnerSite:"Tripadvisor"})).otherwise(()=>null),[o,e.url]),w=f.useCallback(()=>{const P=e.entity_url??e.url,O=h.initialized&&h.value?e.canonical_page_path??P:P;window.open(O)},[h,e.canonical_page_path,e.entity_url,e.url]),{isMobileStyle:_}=Oe(),C=!!y?.summary.length,{hasProsOrCons:S,isLoadingProsCons:k}=f.useMemo(()=>{const P=y?.pros_detailed?.length??0,O=y?.cons_detailed?.length??0;return{hasProsOrCons:P||O||g,isLoadingProsCons:g&&!C&&(P+O<3||!P||!O)}},[y?.pros_detailed,y?.cons_detailed,C,g]),E=f.useCallback(P=>{P.stopPropagation()},[]),M=f.useCallback(()=>{a&&a(void 0)},[a]),N=f.useCallback(()=>{a&&a(e.url)},[a,e.url]),R=f.useCallback(()=>{w()},[w]),A=f.useCallback(()=>{u(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(fj,{id:String(e.id),entityVariant:"dense-card",menuItems:t,className:"relative !p-0",children:l.jsxs(H,{as:"button","data-widget-id":e.id,className:U("group/root gap-sm p-md md:gap-md group flex h-full cursor-pointer appearance-none flex-col text-left duration-150",n),onMouseEnter:N,onMouseLeave:M,onClick:R,children:[l.jsxs("div",{className:"gap-md flex flex-1",children:[x&&x.length>0&&l.jsx("div",{className:"border-borderMain/50 shadow-subtle size-20 shrink-0 rounded-md border bg-white md:size-28 dark:border-0",children:l.jsx(wye,{images:x.map(P=>P.image),className:"size-full bg-white",imageClassName:"object-cover"})}),l.jsxs("div",{className:"gap-sm flex flex-1 flex-col",children:[l.jsx(j,{variant:_?"baseSemi":"section-title",className:"group-hover:text-super group-hover:background-blue-200 line-clamp-3 leading-tight transition-colors duration-150",children:e.name}),!!e.operating_hours&&_&&l.jsx(N8,{place:e}),(e.rating||e.price||e.price_range)&&l.jsxs(El,{className:"gap-xs text-subtle text-xs",children:[!!e.operating_hours&&!_&&l.jsx(Gn,{id:"is-open",children:l.jsx(N8,{place:e})}),(e.price||e.price_range)&&l.jsx(Gn,{id:"price",children:l.jsx(cye,{dollarCount:e.price?.replace(/\u200A/g,"").length??0,priceRange:e.price_range,currencySymbol:e.currency_char})}),e.rating&&l.jsx(Gn,{id:"rating",children:l.jsx(pm,{minReviewCount:1,reviewCount:e.num_reviews,rating:e.rating,size:"sm",variant:"truncated",textVariant:"tiny"})}),d&&l.jsx(Gn,{id:"logo",children:e.url?l.jsx(it,{href:e.url,target:"_blank",className:"cursor-pointer duration-150 hover:opacity-70",onClick:E,children:l.jsx(d,{})}):l.jsx(d,{})})]}),l.jsxs("div",{className:"mt-xs gap-xs flex flex-col",children:[!!e.address?.length&&l.jsx(k2,{icon:XDe,href:`https://maps.google.com/?q=${e.address.join(", ")}`,target:"_blank",label:e.address.join(", ")}),!!e.phone&&l.jsx(k2,{icon:lFe,label:e.phone,href:`tel:${e.phone}`}),!!e.url&&b&&!d&&l.jsx(k2,{icon:Eee,label:b,href:e.url})]})]})]}),S&&l.jsx(hs,{active:k,className:"",children:l.jsx(H,{className:"mt-xs pt-sm border-t",children:l.jsx("div",{className:"-ml-sm",children:l.jsx(u0,{id:String(e.id),pros:y?.pros_detailed??je,cons:y?.cons_detailed??je,loading:k})})})})]})}),l.jsx(mj,{title:e.name,mainImageIndex:0,isOpen:c,images:x??je,onClose:A})]})});Lye.displayName="PlaceWidget";const N8=T.memo(({place:e})=>{const{$t:t}=K(),n=f.useMemo(()=>{if(e.is_open){const s=e.operating_hours?.find(a=>a.is_today)?.hours;return!s||s.length===0||s.length>1?null:s?.[0].split(" - ")[1]}return null},[e.is_open,e.operating_hours]),r=f.useMemo(()=>l.jsx(Eye,{operatingHours:e.operating_hours}),[e.operating_hours]);return l.jsx(Dn,{tooltipText:r,asChild:!0,children:l.jsx(j,{variant:"tiny",color:e.is_open?"super":"red",children:e.is_open?n?t({defaultMessage:"Open until {time}",id:"abDRIJdom/"},{time:n}):t({defaultMessage:"Open",id:"JfG49wNHKP"}):t({defaultMessage:"Closed",id:"Fv1ZSzMOV6"})})})});N8.displayName="OpenUntil";const k2=T.memo(({icon:e,label:t,href:n,target:r})=>{const s=f.useCallback(i=>{i.stopPropagation()},[]),a=l.jsxs(j,{variant:"tiny",color:"light",className:"gap-xs flex items-start md:items-center",children:[l.jsx(_e,{icon:e,size:"sm",className:"-translate-x-0.5"}),t]});return n?l.jsx(it,{href:n,target:r,className:"cursor-pointer",onClick:s,children:l.jsx(j,{superHover:!0,color:"light",children:a})}):a});k2.displayName="MetaDataItem";const Dye=T.memo(({url:e,children:t,className:n})=>{const r=f.useCallback(s=>{s.stopPropagation()},[]);return e?l.jsx("div",{className:U("inline-flex",n),children:l.jsx(it,{href:e,target:"_blank",className:"inline-flex min-w-0 items-center gap-0 duration-150 hover:opacity-60",onClick:r,children:t})}):t});Dye.displayName="LogoWrapper";const pj=T.memo(({merchantName:e,merchantDomain:t,itemUrl:n,className:r,textVariant:s,iconSize:a,faviconSize:i})=>l.jsx(Dye,{url:n??void 0,className:r,iconSize:a,children:l.jsx(Fye,{name:e,domain:t,faviconSize:i,textVariant:s})}));pj.displayName="EntityItemMerchantInfo";const Fye=T.memo(({name:e,domain:t,faviconSize:n,textVariant:r="tiny"})=>l.jsxs(j,{variant:r,color:"light",className:"gap-xs flex items-center",children:[l.jsx(bc,{className:"shrink-0 translate-y-[-0.5px]",domain:t,size:n}),l.jsx("span",{className:"truncate whitespace-nowrap",children:e})]}));Fye.displayName="EntityMerchantLogoName";const lo=e=>{if(e.indexOf("$")===-1)return e;const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),n=e.replace(/[$,]/g,"");return t.format(parseFloat(n))},gj=T.memo(({price:e,comparePrice:t,soldOut:n,size:r,textVariant:s})=>{const{$t:a}=K(),{isMobileStyle:i}=Oe(),o=lo(n&&t?t:e);return l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx(j,{variant:s||(i||r==="small"?"smallBold":"baseSemi"),className:n?"line-through":void 0,color:t?"default":void 0,children:o}),n?l.jsx(j,{variant:s??"small",color:"red",children:a({defaultMessage:"Sold Out",id:"MwUAGRNkR/"})}):t&&l.jsx(j,{variant:s??"small",color:"light",className:"line-through",children:lo(t)})]})});gj.displayName="EntityItemPrice";const Rot=({enabled:e,reason:t})=>{const{data:n,isPending:r,refetch:s}=at({queryKey:["create_firmly_session"],queryFn:async()=>Lnt({reason:t}),enabled:e});return f.useMemo(()=>({createFirmlySessionData:n,isPending:r,refetch:s}),[n,r,s])},vj=T.memo(({className:e})=>l.jsx(j,{variant:"tiny",color:"super",className:U("flex shrink-0 items-center gap-[5px] !text-[11px]",e),children:"Buy now"}));vj.displayName="BuyWithProIndicator";const Uye=T.memo(({className:e,textVariant:t="tiny"})=>{const{$t:n}=K();return l.jsx(Dn,{asChild:!0,tooltipLayout:"top",tooltipText:n({defaultMessage:"Shipping is free while shopping with Perplexity Pro",id:"UMkYrflCjt"}),children:l.jsx(j,{color:"light",variant:t,className:e,children:n({defaultMessage:"Free Delivery",id:"d7c64sMLc7"})})})});Uye.displayName="FreeShippingIndicator";const Aot=({reason:e,enabled:t=!0})=>{const n=ot(),{data:r,isLoading:s}=at({queryKey:D5(),queryFn:()=>Int({reason:e}),enabled:t}),a=f.useCallback(()=>{setTimeout(()=>{n.invalidateQueries({queryKey:D5()})},3e3)},[n]),i=f.useCallback(({paymentMethodId:o,type:c="card",link:u=null,card:d=null})=>{a(),n.setQueryData(D5(),h=>h&&h.customer?{...h,customer:{...h.customer,default_payment_method_type:c,default_payment_method:c==="card"?{id:o,brand:d?.brand,last_digits:d?.last_digits}:null,default_payment_method_link:c==="link"?{id:o,email:u?.email}:null}}:h)},[a,n]);return f.useMemo(()=>({customerShoppingInfo:r,isCustomerShoppingInfoLoading:s,setDefaultPaymentMethod:i}),[r,s,i])},yj=({ref:e,onInView:t,onNotInView:n,once:r=!0})=>{const[s,a]=f.useState(!1),i=B9e(e);f.useEffect(()=>{const o=r?!s:!0;i&&o?(t(),a(!0)):!i&&o&&n&&(n(),a(!0))},[r,s,a,t,i,n])},Bye=T.memo(()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"70",height:"auto","aria-labelledby":"shop-pay-logo",viewBox:"0 0 424 102",fill:"none",children:[l.jsx("title",{id:"shop-pay-logo",children:"Shop Pay"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.916 30.0997C208.894 25.1796 215.067 21.1016 222.436 21.1016C238.98 21.1016 252.012 34.7983 252.001 51.6974C252.001 69.3058 238.903 82.3375 223.189 82.3375C214.834 82.3375 208.44 78.06 206.102 74.4918H205.88V100.356C205.88 100.512 205.818 100.661 205.708 100.771C205.598 100.881 205.449 100.943 205.293 100.943H190.566C190.409 100.943 190.258 100.882 190.146 100.772C190.035 100.662 189.97 100.513 189.967 100.356V21.6779C189.967 21.5192 190.03 21.3669 190.143 21.2547C190.255 21.1425 190.407 21.0795 190.566 21.0795H204.329C204.486 21.0824 204.635 21.1467 204.745 21.2586C204.855 21.3705 204.916 21.5211 204.916 21.6779V30.0997ZM221.179 67.3428C219.958 67.3814 218.73 67.2768 217.521 67.0265C214.479 66.397 211.694 64.8745 209.522 62.6536C207.35 60.4328 205.89 57.6146 205.329 54.5595C205.167 53.6817 205.082 52.7958 205.072 51.9114C205.061 50.9204 205.144 49.926 205.323 48.9415C205.879 45.8886 207.331 43.0704 209.495 40.8465C211.659 38.6226 214.436 37.094 217.473 36.4557C218.689 36.2001 219.924 36.0919 221.153 36.1288C223.15 36.1534 225.123 36.5679 226.962 37.3492C228.825 38.141 230.513 39.2939 231.929 40.7413C233.344 42.1887 234.459 43.902 235.209 45.7824C235.959 47.6628 236.329 49.6731 236.299 51.6974C236.299 51.6977 236.299 51.698 236.299 51.6983C236.331 53.7263 235.962 55.7408 235.214 57.626C234.465 59.5114 233.351 61.2304 231.937 62.6843C230.522 64.1382 228.834 65.2983 226.97 66.098C225.138 66.8837 223.171 67.3063 221.179 67.3428Z",fill:"currentColor"}),l.jsx("path",{d:"M109.306 32.8701C105.904 25.7337 99.4543 21.1238 89.7359 21.1238C86.753 21.1758 83.8218 21.9123 81.1685 23.2765C78.5151 24.6406 76.2106 26.5959 74.4325 28.9916L74.0779 29.4238V1.45428C74.0779 1.29264 74.0137 1.13763 73.8994 1.02333C73.7851 0.909028 73.6301 0.844803 73.4684 0.844803H59.7275C59.5678 0.847707 59.4156 0.913196 59.3037 1.02718C59.1917 1.14117 59.1291 1.29454 59.1291 1.45428V81.6837C59.1291 81.8424 59.1921 81.9946 59.3044 82.1068C59.4166 82.219 59.5688 82.2821 59.7275 82.2821H74.4436C74.6033 82.2821 74.7567 82.2194 74.8707 82.1075C74.9847 81.9956 75.0502 81.8434 75.0531 81.6837V47.4754C75.0531 40.8265 79.4856 36.1169 86.5777 36.1169C94.3347 36.1169 96.2961 42.4998 96.2961 49.0046V81.6837C96.2961 81.8424 96.3592 81.9946 96.4714 82.1068C96.5836 82.219 96.7358 82.2821 96.8945 82.2821H111.577C111.737 82.2821 111.891 82.2194 112.004 82.1075C112.118 81.9956 112.184 81.8434 112.187 81.6837V47.0543C112.187 45.8686 112.187 44.705 112.032 43.5747C111.78 39.8707 110.856 36.2435 109.306 32.8701V32.8701Z",fill:"currentColor"}),l.jsx("path",{d:"M35.8249 44.7604C35.8249 44.7604 28.3339 42.9985 25.5746 42.2893C22.8153 41.5801 17.9949 40.073 17.9949 36.4272C17.9949 32.7814 21.8845 31.6179 25.8295 31.6179C29.7745 31.6179 34.1627 32.5709 34.5062 36.948C34.5201 37.1058 34.5927 37.2525 34.7097 37.3593C34.8267 37.466 34.9795 37.5249 35.1379 37.5243L49.6434 37.4689C49.7288 37.4691 49.8133 37.4517 49.8916 37.4178C49.9699 37.3838 50.0404 37.3341 50.0987 37.2717C50.1569 37.2093 50.2017 37.1356 50.2301 37.0551C50.2585 36.9746 50.2701 36.8891 50.264 36.804C49.3664 22.7971 37.0771 17.7883 25.7408 17.7883C12.2991 17.7883 2.46987 26.6534 2.46987 36.4272C2.46987 43.5636 4.48669 50.2568 20.3442 54.911C23.1256 55.7199 26.9044 56.7727 30.2066 57.6924C34.1738 58.8006 36.3125 60.4739 36.3125 63.1112C36.3125 66.1697 31.8799 68.2973 27.5249 68.2973C21.2196 68.2973 16.7427 65.9592 16.377 61.7593C16.358 61.6056 16.2832 61.4642 16.1667 61.362C16.0502 61.2599 15.9003 61.2041 15.7454 61.2052L1.27307 61.2717C1.18823 61.2717 1.10425 61.2887 1.02614 61.3218C0.94802 61.355 0.877379 61.4035 0.818427 61.4645C0.759474 61.5255 0.713411 61.5978 0.683003 61.677C0.652596 61.7562 0.638464 61.8407 0.641441 61.9255C1.30633 75.1456 14.0721 82.271 25.9735 82.271C43.7038 82.271 51.7156 72.2977 51.7156 62.9561C51.7378 58.5679 50.7294 48.5724 35.8249 44.7604Z",fill:"currentColor"}),l.jsx("path",{d:"M146.384 17.6442C132.654 17.6442 125.806 22.3095 120.31 26.0439L120.143 26.1547C119.86 26.3488 119.66 26.6427 119.584 26.9775C119.508 27.3124 119.562 27.6637 119.733 27.961L125.163 37.3137C125.265 37.4887 125.404 37.6391 125.571 37.754C125.738 37.869 125.928 37.9457 126.127 37.9786C126.323 38.0139 126.523 38.0053 126.715 37.9536C126.907 37.9018 127.084 37.8082 127.235 37.6794L127.668 37.3248C130.493 34.9534 135.026 31.7841 145.996 30.9197C152.102 30.4322 157.377 32.0279 161.266 35.6626C165.544 39.6076 168.104 45.9794 168.104 52.7058C168.104 65.0837 160.812 72.8629 149.099 73.018C139.447 72.9626 132.965 67.9317 132.965 60.496C132.965 56.5511 134.749 53.9802 138.228 51.4093C138.494 51.2193 138.682 50.9395 138.757 50.6217C138.832 50.304 138.79 49.9696 138.638 49.6806L133.762 40.4608C133.672 40.2958 133.551 40.1502 133.404 40.0323C133.258 39.9144 133.089 39.8266 132.909 39.7738C132.725 39.7188 132.531 39.7033 132.34 39.7281C132.149 39.7529 131.965 39.8176 131.801 39.9179C126.327 43.1647 119.611 49.1043 119.977 60.5182C120.42 75.0459 132.499 86.1384 148.201 86.5927H148.988H150.063C168.724 85.9833 182.199 72.1315 182.199 53.3485C182.199 36.1059 169.633 17.6442 146.384 17.6442Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M282.375 1.04428H408.027C416.699 1.04428 423.73 8.07446 423.73 16.7466V85.54C423.73 94.2121 416.699 101.242 408.027 101.242H282.375C273.703 101.242 266.673 94.2121 266.673 85.54V16.7466C266.673 8.07446 273.703 1.04428 282.375 1.04428ZM310.566 55.5316C321.049 55.5316 328.551 47.8854 328.551 37.1697C328.551 26.5093 321.049 18.8188 310.566 18.8188H292.06C291.84 18.8188 291.628 18.9064 291.473 19.0623C291.317 19.2181 291.229 19.4295 291.229 19.65V70.4361C291.232 70.6556 291.32 70.8653 291.476 71.0206C291.631 71.1758 291.841 71.2643 292.06 71.2672H299.019C299.24 71.2672 299.451 71.1796 299.607 71.0237C299.763 70.8679 299.85 70.6565 299.85 70.4361V56.3627C299.85 56.1423 299.938 55.9309 300.094 55.775C300.25 55.6191 300.461 55.5316 300.682 55.5316H310.566ZM310.034 26.5315C315.73 26.5315 319.93 31.0306 319.93 37.1697C319.93 43.3198 315.73 47.8078 310.034 47.8078H300.682C300.463 47.8078 300.253 47.7218 300.098 47.5683C299.942 47.4149 299.853 47.2063 299.85 46.9878V27.3626C299.853 27.1431 299.942 26.9334 300.097 26.7781C300.252 26.6229 300.462 26.5344 300.682 26.5315H310.034ZM330.601 61.5266C330.529 59.8838 330.868 58.2489 331.588 56.7704C332.308 55.2919 333.386 54.0167 334.724 53.0604C337.428 51.0325 341.616 49.9798 347.833 49.736L354.426 49.5144V47.564C354.426 43.6745 351.811 42.0233 347.611 42.0233C343.412 42.0233 340.763 43.5082 340.143 45.9351C340.093 46.1065 339.988 46.2564 339.843 46.3609C339.698 46.4653 339.523 46.5183 339.345 46.5113H332.84C332.72 46.5143 332.601 46.491 332.492 46.4431C332.382 46.3952 332.284 46.3238 332.205 46.2341C332.126 46.1443 332.067 46.0383 332.033 45.9235C331.999 45.8086 331.991 45.6878 332.009 45.5694C332.984 39.807 337.749 35.4299 347.911 35.4299C358.704 35.4299 362.593 40.4498 362.593 50.0352V70.4028C362.595 70.5129 362.575 70.6221 362.533 70.7243C362.492 70.8264 362.431 70.9193 362.354 70.9977C362.277 71.076 362.185 71.1382 362.083 71.1807C361.981 71.2232 361.872 71.245 361.762 71.245H355.191C355.081 71.245 354.972 71.2232 354.87 71.1807C354.769 71.1382 354.677 71.076 354.599 70.9977C354.522 70.9193 354.461 70.8264 354.42 70.7243C354.379 70.6221 354.358 70.5129 354.36 70.4028V68.8846C354.371 68.7514 354.339 68.6183 354.268 68.5049C354.197 68.3915 354.092 68.3041 353.967 68.2555C353.842 68.207 353.706 68.1999 353.577 68.2354C353.448 68.2709 353.334 68.347 353.252 68.4525C351.29 70.5912 348.099 72.1426 343.013 72.1426C335.555 72.1647 330.601 68.2641 330.601 61.5266ZM354.426 57.094V55.5205L345.894 55.9637C341.395 56.1964 338.768 58.0692 338.768 61.2163C338.768 64.0643 341.173 65.6489 345.362 65.6489C351.058 65.6489 354.426 62.5682 354.426 57.1051V57.094ZM369.198 80.7196V86.6481C369.188 86.8397 369.242 87.0293 369.353 87.1861C369.463 87.3429 369.623 87.4579 369.807 87.5124C370.966 87.8283 372.164 87.9739 373.365 87.9446C379.736 87.9446 385.554 85.6175 388.879 76.553L403.506 37.5353C403.548 37.4097 403.559 37.276 403.54 37.1451C403.52 37.0142 403.47 36.8897 403.394 36.7817C403.317 36.6738 403.216 36.5854 403.099 36.5238C402.982 36.4622 402.852 36.4291 402.719 36.4272H395.904C395.727 36.4257 395.554 36.4809 395.411 36.5845C395.267 36.6882 395.161 36.8349 395.106 37.0034L387.05 61.7149C386.989 61.8769 386.879 62.0163 386.737 62.1147C386.594 62.2131 386.425 62.2658 386.252 62.2658C386.079 62.2658 385.91 62.2131 385.767 62.1147C385.625 62.0163 385.516 61.8769 385.454 61.7149L376.168 36.9369C376.106 36.7782 375.998 36.6417 375.858 36.5449C375.718 36.4481 375.552 36.3956 375.381 36.394H368.732C368.6 36.3959 368.47 36.429 368.353 36.4906C368.236 36.5522 368.135 36.6406 368.058 36.7485C367.981 36.8564 367.931 36.9809 367.912 37.1119C367.892 37.2428 367.904 37.3765 367.946 37.5021L381.62 72.6301C381.687 72.8126 381.687 73.0129 381.62 73.1953L381.188 74.5583C380.684 76.2492 379.627 77.722 378.186 78.7407C376.746 79.7593 375.005 80.265 373.243 80.1766C372.22 80.1755 371.2 80.079 370.195 79.8885C370.073 79.8656 369.948 79.87 369.828 79.9012C369.708 79.9325 369.596 79.9898 369.501 80.0692C369.406 80.1486 369.329 80.2481 369.277 80.3605C369.224 80.4729 369.197 80.5956 369.198 80.7196Z",fill:"currentColor"})]}));Bye.displayName="ShopPayIcon";function jot(e){return Object.prototype.toString.call(e)==="[object Object]"}function qH(e){return jot(e)||Array.isArray(e)}function Pot(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function xj(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),a=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==a?!1:n.every(i=>{const o=e[i],c=t[i];return typeof o=="function"?`${o}`==`${c}`:!qH(o)||!qH(c)?o===c:xj(o,c)})}function KH(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Iot(e,t){if(e.length!==t.length)return!1;const n=KH(e),r=KH(t);return n.every((s,a)=>{const i=r[a];return xj(s,i)})}function bj(e){return typeof e=="number"}function R8(e){return typeof e=="string"}function wj(e){return typeof e=="boolean"}function YH(e){return Object.prototype.toString.call(e)==="[object Object]"}function On(e){return Math.abs(e)}function _j(e){return Math.sign(e)}function sg(e,t){return On(e-t)}function Oot(e,t){if(e===0||t===0||On(e)<=On(t))return 0;const n=sg(On(e),On(t));return On(n/e)}function d0(e){return f0(e).map(Number)}function ci(e){return e[S1(e)]}function S1(e){return Math.max(0,e.length-1)}function Cj(e,t){return t===S1(e)}function QH(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function f0(e){return Object.keys(e)}function $ye(e,t){return[e,t].reduce((n,r)=>(f0(r).forEach(s=>{const a=n[s],i=r[s],o=YH(a)&&YH(i);n[s]=o?$ye(a,i):i}),n),{})}function A8(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Lot(e,t){const n={start:r,center:s,end:a};function r(){return 0}function s(c){return a(c)/2}function a(c){return t-c}function i(c,u){return R8(e)?n[e](c):e(t,c,u)}return{measure:i}}function h0(){let e=[];function t(s,a,i,o={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(a,i,o),c=()=>s.removeEventListener(a,i,o);else{const u=s;u.addListener(i),c=()=>u.removeListener(i)}return e.push(c),r}function n(){e=e.filter(s=>s())}const r={add:t,clear:n};return r}function Dot(e,t,n,r){const s=h0(),a=1e3/60;let i=null,o=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&g()})}function d(){p(),s.clear()}function h(y){if(!c)return;i||(i=y);const x=y-i;for(i=y,o+=x;o>=a;)n(),o-=a;const b=On(o/a);r(b),c&&t.requestAnimationFrame(h)}function m(){c||(c=t.requestAnimationFrame(h))}function p(){t.cancelAnimationFrame(c),i=null,o=0,c=0}function g(){i=null,o=0}return{init:u,destroy:d,start:m,stop:p,update:n,render:r}}function Fot(e,t){const n=t==="rtl",r=e==="y",s=r?"y":"x",a=r?"x":"y",i=!r&&n?-1:1,o=d(),c=h();function u(g){const{height:v,width:y}=g;return r?v:y}function d(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function m(g){return g*i}return{scroll:s,cross:a,startEdge:o,endEdge:c,measureSize:u,direction:m}}function qu(e=0,t=0){const n=On(e-t);function r(u){return u<e}function s(u){return u>t}function a(u){return r(u)||s(u)}function i(u){return a(u)?r(u)?e:t:u}function o(u){return n?u-n*Math.ceil((u-t)/n):u}return{length:n,max:t,min:e,constrain:i,reachedAny:a,reachedMax:s,reachedMin:r,removeOffset:o}}function Hye(e,t,n){const{constrain:r}=qu(0,e),s=e+1;let a=i(t);function i(m){return n?On((s+m)%s):r(m)}function o(){return a}function c(m){return a=i(m),h}function u(m){return d().set(o()+m)}function d(){return Hye(e,o(),n)}const h={get:o,set:c,add:u,clone:d};return h}function Uot(e,t,n,r,s,a,i,o,c,u,d,h,m,p,g,v,y,x,b){const{cross:w,direction:_}=e,C=["INPUT","SELECT","TEXTAREA"],S={passive:!1},k=h0(),E=h0(),M=qu(50,225).constrain(p.measure(20)),N={mouse:300,touch:400},R={mouse:500,touch:600},A=g?43:25;let P=!1,O=0,I=0,L=!1,F=!1,D=!1,B=!1;function $(G){if(!b)return;function oe(ie){(wj(b)||b(G,ie))&&q(ie)}const ae=t;k.add(ae,"dragstart",ie=>ie.preventDefault(),S).add(ae,"touchmove",()=>{},S).add(ae,"touchend",()=>{}).add(ae,"touchstart",oe).add(ae,"mousedown",oe).add(ae,"touchcancel",te).add(ae,"contextmenu",te).add(ae,"click",Y,!0)}function W(){k.clear(),E.clear()}function X(){const G=B?n:t;E.add(G,"touchmove",z,S).add(G,"touchend",te).add(G,"mousemove",z,S).add(G,"mouseup",te)}function ee(G){const oe=G.nodeName||"";return C.includes(oe)}function ne(){return(g?R:N)[B?"mouse":"touch"]}function V(G,oe){const ae=h.add(_j(G)*-1),ie=d.byDistance(G,!g).distance;return g||On(G)<M?ie:y&&oe?ie*.5:d.byIndex(ae.get(),0).distance}function q(G){const oe=A8(G,r);B=oe,D=g&&oe&&!G.buttons&&P,P=sg(s.get(),i.get())>=2,!(oe&&G.button!==0)&&(ee(G.target)||(L=!0,a.pointerDown(G),u.useFriction(0).useDuration(0),s.set(i),X(),O=a.readPoint(G),I=a.readPoint(G,w),m.emit("pointerDown")))}function z(G){if(!A8(G,r)&&G.touches.length>=2)return te(G);const ae=a.readPoint(G),ie=a.readPoint(G,w),xe=sg(ae,O),de=sg(ie,I);if(!F&&!B&&(!G.cancelable||(F=xe>de,!F)))return te(G);const Se=a.pointerMove(G);xe>v&&(D=!0),u.useFriction(.3).useDuration(.75),o.start(),s.add(_(Se)),G.preventDefault()}function te(G){const ae=d.byDistance(0,!1).index!==h.get(),ie=a.pointerUp(G)*ne(),xe=V(_(ie),ae),de=Oot(ie,xe),Se=A-10*de,qe=x+de/50;F=!1,L=!1,E.clear(),u.useDuration(Se).useFriction(qe),c.distance(xe,!g),B=!1,m.emit("pointerUp")}function Y(G){D&&(G.stopPropagation(),G.preventDefault(),D=!1)}function Z(){return L}return{init:$,destroy:W,pointerDown:Z}}function Bot(e,t){let r,s;function a(h){return h.timeStamp}function i(h,m){const g=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(A8(h,t)?h:h.touches[0])[g]}function o(h){return r=h,s=h,i(h)}function c(h){const m=i(h)-i(s),p=a(h)-a(r)>170;return s=h,p&&(r=h),m}function u(h){if(!r||!s)return 0;const m=i(s)-i(r),p=a(h)-a(r),g=a(h)-a(s)>170,v=m/p;return p&&!g&&On(v)>.1?v:0}return{pointerDown:o,pointerMove:c,pointerUp:u,readPoint:i}}function $ot(){function e(n){const{offsetTop:r,offsetLeft:s,offsetWidth:a,offsetHeight:i}=n;return{top:r,right:s+a,bottom:r+i,left:s,width:a,height:i}}return{measure:e}}function Hot(e){function t(r){return e*(r/100)}return{measure:t}}function Wot(e,t,n,r,s,a,i){let o,c,u=[],d=!1;function h(v){return s.measureSize(i.measure(v))}function m(v){if(!a)return;c=h(e),u=r.map(h);function y(b){for(const w of b){const _=w.target===e,C=r.indexOf(w.target),S=_?c:u[C],k=h(_?e:r[C]);if(On(k-S)>=.5){n.requestAnimationFrame(()=>{v.reInit(),t.emit("resize")});break}}}o=new ResizeObserver(b=>{d||(wj(a)||a(v,b))&&y(b)}),[e].concat(r).forEach(b=>o.observe(b))}function p(){o&&o.disconnect(),d=!0}return{init:m,destroy:p}}function zot(e,t,n,r,s){let a=0,i=0,o=r,c=s,u=e.get(),d=0;function h(){const C=n.get()-e.get(),S=!o;let k=0;return S?(a=0,e.set(n),k=C):(a+=C/o,a*=c,u+=a,e.add(a),k=u-d),i=_j(k),d=u,_}function m(){const C=n.get()-t.get();return On(C)<.001}function p(){return o}function g(){return i}function v(){return a}function y(){return b(r)}function x(){return w(s)}function b(C){return o=C,_}function w(C){return c=C,_}const _={direction:g,duration:p,velocity:v,seek:h,settled:m,useBaseFriction:x,useBaseDuration:y,useFriction:w,useDuration:b};return _}function Vot(e,t,n,r,s){const a=s.measure(10),i=s.measure(50),o=qu(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const g=e.reachedMin(t.get())?"min":"max",v=On(e[g]-t.get()),y=n.get()-t.get(),x=o.constrain(v/i);n.subtract(y*x),!p&&On(y)<a&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(p){c=!p}return{constrain:d,toggleActive:h}}function Got(e,t,n,r,s){const a=qu(-t+e,0),i=h(),o=d(),c=m();function u(g,v){return sg(g,v)<1}function d(){const g=i[0],v=ci(i),y=i.lastIndexOf(g),x=i.indexOf(v)+1;return qu(y,x)}function h(){return n.map((g,v)=>{const{min:y,max:x}=a,b=a.constrain(g),w=!v,_=Cj(n,v);return w?x:_||u(y,b)?y:u(x,b)?x:b}).map(g=>parseFloat(g.toFixed(3)))}function m(){if(t<=e+s)return[a.max];if(r==="keepSnaps")return i;const{min:g,max:v}=o;return i.slice(g,v)}return{snapsContained:c,scrollContainLimit:o}}function qot(e,t,n){const r=t[0],s=n?r-e:ci(t);return{limit:qu(s,r)}}function Kot(e,t,n,r){const a=t.min+.1,i=t.max+.1,{reachedMin:o,reachedMax:c}=qu(a,i);function u(m){return m===1?c(n.get()):m===-1?o(n.get()):!1}function d(m){if(!u(m))return;const p=e*(m*-1);r.forEach(g=>g.add(p))}return{loop:d}}function Yot(e){const{max:t,length:n}=e;function r(a){const i=a-t;return n?i/-n:0}return{get:r}}function Qot(e,t,n,r,s){const{startEdge:a,endEdge:i}=e,{groupSlides:o}=s,c=h().map(t.measure),u=m(),d=p();function h(){return o(r).map(v=>ci(v)[i]-v[0][a]).map(On)}function m(){return r.map(v=>n[a]-v[a]).map(v=>-On(v))}function p(){return o(u).map(v=>v[0]).map((v,y)=>v+c[y])}return{snaps:u,snapsAligned:d}}function Xot(e,t,n,r,s,a){const{groupSlides:i}=s,{min:o,max:c}=r,u=d();function d(){const m=i(a),p=!e||t==="keepSnaps";return n.length===1?[a]:p?m:m.slice(o,c).map((g,v,y)=>{const x=!v,b=Cj(y,v);if(x){const w=ci(y[0])+1;return QH(w)}if(b){const w=S1(a)-ci(y)[0]+1;return QH(w,ci(y)[0])}return g})}return{slideRegistry:u}}function Zot(e,t,n,r,s){const{reachedAny:a,removeOffset:i,constrain:o}=r;function c(g){return g.concat().sort((v,y)=>On(v)-On(y))[0]}function u(g){const v=e?i(g):o(g),y=t.map((b,w)=>({diff:d(b-v,0),index:w})).sort((b,w)=>On(b.diff)-On(w.diff)),{index:x}=y[0];return{index:x,distance:v}}function d(g,v){const y=[g,g+n,g-n];if(!e)return g;if(!v)return c(y);const x=y.filter(b=>_j(b)===v);return x.length?c(x):ci(y)-n}function h(g,v){const y=t[g]-s.get(),x=d(y,v);return{index:g,distance:x}}function m(g,v){const y=s.get()+g,{index:x,distance:b}=u(y),w=!e&&a(y);if(!v||w)return{index:x,distance:g};const _=t[x]-b,C=g+d(_,0);return{index:x,distance:C}}return{byDistance:m,byIndex:h,shortcut:d}}function Jot(e,t,n,r,s,a,i){function o(h){const m=h.distance,p=h.index!==t.get();a.add(m),m&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(n.set(t.get()),t.set(h.index),i.emit("select"))}function c(h,m){const p=s.byDistance(h,m);o(p)}function u(h,m){const p=t.clone().set(h),g=s.byIndex(p.get(),m);o(g)}return{distance:c,index:u}}function elt(e,t,n,r,s,a,i){let o=0;function c(){a.add(document,"keydown",u,!1),t.forEach(d)}function u(m){m.code==="Tab"&&(o=new Date().getTime())}function d(m){const p=()=>{if(new Date().getTime()-o>10)return;e.scrollLeft=0;const y=t.indexOf(m),x=n.findIndex(b=>b.includes(y));bj(x)&&(s.useDuration(0),r.index(x,0),i.emit("slideFocus"))};a.add(m,"focus",p,{passive:!0,capture:!0})}return{init:c}}function M2(e){let t=e;function n(){return t}function r(c){t=i(c)}function s(c){t+=i(c)}function a(c){t-=i(c)}function i(c){return bj(c)?c:c.get()}return{get:n,set:r,add:s,subtract:a}}function Wye(e,t){const n=e.scroll==="x"?a:i,r=t.style;let s=!1;function a(h){return`translate3d(${h}px,0px,0px)`}function i(h){return`translate3d(0px,${h}px,0px)`}function o(h){s||(r.transform=n(e.direction(h)))}function c(h){s=!h}function u(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:o,toggleActive:c}}function tlt(e,t,n,r,s,a,i,o,c){const d=d0(s),h=d0(s).reverse(),m=x().concat(b());function p(k,E){return k.reduce((M,N)=>M-s[N],E)}function g(k,E){return k.reduce((M,N)=>p(M,E)>0?M.concat([N]):M,[])}function v(k){return a.map((E,M)=>({start:E-r[M]+.5+k,end:E+t-.5+k}))}function y(k,E,M){const N=v(E);return k.map(R=>{const A=M?0:-n,P=M?n:0,O=M?"end":"start",I=N[R][O];return{index:R,loopPoint:I,slideLocation:M2(-1),translate:Wye(e,c[R]),target:()=>o.get()>I?A:P}})}function x(){const k=i[0],E=g(h,k);return y(E,n,!1)}function b(){const k=t-i[0]-1,E=g(d,k);return y(E,-n,!0)}function w(){return m.every(({index:k})=>{const E=d.filter(M=>M!==k);return p(E,t)<=.1})}function _(){m.forEach(k=>{const{target:E,translate:M,slideLocation:N}=k,R=E();R!==N.get()&&(M.to(R),N.set(R))})}function C(){m.forEach(k=>k.translate.clear())}return{canLoop:w,clear:C,loop:_,loopPoints:m}}function nlt(e,t,n){let r,s=!1;function a(c){if(!n)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(wj(n)||n(c,d))&&u(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),s=!0}return{init:a,destroy:i}}function rlt(e,t,n,r){const s={};let a=null,i=null,o,c=!1;function u(){o=new IntersectionObserver(g=>{c||(g.forEach(v=>{const y=t.indexOf(v.target);s[y]=v}),a=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(g=>o.observe(g))}function d(){o&&o.disconnect(),c=!0}function h(g){return f0(s).reduce((v,y)=>{const x=parseInt(y),{isIntersecting:b}=s[x];return(g&&b||!g&&!b)&&v.push(x),v},[])}function m(g=!0){if(g&&a)return a;if(!g&&i)return i;const v=h(g);return g&&(a=v),g||(i=v),v}return{init:u,destroy:d,get:m}}function slt(e,t,n,r,s,a){const{measureSize:i,startEdge:o,endEdge:c}=e,u=n[0]&&s,d=g(),h=v(),m=n.map(i),p=y();function g(){if(!u)return 0;const b=n[0];return On(t[o]-b[o])}function v(){if(!u)return 0;const b=a.getComputedStyle(ci(r));return parseFloat(b.getPropertyValue(`margin-${c}`))}function y(){return n.map((b,w,_)=>{const C=!w,S=Cj(_,w);return C?m[w]+d:S?m[w]+h:_[w+1][o]-b[o]}).map(On)}return{slideSizes:m,slideSizesWithGaps:p,startGap:d,endGap:h}}function alt(e,t,n,r,s,a,i,o,c){const{startEdge:u,endEdge:d,direction:h}=e,m=bj(n);function p(x,b){return d0(x).filter(w=>w%b===0).map(w=>x.slice(w,w+b))}function g(x){return x.length?d0(x).reduce((b,w,_)=>{const C=ci(b)||0,S=C===0,k=w===S1(x),E=s[u]-a[C][u],M=s[u]-a[w][d],N=!r&&S?h(i):0,R=!r&&k?h(o):0,A=On(M-R-(E+N));return _&&A>t+c&&b.push(w),k&&b.push(x.length),b},[]).map((b,w,_)=>{const C=Math.max(_[w-1]||0);return x.slice(C,b)}):[]}function v(x){return m?p(x,n):g(x)}return{groupSlides:v}}function ilt(e,t,n,r,s,a,i){const{align:o,axis:c,direction:u,startIndex:d,loop:h,duration:m,dragFree:p,dragThreshold:g,inViewThreshold:v,slidesToScroll:y,skipSnaps:x,containScroll:b,watchResize:w,watchSlides:_,watchDrag:C}=a,S=2,k=$ot(),E=k.measure(t),M=n.map(k.measure),N=Fot(c,u),R=N.measureSize(E),A=Hot(R),P=Lot(o,R),O=!h&&!!b,I=h||!!b,{slideSizes:L,slideSizesWithGaps:F,startGap:D,endGap:B}=slt(N,E,M,n,I,s),$=alt(N,R,y,h,E,M,D,B,S),{snaps:W,snapsAligned:X}=Qot(N,P,E,M,$),ee=-ci(W)+ci(F),{snapsContained:ne,scrollContainLimit:V}=Got(R,ee,X,b,S),q=O?ne:X,{limit:z}=qot(ee,q,h),te=Hye(S1(q),d,h),Y=te.clone(),Z=d0(n),re=({dragHandler:we,scrollBody:Je,scrollBounds:Te,options:{loop:pe}})=>{pe||Te.constrain(we.pointerDown()),Je.seek()},G=({scrollBody:we,translate:Je,location:Te,offsetLocation:pe,scrollLooper:Fe,slideLooper:ht,dragHandler:Pt,animation:Ft,eventHandler:tt,options:{loop:st}},dt)=>{const $t=we.velocity(),wn=we.settled();wn&&!Pt.pointerDown()&&(Ft.stop(),tt.emit("settle")),wn||tt.emit("scroll"),pe.set(Te.get()-$t+$t*dt),st&&(Fe.loop(we.direction()),ht.loop()),Je.to(pe.get())},oe=Dot(r,s,()=>re(le),we=>G(le,we)),ae=.68,ie=q[te.get()],xe=M2(ie),de=M2(ie),Se=M2(ie),qe=zot(xe,de,Se,m,ae),be=Zot(h,q,ee,z,Se),ve=Jot(oe,te,Y,qe,be,Se,i),Be=Yot(z),We=h0(),Le=rlt(t,n,i,v),{slideRegistry:De}=Xot(O,b,q,V,$,Z),Ve=elt(e,n,De,ve,qe,We,i),le={ownerDocument:r,ownerWindow:s,eventHandler:i,containerRect:E,slideRects:M,animation:oe,axis:N,dragHandler:Uot(N,e,r,s,Se,Bot(N,s),xe,oe,ve,qe,be,te,i,A,p,g,x,ae,C),eventStore:We,percentOfView:A,index:te,indexPrevious:Y,limit:z,location:xe,offsetLocation:de,options:a,resizeHandler:Wot(t,i,s,n,N,w,k),scrollBody:qe,scrollBounds:Vot(z,de,Se,qe,A),scrollLooper:Kot(ee,z,de,[xe,de,Se]),scrollProgress:Be,scrollSnapList:q.map(Be.get),scrollSnaps:q,scrollTarget:be,scrollTo:ve,slideLooper:tlt(N,R,ee,L,F,W,q,de,n),slideFocus:Ve,slidesHandler:nlt(t,i,_),slidesInView:Le,slideIndexes:Z,slideRegistry:De,slidesToScroll:$,target:Se,translate:Wye(N,t)};return le}function olt(){let e={},t;function n(u){t=u}function r(u){return e[u]||[]}function s(u){return r(u).forEach(d=>d(t,u)),c}function a(u,d){return e[u]=r(u).concat([d]),c}function i(u,d){return e[u]=r(u).filter(h=>h!==d),c}function o(){e={}}const c={init:n,emit:s,off:i,on:a,clear:o};return c}const llt={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function clt(e){function t(a,i){return $ye(a,i||{})}function n(a){const i=a.breakpoints||{},o=f0(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,u)=>t(c,u),{});return t(a,o)}function r(a){return a.map(i=>f0(i.breakpoints||{})).reduce((i,o)=>i.concat(o),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function ult(e){let t=[];function n(a,i){return t=i.filter(({options:o})=>e.optionsAtMedia(o).active!==!1),t.forEach(o=>o.init(a,e)),i.reduce((o,c)=>Object.assign(o,{[c.name]:c}),{})}function r(){t=t.filter(a=>a.destroy())}return{init:n,destroy:r}}function Vx(e,t,n){const r=e.ownerDocument,s=r.defaultView,a=clt(s),i=ult(a),o=h0(),c=olt(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=a,{on:m,off:p,emit:g}=c,v=R;let y=!1,x,b=u(llt,Vx.globalOptions),w=u(b),_=[],C,S,k;function E(){const{container:re,slides:G}=w;S=(R8(re)?e.querySelector(re):re)||e.children[0];const ae=R8(G)?S.querySelectorAll(G):G;k=[].slice.call(ae||S.children)}function M(re){const G=ilt(e,S,k,r,s,re,c);if(re.loop&&!G.slideLooper.canLoop()){const oe=Object.assign({},re,{loop:!1});return M(oe)}return G}function N(re,G){y||(b=u(b,re),w=d(b),_=G||_,E(),x=M(w),h([b,..._.map(({options:oe})=>oe)]).forEach(oe=>o.add(oe,"change",R)),w.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(),x.eventHandler.init(Z),x.resizeHandler.init(Z),x.slidesHandler.init(Z),x.options.loop&&x.slideLooper.loop(),S.offsetParent&&k.length&&x.dragHandler.init(Z),C=i.init(Z,_)))}function R(re,G){const oe=W();A(),N(u({startIndex:oe},re),G),c.emit("reInit")}function A(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),i.destroy(),o.clear()}function P(){y||(y=!0,o.clear(),A(),c.emit("destroy"),c.clear())}function O(re,G,oe){!w.active||y||(x.scrollBody.useBaseFriction().useDuration(G===!0?0:w.duration),x.scrollTo.index(re,oe||0))}function I(re){const G=x.index.add(1).get();O(G,re,-1)}function L(re){const G=x.index.add(-1).get();O(G,re,1)}function F(){return x.index.add(1).get()!==W()}function D(){return x.index.add(-1).get()!==W()}function B(){return x.scrollSnapList}function $(){return x.scrollProgress.get(x.location.get())}function W(){return x.index.get()}function X(){return x.indexPrevious.get()}function ee(){return x.slidesInView.get()}function ne(){return x.slidesInView.get(!1)}function V(){return C}function q(){return x}function z(){return e}function te(){return S}function Y(){return k}const Z={canScrollNext:F,canScrollPrev:D,containerNode:te,internalEngine:q,destroy:P,off:p,on:m,emit:g,plugins:V,previousScrollSnap:X,reInit:v,rootNode:z,scrollNext:I,scrollPrev:L,scrollProgress:$,scrollSnapList:B,scrollTo:O,selectedScrollSnap:W,slideNodes:Y,slidesInView:ee,slidesNotInView:ne};return N(t,n),setTimeout(()=>c.emit("init"),0),Z}Vx.globalOptions=void 0;function Sj(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[s,a]=f.useState(),[i,o]=f.useState(),c=f.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return f.useEffect(()=>{if(Pot()&&i){Vx.globalOptions=Sj.globalOptions;const u=Vx(i,n.current,r.current);return a(u),()=>u.destroy()}else a(void 0)},[i,a]),f.useEffect(()=>{xj(n.current,e)||(n.current=e,c())},[e,c]),f.useEffect(()=>{Iot(r.current,t)||(r.current=t,c())},[t,c]),[o,s]}Sj.globalOptions=void 0;const zye=T.createContext(null);function Ej(){const e=T.useContext(zye);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Vye=T.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:s,children:a,...i},o)=>{const[c,u]=Sj({...t,axis:e==="horizontal"?"x":"y"},r),[d,h]=T.useState(!1),[m,p]=T.useState(!1),g=T.useCallback(b=>{b&&(h(b.canScrollPrev()),p(b.canScrollNext()))},[]),v=T.useCallback(()=>{u?.scrollPrev()},[u]),y=T.useCallback(()=>{u?.scrollNext()},[u]),x=T.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),v()):b.key==="ArrowRight"&&(b.preventDefault(),y())},[v,y]);return T.useEffect(()=>{!u||!n||n(u)},[u,n]),T.useEffect(()=>{if(u)return g(u),u.on("reInit",g),u.on("select",g),()=>{u?.off("select",g)}},[u,g]),l.jsx(zye.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:y,canScrollPrev:d,canScrollNext:m},children:l.jsx("div",{ref:o,onKeyDownCapture:x,className:U("relative",s),role:"region","aria-roledescription":"carousel",...i,children:a})})});Vye.displayName="Carousel";const Gye=T.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:s}=Ej();return l.jsx("div",{ref:r,children:l.jsx("div",{ref:n,className:U("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Gye.displayName="CarouselContent";const j8=T.memo(({selectedIndex:e,total:t})=>l.jsx("div",{className:"gap-xs flex",children:Array.from({length:t}).map((n,r)=>l.jsx("div",{className:U("duration-250 bg-textOff h-[4px] w-[4px] rounded-full opacity-20",{"!opacity-100":e===r})},r))}));j8.displayName="CarouselDots";const qye=T.memo(({className:e,ref:t,...n})=>l.jsx("div",{ref:t,role:"group","aria-roledescription":"slide",className:U("min-w-0 shrink-0 grow-0 basis-full",e),...n}));qye.displayName="CarouselItem";const P8=T.memo(({...e})=>{const{scrollPrev:t,canScrollPrev:n}=Ej(),r=f.useCallback(s=>{s.stopPropagation(),t()},[t]);return l.jsx(ye,{disabled:!n,onClick:r,pill:!0,icon:gee,...e})});P8.displayName="CarouselPrevious";const I8=T.memo(({...e})=>{const{scrollNext:t,canScrollNext:n}=Ej(),r=f.useCallback(s=>{s.stopPropagation(),t()},[t]);return l.jsx(ye,{pill:!0,disabled:!n,onClick:r,icon:Wr,...e})});I8.displayName="CarouselNext";const dlt=({children:e,fadeOut:t,clipChildren:n,paginationStyle:r="below",className:s,contentClassName:a,wrapperClassName:i,fadeOutClassName:o,prevClassName:c,nextClassName:u,paginationButtonProps:d})=>{const[h,m]=f.useState(),[p,g]=f.useState(0),[v,y]=f.useState(0),x=T.Children.toArray(e),b=f.useMemo(()=>T.Children.map(x,w=>T.isValidElement(w)?l.jsx(qye,{className:U("pl-md shrink-0 grow-0 !basis-[90%]",s),children:w},w.props.id):null),[x,s]);return T.useEffect(()=>{h&&(y(h.scrollSnapList().length),h.on("select",()=>{g(h.selectedScrollSnap())}))},[h,g,y]),l.jsxs(Vye,{opts:{duration:20},setApi:m,className:i,children:[l.jsxs("div",{className:U("relative"),children:[l.jsx("div",{className:n||t?"overflow-hidden":"",children:l.jsx(Gye,{className:a,children:b})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:U("w-lg bg-background pointer-events-none absolute bottom-0 right-0 top-0 opacity-0 duration-300",{"!opacity-100":p<x.length-1},o),style:{maskImage:"linear-gradient(to left, black, transparent)"}}),l.jsx("div",{className:U("w-lg bg-background pointer-events-none absolute bottom-0 left-0 top-0 opacity-0 duration-300",{"!opacity-100":p>0},o),style:{maskImage:"linear-gradient(to right, black, transparent)"}})]}),(r==="overlay"||r==="overlayWithDots")&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:U("-left-sm pointer-events-none absolute top-[50%] -translate-y-[50%] opacity-0 duration-150",{"!pointer-events-auto !opacity-100":p>0},c),children:l.jsx(P8,{extraCSS:"shadow-sm",...d})}),l.jsx("div",{className:U("-right-sm pointer-events-none absolute top-[50%] -translate-y-[50%] opacity-0 duration-150",{"!pointer-events-auto !opacity-100":p<x.length-1},u),children:l.jsx(I8,{extraCSS:"shadow-sm",...d})})]})]}),r==="overlayWithDots"&&v>1&&l.jsx("div",{className:"mt-md flex items-center justify-center",children:l.jsx(j8,{selectedIndex:p,total:v})}),r==="below"&&l.jsxs("div",{className:"mt-md flex items-center justify-between",children:[l.jsx(P8,{}),l.jsx(j8,{selectedIndex:p,total:v}),l.jsx(I8,{})]})]})},flt=({children:e})=>l.jsx(l.Fragment,{children:e}),Kye=dlt,Yye=flt,Qye=(e,t=4)=>e.reduce((n,r,s)=>{const a=Math.floor(s/t);return n[a]||(n[a]=[]),n[a].push(r),n},[]),Xye=T.memo(({images:e,badgeText:t,onImageClick:n,onCarouselImageClick:r,selectedImageIndex:s=0,maxImagesPerScroll:a=6,variant:i})=>{const[o,c]=f.useState(s),[u,d]=f.useState(null),{isMobileStyle:h}=Oe(),m=f.useCallback(x=>{c(x),r?r(x):n(x)},[r,n]),p=x=>{d(x)},g=()=>{d(null)},v=Qye(e,a);f.useEffect(()=>{c(s)},[s]);const y=f.useMemo(()=>T.memo(({chunk:x,idx:b})=>{const w=f.useCallback(()=>m(b),[b]);return l.jsx(Yye,{id:String(b),children:l.jsx(Zye,{images:x,onClick:w,onMouseEnter:p,onMouseLeave:Ln,rowIndex:b,selectedIndex:o,maxItems:a,variant:i})},x[0].src)}),[o,m,a,i]);return l.jsxs(H,{className:"bg-offsetPlus shadow-subtle group relative flex select-none flex-col overflow-hidden rounded-lg border dark:border-none",children:[l.jsxs("div",{className:U("relative flex-1 bg-white",{"pb-0":e.length>1,"p-sm":i!=="small","p-xs":i==="small"}),children:[l.jsx(Gu,{src:e[u!==null?u:o??0]?.src,className:"aspect-[1.2/1] rounded-md border-none bg-transparent shadow-none",onClick:n.bind(null,o)}),t&&l.jsx("div",{className:"gap-sm pointer-events-none absolute right-3 top-3 flex items-center",children:t&&l.jsx(j,{variant:"smallCaps",className:"bg-text-200 !text-background dark:bg-background-200 dark:!text-text flex h-6 items-center rounded-full px-2 backdrop-blur-sm",children:t})})]}),e.length>1&&l.jsx("div",{className:"bottom-sm group left-0 right-0 isolate select-none bg-white",onMouseLeave:g,children:l.jsx(Kye,{paginationStyle:"overlay",wrapperClassName:"w-full",className:"!basis-full",clipChildren:!0,prevClassName:U("md:-translate-x-sm md:group-hover:translate-x-0 z-10",{"left-xs":i==="small"},{"left-sm":i!=="small"}),nextClassName:U("md:translate-x-sm md:group-hover:translate-x-0 z-10",{"right-xs":i==="small"},{"right-sm":i!=="small"}),paginationButtonProps:{size:h?"small":i==="small"?"tiny":"small",extraCSS:"md:opacity-0 md:group-hover:opacity-100 !bg-white !text-black/50 shadow-md border"},children:v.map((x,b)=>l.jsx(y,{chunk:x,idx:b},x[0].src))})})]})});Xye.displayName="EntityItemImageCarousel";const Zye=T.memo(({images:e,rowIndex:t,selectedIndex:n,onClick:r,onMouseEnter:s,onMouseLeave:a,maxItems:i=6,variant:o})=>{const c=f.useCallback(d=>{r(d)},[r]),u=f.useMemo(()=>T.memo(({image:d,normalizedIndex:h})=>{const m=f.useCallback(g=>{c(h),g.stopPropagation()},[h]),p=f.useCallback(()=>{s(h)},[h]);return l.jsx(Gu,{src:d.src,className:U('shadow-subtle rounded-md bg-transparent after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/5 after:content-[""]',{"opacity-100":h===n}),onClick:m,onMouseEnter:p,onMouseLeave:a},d.src)}),[c,s,a,n]);return l.jsx("div",{className:U("grid grid-cols-6 items-center justify-center",{"gap-xs px-xs py-xs":o==="small"},{"gap-md px-md py-md":o!=="small"}),style:{gridTemplateColumns:`repeat(${i}, minmax(0, 1fr))`},children:e.map((d,h)=>{const m=t*i+h;return l.jsx(u,{image:d,normalizedIndex:m},d.src)})})});Zye.displayName="ImageThumbnailRow";function hlt(){const e=Dt(),{value:t}=dr({flag:"shopping-try-on-enabled",defaultValue:!1,extraAttributes:{userEmail:e?.user?.email??"unknown-user"}});return t}const Jye=T.memo(({discountAmount:e,discountLabel:t,className:n})=>{const{$t:r}=K();return l.jsxs(j,{variant:"tiny",color:"super",className:U("gap-xs bg-superBG py-2xs inline-flex items-center rounded-sm px-[6px]",n),children:[l.jsx(_e,{icon:kFe,size:"xs"}),r({defaultMessage:"Save {discountAmount} with {discountLabel}",id:"3hJFN0J8ga"},{discountAmount:e.replace(".00",""),discountLabel:t??"Pro"})]})});Jye.displayName="DiscountTag";const e2e=T.memo(({features:e})=>{const t=f.useCallback(n=>{if(n.indexOf(":")>-1){const r=n.split(":");return r.length>2?n:l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"font-medium",children:[r[0],":"]})," ",l.jsx("span",{className:"text-subtle",children:r[1]})]})}return n},[]);return l.jsx("ul",{className:"gap-sm flex flex-col",children:e.map((n,r)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"flex size-[1lh] shrink-0 items-center justify-center",children:l.jsx(H,{variant:"textColor",className:"size-[5px] rounded-full opacity-50"})}),l.jsx(j,{as:"span",children:t(n)})]},r))})});e2e.displayName="EntityItemKeyFeatures";const mlt=({target:e,dwellTimeMs:t,callback:n,callLimit:r,targetThreshold:s=.5})=>{const a=f.useRef(null),i=f.useRef(0),o=f.useRef(0);f.useEffect(()=>{a.current&&(clearTimeout(a.current),Date.now()-o.current>=t?(n(),a.current=null):a.current=setTimeout(()=>{n(),i.current=i.current+1,a.current=null},t-(Date.now()-o.current)))},[t,n]),f.useEffect(()=>{r<=i.current&&a.current&&(clearTimeout(a.current),a.current=null)},[r]);const c=f.useCallback(u=>{i.current>=r||(u?(o.current=Date.now(),a.current=setTimeout(()=>{n(),i.current=i.current+1,a.current=null},t)):a.current&&(clearTimeout(a.current),a.current=null))},[t,n,r]);f.useEffect(()=>{const u=new IntersectionObserver(h=>{h.forEach(m=>{c(m.isIntersecting)})},{threshold:s}),d=e.current;return d&&u.observe(d),()=>{d&&u.unobserve(d)}},[e,s,c])},plt=({target:e,adType:t,sponsor:n,sponsoredUUID:r,contextUUID:s,url:a})=>{const{trackEvent:i}=_3(),{result:{context_uuid:o,frontend_context_uuid:c,backend_uuid:u}}=Ti(),d=f.useMemo(()=>{const p={contextUUID:s??o??"",frontendContextUUID:c??"",advertiser:n,ad_content_uuid:r,type:t,url:a};return u&&(p.entryUUID=u),p},[s,r,n,t,a,u,o,c]),h=f.useCallback(()=>{i("ad unit viewed",d)},[d,i]);mlt({target:e,dwellTimeMs:1e3,callback:h,callLimit:1}),yj({ref:e,onInView:()=>{i("ad unit delivered",d)}});const m=f.useCallback(()=>{i("ad unit clicked",d)},[d,i]);return f.useMemo(()=>({trackClick:m}),[m])},kj=T.memo(({ref:e,...t})=>{const{$t:n}=K(),{url:r,thumbnail:s,title:a,className:i,titleClassName:o,entryUUID:c,sponsoredUUID:u,onClick:d,onThumbnailFail:h}=t,m=pl(r),p=`https://img.youtube.com/vi/${m}/hqdefault.jpg`,[g,v]=f.useState(!1),{trackEvent:y}=Ne(),x=s??p,b=f.useCallback(()=>{h?.(x,r)},[x,r]),w=f.useCallback(()=>{v(!0),c&&y("media item clicked",{entryUUID:c,mediaItemType:"video",url:r}),d?.()},[c,d,y,r]);return m===void 0?null:l.jsxs(l.Fragment,{children:[l.jsxs(H,{"data-testid":CJe.ANSWER_MODE_VIDEO.VIDEO_PREVIEW,ref:e,onClick:w,className:U("group relative aspect-video w-full cursor-pointer overflow-hidden rounded-xl shadow-md transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-lg",i),children:[l.jsxs("div",{children:[l.jsx("div",{className:"rounded-inherit px-sm py-xs absolute inset-0 flex items-start justify-start bg-black/60 opacity-0 duration-150 group-hover:opacity-100",children:l.jsx(j,{className:U("line-clamp-3 text-white drop-shadow-sm",o),variant:"tiny",children:a})}),l.jsxs(j,{variant:"tiny",color:"white",className:"bottom-xs right-xs px-sm absolute inline-flex items-center gap-x-0.5 rounded-full bg-black/80 py-[2px]",children:[n({defaultMessage:"Watch",id:"aaiLWk1hBH"}),l.jsx(_e,{icon:DFe,size:"2xs"})]}),!!u&&l.jsx(j,{variant:"tiny",color:"white",className:"bottom-xs left-xs gap-x-xs absolute inline-flex items-center rounded-[4px] bg-black/80 px-[6px] py-[2px]",children:n({defaultMessage:"Sponsored",id:"DURmN0gdJi"})})]}),l.jsx("img",{alt:"Video Preview",className:"h-full w-full rounded-md object-cover",src:x,onError:b})]}),l.jsx(Sd,{name:a,url:r,isOpen:g,setisOpen:v})]})});kj.displayName="ThreadEntryVideo";const glt=T.memo(({sponsoredUUID:e,sponsor:t,...n})=>{const r=f.useRef(null),{trackClick:s}=plt({target:r,adType:"video",sponsor:t,sponsoredUUID:e,url:n.url});return l.jsx(kj,{ref:r,onClick:s,sponsoredUUID:e,...n})});glt.displayName="SponsoredThreadEntryVideo";const t2e=T.memo(({isLoading:e,shouldTruncate:t,firstYoutubeSource:n,entryUUID:r,reviewSummary:s,className:a})=>{const{$t:i}=K(),[o,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState(!1),p=f.useRef(null),g=()=>{c(!0)};f.useEffect(()=>{!p.current||!t||m(p.current.scrollHeight>p.current.clientHeight)},[e,t]);const v=f.useCallback(()=>d(!0),[]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:a,children:e?l.jsxs(hs,{className:"mt-sm gap-sm flex flex-col",children:[l.jsx("div",{className:"bg-offset h-3 w-[80%] rounded-full"}),l.jsx("div",{className:"bg-offset h-3 rounded-full"}),l.jsx("div",{className:"bg-offset h-3 w-[50%] rounded-full"})]}):l.jsxs("div",{className:U("clear-end",{"flex flex-col":!o}),children:[l.jsxs("div",{className:"group/parent relative w-full",onClick:!o&&h?g:void 0,children:[l.jsx(j,{className:U({"line-clamp-3":t&&!o}),ref:p,children:s}),!o&&h&&t&&l.jsx("div",{className:"absolute bottom-[1.5px] right-0 cursor-pointer pl-8",children:l.jsxs(j,{color:"light",variant:"small",children:[l.jsx("div",{className:"bg-background absolute inset-0",style:{maskImage:"linear-gradient(to right, transparent, black 30%)"}}),l.jsxs("span",{className:"gap-xs relative flex items-center",children:[i({defaultMessage:"More",id:"I5NMJ8llIi"}).toLowerCase(),l.jsx(gt,{icon:uye.faChevronDown,size:"xs"})]})]})})]}),n&&l.jsx("div",{children:l.jsxs(H,{variant:"offset",className:"mt-sm gap-md p-sm dark:shadow-subtle inline-flex cursor-pointer items-center rounded-md duration-150 hover:opacity-75",onClick:v,children:[l.jsx(kj,{url:n.url,thumbnail:null,title:n.name,variant:"preview",className:U("pointer-events-none z-10 hidden !h-[2lh] !w-auto shrink-0 self-start md:block"),titleClassName:"!line-clamp-2",entryUUID:r}),l.jsx("div",{children:l.jsx(j,{variant:"tiny",color:"light",className:"line-clamp-2 max-w-[250px]",children:n.name.replace(" - YouTube","")})})]})})]})}),n&&l.jsx(Sd,{name:n.name,url:n.url,isOpen:u,setisOpen:d})]})});t2e.displayName="EntityItemReviewSummary";const Mj=T.memo(({sources:e,count:t,variant:n="default",className:r})=>{const s="clip-path-small",a="clip-path-default",i=Math.min(e.length,t),o=f.useMemo(()=>e.slice(0,i),[e,i]);return i===0?null:l.jsxs(l.Fragment,{children:[l.jsx("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute opacity-0",children:l.jsx("defs",{children:l.jsx("clipPath",{id:a,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0635 0.704214C9.13824 0.253115 8.09868 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14C8.09868 14 9.13824 13.7469 10.0635 13.2958C8.19825 11.8312 7 9.55552 7 7C7 4.44448 8.19825 2.16882 10.0635 0.704214Z",fill:"#D9D9D9"})})})}),l.jsx("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute opacity-0",children:l.jsx("defs",{children:l.jsx("clipPath",{id:s,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.57242 0.57787C7.7928 0.20734 6.92062 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12C6.92062 12 7.7928 11.7927 8.57242 11.4221C7.00228 10.1385 6 8.18628 6 6C6 3.81372 7.00228 1.86154 8.57242 0.57787Z",fill:"#D9D9D9"})})})}),l.jsx("div",{className:U("gap-xs relative flex shrink-0 items-center",r),children:l.jsx("div",{className:"ml-xs flex",children:o.map((c,u)=>l.jsx(bc,{domain:c,size:n==="small"?12:14,className:U("bg-offsetPlus relative z-0 shrink-0",{"-ml-[5px]":n==="default"},{"-ml-xs":n==="small"}),style:u!==i-1?{clipPath:`url(#${n==="small"?s:a})`}:void 0},u))})})]})});Mj.displayName="CitationPile";const n2e=T.memo(({webResults:e,className:t,isLoading:n})=>{const[r,s]=f.useState(!1),{isMobileStyle:a}=Oe(),i=a?2:3,o=2,c=f.useMemo(()=>e.reduce((p,g)=>p.some(y=>!y||!g.url?!1:$s(y)===$s(g.url))?p:g.url?p.concat(g.url):p,[]),[e]),u=f.useMemo(()=>c.slice(0,i),[c,i]),d=f.useMemo(()=>c.reduce((p,g,v)=>v<o?p+(v>0?", ":"")+$s(g).replace(/\.[^.]*$/,""):v>=o&&v===c.length-1?p+`, +${c.length-o}`:p,""),[c]),h=f.useCallback(()=>{s(!0)},[]),m=f.useCallback(()=>{s(!1)},[]);return n?null:l.jsxs(l.Fragment,{children:[l.jsx(Dn,{tooltipText:"Review summary sources",asChild:!0,tooltipLayout:"top",children:l.jsxs("div",{onClick:h,className:U("gap-sm hover:bg-offsetPlus flex cursor-pointer flex-row-reverse items-center",t),children:[l.jsx(j,{variant:"smallCaps",color:"light",children:d}),l.jsx(Mj,{count:i,sources:u})]})}),l.jsx(XA,{isOpen:r,onClose:m,webResults:e})]})});n2e.displayName="EntityItemSourcePile";const j3=(e="sm")=>{const[t,n]=f.useState(e);f.useEffect(()=>{const c=()=>{window.innerWidth>=1536?n("2xl"):window.innerWidth>=1280?n("xl"):window.innerWidth>=1024?n("lg"):window.innerWidth>=768?n("md"):window.innerWidth>=640&&n("sm")};return window.addEventListener("resize",c),c(),()=>window.removeEventListener("resize",c)},[]);const r=!0,s=["md","lg","xl","2xl"].includes(t),a=["lg","xl","2xl"].includes(t),i=["xl","2xl"].includes(t),o=["2xl"].includes(t);return f.useMemo(()=>({breakpoint:t,isSmallScreen:r,isMediumScreen:s,isLargeScreen:a,isXLargeScreen:i,is2XLargeScreen:o}),[t,o,a,s,r,i])};var AC,Tj="HoverCard",[r2e,MUt]=Ci(Tj,[em]),P3=em(),[vlt,I3]=r2e(Tj),s2e=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:s,onOpenChange:a,openDelay:i=700,closeDelay:o=300}=e,c=P3(t),u=f.useRef(0),d=f.useRef(0),h=f.useRef(!1),m=f.useRef(!1),[p=!1,g]=jc({prop:r,defaultProp:s,onChange:a}),v=f.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>g(!0),i)},[i,g]),y=f.useCallback(()=>{clearTimeout(u.current),!h.current&&!m.current&&(d.current=window.setTimeout(()=>g(!1),o))},[o,g]),x=f.useCallback(()=>g(!1),[g]);return f.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(vlt,{scope:t,open:p,onOpenChange:g,onOpen:v,onClose:y,onDismiss:x,hasSelectionRef:h,isPointerDownOnContentRef:m,children:l.jsx(aR,{...c,children:n})})};s2e.displayName=Tj;var a2e="HoverCardTrigger",i2e=f.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=I3(a2e,n),a=P3(n);return l.jsx(jw,{asChild:!0,...a,children:l.jsx(xn.a,{"data-state":s.open?"open":"closed",...r,ref:t,onPointerEnter:It(e.onPointerEnter,qx(s.onOpen)),onPointerLeave:It(e.onPointerLeave,qx(s.onClose)),onFocus:It(e.onFocus,s.onOpen),onBlur:It(e.onBlur,s.onClose),onTouchStart:It(e.onTouchStart,i=>i.preventDefault())})})});i2e.displayName=a2e;var Nj="HoverCardPortal",[ylt,xlt]=r2e(Nj,{forceMount:void 0}),o2e=e=>{const{__scopeHoverCard:t,forceMount:n,children:r,container:s}=e,a=I3(Nj,t);return l.jsx(ylt,{scope:t,forceMount:n,children:l.jsx(As,{present:n||a.open,children:l.jsx(i1,{asChild:!0,container:s,children:r})})})};o2e.displayName=Nj;var Gx="HoverCardContent",l2e=f.forwardRef((e,t)=>{const n=xlt(Gx,e.__scopeHoverCard),{forceMount:r=n.forceMount,...s}=e,a=I3(Gx,e.__scopeHoverCard);return l.jsx(As,{present:r||a.open,children:l.jsx(blt,{"data-state":a.open?"open":"closed",...s,onPointerEnter:It(e.onPointerEnter,qx(a.onOpen)),onPointerLeave:It(e.onPointerLeave,qx(a.onClose)),ref:t})})});l2e.displayName=Gx;var blt=f.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,...o}=e,c=I3(Gx,n),u=P3(n),d=f.useRef(null),h=Kn(t,d),[m,p]=f.useState(!1);return f.useEffect(()=>{if(m){const g=document.body;return AC=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",()=>{g.style.userSelect=AC,g.style.webkitUserSelect=AC}}},[m]),f.useEffect(()=>{if(d.current){const g=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),f.useEffect(()=>{d.current&&Clt(d.current).forEach(v=>v.setAttribute("tabindex","-1"))}),l.jsx(s1,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:It(a,g=>{g.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(iR,{...u,...o,onPointerDown:It(o.onPointerDown,g=>{g.currentTarget.contains(g.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:h,style:{...o.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),wlt="HoverCardArrow",_lt=f.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=P3(n);return l.jsx(oR,{...s,...r,ref:t})});_lt.displayName=wlt;function qx(e){return t=>t.pointerType==="touch"?void 0:e()}function Clt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var c2e=s2e,u2e=i2e,d2e=o2e,f2e=l2e;const jC="text-text text-left hover:text-super focus:text-super mb-xs transition-color line-clamp-2 cursor-pointer font-sans text-sm font-medium duration-150",O3=T.memo(({hideHoverCard:e=!1,children:t,contentProps:n,linkProps:r,result:s,webResultCitation:a,timestampComponent:i,trackEvent:o,getAttachmentUrl:c})=>{const u=s?.is_conversation_history??!1,d=s?.is_memory??!1,h=u||d,[m,p]=f.useState(!1),[g,v]=f.useState(null),y=s.is_attachment??!1,x=Ma(s.url),b=f.useCallback(async()=>{if(!c)return;const X=await c(s.url);x&&(v(X),p(!0),M(!1),N.current=!1)},[c,s.url,x]),w=qA(s),_=Kae(s),C=_||h&&!w?null:s.meta_data?.generated_file_title??s.name,S=a?.cited_texts??[],k=s.meta_data?.generated_file_description??s.snippet,[E,M]=f.useState(!1),N=f.useRef(!1),[R,A]=f.useState(!1),P=!!(s.url&&pl(s.url)),O=X0(),I=s.meta_data?.authors,L=typeof s.meta_data?.wiley_book_uuid=="string",F=typeof s.meta_data?.domain_name=="string"?s.meta_data?.domain_name:void 0,D=f.useMemo(()=>RN(s),[s]);f.useEffect(()=>{if(typeof window>"u")return;function X(){N.current=!1}return document.addEventListener("visibilitychange",X),()=>{window.removeEventListener("visibilitychange",X)}},[]);const B=s.url||w,$=f.useCallback(()=>p(!1),[]),W=f.useMemo(()=>({src:g??void 0}),[g]);return l.jsxs(c2e,{onOpenChange:X=>{!X&&N.current||M(e?!1:X)},open:E,openDelay:200,closeDelay:200,children:[P&&s.url&&l.jsx(Sd,{isOpen:R,name:C,setisOpen:A,url:s.url}),x&&g&&l.jsx(g1,{isOpen:m,onClose:$,imgProps:W}),l.jsx(u2e,{asChild:!0,"aria-label":C,onPointerEnter:()=>{N.current=!0},onClick:()=>{M(!1),N.current=!1},onPointerLeave:()=>{N.current=!1},children:t}),l.jsx(d2e,{children:l.jsx(f2e,{className:U({"data-open:animate-in data-open:zoom-in-[0.97] data-open:fade-in data-closed:animate-out data-closed:zoom-out-[0.97] data-closed:fade-out data-[side=bottom]:origin-top data-[side=top]:origin-bottom":!O}),side:"bottom",sideOffset:8,...n,children:l.jsxs("div",{className:"bg-background dark:border-borderMainDark/50 px-md w-80 rounded-xl border py-3 shadow-lg",children:[h&&!w?l.jsx(KA,{variant:"medium",searchType:d?"memory":"conversation-history"}):l.jsxs("div",{className:"gap-sm flex flex-col",children:[(B||i)&&l.jsxs("div",{className:"flex items-center justify-between",children:[B&&l.jsx(wc,{className:"text-right",variant:"tiny",color:"light",url:s.url,isAttachment:y,source:F,connectionType:s.meta_data?.connection_type}),i]}),P?l.jsx("button",{className:jC,onClick:()=>{A(!0)},children:C}):y?l.jsx("button",{className:jC,onClick:b,children:C}):D?l.jsx(VA,{className:jC,result:s,trackEvent:o,...r,children:C}):l.jsx("span",{className:"text-default mb-xs line-clamp-2 text-left font-sans text-sm",children:C})]}),I?l.jsx(j,{color:"light",variant:"small",className:"line-clamp-3",children:I.join(", ")}):null,_?l.jsx(j,{variant:"small",color:"light",children:l.jsx(ce,{defaultMessage:"This is a private source.",id:"jKReyt0qq8",description:"Text shown when a source is private and obfuscated"})}):null,C!==s.name&&!d&&!_?l.jsx(j,{variant:"small",color:"light",children:s.name}):null,S.length>0?l.jsx("ul",{children:S.map((X,ee)=>l.jsx("li",{className:"border-b last:border-b-0",children:l.jsx(j,{variant:"small",className:"line-clamp-20 italic",children:X})},ee))}):k&&l.jsx(j,{variant:"small",className:"line-clamp-4 whitespace-pre-wrap",children:k}),L?l.jsxs(H,{className:"gap-xs pt-sm mt-sm flex items-center border-t",children:[l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(_e,{size:"sm",icon:Dee})}),l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(ce,{defaultMessage:"Premium Source",id:"K/sjkPqxv7",description:"title"})})]}):null,w&&!_?l.jsxs(H,{className:"gap-xs pt-sm mt-sm flex items-center border-t",children:[l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(_e,{size:"sm",icon:Oee})}),l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(ce,{defaultMessage:"Personal Search",id:"7+aLCEyqS2",description:"title"})})]}):null]})})})]})}),Slt=Ee(async()=>({default:(await he(()=>import("./SidePDFViewer-D1dJk6jK.js"),__vite__mapDeps([61,1]))).SidePDFViewer})),h2e=f.createContext({openFile:()=>{},closeViewer:()=>{},doViewerAction:()=>{},isViewerOpen:!1,setViewerDispatch:()=>{}}),m2e=T.memo(({children:e})=>{const[t,n]=f.useState(),[r,s]=f.useState(),a=f.useRef(void 0),i=f.useCallback(m=>{n(m)},[n]),o=f.useCallback(()=>{n(void 0),s(void 0),a.current=void 0},[n,s]),c=f.useRef([]),u=f.useCallback(m=>{a.current?a.current(m):c.current.push(m)},[]),d=f.useCallback(m=>{s(()=>m),a.current=m,c.current.length>0&&m&&(c.current.forEach(p=>m(p)),c.current=[])},[s]),h=f.useMemo(()=>({openFile:i,closeViewer:o,doViewerAction:u,isViewerOpen:!!r,setViewerDispatch:d}),[i,o,u,r,d]);return l.jsxs(h2e.Provider,{value:h,children:[e,l.jsx(wt,{children:t&&l.jsx(Slt,{file:t})})]})});m2e.displayName="FileViewerStateProvider";const Elt=e=>{const{value:t}=dr({flag:"file-viewer-side",defaultValue:!1}),{isLargeScreen:n}=j3();return t&&!e&&n},Rj=({reason:e})=>{const t=ot(),{mutateAsync:n}=lt({mutationKey:zv(),mutationFn:async i=>(await aXe({request:{url:i.url,thread_id:i.thread_id},reason:e})).file_url,onSuccess:(i,o,c)=>{t.setQueryData(zv(o.url),i),o.callback?.(i,!1)},onError:(i,o,c)=>{o.callback?.("",!1)},retry:!1}),r=f.useCallback(i=>{const o=t.getQueryData(zv(i));return typeof o=="string"?o:null},[t]),s=f.useCallback(async i=>{i.callback?.("",!0);const o=r(i.url);if(o)return i.callback?.(o,!1),o;const c=await n(i);return i.callback?.(c,!1),c},[r,n]),a=f.useCallback(async(i,o)=>{const c=URL.createObjectURL(o);t.setQueryData(zv(i),c)},[t]);return f.useMemo(()=>({getCachedImageDownloadUrl:r,getImageDownloadUrl:s,cacheImageDownloadUrl:a}),[a,r,s])},klt=()=>{const{openModal:e}=St(),{trackEvent:t}=Ne();return f.useCallback(r=>{if(qA(r))return;const s=ZA(r);e("memorySearchHistoryModal",s);const a=s.type,i=s.memoryKey,o=s.entryUuid;t("viewed memory search history modal",{type:a,...a==="memory"&&{memory_key:i},...a==="conversation_history"&&{entry_uuid:o}})},[e,t])},Aj=({trackEvent:e,entryUUID:t,frontendContextUUID:n,contextUUID:r})=>f.useCallback((s,a)=>{e(s,{entryUUID:t,frontendContextUUID:n,contextUUID:r,...a})},[t,n,r,e]),p2e=T.memo(({webResults:e,inFlight:t,threadOrArticle:n,showSkeletonUnits:r})=>{const{isMediumScreen:s}=j3(),a=s?4:3,i="citation-regular-list",{$t:o}=K(),{getImageDownloadUrl:c}=Rj({reason:i}),{trackEvent:u}=Ne(),d=Vr(),h=cn(),m=rr(),p=f.useCallback((E,M)=>{h&&d.openTab({url:E,tabId:M})},[h,d]),{mutate:g}=Zse({reason:i,onSuccess:h?p:void 0}),v=klt(),y=f.useMemo(()=>e.slice(0,a),[e,a]),x=Aj({trackEvent:u,entryUUID:n.backend_uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid}),b=Elt("collection_info"in n&&!!n.collection_info?.uuid),w=f.useContext(h2e),_=f.useCallback(async E=>{if(b&&E.url.endsWith(".pdf")){w?.openFile({name:E.name,url:null});const M=await c({url:E.url,thread_id:n.backend_uuid??""});w?.openFile({name:E.name,url:M}),u("file viewer opened",{contextUUID:n.context_uuid,entryUUID:n.backend_uuid,frontendContextUUID:n.uuid,source:"source card",fileName:E.name});return}return g({file_url:E.url,tab_id:E.tab_id})},[b,g,w,c,n.backend_uuid,n.context_uuid,n.uuid,u]),C=f.useCallback((E,M)=>{if(Ma(E.url)){if(AN(E.url)){M(E.url,!1);return}c({callback:M,url:E.url,thread_id:n.backend_uuid??""})}},[c,n]),S=f.useCallback((E,M)=>{if(GA(E)){v(E);return}const N=pl(E.url);!m&&N||p$e(M)&&n0(E)&&(M.preventDefault(),g({file_url:E.url,tab_id:E.tab_id}))},[g,m,v]),k=f.useMemo(()=>T.memo(({result:E,idx:M})=>{const N=f.useMemo(()=>({onClick(){const P=ZA(E),{type:O,memoryKey:I}=P;u("click citation",{source:"hoverCard",citation_url:E.url,entryUUID:n.uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid,isMemory:E.is_memory,isConversationHistory:E.is_conversation_history,...O==="memory"&&{memory_key:I}})}}),[E]),R=f.useMemo(()=>({color:"light"}),[]),A=f.useCallback(P=>S(E,P),[E]);return l.jsx("div",{className:"min-w-0",children:l.jsx(O3,{hideHoverCard:!0,linkProps:N,result:E,trackEvent:u,timestampComponent:x3.isRecentlyTrending(E)?l.jsx(w3,{recentlyUpdatedLabel:o({defaultMessage:"just now",id:"I90sbWU03C"}),timestamp:E.meta_data?.published_date,timestampProps:R,children:o({defaultMessage:"Updated",id:"xrk6zgu9jU"})}):null,children:l.jsx("div",{className:"size-full",children:l.jsx(v1,{result:E,idx:M,inFlight:t,isTrendingLayout:!1,isSidecar:m,trackEvent:x,downloadCitation:n0(E)?_:void 0,getImageUrl:Ma(E.url)?C:void 0,variant:"grid",onClick:A,useLightBoxModal:!h})})})})}),[o,C,_,t,h,m,S,n.context_uuid,n.uuid,x,u]);return l.jsxs("div",{className:"gap-sm grid grid-cols-3 md:grid-cols-4 md:px-0 [&>*:nth-child(4)]:hidden md:[&>*:nth-child(4)]:block",children:[y.map((E,M)=>l.jsx(k,{result:E,idx:M},`${E.url}-${E.timestamp}`)),r&&new Array(a-y.length).fill(null).map((E,M)=>l.jsx(H,{variant:"offsetLoading",className:"size-full h-[52px] min-w-0 rounded-lg md:h-[68px]"},M))]})});p2e.displayName="CitationRegularList";const g2e=T.memo(({children:e,className:t})=>l.jsx(H,{className:t,children:e}));g2e.displayName="CitationsWrapper";const Mlt=({webResults:e})=>bi(t=>({isShowing:!1,webResults:e,actions:{hide:()=>t({isShowing:!1}),show:n=>t({...n,isShowing:!0})}})),{Context:Tlt,useTrackedState:Nlt}=Qw("SourcesList"),Rlt=f.memo(({children:e,webResults:t})=>{const[n]=T.useState(()=>Mlt({webResults:t}));return f.useEffect(()=>{n.setState({webResults:t})},[t,n]),l.jsx(Tlt.Provider,{value:n,children:e})});Rlt.displayName="SourcesListProvider";const v2e=Nlt,Alt=T.memo(({results:e,handleViewAllClick:t,expandedLayout:n,maxFavicons:r})=>{const a=r??(n?2:6),i=K(),o=Array.from(new Map(e.map(d=>[$s(d.url),d])).values()),c=v2e(),u=i.formatMessage({defaultMessage:"Hide sources",id:"EO4AIuVUJ3"});return l.jsxs(H,{variant:"offset",bgHover:"offsetPlus",className:U("p-sm gap-xs flex h-full cursor-pointer flex-col rounded-lg md:w-auto md:justify-between",{"bg-super/10 ring-super/80 hover:!bg-super/10 dark:bg-super/20 dark:ring-super/80 dark:hover:!bg-super/20 ring-1":c.isShowing},"select-none"),onClick:c.isShowing?c.actions.hide:t,children:[l.jsx(H,{className:U("hidden sm:flex",{"gap-xs flex-wrap items-center":!n,"gap-sm flex-col":n}),children:o.slice(0,a).map(d=>l.jsxs(H,{className:U("",{"pb-sm border-b":n}),children:[l.jsxs(H,{className:"gap-xs flex items-center",children:[l.jsx(H,{className:"gap-x-sm flex-none",children:d.is_attachment?l.jsx(j,{variant:"tiny",color:"light",children:l.jsx(_e,{icon:yd,size:"xs"})}):l.jsx(bc,{domain:NN(d.url)},d.url)}),n&&l.jsx(j,{variant:"tiny",color:"light",className:"truncate",children:$s(d.url).replace(/\.[^.]*$/,"")})]}),n&&l.jsx(j,{variant:"tiny",color:"light",className:"mt-two line-clamp-2",children:d.name})]},d.url))}),l.jsx(H,{className:"flex flex-col gap-1 sm:flex-row sm:items-center",children:l.jsx(j,{variant:"tiny",color:"light",children:c.isShowing?u:i.formatMessage({defaultMessage:"+{count, plural, one {# source} other {# sources}}",id:"WhDK62xj4Y"},{count:e.length})})})]})}),y2e=T.memo(({webResults:e,handleViewAllClick:t,threadOrArticle:n,showSkeletonUnits:r})=>{const{$t:s}=K(),{trackEvent:a}=Ne(),i=Aj({trackEvent:a,entryUUID:n.backend_uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid}),o=4,c=o-1,u=e.slice(0,c),d=e.slice(c),h=e.length-c,m=f.useMemo(()=>T.memo(({result:p,idx:g})=>{const v=f.useMemo(()=>({onClick(){const x=ZA(p),{type:b,memoryKey:w}=x;a("click citation",{source:"hoverCard",citation_url:p.url,entryUUID:n.uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid,...b==="memory"&&{memory_key:w}})}}),[p]),y=f.useMemo(()=>({color:"light"}),[]);return l.jsx(H,{className:"w-[40vw] md:w-auto",children:l.jsx(O3,{hideHoverCard:!0,linkProps:v,result:p,trackEvent:a,timestampComponent:x3.isRecentlyTrending(p)?l.jsx(w3,{recentlyUpdatedLabel:s({defaultMessage:"just now",id:"I90sbWU03C"}),timestamp:p.meta_data?.published_date,timestampProps:y,children:s({defaultMessage:"Updated",id:"xrk6zgu9jU"})}):null,children:l.jsx(H,{className:"size-full",children:l.jsx(v1,{result:p,idx:g,isTrendingLayout:!0,trackEvent:i,variant:"grid"})})})},`${p.url}-${p.timestamp}`)}),[s,n.context_uuid,n.uuid,i,a]);return l.jsxs(H,{className:U("gap-sm grid grid-flow-col md:grid-cols-[1fr_1fr_1fr_96px]","-mx-pageHorizontalPadding px-pageHorizontalPadding scrollbar-none overflow-x-auto","md:mx-0 md:px-0"),children:[u.map((p,g)=>l.jsx(m,{result:p,idx:g},`${p.url}-${p.timestamp}`)),e.length>c?l.jsx(Alt,{expandedLayout:!1,moreResultsCount:h,handleViewAllClick:t,results:d,maxFavicons:3}):r?new Array(o-u.length).fill(null).map((p,g)=>l.jsx(H,{variant:"offset",className:"size-full h-[68px] min-w-0 rounded-lg"},g)):null]})});y2e.displayName="CitationTrendingList";const Jc={lastEntryUUID:null,loggedUrls:new Set,seenEntries:new Set};function jlt(e){if(e)return[{...e,url:e?.url,title:e?.name,snippet:e?.snippet,sitelinks:e?.sitelinks?.map(t=>({url:t.url,title:t.title}))}]}const TUt=T.memo(({navigationResult:e,trackEvent:t,queryString:n,entryUUID:r,onClick:s,...a})=>{const{url:i,title:o,snippet:c,sitelinks:u,position:d,source:h,client_request_timestamp:m,unstable_server_request_timestamp:p,is_cached:g,is_comet_navigation:v}=e,y=f.useMemo(()=>NN(i),[i]),x=f.useMemo(()=>Jk(i),[i]);f.useEffect(()=>{if(!r||!i)return;const w=Jc.seenEntries.has(r);Jc.lastEntryUUID!==r&&(Jc.lastEntryUUID=r,Jc.loggedUrls.clear()),Jc.loggedUrls.has(i)||(Jc.loggedUrls.add(i),Jc.seenEntries.add(r),t("navigational source viewed",{query:n,url:i,title:o,subLinks:u,position:d,source:h,is_comet_navigation:v,...typeof m=="number"&&!w&&{renderTimeMs:performance.now()-m},...typeof p=="number"&&!w&&{unstableRenderTimeMs:performance.now()-p},isCached:g}))},[r,i,n]);const b=f.useCallback(w=>{t("click citation",{source:"navigationalCard",navigationalLinkType:"primaryLink",citation_url:i,is_comet_navigation:v}),s?.(w)},[v,t,i,s]);return l.jsx(H,{variant:"transparent",className:"flex grow flex-col rounded-lg",children:l.jsx(it,{className:"group flex cursor-pointer items-stretch",href:i,target:"_self",onClick:b,rel:"noopener",...a,children:l.jsxs(H,{className:"pr-md group",children:[l.jsxs("div",{className:"mb-xs flex items-center gap-1.5",children:[l.jsx(bc,{size:18,domain:y,className:"rounded-full"}),l.jsx(j,{variant:"tinyRegular",color:"light",className:"whitespace-nowrap text-[13px]",children:x})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(j,{variant:"baseSemi",color:"super",className:"decoration-1 underline-offset-1 group-hover:underline",children:o}),l.jsx(j,{variant:"small",color:"light",className:"mb-two line-clamp-2",children:c})]})]})},i)})}),Plt=({entry:e,webResults:t,showSourcesSidebar:n,submit:r,allowedNavResultsCount:s,isFirstResult:a,...i})=>{const{trackEvent:o}=Ne(),{trackEvent:c}=_3(),{openModal:u}=St(),d=lm(),h=v2e(),m=f.useMemo(()=>"searchMode"in i&&i.searchMode===ue.SEARCH,[i]),p=f.useMemo(()=>t?.filter(R=>R.is_navigational)?.flatMap(R=>jlt(R)||[]),[t]),{data:g}=EQe(e?.query_str??""),v=f.useMemo(()=>g?.navigation_results?.map(R=>({...R,is_cached:!0}))??p?.map(R=>({...R,is_cached:!1})),[g,p]),y=f.useMemo(()=>v?.slice(0,s),[v,s]),x=y?.length&&a&&!m,b=f.useMemo(()=>{if(!y)return t;const R=new Set(y.map(A=>A.url));return t?.filter(A=>!R.has(A.url))},[t?.length,y]),w=f.useMemo(()=>b?.filter(R=>R.meta_data?.client==="trending")??[],[b?.length]),_=f.useMemo(()=>b?.slice(0,3)??[],[b]),S=f.useMemo(()=>_.filter(R=>R.meta_data?.client==="trending").length,[_])>=2,k=f.useMemo(()=>Mn.isPerplexityMessage(e)?e?.blocks?.some(R=>R.intended_usage==="answer_media_items"):!1,[e]),E=f.useMemo(()=>!x&&!k&&S,[x,k,S]),M=f.useCallback(()=>{if(e?.backend_uuid){const R=n?"sidebar":"modal";c("click view sources button",{entryUUID:e.backend_uuid,type:h.isShowing?void 0:R})}n?h.actions.show({webResults:t}):u("citationListModal",{webResults:t,entry:e,submit:d?r:void 0})},[e?.backend_uuid,u,d,n,h.isShowing,h.actions.hide,r,c,t?.length]),N=Aj({trackEvent:o,entryUUID:e?.backend_uuid,frontendContextUUID:e?.uuid,contextUUID:e?.context_uuid});return f.useMemo(()=>({isNavigationalLayout:x,navigationResults:y,trackCitationClickEvent:N,handleViewAllClick:M,dedupedWebResults:b,isTrendingLayout:E,trendingResults:w}),[b,M,x,E,y,N,w])},x2e=T.memo(({webResults:e})=>{const{actions:{handleSourcesCuration:t},result:n,isFirstResult:r,searchMode:s,isEntryInFlight:a}=Ti(),i=Plt({allowedNavResultsCount:0,entry:n,webResults:e,showSourcesSidebar:!1,submit:t,isFirstResult:r,searchMode:s}),{trendingResults:o,isTrendingLayout:c,dedupedWebResults:u,handleViewAllClick:d}=i;return l.jsx("div",{className:"-mt-sm pb-px",children:l.jsx("div",{className:"-mb-lg pb-sm",children:l.jsx(g2e,{trendingResults:o,isTrendingLayout:c,children:u&&l.jsx(H,{className:"-mx-md scrollbar-none flex w-screen overflow-x-auto overflow-y-hidden sm:overflow-x-visible sm:overflow-y-visible md:mx-auto md:block md:w-auto",children:c?l.jsx(y2e,{webResults:u,handleViewAllClick:d,threadOrArticle:n}):l.jsx(p2e,{webResults:u,inFlight:a,handleViewAllClick:d,threadOrArticle:n})})})})})});x2e.displayName="ShoppingWidgetSources";const b2e=T.memo(({isCollapsed:e,reviewSummary:t,handleViewMoreClick:n,entryUUID:r,inFlight:s,webResults:a})=>{const{$t:i}=K(),o=!!t?.summary,c=t?.key_features&&t.key_features.length>0,u=t?.review_search_results&&t.review_search_results.length>0,d=!o&&s,h=f.useMemo(()=>[...o?[i({defaultMessage:"What People Say",id:"CxUv9qofTc"})]:[],...c?[i({defaultMessage:"Key Features",id:"duAAqc0Zet"})]:[],...u?[i({defaultMessage:"Review Sources",id:"Hk7TvjDgj8"})]:[]].join(", "),[o,c,u,i]),m=f.useMemo(()=>a?.find(p=>!!pl(p.url)),[a]);return l.jsx(l.Fragment,{children:e?l.jsx(got,{loading:d,onClick:n,className:"-mb-md mt-4 border-t",trailingText:h}):l.jsxs(l.Fragment,{children:[o&&l.jsx(TC,{title:i({defaultMessage:"What People Say",id:"CxUv9qofTc"}),defaultExpanded:!0,className:"border-t",trailingContent:l.jsx(n2e,{isLoading:d,webResults:t?.review_search_results??je,className:"ml-xs border-borderMain/50 p-xs rounded-full border px-[6px]"}),children:l.jsx(t2e,{isLoading:d,entryUUID:r,shouldTruncate:!1,reviewSummary:t?.summary,firstYoutubeSource:m})}),c&&l.jsx(TC,{title:i({defaultMessage:"Key Features",id:"duAAqc0Zet"}),defaultExpanded:!e,className:"border-t",children:l.jsx(e2e,{features:t?.key_features??je})}),u&&l.jsx(TC,{title:i({defaultMessage:"Review Sources",id:"Hk7TvjDgj8"}),className:"-mb-md border-b-0 border-t",defaultExpanded:!e,children:l.jsx("div",{className:"mt-sm",children:l.jsx(x2e,{webResults:t?.review_search_results??je})})})]})})});b2e.displayName="ShoppingViewMore";const Ilt=T.memo(({loading:e,size:t=30})=>{const[n,{width:r,height:s}]=hc(),[a,i]=f.useState(0),[o,c]=f.useState(0),u=[.19,1,.22,1],d=[0,0,.58,1];f.useEffect(()=>{if(r&&s){const g=Math.ceil(r/t),v=Math.ceil(s/t);i(g),c(v)}},[r,s,t]);function h(g,v){const y=Math.ceil(g),x=Math.floor(v);return Math.floor(Math.random()*(x-y)+y)}const p=r?((g,v)=>{let y=Math.floor(v/g);return y%2!==0&&(y=y-1),y=Math.max(2,y),v/y})(t,r):t;return l.jsx("div",{ref:n,style:{gridTemplateColumns:`repeat(auto-fill, ${p}px)`,gridTemplateRows:`repeat(auto-fill, ${p}px)`},className:U("pointer-events-none absolute inset-0 z-[5] grid h-full w-full gap-0",{"bg-raised dark:bg-offsetDark":a===0||o===0}),children:l.jsx(wt,{children:[...Array(a*o)].map((g,v)=>e?l.jsx(ke.div,{animate:{opacity:[.9,0],transition:{repeat:1/0,duration:.5,delay:h(0,10)/10,repeatType:"mirror",ease:d}},exit:{opacity:0,transition:{duration:1,ease:u}},className:"bg-raised dark:bg-offsetDark"},v):null)})})}),Olt="IMAGE_GEN_PLACEHOLDER",Llt="VIDEO_GEN_PLACEHOLDER",Dlt=T.memo(({sourceImage:e,media:t,generating:n,square:r=!1,type:s="image",onMediaLoad:a})=>{const i=[.19,1,.22,1],[o,c]=f.useState(void 0),[u,d]=f.useState(!1),[h,m]=f.useState(!n),[p,g]=f.useState(!0),[v,{width:y}]=hc();f.useEffect(()=>{const C=s==="video"?Llt:Olt;t&&t.name!==C&&c(t)},[t,s]),f.useEffect(()=>{p&&g(!1)},[p]),f.useEffect(()=>{n&&(d(!1),m(!1))},[n]),f.useEffect(()=>{if(u&&!n){const C=setTimeout(()=>{m(!0)},1e3);return()=>clearTimeout(C)}},[u,n]);const b=((C,S)=>{let k=Math.floor(S/C);return k%2!==0&&(k=k-1),k=Math.max(2,k),S/k})(30,y),w=f.useCallback(()=>{d(!0),a?.()},[a]),_=f.useMemo(()=>({url:o?.url,name:o?.name,showCitation:!1}),[o?.url,o?.name]);return l.jsx("div",{ref:v,className:"relative h-full w-full shrink-0",children:b!==0?l.jsxs(l.Fragment,{children:[l.jsx(Ilt,{loading:!h,size:b}),l.jsx(ke.div,{className:"relative h-full w-full",style:{maskSize:`${b}px ${b}px`,maskPosition:"top left",maskRepeat:"repeat"},initial:{maskImage:h?`radial-gradient(black ${b/5*4}px, transparent 0px)`:`radial-gradient(black ${b/5}px, transparent 0px)`},animate:{maskImage:h?`radial-gradient(black ${b/5*4}px, transparent 0px)`:`radial-gradient(black ${b/5}px, transparent 0px)`},transition:{duration:1,ease:i},children:l.jsx(Fn,{className:U(`relative h-full w-full overflow-hidden !rounded-md ${h?"cursor-pointer":""}`,{"!rounded-none":r}),fullBleed:!0,children:l.jsx(ke.div,{animate:{filter:!h&&e?"blur(20px) saturate(2)":"none"},transition:{duration:1,ease:i},className:"grid h-full w-full",children:l.jsx("div",{className:"relative w-full bg-black/40 dark:bg-white/40",children:l.jsxs(wt,{children:[(e?.startsWith("http")||e?.startsWith("blob"))&&!h&&l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1,ease:i},className:"absolute inset-0 h-full w-full",children:l.jsx("img",{src:e,alt:"Source",className:"block h-full w-full object-cover"})},"source"),o?.image?.startsWith("http")&&l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:h?1:0},exit:{opacity:0},transition:{duration:1,ease:i},className:"absolute inset-0 h-full w-full",children:s==="image"?l.jsxs(l.Fragment,{children:[l.jsx(fs,{src:o.image||o.thumbnail,alt:o.name||"Generated Image",origin:_,includeLightBoxModal:!!h,maskClassName:U("!bg-transparent",{"!rounded-none":r}),imageClassName:"block w-full h-full object-contain !bg-transparent",containerClassName:"w-full h-full absolute inset-0 z-10 !bg-transparent",onLoad:w}),l.jsx("img",{src:o.image||o.thumbnail,alt:o.name||"Generated Image",className:"absolute inset-0 block h-full w-full object-cover blur-[20px] saturate-[1.5]"})]}):l.jsx("video",{muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:w,className:"absolute inset-0 block h-full w-full object-cover",children:l.jsx("source",{src:o.image,type:"video/mp4"})})},"generated")]})})})})})]}):null})}),Flt=T.memo(({isOpen:e,onClose:t,onCapture:n})=>{const r=f.useRef(null),s=f.useRef(null),a=f.useRef(null),[i,o]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(null),m=f.useCallback(async()=>{try{a.current&&a.current.getTracks().forEach(_=>_.stop());const w=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}});a.current=w,r.current&&(r.current.srcObject=w,o(!0),h(null))}catch{h("Unable to access camera. Please check your permissions."),o(!1)}},[]),p=f.useCallback(()=>{a.current&&(a.current.getTracks().forEach(w=>w.stop()),a.current=null,o(!1)),r.current&&(r.current.srcObject=null)},[]),g=f.useCallback(()=>{if(r.current&&s.current){const w=r.current,_=s.current,C=_.getContext("2d");if(C){_.width=w.videoWidth,_.height=w.videoHeight,C.drawImage(w,0,0,_.width,_.height);const S=_.toDataURL("image/jpeg",.95);u(S),p()}}},[p]),v=f.useCallback(()=>{u(null),m()},[m]),y=f.useCallback(()=>{h(null),m()},[m]),x=f.useCallback(()=>{p(),u(null),h(null),t()},[p,t]),b=f.useCallback(async()=>{if(c)try{const _=await(await fetch(c)).blob(),C=new File([_],"selfie.jpg",{type:"image/jpeg"});n(C),x()}catch{h("Failed to process the image. Please try again.")}},[c,n,x,h]);return f.useEffect(()=>(e&&!c&&!d&&m(),()=>{p()}),[e,c,d,m,p]),l.jsxs(jt,{isOpen:e,onClose:x,title:"Take a Selfie",children:[l.jsx("div",{className:"p-lg",children:d?l.jsxs("div",{className:"gap-md flex h-[400px] flex-col items-center justify-center",children:[l.jsx(j,{variant:"base",color:"red",children:d}),l.jsx(ye,{text:"Try again",variant:"primary",onClick:y})]}):c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-offset relative aspect-video overflow-hidden rounded-lg",children:l.jsx(fs,{src:c,alt:"Captured selfie",className:"h-full w-full object-contain"})}),l.jsxs("div",{className:"mt-lg gap-sm flex justify-center",children:[l.jsx(ye,{text:"Retake",variant:"border",onClick:v}),l.jsx(ye,{text:"Use this photo",variant:"primary",onClick:b})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-offset relative aspect-video overflow-hidden rounded-lg",children:[l.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"h-full w-full object-contain"}),!i&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(j,{variant:"small",color:"light",children:"Starting camera..."})})]}),l.jsxs("div",{className:"mt-md gap-xs flex flex-col items-center",children:[l.jsx(j,{variant:"small",color:"light",className:"text-center",children:"Position your face in the center of the frame"}),l.jsx(j,{variant:"tiny",color:"ultraLight",className:"text-center",children:"Make sure your face is well-lit and clearly visible"})]}),l.jsx("div",{className:"mt-lg flex justify-center",children:l.jsx(ye,{text:"Take photo",icon:pee,variant:"primary",onClick:g,disabled:!i})})]})}),l.jsx("canvas",{ref:s,className:"hidden"})]})}),Ult=T.memo(({setViewState:e})=>{const t=f.useCallback(()=>e("create_avatar"),[e]);return l.jsxs("div",{className:"gap-lg flex flex-col",children:[l.jsx(zlt,{}),l.jsxs("div",{className:"px-xl mx-xl gap-sm flex flex-col items-center",children:[l.jsx(H,{variant:"superLight",className:"px-sm py-xs rounded",children:l.jsx(j,{variant:"smallBold",color:"super",children:"Get started"})}),l.jsx(j,{variant:"page-title",className:"text-pretty text-center",children:"Shop for clothes like never before with virtual try on"}),l.jsx(j,{variant:"small",className:"text-pretty text-center",color:"light",children:"Upload a photo and explore how outfits look on a digital version of you."})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(ye,{text:"Create your avatar",variant:"primary",onClick:t})})]})}),Blt=T.memo(({setViewState:e,uploadSelfie:t,setLocalPreviewUrl:n,isSelfieUploading:r})=>{const[s,a]=f.useState(!1),i=f.useCallback(async d=>{const h=d.target.files?.[0];if(h){const m=URL.createObjectURL(h);n(m),await t(h)&&e("choose_body")}d.target.value=""},[t,n,e]),o=f.useCallback(async d=>{const h=URL.createObjectURL(d);n(h),await t(d)&&e("choose_body")},[t,n,e]),c=f.useCallback(()=>{a(!0)},[]),u=f.useCallback(()=>{a(!1)},[]);return l.jsxs("div",{className:"gap-lg -mb-sm flex flex-col",children:[l.jsxs("div",{className:"gap-sm flex flex-col items-center",children:[l.jsx(w2e,{step:1,totalSteps:2}),l.jsx(j,{variant:"page-title",className:"text-center",children:"Create your avatar"}),l.jsx(j,{variant:"small",className:"max-w-[400px] text-pretty text-center",color:"light",children:"You can continue with a default body or create a more personalized avatar with a custom body."})]}),l.jsxs("div",{className:"gap-sm grid grid-cols-2 grid-rows-4",children:[l.jsx(Vlt,{image:"/static/images/tryon/selfie.png",title:"Front facing selfie",description:"Simple front facing photo is all we need.",className:"!col-start-1 !row-span-4 !row-start-1"}),l.jsx(cy,{title:"Face fully visible",icon:zg}),l.jsx(cy,{title:"Looking Forward",icon:MDe}),l.jsx(cy,{title:"Even natural light",icon:EFe}),l.jsx(cy,{title:"No harsh shadows",icon:vFe})]}),l.jsx("div",{className:"gap-sm flex justify-center",children:r?l.jsxs("div",{className:"px-md py-sm gap-sm bg-offsetPlus flex items-center rounded-lg",children:[l.jsx(yl,{}),l.jsx(j,{variant:"baseSemi",children:"Uploading..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"file",accept:"image/*",className:"absolute hidden",id:"shopping-try-on-file-input",onChange:i}),l.jsx(ye,{text:"Take a selfie",icon:pee,variant:"common",onClick:c}),l.jsxs("label",{htmlFor:"shopping-try-on-file-input",className:"px-md py-sm gap-sm bg-super active:ease-outExpo group flex origin-center transform-gpu cursor-pointer select-none flex-row items-center whitespace-nowrap rounded-lg duration-300 hover:opacity-80 active:scale-[0.97] active:duration-150",children:[l.jsx(j,{children:l.jsx(_e,{icon:Ew,size:"md",color:"black"})}),l.jsx(j,{variant:"baseSemi",color:"defaultInverted",children:"Upload a selfie"})]})]})}),l.jsx(Flt,{isOpen:s,onClose:u,onCapture:o})]})}),w2e=({step:e,totalSteps:t})=>l.jsx(H,{className:"gap-sm px-sm py-xs flex flex-row items-center justify-center rounded",variant:"offset",children:l.jsxs(j,{variant:"tiny",className:"text-center",color:"light",children:[e," of ",t]})}),$lt=T.memo(({setViewState:e,generateDefaultAvatar:t,selfieUrl:n,uploadPhoto:r,generateCustomAvatar:s,setLocalPreviewUrl:a})=>{const[i,o]=f.useState("default"),[c,u]=f.useState(!1),d=f.useCallback(()=>{n&&(e("generating_avatar"),t(n))},[e,t,n]),h=f.useCallback(()=>{const y=document.getElementById("choose-body-file-input");y&&y.click()},[]),m=f.useCallback(()=>{i==="default"?d():h()},[i,d,h]),p=f.useCallback(()=>{o("default")},[]),g=f.useCallback(()=>{o("your")},[]),v=f.useCallback(async y=>{const x=y.target.files?.[0];if(x){if(!n)return;const b=URL.createObjectURL(x);a(b);try{u(!0);const w=await r(x);w&&(e("generating_avatar"),s(n,w))}finally{u(!1)}}y.target.value=""},[r,s,n,a,e]);return l.jsxs("div",{className:"gap-xl flex flex-col",children:[l.jsxs("div",{className:"gap-sm flex flex-col items-center",children:[l.jsx(w2e,{step:2,totalSteps:2}),l.jsx(j,{variant:"page-title",className:"text-center",children:"Choose your avatar body"}),l.jsx(j,{variant:"small",className:"max-w-[400px] text-pretty text-center",color:"light",children:"You can continue with a default body or create a more personalized avatar with your body."})]}),l.jsxs("div",{className:"gap-md grid grid-cols-2",children:[l.jsx(XH,{onClick:p,title:"Default body",description:"Uses a generic body shape, no photo needed",selected:i==="default"}),l.jsx(XH,{onClick:g,title:"Your body",description:"Uses a full body photo to create a custom body",selected:i==="your"})]}),l.jsxs("div",{className:"flex justify-center",children:[l.jsx("input",{type:"file",accept:"image/*",className:"absolute hidden",id:"choose-body-file-input",onChange:v}),l.jsx(ye,{text:c?"Uploading full body photo...":i==="default"?"Continue with default":"Upload full body photo",icon:i==="default"?zg:Ew,isLoading:c,disabled:c,variant:"primary",onClick:m})]})]})}),XH=({onClick:e,title:t,description:n,selected:r})=>{const s=f.useCallback(()=>{},[]);return l.jsxs(H,{className:U("gap-xs p-md !ring-super relative flex cursor-pointer flex-col rounded-xl border duration-150",r?"!border-transparent ring-2":"ring-0"),onClick:e,children:[l.jsx("div",{className:"mb-sm aspect-square overflow-hidden rounded-md",children:l.jsx(fs,{src:"/static/images/tryon/avatar_body.png",alt:"Default body",imageClassName:"size-full object-contain invert opacity-10",containerClassName:"size-full",maskClassName:"bg-transparent",includeLightBoxModal:!1,draggable:!1})}),l.jsx(j,{variant:"baseSemi",className:"text-center",children:t}),l.jsx(j,{variant:"tinyRegular",className:"px-md text-pretty text-center",color:"light",children:n}),l.jsx(QA,{checked:r,toggleChecked:s,variant:"large",unselectedCheckboxClassName:"!bg-transparent",className:"top-md right-md pointer-events-none absolute"})]})},Hlt=T.memo(({status:e,onClose:t,onBack:n,resultUrl:r,saveAvatar:s,onSuccessfulOnboarding:a})=>{const i=f.useCallback(async()=>{r&&e==="success"?(await s(r),a(r)):t()},[t,r,e,s,a]);return l.jsxs("div",{className:"gap-lg flex flex-col",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx(H,{className:U("gap-sm relative isolate flex flex-col overflow-hidden rounded-lg border"),children:r&&l.jsx(fs,{src:r,alt:"Your Avatar",imageClassName:"max-h-[500px] max-w-full object-contain",containerClassName:"flex justify-center",includeLightBoxModal:!1})})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(j,{variant:"page-title",className:"text-center",children:"Your new virtual you"}),l.jsx(j,{variant:"small",className:"text-center",color:"light",children:"Your personalized avatar is ready"})]}),l.jsxs("div",{className:"gap-sm flex justify-center",children:[l.jsx(ye,{text:"Retry",variant:"border",onClick:n}),l.jsx(ye,{text:"Start Shopping",variant:"primary",onClick:i,disabled:e!=="success"})]})]})}),Wlt=T.memo(({localPreviewUrl:e})=>{const t=f.useMemo(()=>{if(e)return{image:e,name:"Avatar Preview",status:MOe.IN_PROGRESS,type:"image",medium:"image",author_name:"PPLX",author_url:"https://pplx.ai",image_width:100,image_height:100,url:e,source:"pplx",thumbnail:e,dark_image_url:e,locations:[],thumbnail_height:100,thumbnail_width:100,sponsored_uuid:"",ad_content_uuid:"",modal_url:"",low_res_image:""}},[e]);return l.jsxs("div",{className:"gap-lg flex flex-col",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(j,{variant:"page-title",className:"text-center",children:"Working on your avatar"}),l.jsx(j,{variant:"small",className:"text-center",color:"light",children:"This can take up to 30 seconds to complete. You can continue shopping and we will let you know when it is done."})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(H,{className:"gap-sm relative isolate flex aspect-[252/336] w-full max-w-[400px] flex-col overflow-hidden rounded-lg border",children:l.jsx(Dlt,{generating:!0,media:t})})})]})}),cy=T.memo(({title:e,icon:t})=>l.jsx(H,{className:"gap-sm p-sm flex flex-col items-center justify-center rounded-lg border",children:l.jsxs(j,{variant:"smallBold",className:"gap-xs flex flex-row items-center",children:[l.jsx(_e,{icon:t,size:"md"}),e]})})),zlt=T.memo(()=>{const e=["/static/images/tryon/ex1.jpg","/static/images/tryon/ex2.jpg","/static/images/tryon/ex3.jpg","/static/images/tryon/ex4.jpg"];return l.jsx("div",{className:"gap-sm flex h-[300px] flex-row",children:e.map((t,n)=>l.jsx(fs,{src:t,alt:"Intro",className:"h-full w-full object-cover",containerClassName:"h-full w-full",imageClassName:"h-full w-full object-cover",includeLightBoxModal:!1},n))})}),Vlt=T.memo(({image:e,title:t,className:n,description:r})=>l.jsxs(H,{className:U("gap-sm relative col-start-2 row-start-2 flex flex-col overflow-hidden rounded-lg border",n),children:[e&&l.jsx(fs,{src:e,alt:"Intro",imageClassName:"h-full w-full object-cover pointer-events-none",containerClassName:"flex-1 min-h-0",includeLightBoxModal:!1,className:"pointer-events-none"}),l.jsxs("div",{className:"from-background gap-xs p-md absolute inset-0 flex flex-col items-center justify-end bg-gradient-to-t from-20% to-transparent",children:[l.jsx(j,{variant:"smallBold",className:"flex items-end justify-center text-center",children:t}),r&&l.jsx(j,{variant:"tinyRegular",className:"text-pretty text-center leading-tight",color:"light",children:r})]})]})),Glt=T.memo(({isOpen:e,onClose:t,onSuccessfulOnboarding:n})=>{const r="shopping-try-on-onboarding",{status:s,resultUrl:a,selfieUrl:i,uploadSelfie:o,generateDefaultAvatar:c,generateCustomAvatar:u,uploadPhoto:d,saveAvatar:h,resetState:m}=nj({reason:r}),[p,g]=f.useState("intro"),[v,y]=f.useState(null),[x,b]=f.useState(null),w=f.useCallback(E=>{y(M=>(M&&M!==E&&URL.revokeObjectURL(M),E))},[]),_=f.useCallback(()=>{g("intro"),m(),b(null),t()},[t,m]);f.useEffect(()=>{!e&&v&&(URL.revokeObjectURL(v),y(null))},[e,v]),f.useEffect(()=>{p==="generating_avatar"&&(s==="success"&&a?g("confirm_avatar"):s==="error"&&(g("choose_body"),b(null)))},[p,s,a]);const C=f.useCallback(()=>g("create_avatar"),[]),S=f.useCallback(E=>(b("selfie"),o(E)),[o]),k=f.useCallback(E=>(b("body"),d(E)),[d]);return l.jsx(jt,{isOpen:e,onClose:_,headerClassname:"hidden",children:l.jsxs("div",{className:"h-full w-full",children:[p==="intro"&&l.jsx(Ult,{setViewState:g}),p==="create_avatar"&&l.jsx(Blt,{setViewState:g,uploadSelfie:S,setLocalPreviewUrl:w,isSelfieUploading:s==="uploading"&&x==="selfie"}),p==="choose_body"&&l.jsx($lt,{setViewState:g,generateDefaultAvatar:c,selfieUrl:i,uploadPhoto:k,generateCustomAvatar:u,setLocalPreviewUrl:w}),p==="generating_avatar"&&l.jsx(Wlt,{localPreviewUrl:v}),p==="confirm_avatar"&&l.jsx(Hlt,{status:s,onClose:_,onBack:C,resultUrl:a,saveAvatar:h,onSuccessfulOnboarding:n})]})})}),qlt=T.memo(({productImageUrl:e,setTryOnImageUrl:t,setIsGeneratingTryOn:n})=>{const{$t:r}=K(),[s,a]=f.useState(!1),i="shopping-try-on",o=ot(),{resultUrl:c,tryOnProduct:u,status:d}=nj({reason:i}),{userTryOnPhotoUrl:h,isUserTryOnPhotoLoading:m}=Bie({reason:i});f.useEffect(()=>{c&&(t(c),n(!1))},[c,t,n]),f.useEffect(()=>{d==="processing"?n(!0):(d==="success"||d==="error")&&n(!1)},[d,n]);const p=f.useCallback(()=>{h?u(h,e):a(!0)},[h,u,e]),g=f.useCallback(()=>a(!1),[]),v=f.useCallback(y=>{a(!1),o.setQueryData(iA(),{try_on_photo_url:y}),u(y,e)},[u,e,o]);return l.jsxs(l.Fragment,{children:[l.jsx(ye,{text:r({defaultMessage:"Try on",id:"2GYSdm3Xzb"}),variant:"common",onClick:p,disabled:m,size:"small",pill:!0,icon:$De}),l.jsx(Glt,{isOpen:s,onClose:g,onSuccessfulOnboarding:v})]})}),_2e=(e,t)=>{const n=parseFloat(t.replace(/[^0-9.-]+/g,"")),r=parseFloat(e.replace(/[^0-9.-]+/g,"")),s=Math.trunc((n-r)/n*100);return s===0?null:`${s}%`},Klt=(e,t)=>{let n;return e.thumbnails&&e.thumbnails?.length===1?n=[...e.thumbnails,...e.images]:n=e.thumbnails?.length>0?e.thumbnails:e.images,n.filter(r=>r.variants.includes(t.id)).concat(n.filter(r=>r.variants.length===0))},Ylt=T.memo(({item:e,contextUUID:t,entryUUID:n,idx:r,innerRef:s,menuItems:a,showCount:i,variant:o,onShopifyButtonClick:c,onBuyWithProButtonClick:u,inFlight:d,viewState:h="collapsed",canTryOn:m=!1,headerLeadingClassName:p,className:g,onGeneratingTryOn:v,onTryOnUrl:y})=>l.jsx(jj,{inFlight:d,item:e,onShopifyButtonClick:c,onBuyWithProButtonClick:u,children:l.jsx(C2e,{item:e,className:g,contextUUID:t,inFlight:d,canTryOn:m,viewState:h,menuItems:a,showCount:i,headerLeadingClassName:p,idx:r,entryUUID:n,variant:o,innerRef:s,onGeneratingTryOn:v,onTryOnUrl:y})}));Ylt.displayName="ShoppingWidget";const C2e=T.memo(({item:e,className:t,contextUUID:n,inFlight:r,innerRef:s,viewState:a,menuItems:i,showCount:o,headerLeadingClassName:c,idx:u,entryUUID:d,canTryOn:h,variant:m,onGeneratingTryOn:p,onTryOnUrl:g})=>{const{$t:v}=K(),{userDiscountOffer:y,shouldShowBuyWithPro:x,selectedVariant:b,purchaseUrl:w,hideReviewSummary:_,hasReviewSummary:C,carouselImages:S,badgeText:k,needsUpsell:E,showDiscountTag:M,onPrimaryButtonClick:N,buttonTitle:R,buttonTrailingComponent:A,selectedImageIndex:P,reviewSummaryLoading:O,isGeneratingTryOn:I,tryOnImageUrl:L}=M2e(),{hasAccessToProFeatures:F}=At(),{setItemDetailsOpen:D,setSelectedImageIndex:B,setImageGalleryOpen:$,setTryOnImageUrl:W,setIsGeneratingTryOn:X}=T2e(),{isMobileStyle:ee}=Oe(),{trackEvent:ne}=Ne();f.useEffect(()=>{p?.(I)},[I,p]),f.useEffect(()=>{L&&g&&g(L)},[g,L]);const V=hlt()&&h&&F,q=()=>{n&&e.url&&ne("shopping card title selected",{contextUUID:n,productURL:e.url,productId:e.id,productName:e.name,productPrice:b.price??"",client:e.client}),a==="collapsed"?D(!0):N()},z=f.useCallback(G=>{n&&e.url&&ne("shopping card image selected",{contextUUID:n,productURL:e.url,productId:e.id,productName:e.name,productPrice:b.price??"",client:e.client}),a==="collapsed"?D(!0):(B(G),$(!0))},[n,e.client,e.id,e.name,e.url,b.price,$,D,B,ne,a]),te=f.useCallback(()=>{ne("shopping view more selected",{productId:e.id,productURL:e.url,contextUUID:n??"",client:e.client}),D(!0)},[n,e.client,e.id,e.url,D,ne]),Y=f.useCallback(()=>{a==="collapsed"&&(D(!0),ne("shopping card body clicked",{productId:e.id,productURL:e.url,contextUUID:n??"",client:e.client}))},[n,e.client,e.id,e.url,D,ne,a]),Z=f.useCallback(G=>{ee?B(G):z(G)},[z,ee,B]),re=f.useCallback(G=>{z(G)},[z]);return l.jsx("div",{"data-widget-id":e.id,ref:s,className:U("group/root relative",{"cursor-pointer":a==="collapsed"},t),onClick:()=>{Y()},children:l.jsxs(fj,{id:e.id,entityVariant:m,menuItems:a==="expanded"?i:void 0,className:"relative z-10",children:[l.jsxs(fot,{className:"md:!flex-row-reverse",children:[l.jsx(mot,{listNumber:typeof u=="number"&&o?u+1:void 0,className:c,children:l.jsx(Xye,{images:S,selectedImageIndex:P,maxImagesPerScroll:5,badgeText:k??void 0,onImageClick:re,onCarouselImageClick:Z,variant:"small"})}),l.jsxs(pot,{buttonProps:{onClick:G=>{N(),G.stopPropagation()},text:R,trailingComponent:A,extraCSS:x?"":w?"!bg-[#5433eb] !text-white":void 0},secondaryButtonProps:!E||w?void 0:{text:v({defaultMessage:"Visit Site",id:"Ppy3I8Cd73"}),extraCSS:"!px-md",href:e.url,target:"_blank"},trailingComponent:V&&l.jsx(qlt,{productImageUrl:e.images[0].src,setTryOnImageUrl:W,setIsGeneratingTryOn:X}),className:"py-xs",children:[M&&l.jsx(Jye,{discountAmount:y?.discount_amount_str??"",discountLabel:y?.discount_label??"Pro",className:"mb-xs self-start"}),l.jsx(hot,{title:e.name,onTitleClick:q}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("div",{className:"gap-sm md:mb-md flex items-center",children:typeof e.rating=="number"&&l.jsx(pm,{reviewCount:e.num_reviews,rating:e.rating,size:"xs"})}),l.jsxs("div",{className:"mt-xs gap-sm flex items-center md:mt-0",children:[l.jsx(gj,{price:b?.price??"",comparePrice:b?.compare_at_price??void 0}),x&&l.jsx(Dn,{tooltipText:v({defaultMessage:"Shipping is free while shopping with Perplexity Pro",id:"UMkYrflCjt"}),children:l.jsx(j,{variant:"tiny",color:"super",children:v({defaultMessage:"FREE Delivery",id:"dPXaEReoOY"})})})]}),l.jsx(pj,{merchantDomain:e.merchant_info.merchant_domain,merchantName:e.merchant_info.merchant_name,itemUrl:w||x&&!E?e.url:null})]})]})]}),l.jsxs("div",{children:[!_&&l.jsx(hye,{cons:e.review_summary?.cons_detailed,pros:e.review_summary?.pros_detailed,chooseIfReason:e.review_summary?.buy_if,chooseIfLeadInCopy:v({defaultMessage:"Buy this if",id:"YDZngLW6Sg"}),inFlight:r,className:U("border-borderMain/50 z-20 border-t",{"mt-4":a==="collapsed","my-4":a==="expanded"}),viewState:a,id:e.id}),(O||C)&&a==="expanded"&&l.jsx(b2e,{isCollapsed:!1,reviewSummary:e.review_summary,handleViewMoreClick:te,entryUUID:d??"",inFlight:r,webResults:e.review_summary?.review_search_results??je})]})]})})});C2e.displayName="WidgetInner";const Qlt=Ee(async()=>({default:(await he(()=>import("./ShoppingDetailsModal-Ck3eeCwf.js"),__vite__mapDeps([62,1]))).ShoppingDetailsModal})),Xlt=Ee(async()=>({default:(await he(()=>import("./ShopifyPurchaseModal-CQecwIgJ.js").then(t=>t.c),__vite__mapDeps([63,1,29]))).ShopifyPurchaseModal})),Zlt=(e,t)=>{switch(t.type){case"setItemDetailsOpen":return{...e,itemDetailsOpen:t.open};case"setSelectedImageIndex":return{...e,selectedImageIndex:t.index};case"setImageGalleryOpen":return{...e,imageGalleryOpen:t.open};case"setTryOnImageUrl":return{...e,tryOnImageUrl:t.url};case"setIsGeneratingTryOn":return{...e,isGeneratingTryOn:t.isGenerating}}},S2e={userDiscountOffer:null,shouldShowBuyWithPro:!1,selectedVariant:null,shopifyPurchaseModalOpen:!1,purchaseUrl:"",hideReviewSummary:!1,hasReviewSummary:!1,isShopifyPurchase:null,carouselImages:[],badgeText:"",needsUpsell:!1,showDiscountTag:!1,inViewRef:T.createRef(),reviewSummaryLoading:!1,buttonTitle:"",buttonTrailingComponent:null,selectedImageIndex:0,hasProsOrCons:!1,itemDetailsOpen:!1,imageGalleryOpen:!1,onPrimaryButtonClick:()=>{},tryOnImageUrl:null,isGeneratingTryOn:!1},Jlt={setItemDetailsOpen:()=>{},setSelectedImageIndex:()=>{},setImageGalleryOpen:()=>{},setTryOnImageUrl:()=>{},setIsGeneratingTryOn:()=>{}},E2e=f.createContext(S2e),k2e=f.createContext(Jlt),M2e=()=>f.useContext(E2e),T2e=()=>f.useContext(k2e),jj=T.memo(({contextUUID:e,item:t,inFlight:n,entryUUID:r,onBuyWithProButtonClick:s,onShopifyButtonClick:a,children:i,canTryOn:o=!1})=>{const c="shopping-widget-provider",{$t:u}=K(),[d,h]=f.useReducer(Zlt,{...S2e}),[m,p]=f.useState(1),[g,v]=f.useState(!1),[y,x]=f.useState(t.variants.find(le=>le.available)||t.variants[0]),{trackEvent:b}=Ne(),{openModal:w}=St(),{hasAccessToProFeatures:_}=At(),C=ut(),{openVisitorLoginUpsell:S}=Gr({enabled:!C}),E=zw()==="US",{isLocalhost:M}=Pc(),N=E||M,R=f.useRef(null),{isMobileStyle:A}=Oe();yj({ref:R,onInView:()=>{e&&b("shown shopping product",{contextUUID:e,entryUUID:r??"",productId:t.id,productName:t.name,productURL:t.url,client:t.client})}});const P=!!t.review_summary?.buy_if,O=!P&&n;let I=null;y?.id&&t?.merchant_info?.merchant_domain&&(I=`https://${t.merchant_info.merchant_domain}/cart/${y.id}:${m}`);const L=f.useMemo(()=>{const le=Klt(t,y);return d.tryOnImageUrl?[{src:d.tryOnImageUrl,variants:[]},...le]:le},[t,y,d.tryOnImageUrl]),F=f.useMemo(()=>{const le=t.images.map(we=>({image:we.src||"",url:we.src||""}));return d.tryOnImageUrl?[{image:d.tryOnImageUrl,url:d.tryOnImageUrl},...le]:le},[t.images,d.tryOnImageUrl]),D=f.useMemo(()=>t.merchant_info.pro_shop_enabled&&N,[t.merchant_info.pro_shop_enabled,N]),{customerShoppingInfo:B}=Aot({enabled:D??!1,reason:c}),$=f.useMemo(()=>!B?.customer?.shipping_address?.address.city,[B]),W=f.useCallback(()=>{const le=m+1;e&&b("shopping product quantity changed",{contextUUID:e,productName:t.name,newQuantity:le}),p(le)},[e,t.name,m,b]),X=f.useCallback(()=>{const le=m>1?m-1:1;e&&b("shopping product quantity changed",{contextUUID:e,productName:t.name,newQuantity:le}),p(le)},[e,t.name,m,b]),ee=f.useCallback(async()=>{y.price?w("shoppingPaymentModal",{product:t,onSuccess:le=>{w("purchaseConfirmationModal",{order:le})}}):window.open(t.url)},[t,w,y.price]),ne=f.useCallback(()=>{w("shoppingOnboardingModal",{onContinue:()=>{ee()}})},[ee,w]),V=f.useCallback(()=>{e&&I&&(b("shopping modal button selected",{contextUUID:e,productURL:t.url,productId:t.id,productName:t.name,productPrice:y.price??"",client:t.client}),window.open(I),v(!1))},[e,t.name,t.url,I,y.price,v,b,t.client,t.id]),q=f.useCallback(le=>{e&&t.url&&b("shopping card button selected",{contextUUID:e,productURL:t.url,productId:t.id,productName:t.name,productPrice:y.price??"",cta:le,client:t.client})},[e,t.name,t.url,t.id,y.price,b,t.client]),z=f.useMemo(()=>{if(y?.compare_at_price&&y?.price){const le=_2e(y.price,y.compare_at_price);if(le)return u({defaultMessage:"{amount} off",id:"+Fpudsk35l"},{amount:le})}return null},[y,u]),te=f.useMemo(()=>!!t.review_summary&&t.review_summary.review_quality_score===0,[t.review_summary]),Y=f.useCallback((le,we)=>{if(!t.variants)return;const Je=t.variants.find(Te=>[Te.option1,Te.option2,Te.option3].every((Fe,ht)=>ht===we?Fe===le:Fe===y[`option${ht+1}`]));Je&&x(Je),e&&b("shopping product option selected",{contextUUID:e,productName:t.name})},[e,t.name,t.variants,y,x,b]),Z=f.useMemo(()=>I,[I]),re=f.useMemo(()=>D&&(!C||!_),[D,C,_]),G=f.useMemo(()=>u(D||I?{defaultMessage:"Buy with",id:"bw7bvygIAi"}:{defaultMessage:"Visit Site",id:"Ppy3I8Cd73"}),[D,I,u]),oe=f.useMemo(()=>D?l.jsx(c1,{sizeVariant:"small",fillColor:"fill-background",width:"w-[26px] ml-0.5"}):I?l.jsx("div",{className:"h-[14px] [&>*]:ml-0.5 [&>*]:w-auto",children:l.jsx(Bye,{})}):void 0,[D,I]),ae=f.useCallback(()=>{a?a():v(!0)},[a,v]),ie=f.useCallback(()=>{if(D){if(!C){S({origin:rt.BUY_WITH_PRO_BUTTON,description:u({defaultMessage:"Explore millions of products with free shipping on Perplexity Pro.",id:"PYA+JEZasT"}),title:u({defaultMessage:"Unlock free shipping with Perplexity",id:"dmUvYTOIgW"}),sheetModalVariant:"bottom-sheet-gradient"});return}if(!_){w("pricingModal",{origin:rt.BUY_WITH_PRO_BUTTON,pitchMessage:{title:u({defaultMessage:"Unlock free shipping with Perplexity",id:"dmUvYTOIgW"}),description:u({defaultMessage:"Explore millions of products with free shipping on Perplexity Pro.",id:"PYA+JEZasT"})}});return}$?ne():ee(),s?.()}else Z?ae():window.open(t.url)},[ee,ne,ae,Z,t.url,s,$,C,_,w,S,D,u]),xe=f.useCallback(()=>{q(D?"buy with pro":Z?"buy with shop":"visit site")},[q,Z,D]),de=f.useCallback(()=>{ie(),xe()},[ie,xe]),Se=f.useMemo(()=>O?!0:(t.review_summary?.pros_detailed?.length??0)>0||(t.review_summary?.cons_detailed?.length??0)>0,[t.review_summary?.pros_detailed,t.review_summary?.cons_detailed,O]),qe=f.useMemo(()=>({...d,shouldShowBuyWithPro:D,selectedVariant:y,shopifyPurchaseModalOpen:g,purchaseUrl:I,hideReviewSummary:te,hasReviewSummary:P,isShopifyPurchase:Z,carouselImages:L,badgeText:z,needsUpsell:re,inViewRef:R,reviewSummaryLoading:O,buttonTitle:G,buttonTrailingComponent:oe,hasProsOrCons:Se,onPrimaryButtonClick:de}),[d,D,y,g,I,te,P,Z,L,z,re,R,O,G,oe,Se,de]),be=f.useMemo(()=>({setItemDetailsOpen:le=>h({type:"setItemDetailsOpen",open:le}),setSelectedImageIndex:le=>h({type:"setSelectedImageIndex",index:le}),setImageGalleryOpen:le=>h({type:"setImageGalleryOpen",open:le}),setTryOnImageUrl:le=>h({type:"setTryOnImageUrl",url:le}),setIsGeneratingTryOn:le=>h({type:"setIsGeneratingTryOn",isGenerating:le})}),[h]),ve=f.useCallback(()=>{be.setItemDetailsOpen(!1)},[be]),Be=f.useCallback(()=>{be.setItemDetailsOpen(!1),v(!0)},[be,v]),We=f.useCallback(()=>{be.setItemDetailsOpen(!1)},[be]),Le=f.useCallback(()=>{v(!1)},[v]),De=f.useCallback(le=>{be.setSelectedImageIndex(le),A||requestAnimationFrame(()=>{be.setImageGalleryOpen(!0)})},[be,A]),Ve=f.useCallback(()=>{be.setImageGalleryOpen(!1)},[be]);return l.jsx(E2e.Provider,{value:qe,children:l.jsxs(k2e.Provider,{value:be,children:[i,l.jsx(Qlt,{isOpen:d.itemDetailsOpen,onClose:ve,onShopifyButtonClick:Be,inFlight:n,onBuyWithProButtonClick:We,item:t,canTryOn:o,menuItems:je}),l.jsx(Xlt,{open:g,onOptionSelect:Y,onQuantityIncrement:W,onQuantityDecrement:X,onClose:Le,quantity:m,item:t,selectedVariant:y,handleBuyClick:V,selectedImageIndex:d.selectedImageIndex,handleImageClick:De,images:L}),l.jsx(mj,{title:t.name,mainImageIndex:d.selectedImageIndex,isOpen:d.imageGalleryOpen,images:F,onClose:Ve})]})})});jj.displayName="ShoppingWidgetProvider";const N2e=T.memo(({contextUUID:e,entryUUID:t,item:n,inFlight:r,innerRef:s,className:a,showProsCons:i=!0,context:o})=>{const{result:{answer_modes:c}}=Ti(),u=f.useMemo(()=>c.find(h=>h.answer_mode_type===NOe.SHOPPING)?.shopping_config?.can_try_on??!1,[c]);return l.jsx(jj,{contextUUID:e,item:n,inFlight:r,entryUUID:t,canTryOn:u,children:l.jsx(R2e,{item:n,className:a,contextUUID:e,entryUUID:t,inFlight:r,innerRef:s,showProsCons:i,context:o})})});N2e.displayName="ShoppingWidgetDense";const R2e=T.memo(({item:e,className:t,contextUUID:n,entryUUID:r,innerRef:s,showProsCons:a,context:i})=>{const o="widget-inner",{inViewRef:c,shouldShowBuyWithPro:u,carouselImages:d,badgeText:h,selectedVariant:m,reviewSummaryLoading:p,hasProsOrCons:g}=M2e(),{setItemDetailsOpen:v}=T2e(),{isMobileStyle:y}=Oe(),{trackEvent:x}=Ne(),b=f.useCallback(()=>{v(!0),x("shopping card body clicked",{productId:e.id,productURL:e.url,contextUUID:n??"",client:e.client}),i==="answersMode"&&x("answer mode tab item selected",{answerMode:"shopping",entryUUID:r??"",contextUUID:n??"",itemID:e.id})},[i,n,r,e.client,e.id,e.url,v,x]);Rot({enabled:e.client==="firmly",reason:o});const w=f.useCallback(()=>{b()},[b]);return l.jsx(fj,{id:e.id,entityVariant:"dense-card",className:U("relative !p-0",t),children:l.jsxs(H,{as:"button","data-widget-id":e.id,ref:Jae([s,c]),className:U("group/root gap-sm md:gap-md flex cursor-pointer flex-col p-[10px] duration-150"),onClick:w,children:[l.jsxs("div",{className:U("md:gap-md flex flex-1 items-start gap-[12px]",{"md:items-center":!a||!g,"md:items-start":a&&g}),children:[e.image_url&&l.jsx("div",{className:"border-borderMain/50 size-[88px] shrink-0 rounded-lg border bg-white md:size-28 dark:border-0",children:l.jsx(wye,{images:d.map(_=>_.src),className:"size-full rounded-lg bg-white",badgeText:h??void 0})}),l.jsxs("div",{className:"gap-xs flex flex-1 flex-col",children:[l.jsx("div",{className:"gap-xs flex items-start justify-between",children:l.jsxs("div",{className:"gap-xs flex flex-col",children:[e.merchant_info&&l.jsx(pj,{merchantName:e.merchant,merchantDomain:e.merchant_info.merchant_domain,itemUrl:e.url,className:"md:mb-xs"}),u&&l.jsx("div",{className:"border-super/10 md:right-sm md:top-sm bg-super/10 md:px-sm md:py-xs absolute right-0 top-0 rounded-bl rounded-tr-[11px] border border-r-0 border-t-0 px-[6px] py-0.5 duration-150 md:rounded md:rounded-tr-[6px] md:border-r md:border-t",children:l.jsx(vj,{})}),l.jsx(j,{variant:y?"smallBold":"baseSemi",className:"line-clamp-2 text-pretty text-left leading-tight",children:e.name}),l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx(gj,{textVariant:y?"tiny":void 0,comparePrice:m?.compare_at_price??void 0,price:e.price,size:"small"}),u&&l.jsx(Uye,{className:"inline-flex"})]}),typeof e.rating=="number"&&l.jsx(pm,{reviewCount:e.num_reviews,rating:e.rating,size:"xs",variant:"truncated",textVariant:y?"tiny":void 0})]})}),!y&&g&&a&&l.jsx(hs,{active:p,className:"-ml-xs mt-1",children:l.jsx(u0,{pros:e.review_summary?.pros_detailed??je,cons:e.review_summary?.cons_detailed??je,loading:p,id:e.id})})]})]}),y&&g&&a&&l.jsx(u0,{pros:e.review_summary?.pros_detailed??je,cons:e.review_summary?.cons_detailed??je,loading:p,className:"mt-2",id:e.id})]})})});R2e.displayName="WidgetInner";const uy=.2,A2e=T.memo(({icon:e,title:t,loading:n,intentTier:r})=>{const{isMobileStyle:s}=Oe(),a=r!==lx.HIGH||s;return l.jsxs(hs,{active:n,className:"gap-sm flex w-full items-center",speed:"slow",children:[e&&l.jsx(j,{variant:a?"baseSemi":"section-title",className:a?void 0:"w-[24px]",children:l.jsx(gt,{fixedWidth:!0,icon:e,className:U("duration-200",{"text-textMain/35":n,"text-text":!n}),size:a?"sm":void 0})}),l.jsx(wt,{mode:"popLayout",initial:!1,children:l.jsx(ke.div,{initial:{y:"-50%",opacity:0},animate:{y:0,opacity:1,transition:{y:{duration:.2,ease:Vs,delay:uy+.1},opacity:{duration:.2,ease:"linear",delay:uy+.1}}},exit:{y:"50%",opacity:0,transition:{y:{duration:.2,ease:MX,delay:uy},opacity:{duration:.2,ease:"linear",delay:uy}}},className:"w-full",children:l.jsx(j,{variant:a?"baseSemi":"section-title",color:n?"ultraLight":void 0,children:t})},t)})]})});A2e.displayName="EntityGroupTitle";const ect=({reason:e})=>{const{uuid:t}=Oqe({reason:e}),{value:n,loading:r}=dr({flag:"shopping-enabled",defaultValue:!1,extraAttributes:{orgUUID:t??""}});return f.useMemo(()=>!r&&n,[r,n])},j2e=T.memo(({contextUUID:e,item:t,canEdit:n,idx:r,onDelete:s,variant:a="list",onClick:i,includeProCons:o,inFlight:c})=>{const u=t.id,{scrollToWidget:d}=dj(),{trackEvent:h}=Ne(),m=()=>{u&&e&&h("shopping overview item selected",{contextUUID:e,productId:t.id,productURL:t.url,client:t.client}),i?i(t):d(u)};switch(a){case"list":return l.jsx(P2e,{canEdit:n,item:t,onClick:m,onDelete:s??Ln,idx:r});case"card":return l.jsx(O8,{canEdit:n,item:t,onClick:m,idx:r,includeProCons:o,inFlight:c});case"tile":return l.jsx(O8,{canEdit:n,item:t,onClick:m,idx:r,includeProCons:o,inFlight:c,variant:"tile"});case"chip":return l.jsx(L2e,{canEdit:n,item:t,onClick:m,idx:r})}});j2e.displayName="ShoppingOverviewItem";const P2e=T.memo(({onClick:e,onDelete:t,item:n,idx:r,canEdit:s})=>{const{image_url:a,num_reviews:i,rating:o}=n;return l.jsxs(H,{className:"py-md group relative cursor-pointer duration-150 active:scale-[0.99]",onClick:e,children:[l.jsx("div",{className:"-inset-x-sm inset-y-sm bg-offset pointer-events-none absolute scale-[0.98] rounded-md opacity-0 duration-150 group-hover:scale-100 group-hover:opacity-100"}),l.jsxs("div",{className:"gap-m just gap-md relative flex w-full items-center",children:[a&&l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-xs relative !size-[60px] shrink-0 overflow-hidden !rounded-md bg-white after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/10 after:content-['']",children:l.jsx(Gu,{className:"!bg-white",src:a})}),l.jsx(j,{className:"size-md border-borderMain bg-background absolute -left-1.5 -top-1.5 flex items-center justify-center rounded-full border shadow-sm",variant:"smallCaps",color:"light",children:r+1})]}),l.jsxs("div",{className:"gap-xs flex flex-1 flex-col duration-150 group-hover:opacity-70",children:[l.jsx(j,{variant:"smallBold",className:"line-clamp-2 leading-tight",children:n.name}),l.jsxs(El,{className:"gap-xs text-textOff",delimiter:"",children:[typeof o=="number"&&l.jsx(Gn,{id:"rating",children:l.jsx(pm,{showCount:!1,reviewCount:i,rating:o,size:"2xs",textVariant:"tiny",className:"mb-[2px]",variant:"truncated"})}),n.price&&l.jsx(Gn,{id:"price",children:l.jsx(j,{variant:"tiny",color:"light",children:lo(n.price)})}),n.variants&&n.variants[0].compare_at_price&&l.jsx(Gn,{id:"originalPrice",children:l.jsx(j,{variant:"tiny",color:"light",className:"line-through opacity-70",children:lo(n.variants[0].compare_at_price)})})]})]}),s&&l.jsx(I2e,{onDelete:t})]})]})});P2e.displayName="OverviewListItem";const I2e=T.memo(({onDelete:e})=>{const{$t:t}=K(),{isMobileStyle:n}=Oe(),[r,s]=f.useState(!1),a=f.useMemo(()=>[{text:t({defaultMessage:"Remove",id:"G/yZLul6P1"}),icon:r1,destructive:!0,onClick:c=>{e(),c.stopPropagation()}}],[e,t]),i=f.useCallback(c=>{s(!0),c.stopPropagation()},[]),o=f.useCallback(()=>{s(!1)},[]);return l.jsx(bn,{items:a.map(c=>({type:"default",...c})),isMobileStyle:n,isOpen:r,onClose:o,children:l.jsx(ye,{icon:gd,extraCSS:"",size:"tiny",pill:!0,onClick:i})})});I2e.displayName="OverviewDropdownMenu";const O8=T.memo(({onClick:e,item:t,idx:n,showCount:r,includeProCons:s,inFlight:a,variant:i})=>{const o="shopping-overview-item",{$t:c}=K(),{image_url:u,num_reviews:d,rating:h}=t,p=ect({reason:o})&&t.merchant_info.pro_shop_enabled,g=f.useMemo(()=>{if(t.variants&&t.variants[0].compare_at_price&&t.variants[0].price){const v=_2e(t.variants[0].price,t.variants[0].compare_at_price);if(v)return c({defaultMessage:"{amount} off",id:"+Fpudsk35l"},{amount:v})}return null},[t,c]);return l.jsx(H,{variant:i==="tile"?"transparent":"offset",bgHover:"offsetPlus",className:"px-sm py-sm group relative flex shrink-0 cursor-pointer select-none rounded-lg duration-150 active:scale-[0.98]",onClick:e,children:l.jsxs("div",{className:"gap-sm relative flex w-full flex-col items-start",children:[u&&l.jsxs("div",{className:"relative aspect-square w-full",children:[l.jsxs("div",{className:"p-xs relative shrink-0 overflow-hidden rounded-md bg-white after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/10 after:content-['']",children:[l.jsx(Gu,{className:"!bg-white",src:u}),g&&l.jsx("div",{className:"gap-sm absolute right-2 top-2 flex items-center",children:l.jsx(j,{variant:"smallCaps",className:"flex items-center rounded-full border border-black/5 bg-white/80 px-1 py-[3px] !text-[10px] !text-black/50 backdrop-blur-sm",children:g})})]}),r&&l.jsx(j,{className:"size-md border-borderMain bg-background absolute -left-1.5 -top-1.5 flex items-center justify-center rounded-full border shadow-sm",variant:"smallCaps",color:"light",children:n+1})]}),l.jsxs("div",{className:"gap-xs flex w-full flex-1 flex-col",children:[l.jsxs("div",{className:"gap-2xs flex flex-col",children:[l.jsx(j,{variant:"smallBold",className:"line-clamp-2",children:t.name}),l.jsxs(El,{delimiter:"",className:"gap-xs",children:[l.jsx(Gn,{id:"price",children:l.jsx(j,{variant:"tiny",color:"light",children:t.variants?.[0].price?lo(t.variants[0].price):lo(t.price??"")})}),t.variants&&t.variants[0].compare_at_price&&l.jsx(Gn,{id:"originalPrice",children:l.jsx(j,{variant:"tiny",color:"light",className:"line-through opacity-70",children:lo(t.variants[0].compare_at_price)})})]}),p&&l.jsx(vj,{className:"mb-sm"})]}),s&&l.jsx(O2e,{pros:t.review_summary?.pros_detailed,inFlight:a}),l.jsx("div",{className:"h-full flex-1"}),l.jsxs(j,{variant:"tiny",color:"light",className:"gap-xs flex items-center",children:[l.jsx(bc,{size:12,className:"inline-flex shrink-0",domain:t.merchant_info.merchant_domain}),l.jsx("span",{className:"line-clamp-1",children:t.merchant})]}),typeof h=="number"&&l.jsx(pm,{size:"2xs",reviewCount:d,rating:h,textVariant:"tiny",variant:"truncated"})]})]})})});O8.displayName="OverviewCardItem";const O2e=T.memo(({pros:e,inFlight:t})=>{const n=!e&&t;return l.jsx("div",{className:"gap-2xs flex flex-col",children:n?l.jsx(hs,{className:"gap-2xs flex flex-col",children:Array.from({length:2}).map((r,s)=>l.jsxs(j,{variant:"tiny",color:"light",className:"flex items-center",children:[l.jsx("div",{className:U("bg-background-300 h-2 rounded",{"w-1/2":s===0,"w-2/3":s===1})})," "]},s))}):e?.slice(0,2).map(r=>l.jsxs(j,{variant:"tiny",color:"light",className:"gap-xs flex items-start",children:[l.jsx(gt,{icon:N3.faCheck,size:"sm",className:"text-super shrink-0 translate-y-[2px]"}),r.label]},r.label))})});O2e.displayName="ProCons";const L2e=T.memo(({onClick:e,item:t,idx:n,showCount:r})=>{const{image_url:s}=t;return l.jsx(H,{variant:"offset",bgHover:"offsetPlus",className:"group relative flex shrink-0 cursor-pointer select-none rounded-lg p-1.5 duration-150 active:scale-[0.99]",onClick:e,children:l.jsxs("div",{className:"gap-sm relative flex w-full flex-row items-start",children:[s&&l.jsxs("div",{className:"relative aspect-square size-8 shrink-0",children:[l.jsx("div",{className:"p-xs relative w-full overflow-hidden rounded-md bg-white after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/10 after:content-['']",children:l.jsx(Gu,{className:"!bg-white",src:s})}),r&&l.jsx(j,{className:"size-md border-borderMain bg-background absolute -left-1.5 -top-1.5 flex items-center justify-center rounded-full border shadow-sm",variant:"smallCaps",color:"light",children:n+1})]}),l.jsx("div",{className:"gap-xs flex w-full min-w-0 flex-1 flex-col",children:l.jsxs("div",{children:[l.jsx(j,{variant:"tiny",className:"mb-1 line-clamp-2 leading-tight",children:t.name}),l.jsx(El,{delimiter:"",className:"gap-xs",children:l.jsx(Gn,{id:"price",children:l.jsx(j,{variant:"smallCaps",color:"light",children:t.variants?.[0].price?lo(t.variants[0].price):lo(t.price??"")})})})]})})]})})});L2e.displayName="OverviewChipItem";const D2e=T.memo(({contextUUID:e,widgets:t,className:n,onItemClick:r,maxItems:s=1/0,includeProCons:a=!1,inFlight:i=!1})=>{const{articleLocalState:o}=aae(),{isMobileStyle:c}=Oe(),u=c?3:Math.min(t.length,s)<=4?4:5,d=f.useMemo(()=>t.map(p=>{const g=mm(p);if(!g)return null;switch(g.object){case"ShopifyWidget":return g;default:return null}}).filter(Boolean),[t]),h=f.useMemo(()=>d.slice(0,s).map((p,g)=>{if(!p)return null;switch(p.object){case"ShopifyWidget":return l.jsx(j2e,{contextUUID:e,item:p,canEdit:o.isEditModeEnabled,variant:"card",idx:g,onClick:r,includeProCons:a,inFlight:i},p.id);default:return null}}).filter(Boolean),[d,o.isEditModeEnabled,e,r,a,s,i]);if(d.length===0)return null;const m=Qye(h,u);return l.jsx("div",{className:U("mb-md",n),children:l.jsx(Kye,{fadeOut:!c,paginationStyle:"overlay",paginationButtonProps:{size:"small",variant:"border",extraCSS:"bg-background shadow-sm"},fadeOutClassName:"hidden",className:"!basis-full",children:m.map((p,g)=>l.jsx(Yye,{id:"related-pages-"+g,children:l.jsx("div",{className:"gap-sm grid grid-cols-5 grid-rows-1",style:{gridTemplateColumns:`repeat(${u}, minmax(0, 1fr))`},children:m[g].map((v,y)=>l.jsx(T.Fragment,{children:v},y))})},"related-pages-"+g))})})});D2e.displayName="OverviewCards";const F2e=f.createContext(void 0),tct=()=>{const e=f.useContext(F2e);if(!e)throw new Error("useEntityGroup must be used within an EntityGroupProvider");return e},nct=T.memo(({children:e})=>{const[t,n]=f.useState(!1);return l.jsx(F2e.Provider,{value:{viewMoreOpen:t,setViewMoreOpen:n},children:e})});nct.displayName="EntityGroupProvider";const rct=3,U2e=T.memo(({onClick:e,disabled:t,images:n})=>{const{$t:r}=K();return l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs(H,{variant:"background",bgHover:"offset",className:U("gap-sm py-md group flex w-full cursor-pointer items-center justify-center rounded-lg border",{"pointer-events-none opacity-50":t}),onClick:e,children:[l.jsx("div",{className:"ml-xs mr-xs flex items-center",children:n.slice(0,rct).map((s,a)=>l.jsxs("div",{className:U("-ml-xs dark:ring-background relative size-6 shrink-0 overflow-hidden rounded bg-white p-[0.1rem] shadow-sm duration-150 dark:ring",{"group-hover:-translate-x-sm":a===1},{"group-hover:-translate-x-md":a===0}),children:[l.jsx(fs,{src:s.src,containerClassName:U("relative h-full w-full"),alt:"",maskClassName:"!rounded-[0.18rem]",includeLightBoxModal:!1,imageClassName:"w-full h-full object-contain bg-white"}),l.jsx("div",{className:"rounded-inherit absolute inset-0 border border-black/10 dark:border-transparent"})]},s.src))}),l.jsx(j,{className:"small",variant:"smallBold",children:r({defaultMessage:"All Products",id:"enAu2bZ4pg"})})]})})});U2e.displayName="ViewAllButton";const B2e=T.memo(({intentTier:e})=>e===lx.HIGH?l.jsx($2e,{}):l.jsx(H2e,{}));B2e.displayName="WidgetPlaceholder";const $2e=T.memo(()=>{const e=f.useMemo(()=>({maskImage:"linear-gradient(to bottom, black, transparent)"}),[]);return l.jsx(ke.div,{children:l.jsx(H,{variant:"offset",className:"flex h-[200px] animate-pulse rounded-lg",style:e})})});$2e.displayName="HighIntentWidgetAnimationPlaceholder";const H2e=T.memo(()=>{const{isMobileStyle:e}=Oe();return l.jsx(ke.div,{className:"gap-sm flex",children:Array.from({length:e?2:5}).map((t,n)=>l.jsx(H,{variant:"offset",className:"h-[200px] flex-1 animate-pulse rounded-lg"},n))})});H2e.displayName="MediumIntentWidgetAnimationPlaceholder";const sct=Ee(async()=>({default:(await he(()=>import("./ShoppingDetailsModal-Ck3eeCwf.js"),__vite__mapDeps([62,1]))).ShoppingDetailsModal})),act=Ee(async()=>({default:(await he(()=>import("./ShoppingViewMoreModal-C6xoy1Ff.js"),__vite__mapDeps([64,1,65,63,29]))).ShoppingViewMoreModal})),ict=T.memo(({data:e,contextUUID:t,entryUUID:n,entryTitle:r,title:s,icon:a,menuItemFn:i,innerRef:o,isEntryInFlight:c,entityVariant:u,includeViewAll:d,className:h,groupClassName:m,entityClassName:p,loading:g,textLoading:v,onRemoveResults:y,intentTier:x=lx.HIGH})=>{const{$t:b}=K(),{entityRefs:w}=dj(),{viewMoreOpen:_,setViewMoreOpen:C}=tct(),[S,k]=f.useState(null),{trackEvent:E}=Ne(),M=f.useCallback(()=>{C(!0),n&&E("view all clicked",{entryUUID:n,src:"button"})},[n,C,E]),N=f.useMemo(()=>{const O=[],I=[],L=[];return e.forEach(F=>{const D=mm(F);if(!D)return;const B=D.object;if(B==="ShopifyWidget")O.push(F),I.push(D),L.push(D.images[0]);else if(B==="PlaceWidget"&&(O.push(F),I.push(D),D.images?.[0])){const $=D.images[0];L.push({src:$,variants:[]})}}),{widgetResults:O,widgets:I,images:L}},[e]),R=f.useCallback(O=>{k(O)},[]),A=f.useCallback(()=>C(!1),[C]),P=f.useCallback(()=>k(null),[]);return l.jsxs(l.Fragment,{children:[l.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,ease:qn},ref:o,className:U("gap-sm relative isolate flex flex-col",m),children:[s&&l.jsxs("div",{className:"mt-md flex items-end justify-between",children:[l.jsx(A2e,{icon:a,title:s,loading:g,intentTier:x}),l.jsx("div",{className:"gap-sm flex items-center",children:l.jsxs(wt,{mode:"popLayout",initial:!1,children:[d&&!g&&l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:Vs},children:l.jsx(ye,{text:b({defaultMessage:"View All",id:"wbcwKddwLa"}),variant:"border",size:"tiny",pill:!0,onClick:M})},"view-all-button"),!g&&y&&l.jsx(ye,{variant:"border",size:"tiny",pill:!0,icon:tn,onClick:y,toolTip:b({defaultMessage:"Remove results",id:"eLqO1aEzzN"})},"remove-results-button")]})})]}),v?l.jsx(B2e,{intentTier:x}):x===lx.MEDIUM?l.jsx(z2e,{validatedWidgets:N,className:h,contextUUID:t,onItemClick:R,inFlight:c}):l.jsx(W2e,{validatedWidgets:N,className:h,menuItemFn:i,contextUUID:t,entryUUID:n,isEntryInFlight:c,entityRefs:w,entityVariant:u,entityClassName:p,includeViewAll:d,onClickViewAll:M})]}),n&&l.jsxs(l.Fragment,{children:[S&&l.jsx(sct,{isOpen:S!==null,onClose:P,item:S,onShopifyButtonClick:Ln,onBuyWithProButtonClick:Ln,inFlight:c,menuItems:je}),l.jsx(act,{open:_,onClose:A,entryUUID:n,title:r??"",initialResults:N.widgetResults.filter(O=>"meta_data"in O)})]})]})});ict.displayName="EntityGroup";const W2e=T.memo(({validatedWidgets:e,className:t,menuItemFn:n,contextUUID:r,entryUUID:s,isEntryInFlight:a,entityRefs:i,entityClassName:o,includeViewAll:c,onClickViewAll:u})=>l.jsxs("div",{className:U("gap-sm flex flex-col",t),children:[e.widgetResults.map((d,h)=>{const m=n?n(d):void 0,p=e.widgets[h];return is(p).with({object:"ShopifyWidget"},g=>l.jsx(N2e,{item:g,contextUUID:r,entryUUID:s,innerRef:i[g.id],inFlight:a,className:o},g.id)).with({object:"PlaceWidget"},g=>l.jsx(Lye,{place:g,contextUUID:r,entryUUID:s,menuItems:m,inFlight:a,className:o},g.id)).otherwise(()=>null)}),c&&l.jsx(U2e,{onClick:u,disabled:a,images:e.images})]}));W2e.displayName="HighIntentWidgetGroup";const z2e=T.memo(({validatedWidgets:e,className:t,contextUUID:n,onItemClick:r,inFlight:s})=>{const{isMobileStyle:a}=Oe();return l.jsx("div",{className:U("gap-md flex flex-col",t),children:l.jsx(D2e,{contextUUID:n,widgets:e.widgetResults,onItemClick:r,maxItems:a?void 0:4,includeProCons:!0,inFlight:s})})});z2e.displayName="MediumIntentWidgetGroup";const oct=(e,t)=>e.concat(t).reduce((r,s)=>{const a=mm(s);if(!a)return r;const i=a.object;return(i==="ShopifyWidget"||i==="PlaceWidget")&&(r[i]||(r[i]=[]),r[i].push(s)),r},{}),NUt=e=>{const t=mm(e);if(t)switch(t.object){case"ShopifyWidget":return!0;default:return!1}return!1},V2e=["GenericFallbackWidget"],lct=(e,t)=>{if(!e)return;const n=e.filter(r=>r.plan_block&&r.intended_usage=="plan").map(r=>r.plan_block);if(n&&n.length>0){const r=[];let s=!1;for(const a of n){for(const i of a?.goals??[])i.description!==null&&(r.length==0||r[r.length-1].final?r.push({...i}):(r[r.length-1].description+=i.description,r[r.length-1].final=i.final));a?.final&&(s=!0)}if(r.length>0)return{goals:r,final:s,channel_uuid:"",comprehensive_mode:!1}}return t},cct=e=>e.blocks??je,uct=e=>{const t=e.filter(s=>s.plan_block&&s.intended_usage=="pro_search_steps").map(s=>s.plan_block),n={};for(let s=0;s<t.length;s++)n[t[s].steps[0].uuid]=s;return t.filter((s,a)=>n[s.steps[0].uuid]===a).map(s=>s.steps.map(a=>({step_type:a.step_type,uuid:a.uuid??"",content:a?.initial_query_content??a?.attachment_content??a?.terminate_content??a?.search_web_content??a?.web_results_content??a?.code_content??a?.table_status_content??a?.entropy_request_content??a?.thought_content??a?.browser_search_content??a?.browser_open_tab_content??a?.browser_open_tab_results_content??a?.url_navigate_content??a?.browser_get_site_content_content??a?.user_clarification_content??a?.browser_get_history_summary_content??a?.browser_get_open_tab_content_content??a?.read_calendar_content??a?.read_calendar_response_content??a?.read_gmail_content??a?.read_gmail_response_content??a?.update_calendar_content??a?.generate_image_content??a?.generate_image_results_content??a?.generate_video_content??a?.generate_video_results_content??a?.search_tabs_content??a?.search_tabs_results_content??a?.create_app_results_content??a?.browser_close_tabs_content??a?.browser_close_tabs_results_content??a?.update_calendar_response_content??a?.browser_group_tabs_content??a?.browser_group_tabs_results_content??a?.create_chart_content??a?.get_url_content_content??a?.create_client_app_content??a?.get_user_info_content??a?.get_user_info_response_content??a?.get_free_busy_content??a?.get_free_busy_response_content??a?.send_gmail_content??a?.send_gmail_response_content??a?.browser_ungroup_content??a?.browser_search_tab_groups_content??a?.browser_search_tab_groups_result_content??a?.search_browser_content??a?.search_browser_results_content??a?.clarifying_questions_content??a?.clarifying_questions_output_content??a?.gmail_gcal_agent_content??a?.mcp_tool_input_content??a?.mcp_tool_output_content??a?.blocking_clarifying_questions_content??a?.create_tasks_content??a?.create_tasks_response_content??{},assets:a.assets}))).flat()},dct=e=>e?.filter(t=>t.reasoning_plan_block&&t.intended_usage==="reasoning_plan").map(t=>t.reasoning_plan_block),fct=e=>{let t=!1;if(e&&e.length>0){const n=new Map;for(const a of e){if(a.goals){for(const i of a.goals)if(i.id)if(n.has(i.id)){const o=n.get(i.id);o.description+=i.description,n.set(i.id,o)}else n.set(i.id,{...i})}t=a.progress==="DONE"}const r=Array.from(n.values()),s=e.flatMap(a=>a.web_results??je);return{goals:r,web_results:s,final:t}}};function hct(e){const t={},n=[];return e?.forEach(r=>{if(r.widget_block){const s=t[r.intended_usage]??n.length;t[r.intended_usage]=s,n[s]=xXe(n[s],r.widget_block)}}),n}function mct(e){return(e?.filter(t=>t.media_block).flatMap(t=>t.media_block.media_items)??[]).filter(t=>!t.sponsored_uuid)}function pct(e=je){return e.reduce((t,n)=>{if(n.is_code_interpreter&&n.is_image)t.codeInterpreterImages.push(n);else{const r=n.meta_data?.source==="quartr"?{...n,snippet:""}:n;t.webResultsStandard.push(r)}return t},{webResultsStandard:[],codeInterpreterImages:[]})}function gct(e){return e?.flatMap(t=>t.inline_entity_block?.knowledge_card_block?t.inline_entity_block.knowledge_card_block.knowledge_cards:t.knowledge_card_block?t.knowledge_card_block.knowledge_cards:[])??[]}function vct(e){return e??je}function yct(e){return e?.filter(t=>t.citation_block).flatMap(t=>t.citation_block.citations)??je}function xct(e){const t=e?.find(n=>n?.inline_entity_block?.finance_inline_block&&n.intended_usage==="answer_finance_widget")?.inline_entity_block?.finance_inline_block;if(t!==void 0)return{object:"FinanceWidget",data:t.data_json.map(n=>JSON.parse(n))}}function bct(e){const t=e?.map(s=>s.widget_block)?.find(s=>s?.widget_type==="sports");if(!t?.sports_widget_block?.data)return;const r=t.sports_widget_block.data;switch(r.object){case"SportsEventsWidget":return r;case"SportsIndvScheduleWidget":return r;case"SportsStandingsWidget":return r;case"SportsIndvEventsWidget":return r;default:return}}function wct(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="WeatherWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function _ct(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="TimeWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Cct(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="CalculatorWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Sct(e,t){return e&&e.length>0?e.map(n=>({name:n.widget_type||"",url:"",snippet:"",timestamp:"",meta_data:{object:n.widget_type||"unknown",...n},is_attachment:!1,is_image:!1,is_code_interpreter:!1,is_knowledge_card:!1,is_navigational:!1,is_widget:!0,sitelinks:[],inline_entity_id:""})):t||[]}function Ect(e){const t=e.find(r=>r?.meta_data?.object==="TableWidget");return t?t.meta_data.search_results:je}function kct(e){return e.filter(t=>V2e.includes(t?.meta_data?.object))}function Mct(e){return e.filter(t=>!V2e.includes(t?.meta_data?.object))}function Tct(e){const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="TaskWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Nct(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="FlightStatusWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Rct(e){if(!e?.length)return[];const t=[];return e.forEach(n=>{n.intended_usage==="pro_search_steps"&&n.plan_block?.steps&&n.plan_block.steps.forEach(r=>{r.clarifying_questions_output_content?.clarification&&t.push(r.clarifying_questions_output_content.clarification)})}),t}const Ar=e=>e.result,qr=vt.makeSelector(e=>cct(e(Ar))),Act=vt.makeSelector(e=>e(Ar).mode),Pj=vt.makeSelector(e=>e(Ar).display_model),jct=vt.makeSelector(e=>!!e(Ar).is_pro_reasoning_mode),Pct=vt.makeSelector(e=>e(Ar).search_implementation_mode),G2e=vt.makeSelector(e=>Mn.isStatusFailed(e(Ar))),Ict=vt.makeSelector(e=>Mn.isStatusPending(e(Ar))),Oct=vt.makeSelector(e=>e(Ar).plan),q2e=vt.makeSelector(e=>e(Ar).widget_data??je),Lct=vt.makeSelector(e=>e(Ar).form),L3=vt.makeSelector(e=>Mn.parseAskTextField(e(Ar))??void 0),Dct=vt.makeSelector(e=>Mn.isStatusPending(e(Ar))),Fct=vt.makeSelector(e=>mtt(e(Ar))),Uct=vt.makeSelector(e=>e(Ar).expect_search_results),L8=vt.makeSelector(e=>{const t=e(L3);return t?Mn.hasAnswer(t):!1}),Bct=vt.makeSelector(e=>e(Q2e).length>0),Kx=vt.makeSelector(e=>uct(e(qr))),Ij=vt.makeSelector(e=>lct(e(qr),e(Oct))),$ct=vt.makeSelector(e=>dct(e(qr))),D8=vt.makeSelector(e=>fct(e($ct))),Oj=vt.makeSelector(e=>Ts(e(Pj))),K2e=vt.makeSelector(e=>e(txe)!==void 0),Hct=vt.makeSelector(e=>{const t=e(Oj),n=Mn.parseStructuredAnswerBlocks(e(Ar));return n!==null&&n.some(r=>r.intended_usage==="answer_generated_image"||r.intended_usage==="answer_generated_video")&&t===ue.SEARCH}),Y2e=vt.makeSelector(e=>hct(e(qr))),Q2e=vt.makeSelector(e=>pct(e(L3)?.web_results).webResultsStandard),X2e=vt.makeSelector(e=>wct(e(qr))),Z2e=vt.makeSelector(e=>_ct(e(qr))),J2e=vt.makeSelector(e=>Cct(e(qr))),exe=vt.makeSelector(e=>Nct(e(qr))),D3=vt.makeSelector(e=>Sct(e(Y2e),e(q2e))),Wct=vt.makeSelector(e=>gtt(e(qr),e(Pj),e(Kx))),zct=vt.makeSelector(e=>e(L3)?.answer==="Answer skipped."||e(qr).some(t=>t.markdown_block?.answer==="Answer skipped.")),Vct=vt.makeSelector(e=>e(Act)===zp.COPILOT||e(Kx)!=null&&e(Kx).length>0),txe=vt.makeSelector(e=>{const t=e(Lct);if(t&&ptt(t))return t}),Gct=vt.makeSelector(e=>e(G2e)?je:mct(e(qr))),qct=vt.makeSelector(e=>{const t=e(Ij);return!!t&&t.goals.some(n=>n.id==="fast-search-goal")}),Kct=vt.makeSelector(e=>e(Ar).attachment_processing_progress??je);vt.makeSelector(e=>e(Ar).attachments??je);const nxe=vt.makeSelector(e=>!!e(Kct).length),Yct=vt.makeSelector(e=>e(Pj)===ge.O3_PRO&&!e(L8)?!0:e(qct)&&!e(D8)?!1:!!(!e(K2e)&&!e(L8)&&(e(Ij)||e(D8)||e(Oj)!==ue.SEARCH||e(Pct)==="multi_step"||e(nxe)))),Qct=vt.makeSelector(e=>gct(e(qr))),Xct=vt.makeSelector(e=>vct(e(Ar).related_query_items)),Zct=vt.makeSelector(e=>yct(e(qr))),rxe=vt.makeSelector(e=>xct(e(qr))),sxe=vt.makeSelector(e=>bct(e(qr))),axe=vt.makeSelector(e=>Ect(e(D3))),Jct=vt.makeSelector(e=>kct(e(D3))),eut=vt.makeSelector(e=>Mct(e(D3))),tut=vt.makeSelector(e=>oct(e(D3),e(Y2e))),nut=vt.makeSelector(e=>[...e(Q2e),...e(axe)]),rut=vt.makeSelector(e=>Tct(e(qr))),sut=vt.makeSelector(e=>{const t=e(sxe),n=e(rxe),r=e(X2e),s=e(Z2e),a=e(J2e),i=e(exe);return!!(t||n||r||s||a||i)}),aut=vt.makeSelector(e=>Rct(e(qr))),ixe=e=>{const{idx:t,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:o,pendingClarifications:c=[]}=e,u=aut(e),d=n.backend_uuid?c.filter(m=>m.entryUUID===n.backend_uuid).map(m=>m.content):[],h=Array.from(new Set([...u,...d]));return{idx:t,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:o,isPending:Ict(e),isFinalStep:Wct(e),isFailed:G2e(e),isProReasoningMode:jct(e),widgetData:q2e(e),response:L3(e),isEntryInFlight:Dct(e),hasLLMToken:Fct(e),isAnswerSkipped:zct(e),expectWebResults:Uct(e),steps:Kx(e),researchPlan:Ij(e),reasoningPlan:D8(e),searchMode:Oj(e),hasPrompt:K2e(e),hasMediaOnlyLayout:Hct(e),hasAnswer:L8(e),hasWebResults:Bct(e),weatherWidgetData:X2e(e),timeWidgetData:Z2e(e),calculatorWidgetData:J2e(e),flightStatusWidgetData:exe(e),isCopilot:Vct(e),generativeForm:txe(e),mediaItems:Gct(e),hasPendingFiles:nxe(e),showAgentWorkflow:Yct(e),knowledgeCards:Qct(e),relatedQueryItems:Xct(e),webResultCitations:Zct(e),financeWidgetData:rxe(e),sportsWidgetData:sxe(e),tableWebResults:axe(e),highPriorityWidgets:Jct(e),lowPriorityWidgets:eut(e),groupedEntityWidgets:tut(e),webResults:nut(e),taskWidgetData:rut(e),hasFastWidget:sut(e),userClarifications:h}},iut=e=>bi()((n,r)=>({editQueryValue:e.result?.query_str??"",isEditingQuery:!1,isStatusUpdaterOpen:!1,wasStatusUpdaterManuallyOpened:!1,...ixe(e),actions:{setEditQueryValue:s=>n({editQueryValue:s}),setIsEditingQuery:s=>n({isEditingQuery:s}),setStatusUpdaterOpen:s=>n({isStatusUpdaterOpen:s}),setWasStatusUpdaterManuallyOpened:s=>n({wasStatusUpdaterManuallyOpened:s}),handleSourcesCuration:s=>{r().result?.frontend_context_uuid&&(r().result?.backend_uuid&&r().scrollToListItem?.(r().result.backend_uuid,{smooth:!0}),r().submitQuery({existingEntryUUID:r().result?.backend_uuid??void 0,newFrontendContextUUID:null,existingFrontendContextUUID:r().result?.frontend_context_uuid,deletedUrls:s,rawQuery:r().result?.query_str??"",existingUuid:r().result?.uuid??void 0,collection:null,promptSource:"user",querySource:"citation_modal"}))}}})),{Context:out,useTrackedState:lut}=Qw("ThreadEntry"),cut=T.memo(({idx:e,children:t,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:o})=>{const c=f.useRef(r),{trackEvent:u}=_3(),{pendingClarifications:d}=Zit(),[h]=f.useState(()=>iut({idx:e,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:o,pendingClarifications:d})),p=h(g=>g.isFinalStep);return f.useEffect(()=>{const g=()=>{const x=setTimeout(()=>{u("engaged",{})},1e4);return()=>{clearTimeout(x)}},v=a&&s,y=c.current&&!r;if(v&&y&&p)return g();c.current=r},[r,p,s,a,u]),f.useEffect(()=>{h.setState(ixe({idx:e,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:o,pendingClarifications:d}))},[e,n,r,s,a,i,o,d,h]),l.jsx(out.Provider,{value:h,children:t})});cut.displayName="ThreadEntryProvider";const Ti=lut;function F3(){const{result:{frontend_uuid:e,frontend_context_uuid:t}}=Ti(),n=Bse(),r=n(e??"")??n(t);return f.useCallback((s,a)=>r?.addTiming(s,a),[r])}function RUt(){const{result:{frontend_uuid:e,frontend_context_uuid:t}}=Ti(),n=Bse(),r=n(e??"")??n(t);return f.useCallback((s,a)=>r?.addTimingOnce(s,a),[r])}const uut=({widgetType:e,widgetName:t,widgetSize:n="full"})=>{const{trackEvent:r}=Ne(),{result:{backend_uuid:s,frontend_context_uuid:a}}=Ti(),i=f.useMemo(()=>({widgetType:e,widgetName:t,widgetLocation:"thread",widgetSize:n,position:0,frontendUUID:a,entryUUID:s}),[e,t,s,a,n]),o=f.useCallback(()=>{r("widget viewed",i)},[r,i]),c=f.useCallback(()=>{r("widget hovered",i)},[r,i]),u=f.useCallback(d=>{r("widget selected",{...i,widgetCTA:{type:"internal_url",permalink:d}})},[r,i]);return f.useMemo(()=>({widgetViewed:o,widgetHovered:c,widgetSelected:u}),[o,c,u])},To=T.memo(e=>{const{children:t,...n}=e,{widgetSelected:r,widgetViewed:s,widgetHovered:a}=uut(n),i=f.useRef({hovered:!1,viewed:!1}),{ref:o,isIntersecting:c}=xie({threshold:.5,freezeOnceVisible:!0});f.useEffect(()=>{c&&!i.current.viewed&&(s(),i.current.viewed=!0)},[c,s]);const u=f.useCallback(()=>{i.current.hovered||(a(),i.current.hovered=!0)},[a]);return l.jsx("div",{ref:o,onMouseEnter:u,children:typeof t=="function"?t({widgetSelected:r}):t})});To.displayName="WithThreadWidgetInteractionEvents";const oxe=T.memo(e=>{const{data:t}=e,{menuItems:n}=A3();return t?.result==null?null:l.jsx(To,{widgetType:"calculator",widgetName:"calculator",widgetSize:"full",children:l.jsx(H,{className:"flex",children:l.jsxs("div",{className:"flex w-full items-center",children:[l.jsx(j,{color:"light",variant:"smallBold",children:l.jsx(_e,{className:"mt-two text-2xl leading-none",icon:hDe,size:"sm"})}),l.jsx(j,{children:l.jsx(H,{className:"pl-md font-mono text-2xl",children:QXe(t.result)})}),n&&n.length>0&&l.jsx("div",{className:"flex grow items-start justify-end",children:l.jsx(Xn.Menu,{menuItems:n})})]})})})});oxe.displayName="CalculatorWidget";function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function kn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function et(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ft(e){et(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ku(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bs(e,t){et(2,arguments);var n=ft(e),r=kn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function mi(e,t){et(2,arguments);var n=ft(e),r=kn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}function Zm(e,t){if(et(2,arguments),!t||Ku(t)!=="object")return new Date(NaN);var n=t.years?kn(t.years):0,r=t.months?kn(t.months):0,s=t.weeks?kn(t.weeks):0,a=t.days?kn(t.days):0,i=t.hours?kn(t.hours):0,o=t.minutes?kn(t.minutes):0,c=t.seconds?kn(t.seconds):0,u=ft(e),d=r||n?mi(u,r+n*12):u,h=a||s?Bs(d,a+s*7):d,m=o+i*60,p=c+m*60,g=p*1e3,v=new Date(h.getTime()+g);return v}function dut(e,t){et(2,arguments);var n=ft(e).getTime(),r=kn(t);return new Date(n+r)}var fut={};function Fc(){return fut}function yo(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=Fc(),h=kn((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ft(e),p=m.getDay(),g=(p<h?7:0)+p-h;return m.setDate(m.getDate()-g),m.setHours(0,0,0,0),m}function Yu(e){return et(1,arguments),yo(e,{weekStartsOn:1})}function hut(e){et(1,arguments);var t=ft(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Yu(r),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var i=Yu(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function mut(e){et(1,arguments);var t=hut(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=Yu(n);return r}function m0(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Cc(e){et(1,arguments);var t=ft(e);return t.setHours(0,0,0,0),t}var put=864e5;function Qi(e,t){et(2,arguments);var n=Cc(e),r=Cc(t),s=n.getTime()-m0(n),a=r.getTime()-m0(r);return Math.round((s-a)/put)}function F8(e,t){et(2,arguments);var n=kn(t),r=n*7;return Bs(e,r)}function gut(e,t){et(2,arguments);var n=kn(t);return mi(e,n*12)}function vut(e){et(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Ku(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=ft(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function yut(e){et(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Ku(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=ft(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function Vf(e,t){et(2,arguments);var n=ft(e),r=ft(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var xut=6e4,but=36e5;function Br(e,t){et(2,arguments);var n=Cc(e),r=Cc(t);return n.getTime()===r.getTime()}function Lj(e){return et(1,arguments),e instanceof Date||Ku(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wut(e){if(et(1,arguments),!Lj(e)&&typeof e!="number")return!1;var t=ft(e);return!isNaN(Number(t))}function yh(e,t){et(2,arguments);var n=ft(e),r=ft(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}var _ut=6048e5;function Cut(e,t,n){et(2,arguments);var r=yo(e,n),s=yo(t,n),a=r.getTime()-m0(r),i=s.getTime()-m0(s);return Math.round((a-i)/_ut)}function Sut(e,t){et(2,arguments);var n=ft(e),r=ft(t);return n.getFullYear()-r.getFullYear()}function ZH(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Eut(e,t){et(2,arguments);var n=ft(e),r=ft(t),s=ZH(n,r),a=Math.abs(Qi(n,r));n.setDate(n.getDate()-s*a);var i=+(ZH(n,r)===-s),o=s*(a-i);return o===0?0:o}function Dj(e,t){return et(2,arguments),ft(e).getTime()-ft(t).getTime()}var kut={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Mut="trunc";function Fj(e){return kut[Mut]}function Tut(e,t,n){et(2,arguments);var r=Dj(e,t)/but;return Fj()(r)}function Nut(e,t,n){et(2,arguments);var r=Dj(e,t)/xut;return Fj()(r)}function Rut(e){et(1,arguments);var t=ft(e);return t.setHours(23,59,59,999),t}function U3(e){et(1,arguments);var t=ft(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Aut(e){et(1,arguments);var t=ft(e);return Rut(t).getTime()===U3(t).getTime()}function jut(e,t){et(2,arguments);var n=ft(e),r=ft(t),s=Vf(n,r),a=Math.abs(yh(n,r)),i;if(a<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);var o=Vf(n,r)===-s;Aut(ft(e))&&a===1&&Vf(e,r)===1&&(o=!1),i=s*(a-Number(o))}return i===0?0:i}function Put(e,t,n){et(2,arguments);var r=Dj(e,t)/1e3;return Fj()(r)}function Iut(e,t){et(2,arguments);var n=ft(e),r=ft(t),s=Vf(n,r),a=Math.abs(Sut(n,r));n.setFullYear(1584),r.setFullYear(1584);var i=Vf(n,r)===-s,o=s*(a-Number(i));return o===0?0:o}function Ws(e){et(1,arguments);var t=ft(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Out(e){et(1,arguments);var t=ft(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Uj(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=Fc(),h=kn((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ft(e),p=m.getDay(),g=(p<h?-7:0)+6-(p-h);return m.setDate(m.getDate()+g),m.setHours(23,59,59,999),m}function lxe(e){return et(1,arguments),Uj(e,{weekStartsOn:1})}function Lut(e,t){et(2,arguments);var n=kn(t);return dut(e,-n)}var Dut=864e5;function Fut(e){et(1,arguments);var t=ft(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Dut)+1}function Yx(e){et(1,arguments);var t=1,n=ft(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function cxe(e){et(1,arguments);var t=ft(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Yx(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=Yx(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Uut(e){et(1,arguments);var t=cxe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Yx(n);return r}var But=6048e5;function $ut(e){et(1,arguments);var t=ft(e),n=Yx(t).getTime()-Uut(t).getTime();return Math.round(n/But)+1}function Qx(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=Fc(),h=kn((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ft(e),p=m.getUTCDay(),g=(p<h?7:0)+p-h;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m}function uxe(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=ft(e),h=d.getUTCFullYear(),m=Fc(),p=kn((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var v=Qx(g,t),y=new Date(0);y.setUTCFullYear(h,0,p),y.setUTCHours(0,0,0,0);var x=Qx(y,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=x.getTime()?h:h-1}function Hut(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=Fc(),h=kn((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=uxe(e,t),p=new Date(0);p.setUTCFullYear(m,0,h),p.setUTCHours(0,0,0,0);var g=Qx(p,t);return g}var Wut=6048e5;function zut(e,t){et(1,arguments);var n=ft(e),r=Qx(n,t).getTime()-Hut(n,t).getTime();return Math.round(r/Wut)+1}function an(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Il={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return an(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):an(r+1,2)},d:function(t,n){return an(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return an(t.getUTCHours()%12||12,n.length)},H:function(t,n){return an(t.getUTCHours(),n.length)},m:function(t,n){return an(t.getUTCMinutes(),n.length)},s:function(t,n){return an(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return an(a,n.length)}},Gd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vut={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Il.y(t,n)},Y:function(t,n,r,s){var a=uxe(t,s),i=a>0?a:1-a;if(n==="YY"){var o=i%100;return an(o,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):an(i,n.length)},R:function(t,n){var r=cxe(t);return an(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return an(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return an(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return an(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Il.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return an(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=zut(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):an(a,n.length)},I:function(t,n,r){var s=$ut(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):an(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Il.d(t,n)},D:function(t,n,r){var s=Fut(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):an(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return an(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return an(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return an(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=Gd.noon:s===0?a=Gd.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=Gd.evening:s>=12?a=Gd.afternoon:s>=4?a=Gd.morning:a=Gd.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Il.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Il.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):an(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):an(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Il.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Il.s(t,n)},S:function(t,n){return Il.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return eW(i);case"XXXX":case"XX":return du(i);case"XXXXX":case"XXX":default:return du(i,":")}},x:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"x":return eW(i);case"xxxx":case"xx":return du(i);case"xxxxx":case"xxx":default:return du(i,":")}},O:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+JH(i,":");case"OOOO":default:return"GMT"+du(i,":")}},z:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+JH(i,":");case"zzzz":default:return"GMT"+du(i,":")}},t:function(t,n,r,s){var a=s._originalDate||t,i=Math.floor(a.getTime()/1e3);return an(i,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,i=a.getTime();return an(i,n.length)}};function JH(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var i=t;return n+String(s)+i+an(a,2)}function eW(e,t){if(e%60===0){var n=e>0?"-":"+";return n+an(Math.abs(e)/60,2)}return du(e,t)}function du(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=an(Math.floor(s/60),2),i=an(s%60,2);return r+a+n+i}var tW=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},dxe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Gut=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return tW(t,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",tW(s,n)).replace("{{time}}",dxe(a,n))},qut={p:dxe,P:Gut},Kut=["D","DD"],Yut=["YY","YYYY"];function Qut(e){return Kut.indexOf(e)!==-1}function Xut(e){return Yut.indexOf(e)!==-1}function nW(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zut={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jut=function(t,n,r){var s,a=Zut[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function PC(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var edt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tdt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ndt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rdt={date:PC({formats:edt,defaultWidth:"full"}),time:PC({formats:tdt,defaultWidth:"full"}),dateTime:PC({formats:ndt,defaultWidth:"full"})},sdt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},adt=function(t,n,r,s){return sdt[t]};function Jm(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{var o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var idt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},odt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ldt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cdt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},udt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ddt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fdt=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hdt={ordinalNumber:fdt,era:Jm({values:idt,defaultWidth:"wide"}),quarter:Jm({values:odt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Jm({values:ldt,defaultWidth:"wide"}),day:Jm({values:cdt,defaultWidth:"wide"}),dayPeriod:Jm({values:udt,defaultWidth:"wide",formattingValues:ddt,defaultFormattingWidth:"wide"})};function ep(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var i=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?pdt(o,function(h){return h.test(i)}):mdt(o,function(h){return h.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function mdt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function pdt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function gdt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;var o=t.slice(s.length);return{value:i,rest:o}}}var vdt=/^(\d+)(th|st|nd|rd)?/i,ydt=/\d+/i,xdt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bdt={any:[/^b/i,/^(a|c)/i]},wdt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_dt={any:[/1/i,/2/i,/3/i,/4/i]},Cdt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sdt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Edt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kdt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mdt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tdt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ndt={ordinalNumber:gdt({matchPattern:vdt,parsePattern:ydt,valueCallback:function(t){return parseInt(t,10)}}),era:ep({matchPatterns:xdt,defaultMatchWidth:"wide",parsePatterns:bdt,defaultParseWidth:"any"}),quarter:ep({matchPatterns:wdt,defaultMatchWidth:"wide",parsePatterns:_dt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ep({matchPatterns:Cdt,defaultMatchWidth:"wide",parsePatterns:Sdt,defaultParseWidth:"any"}),day:ep({matchPatterns:Edt,defaultMatchWidth:"wide",parsePatterns:kdt,defaultParseWidth:"any"}),dayPeriod:ep({matchPatterns:Mdt,defaultMatchWidth:"any",parsePatterns:Tdt,defaultParseWidth:"any"})},fxe={code:"en-US",formatDistance:Jut,formatLong:rdt,formatRelative:adt,localize:hdt,match:Ndt,options:{weekStartsOn:0,firstWeekContainsDate:1}},Rdt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Adt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jdt=/^'([^]*?)'?$/,Pdt=/''/g,Idt=/[a-zA-Z]/;function Uc(e,t,n){var r,s,a,i,o,c,u,d,h,m,p,g,v,y,x,b,w,_;et(2,arguments);var C=String(t),S=Fc(),k=(r=(s=n?.locale)!==null&&s!==void 0?s:S.locale)!==null&&r!==void 0?r:fxe,E=kn((a=(i=(o=(c=n?.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:S.firstWeekContainsDate)!==null&&i!==void 0?i:(h=S.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=kn((p=(g=(v=(y=n?.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:S.weekStartsOn)!==null&&g!==void 0?g:(w=S.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var N=ft(e);if(!wut(N))throw new RangeError("Invalid time value");var R=m0(N),A=Lut(N,R),P={firstWeekContainsDate:E,weekStartsOn:M,locale:k,_originalDate:N},O=C.match(Adt).map(function(I){var L=I[0];if(L==="p"||L==="P"){var F=qut[L];return F(I,k.formatLong)}return I}).join("").match(Rdt).map(function(I){if(I==="''")return"'";var L=I[0];if(L==="'")return Odt(I);var F=Vut[L];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Xut(I)&&nW(I,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Qut(I)&&nW(I,t,String(e)),F(A,I,k.localize,P);if(L.match(Idt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return I}).join("");return O}function Odt(e){var t=e.match(jdt);return t?t[1].replace(Pdt,"'"):e}function Ldt(e){et(1,arguments);var t=ft(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var Ddt=6048e5;function Fdt(e){et(1,arguments);var t=ft(e),n=Yu(t).getTime()-mut(t).getTime();return Math.round(n/Ddt)+1}function Udt(e){et(1,arguments);var t=ft(e),n=t.getTime();return n}function Bdt(e){return et(1,arguments),Math.floor(Udt(e)/1e3)}function $dt(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=ft(e),h=d.getFullYear(),m=Fc(),p=kn((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var v=yo(g,t),y=new Date(0);y.setFullYear(h,0,p),y.setHours(0,0,0,0);var x=yo(y,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=x.getTime()?h:h-1}function Hdt(e,t){var n,r,s,a,i,o,c,u;et(1,arguments);var d=Fc(),h=kn((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=$dt(e,t),p=new Date(0);p.setFullYear(m,0,h),p.setHours(0,0,0,0);var g=yo(p,t);return g}var Wdt=6048e5;function zdt(e,t){et(1,arguments);var n=ft(e),r=yo(n,t).getTime()-Hdt(n,t).getTime();return Math.round(r/Wdt)+1}function Vdt(e){et(1,arguments);var t=ft(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Gdt(e,t){return et(1,arguments),Cut(Vdt(e),Ws(e),t)+1}function qdt(e){et(1,arguments);var t=ft(e.start),n=ft(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(Iut(n,t));var s=Vf(n,t),a=Zm(t,{years:s*r.years});r.months=Math.abs(jut(n,a));var i=Zm(a,{months:s*r.months});r.days=Math.abs(Eut(n,i));var o=Zm(i,{days:s*r.days});r.hours=Math.abs(Tut(n,o));var c=Zm(o,{hours:s*r.hours});r.minutes=Math.abs(Nut(n,c));var u=Zm(c,{minutes:s*r.minutes});return r.seconds=Math.abs(Put(n,u)),r}function hxe(e,t){et(2,arguments);var n=ft(e),r=ft(t);return n.getTime()>r.getTime()}function mxe(e,t){et(2,arguments);var n=ft(e),r=ft(t);return n.getTime()<r.getTime()}function Bj(e,t){et(2,arguments);var n=ft(e),r=ft(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function pxe(e,t){et(2,arguments);var n=ft(e),r=ft(t);return n.getFullYear()===r.getFullYear()}function Kdt(e){return et(1,arguments),pxe(e,Date.now())}function $j(e){return et(1,arguments),Br(e,Date.now())}function Ydt(e){return et(1,arguments),Br(e,Bs(Date.now(),1))}function U8(e,t){et(2,arguments);var n=kn(t);return Bs(e,-n)}function Qdt(e){return et(1,arguments),Br(e,U8(Date.now(),1))}function IC(e,t){et(2,arguments);var n=ft(e),r=kn(t),s=n.getFullYear(),a=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var o=Ldt(i);return n.setMonth(r,Math.min(a,o)),n}function rW(e,t){et(2,arguments);var n=ft(e),r=kn(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var dy={exports:{}},sW;function Xdt(){return sW||(sW=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}e.exports=t.default}(dy,dy.exports)),dy.exports}var fy={exports:{}},aW;function Zdt(){return aW||(aW=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}e.exports=t.default}(fy,fy.exports)),fy.exports}function Jdt(e,t){var n=rft(t);return n.formatToParts?tft(n,e):nft(n,e)}var eft={year:0,month:1,day:2,hour:3,minute:4,second:5};function tft(e,t){try{for(var n=e.formatToParts(t),r=[],s=0;s<n.length;s++){var a=eft[n[s].type];a>=0&&(r[a]=parseInt(n[s].value,10))}return r}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function nft(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var OC={};function rft(e){if(!OC[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";OC[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return OC[e]}function gxe(e,t,n,r,s,a,i){var o=new Date(0);return o.setUTCFullYear(e,t,n),o.setUTCHours(r,s,a,i),o}var iW=36e5,sft=6e4,LC={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function vxe(e,t,n){var r,s;if(!e||(r=LC.timezoneZ.exec(e),r))return 0;var a;if(r=LC.timezoneHH.exec(e),r)return a=parseInt(r[1],10),oW(a)?-(a*iW):NaN;if(r=LC.timezoneHHMM.exec(e),r){a=parseInt(r[2],10);var i=parseInt(r[3],10);return oW(a,i)?(s=Math.abs(a)*iW+i*sft,r[1]==="+"?-s:s):NaN}if(oft(e)){t=new Date(t||Date.now());var o=n?t:aft(t),c=B8(o,e),u=n?c:ift(t,c,e);return-u}return NaN}function aft(e){return gxe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function B8(e,t){var n=Jdt(e,t),r=gxe(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=e.getTime(),a=s%1e3;return s-=a>=0?a:1e3+a,r-s}function ift(e,t,n){var r=e.getTime(),s=r-t,a=B8(new Date(s),n);if(t===a)return t;s-=a-t;var i=B8(new Date(s),n);return a===i?a:Math.max(a,i)}function oW(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var lW={};function oft(e){if(lW[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),lW[e]=!0,!0}catch{return!1}}var lft=Xdt();const cft=Rs(lft);var uft=Zdt();const cW=Rs(uft);var dft=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,DC=36e5,uW=6e4,fft=2,ys={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:dft};function hft(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n={},r=n.additionalDigits==null?fft:cft(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=mft(e),a=pft(s.date,r),i=a.year,o=a.restDateString,c=gft(o,i);if(isNaN(c))return new Date(NaN);if(c){var u=c.getTime(),d=0,h;if(s.time&&(d=vft(s.time),isNaN(d)))return new Date(NaN);if(s.timeZone||n.timeZone){if(h=vxe(s.timeZone||n.timeZone,new Date(u+d)),isNaN(h))return new Date(NaN)}else h=cW(new Date(u+d)),h=cW(new Date(u+d+h));return new Date(u+d+h)}else return new Date(NaN)}function mft(e){var t={},n=ys.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=ys.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var s=ys.timeZone.exec(r);s?(t.time=r.replace(s[1],""),t.timeZone=s[1].trim()):t.time=r}return t}function pft(e,t){var n=ys.YYY[t],r=ys.YYYYY[t],s;if(s=ys.YYYY.exec(e)||r.exec(e),s){var a=s[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(s=ys.YY.exec(e)||n.exec(e),s){var i=s[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function gft(e,t){if(t===null)return null;var n,r,s,a;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=ys.MM.exec(e),n)return r=new Date(0),s=parseInt(n[1],10)-1,fW(t,s)?(r.setUTCFullYear(t,s),r):new Date(NaN);if(n=ys.DDD.exec(e),n){r=new Date(0);var i=parseInt(n[1],10);return bft(t,i)?(r.setUTCFullYear(t,0,i),r):new Date(NaN)}if(n=ys.MMDD.exec(e),n){r=new Date(0),s=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return fW(t,s,o)?(r.setUTCFullYear(t,s,o),r):new Date(NaN)}if(n=ys.Www.exec(e),n)return a=parseInt(n[1],10)-1,hW(t,a)?dW(t,a):new Date(NaN);if(n=ys.WwwD.exec(e),n){a=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return hW(t,a,c)?dW(t,a,c):new Date(NaN)}return null}function vft(e){var t,n,r;if(t=ys.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),FC(n)?n%24*DC:NaN;if(t=ys.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),FC(n,r)?n%24*DC+r*uW:NaN;if(t=ys.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var s=parseFloat(t[3].replace(",","."));return FC(n,r,s)?n%24*DC+r*uW+s*1e3:NaN}return null}function dW(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,a=t*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}var yft=[31,28,31,30,31,30,31,31,30,31,30,31],xft=[31,29,31,30,31,30,31,31,30,31,30,31];function yxe(e){return e%400===0||e%4===0&&e%100!==0}function fW(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=yxe(e);if(r&&n>xft[t]||!r&&n>yft[t])return!1}return!0}function bft(e,t){if(t<1)return!1;var n=yxe(e);return!(n&&t>366||!n&&t>365)}function hW(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function FC(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function $8(e,t,n){var r=hft(e,n),s=vxe(t,r,!0),a=new Date(r.getTime()-s),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}const xxe=T.memo(({flights:e,selectedFlight:t,setSelectedFlight:n})=>{const{locale:r,$t:s}=K(),{isMobileStyle:a}=Oe(),i=f.useCallback(u=>{const d=new Date(u.departureTime),h=$8(d,u.departureTimezone);let m;if($j(h)?m=s({id:"zWgbGgjUUg",defaultMessage:"Today"}):Qdt(h)?m=s({id:"6dIxDP1C8c",defaultMessage:"Yesterday"}):Ydt(h)?m=s({id:"MtrTNyxuSU",defaultMessage:"Tomorrow"}):m=d.toLocaleDateString(r,{weekday:"short",month:"short",day:"numeric"}),e.filter(g=>{if(g.departureTimezone!==u.departureTimezone)return!1;const v=$8(new Date(g.departureTime),g.departureTimezone);return Cc(v).getTime()===Cc(h).getTime()}).length>1){const g=d.toLocaleTimeString(r,{hour:"numeric",minute:"2-digit"});m=s({id:"Fr3TxQz4BU",defaultMessage:"{dateString} - {timeString}"},{dateString:m,timeString:g})}return m},[r,e,s]),o=f.useMemo(()=>e.map(u=>({type:"default",text:i(u),value:u.flightAwareId,onClick:()=>n(u),active:u.flightAwareId===t?.flightAwareId})),[e,i,n,t?.flightAwareId]),c=f.useMemo(()=>t?i(t):"",[t,i]);return l.jsx("div",{children:l.jsx(bn,{items:o,isMobileStyle:a,children:l.jsx(ye,{variant:"border",text:c,chevron:!0,pill:!0})})})});xxe.displayName="FlightStatusSwitcher";const kp=(e,t,n)=>{const r=qdt({start:e,end:t}),s=r.days||0,a=r.hours||0,i=r.minutes||0;return s>0?a===0&&i===0?n({id:"sSynIO3ThU",defaultMessage:"{days}d"},{days:s}):i===0?n({id:"10cSZzeWte",defaultMessage:"{days}d {hours}h"},{days:s,hours:a}):n({id:"OWk1HjddEb",defaultMessage:"{days}d {hours}h {minutes}m"},{days:s,hours:a,minutes:i.toString().padStart(2,"0")}):a===0?n({id:"VvfhE21OJI",defaultMessage:"{minutes}m"},{minutes:i}):i===0?n({id:"unuVj1l7KW",defaultMessage:"{hours}h"},{hours:a}):n({id:"0Yp4jJ7rzm",defaultMessage:"{hours}h {minutes}m"},{hours:a,minutes:i.toString().padStart(2,"0")})},bxe=T.memo(({flightMetadata:e,departureTime:t,arrivalTime:n,actualDepartureTime:r,actualArrivalTime:s,estimatedDepartureTime:a,estimatedArrivalTime:i,delayed:o=!1,rightContent:c})=>{const{$t:u,locale:d}=K(),h=f.useMemo(()=>new Date,[]),{cancelled:m,diverted:p,status:g,flightNumber:v,departureCity:y,departureAirport:x,arrivalAirport:b,arrivalCity:w}=e,_=f.useMemo(()=>t.toLocaleDateString(d,{month:"short",day:"numeric",year:"numeric"}),[t,d]),C=r||a||t,S=s||i||n,k=f.useMemo(()=>kp(h,C,u),[h,C,u]),E=f.useMemo(()=>kp(C,h,u),[h,C,u]),M=f.useMemo(()=>kp(S,h,u),[h,S,u]),N=f.useMemo(()=>kp(h,S,u),[h,S,u]),R=C<=h,A=S<=h,P=f.useMemo(()=>A?u({id:"mtuHNb+mRc",defaultMessage:"Arrived {time} ago"},{time:M}):R?u({id:"b6q320RasU",defaultMessage:"Departed {time} ago"},{time:E}):u({id:"/JLglYfuNX",defaultMessage:"Departing in {time}"},{time:k}),[R,A,k,E,M,u]),O=f.useMemo(()=>m?u({id:"3wsVWFbC1x",defaultMessage:"Cancelled"}):p?u({id:"/N1ZeWQc8B",defaultMessage:"Diverted"}):g,[m,p,u,g]);return l.jsxs("div",{className:"gap-sm flex flex-col justify-between sm:flex-row",children:[l.jsxs("div",{children:[l.jsx(j,{variant:"section-title",children:l.jsx(ce,{id:"5KgWVKDR/R",defaultMessage:"{flightNumber} · {departureCity} ({departureAirport}) to {arrivalCity} ({arrivalAirport})",values:{flightNumber:v,departureCity:y,departureAirport:x,arrivalAirport:b,arrivalCity:w}})}),l.jsx("div",{className:"gap-sm flex flex-row",children:l.jsxs(El,{className:"gap-xs flex flex-row flex-wrap",children:[l.jsx(Gn,{id:"day",children:l.jsx(j,{variant:"smallBold",color:"light",children:_})}),!m&&l.jsx(Gn,{id:"relative-departure-time",children:l.jsx(j,{variant:"smallBold",color:"light",children:P})}),R&&!A&&!m&&l.jsx(Gn,{id:"relative-arrival-time",children:l.jsx(j,{variant:"smallBold",color:"light",children:l.jsx(ce,{id:"z8jWKRSOak",defaultMessage:"Arriving in {time}",values:{time:N}})})}),l.jsx(Gn,{id:"status",children:l.jsx(j,{variant:"smallBold",color:m||p||o?"negative":"super",children:O})})]})})]}),c]})});bxe.displayName="FlightHeader";const wft=()=>{const{firstResult:{status:e,privacy_state:t}={}}=fr(),n=lm(),{isIncognitoLocal:r}=on();return f.useMemo(()=>{if(!e)return!1;const s=!!t&&(r&&t!==ox.INCOGNITO||!r&&t===ox.INCOGNITO);return!n&&e!==Cs.PENDING||s},[r,t,n,e])},gm=()=>{const[e,t]=C3("deviceLocation",void 0),n=f.useCallback(a=>{t(a),a?(Ot("lat",a.latitude.toString()),Ot("long",a.longitude.toString())):(sh("lat"),sh("long"))},[t]),[r,s]=f.useState(void 0);return f.useEffect(()=>{if(!navigator.geolocation||!("permissions"in navigator))return;const a=()=>{navigator.geolocation.getCurrentPosition(i=>{n({latitude:i.coords.latitude,longitude:i.coords.longitude})},null,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};navigator.permissions.query({name:"geolocation"}).then(i=>{s(i.state),i.state==="granted"?a():n(void 0),i.addEventListener("change",()=>{s(i.state),i.state==="denied"?n(void 0):i.state==="granted"&&a()})}).catch(()=>{})},[n]),f.useMemo(()=>({location:e,permissionStatus:r,isPreciseLocationEnabled:r==="granted"&&!isNaN(e?.latitude??0)&&!isNaN(e?.longitude??0)}),[e,r])},wxe=()=>{const e=cn(),t=rr(),n=Vr(),r=f.useCallback(s=>{const a=!!s.last_backend_uuid,i=Ts(s.model_preference)===ue.RESEARCH||Ts(s.model_preference)===ue.STUDIO;return(s.sources?.some(c=>c==="web")??!0)&&e&&!a&&!t&&!i},[e,t]);return f.useCallback((s,a,i)=>{!s||!r(a)||n.injectSearchResults(s,i)},[n,r])},_ft=({inPage:e})=>e?window.getSelection()?.toString():void 0;function Cft(){const{value:e}=TWe({flag:"client-context-max-chars",subjectType:"visitor_id",defaultValue:5e4});return e}function Hj(){const{value:e}=RWe({flag:"max-file-upload-count",subjectType:"user_nextauth_id",defaultValue:10});return e}const Sft=({isFollowup:e,isInSameThread:t,sourcesOverride:n,firstResultSources:r,firstResultRecency:s,defaultSources:a,defaultRecency:i})=>n?{finalSources:n,finalRecency:i}:!e||!t?{finalSources:a,finalRecency:i}:{finalSources:Array.isArray(r)?r:[],finalRecency:s},vm=f.createContext({markTTV:()=>{},addPageTiming:()=>{},getPageStartTime:()=>0,getPageTimer:()=>li(),addPageTimingOnce:()=>{}});function Eft({children:e}){const{startTimeFromTimeOriginRef:t}=Rt(),n=f.useRef({}),{markTTV:r}=QIe(),s=f.useCallback(()=>(n.current[t.current]||(n.current[t.current]=li(void 0,{nowFromTimeOrigin:t.current})),n.current[t.current]),[t]),a=f.useMemo(()=>({markTTV:()=>r(t.current),addPageTiming:(i,o={})=>s().addTiming(i,o),addPageTimingOnce:(i,o={})=>s().addTimingOnce(i,o),getPageStartTime:()=>t.current,getPageTimer:s}),[r,t,s]);return l.jsx(vm.Provider,{value:a,children:e})}function kft(){const{markTTV:e}=f.useContext(vm);return e}function Mft(){const{addPageTiming:e}=f.useContext(vm);return e}function AUt(){const{getPageStartTime:e}=f.useContext(vm);return e}function Tft(){const{getPageTimer:e}=f.useContext(vm);return e}const _xe=f.createContext({markTTV:()=>{}});function Cxe({children:e,modules:t}){const{markTTV:n,addPageTimingOnce:r,getPageTimer:s}=f.useContext(vm),a=s(),i=om(a),o=f.useRef(new Set),c=f.useCallback(d=>{r(`web.ttv.${d}`),o.current?.add(d),t.every(h=>o.current?.has(h))&&(n(),o.current.clear())},[n,t,r]);f.useEffect(()=>{!i||i===a||o.current.clear()},[a,i]);const u=f.useMemo(()=>({markTTV:c}),[c]);return l.jsx(_xe.Provider,{value:u,children:e})}function Nft(){const{markTTV:e}=f.useContext(_xe);return e}function jUt(e={}){const t=kft();f.useEffect(()=>{e.skip||t()},[e.skip,t])}function B3(e,t={}){const n=Nft();f.useEffect(()=>{t.skip||n(e)},[n,e,t.skip])}const Rft=e=>{try{return new URL(e),!0}catch{return!1}},Aft=({inPageOverride:e,dslQuery:t,existingEntryUUID:n,existingUuid:r,deletedUrls:s,redoSearch:a,collection:i,isRelatedQuery:o,isSponsored:c,relatedQueryUUID:u,inDomain:d,inPage:h,newFrontendContextUUID:m,promptSource:p,querySource:g,timeFromFirstType:v,utmSource:y,disableWidgets:x,isNavSuggestionsDisabled:b,entropyBrowser:w,clientPayloadUUID:_,isIncognito:C,sessionId:S,modelPreferenceSubmit:k,lastBackendUUID:E,deviceLocation:M,newAttachments:N,threadMetadataRwToken:R,forceNew:A,finalSources:P,finalRecency:O,mode:I,frontendUUID:L,isWindowsApp:F,browserHistorySummaryNumDays:D,mentions:B,reason:$,side_by_side_metadata:W,skipSearchEnabled:X,browserHistorySummaryMaxResults:ee,sidecarUrl:ne,sidecarTitle:V,isFirstEntry:q,alwaysSearchOverride:z})=>{const te=M?{location_lat:M.latitude,location_lng:M.longitude,name:""}:null,Y=xd(),re=ls().erp,G=cn(),oe=re==="sidecar",ae=G?{source:jN,client_payload_cache_key:_}:{},ie=F?{source:Of}:{};let xe,de="";G&&q&&(xe=$Oe({entropyBrowser:w,browserHistorySummaryNumDays:D,browserHistorySummaryMaxResults:ee,reason:$}),de=w.getLastOmniboxInput(L)??"");let Se;G&&g==="default_search"&&Rft(de)&&(Se=!1);const qe=g==="followup"?"followup-sidecar":"sidecar";return{last_backend_uuid:E??void 0,read_write_token:A?void 0:R,existing_entry_uuid:A?void 0:n,deleted_urls:s??void 0,attachments:N,language:ao(),timezone:vR,in_page:e??h,in_domain:d,search_focus:P.length===0?"writing":"internet",sources:P,search_recency_filter:O,frontend_uuid:r??L,redo_search:a,mode:I,target_collection_uuid:i?.uuid,model_preference:k??void 0,is_related_query:o??!1,is_sponsored:c??!1,related_query_uuid:u,visitor_id:Y??void 0,user_nextauth_id:S??void 0,frontend_context_uuid:m??void 0,prompt_source:p??void 0,query_source:oe?qe:g??"",browser_history_summary_key:xe||void 0,is_incognito:C,time_from_first_type:v??void 0,local_search_enabled:Se,use_schematized_api:!0,send_back_text_in_streaming_api:!1,supported_block_use_cases:ree,utm_source:y,client_coordinates:te,mentions:B,dsl_query:t,skip_search_enabled:X,is_nav_suggestions_disabled:b||oe,...g==="followup"?{followup_source:"link"}:{},...ae,...ie,...x?{disable_widgets:x}:{},always_search_override:z??!1,comet_info:G?{rendering_place:re??"unknown",sidecar_url:ne,sidecar_title:V}:void 0,...W&&{side_by_side_metadata:W},client_search_results_cache_key:G&&L?`nav-${L}`:void 0}},jft=2,Pft=10,Ift=({response:e,isUserLoggedIn:t,submissionCount:n,session:r,queryCountMobile:s,isWindowsApp:a,addKeyRequiringRerender:i,setSubmissionCount:o,trackEvent:c,setShouldShowProductFeedback:u,setFeedbackEntryUUID:d,setShouldShowRecruitmentBanner:h,sendQueryEventSingular:m,maybeSendNthQueryEventSingular:p,recruitmentBannerEnabled:g,reason:v})=>{const y=cn();if(y&&PHe(),e?.backend_uuid){const x=e.backend_uuid;SKe({entryUUID:e.backend_uuid,params:{query:e.query_str||"",sources:e.sources?.sources??[]},reason:v}).then(b=>{u(b),b&&c("query feedback shown",{entry_uuid:x})}),g&&TKe({entryUUID:x,reason:v}).then(b=>{h(b),b&&c("power user recruitment banner shown",{})}),d(x)}!t&&n===jft-1&&(xit(),i("floating-signup")),t&&r?.user?.id&&s===0&&n===Pft-1&&i("floating-mobile-download"),a?i("floating-milestone-refetch-legacy"):t&&i("floating-milestone-refetch"),o(n+1),m(),p({totalQueryCount:ER(),cometQueryCount:y?LHe():void 0})},Oft={submitQuery:()=>{Q.error("submitQuery must be used within PerplexityQueryStateProvider")},handleBotStep:()=>{Q.error("handleBotStep must be used within PerplexityQueryStateProvider")},deleteLastResult:()=>{Q.error("deleteLastResult must be used within PerplexityQueryStateProvider")},shouldShowProductFeedback:!1,shouldShowRecruitmentBanner:!1,feedbackEntryUUID:null,quote:null,setQuote:()=>{},updateLocalStatePostStream:()=>{}},Lft=3,Dft=6,Fft=2,Sxe=f.createContext(Oft),Uft=(e,t,n,r)=>{if(!(e&&!t))return n?n.backend_uuid:r},Bft=({children:e,shouldFetchSettings:t})=>{const n="perplexity-query-state-provider",r=Rt(),{trackEvent:s}=Ne(),a=Dt(),i=Vr(),{location:o}=gm(),[c,u]=f.useState(null),{isWindowsApp:d,isMobile:h,isSamsungBrowser:m}=Nt(),p=ma(),g=Tft(),{sources:v,recency:y,isCopilot:x,setAskInputReasoningMode:b,setAskInputReasoningModelPreference:w,configuredModel:_}=Qn(),C=lm(),{firstResult:S,lastResult:k,actions:{setCurrentStreamId:E}}=fr(),{hasAiProfile:M,queryCountMobile:N}=Da({enabled:t,reason:n}),[R,A]=f.useState(!1),[P,O]=f.useState(!1),[I,L]=f.useState(null),F=ut(),{addKeyRequiringRerender:D}=Ic(),{value:B}=Rr({flag:"skip-search-button",subjectType:"visitor_id",defaultValue:!1}),$=Cft(),W=ha({reason:n}),[X,ee]=f.useState(0),{sendQueryEventSingular:ne,maybeSendNthQueryEventSingular:V,sendResurrectedActivationEventSingular:q}=kR(),z=kd(),te=VYe(),{value:Y}=dr({flag:"power-user-recruitment-banner",defaultValue:!1}),{isMaxUpsellEnabled:Z}=Lc(),{isMax:re}=At(),{value:{max_results:G,num_days:oe}}=Vw({flag:"browser-history-summary-settings",defaultValue:{max_results:500,num_days:7}}),ae=Hj(),ie=wxe(),xe=f.useCallback(({rawQuery:be,dslQuery:ve,fork:Be,inPageOverride:We,copilotOverride:Le,existingEntryUUID:De,existingUuid:Ve,deletedUrls:le,redoSearch:we,attachments:Je,collection:Te,modelPreferenceOverride:pe,isRelatedQuery:Fe,isSponsored:ht,relatedQueryUUID:Pt,inDomain:Ft,inPage:tt,newFrontendContextUUID:st,existingFrontendContextUUID:dt,promptSource:$t,querySource:wn,sourcesOverride:Kr,submitFromArticleOverride:un,timeFromFirstType:_n,utmSource:fe,disableWidgets:Xe,isNavSuggestionsDisabled:Ge,deviceLocation:Ke,shouldRedirectToBackendUUID:nt,onThreadSlugReceived:Tt,incognitoOverride:yt,mentions:Zt=[],shouldUsePageStartTime:Wt,side_by_side_metadata:Hn,frontendUUID:Pr=Hr(),alwaysSearchOverride:ms})=>{if(be.trim().length===0&&!c){Q.error("Submit failed: empty query");return}const za=Zt.filter(pr=>pr.type==="tab").map(pr=>({id:Number(pr.id),url:pr.url}));if(!F&&!m){const pr=X+1;h&&!qg()?pr%Fft===1&&D("visitor-gate"):pr%Dft===0?D("visitor-gate-ii"):pr%Lft===0&&D("visitor-gate")}const Ri=!!st,Pm=[...new Set([...Je??[]])].slice(0,ae).filter(pr=>!le?.includes(pr)),Od=rr(),Im=cn()&&(Od||!!za?.length),Ld=Im?ja():void 0,Va=(Le??x)||Od,vv=Va?"copilot":"concise";let Yr=_??ge.DEFAULT;(p===ue.RESEARCH||p===ue.STUDIO)&&(Yr=p===ue.RESEARCH?ge.ALPHA:ge.BETA,Z&&re&&(Yr=_));const Dd=gse[Sf.REASONING].some(pr=>pr.search_model===Yr);pe?Yr=pe:(b(Dd),Dd||w(null));const Rl=Uft(Ri,Be??!1,un??null,k?.backend_uuid??null);RHe(),HHe(()=>{s("resurrected activated"),q()}),Dd&&DHe(),Ts(Yr)===ue.RESEARCH?AHe():Ts(Yr)===ue.STUDIO&&jHe();const c4=!!Rl,yv=S?.frontend_context_uuid===dt,xv=Sft({isFollowup:c4,isInSameThread:yv,sourcesOverride:Kr,firstResultSources:S?.sources?.sources,firstResultRecency:S?.search_recency_filter,defaultSources:v??[],defaultRecency:y??null}),{finalSources:Fd,finalRecency:Vc}=xv,Ga=_ft({inPage:We??tt})||c,Al=(Ga?Met(be,Ga):be).trim();if(!Al){Q.error("Submit failed: empty query");return}const Om=De==S?.backend_uuid||!Rl,d4=vYe({rawQuery:Al,fork:Be,existingEntryUUID:De,existingUuid:Ve,collection:Te,isRelatedQuery:Fe,newFrontendContextUUID:st,existingFrontendContextUUID:dt,submitFromArticleOverride:un,isNavSuggestionsDisabled:Ge,isCopilot:Va,modelPreferenceSubmit:Yr,newAttachments:Pm,firstResultFrontendContextUUID:S?.frontend_context_uuid,isPersonalized:M,forceNew:Ri,querySource:wn,lastResultBackendUUID:k?.backend_uuid,finalSources:Fd,finalRecency:Vc??void 0,uuid:Pr,threadMetadataTitle:S?.thread_title,threadMetadataThreadUrlSlug:S?.thread_url_slug,side_by_side_metadata:Hn}),Lm=Aft({redoSearch:we,collection:Te,dslQuery:ve,isRelatedQuery:Fe,isSponsored:ht,relatedQueryUUID:Pt,inDomain:Ft,inPage:tt,newFrontendContextUUID:st,promptSource:$t,querySource:wn,timeFromFirstType:_n,utmSource:fe,disableWidgets:Xe,isNavSuggestionsDisabled:Ge,isWindowsApp:d,isIncognito:yt??W,sessionId:a?.user?.id,modelPreferenceSubmit:Yr,clientPayloadUUID:Ld,lastBackendUUID:Rl,deviceLocation:Ke=Ke??o,newAttachments:Pm,threadMetadataRwToken:C,forceNew:Ri,finalSources:Fd,finalRecency:Vc,mode:vv,frontendUUID:Pr,entropyBrowser:i,existingEntryUUID:De,deletedUrls:le,browserHistorySummaryNumDays:oe,mentions:Zt,side_by_side_metadata:Hn,reason:n,skipSearchEnabled:B,browserHistorySummaryMaxResults:G,sidecarTitle:z.sourceTabTitle,sidecarUrl:z.sourceTabUrl,isFirstEntry:Om,alwaysSearchOverride:ms});st&&ie(Al,Lm,Lm.frontend_uuid),Im&&Ld&&OOe({clientPayloadCacheKey:Ld,cometBrowser:i,maxChars:$,attachedTabs:za,includeSidecar:Od,reason:n,cometState:z}),u(null);const bv={params:{...Lm,version:Ac},query_str:Al};function wv(pr){if(Tt){if(!pr.thread_url_slug)throw new Error("thread_url_slug is required on first message");Tt(pr.thread_url_slug)}nt&&r.push(`/search/${pr.thread_url_slug}`)}const f4=te(bv,{onFirstMessageReceived:wv,placeholderChunk:{...d4,backend_uuid:De||Ase},timer:Wt?g():li(void 0,{nowFromTimeOrigin:performance.now()}),reason:n});E(f4.id.description)},[c,F,ae,x,_,p,k?.backend_uuid,S?.frontend_context_uuid,S?.sources?.sources,S?.search_recency_filter,S?.thread_title,S?.thread_url_slug,S?.backend_uuid,v,y,M,d,W,a?.user,o,C,i,oe,B,G,z,te,g,E,X,h,m,D,Z,re,b,w,s,q,ie,$,r]),de=f.useCallback(be=>{Ift({response:be,isUserLoggedIn:F,submissionCount:X,session:a??void 0,queryCountMobile:N,isWindowsApp:d,addKeyRequiringRerender:D,setSubmissionCount:ee,setShouldShowProductFeedback:A,setShouldShowRecruitmentBanner:O,setFeedbackEntryUUID:L,trackEvent:s,sendQueryEventSingular:ne,maybeSendNthQueryEventSingular:V,recruitmentBannerEnabled:Y,reason:n})},[D,F,d,N,ne,V,a,X,s,Y]),Se=TA(),qe=f.useCallback(async()=>{const be=k?.backend_uuid;!be||!C||(s("delete last result",{entryUUID:be}),await J.DELETE("/rest/entry/delete-ask-entry/{entry_uuid}",n,{params:{path:{entry_uuid:be}},body:{read_write_token:C}}),Se(ve=>{if(!ve)return;const Be=ve??[];if(Be.length<1){r.push("/",void 0,"Delete last result");return}return Be.slice(0,-1)}))},[k?.backend_uuid,C,s,Se,r]);return l.jsx(Sxe.Provider,{value:{submitQuery:xe,deleteLastResult:qe,shouldShowProductFeedback:R,feedbackEntryUUID:I,quote:c,setQuote:u,shouldShowRecruitmentBanner:P,updateLocalStatePostStream:de},children:e})},Bc=()=>{const e=f.useContext(Sxe);if(!e)throw new Error("usePerplexityQueryState must be used within PerplexityQueryStateContext");return e},hy={initial:{opacity:0,filter:"blur(2px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(2px)"},transition:{duration:.5,ease:"easeInOut"}},Exe=T.memo(({children:e,animationKey:t,...n})=>l.jsx(wt,{mode:"popLayout",initial:!1,children:l.jsx(ke.div,{initial:hy.initial,animate:hy.animate,exit:hy.exit,transition:hy.transition,children:l.jsx(j,{...n,children:e})},t)})),kxe=T.memo(({terminal:e,gate:t,alignEnd:n})=>{const{$t:r}=K();return l.jsxs("div",{className:U("gap-lg flex w-full flex-row",n&&"justify-end"),children:[e&&l.jsx(H8,{label:r({id:"GAHVEi8lHA",defaultMessage:"Terminal"}),value:e}),t&&l.jsx(H8,{label:r({id:"W+gH70jajX",defaultMessage:"Gate"}),value:t})]})});kxe.displayName="FlightTerminalGate";const H8=T.memo(({label:e,value:t})=>l.jsxs("div",{children:[l.jsx(j,{variant:"tinyMono",color:"light",children:e}),l.jsx(Exe,{animationKey:t,variant:"entry-title-200",children:t})]}));H8.displayName="FlightAttribute";const my={initial:{opacity:0,height:0,filter:"blur(2px)"},animate:{opacity:1,height:"auto",filter:"blur(0px)"},exit:{opacity:0,height:0,filter:"blur(2px)"},transition:{duration:.3,ease:qn}},W8=T.memo(({airport:e,time:t,actualTime:n,estimatedTime:r,timezone:s,terminal:a,gate:i,variant:o="departure",delayed:c=!1,cancelled:u=!1})=>{const{locale:d,$t:h}=K(),{submitQuery:m}=Bc(),p=wft(),{firstResult:g}=fr(),v=g?.frontend_context_uuid,y=f.useMemo(()=>h(o==="departure"?{id:"BtqAemWTLK",defaultMessage:"Departure"}:{id:"WOIPGxfmZn",defaultMessage:"Arrival"}),[o,h]),x=o==="arrival",b=f.useMemo(()=>{const S=n||r;return S&&S.getTime()===t.getTime()?null:S},[n,r,t]),w=f.useMemo(()=>t.toLocaleTimeString(d,{hour:"numeric",minute:"2-digit",timeZone:s}),[t,s,d]),_=f.useMemo(()=>b?.toLocaleTimeString(d,{hour:"numeric",minute:"2-digit",timeZone:s}),[b,s,d]),C=f.useCallback(()=>{const S=p,k=ja();m({fork:S,rawQuery:h({id:"xxqvnlQO57",defaultMessage:"Airport {airport}"},{airport:e}),collection:null,newFrontendContextUUID:S?k:null,existingFrontendContextUUID:S?void 0:v,promptSource:"user",querySource:"entity_link",shouldRedirectToBackendUUID:S})},[e,p,v,m,h]);return l.jsxs("div",{className:"gap-md col-span-3 flex flex-col justify-between",children:[l.jsxs("div",{className:U("gap-sm flex flex-col",x&&"items-end"),children:[l.jsxs(j,{variant:"tinyMono",color:"light",className:"gap-sm flex flex-row",children:[y,l.jsx("button",{className:"text-textMain hover:text-super cursor-pointer underline transition-colors duration-150 ease-in-out",onClick:C,children:e})]}),l.jsxs("div",{className:U("flex flex-col",x&&"items-end"),children:[l.jsx(Exe,{animationKey:w,as:"span",variant:"entry-title-200",color:c?"negative":"super",className:U("-translate-y-[1px] !font-mono transition-colors duration-500",u&&"text-textOff line-through"),children:b?_:w}),l.jsx(wt,{initial:!1,children:b&&l.jsx(ke.div,{initial:my.initial,animate:my.animate,exit:my.exit,transition:my.transition,className:"overflow-hidden",children:l.jsx(j,{as:"span",variant:b?"small":"entry-title-200",color:"super",className:U("-translate-y-[1px] !font-mono",b&&"!text-textOff line-through"),children:w})})})]})]}),l.jsx(kxe,{terminal:a,gate:i,alignEnd:x})]})});W8.displayName="FlightDepartureArrival";const $ft=ke(H),Mxe=T.memo(({progress:e,departureTime:t,arrivalTime:n,delayed:r,cancelled:s})=>{const{$t:a}=K(),i=f.useMemo(()=>kp(t,n,a),[t,n,a]),o=f.useMemo(()=>e===void 0||s?0:Math.max(0,Math.min(100,e)),[e,s]),{left:c,width:u}=f.useMemo(()=>({left:`${o}%`,width:`${o}%`}),[o]),d=f.useMemo(()=>({left:0}),[]),h=f.useMemo(()=>({duration:2,ease:qn,delay:.5}),[]),m=f.useMemo(()=>({left:c,opacity:1,scale:1}),[c]),p=f.useMemo(()=>({...d,opacity:0,scale:1.2,top:"50%",translateX:"-50%",translateY:"-50%"}),[d]),g=f.useMemo(()=>({width:u}),[u]);return l.jsx("div",{className:"px-xs order-last col-span-6 flex flex-col items-center justify-center sm:order-[unset] sm:px-0",children:l.jsxs("div",{className:"gap-md flex w-full flex-col items-center",children:[l.jsx(j,{variant:"tinyMono",color:"light",children:i}),l.jsxs("div",{className:"relative flex w-full flex-1 items-center",children:[l.jsx("div",{className:"bg-textMain/10 relative h-0.5 w-full overflow-hidden rounded-full",children:l.jsx(ke.div,{className:U("absolute bottom-0 left-0 top-0 transition-colors duration-500",r?"bg-negative":"bg-super",s&&"!bg-textOff/50"),initial:d,animate:g,transition:h})}),l.jsx($ft,{variant:"raised",className:"absolute left-0 flex aspect-square w-6 items-center justify-center",initial:p,animate:m,transition:h,children:l.jsx(_e,{className:U("text-textOff transition-colors duration-500",e&&e>0&&!r&&"!text-super",r&&"!text-negative",s&&"!text-textOff"),icon:Cw})})]})]})})});Mxe.displayName="FlightProgress";const Txe=T.memo(({departureTime:e,arrivalTime:t,actualDepartureTime:n,actualArrivalTime:r,estimatedDepartureTime:s,estimatedArrivalTime:a,flightMetadata:i,delayed:o=!1})=>{const{cancelled:c,departureAirport:u,arrivalAirport:d,departureTimezone:h,arrivalTimezone:m,terminal:p,gate:g,arrivalTerminal:v,arrivalGate:y,progressPercent:x}=i;return l.jsxs(Fn,{className:"p-md gap-md grid w-full grid-cols-2 overflow-hidden shadow-sm sm:grid-cols-12",children:[l.jsx(W8,{variant:"departure",airport:u,time:e,actualTime:n,estimatedTime:s,timezone:h,terminal:p,gate:g,delayed:o,cancelled:c}),l.jsx(Mxe,{departureTime:e,arrivalTime:t,progress:x,delayed:o,cancelled:c}),l.jsx(W8,{variant:"arrival",airport:d,time:t,actualTime:r,estimatedTime:a,timezone:m,terminal:v,gate:y,delayed:o,cancelled:c})]})});Txe.displayName="FlightStatusCard";const py=new Date,Nxe=T.memo(({data:e})=>{const t=f.useMemo(()=>[...e.data.flights].sort((p,g)=>new Date(p.departureTime).getTime()-new Date(g.departureTime).getTime()),[e.data.flights]),n=f.useMemo(()=>{const p=new Date().getTime();if(t.length!==0)return t.reduce((g,v)=>{const y=new Date(v.departureTime).getTime(),x=new Date(g.departureTime).getTime(),b=Math.abs(y-p),w=Math.abs(x-p);return b<w?v:g})},[t]),[r,s]=f.useState(n),{departureTime:a,arrivalTime:i,actualDepartureTime:o,actualArrivalTime:c,estimatedDepartureTime:u,estimatedArrivalTime:d}=f.useMemo(()=>{const p=g=>g?new Date(g):void 0;return r?{departureTime:new Date(r.departureTime),arrivalTime:new Date(r.arrivalTime),actualDepartureTime:p(r.actualDepartureTime),actualArrivalTime:p(r.actualArrivalTime),estimatedDepartureTime:p(r.estimatedDepartureTime),estimatedArrivalTime:p(r.estimatedArrivalTime)}:{}},[r]),h=f.useMemo(()=>c?c>i:d?d>i:!1,[c,i,d]),m=f.useMemo(()=>t.length<2?null:l.jsx(xxe,{flights:t,selectedFlight:r,setSelectedFlight:s}),[t,r,s]);return r?l.jsx(Xn,{"data-testid":"flight-status-widget",className:"w-full",variant:"noChrome",children:l.jsxs("div",{className:"gap-sm flex flex-col",children:[l.jsx(bxe,{flightMetadata:r,departureTime:a||py,arrivalTime:i||py,actualDepartureTime:o,actualArrivalTime:c,estimatedDepartureTime:u,estimatedArrivalTime:d,delayed:h,rightContent:m}),l.jsx(Txe,{departureTime:a||py,arrivalTime:i||py,actualDepartureTime:o,actualArrivalTime:c,estimatedDepartureTime:u,estimatedArrivalTime:d,flightMetadata:r,delayed:h})]})}):null});Nxe.displayName="FlightStatusWidget";const Rxe=T.memo(({children:e,entries:t,size:n="sm",footer:r})=>{const s=n!=="sm";return l.jsxs(Fn,{shadow:!0,className:U("relative",s?"mb-lg pb-md":""),children:[e,l.jsx(H,{className:U("grid border-t"),children:t.map(({text:a,href:i,onClick:o})=>l.jsx("div",{className:"p-xs border-borderMain/50 border-b last:border-b-0",onClickCapture:o,children:l.jsx(ze,{fullWidth:!0,variant:"super",chevron:!0,chevronIcon:Wr,size:"small",text:a,href:i,extraCSS:"rounded-md"})},i))}),r]})});Rxe.displayName="WidgetCta";const Axe=T.memo(({data:{title:e,text:t,image_url:n,canonical_pages:r}})=>{const{$t:s}=K();return l.jsx("div",{className:"mb-md gap-md flex flex-col",children:l.jsx(Rxe,{entries:r.map(a=>({text:a.cta??s({defaultMessage:"View More",id:"QQSdHPJWXu"}),href:a.url_web})),size:"sm",children:l.jsx("div",{className:"gap-md p-md flex flex-col items-center md:flex-row",children:l.jsxs("div",{className:"gap-md flex items-center",children:[n&&l.jsx("img",{alt:"",className:"w-[75px] rounded",src:n}),l.jsxs("div",{className:"mr-sm w-full",children:[e&&l.jsx(j,{variant:"baseSemi",children:e}),t&&l.jsx(j,{variant:"small",color:"light",children:t})]})]})})})})});Axe.displayName="GenericFallbackWidget";const Hft=({event:e})=>{const t=e.event.status==="live",n=e.event.extra.pitch_outcome,r=n?.count?.outs??0,s=n?.count?.balls??0,a=n?.count?.strikes??0,i=n?.runners,o=n?.count,c=n?.type!=="half_over"&&r!==3&&s!==4&&a!==3;return t?l.jsxs("div",{className:"mt-lg md:mt-md flex flex-col items-center gap-0",children:[l.jsx(Wft,{runners:i}),l.jsx(zft,{outs:r}),l.jsx(Vft,{count:o,show:c})]}):null},Wft=({runners:e})=>{const t=e?.filter(n=>!n.out).map(n=>n.ending_base);return l.jsx("div",{style:{transformStyle:"preserve-3d",perspective:"1000px"},className:"inline-flex",children:l.jsx("div",{style:{transform:"rotateX(45deg)"},children:l.jsxs("div",{className:"translate-z-10 grid rotate-45 grid-cols-2 grid-rows-2 gap-[3px]",children:[l.jsx(UC,{active:t?.includes(2)??!1}),l.jsx(UC,{active:t?.includes(1)??!1}),l.jsx(UC,{active:t?.includes(3)??!1})]})})})},UC=({active:e})=>l.jsx("div",{className:U("size-3 duration-150 md:size-4",e?"bg-super":"bg-textMain/25")}),zft=({outs:e})=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(BC,{filled:e>=1}),l.jsx(BC,{filled:e>=2}),l.jsx(BC,{filled:e>=3})]}),BC=({filled:e})=>l.jsx("div",{className:U("relative size-1 rounded-full duration-150",e?"bg-text":"bg-textMain/25"),children:e&&l.jsx("div",{className:"bg-text repeat-1 absolute inset-0 animate-ping rounded-full"})}),Vft=({count:e,show:t})=>{const n=e?.balls??0,r=e?.strikes??0,s=n===0&&r===0;return l.jsx(j,{variant:"micro",color:s?"ultraLight":"light",className:U("mt-1 duration-150",t?"opacity-100":"opacity-0"),children:l.jsx("span",{className:"font-mono",children:t?`${n}-${r}`:l.jsx(l.Fragment,{children:" "})})})},jxe=T.memo(({children:e,innerRef:t,canScrollLeft:n,canScrollRight:r,fadeOut:s})=>l.jsx("div",{className:"gap-md flex w-full flex-col overflow-hidden",children:l.jsxs(Oc,{orientation:"horizontal",viewportRef:t,showScrollIndicator:!1,className:"relative",children:[l.jsx("div",{className:"p-md pt-0",children:e}),n&&s&&l.jsx(H,{className:"w-xl to-offset pointer-events-none absolute inset-y-0 left-0 bg-gradient-to-l from-transparent"}),r&&s&&l.jsx(H,{className:"w-xl from-offset pointer-events-none absolute inset-y-0 right-0 bg-gradient-to-l to-transparent"})]})}));jxe.displayName="CanonicalScroll";const $3=T.memo(({title:e,subtitle:t,subtitleIcon:n,children:r,scrollable:s,fadeOut:a,trailing:i,titleClassName:o})=>{const c=f.useRef(null),[u,d]=f.useState(!1),[h,m]=f.useState(!1),p=f.useCallback(()=>{c.current?.scrollTo({left:c.current.scrollLeft-c.current.clientWidth,behavior:"smooth"})},[c]),g=f.useCallback(()=>{c.current?.scrollTo({left:c.current.scrollLeft+c.current.clientWidth,behavior:"smooth"})},[c]),v=f.useCallback(()=>{c.current&&(d(c.current.scrollLeft>0),m(c.current.scrollLeft+c.current.clientWidth+10<c.current.scrollWidth&&c.current.scrollWidth>c.current.clientWidth))},[c]);return f.useEffect(()=>{const y=c.current;return y?.addEventListener("scroll",v),()=>{y?.removeEventListener("scroll",v)}},[v,c]),f.useEffect(()=>{const y=new ResizeObserver(v);return y.observe(window.document.body),()=>{y.disconnect()}},[v,c]),f.useEffect(()=>{v()},[v]),l.jsxs(H,{className:"gap-md flex flex-col",children:[l.jsxs(Pxe,{title:e,subtitle:t,subtitleIcon:n,className:o,children:[i,s&&l.jsxs("div",{className:"-mr-sm flex items-center",children:[l.jsx(ze,{icon:gee,size:"small",onClick:p,disabled:!u,variant:u?void 0:"noHover"}),l.jsx(ze,{icon:Wr,size:"small",onClick:g,disabled:!h,variant:h?void 0:"noHover"})]})]}),s?l.jsx(jxe,{innerRef:c,canScrollLeft:u,canScrollRight:h,fadeOut:a,children:r}):l.jsx("div",{ref:c,className:"gap-md px-md pb-md flex flex-col",children:r})]})});$3.displayName="CanonicalSection";const Pxe=T.memo(({children:e,title:t,subtitle:n,subtitleIcon:r,className:s})=>l.jsxs(H,{className:U("gap-md px-md py-sm flex items-center justify-between border-b",s),children:[l.jsxs(H,{className:"flex items-center justify-between",children:[t&&l.jsx(j,{variant:"baseSemi",children:t}),n&&l.jsxs(j,{variant:"smallCaps",color:"light",className:"gap-xs flex items-center",children:[r&&l.jsx(gt,{icon:r}),n]})]}),e]}));Pxe.displayName="SectionTitle";function Ixe(e,t){return t.find(n=>String(n.teamId)===String(e))}const Gft=e=>{switch(e){case"nba":case"wnba":case"ncaam":case"ncaaw":case"mlb":case"atp":case"wta":return"/static/images/sports/nba/logos/nba-logo-generic.png";case"nfl":return"/static/images/sports/nfl/logos/nfl-logo-generic.png";case"ipl":case"cricket":return"/static/images/sports/cricket/logos/cricket-logo-generic.png";default:return""}};function xh(e,t,n){const r={teamId:e,logo:Gft(n),color:"#64645F"};return Ixe(e,t)??r}function qft(e,t){return t.find(n=>n.teamId===e)}function H3(e){return[...e].sort((t,n)=>n.teamLocationType.teamLocationTypeId-t.teamLocationType.teamLocationTypeId)}function PUt(e){if(!e||e.wins+e.losses+e.ties===0)return"";const{wins:t,losses:n,ties:r}=e;return r?`${t}-${n}-${r}`:`${t}-${n}`}function IUt(e,t){return t.winProbabilities?.find(n=>n.teamId===e)}function Kft(e,t,n,r){const s=xh(e,n,r),a=qft(e,t),i=t.find(c=>c.teamId===e)?.seed,o=Yft(r);return{teamId:a.teamId,logo:s.logo,color:s.color,nickname:o?a.location:a.nickname,abbreviation:a.abbreviation,record:a.record,winner:a.isWinner,score:a.score,seed:i}}const Yft=e=>e==="ncaam"||e==="ncaaw";function Qft(e,t,n,r){const s=xh(e,n,r),a=t.find(i=>i.id===e);return a?{teamId:a.id,logo:s.logo,color:s.color,nickname:a.title??"",abbreviation:a.abbreviation??""}:{teamId:e,logo:s.logo,color:s.color,nickname:"",abbreviation:""}}function OUt(e,t,n){return H3(e)?.map(r=>Kft(r.teamId,e,t,n))}function LUt(e,t,n){return e.map(r=>Qft(r.id,e,t,n))}function DUt(e,t){for(const n of t)for(const r of n.divisions)for(const s of r.teams)if(s.teamId===e)return{conference:n.abbreviation,division:r.name};return null}const FUt=e=>e?"nickname"in e?e.nickname:e.title:null,UUt=e=>e?"teamId"in e?e.teamId:e.id:null,BUt=e=>"score"in e?e.score:e.sub_text&&e.text?`${e.text} ${e.sub_text}`:e.text,Xft=e=>"isWinner"in e?e.isWinner:e.won,$Ut=e=>e?e.some(t=>Xft(t)):!1,HUt=e=>e?"teamId"in e[0]?e.every(t=>"teamId"in t)&&!e.some(t=>!t.teamId||String(t.teamId)==="TBD"):e.every(t=>"id"in t)&&!e.some(t=>t.id==="TBD"):!1,Zft={tiny:"size-[16px]",small:"size-[24px]",medium:"size-[32px]",large:"xl:size-[64px] size-[50px]"},Jft={tiny:"p-[0.5px]",small:"p-[0.5px]",medium:"p-[0.5px]",large:"p-[0.5px]"},eht={tiny:"border-[1px]",small:"border-[1px]",medium:"border-[2px]",large:"border-[4px]"},xo=f.memo(({includeStripe:e=!0,includeShadow:t=!1,className:n,includeBackground:r=!1,size:s="large",logo:a,color:i,...o})=>{const c=f.useMemo(()=>{let u=Zft[s];return r&&(u+=` ${Jft[s]}`),u},[r,s]);return l.jsx("div",{className:U(c,{"shadow-subtle":t&&r,"border-borderMain/50 rounded-full border bg-white dark:border-transparent":r},n),...o,children:l.jsx("div",{className:U("rounded-inherit flex size-full items-center justify-center",{[eht[s]]:e&&r}),style:{borderColor:r?i:void 0},children:l.jsx("img",{src:a,alt:"",width:r?"70%":"100%",height:"auto"})})})});var $C={exports:{}},HC,mW;function Oxe(){return mW||(mW=1,HC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),HC}var WC={exports:{}},zC,pW;function tht(){return pW||(pW=1,zC=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),zC}var gW;function nht(){if(gW)return WC.exports;gW=1;var e=tht(),t=Array.prototype.concat,n=Array.prototype.slice,r=WC.exports=function(a){for(var i=[],o=0,c=a.length;o<c;o++){var u=a[o];e(u)?i=t.call(i,n.call(u)):i.push(u)}return i};return r.wrap=function(s){return function(){return s(r(arguments))}},WC.exports}var vW;function rht(){if(vW)return $C.exports;vW=1;var e=Oxe(),t=nht(),n=Object.hasOwnProperty,r=Object.create(null);for(var s in e)n.call(e,s)&&(r[e[s]]=s);var a=$C.exports={to:{},get:{}};a.get=function(c){var u=c.substring(0,3).toLowerCase(),d,h;switch(u){case"hsl":d=a.get.hsl(c),h="hsl";break;case"hwb":d=a.get.hwb(c),h="hwb";break;default:d=a.get.rgb(c),h="rgb";break}return d?{model:h,value:d}:null},a.get.rgb=function(c){if(!c)return null;var u=/^#([a-f0-9]{3,4})$/i,d=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,h=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,p=/^(\w+)$/,g=[0,0,0,1],v,y,x;if(v=c.match(d)){for(x=v[2],v=v[1],y=0;y<3;y++){var b=y*2;g[y]=parseInt(v.slice(b,b+2),16)}x&&(g[3]=parseInt(x,16)/255)}else if(v=c.match(u)){for(v=v[1],x=v[3],y=0;y<3;y++)g[y]=parseInt(v[y]+v[y],16);x&&(g[3]=parseInt(x+x,16)/255)}else if(v=c.match(h)){for(y=0;y<3;y++)g[y]=parseInt(v[y+1],0);v[4]&&(v[5]?g[3]=parseFloat(v[4])*.01:g[3]=parseFloat(v[4]))}else if(v=c.match(m)){for(y=0;y<3;y++)g[y]=Math.round(parseFloat(v[y+1])*2.55);v[4]&&(v[5]?g[3]=parseFloat(v[4])*.01:g[3]=parseFloat(v[4]))}else return(v=c.match(p))?v[1]==="transparent"?[0,0,0,0]:n.call(e,v[1])?(g=e[v[1]],g[3]=1,g):null:null;for(y=0;y<3;y++)g[y]=i(g[y],0,255);return g[3]=i(g[3],0,1),g},a.get.hsl=function(c){if(!c)return null;var u=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,d=c.match(u);if(d){var h=parseFloat(d[4]),m=(parseFloat(d[1])%360+360)%360,p=i(parseFloat(d[2]),0,100),g=i(parseFloat(d[3]),0,100),v=i(isNaN(h)?1:h,0,1);return[m,p,g,v]}return null},a.get.hwb=function(c){if(!c)return null;var u=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,d=c.match(u);if(d){var h=parseFloat(d[4]),m=(parseFloat(d[1])%360+360)%360,p=i(parseFloat(d[2]),0,100),g=i(parseFloat(d[3]),0,100),v=i(isNaN(h)?1:h,0,1);return[m,p,g,v]}return null},a.to.hex=function(){var c=t(arguments);return"#"+o(c[0])+o(c[1])+o(c[2])+(c[3]<1?o(Math.round(c[3]*255)):"")},a.to.rgb=function(){var c=t(arguments);return c.length<4||c[3]===1?"rgb("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+")":"rgba("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+", "+c[3]+")"},a.to.rgb.percent=function(){var c=t(arguments),u=Math.round(c[0]/255*100),d=Math.round(c[1]/255*100),h=Math.round(c[2]/255*100);return c.length<4||c[3]===1?"rgb("+u+"%, "+d+"%, "+h+"%)":"rgba("+u+"%, "+d+"%, "+h+"%, "+c[3]+")"},a.to.hsl=function(){var c=t(arguments);return c.length<4||c[3]===1?"hsl("+c[0]+", "+c[1]+"%, "+c[2]+"%)":"hsla("+c[0]+", "+c[1]+"%, "+c[2]+"%, "+c[3]+")"},a.to.hwb=function(){var c=t(arguments),u="";return c.length>=4&&c[3]!==1&&(u=", "+c[3]),"hwb("+c[0]+", "+c[1]+"%, "+c[2]+"%"+u+")"},a.to.keyword=function(c){return r[c.slice(0,3)]};function i(c,u,d){return Math.min(Math.max(u,c),d)}function o(c){var u=Math.round(c).toString(16).toUpperCase();return u.length<2?"0"+u:u}return $C.exports}var VC,yW;function Lxe(){if(yW)return VC;yW=1;const e=Oxe(),t={};for(const s of Object.keys(e))t[e[s]]=s;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};VC=n;for(const s of Object.keys(n)){if(!("channels"in n[s]))throw new Error("missing channels property: "+s);if(!("labels"in n[s]))throw new Error("missing channel labels property: "+s);if(n[s].labels.length!==n[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:a,labels:i}=n[s];delete n[s].channels,delete n[s].labels,Object.defineProperty(n[s],"channels",{value:a}),Object.defineProperty(n[s],"labels",{value:i})}n.rgb.hsl=function(s){const a=s[0]/255,i=s[1]/255,o=s[2]/255,c=Math.min(a,i,o),u=Math.max(a,i,o),d=u-c;let h,m;u===c?h=0:a===u?h=(i-o)/d:i===u?h=2+(o-a)/d:o===u&&(h=4+(a-i)/d),h=Math.min(h*60,360),h<0&&(h+=360);const p=(c+u)/2;return u===c?m=0:p<=.5?m=d/(u+c):m=d/(2-u-c),[h,m*100,p*100]},n.rgb.hsv=function(s){let a,i,o,c,u;const d=s[0]/255,h=s[1]/255,m=s[2]/255,p=Math.max(d,h,m),g=p-Math.min(d,h,m),v=function(y){return(p-y)/6/g+1/2};return g===0?(c=0,u=0):(u=g/p,a=v(d),i=v(h),o=v(m),d===p?c=o-i:h===p?c=1/3+a-o:m===p&&(c=2/3+i-a),c<0?c+=1:c>1&&(c-=1)),[c*360,u*100,p*100]},n.rgb.hwb=function(s){const a=s[0],i=s[1];let o=s[2];const c=n.rgb.hsl(s)[0],u=1/255*Math.min(a,Math.min(i,o));return o=1-1/255*Math.max(a,Math.max(i,o)),[c,u*100,o*100]},n.rgb.cmyk=function(s){const a=s[0]/255,i=s[1]/255,o=s[2]/255,c=Math.min(1-a,1-i,1-o),u=(1-a-c)/(1-c)||0,d=(1-i-c)/(1-c)||0,h=(1-o-c)/(1-c)||0;return[u*100,d*100,h*100,c*100]};function r(s,a){return(s[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2}return n.rgb.keyword=function(s){const a=t[s];if(a)return a;let i=1/0,o;for(const c of Object.keys(e)){const u=e[c],d=r(s,u);d<i&&(i=d,o=c)}return o},n.keyword.rgb=function(s){return e[s]},n.rgb.xyz=function(s){let a=s[0]/255,i=s[1]/255,o=s[2]/255;a=a>.04045?((a+.055)/1.055)**2.4:a/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;const c=a*.4124+i*.3576+o*.1805,u=a*.2126+i*.7152+o*.0722,d=a*.0193+i*.1192+o*.9505;return[c*100,u*100,d*100]},n.rgb.lab=function(s){const a=n.rgb.xyz(s);let i=a[0],o=a[1],c=a[2];i/=95.047,o/=100,c/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,c=c>.008856?c**(1/3):7.787*c+16/116;const u=116*o-16,d=500*(i-o),h=200*(o-c);return[u,d,h]},n.hsl.rgb=function(s){const a=s[0]/360,i=s[1]/100,o=s[2]/100;let c,u,d;if(i===0)return d=o*255,[d,d,d];o<.5?c=o*(1+i):c=o+i-o*i;const h=2*o-c,m=[0,0,0];for(let p=0;p<3;p++)u=a+1/3*-(p-1),u<0&&u++,u>1&&u--,6*u<1?d=h+(c-h)*6*u:2*u<1?d=c:3*u<2?d=h+(c-h)*(2/3-u)*6:d=h,m[p]=d*255;return m},n.hsl.hsv=function(s){const a=s[0];let i=s[1]/100,o=s[2]/100,c=i;const u=Math.max(o,.01);o*=2,i*=o<=1?o:2-o,c*=u<=1?u:2-u;const d=(o+i)/2,h=o===0?2*c/(u+c):2*i/(o+i);return[a,h*100,d*100]},n.hsv.rgb=function(s){const a=s[0]/60,i=s[1]/100;let o=s[2]/100;const c=Math.floor(a)%6,u=a-Math.floor(a),d=255*o*(1-i),h=255*o*(1-i*u),m=255*o*(1-i*(1-u));switch(o*=255,c){case 0:return[o,m,d];case 1:return[h,o,d];case 2:return[d,o,m];case 3:return[d,h,o];case 4:return[m,d,o];case 5:return[o,d,h]}},n.hsv.hsl=function(s){const a=s[0],i=s[1]/100,o=s[2]/100,c=Math.max(o,.01);let u,d;d=(2-i)*o;const h=(2-i)*c;return u=i*c,u/=h<=1?h:2-h,u=u||0,d/=2,[a,u*100,d*100]},n.hwb.rgb=function(s){const a=s[0]/360;let i=s[1]/100,o=s[2]/100;const c=i+o;let u;c>1&&(i/=c,o/=c);const d=Math.floor(6*a),h=1-o;u=6*a-d,d&1&&(u=1-u);const m=i+u*(h-i);let p,g,v;switch(d){default:case 6:case 0:p=h,g=m,v=i;break;case 1:p=m,g=h,v=i;break;case 2:p=i,g=h,v=m;break;case 3:p=i,g=m,v=h;break;case 4:p=m,g=i,v=h;break;case 5:p=h,g=i,v=m;break}return[p*255,g*255,v*255]},n.cmyk.rgb=function(s){const a=s[0]/100,i=s[1]/100,o=s[2]/100,c=s[3]/100,u=1-Math.min(1,a*(1-c)+c),d=1-Math.min(1,i*(1-c)+c),h=1-Math.min(1,o*(1-c)+c);return[u*255,d*255,h*255]},n.xyz.rgb=function(s){const a=s[0]/100,i=s[1]/100,o=s[2]/100;let c,u,d;return c=a*3.2406+i*-1.5372+o*-.4986,u=a*-.9689+i*1.8758+o*.0415,d=a*.0557+i*-.204+o*1.057,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,d=d>.0031308?1.055*d**(1/2.4)-.055:d*12.92,c=Math.min(Math.max(0,c),1),u=Math.min(Math.max(0,u),1),d=Math.min(Math.max(0,d),1),[c*255,u*255,d*255]},n.xyz.lab=function(s){let a=s[0],i=s[1],o=s[2];a/=95.047,i/=100,o/=108.883,a=a>.008856?a**(1/3):7.787*a+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const c=116*i-16,u=500*(a-i),d=200*(i-o);return[c,u,d]},n.lab.xyz=function(s){const a=s[0],i=s[1],o=s[2];let c,u,d;u=(a+16)/116,c=i/500+u,d=u-o/200;const h=u**3,m=c**3,p=d**3;return u=h>.008856?h:(u-16/116)/7.787,c=m>.008856?m:(c-16/116)/7.787,d=p>.008856?p:(d-16/116)/7.787,c*=95.047,u*=100,d*=108.883,[c,u,d]},n.lab.lch=function(s){const a=s[0],i=s[1],o=s[2];let c;c=Math.atan2(o,i)*360/2/Math.PI,c<0&&(c+=360);const d=Math.sqrt(i*i+o*o);return[a,d,c]},n.lch.lab=function(s){const a=s[0],i=s[1],c=s[2]/360*2*Math.PI,u=i*Math.cos(c),d=i*Math.sin(c);return[a,u,d]},n.rgb.ansi16=function(s,a=null){const[i,o,c]=s;let u=a===null?n.rgb.hsv(s)[2]:a;if(u=Math.round(u/50),u===0)return 30;let d=30+(Math.round(c/255)<<2|Math.round(o/255)<<1|Math.round(i/255));return u===2&&(d+=60),d},n.hsv.ansi16=function(s){return n.rgb.ansi16(n.hsv.rgb(s),s[2])},n.rgb.ansi256=function(s){const a=s[0],i=s[1],o=s[2];return a===i&&i===o?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(i/255*5)+Math.round(o/255*5)},n.ansi16.rgb=function(s){let a=s%10;if(a===0||a===7)return s>50&&(a+=3.5),a=a/10.5*255,[a,a,a];const i=(~~(s>50)+1)*.5,o=(a&1)*i*255,c=(a>>1&1)*i*255,u=(a>>2&1)*i*255;return[o,c,u]},n.ansi256.rgb=function(s){if(s>=232){const u=(s-232)*10+8;return[u,u,u]}s-=16;let a;const i=Math.floor(s/36)/5*255,o=Math.floor((a=s%36)/6)/5*255,c=a%6/5*255;return[i,o,c]},n.rgb.hex=function(s){const i=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(i.length)+i},n.hex.rgb=function(s){const a=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!a)return[0,0,0];let i=a[0];a[0].length===3&&(i=i.split("").map(h=>h+h).join(""));const o=parseInt(i,16),c=o>>16&255,u=o>>8&255,d=o&255;return[c,u,d]},n.rgb.hcg=function(s){const a=s[0]/255,i=s[1]/255,o=s[2]/255,c=Math.max(Math.max(a,i),o),u=Math.min(Math.min(a,i),o),d=c-u;let h,m;return d<1?h=u/(1-d):h=0,d<=0?m=0:c===a?m=(i-o)/d%6:c===i?m=2+(o-a)/d:m=4+(a-i)/d,m/=6,m%=1,[m*360,d*100,h*100]},n.hsl.hcg=function(s){const a=s[1]/100,i=s[2]/100,o=i<.5?2*a*i:2*a*(1-i);let c=0;return o<1&&(c=(i-.5*o)/(1-o)),[s[0],o*100,c*100]},n.hsv.hcg=function(s){const a=s[1]/100,i=s[2]/100,o=a*i;let c=0;return o<1&&(c=(i-o)/(1-o)),[s[0],o*100,c*100]},n.hcg.rgb=function(s){const a=s[0]/360,i=s[1]/100,o=s[2]/100;if(i===0)return[o*255,o*255,o*255];const c=[0,0,0],u=a%1*6,d=u%1,h=1-d;let m=0;switch(Math.floor(u)){case 0:c[0]=1,c[1]=d,c[2]=0;break;case 1:c[0]=h,c[1]=1,c[2]=0;break;case 2:c[0]=0,c[1]=1,c[2]=d;break;case 3:c[0]=0,c[1]=h,c[2]=1;break;case 4:c[0]=d,c[1]=0,c[2]=1;break;default:c[0]=1,c[1]=0,c[2]=h}return m=(1-i)*o,[(i*c[0]+m)*255,(i*c[1]+m)*255,(i*c[2]+m)*255]},n.hcg.hsv=function(s){const a=s[1]/100,i=s[2]/100,o=a+i*(1-a);let c=0;return o>0&&(c=a/o),[s[0],c*100,o*100]},n.hcg.hsl=function(s){const a=s[1]/100,o=s[2]/100*(1-a)+.5*a;let c=0;return o>0&&o<.5?c=a/(2*o):o>=.5&&o<1&&(c=a/(2*(1-o))),[s[0],c*100,o*100]},n.hcg.hwb=function(s){const a=s[1]/100,i=s[2]/100,o=a+i*(1-a);return[s[0],(o-a)*100,(1-o)*100]},n.hwb.hcg=function(s){const a=s[1]/100,o=1-s[2]/100,c=o-a;let u=0;return c<1&&(u=(o-c)/(1-c)),[s[0],c*100,u*100]},n.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]},n.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]},n.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]},n.gray.hsl=function(s){return[0,0,s[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(s){return[0,100,s[0]]},n.gray.cmyk=function(s){return[0,0,0,s[0]]},n.gray.lab=function(s){return[s[0],0,0]},n.gray.hex=function(s){const a=Math.round(s[0]/100*255)&255,o=((a<<16)+(a<<8)+a).toString(16).toUpperCase();return"000000".substring(o.length)+o},n.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]},VC}var GC,xW;function sht(){if(xW)return GC;xW=1;const e=Lxe();function t(){const a={},i=Object.keys(e);for(let o=i.length,c=0;c<o;c++)a[i[c]]={distance:-1,parent:null};return a}function n(a){const i=t(),o=[a];for(i[a].distance=0;o.length;){const c=o.pop(),u=Object.keys(e[c]);for(let d=u.length,h=0;h<d;h++){const m=u[h],p=i[m];p.distance===-1&&(p.distance=i[c].distance+1,p.parent=c,o.unshift(m))}}return i}function r(a,i){return function(o){return i(a(o))}}function s(a,i){const o=[i[a].parent,a];let c=e[i[a].parent][a],u=i[a].parent;for(;i[u].parent;)o.unshift(i[u].parent),c=r(e[i[u].parent][u],c),u=i[u].parent;return c.conversion=o,c}return GC=function(a){const i=n(a),o={},c=Object.keys(i);for(let u=c.length,d=0;d<u;d++){const h=c[d];i[h].parent!==null&&(o[h]=s(h,i))}return o},GC}var qC,bW;function aht(){if(bW)return qC;bW=1;const e=Lxe(),t=sht(),n={},r=Object.keys(e);function s(i){const o=function(...c){const u=c[0];return u==null?u:(u.length>1&&(c=u),i(c))};return"conversion"in i&&(o.conversion=i.conversion),o}function a(i){const o=function(...c){const u=c[0];if(u==null)return u;u.length>1&&(c=u);const d=i(c);if(typeof d=="object")for(let h=d.length,m=0;m<h;m++)d[m]=Math.round(d[m]);return d};return"conversion"in i&&(o.conversion=i.conversion),o}return r.forEach(i=>{n[i]={},Object.defineProperty(n[i],"channels",{value:e[i].channels}),Object.defineProperty(n[i],"labels",{value:e[i].labels});const o=t(i);Object.keys(o).forEach(u=>{const d=o[u];n[i][u]=a(d),n[i][u].raw=s(d)})}),qC=n,qC}var KC,wW;function iht(){if(wW)return KC;wW=1;const e=rht(),t=aht(),n=["keyword","gray","hex"],r={};for(const m of Object.keys(t))r[[...t[m].labels].sort().join("")]=m;const s={};function a(m,p){if(!(this instanceof a))return new a(m,p);if(p&&p in n&&(p=null),p&&!(p in t))throw new Error("Unknown model: "+p);let g,v;if(m==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(m instanceof a)this.model=m.model,this.color=[...m.color],this.valpha=m.valpha;else if(typeof m=="string"){const y=e.get(m);if(y===null)throw new Error("Unable to parse color from string: "+m);this.model=y.model,v=t[this.model].channels,this.color=y.value.slice(0,v),this.valpha=typeof y.value[v]=="number"?y.value[v]:1}else if(m.length>0){this.model=p||"rgb",v=t[this.model].channels;const y=Array.prototype.slice.call(m,0,v);this.color=h(y,v),this.valpha=typeof m[v]=="number"?m[v]:1}else if(typeof m=="number")this.model="rgb",this.color=[m>>16&255,m>>8&255,m&255],this.valpha=1;else{this.valpha=1;const y=Object.keys(m);"alpha"in m&&(y.splice(y.indexOf("alpha"),1),this.valpha=typeof m.alpha=="number"?m.alpha:0);const x=y.sort().join("");if(!(x in r))throw new Error("Unable to parse color from object: "+JSON.stringify(m));this.model=r[x];const{labels:b}=t[this.model],w=[];for(g=0;g<b.length;g++)w.push(m[b[g]]);this.color=h(w)}if(s[this.model])for(v=t[this.model].channels,g=0;g<v;g++){const y=s[this.model][g];y&&(this.color[g]=y(this.color[g]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}a.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(m){let p=this.model in e.to?this:this.rgb();p=p.round(typeof m=="number"?m:1);const g=p.valpha===1?p.color:[...p.color,this.valpha];return e.to[p.model](g)},percentString(m){const p=this.rgb().round(typeof m=="number"?m:1),g=p.valpha===1?p.color:[...p.color,this.valpha];return e.to.rgb.percent(g)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const m={},{channels:p}=t[this.model],{labels:g}=t[this.model];for(let v=0;v<p;v++)m[g[v]]=this.color[v];return this.valpha!==1&&(m.alpha=this.valpha),m},unitArray(){const m=this.rgb().color;return m[0]/=255,m[1]/=255,m[2]/=255,this.valpha!==1&&m.push(this.valpha),m},unitObject(){const m=this.rgb().object();return m.r/=255,m.g/=255,m.b/=255,this.valpha!==1&&(m.alpha=this.valpha),m},round(m){return m=Math.max(m||0,0),new a([...this.color.map(o(m)),this.valpha],this.model)},alpha(m){return m!==void 0?new a([...this.color,Math.max(0,Math.min(1,m))],this.model):this.valpha},red:c("rgb",0,u(255)),green:c("rgb",1,u(255)),blue:c("rgb",2,u(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,m=>(m%360+360)%360),saturationl:c("hsl",1,u(100)),lightness:c("hsl",2,u(100)),saturationv:c("hsv",1,u(100)),value:c("hsv",2,u(100)),chroma:c("hcg",1,u(100)),gray:c("hcg",2,u(100)),white:c("hwb",1,u(100)),wblack:c("hwb",2,u(100)),cyan:c("cmyk",0,u(100)),magenta:c("cmyk",1,u(100)),yellow:c("cmyk",2,u(100)),black:c("cmyk",3,u(100)),x:c("xyz",0,u(95.047)),y:c("xyz",1,u(100)),z:c("xyz",2,u(108.833)),l:c("lab",0,u(100)),a:c("lab",1),b:c("lab",2),keyword(m){return m!==void 0?new a(m):t[this.model].keyword(this.color)},hex(m){return m!==void 0?new a(m):e.to.hex(this.rgb().round().color)},hexa(m){if(m!==void 0)return new a(m);const p=this.rgb().round().color;let g=Math.round(this.valpha*255).toString(16).toUpperCase();return g.length===1&&(g="0"+g),e.to.hex(p)+g},rgbNumber(){const m=this.rgb().color;return(m[0]&255)<<16|(m[1]&255)<<8|m[2]&255},luminosity(){const m=this.rgb().color,p=[];for(const[g,v]of m.entries()){const y=v/255;p[g]=y<=.04045?y/12.92:((y+.055)/1.055)**2.4}return .2126*p[0]+.7152*p[1]+.0722*p[2]},contrast(m){const p=this.luminosity(),g=m.luminosity();return p>g?(p+.05)/(g+.05):(g+.05)/(p+.05)},level(m){const p=this.contrast(m);return p>=7?"AAA":p>=4.5?"AA":""},isDark(){const m=this.rgb().color;return(m[0]*2126+m[1]*7152+m[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const m=this.rgb();for(let p=0;p<3;p++)m.color[p]=255-m.color[p];return m},lighten(m){const p=this.hsl();return p.color[2]+=p.color[2]*m,p},darken(m){const p=this.hsl();return p.color[2]-=p.color[2]*m,p},saturate(m){const p=this.hsl();return p.color[1]+=p.color[1]*m,p},desaturate(m){const p=this.hsl();return p.color[1]-=p.color[1]*m,p},whiten(m){const p=this.hwb();return p.color[1]+=p.color[1]*m,p},blacken(m){const p=this.hwb();return p.color[2]+=p.color[2]*m,p},grayscale(){const m=this.rgb().color,p=m[0]*.3+m[1]*.59+m[2]*.11;return a.rgb(p,p,p)},fade(m){return this.alpha(this.valpha-this.valpha*m)},opaquer(m){return this.alpha(this.valpha+this.valpha*m)},rotate(m){const p=this.hsl();let g=p.color[0];return g=(g+m)%360,g=g<0?360+g:g,p.color[0]=g,p},mix(m,p){if(!m||!m.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof m);const g=m.rgb(),v=this.rgb(),y=p===void 0?.5:p,x=2*y-1,b=g.alpha()-v.alpha(),w=((x*b===-1?x:(x+b)/(1+x*b))+1)/2,_=1-w;return a.rgb(w*g.red()+_*v.red(),w*g.green()+_*v.green(),w*g.blue()+_*v.blue(),g.alpha()*y+v.alpha()*(1-y))}};for(const m of Object.keys(t)){if(n.includes(m))continue;const{channels:p}=t[m];a.prototype[m]=function(...g){return this.model===m?new a(this):g.length>0?new a(g,m):new a([...d(t[this.model][m].raw(this.color)),this.valpha],m)},a[m]=function(...g){let v=g[0];return typeof v=="number"&&(v=h(g,p)),new a(v,m)}}function i(m,p){return Number(m.toFixed(p))}function o(m){return function(p){return i(p,m)}}function c(m,p,g){m=Array.isArray(m)?m:[m];for(const v of m)(s[v]||(s[v]=[]))[p]=g;return m=m[0],function(v){let y;return v!==void 0?(g&&(v=g(v)),y=this[m](),y.color[p]=v,y):(y=this[m]().color[p],g&&(y=g(y)),y)}}function u(m){return function(p){return Math.max(0,Math.min(m,p))}}function d(m){return Array.isArray(m)?m:[m]}function h(m,p){for(let g=0;g<p;g++)typeof m[g]!="number"&&(m[g]=0);return m}return KC=a,KC}var oht=iht();const ac=Rs(oht);var Wj=k1(),kt=e=>E1(e,Wj),zj=k1();kt.write=e=>E1(e,zj);var W3=k1();kt.onStart=e=>E1(e,W3);var Vj=k1();kt.onFrame=e=>E1(e,Vj);var Gj=k1();kt.onFinish=e=>E1(e,Gj);var Gf=[];kt.setTimeout=(e,t)=>{const n=kt.now()+t,r=()=>{const a=Gf.findIndex(i=>i.cancel==r);~a&&Gf.splice(a,1),Jl-=~a?1:0},s={time:n,handler:e,cancel:r};return Gf.splice(Dxe(n),0,s),Jl+=1,Fxe(),s};var Dxe=e=>~(~Gf.findIndex(t=>t.time>e)||~Gf.length);kt.cancel=e=>{W3.delete(e),Vj.delete(e),Gj.delete(e),Wj.delete(e),zj.delete(e)};kt.sync=e=>{z8=!0,kt.batchedUpdates(e),z8=!1};kt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,kt.onStart(n)}return r.handler=e,r.cancel=()=>{W3.delete(n),t=null},r};var qj=typeof window<"u"?window.requestAnimationFrame:()=>{};kt.use=e=>qj=e;kt.now=typeof performance<"u"?()=>performance.now():Date.now;kt.batchedUpdates=e=>e();kt.catch=console.error;kt.frameLoop="always";kt.advance=()=>{kt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Bxe()};var Zl=-1,Jl=0,z8=!1;function E1(e,t){z8?(t.delete(e),e(0)):(t.add(e),Fxe())}function Fxe(){Zl<0&&(Zl=0,kt.frameLoop!=="demand"&&qj(Uxe))}function lht(){Zl=-1}function Uxe(){~Zl&&(qj(Uxe),kt.batchedUpdates(Bxe))}function Bxe(){const e=Zl;Zl=kt.now();const t=Dxe(Zl);if(t&&($xe(Gf.splice(0,t),n=>n.handler()),Jl-=t),!Jl){lht();return}W3.flush(),Wj.flush(e?Math.min(64,Zl-e):16.667),Vj.flush(),zj.flush(),Gj.flush()}function k1(){let e=new Set,t=e;return{add(n){Jl+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Jl-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Jl-=t.size,$xe(t,r=>r(n)&&e.add(r)),Jl+=e.size,t=e)}}}function $xe(e,t){e.forEach(n=>{try{t(n)}catch(r){kt.catch(r)}})}var cht=Object.defineProperty,uht=(e,t)=>{for(var n in t)cht(e,n,{get:t[n],enumerable:!0})},pi={};uht(pi,{assign:()=>fht,colors:()=>ic,createStringInterpolator:()=>Yj,skipAnimation:()=>Wxe,to:()=>Hxe,willAdvance:()=>Qj});function V8(){}var dht=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Pe={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Uo(e,t){if(Pe.arr(e)){if(!Pe.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Ct=(e,t)=>e.forEach(t);function bo(e,t,n){if(Pe.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var ws=e=>Pe.und(e)?[]:Pe.arr(e)?e:[e];function ag(e,t){if(e.size){const n=Array.from(e);e.clear(),Ct(n,t)}}var Mp=(e,...t)=>ag(e,n=>n(...t)),Kj=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Yj,Hxe,ic=null,Wxe=!1,Qj=V8,fht=e=>{e.to&&(Hxe=e.to),e.now&&(kt.now=e.now),e.colors!==void 0&&(ic=e.colors),e.skipAnimation!=null&&(Wxe=e.skipAnimation),e.createStringInterpolator&&(Yj=e.createStringInterpolator),e.requestAnimationFrame&&kt.use(e.requestAnimationFrame),e.batchedUpdates&&(kt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Qj=e.willAdvance),e.frameLoop&&(kt.frameLoop=e.frameLoop)},ig=new Set,Ea=[],YC=[],Xx=0,z3={get idle(){return!ig.size&&!Ea.length},start(e){Xx>e.priority?(ig.add(e),kt.onStart(hht)):(zxe(e),kt(G8))},advance:G8,sort(e){if(Xx)kt.onFrame(()=>z3.sort(e));else{const t=Ea.indexOf(e);~t&&(Ea.splice(t,1),Vxe(e))}},clear(){Ea=[],ig.clear()}};function hht(){ig.forEach(zxe),ig.clear(),kt(G8)}function zxe(e){Ea.includes(e)||Vxe(e)}function Vxe(e){Ea.splice(mht(Ea,t=>t.priority>e.priority),0,e)}function G8(e){const t=YC;for(let n=0;n<Ea.length;n++){const r=Ea[n];Xx=r.priority,r.idle||(Qj(r),r.advance(e),r.idle||t.push(r))}return Xx=0,YC=Ea,YC.length=0,Ea=t,Ea.length>0}function mht(e,t){const n=e.findIndex(t);return n<0?e.length:n}var pht={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ii="[-+]?\\d*\\.?\\d+",Zx=ii+"%";function V3(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var ght=new RegExp("rgb"+V3(ii,ii,ii)),vht=new RegExp("rgba"+V3(ii,ii,ii,ii)),yht=new RegExp("hsl"+V3(ii,Zx,Zx)),xht=new RegExp("hsla"+V3(ii,Zx,Zx,ii)),bht=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wht=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_ht=/^#([0-9a-fA-F]{6})$/,Cht=/^#([0-9a-fA-F]{8})$/;function Sht(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_ht.exec(e))?parseInt(t[1]+"ff",16)>>>0:ic&&ic[e]!==void 0?ic[e]:(t=ght.exec(e))?(qd(t[1])<<24|qd(t[2])<<16|qd(t[3])<<8|255)>>>0:(t=vht.exec(e))?(qd(t[1])<<24|qd(t[2])<<16|qd(t[3])<<8|SW(t[4]))>>>0:(t=bht.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Cht.exec(e))?parseInt(t[1],16)>>>0:(t=wht.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=yht.exec(e))?(_W(CW(t[1]),gy(t[2]),gy(t[3]))|255)>>>0:(t=xht.exec(e))?(_W(CW(t[1]),gy(t[2]),gy(t[3]))|SW(t[4]))>>>0:null}function QC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _W(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,a=QC(s,r,e+1/3),i=QC(s,r,e),o=QC(s,r,e-1/3);return Math.round(a*255)<<24|Math.round(i*255)<<16|Math.round(o*255)<<8}function qd(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function CW(e){return(parseFloat(e)%360+360)%360/360}function SW(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function gy(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function EW(e){let t=Sht(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,a=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${a})`}var p0=(e,t,n)=>{if(Pe.fun(e))return e;if(Pe.arr(e))return p0({range:e,output:t,extrapolate:n});if(Pe.str(e.output[0]))return Yj(e);const r=e,s=r.output,a=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(u=>u);return u=>{const d=kht(u,a);return Eht(u,a[d],a[d+1],s[d],s[d+1],c,i,o,r.map)}};function Eht(e,t,n,r,s,a,i,o,c){let u=c?c(e):e;if(u<t){if(i==="identity")return u;i==="clamp"&&(u=t)}if(u>n){if(o==="identity")return u;o==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=a(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function kht(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Mht={linear:e=>e},g0=Symbol.for("FluidValue.get"),bh=Symbol.for("FluidValue.observers"),Ca=e=>!!(e&&e[g0]),Ls=e=>e&&e[g0]?e[g0]():e,kW=e=>e[bh]||null;function Tht(e,t){e.eventObserved?e.eventObserved(t):e(t)}function v0(e,t){const n=e[bh];n&&n.forEach(r=>{Tht(r,t)})}var Gxe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Nht(this,e)}},Nht=(e,t)=>qxe(e,g0,t);function ym(e,t){if(e[g0]){let n=e[bh];n||qxe(e,bh,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function y0(e,t){const n=e[bh];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[bh]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var qxe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),T2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Rht=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,MW=new RegExp(`(${T2.source})(%|[a-z]+)`,"i"),Aht=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,G3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Kxe=e=>{const[t,n]=jht(e);if(!t||Kj())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&G3.test(n))return Kxe(n);if(n)return n}return e},jht=e=>{const t=G3.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},XC,Pht=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Yxe=e=>{XC||(XC=ic?new RegExp(`(${Object.keys(ic).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(a=>Ls(a).replace(G3,Kxe).replace(Rht,EW).replace(XC,EW)),n=t.map(a=>a.match(T2).map(Number)),s=n[0].map((a,i)=>n.map(o=>{if(!(i in o))throw Error('The arity of each "output" value must be equal');return o[i]})).map(a=>p0({...e,output:a}));return a=>{const i=!MW.test(t[0])&&t.find(c=>MW.test(c))?.replace(T2,"");let o=0;return t[0].replace(T2,()=>`${s[o++](a)}${i||""}`).replace(Aht,Pht)}},Xj="react-spring: ",Qxe=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Xj}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Iht=Qxe(console.warn);function Oht(){Iht(`${Xj}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Lht=Qxe(console.warn);function Dht(){Lht(`${Xj}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function q3(e){return Pe.str(e)&&(e[0]=="#"||/\d/.test(e)||!Kj()&&G3.test(e)||e in(ic||{}))}var xu=Kj()?f.useEffect:f.useLayoutEffect,Fht=()=>{const e=f.useRef(!1);return xu(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Zj(){const e=f.useState()[1],t=Fht();return()=>{t.current&&e(Math.random())}}function Uht(e,t){const[n]=f.useState(()=>({inputs:t,result:e()})),r=f.useRef(),s=r.current;let a=s;return a?t&&a.inputs&&Bht(t,a.inputs)||(a={inputs:t,result:e()}):a=n,f.useEffect(()=>{r.current=a,s==n&&(n.inputs=n.result=void 0)},[a]),a.result}function Bht(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Jj=e=>f.useEffect(e,$ht),$ht=[];function q8(e){const t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var x0=Symbol.for("Animated:node"),Hht=e=>!!e&&e[x0]===e,Hi=e=>e&&e[x0],eP=(e,t)=>dht(e,x0,t),K3=e=>e&&e[x0]&&e[x0].getPayload(),Xxe=class{constructor(){eP(this,this)}getPayload(){return this.payload||[]}},M1=class extends Xxe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Pe.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new M1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Pe.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Pe.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},b0=class extends M1{constructor(e){super(0),this._string=null,this._toString=p0({output:[e,e]})}static create(e){return new b0(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Pe.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=p0({output:[this.getValue(),e]})),this._value=0,super.reset()}},Jx={dependencies:null},Y3=class extends Xxe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return bo(this.source,(n,r)=>{Hht(n)?t[r]=n.getValue(e):Ca(n)?t[r]=Ls(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Ct(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return bo(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Jx.dependencies&&Ca(e)&&Jx.dependencies.add(e);const t=K3(e);t&&Ct(t,n=>this.add(n))}},Zxe=class extends Y3{constructor(e){super(e)}static create(e){return new Zxe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Wht)),!0)}};function Wht(e){return(q3(e)?b0:M1).create(e)}function K8(e){const t=Hi(e);return t?t.constructor:Pe.arr(e)?Zxe:q3(e)?b0:M1}var TW=(e,t)=>{const n=!Pe.fun(e)||e.prototype&&e.prototype.isReactComponent;return f.forwardRef((r,s)=>{const a=f.useRef(null),i=n&&f.useCallback(g=>{a.current=Ght(s,g)},[s]),[o,c]=Vht(r,t),u=Zj(),d=()=>{const g=a.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,o.getValue(!0)):!1)===!1&&u()},h=new zht(d,c),m=f.useRef();xu(()=>(m.current=h,Ct(c,g=>ym(g,h)),()=>{m.current&&(Ct(m.current.deps,g=>y0(g,m.current)),kt.cancel(m.current.update))})),f.useEffect(d,[]),Jj(()=>()=>{const g=m.current;Ct(g.deps,v=>y0(v,g))});const p=t.getComponentProps(o.getValue());return f.createElement(e,{...p,ref:i})})},zht=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&kt.write(this.update)}};function Vht(e,t){const n=new Set;return Jx.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Y3(e),Jx.dependencies=null,[e,n]}function Ght(e,t){return e&&(Pe.fun(e)?e(t):e.current=t),t}var NW=Symbol.for("AnimatedComponent"),qht=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Y3(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},a=i=>{const o=RW(i)||"Anonymous";return Pe.str(i)?i=a[i]||(a[i]=TW(i,s)):i=i[NW]||(i[NW]=TW(i,s)),i.displayName=`Animated(${o})`,i};return bo(e,(i,o)=>{Pe.arr(e)&&(o=RW(i)),a[o]=a(i)}),{animated:a}},RW=e=>Pe.str(e)?e:e&&Pe.str(e.displayName)?e.displayName:Pe.fun(e)&&e.name||null;function Ds(e,...t){return Pe.fun(e)?e(...t):e}var og=(e,t)=>e===!0||!!(t&&e&&(Pe.fun(e)?e(t):ws(e).includes(t))),Jxe=(e,t)=>Pe.obj(e)?t&&e[t]:e,ebe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Kht=e=>e,Q3=(e,t=Kht)=>{let n=Yht;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const a=t(e[s],s);Pe.und(a)||(r[s]=a)}return r},Yht=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Qht={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Xht(e){const t={};let n=0;if(bo(e,(r,s)=>{Qht[s]||(t[s]=r,n++)}),n)return t}function tP(e){const t=Xht(e);if(t){const n={to:t};return bo(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function w0(e){return e=Ls(e),Pe.arr(e)?e.map(w0):q3(e)?pi.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function tbe(e){for(const t in e)return!0;return!1}function Y8(e){return Pe.fun(e)||Pe.arr(e)&&Pe.obj(e[0])}function Q8(e,t){e.ref?.delete(e),t?.delete(e)}function nbe(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var Zht={default:{tension:170,friction:26}},X8={...Zht.default,mass:1,damping:1,easing:Mht.linear,clamp:!1},Jht=class{constructor(){this.velocity=0,Object.assign(this,X8)}};function emt(e,t,n){n&&(n={...n},AW(n,t),t={...n,...t}),AW(e,t),Object.assign(e,t);for(const i in X8)e[i]==null&&(e[i]=X8[i]);let{frequency:r,damping:s}=e;const{mass:a}=e;return Pe.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*a,e.friction=4*Math.PI*s*a/r),e}function AW(e,t){if(!Pe.und(t.decay))e.duration=void 0;else{const n=!Pe.und(t.tension)||!Pe.und(t.friction);(n||!Pe.und(t.frequency)||!Pe.und(t.damping)||!Pe.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var jW=[],tmt=class{constructor(){this.changed=!1,this.values=jW,this.toValues=null,this.fromValues=jW,this.config=new Jht,this.immediate=!1}};function rbe(e,{key:t,props:n,defaultProps:r,state:s,actions:a}){return new Promise((i,o)=>{let c,u,d=og(n.cancel??r?.cancel,t);if(d)p();else{Pe.und(n.pause)||(s.paused=og(n.pause,t));let g=r?.pause;g!==!0&&(g=s.paused||og(g,t)),c=Ds(n.delay||0,t),g?(s.resumeQueue.add(m),a.pause()):(a.resume(),m())}function h(){s.resumeQueue.add(m),s.timeouts.delete(u),u.cancel(),c=u.time-kt.now()}function m(){c>0&&!pi.skipAnimation?(s.delayed=!0,u=kt.setTimeout(p,c),s.pauseQueue.add(h),s.timeouts.add(u)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{a.start({...n,callId:e,cancel:d},i)}catch(g){o(g)}}})}var nP=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?qf(e.get()):t.every(n=>n.noop)?sbe(e.get()):ri(e.get(),t.every(n=>n.finished)),sbe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ri=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),qf=e=>({value:e,cancelled:!0,finished:!1});function abe(e,t,n,r){const{callId:s,parentId:a,onRest:i}=t,{asyncTo:o,promise:c}=n;return!a&&e===o&&!t.reset?c:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=Q3(t,(y,x)=>x==="onRest"?void 0:y);let d,h;const m=new Promise((y,x)=>(d=y,h=x)),p=y=>{const x=s<=(n.cancelId||0)&&qf(r)||s!==n.asyncId&&ri(r,!1);if(x)throw y.result=x,h(y),y},g=(y,x)=>{const b=new PW,w=new IW;return(async()=>{if(pi.skipAnimation)throw _0(n),w.result=ri(r,!1),h(w),w;p(b);const _=Pe.obj(y)?{...y}:{...x,to:y};_.parentId=s,bo(u,(S,k)=>{Pe.und(_[k])&&(_[k]=S)});const C=await r.start(_);return p(b),n.paused&&await new Promise(S=>{n.resumeQueue.add(S)}),C})()};let v;if(pi.skipAnimation)return _0(n),ri(r,!1);try{let y;Pe.arr(e)?y=(async x=>{for(const b of x)await g(b)})(e):y=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([y.then(d),m]),v=ri(r.get(),!0,!1)}catch(y){if(y instanceof PW)v=y.result;else if(y instanceof IW)v=y.result;else throw y}finally{s==n.asyncId&&(n.asyncId=a,n.asyncTo=a?o:void 0,n.promise=a?c:void 0)}return Pe.fun(i)&&kt.batchedUpdates(()=>{i(v,r,r.item)}),v})()}function _0(e,t){ag(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var PW=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},IW=class extends Error{constructor(){super("SkipAnimationSignal")}},Z8=e=>e instanceof rP,nmt=1,rP=class extends Gxe{constructor(){super(...arguments),this.id=nmt++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Hi(this);return e&&e.getValue()}to(...e){return pi.to(this,e)}interpolate(...e){return Oht(),pi.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){v0(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||z3.sort(this),v0(this,{type:"priority",parent:this,priority:e})}},Qu=Symbol.for("SpringPhase"),ibe=1,obe=2,lbe=4,ZC=e=>(e[Qu]&ibe)>0,Ol=e=>(e[Qu]&obe)>0,tp=e=>(e[Qu]&lbe)>0,OW=(e,t)=>t?e[Qu]|=obe|ibe:e[Qu]&=-3,LW=(e,t)=>t?e[Qu]|=lbe:e[Qu]&=-5,rmt=class extends rP{constructor(e,t){if(super(),this.animation=new tmt,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Pe.und(e)||!Pe.und(t)){const n=Pe.obj(e)?{...e}:{...t,from:e};Pe.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ol(this)||this._state.asyncTo)||tp(this)}get goal(){return Ls(this.animation.to)}get velocity(){const e=Hi(this);return e instanceof M1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return ZC(this)}get isAnimating(){return Ol(this)}get isPaused(){return tp(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:a}=r,i=K3(r.to);!i&&Ca(r.to)&&(s=ws(Ls(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const h=u.constructor==b0?1:i?i[d].lastPosition:s[d];let m=r.immediate,p=h;if(!m){if(p=u.lastPosition,a.tension<=0){u.done=!0;return}let g=u.elapsedTime+=e;const v=r.fromValues[d],y=u.v0!=null?u.v0:u.v0=Pe.arr(a.velocity)?a.velocity[d]:a.velocity;let x;const b=a.precision||(v==h?.005:Math.min(1,Math.abs(h-v)*.001));if(Pe.und(a.duration))if(a.decay){const w=a.decay===!0?.998:a.decay,_=Math.exp(-(1-w)*g);p=v+y/(1-w)*(1-_),m=Math.abs(u.lastPosition-p)<=b,x=y*_}else{x=u.lastVelocity==null?y:u.lastVelocity;const w=a.restVelocity||b/10,_=a.clamp?0:a.bounce,C=!Pe.und(_),S=v==h?u.v0>0:v<h;let k,E=!1;const M=1,N=Math.ceil(e/M);for(let R=0;R<N&&(k=Math.abs(x)>w,!(!k&&(m=Math.abs(h-p)<=b,m)));++R){C&&(E=p==h||p>h==S,E&&(x=-x*_,p=h));const A=-a.tension*1e-6*(p-h),P=-a.friction*.001*x,O=(A+P)/a.mass;x=x+O*M,p=p+x*M}}else{let w=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,g=u.elapsedTime+=e)),w=(a.progress||0)+g/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),p=v+a.easing(w)*(h-v),x=(p-u.lastPosition)/e,m=w==1}u.lastVelocity=x,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),m=!0)}i&&!i[d].done&&(m=!1),m?u.done=!0:t=!1,u.setValue(p,a.round)&&(n=!0)});const o=Hi(this),c=o.getValue();if(t){const u=Ls(r.to);(c!==u||n)&&!a.decay?(o.setValue(u),this._onChange(u)):n&&a.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return kt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ol(this)){const{to:e,config:t}=this.animation;kt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Pe.und(e)?(n=this.queue||[],this.queue=[]):n=[Pe.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>nP(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),_0(this._state,e&&this._lastCallId),kt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Pe.obj(n)?n[t]:n,(n==null||Y8(n))&&(n=void 0),r=Pe.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return ZC(this)||(e.reverse&&([n,r]=[r,n]),r=Ls(r),Pe.und(r)?Hi(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Q3(e,(i,o)=>/^on/.test(o)?Jxe(i,n):i)),FW(this,e,"onProps"),rp(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return rbe(++this._lastCallId,{key:n,props:e,defaultProps:r,state:a,actions:{pause:()=>{tp(this)||(LW(this,!0),Mp(a.pauseQueue),rp(this,"onPause",ri(this,np(this,this.animation.to)),this))},resume:()=>{tp(this)&&(LW(this,!1),Ol(this)&&this._resume(),Mp(a.resumeQueue),rp(this,"onResume",ri(this,np(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(i=>{if(e.loop&&i.finished&&!(t&&i.noop)){const o=cbe(e);if(o)return this._update(o,!0)}return i})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(qf(this));const r=!Pe.und(e.to),s=!Pe.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(qf(this));const{key:a,defaultProps:i,animation:o}=this,{to:c,from:u}=o;let{to:d=c,from:h=u}=e;s&&!r&&(!t.default||Pe.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const m=!Uo(h,u);m&&(o.from=h),h=Ls(h);const p=!Uo(d,c);p&&this._focus(d);const g=Y8(t.to),{config:v}=o,{decay:y,velocity:x}=v;(r||s)&&(v.velocity=0),t.config&&!g&&emt(v,Ds(t.config,a),t.config!==i.config?Ds(i.config,a):void 0);let b=Hi(this);if(!b||Pe.und(d))return n(ri(this,!0));const w=Pe.und(t.reset)?s&&!t.default:!Pe.und(h)&&og(t.reset,a),_=w?h:this.get(),C=w0(d),S=Pe.num(C)||Pe.arr(C)||q3(C),k=!g&&(!S||og(i.immediate||t.immediate,a));if(p){const R=K8(d);if(R!==b.constructor)if(k)b=this._set(C);else throw Error(`Cannot animate between ${b.constructor.name} and ${R.name}, as the "to" prop suggests`)}const E=b.constructor;let M=Ca(d),N=!1;if(!M){const R=w||!ZC(this)&&m;(p||R)&&(N=Uo(w0(_),C),M=!N),(!Uo(o.immediate,k)&&!k||!Uo(v.decay,y)||!Uo(v.velocity,x))&&(M=!0)}if(N&&Ol(this)&&(o.changed&&!w?M=!0:M||this._stop(c)),!g&&((M||Ca(c))&&(o.values=b.getPayload(),o.toValues=Ca(d)?null:E==b0?[1]:ws(C)),o.immediate!=k&&(o.immediate=k,!k&&!w&&this._set(c)),M)){const{onRest:R}=o;Ct(amt,P=>FW(this,t,P));const A=ri(this,np(this,c));Mp(this._pendingCalls,A),this._pendingCalls.add(n),o.changed&&kt.batchedUpdates(()=>{o.changed=!w,R?.(A,this),w?Ds(i.onRest,A):o.onStart?.(A,this)})}w&&this._set(_),g?n(abe(t.to,t,this._state,this)):M?this._start():Ol(this)&&!p?this._pendingCalls.add(n):n(sbe(_))}_focus(e){const t=this.animation;e!==t.to&&(kW(this)&&this._detach(),t.to=e,kW(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ca(t)&&(ym(t,this),Z8(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ca(e)&&y0(e,this)}_set(e,t=!0){const n=Ls(e);if(!Pe.und(n)){const r=Hi(this);if(!r||!Uo(n,r.getValue())){const s=K8(n);!r||r.constructor!=s?eP(this,s.create(n)):r.setValue(n),r&&kt.batchedUpdates(()=>{this._onChange(n,t)})}}return Hi(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,rp(this,"onStart",ri(this,np(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ds(this.animation.onChange,e,this)),Ds(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Hi(this).reset(Ls(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Ol(this)||(OW(this,!0),tp(this)||this._resume())}_resume(){pi.skipAnimation?this.finish():z3.start(this)}_stop(e,t){if(Ol(this)){OW(this,!1);const n=this.animation;Ct(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),v0(this,{type:"idle",parent:this});const r=t?qf(this.get()):ri(this.get(),np(this,e??n.to));Mp(this._pendingCalls,r),n.changed&&(n.changed=!1,rp(this,"onRest",r,this))}}};function np(e,t){const n=w0(t),r=w0(e.get());return Uo(r,n)}function cbe(e,t=e.loop,n=e.to){const r=Ds(t);if(r){const s=r!==!0&&tP(r),a=(s||e).reverse,i=!s||s.reset;return C0({...e,loop:t,default:!1,pause:void 0,to:!a||Y8(n)?n:void 0,from:i?e.from:void 0,reset:i,...s})}}function C0(e){const{to:t,from:n}=e=tP(e),r=new Set;return Pe.obj(t)&&DW(t,r),Pe.obj(n)&&DW(n,r),e.keys=r.size?Array.from(r):null,e}function smt(e){const t=C0(e);return Pe.und(t.default)&&(t.default=Q3(t)),t}function DW(e,t){bo(e,(n,r)=>n!=null&&t.add(r))}var amt=["onStart","onRest","onChange","onPause","onResume"];function FW(e,t,n){e.animation[n]=t[n]!==ebe(t,n)?Jxe(t[n],e.key):void 0}function rp(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var imt=["onStart","onChange","onRest"],omt=1,ube=class{constructor(e,t){this.id=omt++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];Pe.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(C0(e)),this}start(e){let{queue:t}=this;return e?t=ws(e).map(C0):this.queue=[],this._flush?this._flush(this,t):(pbe(this,t),J8(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Ct(ws(t),r=>n[r].stop(!!e))}else _0(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Pe.und(e))this.start({pause:!0});else{const t=this.springs;Ct(ws(e),n=>t[n].pause())}return this}resume(e){if(Pe.und(e))this.start({pause:!1});else{const t=this.springs;Ct(ws(e),n=>t[n].resume())}return this}each(e){bo(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,ag(e,([o,c])=>{c.value=this.get(),o(c,this,this._item)}));const a=!r&&this._started,i=s||a&&n.size?this.get():null;s&&t.size&&ag(t,([o,c])=>{c.value=i,o(c,this,this._item)}),a&&(this._started=!1,ag(n,([o,c])=>{c.value=i,o(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;kt.onFrame(this._onFrame)}};function J8(e,t){return Promise.all(t.map(n=>dbe(e,n))).then(n=>nP(e,n))}async function dbe(e,t,n){const{keys:r,to:s,from:a,loop:i,onRest:o,onResolve:c}=t,u=Pe.obj(t.default)&&t.default;i&&(t.loop=!1),s===!1&&(t.to=null),a===!1&&(t.from=null);const d=Pe.arr(s)||Pe.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Ct(imt,v=>{const y=t[v];if(Pe.fun(y)){const x=e._events[v];t[v]=({finished:b,cancelled:w})=>{const _=x.get(y);_?(b||(_.finished=!1),w&&(_.cancelled=!0)):x.set(y,{value:null,finished:b||!1,cancelled:w||!1})},u&&(u[v]=t[v])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,Mp(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const m=(r||Object.keys(e.springs)).map(v=>e.springs[v].start(t)),p=t.cancel===!0||ebe(t,"cancel")===!0;(d||p&&h.asyncId)&&m.push(rbe(++e._lastAsyncId,{props:t,state:h,actions:{pause:V8,resume:V8,start(v,y){p?(_0(h,e._lastAsyncId),y(qf(e))):(v.onRest=o,y(abe(d,v,h,e)))}}})),h.paused&&await new Promise(v=>{h.resumeQueue.add(v)});const g=nP(e,await Promise.all(m));if(i&&g.finished&&!(n&&g.noop)){const v=cbe(t,i,s);if(v)return pbe(e,[v]),dbe(e,v,!0)}return c&&kt.batchedUpdates(()=>c(g,e,e.item)),g}function e7(e,t){const n={...e.springs};return t&&Ct(ws(t),r=>{Pe.und(r.keys)&&(r=C0(r)),Pe.obj(r.to)||(r={...r,to:void 0}),mbe(n,r,s=>hbe(s))}),fbe(e,n),n}function fbe(e,t){bo(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,ym(n,e))})}function hbe(e,t){const n=new rmt;return n.key=e,t&&ym(n,t),n}function mbe(e,t,n){t.keys&&Ct(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function pbe(e,t){Ct(t,n=>{mbe(e.springs,n,r=>hbe(r,e))})}var T1=({children:e,...t})=>{const n=f.useContext(eb),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=Uht(()=>({pause:r,immediate:s}),[r,s]);const{Provider:a}=eb;return f.createElement(a,{value:t},e)},eb=lmt(T1,{});T1.Provider=eb.Provider;T1.Consumer=eb.Consumer;function lmt(e,t){return Object.assign(e,f.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var gbe=()=>{const e=[],t=function(r){Dht();const s=[];return Ct(e,(a,i)=>{if(Pe.und(r))s.push(a.start());else{const o=n(r,a,i);o&&s.push(a.start(o))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return Ct(e,r=>r.pause(...arguments)),this},t.resume=function(){return Ct(e,r=>r.resume(...arguments)),this},t.set=function(r){Ct(e,(s,a)=>{const i=Pe.fun(r)?r(a,s):r;i&&s.set(i)})},t.start=function(r){const s=[];return Ct(e,(a,i)=>{if(Pe.und(r))s.push(a.start());else{const o=this._getProps(r,a,i);o&&s.push(a.start(o))}}),s},t.stop=function(){return Ct(e,r=>r.stop(...arguments)),this},t.update=function(r){return Ct(e,(s,a)=>s.update(this._getProps(r,s,a))),this};const n=function(r,s,a){return Pe.fun(r)?r(a,s):r};return t._getProps=n,t};function cmt(e,t,n){const r=Pe.fun(t)&&t;r&&!n&&(n=[]);const s=f.useMemo(()=>r||arguments.length==3?gbe():void 0,[]),a=f.useRef(0),i=Zj(),o=f.useMemo(()=>({ctrls:[],queue:[],flush(x,b){const w=e7(x,b);return a.current>0&&!o.queue.length&&!Object.keys(w).some(C=>!x.springs[C])?J8(x,b):new Promise(C=>{fbe(x,w),o.queue.push(()=>{C(J8(x,b))}),i()})}}),[]),c=f.useRef([...o.ctrls]),u=[],d=q8(e)||0;f.useMemo(()=>{Ct(c.current.slice(e,d),x=>{Q8(x,s),x.stop(!0)}),c.current.length=e,h(d,e)},[e]),f.useMemo(()=>{h(0,Math.min(d,e))},n);function h(x,b){for(let w=x;w<b;w++){const _=c.current[w]||(c.current[w]=new ube(null,o.flush)),C=r?r(w,_):t[w];C&&(u[w]=smt(C))}}const m=c.current.map((x,b)=>e7(x,u[b])),p=f.useContext(T1),g=q8(p),v=p!==g&&tbe(p);xu(()=>{a.current++,o.ctrls=c.current;const{queue:x}=o;x.length&&(o.queue=[],Ct(x,b=>b())),Ct(c.current,(b,w)=>{s?.add(b),v&&b.start({default:p});const _=u[w];_&&(nbe(b,_.ref),b.ref?b.queue.push(_):b.start(_))})}),Jj(()=>()=>{Ct(o.ctrls,x=>x.stop(!0))});const y=m.map(x=>({...x}));return s?[y,s]:y}function WUt(e,t){const n=Pe.fun(e),[[r],s]=cmt(1,n?e:[e],n?[]:t);return n||arguments.length==2?[r,s]:r}function vbe(e,t,n){const r=Pe.fun(t)&&t,{reset:s,sort:a,trail:i=0,expires:o=!0,exitBeforeEnter:c=!1,onDestroyed:u,ref:d,config:h}=r?r():t,m=f.useMemo(()=>r||arguments.length==3?gbe():void 0,[]),p=ws(e),g=[],v=f.useRef(null),y=s?null:v.current;xu(()=>{v.current=g}),Jj(()=>(Ct(g,O=>{m?.add(O.ctrl),O.ctrl.ref=m}),()=>{Ct(v.current,O=>{O.expired&&clearTimeout(O.expirationId),Q8(O.ctrl,m),O.ctrl.stop(!0)})}));const x=dmt(p,r?r():t,y),b=s&&v.current||[];xu(()=>Ct(b,({ctrl:O,item:I,key:L})=>{Q8(O,m),Ds(u,I,L)}));const w=[];if(y&&Ct(y,(O,I)=>{O.expired?(clearTimeout(O.expirationId),b.push(O)):(I=w[I]=x.indexOf(O.key),~I&&(g[I]=O))}),Ct(p,(O,I)=>{g[I]||(g[I]={key:x[I],item:O,phase:"mount",ctrl:new ube},g[I].ctrl.item=O)}),w.length){let O=-1;const{leave:I}=r?r():t;Ct(w,(L,F)=>{const D=y[F];~L?(O=g.indexOf(D),g[O]={...D,item:p[L]}):I&&g.splice(++O,0,D)})}Pe.fun(a)&&g.sort((O,I)=>a(O.item,I.item));let _=-i;const C=Zj(),S=Q3(t),k=new Map,E=f.useRef(new Map),M=f.useRef(!1);Ct(g,(O,I)=>{const L=O.key,F=O.phase,D=r?r():t;let B,$;const W=Ds(D.delay||0,L);if(F=="mount")B=D.enter,$="enter";else{const V=x.indexOf(L)<0;if(F!="leave")if(V)B=D.leave,$="leave";else if(B=D.update)$="update";else return;else if(!V)B=D.enter,$="enter";else return}if(B=Ds(B,O.item,I),B=Pe.obj(B)?tP(B):{to:B},!B.config){const V=h||S.config;B.config=Ds(V,O.item,I,$)}_+=i;const X={...S,delay:W+_,ref:d,immediate:D.immediate,reset:!1,...B};if($=="enter"&&Pe.und(X.from)){const V=r?r():t,q=Pe.und(V.initial)||y?V.from:V.initial;X.from=Ds(q,O.item,I)}const{onResolve:ee}=X;X.onResolve=V=>{Ds(ee,V);const q=v.current,z=q.find(te=>te.key===L);if(z&&!(V.cancelled&&z.phase!="update")&&z.ctrl.idle){const te=q.every(Y=>Y.ctrl.idle);if(z.phase=="leave"){const Y=Ds(o,z.item);if(Y!==!1){const Z=Y===!0?0:Y;if(z.expired=!0,!te&&Z>0){Z<=2147483647&&(z.expirationId=setTimeout(C,Z));return}}}te&&q.some(Y=>Y.expired)&&(E.current.delete(z),c&&(M.current=!0),C())}};const ne=e7(O.ctrl,X);$==="leave"&&c?E.current.set(O,{phase:$,springs:ne,payload:X}):k.set(O,{phase:$,springs:ne,payload:X})});const N=f.useContext(T1),R=q8(N),A=N!==R&&tbe(N);xu(()=>{A&&Ct(g,O=>{O.ctrl.start({default:N})})},[N]),Ct(k,(O,I)=>{if(E.current.size){const L=g.findIndex(F=>F.key===I.key);g.splice(L,1)}}),xu(()=>{Ct(E.current.size?E.current:k,({phase:O,payload:I},L)=>{const{ctrl:F}=L;L.phase=O,m?.add(F),A&&O=="enter"&&F.start({default:N}),I&&(nbe(F,I.ref),(F.ref||m)&&!M.current?F.update(I):(F.start(I),M.current&&(M.current=!1)))})},s?void 0:n);const P=O=>f.createElement(f.Fragment,null,g.map((I,L)=>{const{springs:F}=k.get(I)||I.ctrl,D=O({...F},I.item,I,L);return D&&D.type?f.createElement(D.type,{...D.props,key:Pe.str(I.key)||Pe.num(I.key)?I.key:I.ctrl.id,ref:D.ref}):D}));return m?[P,m]:P}var umt=1;function dmt(e,{key:t,keys:n=t},r){if(n===null){const s=new Set;return e.map(a=>{const i=r&&r.find(o=>o.item===a&&o.phase!=="leave"&&!s.has(o));return i?(s.add(i),i.key):umt++})}return Pe.und(n)?e:Pe.fun(n)?e.map(n):ws(n)}var ybe=class extends rP{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=p0(...t);const n=this._get(),r=K8(n);eP(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Uo(t,n)||(Hi(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&UW(this._active)&&JC(this)}_get(){const e=Pe.arr(this.source)?this.source.map(Ls):ws(Ls(this.source));return this.calc(...e)}_start(){this.idle&&!UW(this._active)&&(this.idle=!1,Ct(K3(this),e=>{e.done=!1}),pi.skipAnimation?(kt.batchedUpdates(()=>this.advance()),JC(this)):z3.start(this))}_attach(){let e=1;Ct(ws(this.source),t=>{Ca(t)&&ym(t,this),Z8(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Ct(ws(this.source),e=>{Ca(e)&&y0(e,this)}),this._active.clear(),JC(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ws(this.source).reduce((t,n)=>Math.max(t,(Z8(n)?n.priority:0)+1),0))}};function fmt(e){return e.idle!==!1}function UW(e){return!e.size||Array.from(e).every(fmt)}function JC(e){e.idle||(e.idle=!0,Ct(K3(e),t=>{t.done=!0}),v0(e,{type:"idle",parent:e}))}var hmt=(e,...t)=>new ybe(e,t);pi.assign({createStringInterpolator:Yxe,to:(e,t)=>new ybe(e,t)});var xbe=/^--/;function mmt(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!xbe.test(e)&&!(lg.hasOwnProperty(e)&&lg[e])?t+"px":(""+t).trim()}var BW={};function pmt(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:s,children:a,scrollTop:i,scrollLeft:o,viewBox:c,...u}=t,d=Object.values(u),h=Object.keys(u).map(m=>n||e.hasAttribute(m)?m:BW[m]||(BW[m]=m.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));a!==void 0&&(e.textContent=a);for(const m in s)if(s.hasOwnProperty(m)){const p=mmt(m,s[m]);xbe.test(m)?e.style.setProperty(m,p):e.style[m]=p}h.forEach((m,p)=>{e.setAttribute(m,d[p])}),r!==void 0&&(e.className=r),i!==void 0&&(e.scrollTop=i),o!==void 0&&(e.scrollLeft=o),c!==void 0&&e.setAttribute("viewBox",c)}var lg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gmt=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),vmt=["Webkit","Ms","Moz","O"];lg=Object.keys(lg).reduce((e,t)=>(vmt.forEach(n=>e[gmt(n,t)]=e[t]),e),lg);var ymt=/^(matrix|translate|scale|rotate|skew)/,xmt=/^(translate)/,bmt=/^(rotate|skew)/,eS=(e,t)=>Pe.num(e)&&e!==0?e+t:e,N2=(e,t)=>Pe.arr(e)?e.every(n=>N2(n,t)):Pe.num(e)?e===t:parseFloat(e)===t,wmt=class extends Y3{constructor({x:e,y:t,z:n,...r}){const s=[],a=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),a.push(i=>[`translate3d(${i.map(o=>eS(o,"px")).join(",")})`,N2(i,0)])),bo(r,(i,o)=>{if(o==="transform")s.push([i||""]),a.push(c=>[c,c===""]);else if(ymt.test(o)){if(delete r[o],Pe.und(i))return;const c=xmt.test(o)?"px":bmt.test(o)?"deg":"";s.push(ws(i)),a.push(o==="rotate3d"?([u,d,h,m])=>[`rotate3d(${u},${d},${h},${eS(m,c)})`,N2(m,0)]:u=>[`${o}(${u.map(d=>eS(d,c)).join(",")})`,N2(u,o.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new _mt(s,a)),super(r)}},_mt=class extends Gxe{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Ct(this.inputs,(n,r)=>{const s=Ls(n[0]),[a,i]=this.transforms[r](Pe.arr(s)?s:n.map(Ls));e+=" "+a,t=t&&i}),t?"none":e}observerAdded(e){e==1&&Ct(this.inputs,t=>Ct(t,n=>Ca(n)&&ym(n,this)))}observerRemoved(e){e==0&&Ct(this.inputs,t=>Ct(t,n=>Ca(n)&&y0(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),v0(this,e)}},Cmt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];pi.assign({batchedUpdates:as.unstable_batchedUpdates,createStringInterpolator:Yxe,colors:pht});var Smt=qht(Cmt,{applyAnimatedValues:pmt,createAnimatedStyle:e=>new wmt(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),R2=Smt.animated,sp={},$W;function N1(){if($W)return sp;$W=1,sp.__esModule=!0,sp.default=void 0;var e={top:"top",left:"left",right:"right",bottom:"bottom"};return sp.default=e,sp}var Emt=N1();const kmt=Rs(Emt);var tS,HW;function Mmt(){if(HW)return tS;HW=1,tS=e;function e(r,s,a){r instanceof RegExp&&(r=t(r,a)),s instanceof RegExp&&(s=t(s,a));var i=n(r,s,a);return i&&{start:i[0],end:i[1],pre:a.slice(0,i[0]),body:a.slice(i[0]+r.length,i[1]),post:a.slice(i[1]+s.length)}}function t(r,s){var a=s.match(r);return a?a[0]:null}e.range=n;function n(r,s,a){var i,o,c,u,d,h=a.indexOf(r),m=a.indexOf(s,h+1),p=h;if(h>=0&&m>0){for(i=[],c=a.length;p>=0&&!d;)p==h?(i.push(p),h=a.indexOf(r,p+1)):i.length==1?d=[i.pop(),m]:(o=i.pop(),o<c&&(c=o,u=m),m=a.indexOf(s,p+1)),p=h<m&&h>=0?h:m;i.length&&(d=[c,u])}return d}return tS}var nS,WW;function Tmt(){if(WW)return nS;WW=1,nS=e;function e(r,s,a){r instanceof RegExp&&(r=t(r,a)),s instanceof RegExp&&(s=t(s,a));var i=n(r,s,a);return i&&{start:i[0],end:i[1],pre:a.slice(0,i[0]),body:a.slice(i[0]+r.length,i[1]),post:a.slice(i[1]+s.length)}}function t(r,s){var a=s.match(r);return a?a[0]:null}e.range=n;function n(r,s,a){var i,o,c,u,d,h=a.indexOf(r),m=a.indexOf(s,h+1),p=h;if(h>=0&&m>0){if(r===s)return[h,m];for(i=[],c=a.length;p>=0&&!d;)p==h?(i.push(p),h=a.indexOf(r,p+1)):i.length==1?d=[i.pop(),m]:(o=i.pop(),o<c&&(c=o,u=m),m=a.indexOf(s,p+1)),p=h<m&&h>=0?h:m;i.length&&(d=[c,u])}return d}return nS}var rS,zW;function Nmt(){if(zW)return rS;zW=1;var e=Tmt();rS=t;function t(s,a,i){var o=s;return n(s,a).reduce(function(c,u){return c.replace(u.functionIdentifier+"("+u.matches.body+")",r(u.matches.body,u.functionIdentifier,i,o,a))},s)}function n(s,a){var i=[],o=typeof a=="string"?new RegExp("\\b("+a+")\\("):a;do{var c=o.exec(s);if(!c)return i;if(c[1]===void 0)throw new Error("Missing the first couple of parenthesis to get the function identifier in "+a);var u=c[1],d=c.index,h=e("(",")",s.substring(d));if(!h||h.start!==c[0].length-1)throw new SyntaxError(u+"(): missing closing ')' in the value '"+s+"'");i.push({matches:h,functionIdentifier:u}),s=h.post}while(o.test(s));return i}function r(s,a,i,o,c){return i(t(s,c,i),a,o)}return rS}var sS,VW;function Rmt(){if(VW)return sS;VW=1;var e=function(t){this.value=t};return e.math={isDegree:!0,acos:function(t){return e.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,n){return t+n},asin:function(t){return e.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return e.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,n){var r=1,s=t-n,a=n;a<s&&(a=s,s=n);for(var i=a+1;i<=t;i++)r*=i;return r/e.math.fact(s)},changeSign:function(t){return-t},cos:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,n){return t/n},fact:function(t){if(t%1!==0)return"NaN";for(var n=1,r=2;r<=t;r++)n*=r;return n},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,n){return t%n},mul:function(t,n){return t*n},P:function(t,n){for(var r=1,s=Math.floor(t)-Math.floor(n)+1;s<=Math.floor(t);s++)r*=s;return r},Pi:function(t,n,r){for(var s=1,a=t;a<=n;a++)s*=Number(r.postfixEval({n:a}));return s},pow10x:function(t){for(var n=1;t--;)n*=10;return n},sigma:function(t,n,r){for(var s=0,a=t;a<=n;a++)s+=Number(r.postfixEval({n:a}));return s},sin:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,n){return t-n},tan:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.tan(t)},tanh:function(t){return e.sinha(t)/e.cosha(t)},toRadian:function(t){return t*Math.PI/180},and:function(t,n){return t&n}},e.Exception=function(t){this.message=t},sS=e,sS}var aS,GW;function Amt(){if(GW)return aS;GW=1;var e=Rmt();function t(b,w){for(var _=0;_<b.length;_++)b[_]+=w;return b}for(var n=[{token:"sin",show:"sin",type:0,value:e.math.sin},{token:"cos",show:"cos",type:0,value:e.math.cos},{token:"tan",show:"tan",type:0,value:e.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:e.math.P},{token:"C",show:"C",type:10,value:e.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:e.math.asin},{token:"acos",show:"acos",type:0,value:e.math.acos},{token:"atan",show:"atan",type:0,value:e.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:e.math.cosh},{token:"acosh",show:"acosh",type:0,value:e.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:e.math.div},{token:"!",show:"!",type:7,value:e.math.fact},{token:"tanh",show:"tanh",type:0,value:e.math.tanh},{token:"atanh",show:"atanh",type:0,value:e.math.atanh},{token:"Mod",show:" Mod ",type:2,value:e.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:e.math.mul},{token:"sinh",show:"sinh",type:0,value:e.math.sinh},{token:"asinh",show:"asinh",type:0,value:e.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:e.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:e.math.add},{token:"-",show:"-",type:9,value:e.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:e.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:e.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:e.math.and}],r={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},s=0;s<n.length;s++)n[s].precedence=r[n[s].type];var a={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},i={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},o={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},c={},u={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},d={1:!0},h=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function m(b,w,_,C){for(var S=0;S<C;S++)if(b[_+S]!==w[S])return!1;return!0}e.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},e.addToken=function(b){for(var w=0;w<b.length;w++){var _=b[w].token.length,C=-1;b[w].type===e.tokenTypes.FUNCTION_WITH_N_ARGS&&b[w].numberOfArguments===void 0&&(b[w].numberOfArguments=2),h[_]=h[_]||[];for(var S=0;S<h[_].length;S++)if(b[w].token===h[_][S]){C=p(h[_][S],n);break}C===-1?(n.push(b[w]),b[w].precedence=r[b[w].type],h.length<=b[w].token.length&&(h[b[w].token.length]=[]),h[b[w].token.length].push(b[w].token)):(n[C]=b[w],b[w].precedence=r[b[w].type])}};function p(b,w){for(var _=0;_<w.length;_++)if(w[_].token===b)return _;return-1}function g(b){for(var w=[],_=b.length,C,S,k,E=0;E<_;E++)if(!(E<_-1&&b[E]===" "&&b[E+1]===" ")){for(C="",S=b.length-E>h.length-2?h.length-1:b.length-E;S>0;S--)if(h[S]!==void 0)for(k=0;k<h[S].length;k++)m(b,h[S][k],E,S)&&(C=h[S][k],k=h[S].length,S=0);if(E+=C.length-1,C==="")throw new e.Exception("Can't understand after "+b.slice(E));w.push(n[p(C,n)])}return w}var v={value:e.math.changeSign,type:0,pre:21,show:"-"},y={value:")",show:")",type:5,pre:0},x={value:"(",type:4,pre:0,show:"("};return e.lex=function(b,w){var _=[x],C=[],S=b,k=a,E=0,M=c,N="",R;typeof w<"u"&&e.addToken(w);var A={},P=g(S);for(R=0;R<P.length;R++){var O=P[R];if(O.type===14){if(R>0&&R<P.length-1&&P[R+1].type===1&&(P[R-1].type===1||P[R-1].type===6))throw new e.Exception("Unexpected Space");continue}var I=O.token,L=O.type,F=O.value,D=O.precedence,B=O.show,$=_[_.length-1],W;for(W=C.length;W--&&C[W]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(L)!==-1){if(k[L]!==!0)throw new e.Exception(I+" is not allowed after "+N);_.push(y),k=i,M=u,C.pop()}if(k[L]!==!0)throw new e.Exception(I+" is not allowed after "+N);if(M[L]===!0&&(L=2,F=e.math.mul,B="&times;",D=3,R=R-1),A={value:F,type:L,pre:D,show:B,numberOfArguments:O.numberOfArguments},L===0)k=a,M=c,t(C,2),_.push(A),P[R+1].type!==4&&(_.push(x),C.push(2));else if(L===1)$.type===1?($.value+=F,t(C,1)):_.push(A),k=i,M=o;else if(L===2)k=a,M=c,t(C,2),_.push(A);else if(L===3)_.push(A),k=i,M=u;else if(L===4)t(C,1),E++,k=a,M=c,_.push(A);else if(L===5){if(!E)throw new e.Exception("Closing parenthesis are more than opening one, wait What!!!");E--,k=i,M=u,_.push(A),t(C,1)}else if(L===6){if($.hasDec)throw new e.Exception("Two decimals are not allowed in one number");$.type!==1&&($={value:0,type:1,pre:0},_.push($)),k=d,t(C,1),M=c,$.value+=F,$.hasDec=!0}else L===7&&(k=i,M=u,t(C,1),_.push(A));L===8?(k=a,M=c,t(C,O.numberOfArguments+2),_.push(A),P[R+1].type!==4&&(_.push(x),C.push(O.numberOfArguments+2))):L===9?($.type===9?$.value===e.math.add?($.value=F,$.show=B,t(C,1)):$.value===e.math.sub&&B==="-"&&($.value=e.math.add,$.show="+",t(C,1)):$.type!==5&&$.type!==7&&$.type!==1&&$.type!==3&&$.type!==13?I==="-"&&(k=a,M=c,t(C,2).push(2),_.push(v),_.push(x)):(_.push(A),t(C,2)),k=a,M=c):L===10?(k=a,M=c,t(C,2),_.push(A)):L===11?(k=a,M=c,_.push(A)):L===12?(k=a,M=c,t(C,6),_.push(A),P[R+1].type!==4&&(_.push(x),C.push(6))):L===13&&(k=i,M=u,_.push(A)),t(C,-1),N=I}for(W=C.length;W--;)_.push(y);if(k[5]!==!0)throw new e.Exception("complete the expression");for(;E--;)_.push(y);return _.push(y),new e(_)},aS=e,aS}var iS,qW;function jmt(){if(qW)return iS;qW=1;var e=Amt();return e.prototype.toPostfix=function(){for(var t=[],n,r,s,a,i,o=[{value:"(",type:4,pre:0}],c=this.value,u=1;u<c.length;u++)if(c[u].type===1||c[u].type===3||c[u].type===13)c[u].type===1&&(c[u].value=Number(c[u].value)),t.push(c[u]);else if(c[u].type===4)o.push(c[u]);else if(c[u].type===5)for(;(r=o.pop()).type!==4;)t.push(r);else if(c[u].type===11){for(;(r=o.pop()).type!==4;)t.push(r);o.push(r)}else{n=c[u],a=n.pre,i=o[o.length-1],s=i.pre;var d=i.value=="Math.pow"&&n.value=="Math.pow";if(a>s)o.push(n);else{for(;s>=a&&!d||d&&a<s;)r=o.pop(),i=o[o.length-1],t.push(r),s=i.pre,d=n.value=="Math.pow"&&i.value=="Math.pow";o.push(n)}}return new e(t)},iS=e,iS}var oS,KW;function Pmt(){if(KW)return oS;KW=1;var e=jmt();return e.prototype.postfixEval=function(t){t=t||{},t.PI=Math.PI,t.E=Math.E;for(var n=[],r,s,a,i=this.value,o=typeof t.n<"u",c=0;c<i.length;c++)if(i[c].type===1)n.push({value:i[c].value,type:1});else if(i[c].type===3)n.push({value:t[i[c].value],type:1});else if(i[c].type===0)typeof n[n.length-1].type>"u"?n[n.length-1].value.push(i[c]):n[n.length-1].value=i[c].value(n[n.length-1].value);else if(i[c].type===7)typeof n[n.length-1].type>"u"?n[n.length-1].value.push(i[c]):n[n.length-1].value=i[c].value(n[n.length-1].value);else if(i[c].type===8){for(var u=[],d=0;d<i[c].numberOfArguments;d++)u.push(n.pop().value);n.push({type:1,value:i[c].value.apply(i[c],u.reverse())})}else i[c].type===10?(r=n.pop(),s=n.pop(),typeof s.type>"u"?(s.value=s.concat(r),s.value.push(i[c]),n.push(s)):typeof r.type>"u"?(r.unshift(s),r.push(i[c]),n.push(r)):n.push({type:1,value:i[c].value(s.value,r.value)})):i[c].type===2||i[c].type===9?(r=n.pop(),s=n.pop(),typeof s.type>"u"?(s=s.concat(r),s.push(i[c]),n.push(s)):typeof r.type>"u"?(r.unshift(s),r.push(i[c]),n.push(r)):n.push({type:1,value:i[c].value(s.value,r.value)})):i[c].type===12?(r=n.pop(),typeof r.type<"u"&&(r=[r]),s=n.pop(),a=n.pop(),n.push({type:1,value:i[c].value(a.value,s.value,new e(r))})):i[c].type===13&&(o?n.push({value:t[i[c].value],type:3}):n.push([i[c]]));if(n.length>1)throw new e.Exception("Uncaught Syntax error");return n[0].value>1e15?"Infinity":parseFloat(n[0].value.toFixed(15))},e.eval=function(t,n,r){return typeof n>"u"?this.lex(t).toPostfix().postfixEval():typeof r>"u"?typeof n.length<"u"?this.lex(t,n).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(n):this.lex(t,n).toPostfix().postfixEval(r)},oS=e,oS}var lS,YW;function Imt(){if(YW)return lS;YW=1;var e=Pmt();return e.prototype.formulaEval=function(){for(var t,n,r,s=[],a=this.value,i=0;i<a.length;i++)a[i].type===1||a[i].type===3?s.push({value:a[i].type===3?a[i].show:a[i].value,type:1}):a[i].type===13?s.push({value:a[i].show,type:1}):a[i].type===0?s[s.length-1]={value:a[i].show+(a[i].show!="-"?"(":"")+s[s.length-1].value+(a[i].show!="-"?")":""),type:0}:a[i].type===7?s[s.length-1]={value:(s[s.length-1].type!=1?"(":"")+s[s.length-1].value+(s[s.length-1].type!=1?")":"")+a[i].show,type:7}:a[i].type===10?(t=s.pop(),n=s.pop(),a[i].show==="P"||a[i].show==="C"?s.push({value:"<sup>"+n.value+"</sup>"+a[i].show+"<sub>"+t.value+"</sub>",type:10}):s.push({value:(n.type!=1?"(":"")+n.value+(n.type!=1?")":"")+"<sup>"+t.value+"</sup>",type:1})):a[i].type===2||a[i].type===9?(t=s.pop(),n=s.pop(),s.push({value:(n.type!=1?"(":"")+n.value+(n.type!=1?")":"")+a[i].show+(t.type!=1?"(":"")+t.value+(t.type!=1?")":""),type:a[i].type})):a[i].type===12&&(t=s.pop(),n=s.pop(),r=s.pop(),s.push({value:a[i].show+"("+r.value+","+n.value+","+t.value+")",type:12}));return s[0].value},lS=e,lS}var cS,QW;function Omt(){if(QW)return cS;QW=1;var e=Mmt(),t=Nmt(),n=Imt(),r=100,s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,a;cS=i;function i(c,u){a=0,u=Math.pow(10,u===void 0?5:u),c=c.replace(/\n+/g," ");function d(m,p,g){if(a++>r)throw a=0,new Error("Call stack overflow for "+g);if(m==="")throw new Error(p+"(): '"+g+"' must contain a non-whitespace string");m=h(m,g);var v=o(m);if(v.length>1||m.indexOf("var(")>-1)return p+"("+m+")";var y=v[0]||"";y==="%"&&(m=m.replace(/\b[0-9\.]+%/g,function(w){return parseFloat(w.slice(0,-1))*.01}));var x=m.replace(new RegExp(y,"gi"),""),b;try{b=n.eval(x)}catch{return p+"("+m+")"}return y==="%"&&(b*=100),(p.length||y==="%")&&(b=Math.round(b*u)/u),b+=y,b}function h(m,p){m=m.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var g="",v=m,y;y=s.exec(v);){y[0].index>0&&(g+=v.substring(0,y[0].index));var x=e("(",")",v.substring([0].index));if(x.body==="")throw new Error("'"+m+"' must contain a non-whitespace string");var b=d(x.body,"",p);g+=x.pre+b,v=x.post}return g+v}return t(c,/((?:\-[a-z]+\-)?calc)\(/,d)}function o(c){for(var u=[],d=[],h=/[\.0-9]([%a-z]+)/gi,m=h.exec(c);m;)!m||!m[1]||(d.indexOf(m[1].toLowerCase())===-1&&(u.push(m[1]),d.push(m[1].toLowerCase())),m=h.exec(c));return u}return cS}var Lmt=Omt();const uS=Rs(Lmt);var dS,XW;function Dmt(){if(XW)return dS;XW=1;var e=typeof Ql=="object"&&Ql&&Ql.Object===Object&&Ql;return dS=e,dS}var fS,ZW;function sP(){if(ZW)return fS;ZW=1;var e=Dmt(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return fS=n,fS}var hS,JW;function bbe(){if(JW)return hS;JW=1;var e=sP(),t=e.Symbol;return hS=t,hS}var mS,ez;function Fmt(){if(ez)return mS;ez=1;var e=bbe(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function a(i){var o=n.call(i,s),c=i[s];try{i[s]=void 0;var u=!0}catch{}var d=r.call(i);return u&&(o?i[s]=c:delete i[s]),d}return mS=a,mS}var pS,tz;function Umt(){if(tz)return pS;tz=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return pS=n,pS}var gS,nz;function Bmt(){if(nz)return gS;nz=1;var e=bbe(),t=Fmt(),n=Umt(),r="[object Null]",s="[object Undefined]",a=e?e.toStringTag:void 0;function i(o){return o==null?o===void 0?s:r:a&&a in Object(o)?t(o):n(o)}return gS=i,gS}var vS,rz;function wbe(){if(rz)return vS;rz=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return vS=e,vS}var yS,sz;function $mt(){if(sz)return yS;sz=1;var e=Bmt(),t=wbe(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function i(o){if(!t(o))return!1;var c=e(o);return c==r||c==s||c==n||c==a}return yS=i,yS}var xS,az;function Hmt(){if(az)return xS;az=1;var e=sP(),t=e["__core-js_shared__"];return xS=t,xS}var bS,iz;function Wmt(){if(iz)return bS;iz=1;var e=Hmt(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return bS=n,bS}var wS,oz;function zmt(){if(oz)return wS;oz=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return wS=n,wS}var _S,lz;function Vmt(){if(lz)return _S;lz=1;var e=$mt(),t=Wmt(),n=wbe(),r=zmt(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,i=Function.prototype,o=Object.prototype,c=i.toString,u=o.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||t(m))return!1;var p=e(m)?d:a;return p.test(r(m))}return _S=h,_S}var CS,cz;function Gmt(){if(cz)return CS;cz=1;function e(t,n){return t?.[n]}return CS=e,CS}var SS,uz;function _be(){if(uz)return SS;uz=1;var e=Vmt(),t=Gmt();function n(r,s){var a=t(r,s);return e(a)?a:void 0}return SS=n,SS}var ES,dz;function X3(){if(dz)return ES;dz=1;var e=_be(),t=e(Object,"create");return ES=t,ES}var kS,fz;function qmt(){if(fz)return kS;fz=1;var e=X3();function t(){this.__data__=e?e(null):{},this.size=0}return kS=t,kS}var MS,hz;function Kmt(){if(hz)return MS;hz=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return MS=e,MS}var TS,mz;function Ymt(){if(mz)return TS;mz=1;var e=X3(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(a){var i=this.__data__;if(e){var o=i[a];return o===t?void 0:o}return r.call(i,a)?i[a]:void 0}return TS=s,TS}var NS,pz;function Qmt(){if(pz)return NS;pz=1;var e=X3(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var a=this.__data__;return e?a[s]!==void 0:n.call(a,s)}return NS=r,NS}var RS,gz;function Xmt(){if(gz)return RS;gz=1;var e=X3(),t="__lodash_hash_undefined__";function n(r,s){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&s===void 0?t:s,this}return RS=n,RS}var AS,vz;function Zmt(){if(vz)return AS;vz=1;var e=qmt(),t=Kmt(),n=Ymt(),r=Qmt(),s=Xmt();function a(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var u=i[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,AS=a,AS}var jS,yz;function Jmt(){if(yz)return jS;yz=1;function e(){this.__data__=[],this.size=0}return jS=e,jS}var PS,xz;function ept(){if(xz)return PS;xz=1;function e(t,n){return t===n||t!==t&&n!==n}return PS=e,PS}var IS,bz;function Z3(){if(bz)return IS;bz=1;var e=ept();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return IS=t,IS}var OS,wz;function tpt(){if(wz)return OS;wz=1;var e=Z3(),t=Array.prototype,n=t.splice;function r(s){var a=this.__data__,i=e(a,s);if(i<0)return!1;var o=a.length-1;return i==o?a.pop():n.call(a,i,1),--this.size,!0}return OS=r,OS}var LS,_z;function npt(){if(_z)return LS;_z=1;var e=Z3();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return LS=t,LS}var DS,Cz;function rpt(){if(Cz)return DS;Cz=1;var e=Z3();function t(n){return e(this.__data__,n)>-1}return DS=t,DS}var FS,Sz;function spt(){if(Sz)return FS;Sz=1;var e=Z3();function t(n,r){var s=this.__data__,a=e(s,n);return a<0?(++this.size,s.push([n,r])):s[a][1]=r,this}return FS=t,FS}var US,Ez;function apt(){if(Ez)return US;Ez=1;var e=Jmt(),t=tpt(),n=npt(),r=rpt(),s=spt();function a(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var u=i[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,US=a,US}var BS,kz;function ipt(){if(kz)return BS;kz=1;var e=_be(),t=sP(),n=e(t,"Map");return BS=n,BS}var $S,Mz;function opt(){if(Mz)return $S;Mz=1;var e=Zmt(),t=apt(),n=ipt();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return $S=r,$S}var HS,Tz;function lpt(){if(Tz)return HS;Tz=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return HS=e,HS}var WS,Nz;function J3(){if(Nz)return WS;Nz=1;var e=lpt();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return WS=t,WS}var zS,Rz;function cpt(){if(Rz)return zS;Rz=1;var e=J3();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return zS=t,zS}var VS,Az;function upt(){if(Az)return VS;Az=1;var e=J3();function t(n){return e(this,n).get(n)}return VS=t,VS}var GS,jz;function dpt(){if(jz)return GS;jz=1;var e=J3();function t(n){return e(this,n).has(n)}return GS=t,GS}var qS,Pz;function fpt(){if(Pz)return qS;Pz=1;var e=J3();function t(n,r){var s=e(this,n),a=s.size;return s.set(n,r),this.size+=s.size==a?0:1,this}return qS=t,qS}var KS,Iz;function hpt(){if(Iz)return KS;Iz=1;var e=opt(),t=cpt(),n=upt(),r=dpt(),s=fpt();function a(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var u=i[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,KS=a,KS}var YS,Oz;function mpt(){if(Oz)return YS;Oz=1;var e=hpt(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var a=function(){var i=arguments,o=s?s.apply(this,i):i[0],c=a.cache;if(c.has(o))return c.get(o);var u=r.apply(this,i);return a.cache=c.set(o,u)||c,u};return a.cache=new(n.Cache||e),a}return n.Cache=e,YS=n,YS}var ppt=mpt();const gpt=Rs(ppt);var Lz="__react_svg_text_measurement_id";function vpt(e,t){try{var n=document.getElementById(Lz);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",n=document.createElementNS("http://www.w3.org/2000/svg","text"),n.setAttribute("id",Lz),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch{return null}}const t7=gpt(vpt,function(e,t){return e+"_"+JSON.stringify(t)});var ypt=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function xpt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function QS(e){return typeof e=="number"}function Dz(e){return typeof e=="number"&&Number.isFinite(e)||typeof e=="string"}function Cbe(e){var t=e.verticalAnchor,n=t===void 0?"end":t,r=e.scaleToFit,s=r===void 0?!1:r,a=e.angle,i=e.width,o=e.lineHeight,c=o===void 0?"1em":o,u=e.capHeight,d=u===void 0?"0.71em":u,h=e.children,m=e.style,p=xpt(e,ypt),g=p.x,v=g===void 0?0:g,y=p.y,x=y===void 0?0:y,b=!Dz(v)||!Dz(x),w=f.useMemo(function(){var M=h==null?[]:h.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:M.map(function(N){return{word:N,wordWidth:t7(N,m)||0}}),spaceWidth:t7(" ",m)||0}},[h,m]),_=w.wordsWithWidth,C=w.spaceWidth,S=f.useMemo(function(){return b?[]:i||s?_.reduce(function(M,N){var R=N.word,A=N.wordWidth,P=M[M.length-1];if(P&&(i==null||s||(P.width||0)+A+C<i))P.words.push(R),P.width=P.width||0,P.width+=A+C;else{var O={words:[R],width:A};M.push(O)}return M},[]):[{words:h==null?[]:h.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[b,i,s,h,_,C]),k=f.useMemo(function(){var M=b?"":uS(n==="start"?"calc("+d+")":n==="middle"?"calc("+(S.length-1)/2+" * -"+c+" + ("+d+" / 2))":"calc("+(S.length-1)+" * -"+c+")");return M},[b,n,d,S.length,c]),E=f.useMemo(function(){var M=[];if(b)return"";if(QS(v)&&QS(x)&&QS(i)&&s&&S.length>0){var N=S[0].width||1,R=s==="shrink-only"?Math.min(i/N,1):i/N,A=R,P=v-R*v,O=x-A*x;M.push("matrix("+R+", 0, 0, "+A+", "+P+", "+O+")")}return a&&M.push("rotate("+a+", "+v+", "+x+")"),M.length>0?M.join(" "):""},[b,v,x,i,s,S,a]);return{wordsByLines:S,startDy:k,transform:E}}var bpt=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function n7(){return n7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n7.apply(null,arguments)}function wpt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var _pt={overflow:"visible"};function e_(e){var t=e.dx,n=t===void 0?0:t,r=e.dy,s=r===void 0?0:r,a=e.textAnchor,i=a===void 0?"start":a,o=e.innerRef,c=e.innerTextRef;e.verticalAnchor,e.angle;var u=e.lineHeight,d=u===void 0?"1em":u;e.scaleToFit,e.capHeight,e.width;var h=wpt(e,bpt),m=h.x,p=m===void 0?0:m,g=h.fontSize,v=Cbe(e),y=v.wordsByLines,x=v.startDy,b=v.transform;return T.createElement("svg",{ref:o,x:n,y:s,fontSize:g,style:_pt},y.length>0?T.createElement("text",n7({ref:c,transform:b},h,{textAnchor:i}),y.map(function(w,_){return T.createElement("tspan",{key:_,x:p,dy:_===0?x:d},w.words.join(" "))})):null)}const Cpt=Object.freeze(Object.defineProperty({__proto__:null,Text:e_,getStringWidth:t7,useText:Cbe},Symbol.toStringTag,{value:"Module"}));function cg(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Spt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aP(e){let t,n,r;e.length!==2?(t=cg,n=(o,c)=>cg(e(o),c),r=(o,c)=>e(o)-c):(t=e===cg||e===Spt?e:Ept,n=e,r=e);function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function i(o,c,u=0,d=o.length){const h=s(o,c,u,d-1);return h>u&&r(o[h-1],c)>-r(o[h],c)?h-1:h}return{left:s,center:i,right:a}}function Ept(){return 0}function Sbe(e){return e===null?NaN:+e}const kpt=aP(cg),xm=kpt.right;aP(Sbe).center;function Qo(e,t){let n,r;if(t===void 0)for(const s of e)s!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Fz extends Map{constructor(t,n=Npt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(Uz(this,t))}has(t){return super.has(Uz(this,t))}set(t,n){return super.set(Mpt(this,t),n)}delete(t){return super.delete(Tpt(this,t))}}function Uz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Mpt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Tpt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Npt(e){return e!==null&&typeof e=="object"?e.valueOf():e}var r7=Math.sqrt(50),s7=Math.sqrt(10),a7=Math.sqrt(2);function i7(e,t,n){var r,s=-1,a,i,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(o=Ebe(e,t,n))===0||!isFinite(o))return[];if(o>0){let c=Math.round(e/o),u=Math.round(t/o);for(c*o<e&&++c,u*o>t&&--u,i=new Array(a=u-c+1);++s<a;)i[s]=(c+s)*o}else{o=-o;let c=Math.round(e*o),u=Math.round(t*o);for(c/o<e&&++c,u/o>t&&--u,i=new Array(a=u-c+1);++s<a;)i[s]=(c+s)/o}return r&&i.reverse(),i}function Ebe(e,t,n){var r=(t-e)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,s);return s>=0?(a>=r7?10:a>=s7?5:a>=a7?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(a>=r7?10:a>=s7?5:a>=a7?2:1)}function o7(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/s;return a>=r7?s*=10:a>=s7?s*=5:a>=a7&&(s*=2),t<e?-s:s}function Rpt(e,t,n=Sbe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),i=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return i+(o-i)*(s-a)}}function Apt(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function Ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Bz=Symbol("implicit");function iP(){var e=new Fz,t=[],n=[],r=Bz;function s(a){let i=e.get(a);if(i===void 0){if(r!==Bz)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Fz;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return iP(t,n).unknown(r)},Ua.apply(s,arguments),s}function oP(){var e=iP().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,i,o=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,p=s<r,g=p?s:r,v=p?r:s;a=(v-g)/Math.max(1,m-c+u*2),o&&(a=Math.floor(a)),g+=(v-g-a*(m-c))*d,i=a*(1-c),o&&(g=Math.round(g),i=Math.round(i));var y=Apt(m).map(function(x){return g+a*x});return n(p?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([r,s]=m,r=+r,s=+s,h()):[r,s]},e.rangeRound=function(m){return[r,s]=m,r=+r,s=+s,o=!0,h()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,h()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return oP(t(),[r,s]).round(o).paddingInner(c).paddingOuter(u).align(d)},Ua.apply(h(),arguments)}function kbe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kbe(t())},e}function jpt(){return kbe(oP.apply(null,arguments).paddingInner(1))}function bm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function R1(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $c(){}var Xu=.7,wh=1/Xu,Kf="\\s*([+-]?\\d+)\\s*",S0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ppt=/^#([0-9a-f]{3,8})$/,Ipt=new RegExp(`^rgb\\(${Kf},${Kf},${Kf}\\)$`),Opt=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),Lpt=new RegExp(`^rgba\\(${Kf},${Kf},${Kf},${S0}\\)$`),Dpt=new RegExp(`^rgba\\(${co},${co},${co},${S0}\\)$`),Fpt=new RegExp(`^hsl\\(${S0},${co},${co}\\)$`),Upt=new RegExp(`^hsla\\(${S0},${co},${co},${S0}\\)$`),$z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bm($c,E0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hz,formatHex:Hz,formatHex8:Bpt,formatHsl:$pt,formatRgb:Wz,toString:Wz});function Hz(){return this.rgb().formatHex()}function Bpt(){return this.rgb().formatHex8()}function $pt(){return Mbe(this).formatHsl()}function Wz(){return this.rgb().formatRgb()}function E0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ppt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zz(t):n===3?new kr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ipt.exec(e))?new kr(t[1],t[2],t[3],1):(t=Opt.exec(e))?new kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lpt.exec(e))?vy(t[1],t[2],t[3],t[4]):(t=Dpt.exec(e))?vy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fpt.exec(e))?qz(t[1],t[2]/100,t[3]/100,1):(t=Upt.exec(e))?qz(t[1],t[2]/100,t[3]/100,t[4]):$z.hasOwnProperty(e)?zz($z[e]):e==="transparent"?new kr(NaN,NaN,NaN,0):null}function zz(e){return new kr(e>>16&255,e>>8&255,e&255,1)}function vy(e,t,n,r){return r<=0&&(e=t=n=NaN),new kr(e,t,n,r)}function lP(e){return e instanceof $c||(e=E0(e)),e?(e=e.rgb(),new kr(e.r,e.g,e.b,e.opacity)):new kr}function l7(e,t,n,r){return arguments.length===1?lP(e):new kr(e,t,n,r??1)}function kr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}bm(kr,l7,R1($c,{brighter(e){return e=e==null?wh:Math.pow(wh,e),new kr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new kr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kr(ku(this.r),ku(this.g),ku(this.b),tb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vz,formatHex:Vz,formatHex8:Hpt,formatRgb:Gz,toString:Gz}));function Vz(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}`}function Hpt(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}${bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gz(){const e=tb(this.opacity);return`${e===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${e===1?")":`, ${e})`}`}function tb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ku(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bu(e){return e=ku(e),(e<16?"0":"")+e.toString(16)}function qz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new si(e,t,n,r)}function Mbe(e){if(e instanceof si)return new si(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=E0(e)),!e)return new si;if(e instanceof si)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,o=a-s,c=(a+s)/2;return o?(t===a?i=(n-r)/o+(n<r)*6:n===a?i=(r-t)/o+2:i=(t-n)/o+4,o/=c<.5?a+s:2-a-s,i*=60):o=c>0&&c<1?0:i,new si(i,o,c,e.opacity)}function c7(e,t,n,r){return arguments.length===1?Mbe(e):new si(e,t,n,r??1)}function si(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bm(si,c7,R1($c,{brighter(e){return e=e==null?wh:Math.pow(wh,e),new si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new kr(XS(e>=240?e-240:e+120,s,r),XS(e,s,r),XS(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new si(Kz(this.h),yy(this.s),yy(this.l),tb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tb(this.opacity);return`${e===1?"hsl(":"hsla("}${Kz(this.h)}, ${yy(this.s)*100}%, ${yy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kz(e){return e=(e||0)%360,e<0?e+360:e}function yy(e){return Math.max(0,Math.min(1,e||0))}function XS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tbe=Math.PI/180,Nbe=180/Math.PI,nb=18,Rbe=.96422,Abe=1,jbe=.82521,Pbe=4/29,Yf=6/29,Ibe=3*Yf*Yf,Wpt=Yf*Yf*Yf;function Obe(e){if(e instanceof uo)return new uo(e.l,e.a,e.b,e.opacity);if(e instanceof Xo)return Lbe(e);e instanceof kr||(e=lP(e));var t=t6(e.r),n=t6(e.g),r=t6(e.b),s=ZS((.2225045*t+.7168786*n+.0606169*r)/Abe),a,i;return t===n&&n===r?a=i=s:(a=ZS((.4360747*t+.3850649*n+.1430804*r)/Rbe),i=ZS((.0139322*t+.0971045*n+.7141733*r)/jbe)),new uo(116*s-16,500*(a-s),200*(s-i),e.opacity)}function u7(e,t,n,r){return arguments.length===1?Obe(e):new uo(e,t,n,r??1)}function uo(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}bm(uo,u7,R1($c,{brighter(e){return new uo(this.l+nb*(e??1),this.a,this.b,this.opacity)},darker(e){return new uo(this.l-nb*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Rbe*JS(t),e=Abe*JS(e),n=jbe*JS(n),new kr(e6(3.1338561*t-1.6168667*e-.4906146*n),e6(-.9787684*t+1.9161415*e+.033454*n),e6(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function ZS(e){return e>Wpt?Math.pow(e,1/3):e/Ibe+Pbe}function JS(e){return e>Yf?e*e*e:Ibe*(e-Pbe)}function e6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function t6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zpt(e){if(e instanceof Xo)return new Xo(e.h,e.c,e.l,e.opacity);if(e instanceof uo||(e=Obe(e)),e.a===0&&e.b===0)return new Xo(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Nbe;return new Xo(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function d7(e,t,n,r){return arguments.length===1?zpt(e):new Xo(e,t,n,r??1)}function Xo(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Lbe(e){if(isNaN(e.h))return new uo(e.l,0,0,e.opacity);var t=e.h*Tbe;return new uo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}bm(Xo,d7,R1($c,{brighter(e){return new Xo(this.h,this.c,this.l+nb*(e??1),this.opacity)},darker(e){return new Xo(this.h,this.c,this.l-nb*(e??1),this.opacity)},rgb(){return Lbe(this).rgb()}}));var Dbe=-.14861,cP=1.78277,uP=-.29227,t_=-.90649,k0=1.97294,Yz=k0*t_,Qz=k0*cP,Xz=cP*uP-t_*Dbe;function Vpt(e){if(e instanceof Mu)return new Mu(e.h,e.s,e.l,e.opacity);e instanceof kr||(e=lP(e));var t=e.r/255,n=e.g/255,r=e.b/255,s=(Xz*r+Yz*t-Qz*n)/(Xz+Yz-Qz),a=r-s,i=(k0*(n-s)-uP*a)/t_,o=Math.sqrt(i*i+a*a)/(k0*s*(1-s)),c=o?Math.atan2(i,a)*Nbe-120:NaN;return new Mu(c<0?c+360:c,o,s,e.opacity)}function f7(e,t,n,r){return arguments.length===1?Vpt(e):new Mu(e,t,n,r??1)}function Mu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bm(Mu,f7,R1($c,{brighter(e){return e=e==null?wh:Math.pow(wh,e),new Mu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new Mu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Tbe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),s=Math.sin(e);return new kr(255*(t+n*(Dbe*r+cP*s)),255*(t+n*(uP*r+t_*s)),255*(t+n*(k0*r)),this.opacity)}}));const n_=e=>()=>e;function Fbe(e,t){return function(n){return e+n*t}}function Gpt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dP(e,t){var n=t-e;return n?Fbe(e,n>180||n<-180?n-360*Math.round(n/360):n):n_(isNaN(e)?t:e)}function qpt(e){return(e=+e)==1?Mr:function(t,n){return n-t?Gpt(t,n,e):n_(isNaN(t)?n:t)}}function Mr(e,t){var n=t-e;return n?Fbe(e,n):n_(isNaN(e)?t:e)}const h7=function e(t){var n=qpt(t);function r(s,a){var i=n((s=l7(s)).r,(a=l7(a)).r),o=n(s.g,a.g),c=n(s.b,a.b),u=Mr(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=o(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function Kpt(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function Ypt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qpt(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)s[i]=fP(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(o){for(i=0;i<r;++i)a[i]=s[i](o);return a}}function Xpt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zpt(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=fP(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var m7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n6=new RegExp(m7.source,"g");function Jpt(e){return function(){return e}}function egt(e){return function(t){return e(t)+""}}function tgt(e,t){var n=m7.lastIndex=n6.lastIndex=0,r,s,a,i=-1,o=[],c=[];for(e=e+"",t=t+"";(r=m7.exec(e))&&(s=n6.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(s=s[0])?o[i]?o[i]+=s:o[++i]=s:(o[++i]=null,c.push({i,x:rb(r,s)})),n=n6.lastIndex;return n<t.length&&(a=t.slice(n),o[i]?o[i]+=a:o[++i]=a),o.length<2?c[0]?egt(c[0].x):Jpt(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function fP(e,t){var n=typeof t,r;return t==null||n==="boolean"?n_(t):(n==="number"?rb:n==="string"?(r=E0(t))?(t=r,h7):tgt:t instanceof E0?h7:t instanceof Date?Xpt:Ypt(t)?Kpt:Array.isArray(t)?Qpt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zpt:rb)(e,t)}function Ube(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Bbe(e){return function(t,n){var r=e((t=c7(t)).h,(n=c7(n)).h),s=Mr(t.s,n.s),a=Mr(t.l,n.l),i=Mr(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=s(o),t.l=a(o),t.opacity=i(o),t+""}}}const ngt=Bbe(dP);var rgt=Bbe(Mr);function sgt(e,t){var n=Mr((e=u7(e)).l,(t=u7(t)).l),r=Mr(e.a,t.a),s=Mr(e.b,t.b),a=Mr(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=a(i),e+""}}function $be(e){return function(t,n){var r=e((t=d7(t)).h,(n=d7(n)).h),s=Mr(t.c,n.c),a=Mr(t.l,n.l),i=Mr(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=s(o),t.l=a(o),t.opacity=i(o),t+""}}}const agt=$be(dP);var igt=$be(Mr);function Hbe(e){return function t(n){n=+n;function r(s,a){var i=e((s=f7(s)).h,(a=f7(a)).h),o=Mr(s.s,a.s),c=Mr(s.l,a.l),u=Mr(s.opacity,a.opacity);return function(d){return s.h=i(d),s.s=o(d),s.l=c(Math.pow(d,n)),s.opacity=u(d),s+""}}return r.gamma=t,r}(1)}const ogt=Hbe(dP);var lgt=Hbe(Mr);function cgt(e){return function(){return e}}function Wbe(e){return+e}var Zz=[0,1];function Xi(e){return e}function p7(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cgt(isNaN(t)?NaN:.5)}function ugt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dgt(e,t,n){var r=e[0],s=e[1],a=t[0],i=t[1];return s<r?(r=p7(s,r),a=n(i,a)):(r=p7(r,s),a=n(a,i)),function(o){return a(r(o))}}function fgt(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=p7(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(o){var c=xm(e,o,1,r)-1;return a[c](s[c](o))}}function A1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function r_(){var e=Zz,t=Zz,n=fP,r,s,a,i=Xi,o,c,u;function d(){var m=Math.min(e.length,t.length);return i!==Xi&&(i=ugt(e[0],e[m-1])),o=m>2?fgt:dgt,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=o(e.map(r),t,n)))(r(i(m)))}return h.invert=function(m){return i(s((u||(u=o(t,e.map(r),rb)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Wbe),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),n=Ube,d()},h.clamp=function(m){return arguments.length?(i=m?!0:Xi,d()):i!==Xi},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,p){return r=m,s=p,d()}}function hP(){return r_()(Xi,Xi)}function hgt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _h(e){return e=sb(Math.abs(e)),e?e[1]:NaN}function mgt(e,t){return function(n,r){for(var s=n.length,a=[],i=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(n.substring(s-=o,s+o)),!((c+=o+1)>r));)o=e[i=(i+1)%e.length];return a.reverse().join(t)}}function pgt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ggt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M0(e){if(!(t=ggt.exec(e)))throw new Error("invalid format: "+e);var t;return new mP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}M0.prototype=mP.prototype;function mP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vgt(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var zbe;function ygt(e,t){var n=sb(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(zbe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sb(e,Math.max(0,t+a-1))[0]}function Jz(e,t){var n=sb(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const eV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hgt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jz(e*100,t),r:Jz,s:ygt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tV(e){return e}var nV=Array.prototype.map,rV=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xgt(e){var t=e.grouping===void 0||e.thousands===void 0?tV:mgt(nV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?tV:pgt(nV.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=M0(h);var m=h.fill,p=h.align,g=h.sign,v=h.symbol,y=h.zero,x=h.width,b=h.comma,w=h.precision,_=h.trim,C=h.type;C==="n"?(b=!0,C="g"):eV[C]||(w===void 0&&(w=12),_=!0,C="g"),(y||m==="0"&&p==="=")&&(y=!0,m="0",p="=");var S=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=v==="$"?r:/[%p]/.test(C)?i:"",E=eV[C],M=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(R){var A=S,P=k,O,I,L;if(C==="c")P=E(R)+P,R="";else{R=+R;var F=R<0||1/R<0;if(R=isNaN(R)?c:E(Math.abs(R),w),_&&(R=vgt(R)),F&&+R==0&&g!=="+"&&(F=!1),A=(F?g==="("?g:o:g==="-"||g==="("?"":g)+A,P=(C==="s"?rV[8+zbe/3]:"")+P+(F&&g==="("?")":""),M){for(O=-1,I=R.length;++O<I;)if(L=R.charCodeAt(O),48>L||L>57){P=(L===46?s+R.slice(O+1):R.slice(O))+P,R=R.slice(0,O);break}}}b&&!y&&(R=t(R,1/0));var D=A.length+R.length+P.length,B=D<x?new Array(x-D+1).join(m):"";switch(b&&y&&(R=t(B+R,B.length?x-P.length:1/0),B=""),p){case"<":R=A+R+P+B;break;case"=":R=A+B+R+P;break;case"^":R=B.slice(0,D=B.length>>1)+A+R+P+B.slice(D);break;default:R=B+A+R+P;break}return a(R)}return N.toString=function(){return h+""},N}function d(h,m){var p=u((h=M0(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(_h(m)/3)))*3,v=Math.pow(10,-g),y=rV[8+g/3];return function(x){return p(v*x)+y}}return{format:u,formatPrefix:d}}var xy,pP,Vbe;bgt({thousands:",",grouping:[3],currency:["$",""]});function bgt(e){return xy=xgt(e),pP=xy.format,Vbe=xy.formatPrefix,xy}function wgt(e){return Math.max(0,-_h(Math.abs(e)))}function _gt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_h(t)/3)))*3-_h(Math.abs(e)))}function Cgt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_h(t)-_h(e))+1}function Sgt(e,t,n,r){var s=o7(e,t,n),a;switch(r=M0(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=_gt(s,i))&&(r.precision=a),Vbe(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Cgt(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wgt(s))&&(r.precision=a-(r.type==="%")*2);break}}return pP(r)}function j1(e){var t=e.domain;return e.ticks=function(n){var r=t();return i7(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return Sgt(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,i=r[s],o=r[a],c,u,d=10;for(o<i&&(u=i,i=o,o=u,u=s,s=a,a=u);d-- >0;){if(u=Ebe(i,o,n),u===c)return r[s]=i,r[a]=o,t(r);if(u>0)i=Math.floor(i/u)*u,o=Math.ceil(o/u)*u;else if(u<0)i=Math.ceil(i*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Gbe(){var e=hP();return e.copy=function(){return A1(e,Gbe())},Ua.apply(e,arguments),j1(e)}function qbe(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],i;return a<s&&(i=n,n=r,r=i,i=s,s=a,a=i),e[n]=t.floor(s),e[r]=t.ceil(a),e}function sV(e){return Math.log(e)}function aV(e){return Math.exp(e)}function Egt(e){return-Math.log(-e)}function kgt(e){return-Math.exp(-e)}function Mgt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Tgt(e){return e===10?Mgt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ngt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iV(e){return(t,n)=>-e(-t,n)}function Rgt(e){const t=e(sV,aV),n=t.domain;let r=10,s,a;function i(){return s=Ngt(r),a=Tgt(r),n()[0]<0?(s=iV(s),a=iV(a),e(Egt,kgt)):e(sV,aV),t}return t.base=function(o){return arguments.length?(r=+o,i()):r},t.domain=function(o){return arguments.length?(n(o),i()):n()},t.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=s(u),p=s(d),g,v;const y=o==null?10:+o;let x=[];if(!(r%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(g=1;g<r;++g)if(v=m<0?g/a(-m):g*a(m),!(v<u)){if(v>d)break;x.push(v)}}else for(;m<=p;++m)for(g=r-1;g>=1;--g)if(v=m>0?g/a(-m):g*a(m),!(v<u)){if(v>d)break;x.push(v)}x.length*2<y&&(x=i7(u,d,y))}else x=i7(m,p,Math.min(p-m,y)).map(a);return h?x.reverse():x},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=M0(c)).precision==null&&(c.trim=!0),c=pP(c)),o===1/0)return c;const u=Math.max(1,r*o/t.ticks().length);return d=>{let h=d/a(Math.round(s(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(qbe(n(),{floor:o=>a(Math.floor(s(o))),ceil:o=>a(Math.ceil(s(o)))})),t}function Kbe(){const e=Rgt(r_()).domain([1,10]);return e.copy=()=>A1(e,Kbe()).base(e.base()),Ua.apply(e,arguments),e}function oV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Agt(e){var t=1,n=e(oV(t),lV(t));return n.constant=function(r){return arguments.length?e(oV(t=+r),lV(t)):t},j1(n)}function Ybe(){var e=Agt(r_());return e.copy=function(){return A1(e,Ybe()).constant(e.constant())},Ua.apply(e,arguments)}function cV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jgt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pgt(e){return e<0?-e*e:e*e}function Igt(e){var t=e(Xi,Xi),n=1;function r(){return n===1?e(Xi,Xi):n===.5?e(jgt,Pgt):e(cV(n),cV(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},j1(t)}function gP(){var e=Igt(r_());return e.copy=function(){return A1(e,gP()).exponent(e.exponent())},Ua.apply(e,arguments),e}function Ogt(){return gP.apply(null,arguments).exponent(.5)}function uV(e){return Math.sign(e)*e*e}function Lgt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Qbe(){var e=hP(),t=[0,1],n=!1,r;function s(a){var i=Lgt(e(a));return isNaN(i)?r:n?Math.round(i):i}return s.invert=function(a){return e.invert(uV(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Wbe)).map(uV)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Qbe(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ua.apply(s,arguments),j1(s)}function Xbe(){var e=[],t=[],n=[],r;function s(){var i=0,o=Math.max(1,t.length);for(n=new Array(o-1);++i<o;)n[i-1]=Rpt(e,i/o);return a}function a(i){return i==null||isNaN(i=+i)?r:t[xm(n,i)]}return a.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(cg),s()},a.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Xbe().domain(e).range(t).unknown(r)},Ua.apply(a,arguments)}function Zbe(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[xm(r,c,0,n)]:a}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},i.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,o()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return r.slice()},i.copy=function(){return Zbe().domain([e,t]).range(s).unknown(a)},Ua.apply(j1(i),arguments)}function Jbe(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[xm(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Jbe().domain(e).range(t).unknown(n)},Ua.apply(s,arguments)}const r6=new Date,s6=new Date;function mr(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const i=s(a),o=s.ceil(a);return a-i<o-a?i:o},s.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,o)=>{const c=[];if(a=s.ceil(a),o=o==null?1:Math.floor(o),!(a<i)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<i);return c},s.filter=a=>mr(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!a(i););else for(;--o>=0;)for(;t(i,1),!a(i););}),n&&(s.count=(a,i)=>(r6.setTime(+a),s6.setTime(+i),e(r6),e(s6),Math.floor(n(r6,s6))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?i=>r(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const ab=mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ab.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ab);ab.range;const Zo=1e3,ka=Zo*60,Jo=ka*60,ul=Jo*24,vP=ul*7,dV=ul*30,a6=ul*365,el=mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zo)},(e,t)=>(t-e)/Zo,e=>e.getUTCSeconds());el.range;const s_=mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zo)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getMinutes());s_.range;const a_=mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCMinutes());a_.range;const i_=mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zo-e.getMinutes()*ka)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getHours());i_.range;const o_=mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getUTCHours());o_.range;const wm=mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ka)/ul,e=>e.getDate()-1);wm.range;const P1=mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>e.getUTCDate()-1);P1.range;const ewe=mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>Math.floor(e/ul));ewe.range;function Md(e){return mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ka)/vP)}const I1=Md(0),ib=Md(1),Dgt=Md(2),Fgt=Md(3),Ch=Md(4),Ugt=Md(5),Bgt=Md(6);I1.range;ib.range;Dgt.range;Fgt.range;Ch.range;Ugt.range;Bgt.range;function Td(e){return mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vP)}const O1=Td(0),ob=Td(1),$gt=Td(2),Hgt=Td(3),Sh=Td(4),Wgt=Td(5),zgt=Td(6);O1.range;ob.range;$gt.range;Hgt.range;Sh.range;Wgt.range;zgt.range;const L1=mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());L1.range;const l_=mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());l_.range;const gi=mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gi.range;const wo=mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});wo.range;function twe(e,t,n,r,s,a){const i=[[el,1,Zo],[el,5,5*Zo],[el,15,15*Zo],[el,30,30*Zo],[a,1,ka],[a,5,5*ka],[a,15,15*ka],[a,30,30*ka],[s,1,Jo],[s,3,3*Jo],[s,6,6*Jo],[s,12,12*Jo],[r,1,ul],[r,2,2*ul],[n,1,vP],[t,1,dV],[t,3,3*dV],[e,1,a6]];function o(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),g=p?p.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,h){const m=Math.abs(d-u)/h,p=aP(([,,y])=>y).right(i,m);if(p===i.length)return e.every(o7(u/a6,d/a6,h));if(p===0)return ab.every(Math.max(o7(u,d,h),1));const[g,v]=i[m/i[p-1][2]<i[p][2]/m?p-1:p];return g.every(v)}return[o,c]}const[Vgt,Ggt]=twe(wo,l_,O1,ewe,o_,a_),[qgt,Kgt]=twe(gi,L1,I1,wm,i_,s_);function i6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function o6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ap(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ygt(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,i=e.shortDays,o=e.months,c=e.shortMonths,u=ip(s),d=op(s),h=ip(a),m=op(a),p=ip(i),g=op(i),v=ip(o),y=op(o),x=ip(c),b=op(c),w={a:F,A:D,b:B,B:$,c:null,d:vV,e:vV,f:y0t,g:T0t,G:R0t,H:p0t,I:g0t,j:v0t,L:nwe,m:x0t,M:b0t,p:W,q:X,Q:bV,s:wV,S:w0t,u:_0t,U:C0t,V:S0t,w:E0t,W:k0t,x:null,X:null,y:M0t,Y:N0t,Z:A0t,"%":xV},_={a:ee,A:ne,b:V,B:q,c:null,d:yV,e:yV,f:O0t,g:V0t,G:q0t,H:j0t,I:P0t,j:I0t,L:swe,m:L0t,M:D0t,p:z,q:te,Q:bV,s:wV,S:F0t,u:U0t,U:B0t,V:$0t,w:H0t,W:W0t,x:null,X:null,y:z0t,Y:G0t,Z:K0t,"%":xV},C={a:N,A:R,b:A,B:P,c:O,d:pV,e:pV,f:d0t,g:mV,G:hV,H:gV,I:gV,j:o0t,L:u0t,m:i0t,M:l0t,p:M,q:a0t,Q:h0t,s:m0t,S:c0t,u:e0t,U:t0t,V:n0t,w:Jgt,W:r0t,x:I,X:L,y:mV,Y:hV,Z:s0t,"%":f0t};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(Y,Z){return function(re){var G=[],oe=-1,ae=0,ie=Y.length,xe,de,Se;for(re instanceof Date||(re=new Date(+re));++oe<ie;)Y.charCodeAt(oe)===37&&(G.push(Y.slice(ae,oe)),(de=fV[xe=Y.charAt(++oe)])!=null?xe=Y.charAt(++oe):de=xe==="e"?" ":"0",(Se=Z[xe])&&(xe=Se(re,de)),G.push(xe),ae=oe+1);return G.push(Y.slice(ae,oe)),G.join("")}}function k(Y,Z){return function(re){var G=ap(1900,void 0,1),oe=E(G,Y,re+="",0),ae,ie;if(oe!=re.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(Z&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ae=o6(ap(G.y,0,1)),ie=ae.getUTCDay(),ae=ie>4||ie===0?ob.ceil(ae):ob(ae),ae=P1.offset(ae,(G.V-1)*7),G.y=ae.getUTCFullYear(),G.m=ae.getUTCMonth(),G.d=ae.getUTCDate()+(G.w+6)%7):(ae=i6(ap(G.y,0,1)),ie=ae.getDay(),ae=ie>4||ie===0?ib.ceil(ae):ib(ae),ae=wm.offset(ae,(G.V-1)*7),G.y=ae.getFullYear(),G.m=ae.getMonth(),G.d=ae.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),ie="Z"in G?o6(ap(G.y,0,1)).getUTCDay():i6(ap(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(ie+5)%7:G.w+G.U*7-(ie+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,o6(G)):i6(G)}}function E(Y,Z,re,G){for(var oe=0,ae=Z.length,ie=re.length,xe,de;oe<ae;){if(G>=ie)return-1;if(xe=Z.charCodeAt(oe++),xe===37){if(xe=Z.charAt(oe++),de=C[xe in fV?Z.charAt(oe++):xe],!de||(G=de(Y,re,G))<0)return-1}else if(xe!=re.charCodeAt(G++))return-1}return G}function M(Y,Z,re){var G=u.exec(Z.slice(re));return G?(Y.p=d.get(G[0].toLowerCase()),re+G[0].length):-1}function N(Y,Z,re){var G=p.exec(Z.slice(re));return G?(Y.w=g.get(G[0].toLowerCase()),re+G[0].length):-1}function R(Y,Z,re){var G=h.exec(Z.slice(re));return G?(Y.w=m.get(G[0].toLowerCase()),re+G[0].length):-1}function A(Y,Z,re){var G=x.exec(Z.slice(re));return G?(Y.m=b.get(G[0].toLowerCase()),re+G[0].length):-1}function P(Y,Z,re){var G=v.exec(Z.slice(re));return G?(Y.m=y.get(G[0].toLowerCase()),re+G[0].length):-1}function O(Y,Z,re){return E(Y,t,Z,re)}function I(Y,Z,re){return E(Y,n,Z,re)}function L(Y,Z,re){return E(Y,r,Z,re)}function F(Y){return i[Y.getDay()]}function D(Y){return a[Y.getDay()]}function B(Y){return c[Y.getMonth()]}function $(Y){return o[Y.getMonth()]}function W(Y){return s[+(Y.getHours()>=12)]}function X(Y){return 1+~~(Y.getMonth()/3)}function ee(Y){return i[Y.getUTCDay()]}function ne(Y){return a[Y.getUTCDay()]}function V(Y){return c[Y.getUTCMonth()]}function q(Y){return o[Y.getUTCMonth()]}function z(Y){return s[+(Y.getUTCHours()>=12)]}function te(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var Z=S(Y+="",w);return Z.toString=function(){return Y},Z},parse:function(Y){var Z=k(Y+="",!1);return Z.toString=function(){return Y},Z},utcFormat:function(Y){var Z=S(Y+="",_);return Z.toString=function(){return Y},Z},utcParse:function(Y){var Z=k(Y+="",!0);return Z.toString=function(){return Y},Z}}}var fV={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,Qgt=/^%/,Xgt=/[\\^$*+?|[\]().{}]/g;function Qt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function Zgt(e){return e.replace(Xgt,"\\$&")}function ip(e){return new RegExp("^(?:"+e.map(Zgt).join("|")+")","i")}function op(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Jgt(e,t,n){var r=jr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function e0t(e,t,n){var r=jr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function t0t(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function n0t(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function r0t(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hV(e,t,n){var r=jr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mV(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function s0t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function a0t(e,t,n){var r=jr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function i0t(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pV(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function o0t(e,t,n){var r=jr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gV(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function l0t(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function c0t(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function u0t(e,t,n){var r=jr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function d0t(e,t,n){var r=jr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function f0t(e,t,n){var r=Qgt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function h0t(e,t,n){var r=jr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function m0t(e,t,n){var r=jr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vV(e,t){return Qt(e.getDate(),t,2)}function p0t(e,t){return Qt(e.getHours(),t,2)}function g0t(e,t){return Qt(e.getHours()%12||12,t,2)}function v0t(e,t){return Qt(1+wm.count(gi(e),e),t,3)}function nwe(e,t){return Qt(e.getMilliseconds(),t,3)}function y0t(e,t){return nwe(e,t)+"000"}function x0t(e,t){return Qt(e.getMonth()+1,t,2)}function b0t(e,t){return Qt(e.getMinutes(),t,2)}function w0t(e,t){return Qt(e.getSeconds(),t,2)}function _0t(e){var t=e.getDay();return t===0?7:t}function C0t(e,t){return Qt(I1.count(gi(e)-1,e),t,2)}function rwe(e){var t=e.getDay();return t>=4||t===0?Ch(e):Ch.ceil(e)}function S0t(e,t){return e=rwe(e),Qt(Ch.count(gi(e),e)+(gi(e).getDay()===4),t,2)}function E0t(e){return e.getDay()}function k0t(e,t){return Qt(ib.count(gi(e)-1,e),t,2)}function M0t(e,t){return Qt(e.getFullYear()%100,t,2)}function T0t(e,t){return e=rwe(e),Qt(e.getFullYear()%100,t,2)}function N0t(e,t){return Qt(e.getFullYear()%1e4,t,4)}function R0t(e,t){var n=e.getDay();return e=n>=4||n===0?Ch(e):Ch.ceil(e),Qt(e.getFullYear()%1e4,t,4)}function A0t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qt(t/60|0,"0",2)+Qt(t%60,"0",2)}function yV(e,t){return Qt(e.getUTCDate(),t,2)}function j0t(e,t){return Qt(e.getUTCHours(),t,2)}function P0t(e,t){return Qt(e.getUTCHours()%12||12,t,2)}function I0t(e,t){return Qt(1+P1.count(wo(e),e),t,3)}function swe(e,t){return Qt(e.getUTCMilliseconds(),t,3)}function O0t(e,t){return swe(e,t)+"000"}function L0t(e,t){return Qt(e.getUTCMonth()+1,t,2)}function D0t(e,t){return Qt(e.getUTCMinutes(),t,2)}function F0t(e,t){return Qt(e.getUTCSeconds(),t,2)}function U0t(e){var t=e.getUTCDay();return t===0?7:t}function B0t(e,t){return Qt(O1.count(wo(e)-1,e),t,2)}function awe(e){var t=e.getUTCDay();return t>=4||t===0?Sh(e):Sh.ceil(e)}function $0t(e,t){return e=awe(e),Qt(Sh.count(wo(e),e)+(wo(e).getUTCDay()===4),t,2)}function H0t(e){return e.getUTCDay()}function W0t(e,t){return Qt(ob.count(wo(e)-1,e),t,2)}function z0t(e,t){return Qt(e.getUTCFullYear()%100,t,2)}function V0t(e,t){return e=awe(e),Qt(e.getUTCFullYear()%100,t,2)}function G0t(e,t){return Qt(e.getUTCFullYear()%1e4,t,4)}function q0t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Sh(e):Sh.ceil(e),Qt(e.getUTCFullYear()%1e4,t,4)}function K0t(){return"+0000"}function xV(){return"%"}function bV(e){return+e}function wV(e){return Math.floor(+e/1e3)}var Kd,D1,iwe;Y0t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Y0t(e){return Kd=Ygt(e),D1=Kd.format,Kd.parse,iwe=Kd.utcFormat,Kd.utcParse,Kd}function Q0t(e){return new Date(e)}function X0t(e){return e instanceof Date?+e:+new Date(+e)}function yP(e,t,n,r,s,a,i,o,c,u){var d=hP(),h=d.invert,m=d.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function C(S){return(c(S)<S?p:o(S)<S?g:i(S)<S?v:a(S)<S?y:r(S)<S?s(S)<S?x:b:n(S)<S?w:_)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?m(Array.from(S,X0t)):m().map(Q0t)},d.ticks=function(S){var k=m();return e(k[0],k[k.length-1],S??10)},d.tickFormat=function(S,k){return k==null?C:u(k)},d.nice=function(S){var k=m();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?m(qbe(k,S)):d},d.copy=function(){return A1(d,yP(e,t,n,r,s,a,i,o,c,u))},d}function Z0t(){return Ua.apply(yP(qgt,Kgt,gi,L1,I1,wm,i_,s_,el,D1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J0t(){return Ua.apply(yP(Vgt,Ggt,wo,l_,O1,P1,o_,a_,el,iwe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e1t(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function t1t(e,t){t.range&&("padding"in e,e.range(t.range))}function n1t(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function r1t(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function s1t(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function a1t(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function i1t(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var _V={lab:sgt,hcl:agt,"hcl-long":igt,hsl:ngt,"hsl-long":rgt,cubehelix:ogt,"cubehelix-long":lgt,rgb:h7};function o1t(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return _V[e]}var t=e.type,n=e.gamma,r=_V[t];return typeof n>"u"?r:r.gamma(n)}function l1t(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var n=o1t(t.interpolate);e.interpolate(n)}}var c1t=new Date(Date.UTC(2020,1,2,3,4,5)),u1t="%Y-%m-%d %H:%M";function owe(e){var t=e.tickFormat(1,u1t)(c1t);return t==="2020-02-02 03:04"}var CV={day:wm,hour:i_,minute:s_,month:L1,second:el,week:I1,year:gi},SV={day:P1,hour:o_,minute:a_,month:l_,second:el,week:O1,year:wo};function d1t(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var n=t.nice;if(typeof n=="boolean")n&&e.nice();else if(typeof n=="number")e.nice(n);else{var r=e,s=owe(r);if(typeof n=="string")r.nice(s?SV[n]:CV[n]);else{var a=n.interval,i=n.step,o=(s?SV[a]:CV[a]).every(i);o!=null&&r.nice(o)}}}}function f1t(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function h1t(e,t){if(t.reverse){var n=e.range().slice().reverse();"padding"in e,e.range(n)}}function m1t(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(Ube))}function p1t(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function g1t(e,t){if("zero"in t&&t.zero===!0){var n=e.domain(),r=n[0],s=n[1],a=s<r,i=a?[s,r]:[r,s],o=i[0],c=i[1],u=[Math.min(0,o),Math.max(0,c)];e.domain(a?u.reverse():u)}}var lwe=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],v1t={domain:e1t,nice:d1t,zero:g1t,interpolate:l1t,round:m1t,align:n1t,base:r1t,clamp:s1t,constant:a1t,exponent:i1t,padding:f1t,range:t1t,reverse:h1t,unknown:p1t};function js(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),s=lwe.filter(function(a){return r.has(a)});return function(i,o){return typeof o<"u"&&s.forEach(function(c){v1t[c](i,o)}),i}}var y1t=js("domain","range","reverse","align","padding","round");function xP(e){return y1t(oP(),e)}var x1t=js("domain","range","reverse","align","padding","round");function bP(e){return x1t(jpt(),e)}var b1t=js("domain","range","reverse","clamp","interpolate","nice","round","zero");function Eh(e){return b1t(Gbe(),e)}var w1t=js("domain","range","clamp","nice","round","unknown");function _1t(e){return w1t(Qbe(),e)}var C1t=js("domain","range","reverse","clamp","interpolate","nice","round");function F1(e){return C1t(Z0t(),e)}var S1t=js("domain","range","reverse","clamp","interpolate","nice","round");function cwe(e){return S1t(J0t(),e)}var E1t=js("domain","range","reverse","base","clamp","interpolate","nice","round");function wP(e){return E1t(Kbe(),e)}var k1t=js("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function uwe(e){return k1t(gP(),e)}var M1t=js("domain","range","reverse","unknown");function _P(e){return M1t(iP(),e)}var T1t=js("domain","range","reverse","nice","zero");function dwe(e){return T1t(Zbe(),e)}var N1t=js("domain","range","reverse");function fwe(e){return N1t(Xbe(),e)}var R1t=js("domain","range","reverse","clamp","constant","nice","zero","round");function hwe(e){return R1t(Ybe(),e)}var A1t=js("domain","range","reverse");function mwe(e){return A1t(Jbe(),e)}var j1t=js("domain","range","reverse","clamp","interpolate","nice","round","zero");function pwe(e){return j1t(Ogt(),e)}function P1t(e){if(typeof e<"u"&&"type"in e)switch(e.type){case"linear":return Eh(e);case"log":return wP(e);case"pow":return uwe(e);case"sqrt":return pwe(e);case"symlog":return hwe(e);case"time":return F1(e);case"utc":return cwe(e);case"quantile":return fwe(e);case"quantize":return dwe(e);case"threshold":return mwe(e);case"ordinal":return _P(e);case"point":return bP(e);case"band":return xP(e)}return Eh(e)}var I1t=js.apply(void 0,lwe);function O1t(e,t){return I1t(e.copy(),t)}function L1t(e){return"paddingInner"in e?"band":"padding"in e?"point":"quantiles"in e?"quantile":"base"in e?"log":"exponent"in e?e.exponent()===.5?"sqrt":"pow":"constant"in e?"symlog":"clamp"in e?e.ticks()[0]instanceof Date?owe(e)?"utc":"time":"linear":"nice"in e?"quantize":"invertExtent"in e?"threshold":"ordinal"}function c_(e){if((typeof e=="function"||typeof e=="object"&&e)&&"valueOf"in e){var t=e.valueOf();if(typeof t=="number")return t}return e}function CP(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter(function(r,s,a){return t==null||a.length<=t||s%Math.round((a.length-1)/t)===0})}function gwe(e){return e?.toString()}var D1t=new Set(["linear","pow","quantize","sqrt","symlog"]);function F1t(e){return D1t.has(e.type)}const U1t=Object.freeze(Object.defineProperty({__proto__:null,coerceNumber:c_,createScale:P1t,getTicks:CP,inferScaleType:L1t,scaleBand:xP,scaleCanBeZeroed:F1t,scaleLinear:Eh,scaleLog:wP,scaleOrdinal:_P,scalePoint:bP,scalePower:uwe,scaleQuantile:fwe,scaleQuantize:dwe,scaleRadial:_1t,scaleSqrt:pwe,scaleSymlog:hwe,scaleThreshold:mwe,scaleTime:F1,scaleUtc:cwe,toString:gwe,updateScale:O1t},Symbol.toStringTag,{value:"Module"}));function by(e,t,n,r,s){var a;switch(e){case"center":return s;case"min":return n??0;case"max":return r??0;case"outside":default:return(a=(t??0)<s?n:r)!=null?a:0}}function EV(e){var t=e.from,n=e.to;return{fromX:t.x,toX:n.x,fromY:t.y,toY:n.y,opacity:1}}function vwe(e){var t=e.scale,n=e.animateXOrY,r=e.animationTrajectory,s=r===void 0?"outside":r,a=n==="x";return f.useMemo(function(){var i=t.range().map(c_),o=i[0],c=i[1],u=c!=null&&o!=null&&c<o,d=u?[c,o]:[o,c],h=d[0],m=d[1],p=c!=null&&o!=null?Math.abs(c-o):0,g=(h??0)+p/2,v=s;!a&&s==="min"&&(v="max"),!a&&s==="max"&&(v="min");var y=function(b){var w=b.from,_=b.to;return{fromX:a?by(v,w.x,h,m,g):w.x,toX:a?by(v,w.x,h,m,g):_.x,fromY:a?w.y:by(v,w.y,h,m,g),toY:a?_.y:by(v,w.y,h,m,g),opacity:0}};return{from:y,leave:y,enter:EV,update:EV}},[t,a,s])}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug.apply(null,arguments)}function B1t(e){var t=e.hideTicks,n=e.horizontal,r=e.orientation,s=e.scale,a=e.tickClassName,i=e.tickComponent,o=e.tickLabelProps,c=e.tickStroke,u=c===void 0?"#222":c,d=e.tickTransform,h=e.ticks,m=e.tickLineProps,p=e.animationTrajectory,g=vbe(h,ug({},vwe({scale:s,animateXOrY:n?"x":"y",animationTrajectory:p}),{keys:function(y){return"tick-"+y.value+"-"+y.index}}));return T.createElement(T.Fragment,null,g(function(v,y,x,b){var w,_,C=v.fromX,S=v.toX,k=v.fromY,E=v.toY,M=v.opacity,N=x.key,R=(w=(_=o[b])!=null?_:o[0])!=null?w:{};return y==null||N==null?null:T.createElement(R2.g,{key:N,className:U("visx-axis-tick",a),transform:d},!t&&T.createElement(R2.line,ug({x1:C,x2:S,y1:k,y2:E,stroke:u,strokeLinecap:"square",strokeOpacity:M},m)),T.createElement(R2.g,{key:b,transform:hmt([S,E],function(A,P){var O;return"translate("+A+","+(P+(r===kmt.bottom&&typeof R.fontSize=="number"?(O=R.fontSize)!=null?O:10:0))+")"}),opacity:M},i?i(ug({},R,{x:S,y:E,formattedValue:y?.formattedValue})):T.createElement(e_,R,y?.formattedValue)))}))}var wy={},$1t=["top","left","transform","className","children","innerRef"];function g7(){return g7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g7.apply(this,arguments)}function H1t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Gs(e){var t=e.top,n=t===void 0?0:t,r=e.left,s=r===void 0?0:r,a=e.transform,i=e.className,o=e.children,c=e.innerRef,u=H1t(e,$1t);return T.createElement("g",g7({ref:c,className:U("visx-group",i),transform:a||"translate("+s+", "+n+")"},u),o)}Gs.propTypes={top:me.number,left:me.number,transform:me.string,className:me.string,children:me.node,innerRef:me.oneOfType([me.string,me.func,me.object])};const W1t=Object.freeze(Object.defineProperty({__proto__:null,Group:Gs},Symbol.toStringTag,{value:"Module"})),SP=V0(W1t),EP=V0(U1t);var _y={},v7=Math.PI,y7=2*v7,fu=1e-6,z1t=y7-fu;function x7(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pa(){return new x7}x7.prototype=pa.prototype={constructor:x7,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,s,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+s)+","+(this._y1=+a)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var a=this._x1,i=this._y1,o=n-e,c=r-t,u=a-e,d=i-t,h=u*u+d*d;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>fu)if(!(Math.abs(d*o-c*u)>fu)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var m=n-a,p=r-i,g=o*o+c*c,v=m*m+p*p,y=Math.sqrt(g),x=Math.sqrt(h),b=s*Math.tan((v7-Math.acos((g+h-v)/(2*y*x)))/2),w=b/x,_=b/y;Math.abs(w-1)>fu&&(this._+="L"+(e+w*u)+","+(t+w*d)),this._+="A"+s+","+s+",0,0,"+ +(d*m>u*p)+","+(this._x1=e+_*o)+","+(this._y1=t+_*c)}},arc:function(e,t,n,r,s,a){e=+e,t=+t,n=+n,a=!!a;var i=n*Math.cos(r),o=n*Math.sin(r),c=e+i,u=t+o,d=1^a,h=a?r-s:s-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>fu||Math.abs(this._y1-u)>fu)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%y7+y7),h>z1t?this._+="A"+n+","+n+",0,1,"+d+","+(e-i)+","+(t-o)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=u):h>fu&&(this._+="A"+n+","+n+",0,"+ +(h>=v7)+","+d+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Vt(e){return function(){return e}}var kV=Math.abs,Qr=Math.atan2,eu=Math.cos,V1t=Math.max,l6=Math.min,Ii=Math.sin,Mf=Math.sqrt,Is=1e-12,T0=Math.PI,lb=T0/2,A2=2*T0;function G1t(e){return e>1?0:e<-1?T0:Math.acos(e)}function MV(e){return e>=1?lb:e<=-1?-lb:Math.asin(e)}function q1t(e){return e.innerRadius}function K1t(e){return e.outerRadius}function Y1t(e){return e.startAngle}function Q1t(e){return e.endAngle}function X1t(e){return e&&e.padAngle}function Z1t(e,t,n,r,s,a,i,o){var c=n-e,u=r-t,d=i-s,h=o-a,m=h*c-d*u;if(!(m*m<Is))return m=(d*(t-a)-h*(e-s))/m,[e+m*c,t+m*u]}function Cy(e,t,n,r,s,a,i){var o=e-n,c=t-r,u=(i?a:-a)/Mf(o*o+c*c),d=u*c,h=-u*o,m=e+d,p=t+h,g=n+d,v=r+h,y=(m+g)/2,x=(p+v)/2,b=g-m,w=v-p,_=b*b+w*w,C=s-a,S=m*v-g*p,k=(w<0?-1:1)*Mf(V1t(0,C*C*_-S*S)),E=(S*w-b*k)/_,M=(-S*b-w*k)/_,N=(S*w+b*k)/_,R=(-S*b+w*k)/_,A=E-y,P=M-x,O=N-y,I=R-x;return A*A+P*P>O*O+I*I&&(E=N,M=R),{cx:E,cy:M,x01:-d,y01:-h,x11:E*(s/C-1),y11:M*(s/C-1)}}function J1t(){var e=q1t,t=K1t,n=Vt(0),r=null,s=Y1t,a=Q1t,i=X1t,o=null;function c(){var u,d,h=+e.apply(this,arguments),m=+t.apply(this,arguments),p=s.apply(this,arguments)-lb,g=a.apply(this,arguments)-lb,v=kV(g-p),y=g>p;if(o||(o=u=pa()),m<h&&(d=m,m=h,h=d),!(m>Is))o.moveTo(0,0);else if(v>A2-Is)o.moveTo(m*eu(p),m*Ii(p)),o.arc(0,0,m,p,g,!y),h>Is&&(o.moveTo(h*eu(g),h*Ii(g)),o.arc(0,0,h,g,p,y));else{var x=p,b=g,w=p,_=g,C=v,S=v,k=i.apply(this,arguments)/2,E=k>Is&&(r?+r.apply(this,arguments):Mf(h*h+m*m)),M=l6(kV(m-h)/2,+n.apply(this,arguments)),N=M,R=M,A,P;if(E>Is){var O=MV(E/h*Ii(k)),I=MV(E/m*Ii(k));(C-=O*2)>Is?(O*=y?1:-1,w+=O,_-=O):(C=0,w=_=(p+g)/2),(S-=I*2)>Is?(I*=y?1:-1,x+=I,b-=I):(S=0,x=b=(p+g)/2)}var L=m*eu(x),F=m*Ii(x),D=h*eu(_),B=h*Ii(_);if(M>Is){var $=m*eu(b),W=m*Ii(b),X=h*eu(w),ee=h*Ii(w),ne;if(v<T0&&(ne=Z1t(L,F,X,ee,$,W,D,B))){var V=L-ne[0],q=F-ne[1],z=$-ne[0],te=W-ne[1],Y=1/Ii(G1t((V*z+q*te)/(Mf(V*V+q*q)*Mf(z*z+te*te)))/2),Z=Mf(ne[0]*ne[0]+ne[1]*ne[1]);N=l6(M,(h-Z)/(Y-1)),R=l6(M,(m-Z)/(Y+1))}}S>Is?R>Is?(A=Cy(X,ee,L,F,m,R,y),P=Cy($,W,D,B,m,R,y),o.moveTo(A.cx+A.x01,A.cy+A.y01),R<M?o.arc(A.cx,A.cy,R,Qr(A.y01,A.x01),Qr(P.y01,P.x01),!y):(o.arc(A.cx,A.cy,R,Qr(A.y01,A.x01),Qr(A.y11,A.x11),!y),o.arc(0,0,m,Qr(A.cy+A.y11,A.cx+A.x11),Qr(P.cy+P.y11,P.cx+P.x11),!y),o.arc(P.cx,P.cy,R,Qr(P.y11,P.x11),Qr(P.y01,P.x01),!y))):(o.moveTo(L,F),o.arc(0,0,m,x,b,!y)):o.moveTo(L,F),!(h>Is)||!(C>Is)?o.lineTo(D,B):N>Is?(A=Cy(D,B,$,W,h,-N,y),P=Cy(L,F,X,ee,h,-N,y),o.lineTo(A.cx+A.x01,A.cy+A.y01),N<M?o.arc(A.cx,A.cy,N,Qr(A.y01,A.x01),Qr(P.y01,P.x01),!y):(o.arc(A.cx,A.cy,N,Qr(A.y01,A.x01),Qr(A.y11,A.x11),!y),o.arc(0,0,h,Qr(A.cy+A.y11,A.cx+A.x11),Qr(P.cy+P.y11,P.cx+P.x11),y),o.arc(P.cx,P.cy,N,Qr(P.y11,P.x11),Qr(P.y01,P.x01),!y))):o.arc(0,0,h,_,w,y)}if(o.closePath(),u)return o=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-T0/2;return[eu(d)*u,Ii(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Vt(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Vt(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Vt(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Vt(+u),c):r},c.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Vt(+u),c):s},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Vt(+u),c):a},c.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Vt(+u),c):i},c.context=function(u){return arguments.length?(o=u??null,c):o},c}function ywe(e){this._context=e}ywe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zu(e){return new ywe(e)}function kP(e){return e[0]}function MP(e){return e[1]}function TP(){var e=kP,t=MP,n=Vt(!0),r=null,s=Zu,a=null;function i(o){var c,u=o.length,d,h=!1,m;for(r==null&&(a=s(m=pa())),c=0;c<=u;++c)!(c<u&&n(d=o[c],c,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,c,o),+t(d,c,o));if(m)return a=null,m+""||null}return i.x=function(o){return arguments.length?(e=typeof o=="function"?o:Vt(+o),i):e},i.y=function(o){return arguments.length?(t=typeof o=="function"?o:Vt(+o),i):t},i.defined=function(o){return arguments.length?(n=typeof o=="function"?o:Vt(!!o),i):n},i.curve=function(o){return arguments.length?(s=o,r!=null&&(a=s(r)),i):s},i.context=function(o){return arguments.length?(o==null?r=a=null:a=s(r=o),i):r},i}function evt(){var e=kP,t=null,n=Vt(0),r=MP,s=Vt(!0),a=null,i=Zu,o=null;function c(d){var h,m,p,g=d.length,v,y=!1,x,b=new Array(g),w=new Array(g);for(a==null&&(o=i(x=pa())),h=0;h<=g;++h){if(!(h<g&&s(v=d[h],h,d))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],w[p]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,d),w[h]=+n(v,h,d),o.point(t?+t(v,h,d):b[h],r?+r(v,h,d):w[h]))}if(x)return o=null,x+""||null}function u(){return TP().defined(s).curve(i).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Vt(+d),t=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Vt(+d),c):e},c.x1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:Vt(+d),c):t},c.y=function(d){return arguments.length?(n=typeof d=="function"?d:Vt(+d),r=null,c):n},c.y0=function(d){return arguments.length?(n=typeof d=="function"?d:Vt(+d),c):n},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Vt(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(n)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(t).y(n)},c.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Vt(!!d),c):s},c.curve=function(d){return arguments.length?(i=d,a!=null&&(o=i(a)),c):i},c.context=function(d){return arguments.length?(d==null?a=o=null:o=i(a=d),c):a},c}function tvt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function nvt(e){return e}function rvt(){var e=nvt,t=tvt,n=null,r=Vt(0),s=Vt(A2),a=Vt(0);function i(o){var c,u=o.length,d,h,m=0,p=new Array(u),g=new Array(u),v=+r.apply(this,arguments),y=Math.min(A2,Math.max(-A2,s.apply(this,arguments)-v)),x,b=Math.min(Math.abs(y)/u,a.apply(this,arguments)),w=b*(y<0?-1:1),_;for(c=0;c<u;++c)(_=g[p[c]=c]=+e(o[c],c,o))>0&&(m+=_);for(t!=null?p.sort(function(C,S){return t(g[C],g[S])}):n!=null&&p.sort(function(C,S){return n(o[C],o[S])}),c=0,h=m?(y-u*w)/m:0;c<u;++c,v=x)d=p[c],_=g[d],x=v+(_>0?_*h:0)+w,g[d]={data:o[d],index:c,value:_,startAngle:v,endAngle:x,padAngle:b};return g}return i.value=function(o){return arguments.length?(e=typeof o=="function"?o:Vt(+o),i):e},i.sortValues=function(o){return arguments.length?(t=o,n=null,i):t},i.sort=function(o){return arguments.length?(n=o,t=null,i):n},i.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Vt(+o),i):r},i.endAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Vt(+o),i):s},i.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Vt(+o),i):a},i}var svt=bwe(Zu);function xwe(e){this._curve=e}xwe.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function bwe(e){function t(n){return new xwe(e(n))}return t._curve=e,t}function avt(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(bwe(n)):t()._curve},e}function ivt(){return avt(TP().curve(svt))}function Sy(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var b7=Array.prototype.slice;function ovt(e){return e.source}function lvt(e){return e.target}function NP(e){var t=ovt,n=lvt,r=kP,s=MP,a=null;function i(){var o,c=b7.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(a||(a=o=pa()),e(a,+r.apply(this,(c[0]=u,c)),+s.apply(this,c),+r.apply(this,(c[0]=d,c)),+s.apply(this,c)),o)return a=null,o+""||null}return i.source=function(o){return arguments.length?(t=o,i):t},i.target=function(o){return arguments.length?(n=o,i):n},i.x=function(o){return arguments.length?(r=typeof o=="function"?o:Vt(+o),i):r},i.y=function(o){return arguments.length?(s=typeof o=="function"?o:Vt(+o),i):s},i.context=function(o){return arguments.length?(a=o??null,i):a},i}function cvt(e,t,n,r,s){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,s,r,s)}function uvt(e,t,n,r,s){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+s)/2,r,n,r,s)}function dvt(e,t,n,r,s){var a=Sy(t,n),i=Sy(t,n=(n+s)/2),o=Sy(r,n),c=Sy(r,s);e.moveTo(a[0],a[1]),e.bezierCurveTo(i[0],i[1],o[0],o[1],c[0],c[1])}function fvt(){return NP(cvt)}function hvt(){return NP(uvt)}function mvt(){var e=NP(dvt);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}function TV(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wwe(e){this._context=e}wwe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:TV(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:TV(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pvt(e){return new wwe(e)}function _we(e){this._context=e}_we.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=NV(e),s=NV(t),a=0,i=1;i<n;++a,++i)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function NV(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),i=new Array(n);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function gvt(e){return new _we(e)}function kh(e,t){if((i=e.length)>1)for(var n=1,r,s,a=e[t[0]],i,o=a.length;n<i;++n)for(s=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Mh(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function vvt(e,t){return e[t]}function RP(){var e=Vt([]),t=Mh,n=kh,r=vvt;function s(a){var i=e.apply(this,arguments),o,c=a.length,u=i.length,d=new Array(u),h;for(o=0;o<u;++o){for(var m=i[o],p=d[o]=new Array(c),g=0,v;g<c;++g)p[g]=v=[0,+r(a[g],m,g,a)],v.data=a[g];p.key=m}for(o=0,h=t(d);o<u;++o)d[h[o]].index=o;return n(d,h),d}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Vt(b7.call(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:Vt(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?Mh:typeof a=="function"?a:Vt(b7.call(a)),s):t},s.offset=function(a){return arguments.length?(n=a??kh,s):n},s}function yvt(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,i;s<a;++s){for(i=n=0;n<r;++n)i+=e[n][s][1]||0;if(i)for(n=0;n<r;++n)e[n][s][1]/=i}kh(e,t)}}function xvt(e,t){if((c=e.length)>0)for(var n,r=0,s,a,i,o,c,u=e[t[0]].length;r<u;++r)for(i=o=0,n=0;n<c;++n)(a=(s=e[t[n]][r])[1]-s[0])>0?(s[0]=i,s[1]=i+=a):a<0?(s[1]=o,s[0]=o+=a):(s[0]=0,s[1]=a)}function bvt(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var i=0,o=0;i<s;++i)o+=e[i][n][1]||0;r[n][1]+=r[n][0]=-o/2}kh(e,t)}}function wvt(e,t){if(!(!((i=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,i;r<a;++r){for(var o=0,c=0,u=0;o<i;++o){for(var d=e[t[o]],h=d[r][1]||0,m=d[r-1][1]||0,p=(h-m)/2,g=0;g<o;++g){var v=e[t[g]],y=v[r][1]||0,x=v[r-1][1]||0;p+=y-x}c+=h,u+=p*h}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,kh(e,t)}}function _vt(e){var t=e.map(Cvt);return Mh(e).sort(function(n,r){return t[n]-t[r]})}function Cvt(e){for(var t=-1,n=0,r=e.length,s,a=-1/0;++t<r;)(s=+e[t][1])>a&&(a=s,n=t);return n}function Cwe(e){var t=e.map(Swe);return Mh(e).sort(function(n,r){return t[n]-t[r]})}function Swe(e){for(var t=0,n=-1,r=e.length,s;++n<r;)(s=+e[n][1])&&(t+=s);return t}function Svt(e){return Cwe(e).reverse()}function Evt(e){var t=e.length,n,r,s=e.map(Swe),a=_vt(e),i=0,o=0,c=[],u=[];for(n=0;n<t;++n)r=a[n],i<o?(i+=s[r],c.push(r)):(o+=s[r],u.push(r));return u.reverse().concat(c)}function kvt(e){return Mh(e).reverse()}function vn(e,t){e(t)}var cb={ascending:Cwe,descending:Svt,insideout:Evt,none:Mh,reverse:kvt},Mvt=Object.keys(cb);function u_(e){return e&&cb[e]||cb.none}var ub={expand:yvt,diverging:xvt,none:kh,silhouette:bvt,wiggle:wvt},Tvt=Object.keys(ub);function d_(e){return e&&ub[e]||ub.none}function AP(e){var t=e===void 0?{}:e,n=t.innerRadius,r=t.outerRadius,s=t.cornerRadius,a=t.startAngle,i=t.endAngle,o=t.padAngle,c=t.padRadius,u=J1t();return n!=null&&vn(u.innerRadius,n),r!=null&&vn(u.outerRadius,r),s!=null&&vn(u.cornerRadius,s),a!=null&&vn(u.startAngle,a),i!=null&&vn(u.endAngle,i),o!=null&&vn(u.padAngle,o),c!=null&&vn(u.padRadius,c),u}function f_(e){var t=e===void 0?{}:e,n=t.x,r=t.x0,s=t.x1,a=t.y,i=t.y0,o=t.y1,c=t.defined,u=t.curve,d=evt();return n&&vn(d.x,n),r&&vn(d.x0,r),s&&vn(d.x1,s),a&&vn(d.y,a),i&&vn(d.y0,i),o&&vn(d.y1,o),c&&d.defined(c),u&&d.curve(u),d}function Nd(e){var t=e===void 0?{}:e,n=t.x,r=t.y,s=t.defined,a=t.curve,i=TP();return n&&vn(i.x,n),r&&vn(i.y,r),s&&i.defined(s),a&&i.curve(a),i}function Ewe(e){var t=e===void 0?{}:e,n=t.startAngle,r=t.endAngle,s=t.padAngle,a=t.value,i=t.sort,o=t.sortValues,c=rvt();return(i===null||i!=null)&&c.sort(i),(o===null||o!=null)&&c.sortValues(o),a!=null&&c.value(a),s!=null&&vn(c.padAngle,s),n!=null&&vn(c.startAngle,n),r!=null&&vn(c.endAngle,r),c}function kwe(e){var t=e===void 0?{}:e,n=t.angle,r=t.radius,s=t.defined,a=t.curve,i=ivt();return n&&vn(i.angle,n),r&&vn(i.radius,r),s&&i.defined(s),a&&i.curve(a),i}function Mwe(e){var t=e.keys,n=e.value,r=e.order,s=e.offset,a=RP();return t&&a.keys(t),n&&vn(a.value,n),r&&a.order(u_(r)),s&&a.offset(d_(s)),a}var Nvt=["className","data","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","children","innerRef"];function w7(){return w7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w7.apply(this,arguments)}function Rvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Avt(e){var t=e.className,n=e.data,r=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,i=e.startAngle,o=e.endAngle,c=e.padAngle,u=e.padRadius,d=e.children,h=e.innerRef,m=Rvt(e,Nvt),p=AP({innerRadius:r,outerRadius:s,cornerRadius:a,startAngle:i,endAngle:o,padAngle:c,padRadius:u});return d?T.createElement(T.Fragment,null,d({path:p})):!n&&(i==null||o==null||r==null||s==null)?(console.warn("[@visx/shape/Arc]: expected data because one of startAngle, endAngle, innerRadius, outerRadius is undefined. Bailing."),null):T.createElement("path",w7({ref:h,className:U("visx-arc",t),d:p(n)||""},m))}var jvt=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function _7(){return _7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_7.apply(this,arguments)}function Pvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ivt(e){var t=e.className,n=e.top,r=e.left,s=e.data,a=s===void 0?[]:s,i=e.centroid,o=e.innerRadius,c=o===void 0?0:o,u=e.outerRadius,d=e.cornerRadius,h=e.startAngle,m=e.endAngle,p=e.padAngle,g=e.padRadius,v=e.pieSort,y=e.pieSortValues,x=e.pieValue,b=e.children,w=e.fill,_=w===void 0?"":w,C=Pvt(e,jvt),S=AP({innerRadius:c,outerRadius:u,cornerRadius:d,padRadius:g}),k=Ewe({startAngle:h,endAngle:m,padAngle:p,value:x,sort:v,sortValues:y}),E=k(a);return b?T.createElement(T.Fragment,null,b({arcs:E,path:S,pie:k})):T.createElement(Gs,{className:"visx-pie-arcs-group",top:n,left:r},E.map(function(M,N){return T.createElement("g",{key:"pie-arc-"+N},T.createElement("path",_7({className:U("visx-pie-arc",t),d:S(M)||"",fill:_==null||typeof _=="string"?_:_(M)},C)),i?.(S.centroid(M),M))}))}var Ovt=["from","to","fill","className","innerRef"];function C7(){return C7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C7.apply(this,arguments)}function Lvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function h_(e){var t=e.from,n=t===void 0?{x:0,y:0}:t,r=e.to,s=r===void 0?{x:1,y:1}:r,a=e.fill,i=a===void 0?"transparent":a,o=e.className,c=e.innerRef,u=Lvt(e,Ovt),d=n.x===s.x||n.y===s.y;return T.createElement("line",C7({ref:c,className:U("visx-line",o),x1:n.x,y1:n.y,x2:s.x,y2:s.y,fill:i,shapeRendering:d?"crispEdges":"auto"},u))}var Dvt=["children","data","x","y","fill","className","curve","innerRef","defined"];function S7(){return S7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S7.apply(this,arguments)}function Fvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Twe(e){var t=e.children,n=e.data,r=n===void 0?[]:n,s=e.x,a=e.y,i=e.fill,o=i===void 0?"transparent":i,c=e.className,u=e.curve,d=e.innerRef,h=e.defined,m=h===void 0?function(){return!0}:h,p=Fvt(e,Dvt),g=Nd({x:s,y:a,defined:m,curve:u});return t?T.createElement(T.Fragment,null,t({path:g})):T.createElement("path",S7({ref:d,className:U("visx-linepath",c),d:g(r)||"",fill:o,strokeLinecap:"round"},p))}var Uvt=["className","angle","radius","defined","curve","data","innerRef","children","fill"];function E7(){return E7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E7.apply(this,arguments)}function Bvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $vt(e){var t=e.className,n=e.angle,r=e.radius,s=e.defined,a=e.curve,i=e.data,o=i===void 0?[]:i,c=e.innerRef,u=e.children,d=e.fill,h=d===void 0?"transparent":d,m=Bvt(e,Uvt),p=kwe({angle:n,radius:r,defined:s,curve:a});return u?T.createElement(T.Fragment,null,u({path:p})):T.createElement("path",E7({ref:c,className:U("visx-line-radial",t),d:p(o)||"",fill:h},m))}var Hvt=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function k7(){return k7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k7.apply(this,arguments)}function Wvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zvt(e){var t=e.children,n=e.x,r=e.x0,s=e.x1,a=e.y,i=e.y0,o=e.y1,c=e.data,u=c===void 0?[]:c,d=e.defined,h=d===void 0?function(){return!0}:d,m=e.className,p=e.curve,g=e.innerRef,v=Wvt(e,Hvt),y=f_({x:n,x0:r,x1:s,y:a,y0:i,y1:o,defined:h,curve:p});return t?T.createElement(T.Fragment,null,t({path:y})):T.createElement("path",k7({ref:g,className:U("visx-area",m),d:y(u)||""},v))}var Vvt=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function M7(){return M7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M7.apply(this,arguments)}function Gvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Th(e){var t=e.x,n=e.x0,r=e.x1,s=e.y,a=e.y1,i=e.y0,o=e.yScale,c=e.data,u=c===void 0?[]:c,d=e.defined,h=d===void 0?function(){return!0}:d,m=e.className,p=e.curve,g=e.innerRef,v=e.children,y=Gvt(e,Vvt),x=f_({x:t,x0:n,x1:r,defined:h,curve:p});return i==null?x.y0(o.range()[0]):vn(x.y0,i),s&&!a&&vn(x.y1,s),a&&!s&&vn(x.y1,a),v?T.createElement(T.Fragment,null,v({path:x})):T.createElement("path",M7({ref:g,className:U("visx-area-closed",m),d:x(u)||""},y))}var qvt=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function T7(){return T7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T7.apply(this,arguments)}function Kvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Nwe(e){var t=e.className,n=e.top,r=e.left,s=e.keys,a=e.data,i=e.curve,o=e.defined,c=e.x,u=e.x0,d=e.x1,h=e.y0,m=e.y1,p=e.value,g=e.order,v=e.offset,y=e.color,x=e.children,b=Kvt(e,qvt),w=Mwe({keys:s,value:p,order:g,offset:v}),_=f_({x:c,x0:u,x1:d,y0:h,y1:m,curve:i,defined:o}),C=w(a);return x?T.createElement(T.Fragment,null,x({stacks:C,path:_,stack:w})):T.createElement(Gs,{top:n,left:r},C.map(function(S,k){return T.createElement("path",T7({className:U("visx-stack",t),key:"stack-"+k+"-"+(S.key||""),d:_(S)||"",fill:y?.(S.key,k)},b))}))}var Yvt=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function Qvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Xvt(e){var t=e.className,n=e.top,r=e.left,s=e.keys,a=e.data,i=e.curve,o=e.defined,c=e.x,u=e.x0,d=e.x1,h=e.y0,m=e.y1,p=e.value,g=e.order,v=e.offset,y=e.color,x=e.children,b=Qvt(e,Yvt);return T.createElement(Nwe,db({className:t,top:n,left:r,keys:s,data:a,curve:i,defined:o,x:c,x0:u,x1:d,y0:h,y1:m,value:p,order:g,offset:v,color:y},b),x||function(w){var _=w.stacks,C=w.path;return _.map(function(S,k){return T.createElement("path",db({className:U("visx-area-stack",t),key:"area-stack-"+k+"-"+(S.key||""),d:C(S)||"",fill:y?.(S.key,k)},b))})})}var Zvt=["className","innerRef"];function N7(){return N7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N7.apply(this,arguments)}function Jvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _m(e){var t=e.className,n=e.innerRef,r=Jvt(e,Zvt);return T.createElement("rect",N7({ref:n,className:U("visx-bar",t)},r))}var eyt=["children","className","innerRef","x","y","width","height","radius","all","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight"];function R7(){return R7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R7.apply(this,arguments)}function tyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nyt(e){var t=e.all,n=e.bottom,r=e.bottomLeft,s=e.bottomRight,a=e.height,i=e.left,o=e.radius,c=e.right,u=e.top,d=e.topLeft,h=e.topRight,m=e.width,p=e.x,g=e.y;h=t||u||c||h,s=t||n||c||s,r=t||n||i||r,d=t||u||i||d,o=Math.max(1,Math.min(o,Math.min(m,a)/2));var v=2*o,y=("M"+(p+o)+","+g+" h"+(m-v)+`
 `+(h?"a"+o+","+o+" 0 0 1 "+o+","+o:"h"+o+"v"+o)+`
 v`+(a-v)+`
 `+(s?"a"+o+","+o+" 0 0 1 "+-o+","+o:"v"+o+"h"+-o)+`
 h`+(v-m)+`
 `+(r?"a"+o+","+o+" 0 0 1 "+-o+","+-o:"h"+-o+"v"+-o)+`
 v`+(v-a)+`
 `+(d?"a"+o+","+o+" 0 0 1 "+o+","+-o:"v"+-o+"h"+o)+`
z`).split(`
`).join("");return y}function ryt(e){var t=e.children,n=e.className,r=e.innerRef,s=e.x,a=e.y,i=e.width,o=e.height,c=e.radius,u=e.all,d=u===void 0?!1:u,h=e.top,m=h===void 0?!1:h,p=e.bottom,g=p===void 0?!1:p,v=e.left,y=v===void 0?!1:v,x=e.right,b=x===void 0?!1:x,w=e.topLeft,_=w===void 0?!1:w,C=e.topRight,S=C===void 0?!1:C,k=e.bottomLeft,E=k===void 0?!1:k,M=e.bottomRight,N=M===void 0?!1:M,R=tyt(e,eyt),A=nyt({x:s,y:a,width:i,height:o,radius:c,all:d,top:m,bottom:g,left:y,right:b,topLeft:_,topRight:S,bottomLeft:E,bottomRight:N});return t?T.createElement(T.Fragment,null,t({path:A})):T.createElement("path",R7({ref:r,className:U("visx-bar-rounded",n),d:A},R))}function m_(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}var syt=["data","className","top","left","x0","x0Scale","x1Scale","yScale","color","keys","height","children"];function A7(){return A7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A7.apply(this,arguments)}function ayt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function iyt(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.x0,i=e.x0Scale,o=e.x1Scale,c=e.yScale,u=e.color,d=e.keys,h=e.height,m=e.children,p=ayt(e,syt),g=m_(o),v=t.map(function(y,x){return{index:x,x0:i(a(y)),bars:d.map(function(b,w){var _=y[b];return{index:w,key:b,value:_,width:g,x:o(b)||0,y:c(_)||0,color:u(b,w),height:h-(c(_)||0)}})}});return m?T.createElement(T.Fragment,null,m(v)):T.createElement(Gs,{className:U("visx-bar-group",n),top:r,left:s},v.map(function(y){return T.createElement(Gs,{key:"bar-group-"+y.index+"-"+y.x0,left:y.x0},y.bars.map(function(x){return T.createElement(_m,A7({key:"bar-group-bar-"+y.index+"-"+x.index+"-"+x.value+"-"+x.key,x:x.x,y:x.y,width:x.width,height:x.height,fill:x.color},p))}))}))}var oyt=["data","className","top","left","x","y0","y0Scale","y1Scale","xScale","color","keys","width","children"];function j7(){return j7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j7.apply(this,arguments)}function lyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function cyt(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.x,i=a===void 0?function(){return 0}:a,o=e.y0,c=e.y0Scale,u=e.y1Scale,d=e.xScale,h=e.color,m=e.keys;e.width;var p=e.children,g=lyt(e,oyt),v=m_(u),y=t.map(function(x,b){return{index:b,y0:c(o(x))||0,bars:m.map(function(w,_){var C=x[w];return{index:_,key:w,value:C,height:v,x:i(C)||0,y:u(w)||0,color:h(w,_),width:d(C)||0}})}});return p?T.createElement(T.Fragment,null,p(y)):T.createElement(Gs,{className:U("visx-bar-group-horizontal",n),top:r,left:s},y.map(function(x){return T.createElement(Gs,{key:"bar-group-"+x.index+"-"+x.y0,top:x.y0},x.bars.map(function(b){return T.createElement(_m,j7({key:"bar-group-bar-"+x.index+"-"+b.index+"-"+b.value+"-"+b.key,x:b.x,y:b.y,width:b.width,height:b.height,fill:b.color},g))}))}))}function Ba(e){return typeof e?.x=="number"?e?.x:0}function $a(e){return typeof e?.y=="number"?e?.y:0}function Ha(e){return e?.source}function Wa(e){return e?.target}function Rwe(e){return e?.[0]}function Awe(e){return e?.[1]}var uyt=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function P7(){return P7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P7.apply(this,arguments)}function dyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function fyt(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.x,i=e.y0,o=i===void 0?Rwe:i,c=e.y1,u=c===void 0?Awe:c,d=e.xScale,h=e.yScale,m=e.color,p=e.keys,g=e.value,v=e.order,y=e.offset,x=e.children,b=dyt(e,uyt),w=RP();p&&w.keys(p),g&&vn(w.value,g),v&&w.order(u_(v)),y&&w.offset(d_(y));var _=w(t),C=m_(d),S=_.map(function(k,E){var M=k.key;return{index:E,key:M,bars:k.map(function(N,R){var A=(h(o(N))||0)-(h(u(N))||0),P=h(u(N)),O="bandwidth"in d?d(a(N.data)):Math.max((d(a(N.data))||0)-C/2);return{bar:N,key:M,index:R,height:A,width:C,x:O||0,y:P||0,color:m(k.key,R)}})}});return x?T.createElement(T.Fragment,null,x(S)):T.createElement(Gs,{className:U("visx-bar-stack",n),top:r,left:s},S.map(function(k){return k.bars.map(function(E){return T.createElement(_m,P7({key:"bar-stack-"+k.index+"-"+E.index,x:E.x,y:E.y,height:E.height,width:E.width,fill:E.color},b))})}))}var hyt=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function I7(){return I7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I7.apply(this,arguments)}function myt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function pyt(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.y,i=e.x0,o=i===void 0?Rwe:i,c=e.x1,u=c===void 0?Awe:c,d=e.xScale,h=e.yScale,m=e.color,p=e.keys,g=e.value,v=e.order,y=e.offset,x=e.children,b=myt(e,hyt),w=RP();p&&w.keys(p),g&&vn(w.value,g),v&&w.order(u_(v)),y&&w.offset(d_(y));var _=w(t),C=m_(h),S=_.map(function(k,E){var M=k.key;return{index:E,key:M,bars:k.map(function(N,R){var A=(d(u(N))||0)-(d(o(N))||0),P=d(o(N)),O="bandwidth"in h?h(a(N.data)):Math.max((h(a(N.data))||0)-A/2);return{bar:N,key:M,index:R,height:C,width:A,x:P||0,y:O||0,color:m(k.key,R)}})}});return x?T.createElement(T.Fragment,null,x(S)):T.createElement(Gs,{className:U("visx-bar-stack-horizontal",n),top:r,left:s},S.map(function(k){return k.bars.map(function(E){return T.createElement(_m,I7({key:"bar-stack-"+k.index+"-"+E.index,x:E.x,y:E.y,height:E.height,width:E.width,fill:E.color},b))})}))}var jwe=function(t){return Math.PI/180*t},gyt=["className","children","data","innerRef","path","x","y","source","target"];function O7(){return O7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O7.apply(this,arguments)}function vyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Pwe(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=fvt();return i.x(r),i.y(s),i.source(t),i.target(n),i(a)}}function yyt(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.x,o=i===void 0?$a:i,c=e.y,u=c===void 0?Ba:c,d=e.source,h=d===void 0?Ha:d,m=e.target,p=m===void 0?Wa:m,g=vyt(e,gyt),v=a||Pwe({source:h,target:p,x:o,y:u});return n?T.createElement(T.Fragment,null,n({path:v})):T.createElement("path",O7({ref:s,className:U("visx-link visx-link-horizontal-diagonal",t),d:v(r)||""},g))}var xyt=["className","children","data","innerRef","path","x","y","source","target"];function L7(){return L7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L7.apply(this,arguments)}function byt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Iwe(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=hvt();return i.x(r),i.y(s),i.source(t),i.target(n),i(a)}}function wyt(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.x,o=i===void 0?Ba:i,c=e.y,u=c===void 0?$a:c,d=e.source,h=d===void 0?Ha:d,m=e.target,p=m===void 0?Wa:m,g=byt(e,xyt),v=a||Iwe({source:h,target:p,x:o,y:u});return n?T.createElement(T.Fragment,null,n({path:v})):T.createElement("path",L7({ref:s,className:U("visx-link visx-link-vertical-diagonal",t),d:v(r)||""},g))}var _yt=["className","children","data","innerRef","path","angle","radius","source","target"];function D7(){return D7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D7.apply(this,arguments)}function Cyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Owe(e){var t=e.source,n=e.target,r=e.angle,s=e.radius;return function(a){var i=mvt();return i.angle(r),i.radius(s),i.source(t),i.target(n),i(a)}}function Syt(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.angle,o=i===void 0?Ba:i,c=e.radius,u=c===void 0?$a:c,d=e.source,h=d===void 0?Ha:d,m=e.target,p=m===void 0?Wa:m,g=Cyt(e,_yt),v=a||Owe({source:h,target:p,angle:o,radius:u});return n?T.createElement(T.Fragment,null,n({path:v})):T.createElement("path",D7({ref:s,className:U("visx-link visx-link-radial-diagonal",t),d:v(r)||""},g))}var Eyt=["className","children","data","innerRef","path","percent","x","y","source","target"];function F7(){return F7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F7.apply(this,arguments)}function kyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Lwe(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var o=t(i),c=n(i),u=r(o),d=s(o),h=r(c),m=s(c),p=h-u,g=m-d,v=a*(p+g),y=a*(g-p),x=pa();return x.moveTo(u,d),x.bezierCurveTo(u+v,d+y,h+y,m-v,h,m),x.toString()}}function Myt(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.percent,o=i===void 0?.2:i,c=e.x,u=c===void 0?$a:c,d=e.y,h=d===void 0?Ba:d,m=e.source,p=m===void 0?Ha:m,g=e.target,v=g===void 0?Wa:g,y=kyt(e,Eyt),x=a||Lwe({source:p,target:v,x:u,y:h,percent:o});return n?T.createElement(T.Fragment,null,n({path:x})):T.createElement("path",F7({ref:s,className:U("visx-link visx-link-horizontal-curve",t),d:x(r)||""},y))}var Tyt=["className","children","data","innerRef","path","percent","x","y","source","target"];function U7(){return U7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U7.apply(this,arguments)}function Nyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Dwe(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var o=t(i),c=n(i),u=r(o),d=s(o),h=r(c),m=s(c),p=h-u,g=m-d,v=a*(p+g),y=a*(g-p),x=pa();return x.moveTo(u,d),x.bezierCurveTo(u+v,d+y,h+y,m-v,h,m),x.toString()}}function Ryt(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.percent,o=i===void 0?.2:i,c=e.x,u=c===void 0?Ba:c,d=e.y,h=d===void 0?$a:d,m=e.source,p=m===void 0?Ha:m,g=e.target,v=g===void 0?Wa:g,y=Nyt(e,Tyt),x=a||Dwe({source:p,target:v,x:u,y:h,percent:o});return n?T.createElement(T.Fragment,null,n({path:x})):T.createElement("path",U7({ref:s,className:U("visx-link visx-link-vertical-curve",t),d:x(r)||""},y))}var Ayt=["className","children","data","innerRef","path","percent","x","y","source","target"];function B7(){return B7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B7.apply(this,arguments)}function jyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Fwe(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var o=t(i),c=n(i),u=r(o)-Math.PI/2,d=s(o),h=r(c)-Math.PI/2,m=s(c),p=Math.cos(u),g=Math.sin(u),v=Math.cos(h),y=Math.sin(h),x=d*p,b=d*g,w=m*v,_=m*y,C=w-x,S=_-b,k=a*(C+S),E=a*(S-C),M=pa();return M.moveTo(x,b),M.bezierCurveTo(x+k,b+E,w+E,_-k,w,_),M.toString()}}function Pyt(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.percent,o=i===void 0?.2:i,c=e.x,u=c===void 0?Ba:c,d=e.y,h=d===void 0?$a:d,m=e.source,p=m===void 0?Ha:m,g=e.target,v=g===void 0?Wa:g,y=jyt(e,Ayt),x=a||Fwe({source:p,target:v,x:u,y:h,percent:o});return n?T.createElement(T.Fragment,null,n({path:x})):T.createElement("path",B7({ref:s,className:U("visx-link visx-link-radial-curve",t),d:x(r)||""},y))}var Iyt=["className","children","innerRef","data","path","x","y","source","target"];function $7(){return $7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$7.apply(this,arguments)}function Oyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Uwe(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),o=n(a),c=r(i),u=s(i),d=r(o),h=s(o),m=pa();return m.moveTo(c,u),m.lineTo(d,h),m.toString()}}function Lyt(e){var t=e.className,n=e.children,r=e.innerRef,s=e.data,a=e.path,i=e.x,o=i===void 0?$a:i,c=e.y,u=c===void 0?Ba:c,d=e.source,h=d===void 0?Ha:d,m=e.target,p=m===void 0?Wa:m,g=Oyt(e,Iyt),v=a||Uwe({source:h,target:p,x:o,y:u});return n?T.createElement(T.Fragment,null,n({path:v})):T.createElement("path",$7({ref:r,className:U("visx-link visx-link-horizontal-line",t),d:v(s)||""},g))}var Dyt=["className","innerRef","data","path","x","y","source","target","children"];function H7(){return H7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H7.apply(this,arguments)}function Fyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Bwe(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),o=n(a),c=r(i),u=s(i),d=r(o),h=s(o),m=pa();return m.moveTo(c,u),m.lineTo(d,h),m.toString()}}function Uyt(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.x,i=a===void 0?Ba:a,o=e.y,c=o===void 0?$a:o,u=e.source,d=u===void 0?Ha:u,h=e.target,m=h===void 0?Wa:h,p=e.children,g=Fyt(e,Dyt),v=s||Bwe({source:d,target:m,x:i,y:c});return p?T.createElement(T.Fragment,null,p({path:v})):T.createElement("path",H7({ref:n,className:U("visx-link visx-link-vertical-line",t),d:v(r)||""},g))}var Byt=["className","innerRef","data","path","x","y","source","target","children"];function W7(){return W7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W7.apply(this,arguments)}function $yt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $we(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),o=n(a),c=r(i)-Math.PI/2,u=s(i),d=r(o)-Math.PI/2,h=s(o),m=Math.cos(c),p=Math.sin(c),g=Math.cos(d),v=Math.sin(d),y=pa();return y.moveTo(u*m,u*p),y.lineTo(h*g,h*v),y.toString()}}function Hyt(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.x,i=a===void 0?Ba:a,o=e.y,c=o===void 0?$a:o,u=e.source,d=u===void 0?Ha:u,h=e.target,m=h===void 0?Wa:h,p=e.children,g=$yt(e,Byt),v=s||$we({source:d,target:m,x:i,y:c});return p?T.createElement(T.Fragment,null,p({path:v})):T.createElement("path",W7({ref:n,className:U("visx-link visx-link-radial-line",t),d:v(r)||""},g))}var Wyt=["className","innerRef","data","path","percent","x","y","source","target","children"];function z7(){return z7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z7.apply(this,arguments)}function zyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Hwe(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var o=t(i),c=n(i),u=r(o),d=s(o),h=r(c),m=s(c),p=pa();return p.moveTo(u,d),p.lineTo(u+(h-u)*a,d),p.lineTo(u+(h-u)*a,m),p.lineTo(h,m),p.toString()}}function Vyt(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.percent,i=a===void 0?.5:a,o=e.x,c=o===void 0?$a:o,u=e.y,d=u===void 0?Ba:u,h=e.source,m=h===void 0?Ha:h,p=e.target,g=p===void 0?Wa:p,v=e.children,y=zyt(e,Wyt),x=s||Hwe({source:m,target:g,x:c,y:d,percent:i});return v?T.createElement(T.Fragment,null,v({path:x})):T.createElement("path",z7({ref:n,className:U("visx-link visx-link-horizontal-step",t),d:x(r)||""},y))}var Gyt=["className","innerRef","data","path","percent","x","y","source","target","children"];function V7(){return V7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V7.apply(this,arguments)}function qyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Wwe(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var o=t(i),c=n(i),u=r(o),d=s(o),h=r(c),m=s(c),p=pa();return p.moveTo(u,d),p.lineTo(u,d+(m-d)*a),p.lineTo(h,d+(m-d)*a),p.lineTo(h,m),p.toString()}}function Kyt(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.percent,i=a===void 0?.5:a,o=e.x,c=o===void 0?Ba:o,u=e.y,d=u===void 0?$a:u,h=e.source,m=h===void 0?Ha:h,p=e.target,g=p===void 0?Wa:p,v=e.children,y=qyt(e,Gyt),x=s||Wwe({source:m,target:g,x:c,y:d,percent:i});return v?T.createElement(T.Fragment,null,v({path:x})):T.createElement("path",V7({ref:n,className:U("visx-link visx-link-vertical-step",t),d:x(r)||""},y))}var Yyt=["className","innerRef","data","path","x","y","source","target","children"];function G7(){return G7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G7.apply(this,arguments)}function Qyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zwe(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),o=n(a),c=r(i),u=s(i),d=r(o),h=s(o),m=c-Math.PI/2,p=u,g=d-Math.PI/2,v=h,y=Math.cos(m),x=Math.sin(m),b=Math.cos(g),w=Math.sin(g),_=Math.abs(g-m)>Math.PI?g<=m:g>m;return`
      M`+p*y+","+p*x+`
      A`+p+","+p+",0,0,"+(_?1:0)+","+p*b+","+p*w+`
      L`+v*b+","+v*w+`
    `}}function Xyt(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.x,i=a===void 0?Ba:a,o=e.y,c=o===void 0?$a:o,u=e.source,d=u===void 0?Ha:u,h=e.target,m=h===void 0?Wa:h,p=e.children,g=Qyt(e,Yyt),v=s||zwe({source:d,target:m,x:i,y:c});return p?T.createElement(T.Fragment,null,p({path:v})):T.createElement("path",G7({ref:n,className:U("visx-link visx-link-radial-step",t),d:v(r)||""},g))}var Zyt=["sides","size","center","rotate","className","children","innerRef","points"];function q7(){return q7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q7.apply(this,arguments)}function Jyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Vwe={x:0,y:0},Gwe=function(t){var n=t.sides,r=n===void 0?4:n,s=t.size,a=s===void 0?25:s,i=t.center,o=i===void 0?Vwe:i,c=t.rotate,u=c===void 0?0:c,d=t.side,h=360/r*d-u,m=jwe(h);return{x:o.x+a*Math.cos(m),y:o.y+a*Math.sin(m)}},qwe=function(t){var n=t.sides,r=t.size,s=t.center,a=t.rotate;return new Array(n).fill(0).map(function(i,o){return Gwe({sides:n,size:r,center:s,rotate:a,side:o})})};function e2t(e){var t=e.sides,n=t===void 0?4:t,r=e.size,s=r===void 0?25:r,a=e.center,i=a===void 0?Vwe:a,o=e.rotate,c=o===void 0?0:o,u=e.className,d=e.children,h=e.innerRef,m=e.points,p=Jyt(e,Zyt),g=m||qwe({sides:n,size:s,center:i,rotate:c}).map(function(v){var y=v.x,x=v.y;return[y,x]});return d?T.createElement(T.Fragment,null,d({points:g})):T.createElement("polygon",q7({ref:h,className:U("visx-polygon",u),points:g.join(" ")},p))}var t2t=["className","innerRef"];function K7(){return K7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K7.apply(this,arguments)}function n2t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function r2t(e){var t=e.className,n=e.innerRef,r=n2t(e,t2t);return T.createElement("circle",K7({ref:n,className:U("visx-circle",t)},r))}var RV="http://www.w3.org/2000/svg";function s2t(e){var t=document.getElementById(e);if(!t){var n=document.createElementNS(RV,"svg");n.setAttribute("aria-hidden","true"),n.style.opacity="0",n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",n.style.pointerEvents="none",t=document.createElementNS(RV,"path"),t.setAttribute("id",e),n.appendChild(t),document.body.appendChild(n)}return t}var a2t="__visx_splitpath_svg_path_measurement_id",AV=function(){return!0};function i2t(e){var t=e.path,n=e.pointsInSegments,r=e.segmentation,s=r===void 0?"x":r,a=e.sampleRate,i=a===void 0?1:a;try{var o=s2t(a2t);o.setAttribute("d",t);var c=o.getTotalLength(),u=n.length,d=n.map(function(){return[]});if(s==="x"||s==="y")for(var h=n.map(function(P){var O;return(O=P.find(function(I){return typeof I[s]=="number"}))==null?void 0:O[s]}),m=o.getPointAtLength(0),p=o.getPointAtLength(c),g=p[s]>m[s],v=g?h.map(function(P){return typeof P>"u"?AV:function(O){return O>=P}}):h.map(function(P){return typeof P>"u"?AV:function(O){return O<=P}}),y=0,x=0;x<=c;x+=i){for(var b=o.getPointAtLength(x),w=b[s];y<u-1&&v[y+1](w);)y+=1;d[y].push(b)}else{var _=n.map(function(P){return P.length}),C=_.reduce(function(P,O){return P+O},0),S=c/Math.max(1,C-1),k=_.slice(0,u-1);k.unshift(0);for(var E=2;E<u;E+=1)k[E]+=k[E-1];for(var M=0;M<u;M+=1)k[M]*=S;for(var N=0,R=0;R<=c;R+=i){for(var A=o.getPointAtLength(R);N<u-1&&R>=k[N+1];)N+=1;d[N].push(A)}}return d}catch{return[]}}function Y7(){return Y7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y7.apply(this,arguments)}var o2t=function(t){return t.x||0},l2t=function(t){return t.y||0};function Kwe(e){var t=e.children,n=e.className,r=e.curve,s=e.defined,a=e.segmentation,i=e.sampleRate,o=e.segments,c=e.x,u=e.y,d=e.styles,h=f.useMemo(function(){var g=typeof c=="number"||typeof c>"u"?function(){return c}:c,v=typeof u=="number"||typeof u>"u"?function(){return u}:u;return o.map(function(y){return y.map(function(x,b){return{x:g(x,b,y),y:v(x,b,y)}})})},[c,u,o]),m=f.useMemo(function(){var g=Nd({x:c,y:u,defined:s,curve:r});return g(o.flat())||""},[c,u,s,r,o]),p=f.useMemo(function(){return i2t({path:m,segmentation:a,pointsInSegments:h,sampleRate:i})},[m,a,h,i]);return T.createElement("g",null,p.map(function(g,v){return t?T.createElement(T.Fragment,{key:v},t({index:v,segment:g,styles:d[v]||d[v%d.length]})):T.createElement(Twe,Y7({key:v,className:n,data:g,x:o2t,y:l2t},d[v]||d[v%d.length]))}))}Kwe.propTypes={segments:me.arrayOf(me.array).isRequired,styles:me.array.isRequired,children:me.func,className:me.string};const c2t=Object.freeze(Object.defineProperty({__proto__:null,Arc:Avt,Area:zvt,AreaClosed:Th,AreaStack:Xvt,Bar:_m,BarGroup:iyt,BarGroupHorizontal:cyt,BarRounded:ryt,BarStack:fyt,BarStackHorizontal:pyt,Circle:r2t,Line:h_,LinePath:Twe,LineRadial:$vt,LinkHorizontal:yyt,LinkHorizontalCurve:Myt,LinkHorizontalLine:Lyt,LinkHorizontalStep:Vyt,LinkRadial:Syt,LinkRadialCurve:Pyt,LinkRadialLine:Hyt,LinkRadialStep:Xyt,LinkVertical:wyt,LinkVerticalCurve:Ryt,LinkVerticalLine:Uyt,LinkVerticalStep:Kyt,Pie:Ivt,Polygon:e2t,STACK_OFFSETS:ub,STACK_OFFSET_NAMES:Tvt,STACK_ORDERS:cb,STACK_ORDER_NAMES:Mvt,SplitLinePath:Kwe,Stack:Nwe,arc:AP,area:f_,degreesToRadians:jwe,getPoint:Gwe,getPoints:qwe,line:Nd,pathHorizontalCurve:Lwe,pathHorizontalDiagonal:Pwe,pathHorizontalLine:Uwe,pathHorizontalStep:Hwe,pathRadialCurve:Fwe,pathRadialDiagonal:Owe,pathRadialLine:$we,pathRadialStep:zwe,pathVerticalCurve:Dwe,pathVerticalDiagonal:Iwe,pathVerticalLine:Bwe,pathVerticalStep:Wwe,pie:Ewe,radialLine:kwe,stack:Mwe,stackOffset:d_,stackOrder:u_},Symbol.toStringTag,{value:"Module"})),Ywe=V0(c2t),Qwe=V0(Cpt);var Ey={},jV;function u2t(){if(jV)return Ey;jV=1,Ey.__esModule=!0,Ey.default=n;var e=t(N1());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var s=r.labelOffset,a=r.labelProps,i=r.orientation,o=r.range,c=r.tickLabelFontSize,u=r.tickLength,d=i===e.default.left||i===e.default.top?-1:1,h,m,p;if(i===e.default.top||i===e.default.bottom){var g=i===e.default.bottom&&typeof a.fontSize=="number"?a.fontSize:0;h=(Number(o[0])+Number(o[o.length-1]))/2,m=d*(u+s+c+g)}else h=d*((Number(o[0])+Number(o[o.length-1]))/2),m=-(u+s),p="rotate("+d*90+")";return{x:h,y:m,transform:p}}return Ey}var ky={},PV;function d2t(){if(PV)return ky;PV=1,ky.__esModule=!0,ky.default=c;var e=i(zh()),t=i(qh()),n=Ywe,r=SP,s=Qwe,a=i(N1());function i(u){return u&&u.__esModule?u:{default:u}}function o(){return o=Object.assign?Object.assign.bind():function(u){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var m in h)({}).hasOwnProperty.call(h,m)&&(u[m]=h[m])}return u},o.apply(null,arguments)}function c(u){var d=u.hideTicks,h=u.horizontal,m=u.orientation,p=u.tickClassName,g=u.tickComponent,v=u.tickLabelProps,y=u.tickStroke,x=y===void 0?"#222":y,b=u.tickTransform,w=u.ticks,_=u.strokeWidth,C=u.tickLineProps;return w.map(function(S){var k,E=S.value,M=S.index,N=S.from,R=S.to,A=S.formattedValue,P=(k=v[M])!=null?k:{},O=Math.max(10,typeof P.fontSize=="number"&&P.fontSize||0),I=R.y+(h&&m!==a.default.top?O:0);return e.default.createElement(r.Group,{key:"visx-tick-"+E+"-"+M,className:(0,t.default)("visx-axis-tick",p),transform:b},!d&&e.default.createElement(n.Line,o({from:N,to:R,stroke:x,strokeWidth:_,strokeLinecap:"square"},C)),g?g(o({},P,{x:R.x,y:I,formattedValue:A})):e.default.createElement(s.Text,o({x:R.x,y:I},P),A))})}return ky}var IV;function f2t(){if(IV)return _y;IV=1,_y.__esModule=!0,_y.default=d;var e=o(zh()),t=o(qh()),n=Ywe,r=Qwe,s=o(u2t()),a=o(N1()),i=o(d2t());function o(h){return h&&h.__esModule?h:{default:h}}function c(){return c=Object.assign?Object.assign.bind():function(h){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var g in p)({}).hasOwnProperty.call(p,g)&&(h[g]=p[g])}return h},c.apply(null,arguments)}var u={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function d(h){var m=h.axisFromPoint,p=h.axisLineClassName,g=h.axisToPoint,v=h.hideAxisLine,y=h.hideTicks,x=h.horizontal,b=h.label,w=b===void 0?"":b,_=h.labelClassName,C=h.labelOffset,S=C===void 0?14:C,k=h.labelProps,E=h.orientation,M=E===void 0?a.default.bottom:E,N=h.scale,R=h.stroke,A=R===void 0?"#222":R,P=h.strokeDasharray,O=h.strokeWidth,I=O===void 0?1:O,L=h.tickClassName,F=h.tickComponent,D=h.tickLineProps,B=h.tickLabelProps,$=h.tickLength,W=$===void 0?8:$,X=h.tickStroke,ee=X===void 0?"#222":X,ne=h.tickTransform,V=h.ticks,q=h.ticksComponent,z=q===void 0?i.default:q,te=c({},u,k),Y=c({},u,typeof B=="object"?B:null),Z=V.map(function(G){var oe=G.value,ae=G.index;return typeof B=="function"?B(oe,ae,V):Y}),re=Math.max.apply(Math,[10].concat(Z.map(function(G){return typeof G.fontSize=="number"?G.fontSize:0})));return e.default.createElement(e.default.Fragment,null,z({hideTicks:y,horizontal:x,orientation:M,scale:N,tickClassName:L,tickComponent:F,tickLabelProps:Z,tickStroke:ee,tickTransform:ne,ticks:V,strokeWidth:I,tickLineProps:D}),!v&&e.default.createElement(n.Line,{className:(0,t.default)("visx-axis-line",p),from:m,to:g,stroke:A,strokeWidth:I,strokeDasharray:P}),w&&e.default.createElement(r.Text,c({className:(0,t.default)("visx-axis-label",_)},(0,s.default)({labelOffset:S,labelProps:te,orientation:M,range:N.range(),tickLabelFontSize:re,tickLength:W}),te),w))}return _y}var My={},OV;function h2t(){if(OV)return My;OV=1,My.__esModule=!0,My.default=e;function e(t,n){n===void 0&&(n="center");var r=t;if(n!=="start"&&"bandwidth"in r){var s=r.bandwidth();return n==="center"&&(s/=2),r.round()&&(s=Math.round(s)),function(a){var i=r(a);return typeof i=="number"?i+s:i}}return t}return My}var Ty={},LV;function m2t(){if(LV)return Ty;LV=1,Ty.__esModule=!0,Ty.default=t;var e=EP;function t(n){var r=n;return"tickFormat"in r?r.tickFormat():e.toString}return Ty}var Ny={},Sc=function(){function e(n){var r=n.x,s=r===void 0?0:r,a=n.y,i=a===void 0?0:a;this.x=0,this.y=0,this.x=s,this.y=i}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}();function p2t(e,t){return new Sc({x:e.x+t.x,y:e.y+t.y})}function g2t(e,t){return new Sc({x:e.x-t.x,y:e.y-t.y})}const v2t=Object.freeze(Object.defineProperty({__proto__:null,Point:Sc,subtractPoints:g2t,sumPoints:p2t},Symbol.toStringTag,{value:"Module"})),Xwe=V0(v2t);var DV;function y2t(){if(DV)return Ny;DV=1,Ny.__esModule=!0,Ny.default=t;var e=Xwe;function t(n,r){var s=n.x,a=n.y;return new e.Point(r?{x:s,y:a}:{x:a,y:s})}return Ny}var Yd={},FV;function x2t(){if(FV)return Yd;FV=1,Yd.__esModule=!0,Yd.default=n,Yd.defaultAxisRangePadding=void 0;function e(){return e=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var i in a)({}).hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r},e.apply(null,arguments)}var t=Yd.defaultAxisRangePadding=0;function n(r){return r===void 0&&(r=t),typeof r=="number"?{start:r,end:r}:e({start:t,end:t},r)}return Yd}var UV;function b2t(){if(UV)return wy;UV=1,wy.__esModule=!0,wy.default=g,h(rA());var e=h(zh()),t=h(qh()),n=SP,r=EP,s=h(f2t()),a=h(h2t()),i=h(m2t()),o=h(y2t()),c=h(N1()),u=h(x2t()),d=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function h(v){return v&&v.__esModule?v:{default:v}}function m(){return m=Object.assign?Object.assign.bind():function(v){for(var y=1;y<arguments.length;y++){var x=arguments[y];for(var b in x)({}).hasOwnProperty.call(x,b)&&(v[b]=x[b])}return v},m.apply(null,arguments)}function p(v,y){if(v==null)return{};var x={};for(var b in v)if({}.hasOwnProperty.call(v,b)){if(y.includes(b))continue;x[b]=v[b]}return x}function g(v){var y=v.children,x=y===void 0?s.default:y,b=v.axisClassName,w=v.hideAxisLine,_=w===void 0?!1:w,C=v.hideTicks,S=C===void 0?!1:C,k=v.hideZero,E=k===void 0?!1:k,M=v.innerRef,N=v.left,R=N===void 0?0:N,A=v.numTicks,P=A===void 0?10:A,O=v.orientation,I=O===void 0?c.default.bottom:O,L=v.rangePadding,F=L===void 0?0:L,D=v.scale,B=v.tickFormat,$=v.tickLength,W=$===void 0?8:$,X=v.tickValues,ee=v.top,ne=ee===void 0?0:ee,V=p(v,d),q=B??(0,i.default)(D),z=I===c.default.left,te=I===c.default.top,Y=te||I===c.default.bottom,Z=(0,a.default)(D),re=z||te?-1:1,G=D.range(),oe=(0,u.default)(F),ae=(0,o.default)({x:Number(G[0])+.5-oe.start,y:0},Y),ie=(0,o.default)({x:Number(G[G.length-1])+.5+oe.end,y:0},Y),xe=(X??(0,r.getTicks)(D,P)).filter(function(Se){return!E||Se!==0&&Se!=="0"}).map(function(Se,qe){return{value:Se,index:qe}}),de=xe.map(function(Se){var qe=Se.value,be=Se.index,ve=(0,r.coerceNumber)(Z(qe));return{value:qe,index:be,from:(0,o.default)({x:ve,y:0},Y),to:(0,o.default)({x:ve,y:W*re},Y),formattedValue:q(qe,be,xe)}});return e.default.createElement(n.Group,{className:(0,t.default)("visx-axis",b),innerRef:M,top:ne,left:R},x(m({},V,{axisFromPoint:ae,axisToPoint:ie,hideAxisLine:_,hideTicks:S,hideZero:E,horizontal:Y,numTicks:P,orientation:I,rangePadding:F,scale:D,tickFormat:q,tickLength:W,tickPosition:Z,tickSign:re,ticks:de})))}return wy}var w2t=b2t();const _2t=Rs(w2t);var C2t=["animationTrajectory","tickComponent"];function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(null,arguments)}function S2t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function E2t(e){var t=e.animationTrajectory,n=e.tickComponent,r=S2t(e,C2t),s=f.useMemo(function(){return function(i){return T.createElement(B1t,fb({},i,{tickComponent:n,animationTrajectory:t}))}},[t,n]);return T.createElement(_2t,fb({},r,{ticksComponent:s}))}var Ry={},Ay={},BV;function Zwe(){if(BV)return Ay;BV=1,Ay.__esModule=!0,Ay.default=i;var e=r(zh()),t=r(qh()),n=["from","to","fill","className","innerRef"];function r(o){return o&&o.__esModule?o:{default:o}}function s(){return s=Object.assign?Object.assign.bind():function(o){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])}return o},s.apply(this,arguments)}function a(o,c){if(o==null)return{};var u={},d=Object.keys(o),h,m;for(m=0;m<d.length;m++)h=d[m],!(c.indexOf(h)>=0)&&(u[h]=o[h]);return u}function i(o){var c=o.from,u=c===void 0?{x:0,y:0}:c,d=o.to,h=d===void 0?{x:1,y:1}:d,m=o.fill,p=m===void 0?"transparent":m,g=o.className,v=o.innerRef,y=a(o,n),x=u.x===h.x||u.y===h.y;return e.default.createElement("line",s({ref:v,className:(0,t.default)("visx-line",g),x1:u.x,y1:u.y,x2:h.x,y2:h.y,fill:p,shapeRendering:x?"crispEdges":"auto"},y))}return Ay}var jy={},$V;function k2t(){if($V)return jy;$V=1,jy.__esModule=!0,jy.default=e;function e(t){return"bandwidth"in t?t.bandwidth():0}return jy}var HV;function M2t(){if(HV)return Ry;HV=1,Ry.__esModule=!0,Ry.default=m;var e=u(rA()),t=u(zh()),n=u(qh()),r=u(Zwe()),s=SP,a=Xwe,i=EP,o=u(k2t()),c=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function u(p){return p&&p.__esModule?p:{default:p}}function d(){return d=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(p[y]=v[y])}return p},d.apply(this,arguments)}function h(p,g){if(p==null)return{};var v={},y=Object.keys(p),x,b;for(b=0;b<y.length;b++)x=y[b],!(g.indexOf(x)>=0)&&(v[x]=p[x]);return v}function m(p){var g=p.top,v=g===void 0?0:g,y=p.left,x=y===void 0?0:y,b=p.scale,w=p.width,_=p.stroke,C=_===void 0?"#eaf0f6":_,S=p.strokeWidth,k=S===void 0?1:S,E=p.strokeDasharray,M=p.className,N=p.children,R=p.numTicks,A=R===void 0?10:R,P=p.lineStyle,O=p.offset,I=p.tickValues,L=h(p,c),F=I??(0,i.getTicks)(b,A),D=(O??0)+(0,o.default)(b)/2,B=F.map(function($,W){var X,ee=((X=(0,i.coerceNumber)(b($)))!=null?X:0)+D;return{index:W,from:new a.Point({x:0,y:ee}),to:new a.Point({x:w,y:ee})}});return t.default.createElement(s.Group,{className:(0,n.default)("visx-rows",M),top:v,left:x},N?N({lines:B}):B.map(function($){var W=$.from,X=$.to,ee=$.index;return t.default.createElement(r.default,d({key:"row-line-"+ee,from:W,to:X,stroke:C,strokeWidth:k,strokeDasharray:E,style:P},L))}))}return m.propTypes={tickValues:e.default.array,width:e.default.number.isRequired},Ry}var T2t=M2t();const N2t=Rs(T2t);var R2t=["scale","lines","animationTrajectory","animateXOrY","lineKey","lineStyle"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(null,arguments)}function A2t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Jwe(e){var t=e.scale,n=e.lines,r=e.animationTrajectory,s=e.animateXOrY,a=e.lineKey,i=e.lineStyle,o=A2t(e,R2t),c=vbe(n,hb({},vwe({scale:t,animateXOrY:s,animationTrajectory:r}),{key:a}));return T.createElement(T.Fragment,null,c(function(u,d,h){var m=u.fromX,p=u.toX,g=u.fromY,v=u.toY,y=u.opacity,x=h.key;return T.createElement(R2.line,hb({key:x,x1:m,x2:p,y1:g,y2:v,strokeOpacity:y,style:i},o))}))}Jwe.propTypes={lineKey:me.func.isRequired};var j2t=["scale","width","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function Q7(){return Q7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q7.apply(null,arguments)}function P2t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function e3e(e){var t=e.scale,n=e.width,r=e.numTicks,s=e.tickValues,a=e.offset,i=e.className,o=e.animationTrajectory,c=e.top,u=e.left,d=P2t(e,j2t);return T.createElement(N2t,{scale:t,width:n,numTicks:r,tickValues:s,className:i,top:c,left:u,offset:a},function(h){var m=h.lines;return T.createElement(Jwe,Q7({scale:t,lines:m,animationTrajectory:o,animateXOrY:"y",lineKey:function(g){var v,y;return"row-"+((v=g==null||(y=g.from)==null?void 0:y.y)!=null?v:"")+"-"+g.index}},d))})}var xs={top:"top",left:"left",bottom:"bottom"};function I2t(e){var t=e.labelOffset,n=e.labelProps,r=e.orientation,s=e.range,a=e.tickLabelFontSize,i=e.tickLength,o=r===xs.left||r===xs.top?-1:1,c,u,d;if(r===xs.top||r===xs.bottom){var h=r===xs.bottom&&typeof n.fontSize=="number"?n.fontSize:0;c=(Number(s[0])+Number(s[s.length-1]))/2,u=o*(i+t+a+h)}else c=o*((Number(s[0])+Number(s[s.length-1]))/2),u=-(i+t),d="rotate("+o*90+")";return{x:c,y:u,transform:d}}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(null,arguments)}function O2t(e){var t=e.hideTicks,n=e.horizontal,r=e.orientation,s=e.tickClassName,a=e.tickComponent,i=e.tickLabelProps,o=e.tickStroke,c=o===void 0?"#222":o,u=e.tickTransform,d=e.ticks,h=e.strokeWidth,m=e.tickLineProps;return d.map(function(p){var g,v=p.value,y=p.index,x=p.from,b=p.to,w=p.formattedValue,_=(g=i[y])!=null?g:{},C=Math.max(10,typeof _.fontSize=="number"&&_.fontSize||0),S=b.y+(n&&r!==xs.top?C:0);return T.createElement(Gs,{key:"visx-tick-"+v+"-"+y,className:U("visx-axis-tick",s),transform:u},!t&&T.createElement(h_,dg({from:x,to:b,stroke:c,strokeWidth:h,strokeLinecap:"square"},m)),a?a(dg({},_,{x:b.x,y:S,formattedValue:w})):T.createElement(e_,dg({x:b.x,y:S},_),w))})}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(null,arguments)}var WV={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function L2t(e){var t=e.axisFromPoint,n=e.axisLineClassName,r=e.axisToPoint,s=e.hideAxisLine,a=e.hideTicks,i=e.horizontal,o=e.label,c=o===void 0?"":o,u=e.labelClassName,d=e.labelOffset,h=d===void 0?14:d,m=e.labelProps,p=e.orientation,g=p===void 0?xs.bottom:p,v=e.scale,y=e.stroke,x=y===void 0?"#222":y,b=e.strokeDasharray,w=e.strokeWidth,_=w===void 0?1:w,C=e.tickClassName,S=e.tickComponent,k=e.tickLineProps,E=e.tickLabelProps,M=e.tickLength,N=M===void 0?8:M,R=e.tickStroke,A=R===void 0?"#222":R,P=e.tickTransform,O=e.ticks,I=e.ticksComponent,L=I===void 0?O2t:I,F=fg({},WV,m),D=fg({},WV,typeof E=="object"?E:null),B=O.map(function(W){var X=W.value,ee=W.index;return typeof E=="function"?E(X,ee,O):D}),$=Math.max.apply(Math,[10].concat(B.map(function(W){return typeof W.fontSize=="number"?W.fontSize:0})));return T.createElement(T.Fragment,null,L({hideTicks:a,horizontal:i,orientation:g,scale:v,tickClassName:C,tickComponent:S,tickLabelProps:B,tickStroke:A,tickTransform:P,ticks:O,strokeWidth:_,tickLineProps:k}),!s&&T.createElement(h_,{className:U("visx-axis-line",n),from:t,to:r,stroke:x,strokeWidth:_,strokeDasharray:b}),c&&T.createElement(e_,fg({className:U("visx-axis-label",u)},I2t({labelOffset:h,labelProps:F,orientation:g,range:v.range(),tickLabelFontSize:$,tickLength:N}),F),c))}function D2t(e,t){t===void 0&&(t="center");var n=e;if(t!=="start"&&"bandwidth"in n){var r=n.bandwidth();return t==="center"&&(r/=2),n.round()&&(r=Math.round(r)),function(s){var a=n(s);return typeof a=="number"?a+r:a}}return e}function F2t(e){var t=e;return"tickFormat"in t?t.tickFormat():gwe}function Py(e,t){var n=e.x,r=e.y;return new Sc(t?{x:n,y:r}:{x:r,y:n})}function X7(){return X7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X7.apply(null,arguments)}var c6=0;function U2t(e){return e===void 0&&(e=c6),typeof e=="number"?{start:e,end:e}:X7({start:c6,end:c6},e)}var B2t=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function Z7(){return Z7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z7.apply(null,arguments)}function $2t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function mb(e){var t=e.children,n=t===void 0?L2t:t,r=e.axisClassName,s=e.hideAxisLine,a=s===void 0?!1:s,i=e.hideTicks,o=i===void 0?!1:i,c=e.hideZero,u=c===void 0?!1:c,d=e.innerRef,h=e.left,m=h===void 0?0:h,p=e.numTicks,g=p===void 0?10:p,v=e.orientation,y=v===void 0?xs.bottom:v,x=e.rangePadding,b=x===void 0?0:x,w=e.scale,_=e.tickFormat,C=e.tickLength,S=C===void 0?8:C,k=e.tickValues,E=e.top,M=E===void 0?0:E,N=$2t(e,B2t),R=_??F2t(w),A=y===xs.left,P=y===xs.top,O=P||y===xs.bottom,I=D2t(w),L=A||P?-1:1,F=w.range(),D=U2t(b),B=Py({x:Number(F[0])+.5-D.start,y:0},O),$=Py({x:Number(F[F.length-1])+.5+D.end,y:0},O),W=(k??CP(w,g)).filter(function(ee){return!u||ee!==0&&ee!=="0"}).map(function(ee,ne){return{value:ee,index:ne}}),X=W.map(function(ee){var ne=ee.value,V=ee.index,q=c_(I(ne));return{value:ne,index:V,from:Py({x:q,y:0},O),to:Py({x:q,y:S*L},O),formattedValue:R(ne,V,W)}});return T.createElement(Gs,{className:U("visx-axis",r),innerRef:d,top:M,left:m},n(Z7({},N,{axisFromPoint:B,axisToPoint:$,hideAxisLine:a,hideTicks:o,hideZero:u,horizontal:O,numTicks:g,orientation:y,rangePadding:b,scale:w,tickFormat:R,tickLength:S,tickPosition:I,tickSign:L,ticks:X})))}var H2t=Zwe();const W2t=Rs(H2t);function z2t(e){return"bandwidth"in e?e.bandwidth():0}var V2t=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function J7(){return J7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J7.apply(this,arguments)}function G2t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function U1(e){var t=e.top,n=t===void 0?0:t,r=e.left,s=r===void 0?0:r,a=e.scale,i=e.width,o=e.stroke,c=o===void 0?"#eaf0f6":o,u=e.strokeWidth,d=u===void 0?1:u,h=e.strokeDasharray,m=e.className,p=e.children,g=e.numTicks,v=g===void 0?10:g,y=e.lineStyle,x=e.offset,b=e.tickValues,w=G2t(e,V2t),_=b??CP(a,v),C=(x??0)+z2t(a)/2,S=_.map(function(k,E){var M,N=((M=c_(a(k)))!=null?M:0)+C;return{index:E,from:new Sc({x:0,y:N}),to:new Sc({x:i,y:N})}});return T.createElement(Gs,{className:U("visx-rows",m),top:n,left:s},p?p({lines:S}):S.map(function(k){var E=k.from,M=k.to,N=k.index;return T.createElement(W2t,J7({key:"row-line-"+N,from:E,to:M,stroke:c,strokeWidth:d,strokeDasharray:h,style:y},w))}))}U1.propTypes={tickValues:me.array,width:me.number.isRequired};function zV({ref:e}){const t=e.current,[n,r,s]=f.useMemo(()=>{if(t){const a=t.querySelectorAll(".visx-axis-tick"),i=Array.from(a).map(o=>{const{width:c,height:u}=o.getBBox();return[c,u]});if(i.length){const o=Math.max(...i.map(u=>u[0])),c=Math.max(...i.map(u=>u[1]));return[o,c,i.length*o]}}return[0,0,0]},[t]);return f.useMemo(()=>({minRequiredWidth:s,maxLabelWidth:n,maxLabelHeight:r}),[r,n,s])}function p_(){const e=f.useRef(null),{maxLabelWidth:t,minRequiredWidth:n}=zV({ref:e}),r=f.useRef(null),{maxLabelWidth:s}=zV({ref:r});return f.useMemo(()=>({xAxisRef:e,yAxisRef:r,maxXLabelWidth:t,maxYLabelWidth:s,minXRequiredWidth:n}),[t,s,n])}const VV=40,u6=e=>typeof e=="number";function g_({config:e,innerWidth:t,innerHeight:n,maxXLabelWidth:r}){let s=Math.floor(t/(r+VV));u6(e?.x?.numTicks)&&u6(s)&&(s=Math.min(s,e.x.numTicks)),r||(s=void 0);let a=Math.floor(n/VV);return u6(e?.y?.numTicks)&&(a=Math.min(a,e.y.numTicks)),{xTiltTicks:!1,xNumTicks:s,yNumTicks:a}}const t3e="fill-textOff font-mono text-xs font-bold truncate max-w-[100px]",GV="fill-textOff dark:fill-textOff  text-xs font-semibold font-sans",q2t=(e,t,n)=>n?{transform:"rotate(-10deg)",transformOrigin:`${e}px ${t}px`,textAnchor:"end"}:{textAnchor:"middle"};function K2t(e){const{shouldTilt:t,x:n,y:r,formattedValue:s,style:a,className:i,...o}=e;return l.jsx("text",{...o,x:n,y:r,dy:"2px",className:U(t3e,i),style:{...a,...q2t(n,r,t)},children:s})}const B1=T.memo(function(t){const{margin:n,height:r,width:s,xScale:a,yScale:i,xFormat:o,yFormat:c,yNumTicks:u,xNumTicks:d,xTickValues:h,yTickValues:m,xTiltTicks:p,animated:g,tickColor:v,axisColor:y,xAxisRef:x,yAxisRef:b,xAxisLabel:w,yAxisLabel:_,gridDashed:C=!1,gridStrokeWidth:S=.5}=t,k=vl(),E=g?E2t:mb,M=g?e3e:U1,N=f.useCallback(A=>l.jsx(K2t,{...A,shouldTilt:p}),[p]),R=f.useMemo(()=>({className:t3e,textAnchor:"start",dx:"0.75em",dy:"-0.25em"}),[]);return l.jsxs(l.Fragment,{children:[l.jsx(mb,{orientation:xs.bottom,top:r-n.bottom,scale:a,stroke:y,hideAxisLine:!0,label:w,labelClassName:GV,tickFormat:o,numTicks:d,tickStroke:v,innerRef:x,tickValues:h,tickComponent:N,axisClassName:"select-none"}),l.jsx(E,{orientation:xs.left,left:n.left,hideAxisLine:!0,label:_,labelOffset:7.5,labelClassName:GV,scale:i,tickFormat:c,stroke:y,tickStroke:v,hideTicks:!0,innerRef:b,tickLabelProps:R,numTicks:u,tickValues:m,axisClassName:"select-none"}),k&&l.jsx(M,{left:n.left,scale:i,width:s-n.right-n.left*2,strokeDasharray:C?"8,4":void 0,stroke:y,strokeWidth:S,numTicks:u})]})});B1.displayName="Axes";const n3e="#1FB8CD",r3e="#B4413C",Y2t=[n3e,"#FFC185",r3e,"#ECEBD5","#5D878F","#DB4545","#D2BA4C","#964325"],s3e="#20808D",a3e="#A84B2F",Q2t=[s3e,a3e,"#1B474D","#BCE2E7","#944454","#FFC553","#848456","#6E522B"],X2t={tickColor:"#2F3031",axisColor:"#2F3031",textColor:"#aaaaaa",colorSchema:Y2t},Z2t={tickColor:"#D9D9D0",axisColor:"#D9D9D0",textColor:"#A0A0A0",colorSchema:Q2t},J2t=D1("%b %d"),ext=D1("%b"),txt=D1("%Y");function nxt(e){return e?(e=new Date(e),(L1(e)<e?J2t:gi(e)<e?ext:txt)(e)):""}const zUt=(e,t,n)=>{if(!e&&(e!==0||!n?.renderZero))return"";const r=e%1===0&&!n?.alwaysShowMinor||n?.roundToMajor?0:2;let s=n?.roundToMajor?0:2;if(e>0&&e<1){const i=Math.abs(e).toExponential();s=Math.abs(parseInt(i.split("e")[1]))+1}const a=Intl.NumberFormat(void 0,{style:t?"currency":"decimal",currency:t,minimumFractionDigits:1,maximumFractionDigits:1,currencyDisplay:n?.currencyDisplay??"narrowSymbol"});return n?.truncate&&e>=1e6?`${a.format(e/1e6)}M`:n?.truncate&&e>=1e3?`${a.format(e/1e3)}k`:e.toLocaleString(void 0,{style:t?"currency":"decimal",currency:t,minimumFractionDigits:r,maximumFractionDigits:s,currencyDisplay:n?.currencyDisplay??"narrowSymbol"})};function rxt(e,t){const n=e>1?0:2;return e.toLocaleString(void 0,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:n})}const sxt={time:e=>new Date(e),linear:e=>+e,band:e=>e,ordinal:e=>e,log:e=>+e,point:e=>e};function d6(e,t){if(!e)return r=>null;if(t===void 0)return r=>r[e];const n=sxt[t]||(r=>r);return r=>n(r[e])}function Qd(e,t){return typeof t=="function"?t(e):typeof t=="string"?t.replace("%s",e):e instanceof Date?nxt(e):String(e)}const sa={time:F1,linear:Eh,band:xP,log:wP,point:bP,ordinal:_P},qV=["band","ordinal","point"];function axt({width:e,height:t,margin:n,hasAxis:r,maxYLabelWidth:s=0}){const a=n.left+(r?s+15:0),i=e-n.right-n.left,o=t-n.bottom,c=n.top,u=[a,i],d=[o,c],h=Math.max(0,i-a);return{innerHeight:Math.max(0,o-c),innerWidth:h,xRange:u,yRange:d}}function VUt(e,t,n){const r=[];let s="";return e.forEach(a=>{const i=t(a),o=i.toISOString().slice(0,10);o!==s&&(s=o,r.push(i))}),r.filter((a,i)=>i%n===0)}function v_(e){const{colorScheme:t}=zr(),n=vl(),r=f.useMemo(()=>n?t==="dark":!1,[t,n]);return f.useMemo(()=>({...r?X2t:Z2t,...e}),[r,e])}function y_(e){return f.useMemo(()=>e.data.map(n=>({__key:Math.random(),...n})),[e.data])}function x_({config:e}){const t=f.useMemo(()=>d6(e.x.accessor,e.x.scale),[e.x]),n=f.useMemo(()=>d6(e.y.accessor,e.y.scale),[e.y]),r=f.useMemo(()=>d6(e.z?.accessor,e.z?.scale),[e.z]);return f.useMemo(()=>({xGet:t,yGet:n,zGet:r}),[t,n,r])}function b_({config:e}){const t=f.useCallback(o=>Qd(o,e.x.format),[e.x]),n=f.useCallback(o=>Qd(o,e.y.format),[e.y]),r=f.useCallback(o=>Qd(o,e.z?.format),[e.z]),s=f.useCallback(o=>Qd(o,e.x.tooltipFormat??e.x.format),[e.x]),a=f.useCallback(o=>Qd(o,e.y.tooltipFormat??e.y.format),[e.y]),i=f.useCallback(o=>Qd(o,e.z?.tooltipFormat??e.z?.format),[e.z]);return f.useMemo(()=>({xFormat:t,yFormat:n,zFormat:r,xTooltipFormat:s,yTooltipFormat:a,zTooltipFormat:i}),[t,n,r,s,a,i])}function $1({width:e,height:t,margin:n,maxYLabelWidth:r,hasAxis:s}){return f.useMemo(()=>axt({width:e,height:t,margin:n,maxYLabelWidth:r,hasAxis:s}),[e,t,n,r,s])}function jP({config:e,xGet:t,yGet:n,data:r,endTime:s,previousClose:a}){const i=f.useMemo(()=>{if(qV.includes(e.x.scale))return[...new Set(r.map(t))];const u=Qo(r,t);return e.x.tickValues?Qo([...e.x.tickValues,...u]):u},[e.x.tickValues,e.x.scale,r,t]),o=f.useMemo(()=>{if(qV.includes(e.y.scale))return[...new Set(r.map(n))];const d=[...Qo(r,n)];a!==void 0&&d.push(a),e.y.tickValues&&d.push(...e.y.tickValues);const[h,m]=Qo(d),g=(m-h)*.05;return[h-g,m+g]},[e.y.tickValues,e.y.scale,r,n,a]),c=f.useMemo(()=>{if(!s||!i||i.length<2||e.x.scale!=="time")return i;const[u,d]=i;return new Date(d).toDateString()!==s.toDateString()?i:Date.now()<s.getTime()&&d<s?[u,s]:i},[i,s,e.x.scale]);return f.useMemo(()=>({xDomain:c,yDomain:o}),[c,o])}function i3e(e){const[t,n]=f.useState({width:0,height:0});return f.useEffect(()=>{const r=()=>{e.current&&n({width:e.current.offsetWidth,height:e.current.offsetHeight})};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e]),t}const o3e=T.memo(({color:e})=>l.jsx("div",{className:"h-[14px] w-[14px] rounded-full",style:{backgroundColor:e}}));o3e.displayName="Tile";const H1=T.memo(({entries:e})=>l.jsx("ol",{className:"my-sm gap-x-md gap-y-xs flex flex-wrap",children:e.map(({key:t,color:n})=>l.jsxs("li",{className:"gap-xs fade-in flex items-center transition-all duration-200",children:[l.jsx(o3e,{color:n}),l.jsx(j,{variant:"tiny",color:"light",children:String(t)})]},String(t)))}));H1.displayName="Legend";const W1=T.memo(({width:e,height:t,children:n,ref:r})=>{const s=f.useMemo(()=>({position:"relative",height:t,overflow:"visible"}),[t]);return l.jsx(H,{style:s,children:l.jsx("svg",{width:e,ref:r,height:t,style:{position:"absolute",left:0,top:0,overflow:"visible"},children:n})})});function ixt(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function oxt(e){return!!e&&"createSVGPoint"in e}function lxt(e){return!!e&&"getScreenCTM"in e}function cxt(e){return!!e&&"changedTouches"in e}function uxt(e){return!!e&&"clientX"in e}function dxt(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(this,arguments)}var f6={x:0,y:0};function fxt(e){if(!e)return hg({},f6);if(cxt(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:hg({},f6);if(uxt(e))return{x:e.clientX,y:e.clientY};var t=e?.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:hg({},f6)}function hxt(e,t){if(!e||!t)return null;var n=fxt(t),r=ixt(e)?e.ownerSVGElement:e,s=lxt(r)?r.getScreenCTM():null;if(oxt(r)&&s){var a=r.createSVGPoint();return a.x=n.x,a.y=n.y,a=a.matrixTransform(s.inverse()),new Sc({x:a.x,y:a.y})}var i=e.getBoundingClientRect();return new Sc({x:n.x-i.left-e.clientLeft,y:n.y-i.top-e.clientTop})}function mxt(e,t){if(dxt(e)){var n=e,r=n.target;if(r)return hxt(r,n)}return null}var pxt=["tooltipOpen"];function gxt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(null,arguments)}function vxt(e){var t=f.useState(pb({tooltipOpen:!1},e)),n=t[0],r=t[1],s=f.useCallback(function(i){return r(typeof i=="function"?function(o){o.tooltipOpen;var c=gxt(o,pxt);return pb({},i(c),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:i.tooltipLeft,tooltipTop:i.tooltipTop,tooltipData:i.tooltipData})},[r]),a=f.useCallback(function(){return r({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[r]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:r,showTooltip:s,hideTooltip:a}}var yxt=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(null,arguments)}function xxt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var l3e={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},PP=T.forwardRef(function(e,t){var n=e.className,r=e.top,s=e.left,a=e.offsetLeft,i=a===void 0?10:a,o=e.offsetTop,c=o===void 0?10:o,u=e.style,d=u===void 0?l3e:u,h=e.children,m=e.unstyled,p=m===void 0?!1:m,g=e.applyPositionStyle,v=g===void 0?!1:g,y=xxt(e,yxt);return T.createElement("div",gb({ref:t,className:U("visx-tooltip",n),style:gb({top:r==null||c==null?r:r+c,left:s==null||i==null?s:s+i},v&&{position:"absolute"},!p&&d)},y),h)});PP.propTypes={children:me.node,className:me.string,left:me.number,offsetLeft:me.number,offsetTop:me.number,top:me.number,applyPositionStyle:me.bool,unstyled:me.bool};PP.displayName="Tooltip";function eT(){return eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eT.apply(null,arguments)}function bxt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tT(e,t)}function tT(e,t){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tT(e,t)}var KV={top:0,right:0,bottom:0,left:0,width:0,height:0};function wxt(e){var t;return t=function(n){function r(a){var i;return i=n.call(this,a)||this,i.state={rect:void 0,parentRect:void 0},i.nodeRef=T.createRef(),i.getRects=i.getRects.bind(i),i}bxt(r,n);var s=r.prototype;return s.componentDidMount=function(){var i,o=this;this.node=(i=this.nodeRef)!=null&&i.current?this.nodeRef.current:TQ.findDOMNode(this),this.setState(function(){return o.getRects()})},s.getRects=function(){if(!this.node)return this.state;var i=this.node,o=i.parentNode,c=i.getBoundingClientRect?i.getBoundingClientRect():KV,u=o!=null&&o.getBoundingClientRect?o.getBoundingClientRect():KV;return{rect:c,parentRect:u}},s.render=function(){return T.createElement(e,eT({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},r}(T.PureComponent),t.displayName="withBoundingRects("+(e.displayName||"")+")",t}var c3e=f.createContext({isFlippedVertically:!1,isFlippedHorizontally:!1}),_xt=c3e.Provider;c3e.Consumer;var Cxt=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(null,arguments)}function Sxt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function u3e(e){var t=e.children;e.getRects;var n=e.left,r=n===void 0?0:n,s=e.offsetLeft,a=s===void 0?10:s,i=e.offsetTop,o=i===void 0?10:i,c=e.parentRect,u=e.rect,d=e.style,h=d===void 0?l3e:d,m=e.top,p=m===void 0?0:m,g=e.unstyled,v=g===void 0?!1:g,y=e.nodeRef,x=Sxt(e,Cxt),b,w=!1,_=!1;if(u&&c){var C=r,S=p;if(c.width){var k=C+a+u.width-c.width,E=u.width-C-a;w=k>0&&k>E}else{var M=C+a+u.width-window.innerWidth,N=u.width-C-a;w=M>0&&M>N}if(c.height){var R=S+o+u.height-c.height,A=u.height-S-o;_=R>0&&R>A}else _=S+o+u.height>window.innerHeight;C=w?C-u.width-a:C+a,S=_?S-u.height-o:S+o,C=Math.round(C),S=Math.round(S),b="translate("+C+"px, "+S+"px)"}return T.createElement(PP,vb({ref:y,style:vb({left:0,top:0,transform:b},!v&&h)},x),T.createElement(_xt,{value:{isFlippedVertically:!_,isFlippedHorizontally:!w}},t))}u3e.propTypes={nodeRef:me.oneOfType([me.string,me.func,me.object])};const Ext=wxt(u3e);function YV(e){return function(){return e}}function kxt(e){return e[0]}function Mxt(e){return e[1]}function yb(){this._=null}function w_(e){e.U=e.C=e.L=e.R=e.P=e.N=null}yb.prototype={constructor:yb,insert:function(e,t){var n,r,s;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=QV(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(s=r.R,s&&s.C?(n.C=s.C=!1,r.C=!0,e=r):(e===n.R&&(lp(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cp(this,r))):(s=r.L,s&&s.C?(n.C=s.C=!1,r.C=!0,e=r):(e===n.L&&(cp(this,n),e=n,n=e.U),n.C=!1,r.C=!0,lp(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,s=e.R,a,i;if(r?s?a=QV(s):a=r:a=s,t?t.L===e?t.L=a:t.R=a:this._=a,r&&s?(i=a.C,a.C=e.C,a.L=r,r.U=a,a!==s?(t=a.U,a.U=e.U,e=a.R,t.L=e,a.R=s,s.U=a):(a.U=t,t=a,e=a.R)):(i=e.C,e=a),e&&(e.U=t),!i){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,lp(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,cp(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,lp(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,cp(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,lp(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,cp(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function lp(e,t){var n=t,r=t.R,s=n.U;s?s.L===n?s.L=r:s.R=r:e._=r,r.U=s,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cp(e,t){var n=t,r=t.L,s=n.U;s?s.L===n?s.L=r:s.R=r:e._=r,r.U=s,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function QV(e){for(;e.L;)e=e.L;return e}function Tp(e,t,n,r){var s=[null,null],a=Jr.push(s)-1;return s.left=e,s.right=t,n&&xb(s,e,t,n),r&&xb(s,t,e,r),na[e.index].halfedges.push(a),na[t.index].halfedges.push(a),s}function up(e,t,n){var r=[t,n];return r.left=e,r}function xb(e,t,n,r){!e[0]&&!e[1]?(e[0]=r,e.left=t,e.right=n):e.left===n?e[1]=r:e[0]=r}function Txt(e,t,n,r,s){var a=e[0],i=e[1],o=a[0],c=a[1],u=i[0],d=i[1],h=0,m=1,p=u-o,g=d-c,v;if(v=t-o,!(!p&&v>0)){if(v/=p,p<0){if(v<h)return;v<m&&(m=v)}else if(p>0){if(v>m)return;v>h&&(h=v)}if(v=r-o,!(!p&&v<0)){if(v/=p,p<0){if(v>m)return;v>h&&(h=v)}else if(p>0){if(v<h)return;v<m&&(m=v)}if(v=n-c,!(!g&&v>0)){if(v/=g,g<0){if(v<h)return;v<m&&(m=v)}else if(g>0){if(v>m)return;v>h&&(h=v)}if(v=s-c,!(!g&&v<0)){if(v/=g,g<0){if(v>m)return;v>h&&(h=v)}else if(g>0){if(v<h)return;v<m&&(m=v)}return!(h>0)&&!(m<1)||(h>0&&(e[0]=[o+h*p,c+h*g]),m<1&&(e[1]=[o+m*p,c+m*g])),!0}}}}}function Nxt(e,t,n,r,s){var a=e[1];if(a)return!0;var i=e[0],o=e.left,c=e.right,u=o[0],d=o[1],h=c[0],m=c[1],p=(u+h)/2,g=(d+m)/2,v,y;if(m===d){if(p<t||p>=r)return;if(u>h){if(!i)i=[p,n];else if(i[1]>=s)return;a=[p,s]}else{if(!i)i=[p,s];else if(i[1]<n)return;a=[p,n]}}else if(v=(u-h)/(m-d),y=g-v*p,v<-1||v>1)if(u>h){if(!i)i=[(n-y)/v,n];else if(i[1]>=s)return;a=[(s-y)/v,s]}else{if(!i)i=[(s-y)/v,s];else if(i[1]<n)return;a=[(n-y)/v,n]}else if(d<m){if(!i)i=[t,v*t+y];else if(i[0]>=r)return;a=[r,v*r+y]}else{if(!i)i=[r,v*r+y];else if(i[0]<t)return;a=[t,v*t+y]}return e[0]=i,e[1]=a,!0}function Rxt(e,t,n,r){for(var s=Jr.length,a;s--;)(!Nxt(a=Jr[s],e,t,n,r)||!Txt(a,e,t,n,r)||!(Math.abs(a[0][0]-a[1][0])>gn||Math.abs(a[0][1]-a[1][1])>gn))&&delete Jr[s]}function Axt(e){return na[e.index]={site:e,halfedges:[]}}function jxt(e,t){var n=e.site,r=t.left,s=t.right;return n===s&&(s=r,r=n),s?Math.atan2(s[1]-r[1],s[0]-r[0]):(n===r?(r=t[1],s=t[0]):(r=t[0],s=t[1]),Math.atan2(r[0]-s[0],s[1]-r[1]))}function d3e(e,t){return t[+(t.left!==e.site)]}function Pxt(e,t){return t[+(t.left===e.site)]}function Ixt(){for(var e=0,t=na.length,n,r,s,a;e<t;++e)if((n=na[e])&&(a=(r=n.halfedges).length)){var i=new Array(a),o=new Array(a);for(s=0;s<a;++s)i[s]=s,o[s]=jxt(n,Jr[r[s]]);for(i.sort(function(c,u){return o[u]-o[c]}),s=0;s<a;++s)o[s]=r[i[s]];for(s=0;s<a;++s)r[s]=o[s]}}function Oxt(e,t,n,r){var s=na.length,a,i,o,c,u,d,h,m,p,g,v,y,x=!0;for(a=0;a<s;++a)if(i=na[a]){for(o=i.site,u=i.halfedges,c=u.length;c--;)Jr[u[c]]||u.splice(c,1);for(c=0,d=u.length;c<d;)g=Pxt(i,Jr[u[c]]),v=g[0],y=g[1],h=d3e(i,Jr[u[++c%d]]),m=h[0],p=h[1],(Math.abs(v-m)>gn||Math.abs(y-p)>gn)&&(u.splice(c,0,Jr.push(up(o,g,Math.abs(v-e)<gn&&r-y>gn?[e,Math.abs(m-e)<gn?p:r]:Math.abs(y-r)<gn&&n-v>gn?[Math.abs(p-r)<gn?m:n,r]:Math.abs(v-n)<gn&&y-t>gn?[n,Math.abs(m-n)<gn?p:t]:Math.abs(y-t)<gn&&v-e>gn?[Math.abs(p-t)<gn?m:e,t]:null))-1),++d);d&&(x=!1)}if(x){var b,w,_,C=1/0;for(a=0,x=null;a<s;++a)(i=na[a])&&(o=i.site,b=o[0]-e,w=o[1]-t,_=b*b+w*w,_<C&&(C=_,x=i));if(x){var S=[e,t],k=[e,r],E=[n,r],M=[n,t];x.halfedges.push(Jr.push(up(o=x.site,S,k))-1,Jr.push(up(o,k,E))-1,Jr.push(up(o,E,M))-1,Jr.push(up(o,M,S))-1)}}for(a=0;a<s;++a)(i=na[a])&&(i.halfedges.length||delete na[a])}var f3e=[],IP;function Lxt(){w_(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tf(e){var t=e.P,n=e.N;if(!(!t||!n)){var r=t.site,s=e.site,a=n.site;if(r!==a){var i=s[0],o=s[1],c=r[0]-i,u=r[1]-o,d=a[0]-i,h=a[1]-o,m=2*(c*h-u*d);if(!(m>=-1e-12)){var p=c*c+u*u,g=d*d+h*h,v=(h*p-u*g)/m,y=(c*g-d*p)/m,x=f3e.pop()||new Lxt;x.arc=e,x.site=s,x.x=v+i,x.y=(x.cy=y+o)+Math.sqrt(v*v+y*y),e.circle=x;for(var b=null,w=N0._;w;)if(x.y<w.y||x.y===w.y&&x.x<=w.x)if(w.L)w=w.L;else{b=w.P;break}else if(w.R)w=w.R;else{b=w;break}N0.insert(b,x),b||(IP=x)}}}}function Qf(e){var t=e.circle;t&&(t.P||(IP=t.N),N0.remove(t),f3e.push(t),w_(t),e.circle=null)}var h3e=[];function Dxt(){w_(this),this.edge=this.site=this.circle=null}function XV(e){var t=h3e.pop()||new Dxt;return t.site=e,t}function h6(e){Qf(e),Xf.remove(e),h3e.push(e),w_(e)}function Fxt(e){var t=e.circle,n=t.x,r=t.cy,s=[n,r],a=e.P,i=e.N,o=[e];h6(e);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<gn&&Math.abs(r-c.circle.cy)<gn;)a=c.P,o.unshift(c),h6(c),c=a;o.unshift(c),Qf(c);for(var u=i;u.circle&&Math.abs(n-u.circle.x)<gn&&Math.abs(r-u.circle.cy)<gn;)i=u.N,o.push(u),h6(u),u=i;o.push(u),Qf(u);var d=o.length,h;for(h=1;h<d;++h)u=o[h],c=o[h-1],xb(u.edge,c.site,u.site,s);c=o[0],u=o[d-1],u.edge=Tp(c.site,u.site,null,s),Tf(c),Tf(u)}function Uxt(e){for(var t=e[0],n=e[1],r,s,a,i,o=Xf._;o;)if(a=m3e(o,n)-t,a>gn)o=o.L;else if(i=t-Bxt(o,n),i>gn){if(!o.R){r=o;break}o=o.R}else{a>-1e-6?(r=o.P,s=o):i>-1e-6?(r=o,s=o.N):r=s=o;break}Axt(e);var c=XV(e);if(Xf.insert(r,c),!(!r&&!s)){if(r===s){Qf(r),s=XV(r.site),Xf.insert(c,s),c.edge=s.edge=Tp(r.site,c.site),Tf(r),Tf(s);return}if(!s){c.edge=Tp(r.site,c.site);return}Qf(r),Qf(s);var u=r.site,d=u[0],h=u[1],m=e[0]-d,p=e[1]-h,g=s.site,v=g[0]-d,y=g[1]-h,x=2*(m*y-p*v),b=m*m+p*p,w=v*v+y*y,_=[(y*b-p*w)/x+d,(m*w-v*b)/x+h];xb(s.edge,u,g,_),c.edge=Tp(u,e,null,_),s.edge=Tp(e,g,null,_),Tf(r),Tf(s)}}function m3e(e,t){var n=e.site,r=n[0],s=n[1],a=s-t;if(!a)return r;var i=e.P;if(!i)return-1/0;n=i.site;var o=n[0],c=n[1],u=c-t;if(!u)return o;var d=o-r,h=1/a-1/u,m=d/u;return h?(-m+Math.sqrt(m*m-2*h*(d*d/(-2*u)-c+u/2+s-a/2)))/h+r:(r+o)/2}function Bxt(e,t){var n=e.N;if(n)return m3e(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var gn=1e-6,Xf,na,N0,Jr;function $xt(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Hxt(e,t){return t[1]-e[1]||t[0]-e[0]}function nT(e,t){var n=e.sort(Hxt).pop(),r,s,a;for(Jr=[],na=new Array(e.length),Xf=new yb,N0=new yb;;)if(a=IP,n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x))(n[0]!==r||n[1]!==s)&&(Uxt(n),r=n[0],s=n[1]),n=e.pop();else if(a)Fxt(a.arc);else break;if(Ixt(),t){var i=+t[0][0],o=+t[0][1],c=+t[1][0],u=+t[1][1];Rxt(i,o,c,u),Oxt(i,o,c,u)}this.edges=Jr,this.cells=na,Xf=N0=Jr=na=null}nT.prototype={constructor:nT,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return d3e(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(o=(a=n.halfedges).length)for(var s=n.site,a,i=-1,o,c,u=t[a[o-1]],d=u.left===s?u.right:u.left;++i<o;)c=d,u=t[a[i]],d=u.left===s?u.right:u.left,c&&d&&r<c.index&&r<d.index&&$xt(s,c,d)<0&&e.push([s.data,c.data,d.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r=this,s,a=r._found||0,i=r.cells.length,o;!(o=r.cells[a]);)if(++a>=i)return null;var c=e-o.site[0],u=t-o.site[1],d=c*c+u*u;do o=r.cells[s=a],a=null,o.halfedges.forEach(function(h){var m=r.edges[h],p=m.left;if(!((p===o.site||!p)&&!(p=m.right))){var g=e-p[0],v=t-p[1],y=g*g+v*v;y<d&&(d=y,a=p.index)}});while(a!==null);return r._found=s,n==null||d<=n*n?o.site:null}};function Wxt(){var e=kxt,t=Mxt,n=null;function r(s){return new nT(s.map(function(a,i){var o=[Math.round(e(a,i,s)/gn)*gn,Math.round(t(a,i,s)/gn)*gn];return o.index=i,o.data=a,o}),n)}return r.polygons=function(s){return r(s).polygons()},r.links=function(s){return r(s).links()},r.triangles=function(s){return r(s).triangles()},r.x=function(s){return arguments.length?(e=typeof s=="function"?s:YV(+s),r):e},r.y=function(s){return arguments.length?(t=typeof s=="function"?s:YV(+s),r):t},r.extent=function(s){return arguments.length?(n=s==null?null:[[+s[0][0],+s[0][1]],[+s[1][0],+s[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(s){return arguments.length?(n=s==null?null:[[0,0],[+s[0],+s[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}var ZV=1;function zxt(e){var t=e.width,n=t===void 0?0:t,r=e.height,s=r===void 0?0:r,a=e.x,i=e.y,o=Wxt();return a&&o.x(a),i&&o.y(i),o.extent([[-1,-1],[n+ZV,s+ZV]]),o}function __({data:e,innerHeight:t,innerWidth:n,xScale:r,yScale:s,xGet:a,yGet:i,voronoiRadius:o=void 0}){const{showTooltip:c,hideTooltip:u,tooltipData:d}=vxt(),h=f.useMemo(()=>zxt({width:n,height:t,x:g=>r(a(g)),y:g=>s(i(g))})(e),[e,n,t,r,s,a,i]),m=f.useCallback(p=>{const{x:g,y:v}=mxt(p)??{x:0,y:0},y=h.find(g,v,o);if(!y)return u();c({tooltipData:{localPoint:{x:g,y:v},voronoiSite:y}})},[c,u,h,o]);return f.useMemo(()=>({showTooltip:c,hideTooltip:u,handleTooltip:m,tooltipData:d}),[m,u,c,d])}const z1=T.memo(function({margin:t,height:n,width:r,tooltipHandle:s,tooltipHide:a,maxYLabelWidth:i}){const c=f.useCallback(()=>a(),[a]);return l.jsx(_m,{x:t.left+i-2.5,y:t.top,width:r-t.right-t.left*2-i+2.5*2,height:n-t.bottom-t.top,fill:"transparent",onTouchStart:s,onTouchMove:s,onMouseMove:s,onMouseLeave:c})});z1.displayName="TooltipListener";const R0=T.memo(({cx:e,cy:t,color:n,r=3})=>l.jsx("circle",{cx:e,cy:t,r,fill:n,stroke:n,strokeWidth:1}));R0.displayName="YDot";const Nh=T.memo(({marginTop:e,tooltipLeft:t=0,innerHeight:n,color:r,strokeWidth:s=1,dotted:a=!1})=>{const i=f.useMemo(()=>({x:t,y:e}),[e,t]),o=f.useMemo(()=>({x:t,y:n+e}),[n,e,t]);return l.jsx("g",{children:l.jsx(h_,{from:i,to:o,stroke:r,strokeWidth:s,strokeDasharray:a?"4 4":void 0,pointerEvents:"none",className:"animate-in fade-in duration-300"})})});Nh.displayName="YCrosshair";const m6=e=>e,p3e=T.memo(({entry:e,xFormat:t=m6,yFormat:n=m6,zFormat:r=m6,xGet:s,yGet:a,zGet:i})=>{const o=[{value:t(s(e))},{value:n(a(e))}];i&&o.unshift({value:r(i(e))});const c=o.filter(u=>u.value);return l.jsx(H,{children:c.map(({value:u},d)=>l.jsx(j,{variant:"tiny",className:"py-two",children:String(u)},d))})});p3e.displayName="InnerToolTip";const g3e=T.memo(({tooltipTop:e=0,tooltipLeft:t=0,children:n})=>{const r=f.useMemo(()=>({position:"absolute",pointerEvents:"none"}),[]);return l.jsx(Ext,{top:e,left:t,style:r,children:l.jsx(H,{variant:"background",className:"p-sm dark:border-background rounded-md border shadow-sm",children:n})})});g3e.displayName="Tooltip";const V1=T.memo(({tooltipTop:e,tooltipLeft:t,entry:n,data:r,config:s,UserToolTip:a,xFormat:i,yFormat:o,zFormat:c,zGet:u,xGet:d,yGet:h})=>l.jsx(g3e,{tooltipTop:e,tooltipLeft:t,children:a?l.jsx(a,{entry:n,config:s,data:r}):l.jsx(p3e,{entry:n,config:s,xFormat:i,yFormat:o,zFormat:c,zGet:u,xGet:d,yGet:h})}));V1.displayName="ComposedTooltip";const Xd=0,v3e=T.memo(function(t){const{width:n,height:r,margin:s,config:a,tooltip:i,colors:o,axes:c=!0}=t,{colorSchema:u,axisColor:d,tickColor:h}=v_(o),m=vl(),p=y_({data:t.data}),{xAxisRef:g,yAxisRef:v,maxYLabelWidth:y,maxXLabelWidth:x,minXRequiredWidth:b}=p_(),{innerHeight:w,innerWidth:_,xRange:C,yRange:S}=$1({width:n,height:r,margin:s,maxYLabelWidth:y,hasAxis:c}),{xNumTicks:k,yNumTicks:E,xTiltTicks:M}=g_({config:a,innerWidth:_,innerHeight:w,maxXLabelWidth:x}),{xGet:N,yGet:R,zGet:A}=x_({config:a}),{xFormat:P,yFormat:O,xTooltipFormat:I,yTooltipFormat:L,zTooltipFormat:F}=b_({config:a}),D=f.useMemo(()=>{if(!a?.z?.accessor)return[{key:"default",data:p}];const ae=a.z.accessor,ie=Zg(p,xe=>String(xe[ae]));return Object.entries(ie).map(([xe,de])=>({key:xe,data:de}))},[p,a.z]),B=D.length>1,$=B?D.map(({key:ae})=>ae):p.map(N),W=sa.band({range:C,domain:$,padding:.4}),X=[...new Set(p.map(N))],ee=sa.band({range:[0,W.bandwidth()],domain:X,padding:.1}),ne=f.useMemo(()=>{const[ae,ie]=Qo(p,R),xe=Math.min(Xd,ae),de=Math.max(Xd,ie);return[xe,de]},[p,R]),V=f.useMemo(()=>sa.linear({range:S,domain:ne}),[S,ne]),q=sa.ordinal({range:u.slice(0,X.length),domain:B?X:$}),{tooltipData:z,hideTooltip:te,handleTooltip:Y}=__({data:p,innerHeight:w,innerWidth:_,xScale:B?ee:W,yScale:V,xGet:N,yGet:R}),re=f.useCallback(({localPoint:ae})=>{const ie=B?ee:W,xe=ie.bandwidth(),de=(ie.step()-xe)/4;if(isNaN(ae?.x??NaN)||isNaN(ae?.y??NaN))return null;const Se=ae?.x,qe=ae?.y;return p.reduce((be,ve)=>{let Be=ie(N(ve))||0;const We=V(R(ve)),Le=Math.abs(We-V(0));return B&&(Be+=W(ve.z)||0),Be!==void 0&&We!==void 0&&Se>=Be-de&&Se<=Be+xe+de&&qe>=We-Le&&qe<=We+Le?{x:Be,y:We,data:ve}:be},null)},[p,W,N,V,R,B,ee])({localPoint:z?.localPoint}),G=f.useMemo(()=>({marginLeft:s.left,marginRight:s.right}),[s.left,s.right]),oe=f.useMemo(()=>[Xd],[]);return l.jsxs(H,{className:"relative",children:[B&&X.length>1&&l.jsx(H,{style:G,children:l.jsx(H1,{entries:X.map(ae=>({key:ae,color:q(ae)}))})}),l.jsxs(W1,{width:n,height:r,children:[l.jsx(B1,{xScale:W,yScale:V,xFormat:P,yFormat:O,width:n,height:r,margin:s,yNumTicks:E,xNumTicks:k,yTickValues:a.y.tickValues,xTickValues:a.x.tickValues,xAxisLabel:a.x.label,yAxisLabel:a.y.label,animated:!0,tickColor:h,axisColor:d,xAxisRef:g,yAxisRef:v,xTiltTicks:M}),m&&l.jsx(e3e,{left:s.left,scale:V,width:n-s.right-s.left*2,stroke:d,tickValues:oe,strokeWidth:2}),D.map(({key:ae,data:ie})=>l.jsx(Gs,{left:W(ae),children:ie.map((xe,de)=>{const Se=B?ee:W;return l.jsx(ke.rect,{rx:2,ry:2,x:Se(N(xe)),width:Se.bandwidth(),fill:q(B?de:ae),initial:{y:V(Xd),height:0,opacity:0},animate:{y:V(Math.max(Xd,R(xe))),height:Math.abs(V(R(xe))-V(Xd)),opacity:1},transition:{duration:.5,ease:"easeInOut"}},de)})},ae)),l.jsx(z1,{margin:s,tooltipHandle:Y,tooltipHide:te,height:r,width:n,maxYLabelWidth:y})]}),re&&z&&l.jsx(V1,{UserToolTip:i,tooltipTop:z?.localPoint?.y,tooltipLeft:z?.localPoint?.x,entry:re.data,data:p,config:a,xFormat:I,yFormat:L,zFormat:F,zGet:A,xGet:N,yGet:R})]})});v3e.displayName="BarChart";var Vxt=["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"];function rT(){return rT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rT.apply(this,arguments)}function Gxt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function C_(e){var t=e.children,n=e.id,r=e.from,s=e.to,a=e.x1,i=e.y1,o=e.x2,c=e.y2,u=e.fromOffset,d=u===void 0?"0%":u,h=e.fromOpacity,m=h===void 0?1:h,p=e.toOffset,g=p===void 0?"100%":p,v=e.toOpacity,y=v===void 0?1:v,x=e.rotate,b=e.transform,w=e.vertical,_=w===void 0?!0:w,C=Gxt(e,Vxt),S=a,k=o,E=i,M=c;return _&&!S&&!k&&!E&&!M&&(S="0",k="0",E="0",M="1"),T.createElement("defs",null,T.createElement("linearGradient",rT({id:n,x1:S,y1:E,x2:k,y2:M,gradientTransform:x?"rotate("+x+")":b},C),!!t&&t,!t&&T.createElement("stop",{offset:d,stopColor:r,stopOpacity:m}),!t&&T.createElement("stop",{offset:g,stopColor:s,stopOpacity:y})))}C_.propTypes={id:me.string.isRequired,from:me.string,to:me.string,x1:me.oneOfType([me.string,me.number]),x2:me.oneOfType([me.string,me.number]),y1:me.oneOfType([me.string,me.number]),y2:me.oneOfType([me.string,me.number]),fromOffset:me.oneOfType([me.string,me.number]),fromOpacity:me.oneOfType([me.string,me.number]),toOffset:me.oneOfType([me.string,me.number]),toOpacity:me.oneOfType([me.string,me.number]),rotate:me.oneOfType([me.string,me.number]),transform:me.string,children:me.node,vertical:me.bool};function qxt({xScale:e,xPosition:t}){const n=e.domain(),[r,s]=e.range(),a=(s-r)/(n.length-1),i=Math.min(Math.max(Math.round((t-r)/a),0),n.length-1);return n[i]}function Kxt({tooltipData:e,config:t,groups:n,xScale:r,xGet:s}){const a=t.z?.accessor?e?.voronoiSite?.data?.[t.z?.accessor]:"",i=f.useMemo(()=>[...(n.find(({key:h})=>h===a)||n[0])?.d||[]].sort((h,m)=>s(h)-s(m)),[a,n,s]),o=e?.localPoint.x,c=f.useMemo(()=>i.map(s),[i,s]);return f.useMemo(()=>{if(o==null)return;if("invert"in r){const m=r.invert(o),p=xm(c,m);if(p<=0)return i[0];if(p>=c.length)return i[c.length-1];const g=i[p-1],v=i[p];return Math.abs(s(g)-m)<Math.abs(s(v)-m)?g:v}const d=qxt({xScale:r,xPosition:o}),h=i.find(m=>String(s(m))===String(d));return h||i.reduce((m,p)=>Math.abs(s(p)-d)<Math.abs(s(m)-d)?p:m,i[0])},[o,r,i,s,c])}const y3e=T.memo(function(t){const{$t:n}=K(),{width:r,height:s,margin:a={top:0,right:0,bottom:0,left:0},config:i,tooltip:o,axes:c=!0,colors:u,animate:d=!0,includeLegend:h=!0,endTime:m,previousClose:p,exchangeName:g,showLastPoint:v=!1,children:y}=t,[x,b]=f.useState(null),w=y_({data:t.data}),_=f.useRef(new Set),{colorSchema:C,tickColor:S,axisColor:k,textColor:E}=v_(u),{colorScheme:M}=zr(),N=M==="dark",{xAxisRef:R,yAxisRef:A,maxYLabelWidth:P,maxXLabelWidth:O,minXRequiredWidth:I}=p_(),{xGet:L,yGet:F,zGet:D}=x_({config:i}),{xFormat:B,yFormat:$,xTooltipFormat:W,yTooltipFormat:X,zTooltipFormat:ee}=b_({config:i}),{xDomain:ne,yDomain:V}=jP({config:i,data:w,xGet:L,yGet:F,endTime:m,previousClose:p}),{innerHeight:q,innerWidth:z,xRange:te,yRange:Y}=$1({width:r,height:s,margin:a,maxYLabelWidth:P,hasAxis:c}),{xNumTicks:Z,yNumTicks:re,xTiltTicks:G}=g_({config:i,innerWidth:z,innerHeight:q,maxXLabelWidth:O}),oe=f.useMemo(()=>sa[i.x.scale]({range:[te[0],O?te[1]-O/2:te[1]],domain:ne}),[i.x.scale,te,ne,O]),ae=f.useMemo(()=>{const Fe=i.y.scale==="log";return sa[i.y.scale]({range:Y,domain:V,base:Fe?2:void 0,nice:!Fe,round:!0})},[i.y.scale,Y,V]),ie=f.useMemo(()=>{if(!i.z?.accessor)return[{key:"",d:w}];const Fe=i.z.accessor,ht=Zg(w,Pt=>String(Pt[Fe]));return Object.entries(ht).map(([Pt,Ft])=>({key:Pt,d:Ft}))},[w,i?.z?.accessor]),xe=f.useMemo(()=>{if(ie.length<=1)return null;const Fe=new Map;return ie.forEach(Pt=>{Pt.d.forEach(Ft=>{const tt=L(Ft);Fe.set(tt,Ft)})}),Array.from(Fe.values()).sort((Pt,Ft)=>L(Pt)-L(Ft))},[ie,L]),{tooltipData:de,hideTooltip:Se,handleTooltip:qe}=__({data:w,innerHeight:q,innerWidth:z,xScale:oe,yScale:ae,xGet:L,yGet:F}),be=Kxt({tooltipData:de,config:i,groups:ie,xScale:oe,xGet:L}),ve=f.useMemo(()=>!v||!ie.length||!ie[0].d.length?null:ie[0].d.at(-1),[ie,v]),Be=f.useMemo(()=>Nd().x(Fe=>oe(L(Fe))).y(Fe=>ae(F(Fe))).curve(Zu),[oe,ae,L,F]),We=f.useMemo(()=>sa.ordinal({domain:ie.map(({key:Fe})=>Fe),range:C}),[C,ie]),Le=f.useCallback(()=>{de&&b(be||null)},[de,be]),De=f.useCallback(()=>{b(null)},[]),Ve=f.useMemo(()=>{const Fe={};if(!x||!be||!ie.length)return Fe;const ht=L(x),Pt=L(be),[Ft,tt]=ht<Pt?[ht,Pt]:[Pt,ht],st=wn=>{const Kr=i.z?.accessor?wn[i.z.accessor]:ie[0].key,un=ie.find(({key:_n})=>_n===Kr);return un?un.d.filter(_n=>{const fe=L(_n);return fe>=Ft&&fe<=tt}):[]},dt=i.z?.accessor?x[i.z.accessor]:ie[0].key;Fe[dt]=st(x);const $t=i.z?.accessor?be[i.z.accessor]:ie[0].key;return dt!==$t&&(Fe[$t]=st(be)),Fe},[x,be,ie,L,i.z?.accessor]),le=f.useMemo(()=>{const Fe=Ve[i.z?.accessor?x?.[i.z.accessor]:ie[0]?.key]||[],ht=Ve[i.z?.accessor?be?.[i.z.accessor]:ie[0]?.key]||[],Pt=[...Fe,...ht],Ft=new Map;return Pt.forEach(st=>{Ft.set(L(st),st)}),Array.from(Ft.values()).sort((st,dt)=>L(st)-L(dt))},[Ve,i.z?.accessor,x,be,ie,L]),we=f.useMemo(()=>({marginLeft:a.left,marginRight:a.right}),[a.left,a.right]),Je=f.useMemo(()=>[p],[p]),Te=f.useCallback(Fe=>oe(L(Fe))??0,[oe,L]),pe=f.useCallback(Fe=>ae(F(Fe))??0,[ae,F]);return l.jsxs(H,{children:[i.z&&ie?.length>1&&h&&l.jsx(H,{style:we,children:l.jsx(H1,{entries:ie.map(({key:Fe})=>({key:Fe,color:We(Fe)}))})}),l.jsxs(H,{className:"relative",onMouseDown:Le,onMouseUp:De,onMouseLeave:De,children:[l.jsxs(W1,{width:r,height:s,children:[c&&l.jsx(B1,{width:r,height:s,margin:a,xScale:oe,yScale:ae,xFormat:B,yFormat:$,yNumTicks:re,xNumTicks:Z,yTickValues:i.y.tickValues,xTickValues:i.x.tickValues,tickColor:S,axisColor:k,xAxisRef:R,yAxisRef:A,xTiltTicks:G,xAxisLabel:i.x.label,yAxisLabel:i.y.label}),y&&y({xScale:oe,yScale:ae,xGet:L,yGet:F}),p&&l.jsx("text",{x:r-a.right-10,y:ae(p)-5,fill:E,fontSize:12,className:"font-mono",textAnchor:"end",children:g==="CRYPTO"?n({defaultMessage:"Prev day: {value}",id:"7i8MvDtMyq"},{value:typeof i.y.format=="function"?i.y.format(p):p}):n({defaultMessage:"Prev close: {value}",id:"uRPxTu0cgj"},{value:typeof i.y.format=="function"?i.y.format(p):p})}),p&&l.jsx(U1,{left:a.left,scale:ae,width:r-a.right-a.left*2,stroke:E,tickValues:Je,strokeWidth:2,strokeDasharray:"2,6",opacity:N?.6:1}),be&&l.jsx(Nh,{marginTop:a.top,tooltipLeft:oe(L(be)),innerHeight:q,color:k,strokeWidth:1}),x&&l.jsx(Nh,{marginTop:a.top,tooltipLeft:oe(L(x)),innerHeight:q,color:k,strokeWidth:1}),xe&&ie.length>1&&ie[1]?.key&&l.jsx(ke.path,{d:Be(xe),stroke:We(ie[1].key),strokeWidth:1.5,fill:"none",shapeRendering:"geometricPrecision",initial:d?{pathLength:d?0:1,opacity:d?0:1}:void 0,animate:d?{pathLength:1,opacity:1}:void 0,transition:d?{duration:.8,ease:"easeInOut"}:void 0}),ie.map(({d:Fe,key:ht},Pt)=>{const Ft=_.current.has(ht),tt=Ft||!d?{initial:void 0,animate:{pathLength:1,opacity:1}}:{initial:{pathLength:d?0:1,opacity:d?0:1},animate:{pathLength:1,opacity:1},transition:{duration:.8,ease:"easeInOut",delay:Pt/ie.length}};return Ft||_.current.add(ht),l.jsx(ke.path,{d:Be(Fe),stroke:We(ht),strokeWidth:2,fill:"none",shapeRendering:"geometricPrecision",...tt},ht)}),(be||ve)&&l.jsxs(ke.g,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0,delay:.8},children:[l.jsx(R0,{cx:oe(L(be||ve)),cy:ae(F(be||ve)),color:We(i.z?.accessor?(be||ve)?.[i.z.accessor]:""),r:5}),x&&be&&l.jsxs(l.Fragment,{children:[l.jsx(R0,{cx:oe(L(x)),cy:ae(F(x)),color:We(i.z?.accessor?x[i.z.accessor]:""),r:5}),le.length>1&&l.jsx(Th,{data:le,x:Te,y:pe,fill:We(ie[0].key),fillOpacity:.2,stroke:"none",yScale:ae,curve:Zu})]})]}),(ie.length===1||ie.length===2)&&ie.map(({d:Fe,key:ht},Pt)=>{const Ft=We(ht);return l.jsx(ke.g,{initial:d?{opacity:0,clipPath:"inset(0% 100% 0% 0%)"}:void 0,animate:d?{opacity:1,clipPath:"inset(0% 0% 0% 0%)"}:void 0,transition:d?{duration:.8,ease:"easeInOut",delay:Pt/ie.length}:void 0,children:!x&&(ie.length===1||Pt===0)&&l.jsxs(l.Fragment,{children:[l.jsx(C_,{from:`${Ft}22`,to:`${Ft}00`,id:ht}),l.jsx(Th,{data:Fe,x:Te,y:pe,strokeWidth:0,yScale:ae,fill:`url('#${ht}')`},ht)]})},ht)}),l.jsx(z1,{margin:a,tooltipHandle:qe,tooltipHide:Se,height:s,width:r,maxYLabelWidth:P})]}),be&&de&&l.jsx(V1,{tooltipTop:de.localPoint.y,tooltipLeft:de.localPoint.x,entry:be,UserToolTip:o?Fe=>l.jsx(o,{...Fe,comparisonEntry:x||void 0}):void 0,data:w,config:i,xFormat:W,yFormat:X,zFormat:ee,zGet:D,xGet:L,yGet:F})]})]})});y3e.displayName="CompositeLineChart";const Yxt=200,Qxt={top:24,right:8,bottom:24,left:16};function Xxt({xScale:e,xPosition:t}){const n=e.domain(),[r,s]=e.range(),a=(s-r)/(n.length-1),i=Math.min(Math.max(Math.round((t-r)/a),0),n.length-1);return n[i]}function Zxt({tooltipData:e,config:t,groups:n,xScale:r,xGet:s}){const a=t.z?.accessor?e?.voronoiSite?.data?.[t.z?.accessor]:"",i=f.useMemo(()=>[...(n.find(({key:d})=>d===a)||n[0])?.d||[]].sort((d,h)=>s(d)-s(h)),[a,n,s]),o=e?.localPoint.x;return f.useMemo(()=>{if(!o)return;if("invert"in r){const h=r.invert(o),m=xm(i.map(s),h);return i?.[m-1]}const u=Xxt({xScale:r,xPosition:o});return i.find(h=>String(s(h))===String(u))},[o,r,i,s])}const x3e=T.memo(e=>{const{$t:t}=K(),{enableComparison:n=!0,width:r,height:s,margin:a={top:0,right:0,bottom:0,left:0},config:i,tooltip:o,axes:c=!0,colors:u,animate:d=!0,includeLegend:h=!0,endTime:m,previousClose:p,exchangeName:g,showLastPoint:v=!1,children:y}=e,[x,b]=f.useState(null),w=y_({data:e.data}),_=vl(),{colorSchema:C,tickColor:S,axisColor:k,textColor:E}=v_(u),{colorScheme:M}=zr(),N=f.useMemo(()=>_?M==="dark":!1,[M,_]),{xAxisRef:R,yAxisRef:A,maxYLabelWidth:P,maxXLabelWidth:O,minXRequiredWidth:I}=p_(),{xGet:L,yGet:F,zGet:D}=x_({config:i}),{xFormat:B,yFormat:$,xTooltipFormat:W,yTooltipFormat:X,zTooltipFormat:ee}=b_({config:i}),{xDomain:ne,yDomain:V}=jP({config:i,data:w,xGet:L,yGet:F,endTime:m,previousClose:p}),{innerHeight:q,innerWidth:z,xRange:te,yRange:Y}=$1({width:r,height:s,margin:a,maxYLabelWidth:P,hasAxis:c}),{xNumTicks:Z,yNumTicks:re,xTiltTicks:G}=g_({config:i,innerWidth:z,innerHeight:q,maxXLabelWidth:O}),oe=f.useMemo(()=>sa[i.x.scale]({range:[te[0],O?te[1]-O/2:te[1]],domain:ne}),[i.x.scale,te,ne,O]),ae=f.useMemo(()=>{const Te=i.y.scale==="log";return sa[i.y.scale]({range:Y,domain:V,base:Te?2:void 0,nice:!Te,round:!0})},[i.y.scale,Y,V]),ie=f.useMemo(()=>{if(!i.z?.accessor)return[{key:"",d:w}];const Te=i.z.accessor,pe=Zg(w,Fe=>String(Fe[Te]));return Object.entries(pe).map(([Fe,ht])=>({key:Fe,d:ht}))},[w,i?.z?.accessor]),{tooltipData:xe,hideTooltip:de,handleTooltip:Se}=__({data:w,innerHeight:q,innerWidth:z,xScale:oe,yScale:ae,xGet:L,yGet:F}),qe=Zxt({tooltipData:xe,config:i,groups:ie,xScale:oe,xGet:L}),be=f.useMemo(()=>!v||!ie.length||!ie[0].d.length?null:ie[0].d.at(-1),[ie,v]),ve=f.useMemo(()=>Nd().x(Te=>oe(L(Te))).y(Te=>ae(F(Te))).curve(Zu),[oe,ae,L,F]),Be=f.useMemo(()=>sa.ordinal({range:C}),[C]),We=f.useCallback(()=>{!xe||!n||b(qe||null)},[n,xe,qe]),Le=f.useCallback(()=>{n&&b(null)},[n]),De=f.useMemo(()=>{if(!x||!qe||!ie.length)return[];const Te=ie[0],pe=L(x),Fe=L(qe),[ht,Pt]=pe<Fe?[pe,Fe]:[Fe,pe];return Te.d.filter(Ft=>{const tt=L(Ft);return tt>=ht&&tt<=Pt})},[x,qe,ie,L]),Ve=f.useMemo(()=>({marginLeft:a.left,marginRight:a.right}),[a.left,a.right]),le=f.useCallback(Te=>oe(L(Te))??0,[oe,L]),we=f.useCallback(Te=>ae(F(Te))??0,[ae,F]),Je=f.useMemo(()=>[p],[p]);return l.jsxs(H,{children:[i.z&&ie?.length>1&&h&&l.jsx(H,{style:Ve,children:l.jsx(H1,{entries:ie.map(({key:Te})=>({key:Te,color:Be(Te)}))})}),l.jsxs(H,{className:"relative",onMouseDown:We,onMouseUp:Le,onMouseLeave:Le,children:[l.jsxs(W1,{width:r,height:s,children:[c&&l.jsx(B1,{width:r,height:s,margin:a,xScale:oe,yScale:ae,xFormat:B,yFormat:$,yNumTicks:re,xNumTicks:Z,yTickValues:i.y.tickValues,xTickValues:i.x.tickValues,tickColor:S,axisColor:k,xAxisRef:R,yAxisRef:A,xTiltTicks:G,xAxisLabel:i.x.label,yAxisLabel:i.y.label}),y&&y({xScale:oe,yScale:ae,xGet:L,yGet:F}),p&&l.jsx("text",{x:r-a.right-10,y:ae(p)-5,fill:E,fontSize:12,className:"font-mono",textAnchor:"end",children:g==="CRYPTO"?t({defaultMessage:"Prev day: {value}",id:"7i8MvDtMyq"},{value:typeof i.y.format=="function"?i.y.format(p):p}):t({defaultMessage:"Prev close: {value}",id:"uRPxTu0cgj"},{value:typeof i.y.format=="function"?i.y.format(p):p})}),p&&l.jsx(U1,{left:a.left,scale:ae,width:r-a.right-a.left*2,stroke:E,tickValues:Je,strokeWidth:2,strokeDasharray:"2,6",opacity:N?.6:1}),qe&&l.jsx(Nh,{marginTop:a.top,tooltipLeft:oe(L(qe)),innerHeight:q,color:k,strokeWidth:1}),x&&l.jsx(Nh,{marginTop:a.top,tooltipLeft:oe(L(x)),innerHeight:q,color:k,strokeWidth:1}),(qe||be)&&l.jsxs(ke.g,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0,delay:.8},children:[l.jsx(R0,{cx:oe(L(qe||be)),cy:ae(F(qe||be)),color:Be(i.z?.accessor?(qe||be)?.[i.z.accessor]:""),r:5}),x&&qe&&De.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(R0,{cx:oe(L(x)),cy:ae(F(x)),color:Be(i.z?.accessor?x[i.z.accessor]:""),r:5}),l.jsx(Th,{data:De,x:le,y:we,fill:Be(i.z?.accessor?x[i.z.accessor]:""),fillOpacity:.2,stroke:"none",yScale:ae,curve:Zu})]})]}),ie.length===1&&ie.map(({d:Te,key:pe},Fe)=>{const ht=Be(pe);return l.jsx(ke.g,{initial:d?{opacity:0,clipPath:"inset(0% 100% 0% 0%)"}:void 0,animate:d?{opacity:1,clipPath:"inset(0% 0% 0% 0%)"}:void 0,transition:d?{duration:.8,ease:"easeInOut",delay:Fe/ie.length}:void 0,children:!x&&l.jsxs(l.Fragment,{children:[l.jsx(C_,{from:`${ht}22`,to:`${ht}00`,id:pe}),l.jsx(Th,{data:Te,x:le,y:we,strokeWidth:0,yScale:ae,fill:`url('#${pe}')`},pe)]})},pe)}),ie.map(({d:Te,key:pe},Fe)=>l.jsx(ke.path,{d:ve(Te),stroke:Be(pe),strokeWidth:2,fill:"none",shapeRendering:"geometricPrecision",initial:d?{pathLength:0,opacity:0}:void 0,animate:d?{pathLength:1,opacity:1}:void 0,transition:d?{duration:.8,ease:"easeInOut",delay:Fe/ie.length}:void 0},pe)),l.jsx(z1,{margin:a,tooltipHandle:Se,tooltipHide:de,height:s,width:r,maxYLabelWidth:P})]}),qe&&xe&&l.jsx(V1,{tooltipTop:xe.localPoint.y,tooltipLeft:xe.localPoint.x,entry:qe,UserToolTip:o?Te=>l.jsx(o,{...Te,comparisonEntry:x||void 0}):void 0,data:w,config:i,xFormat:W,yFormat:X,zFormat:ee,zGet:D,xGet:L,yGet:F})]})]})});x3e.displayName="LineChart";const b3e=T.memo(e=>{const{width:t,height:n,margin:r,config:s,tooltip:a,colors:i,axes:o=!0}=e,c=3,u=y_({data:e.data}),{colorSchema:d,tickColor:h,axisColor:m}=v_(i),{xAxisRef:p,yAxisRef:g,maxYLabelWidth:v,maxXLabelWidth:y,minXRequiredWidth:x}=p_(),{innerHeight:b,innerWidth:w,xRange:_,yRange:C}=$1({width:t,height:n,margin:r,maxYLabelWidth:v,hasAxis:o}),{xNumTicks:S,yNumTicks:k,xTiltTicks:E}=g_({config:s,innerWidth:w,innerHeight:b,maxXLabelWidth:y}),{xGet:M,yGet:N,zGet:R}=x_({config:s}),{xFormat:A,yFormat:P,xTooltipFormat:O,yTooltipFormat:I,zTooltipFormat:L}=b_({config:s}),{xDomain:F,yDomain:D}=jP({data:u,config:s,xGet:M,yGet:N}),B=f.useMemo(()=>sa[s.x.scale]({range:_,domain:F}),[s.x.scale,_,F]),$=f.useMemo(()=>sa[s.y.scale]({range:C,domain:D,nice:!0,round:!0}),[s.y.scale,C,D]),{tooltipData:W,handleTooltip:X,hideTooltip:ee}=__({data:u,innerHeight:b,innerWidth:w,xScale:B,yScale:$,xGet:M,yGet:N,voronoiRadius:c*2}),ne=f.useMemo(()=>sa.ordinal({range:d}),[d]),V=f.useMemo(()=>{if(!s.z?.accessor)return[];const te=new Set([]);return u.forEach(Y=>te.add(Y[s?.z?.accessor])),Array.from(te)},[u,s.z]),q=W?.voronoiSite,z=f.useMemo(()=>({marginLeft:r.left,marginRight:r.right}),[r.left,r.right]);return l.jsxs(H,{children:[V.length>1&&l.jsx(H,{style:z,children:l.jsx(H1,{entries:V.map(te=>({key:te,color:ne(te)}))})}),l.jsxs(H,{className:"relative",children:[l.jsxs(W1,{width:t,height:n,children:[l.jsx(B1,{xScale:B,yScale:$,xFormat:A,yFormat:P,width:t,height:n,margin:r,yTickValues:s.y.tickValues,xTickValues:s.x.tickValues,tickColor:h,axisColor:m,xAxisRef:p,yAxisRef:g,yNumTicks:k,xNumTicks:S,xTiltTicks:E}),q&&l.jsx(Nh,{marginTop:r.top,tooltipLeft:q[0],innerHeight:b,color:m}),l.jsx("g",{children:u.map((te,Y)=>{const Z=q?.data?.__key==te.__key,re=s.z?.accessor?ne(te[s.z.accessor]):ne("");return l.jsx(ke.circle,{"data-hint":`${M(te)}: ${N(te)}`,cx:B(M(te)),cy:$(N(te)),r:c,strokeWidth:c/2,stroke:re,fill:Z?"transparent":re,initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,ease:"easeInOut",delay:Y/u.length}},te.__key)})}),l.jsx(z1,{margin:r,tooltipHandle:X,tooltipHide:ee,height:n,width:t,maxYLabelWidth:v})]}),q&&l.jsx(V1,{tooltipTop:q?.[1],tooltipLeft:q?.[0],UserToolTip:a,entry:q.data,data:u,config:s,xFormat:O,yFormat:I,zFormat:L,zGet:R,xGet:M,yGet:N})]})]})});b3e.displayName="ScatterChart";function Jxt(e){const{type:t,config:n,width:r,data:s,height:a,margin:i,tooltip:o,axes:c,colors:u,animate:d,includeLegend:h,endTime:m,previousClose:p,exchangeName:g,showLastPoint:v,children:y,enableComparison:x}=e;return t==="line"?l.jsx(x3e,{data:s,config:n,width:r,height:a,margin:i,tooltip:o,axes:c,colors:u,animate:d,includeLegend:h,endTime:m,previousClose:p,exchangeName:g,showLastPoint:v,enableComparison:x,children:y}):t==="bar"?l.jsx(v3e,{data:s,config:n,width:r,height:a,margin:i,tooltip:o,colors:u,includeLegend:h}):t==="scatter"?l.jsx(b3e,{data:s,config:n,width:r,height:a,margin:i,tooltip:o,colors:u,includeLegend:h}):t==="compositeLine"?l.jsx(y3e,{data:s,config:n,width:r,height:a,margin:i,tooltip:o,axes:c,colors:u,animate:d,includeLegend:h,endTime:m,previousClose:p,exchangeName:g,showLastPoint:v,children:y}):null}const w3e=T.memo(function({type:t,config:n,data:r,tooltip:s,height:a=Yxt,margin:i=Qxt,axes:o,className:c,colors:u,includeLegend:d,endTime:h,previousClose:m,exchangeName:p,showLastPoint:g,animate:v,children:y,enableComparison:x}){const b=f.useRef(null),{width:w}=i3e(b);return l.jsx("div",{ref:b,className:c,children:l.jsx(Jxt,{type:t,data:r,config:n,width:w,height:a,margin:i,tooltip:s,axes:o,colors:u,includeLegend:d,endTime:h,previousClose:m,exchangeName:p,showLastPoint:g,animate:v,enableComparison:x,children:y})})});w3e.displayName="Chart";const ebt=({data:e,brands:t,teams:n,isLive:r,isFinal:s,startLabel:a,endLabel:i,nowLabel:o,shouldAdjustColors:c=!0,nicknameFormatter:u,tooltip:d})=>{const h=f.useMemo(()=>n.map((I,L)=>({...I,uniqueName:I.name+"​".repeat(L+1)})),[n]),{teamsData:m}=f.useMemo(()=>({teamsData:h.map(I=>{const L=I.brand||Ixe(I.id,t),F=e[I.id]?.candlesticks||[];return{id:I.id,name:I.name,uniqueName:I.uniqueName,brand:L,candlesticks:F}})}),[h,e,t]),{colorScheme:p,isColorSchemeReady:g}=zr(),{earliestTimestamp:v,latestTimestamp:y}=f.useMemo(()=>{let I=1/0,L=0;return m.forEach(F=>{if(F.candlesticks.length>0){const D=F.candlesticks[0]?.timestamp,B=F.candlesticks[F.candlesticks.length-1]?.timestamp;D&&(I=Math.min(I,D)),B&&(L=Math.max(L,B))}}),{earliestTimestamp:I===1/0?0:I,latestTimestamp:L}},[m]),x=f.useMemo(()=>v?new Date(v*1e3):null,[v]),b=f.useMemo(()=>y?new Date(y*1e3):null,[y]),w=f.useMemo(()=>m.flatMap(I=>I.candlesticks.map(L=>({timestamp:new Date(L.timestamp*1e3),value:(L.price.open+L.price.close)/2,team:I.uniqueName}))),[m]),{locale:_}=K(),C=!r&&!s,[S,k]=f.useState(!1),{isMobileStyle:E}=Oe();f.useEffect(()=>{k(!0)},[]);const M=f.useMemo(()=>{const I=[];if((r||s)&&x&&b)I.push(x,b);else if(C&&x&&b){const L=b.getTime()-x.getTime();I.push(x,new Date(x.getTime()+L/2),b)}return I},[r,s,C,x,b]),R={x:{accessor:"timestamp",scale:"time",format:f.useMemo(()=>{const I=M.map((L,F)=>{const D=F===0||F>0&&L.toDateString()!==M[F-1].toDateString();return{date:L,shouldShowDate:D}});return L=>C?I.find(B=>B.date.getTime()===L.getTime())?.shouldShowDate??!0?E?L.toLocaleString(_,{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).replace(":00","").replace(" AM","a").replace(" PM","p"):L.toLocaleString(_,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):E?L.toLocaleString(_,{hour:"numeric",minute:"numeric",hour12:!0}).replace(":00","").replace(" AM","a").replace(" PM","p"):L.toLocaleString(_,{hour:"numeric",minute:"numeric"}):!x||!b?"":L.getTime()===x.getTime()?a:L.getTime()===b.getTime()?s?i:r?o:"":E?L.toLocaleString(_,{hour:"numeric",minute:"numeric",hour12:!0}).replace(":00","").replace(" AM","a").replace(" PM","p"):r?L.toLocaleString(_,{hour:"numeric",minute:"numeric"}):L.toLocaleString(_,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},[M,C,E,_,x,b,s,r,a,i,o]),tickValues:M.length>0?M:void 0,tooltipFormat:I=>I.toLocaleString(_,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},y:{accessor:"value",scale:"linear",format:I=>rxt(I/100)},z:{accessor:"team",scale:"ordinal",label:"team",format:I=>I.replace(/\u200B/g,"")}},A=f.useMemo(()=>{if(!S||!c)return m.map(F=>F.brand?.color||"#4a90e2");let I=null;return m.map(F=>{const D=F.brand?.color||"#4a90e2",B=bb(D,p==="dark"),$=F.brand?.color||"#4a90e2",W=bb($,p==="dark"),X=sT(B.toString(),W.toString(),p==="dark",2);if(I){const ee=sT(X.toString(),I.toString(),X.isDark(),2);return I=ee.hex(),ee.hex()}return I=X.hex(),X.hex()}).map(F=>F.toString())},[m,p,g,S,c]),{$t:P}=K(),O=n.length>2;return l.jsxs("div",{children:[l.jsxs(H,{className:U("mb-sm pb-sm -mx-md -mt-sm px-md flex border-b",{"flex-col":O,"items-center justify-between":!O}),children:[l.jsx(j,{variant:"baseSemi",className:O?"mb-sm":void 0,children:P({id:"J3+o0a6LLR",defaultMessage:"Odds to win"})}),l.jsx("div",{className:U("gap-md flex items-center",{"flex-wrap":O}),children:m.map((I,L)=>l.jsx(sbt,{nickname:u?u(I.name):I.name,color:A[L]},I.id))})]}),l.jsx(w3e,{type:"line",data:w,config:R,height:200,margin:tbt,className:"w-full",includeLegend:!1,colors:{colorSchema:A},enableComparison:!1,tooltip:d})]})},tbt={top:16,right:-6,bottom:10,left:8},bb=(e,t)=>{const n="#f7f1f2",r="#1f2121";return e?sT(e,t?r:n,t):ac(n)},sT=(e,t,n,r=3)=>{if(!e)return ac(t);let s=ac(e),a=0,i=0;for(;s.contrast(ac(t))<r&&(s=n?nbt(s,a):rbt(s,a),a+=.01,i++,!(i>20)););return s};function nbt(e,t){const n=ac(e).lightness();return ac(e).lightness(n+(100-n)*t)}function rbt(e,t){const n=ac(e).lightness();return ac(e).lightness(n-n*t)}const sbt=({nickname:e,color:t})=>l.jsxs(H,{className:"gap-xs flex items-center",children:[l.jsx(H,{className:"size-2 rounded-full",style:{backgroundColor:t}}),l.jsx(j,{variant:"small",children:e})]});function GUt(e,t){return e=Math.abs(e/100),e.toLocaleString(t,{style:"percent",maximumFractionDigits:0})}const abt=new Map([["one","st"],["two","nd"],["few","rd"],["other","th"]]),ibt=new Intl.PluralRules("en-US",{type:"ordinal"});function _3e(e){if(!e&&e!==0||isNaN(e))return"";const t=abt.get(ibt.select(e));return`${e}${t}`}function obt(e,t){if(t!=="upcoming"||e<new Date)return!1;const n=new Date;return Math.abs(+e-+n)<1e3*60*60*24}function qUt(e){return new Date(e.toLocaleDateString(void 0,{timeZone:"UTC"}))}function C3e(e,t){return!bie()||!t?e:bb(e,t==="dark")}const KUt=(e,t,n,r)=>{if(!e||!t)return n;const s=new Date(e),a=new Date(t),i={month:"short",day:"numeric"};s.getFullYear()!==a.getFullYear()&&(i.year="numeric");const o=s.toLocaleDateString(r,i),c=a.toLocaleDateString(r,{...i,year:"numeric"});return s.toDateString()===a.toDateString()?c:s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()?`${s.toLocaleDateString(r,{month:"short"})} ${s.getDate()}-${a.getDate()}, ${a.getFullYear()}`:`${o} - ${c}`},lbt=[17,16];function YUt({event:e,brands:t,isLive:n}){const{$t:r}=K(),[s,a]=f.useState(!1),[i,o]=f.useState("all"),c=f.useMemo(()=>(e.matchEvents?e.matchEvents.liveData.event:[]).filter(d=>i==="all"?!0:lbt.includes(d.typeId[0])).reduce((d,h)=>(d[h.periodId[1].toString()]=d[h.periodId[1].toString()]||[],d[h.periodId[1].toString()].push(h),d),{}),[e?.matchEvents,i]),u=f.useMemo(()=>[{text:r({defaultMessage:"All Plays",id:"lVQ27GyPmi"}),onClick:()=>o("all"),show:!0,active:i==="all"},{text:r({defaultMessage:"Key Plays",id:"CyNRXF54hv"}),onClick:()=>o("key"),show:!0,active:i==="key"}],[i,r]);return l.jsxs(l.Fragment,{children:[l.jsx(H,{variant:"raised",className:"rounded-xl border",children:l.jsx($3,{title:r(n?{defaultMessage:"Play by Play",id:"g2y6uMg3RU"}:{defaultMessage:"Play Summary",id:"HtqDGZkC7q"}),trailing:l.jsx("div",{className:"-mb-sm",children:l.jsx(Dc,{actionList:u,layoutGroupId:"soccer-play-summary-tab-bar",layout:"right",size:"tiny"})}),children:l.jsx("div",{className:"-my-md",children:l.jsx(E3e,{plays:c,event:e,onViewAll:()=>a(!0),playsToRender:6,reverse:!0,brands:t,inModal:!1})})})}),s&&l.jsx(hbt,{plays:c,isOpen:s,onClose:()=>a(!1),event:e,brands:t,reverse:!0,setOpen:a})]})}const S3e=({isRed:e,className:t})=>l.jsx("svg",{width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:U("shrink-0",t),children:l.jsx("rect",{x:"4.29248",y:"0.726685",width:"12",height:"15",rx:"2",transform:"rotate(14.6454 4.29248 0.726685)",fill:e?"#EB4E45":"#f6c825"})}),E3e=f.memo(({plays:e,onViewAll:t,playsToRender:n=1/0,reverse:r=!0,brands:s,inModal:a=!1})=>{const{$t:i}=K();let o=n;const c=r?[...Object.keys(e)].reverse():Object.keys(e);return l.jsx(md,{className:"relative isolate",mode:"popLayout",transition:{duration:.2,ease:qn},children:l.jsx(mc,{children:l.jsxs(H,{children:[c.map(u=>{let d=0;const h=e[u].length;return o<=0?null:(o<h?(d=o,o=0):(d=h,o-=h),l.jsx(cbt,{plays:e[u],playsToRender:d,period:u,reverse:r,brands:s},u))}),!a&&t&&l.jsx("div",{className:"-mx-sm py-sm flex items-center justify-center",children:l.jsx(ze,{variant:"super",chevron:!0,chevronIcon:Wr,text:i({defaultMessage:"View All",id:"wbcwKddwLa"}),fullWidth:!0,size:"small",onClick:t})})]})})})});function cbt({plays:e,playsToRender:t,period:n,reverse:r,brands:s}){const a=f.useMemo(()=>r?[...e].reverse():e,[e,r]),i=vl();return l.jsxs(H,{children:[t>0&&l.jsx(H,{variant:"offsetPlus",className:U("-mx-md px-md py-sm sticky top-0 z-10 flex items-center justify-between"),children:l.jsx(j,{variant:"smallCaps",color:"light",children:n})}),l.jsx(dd,{children:l.jsx(ke.div,{layout:!0,layoutRoot:!0,children:a.slice(0,t).map(o=>l.jsx(ubt,{play:o,brands:s,parentHasMounted:i},o.id))})})]})}const ubt=f.memo(({play:e,brands:t,parentHasMounted:n})=>{const r=f.useRef(!n),s=xh(e.contestantId,t,"soccer"),{colorScheme:a}=zr(),i=C3e(s.color,a).toString();return l.jsxs(ke.div,{className:"-mx-md border-borderMain/50 px-md py-md relative border-b",initial:r.current?void 0:{opacity:0},animate:r.current?void 0:{opacity:1},transition:{layout:{duration:.2,ease:qn},opacity:{duration:.2,ease:Vs}},layout:"position",children:[l.jsx("div",{className:"left-xs inset-y-xs absolute w-1 rounded-full opacity-50",style:{backgroundColor:i}}),!r.current&&l.jsx(ke.div,{className:"bg-super/15 absolute inset-0",initial:{opacity:1},animate:{opacity:0},transition:{duration:1,ease:Vs,delay:.2}}),l.jsxs("div",{className:"gap-md relative flex items-center",children:[l.jsx(xo,{logo:s.logo,color:s.color,size:"small",includeStripe:!1}),l.jsxs("div",{className:"gap-sm flex flex-1 flex-row items-center",children:[l.jsxs("div",{className:"gap-md flex items-baseline",children:[l.jsxs(j,{variant:"tiny",color:"light",children:[e.timeMin,"'"]}),l.jsx(j,{variant:"small",children:e.commentary_text})]}),dbt(e)&&l.jsx(S3e,{isRed:fbt(e)==="red"})]})]})]})}),dbt=e=>e.typeId[0]===17,fbt=e=>{const t=e.commentary_text.toLowerCase();return t.includes("second yellow card")||t.includes("red card")?"red":t.includes("yellow card")?"yellow":null},hbt=({plays:e,isOpen:t,setOpen:n,event:r,brands:s,reverse:a})=>{const i=f.useRef(null),{isMobileStyle:o}=Oe();return l.jsx(jt,{modalContentClassname:"!py-0 mb-0 min-h-0",modalClassname:"[&_>div]:min-h-0",isOpen:t,onClose:()=>n(!1),variant:o?"bottom-sheet":"side-sheet",includeBlur:!1,children:l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[l.jsx(j,{variant:"section-title",className:"py-sm -mt-sm -mx-md px-md border-borderMain/50 shadow-subtle border-b",children:"Play by Play"}),l.jsx("div",{ref:i,className:"-mx-md px-md scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent flex min-h-0 flex-1 flex-col overflow-y-auto overflow-x-hidden",children:l.jsx(E3e,{plays:e,event:r,brands:s,inModal:!0,reverse:a})})]})})},mbt=({event:e})=>{const n=[...e.matchStats?.contestantStats.map(r=>{const s=r.goal_events.map(i=>({type:"goal",event:i})),a=r.red_card_events.map(i=>({type:"red_card",event:i}));return[...s,...a]})??[]].map(r=>r.sort((s,a)=>s.event[0]-a.event[0]));return!n||n.length===0?null:l.jsx("div",{className:"gap-md p-md grid grid-cols-2",children:n.map((r,s)=>l.jsx(pbt,{events:r,position:s===0?"left":"right"},s))})},pbt=({events:e,position:t})=>l.jsx("div",{className:U("gap-xs flex flex-col",{"items-start":t==="left","items-end":t==="right"}),children:e.map((n,r)=>l.jsx(gbt,{event:n,position:t},r))}),gbt=({event:e,position:t})=>l.jsxs("div",{className:"gap-xs flex items-center",children:[l.jsxs(j,{variant:"tiny",className:U("flex items-center gap-1",{"flex-row-reverse":t==="right"}),children:[l.jsx(vbt,{event:e})," ",e.event[1]]}),l.jsxs(j,{variant:"tiny",color:"light",children:[e.event[0],"'"]})]}),vbt=({event:e})=>e.type!=="goal"?l.jsx(S3e,{isRed:!0,className:"size-md inline-block"}):l.jsx("div",{className:"size-md inline-block",children:"⚽️"}),S_=T.memo(({size:e="default",className:t,includeDot:n})=>{const{$t:r}=K();return l.jsx("div",{className:U("flex shrink-0 items-center justify-center",t),children:l.jsxs(j,{variant:e==="tiny"?"micro":"tiny",color:"super",className:U("bg-background-super flex shrink-0 items-center rounded-full py-0.5 pt-[3px]",{"px-2.5":e==="default","pl-2":e==="default"&&n,"px-2":e==="small","px-1.5":e==="tiny"}),children:[n&&l.jsxs("span",{className:"grid",children:[l.jsx("span",{className:"bg-super mr-1 size-1.5 rounded-full",style:{gridArea:"1/-1"}}),l.jsx("span",{className:"bg-super mr-1 size-1.5 animate-ping rounded-full",style:{gridArea:"1/-1"}})]}),r({defaultMessage:"Live",id:"Dn82ALx/+V"}).toUpperCase()]})})}),ybt=["West First Round","East First Round","Western Conference Semifinals","Eastern Conference Semifinals","Western Conference Finals","Eastern Conference Finals","NBA Finals"],k3e=e=>ybt.includes(e);function xbt({children:e,className:t}){return l.jsx(j,{variant:"micro",className:U("py-xs !font-mono uppercase",t),color:"light",children:e})}const QUt="[&_tr>td:first-child]:pl-md [&_tr>th:first-child]:pl-md [&_tr>td:last-child]:pr-md [&_tr>th:last-child]:pr-md",OP=({className:e})=>{const{$t:t}=K();return l.jsx("div",{className:U("flex items-center justify-center",e),children:l.jsx(j,{variant:"tiny",color:"light",className:"bg-background-200 dark:bg-background-300 rounded-full px-2.5 py-0.5 pt-[3px]",children:t({defaultMessage:"Final",id:"6/JzkWi0di"}).toUpperCase()})})},bbt=({className:e})=>{const{$t:t}=K();return l.jsx("div",{className:U("flex items-center justify-center",e),children:l.jsx(j,{variant:"tiny",color:"light",className:"bg-background-200 dark:bg-background-300 rounded-full px-2.5 py-0.5 pt-[3px]",children:t({defaultMessage:"Upcoming",id:"6/aEFZbs2i"}).toUpperCase()})})},M3e=T.memo(()=>l.jsx("div",{}));M3e.displayName="SportsWidgetErrorFallback";const JV=new Set,wbt=e=>e.status==="live"||e.status==="upcoming";function _bt({widget:e}){const{isMobileStyle:t}=Oe(),{result:{backend_uuid:n,mode:r}}=Ti(),s=F3();if(f.useEffect(()=>{!n||!e||!e?.events?.length||JV.has(n)||(s("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:r}),JV.add(n))},[n,e?.events?.length,r,e,s]),!e?.events?.length)return null;const a=e.canonical_pages?.[0]?.url_web,i=e.events.at(0),o=!t&&(i&&wbt(i)||e.events.length<5),c=e.league??"nba";return l.jsx(La,{fallback:M3e,children:l.jsx(To,{widgetType:"sports",widgetName:e.object,children:({widgetSelected:u})=>l.jsx(Cbt,{canonicalPageLink:a,children:l.jsx(Nbt,{events:e.events,showHero:o,widgetSelected:u,league:c})})})})}const Cbt=({children:e,canonicalPageLink:t})=>{const{$t:n}=K();return l.jsxs(H,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?l.jsx(it,{href:t,children:l.jsxs(j,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),l.jsx(Wr,{size:18})]})}):null]})},T3e=({initialData:e,refetch:t=!1,reason:n})=>at({initialData:e,queryKey:["sports/events/widget",e.id],queryFn:async()=>{if(!e.refetch_url)return e;const r=await Nn({urlPath:e.refetch_url,timeoutMs:0,reason:n});if(!r.ok)throw Q.error("Failed to fetch sport event",{url:e.refetch_url,status:r.status,statusText:r.statusText}),new Error(`Failed to fetch sport event ${r.status} ${r.statusText}`);return await r.json()},refetchInterval:r=>r.state.data?.refetch_url?r.state.data?.refetch_interval_secs*1e3:!1,enabled:!!e.refetch_url&&t}),Sbt=({event:e,onClick:t,eventCount:n,league:r})=>{const{data:s}=T3e({initialData:e,refetch:!0,reason:"sports-event-row"}),a=N3e(),i=r==="nba"&&k3e(s.title[0]),o=P3e(s.team_1,s.team_2),c=i?o:null,u=f.useMemo(()=>[{title:s.team_1.title,score:s.team_1.text,subscore:s.team_1.sub_text,image:s.team_1.img,emphasized:s.team_1.won,period:s.period_text},{title:s.team_2.title,score:s.team_2.text,subscore:s.team_2.sub_text,image:s.team_2.img,emphasized:s.team_2.won,period:s.period_text}],[s]);return l.jsx(j3e,{href:s.url?.url_web,onClick:()=>t(s.url?.url_web),children:l.jsx(jbt,{title:s.status==="live"?"LIVE":a(s.datetime,s.datetime_tba),isLive:s.status==="live",items:u,period:R3e(s.period_text,s.period_time,r)??null,eventCount:n,subtitle:c??void 0},s.id)})},Ebt=({events:e,onClick:t,league:n})=>l.jsx("div",{className:U("bg-background-200/25 dark:bg-background-300/25 grid grid-cols-1 rounded-b-lg md:grid-cols-2",{"lg:grid-cols-3":e.length>2}),children:e.map(r=>l.jsx(Sbt,{event:r,onClick:t,eventCount:e.length,league:n},r.id))}),kbt=e=>{const{locale:t}=K();return e?new Date(e).toLocaleTimeString(t,{hour:"numeric",minute:"numeric",timeZoneName:"short"}):""},Mbt=e=>e.join(" · "),N3e=({includeTime:e=!0}={})=>{const{$t:t}=K(),{locale:n}=K();return f.useCallback((r,s)=>{if(!r&&s)return t({defaultMessage:"TBA",id:"ZfAWFLTzx/"});if(!r)return"";const a=new Date(r),i=r&&s,o=a.toLocaleTimeString(n,{hour:"numeric",minute:"numeric",timeZoneName:"short"});if(nie(a))return e?`${t({defaultMessage:"Today",id:"zWgbGgjUUg"})}, ${o}`:t({defaultMessage:"Today",id:"zWgbGgjUUg"});if(Eet(a))return e?`${t({defaultMessage:"Yesterday",id:"6dIxDP1C8c"})}, ${o}`:t({defaultMessage:"Yesterday",id:"6dIxDP1C8c"});if(rie(a))return e?`${t({defaultMessage:"Tomorrow",id:"MtrTNyxuSU"})}, ${o}`:t({defaultMessage:"Tomorrow",id:"MtrTNyxuSU"});if(a.getFullYear()!==new Date().getFullYear())return new Date(a).toLocaleDateString(n,{month:"short",day:"numeric",year:"numeric"});const c=a.toLocaleDateString(n,{month:"short",day:"numeric"});if(!e)return c;const u=i?"TBA":a.toLocaleTimeString(n,{hour:"numeric",minute:"numeric",timeZoneName:"short"});return`${c}, ${u}`},[n,t,e])},R3e=(e,t,n)=>{if(n==="mlb")return Tbt(e);if(!e||typeof t?.seconds!="number"&&typeof t?.minutes!="number")return e;const r=t?.seconds?.toString().padStart(2,"0")??"00",s=t?.minutes??0;return`${e} ${s}:${r}`},Tbt=e=>e?.replace("Top","▲").replace("Bot","▼"),Nbt=({events:e,showHero:t,widgetSelected:n,league:r})=>{const s=f.useMemo(()=>t?e.slice(1):e,[e,t]),{data:a}=T3e({initialData:e[0],refetch:t,reason:"sports-widget-dense"});return l.jsxs(H,{children:[t&&l.jsxs(j3e,{href:a?.url?.url_web,onClick:()=>{n(a?.url?.url_web)},children:[l.jsx(Rbt,{event:a,includeBorder:s.length>0,league:r,statusExtra:a&&r==="mlb"&&a.status==="live"?l.jsx(Hft,{event:{event:a}}):null}),r==="championsleague"&&a&&l.jsx(mbt,{event:{event:a,brands:[],candlestickData:null,matchEvents:null,matchStats:a.extra?.match_stats??null,eventExtra:null}})]}),l.jsx(Ebt,{events:s,onClick:n,league:r})]})},A3e=()=>l.jsx("span",{className:"text-textMain/35",children:"—"}),j3e=({children:e,href:t,onClick:n})=>t?l.jsx(it,{href:t,className:"group/link group",onClick:n,children:e}):l.jsx("div",{className:"group",onClick:n,children:e}),P3e=(e,t)=>{const{$t:n}=K(),r=e.subtitle?.split("-"),s=t.subtitle?.split("-"),a=r?+r[0]:null,i=s?+s[0]:null,o=4;if(a===null||i===null)return null;const c=a>i?e.abbreviation:t.abbreviation,u=a>i?a:i,d=a>i?i:a;return a>=o||i>=o?n({defaultMessage:"{leadingTeam} Wins {leadingScore}-{trailingScore}",id:"T1UC+k87MZ"},{leadingTeam:c,leadingScore:u,trailingScore:d}):a===i?n({defaultMessage:"Series Tied {team1Record}-{team2Record}",id:"Liahhq+hIg"},{team1Record:a,team2Record:i}):n({defaultMessage:"{leadingTeam} Leads {leadingScore}-{trailingScore}",id:"oO28OWtTlZ"},{leadingTeam:c,leadingScore:u,trailingScore:d})},Rbt=({event:e,includeBorder:t=!1,className:n,league:r,scoreExtra:s,statusExtra:a})=>{const{$t:i}=K(),o=e.team_1.title,c=e.team_2.title,u=e.team_1.text,d=e.team_1.sub_text,h=e.team_2.text,m=e.team_2.sub_text,p=r==="nba"&&k3e(e.title[0]),g=P3e(e.team_1,e.team_2),v=p?g:null,y=N3e({includeTime:!1}),x=kbt(e.datetime),b=e.datetime_tba?i({defaultMessage:"TBA",id:"ZfAWFLTzx/"}):x,w=Mbt(e.title),_=bie(),{colorScheme:C}=zr(),S=R3e(e.period_text,e.period_time,r),k=e.team_1.won||e.team_2.won,E=f.useMemo(()=>{let M;return k?(e.team_1.won?M=e.team_1.color:M=e.team_2.color,_?bb(M??"",C==="dark"):M):null},[e.team_1.won,e.team_1.color,e.team_2.color,C,k,_]);return l.jsxs(H,{className:U(n,"rounded-inherit relative",{"border-b":t}),children:[k&&l.jsx("div",{className:"rounded-inherit pointer-events-none absolute inset-0 overflow-hidden",style:{color:E,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"},children:l.jsx(rat,{className:"-inset-xl rounded-inherit !absolute ![--dog-bg-highlight:currentColor]",dotClassName:"!text-[currentColor]",highlightClassName:"!bg-black/5 dark:!bg-white/5"})}),l.jsx("div",{className:"px-md gap-sm relative flex items-start justify-between pt-[12px]",children:l.jsxs(j,{variant:"tiny",color:"light",children:[w,v&&" · "+v]})}),l.jsxs("div",{className:"p-md md:px-lg md:py-md gap-sm relative grid grid-cols-[1fr_auto_1fr] items-center justify-start md:justify-between md:gap-[12px]",children:[l.jsxs("div",{className:"gap-md flex flex-col-reverse items-center justify-start md:flex-row md:justify-start md:gap-[12px]",children:[l.jsx(nG,{record:e.team_1.subtitle,name:o,logo:e.team_1.img}),l.jsx("div",{className:"md:mx-auto",children:l.jsx(eG,{position:"leading",score:u,subscore:d,isWinner:e.team_1.won,hasWinner:k,scoreExtra:s,team:e.team_1,teamIdx:0,league:r})})]}),l.jsxs("div",{className:"gap-sm flex flex-col items-center",children:[l.jsx(Abt,{status:e.status,date:y(e.datetime,e.datetime_tba),time:b,isUpcoming:e.datetime?obt(new Date(e.datetime),e.status):void 0,period:S??null}),a]}),l.jsxs("div",{className:"gap-md flex flex-col-reverse items-center justify-start md:flex-row-reverse md:gap-[12px]",children:[l.jsx(nG,{record:e.team_2.subtitle,name:c,logo:e.team_2.img}),l.jsx("div",{className:"md:mx-auto",children:l.jsx(eG,{score:h,subscore:m,position:"trailing",isWinner:e.team_2.won,hasWinner:k,scoreExtra:s,team:e.team_2,teamIdx:1,league:r})})]})]}),e.live_text&&l.jsx("div",{className:"bg-background-200/50 dark:bg-background-300/50 px-md relative py-[12px]",children:l.jsxs(j,{variant:"tiny",color:"light",className:"gap-sm line-clamp-1 flex items-start md:items-center",children:[l.jsx(uDe,{size:16,className:"opacity-80 md:-translate-y-px"}),e.live_text]})}),k&&l.jsx("div",{className:"rounded-inherit pointer-events-none absolute inset-0 opacity-20 mix-blend-multiply dark:opacity-60 dark:mix-blend-soft-light",style:{backgroundColor:E??void 0,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"}}),!t&&k&&l.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[12px] border opacity-40",style:{borderColor:E,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"}}),!t&&k&&l.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[13px] border opacity-20 dark:opacity-40",style:{borderColor:E,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"}})]})},eG=({score:e,subscore:t,position:n,emptyPlaceholder:r=l.jsx(A3e,{}),isWinner:s,hasWinner:a,scoreExtra:i,team:o,teamIdx:c,league:u})=>{const{isMobileStyle:d}=Oe(),h=u==="ipl"||u==="cricket"||u==="atp"||u==="wta";return l.jsxs("div",{className:U("md:gap-xs flex flex-col items-center justify-center",{"items-start":n==="leading","items-end":n==="trailing","opacity-50":a&&!s}),children:[l.jsxs(j,{variant:d?h?"section-title":"display":"section-title",className:"gap-xs md:gap-sm flex items-center sm:!text-2xl lg:!text-3xl",children:[s&&n==="trailing"&&l.jsx(tG,{className:"size-3 rotate-180 md:size-4"}),l.jsxs("span",{className:"font-mono",children:[i&&l.jsx("span",{className:"mr-xs",children:i(o,c)}),e??r]}),s&&n==="leading"&&l.jsx(tG,{className:"size-2.5 md:size-4"})]}),t&&l.jsx(j,{variant:"tiny",color:"light",children:l.jsx("span",{className:"font-mono",children:t})})]})},tG=({className:e})=>l.jsx("svg",{width:"6",viewBox:"0 0 18 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 0.322327L0.822266 17.5L18 34.6777V0.322327Z",className:"fill-text"})}),nG=({name:e,logo:t,record:n})=>e?l.jsxs("div",{className:"gap-sm flex flex-col items-center justify-between md:gap-0",children:[t&&l.jsx(xo,{logo:t,color:"#000000"}),l.jsx(j,{variant:"baseSemi",children:e}),n&&l.jsx(j,{variant:"tiny",color:"light",children:l.jsx("span",{className:"font-mono",children:n})})]}):null,Abt=({status:e,date:t,time:n,isUpcoming:r,variant:s="stacked",period:a})=>{const i=e==="live",o=e==="final",{isMobileStyle:c}=Oe();return l.jsx("div",{className:U("gap-sm flex",{"flex-row items-center":s==="row","flex-col items-center justify-center":s==="stacked"}),children:i?l.jsxs("div",{className:"gap-sm flex flex-col items-center",children:[l.jsx(S_,{size:c?"small":"default",includeDot:!0}),a&&l.jsx(j,{variant:"tiny",color:"light",children:a})]}):l.jsxs("div",{className:U("gap-xs flex",{"flex-col":s==="stacked","flex-row items-center":s==="row"}),children:[r&&l.jsx(bbt,{className:"mb-1 hidden md:block"}),o&&l.jsx(OP,{className:"-mt-0.5 md:mb-1 md:mt-0 md:block"}),l.jsx(j,{variant:"tiny",color:"light",className:"w-full whitespace-nowrap text-center",children:t}),n&&!o&&l.jsx(j,{variant:"tiny",color:"light",className:"w-full whitespace-nowrap text-center",children:n})]})})},jbt=({items:e,title:t,subtitle:n,isLive:r,period:s,eventCount:a})=>{const i=e.some(d=>d.emphasized),{isMobileStyle:o}=Oe(),{isLargeScreen:c,isMediumScreen:u}=j3();return l.jsx(H,{variant:"raised",className:U("px-md h-full py-[12px]",{"border-b border-r-0 group-last:border-b-0 group-even:border-r-0":o,"border-b group-odd:border-r":u&&!c,"group-[&:nth-child(2n):nth-last-child(-n+3)~a]:border-b-0":u&&!c&&a>2,"border-b border-r group-[&:nth-child(3n)]:border-r-0":c,"group-[&:nth-child(3n):nth-last-child(-n+4)~a]:border-b-0":c&&a>3,"!border-b-0":c&&a<=3||u&&!c&&a<=2}),children:l.jsxs("div",{className:"gap-sm flex h-full w-full flex-col items-start justify-between duration-150 group-hover/link:opacity-75",children:[r?l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx(S_,{size:"small",className:"-ml-1"}),s&&l.jsx(j,{variant:"tiny",color:"super",children:s})]}):t?l.jsx(j,{variant:"tinyRegular",color:"light",children:t}):null,l.jsx("div",{className:"w-full",children:e.map((d,h)=>l.jsx(Pbt,{item:d,anyEmphasized:i},d.title+h))}),n&&l.jsx(j,{variant:"tinyRegular",color:"light",children:n})]})})},Pbt=({item:e,anyEmphasized:t})=>{const n=f.useMemo(()=>e.score?e.subscore?`${e.score} ${e.subscore}`:e.score:l.jsx(A3e,{}),[e.score,e.subscore]);return l.jsxs(H,{className:"flex w-full items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[e.image&&l.jsx("img",{src:e.image,alt:e.title,className:"size-[24px]"}),l.jsx(j,{variant:e.emphasized?"smallBold":"small",color:t&&!e.emphasized?"light":"default",children:e.title})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[e.emphasized&&l.jsx(AFe,{size:14,className:"text-super -translate-y-[0.5px]"}),l.jsx(j,{variant:e.emphasized?"smallBold":"small",color:t&&!e.emphasized?"light":"default",children:n})]})]})},I3e=T.memo(()=>l.jsx("div",{children:"Error loading individual event widget."}));I3e.displayName="IndvEventsWidgetErrorFallback";const rG=new Set,Ibt=({children:e,canonicalPageLink:t})=>{const{$t:n}=K();return l.jsxs(H,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?l.jsx(it,{href:t,children:l.jsxs(j,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),l.jsx(Wr,{size:18})]})}):null]})},Obt=(e,t)=>{if(!e)return"";try{return new Date(e).toLocaleDateString(t,{month:"short",day:"numeric"})}catch{return""}},Lbt=(e,t)=>{if(!e)return"";try{return new Date(e).toLocaleTimeString(t,{hour:"numeric",minute:"2-digit",hour12:!0}).replace(/^0+/,"")}catch{return""}},O3e=({competitor:e})=>l.jsxs(H,{className:"gap-sm border-borderMain/50 px-md py-sm flex items-center border-b last:border-b-0",children:[l.jsx(j,{className:"w-4 text-center",children:e.rank}),l.jsxs("div",{className:"gap-sm flex flex-grow items-center",children:[e.primary_img_url?l.jsx(xo,{logo:e.primary_img_url,color:"transparent",size:"small",className:"shrink-0"}):l.jsx(H,{className:"flex h-5 w-8 flex-shrink-0 items-center justify-center rounded-sm bg-stone-700 text-xs",children:e.abbreviation}),l.jsxs("div",{className:"flex flex-grow flex-col",children:[l.jsx(j,{variant:"smallBold",children:e.title}),l.jsxs(j,{variant:"tiny",color:"light",children:[e.metadata[0]," "]})]})]}),l.jsxs(H,{className:"flex flex-col items-end text-right",children:[l.jsx(j,{variant:"smallBold",children:e.metadata[1]}),l.jsx(j,{variant:"tiny",color:"light",children:e.metadata[2]})]})]},e.id),Dbt=({event:e,league:t})=>{const{locale:n}=K(),r=e.subtitle,{$t:s}=K(),a=Lbt(e.datetime,n),i=e.datetime?$j(new Date(e.datetime))?s({defaultMessage:"Today",id:"zWgbGgjUUg"}):rie(new Date(e.datetime))?s({defaultMessage:"Tomorrow",id:"MtrTNyxuSU"}):new Date(e.datetime).toLocaleDateString(n,{weekday:"short",month:"short",day:"numeric"}):"";return l.jsxs(H,{className:"flex flex-col",children:[l.jsxs(H,{className:"p-md border-borderMain flex items-end justify-between border-b",children:[l.jsxs(H,{className:"flex flex-col",children:[l.jsx(j,{variant:"baseSemi",children:e.title.join(" ")}),l.jsxs(j,{variant:"small",color:"light",children:[t.toUpperCase(),r&&`・${r}`]})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx(j,{variant:"small",children:i}),l.jsx(j,{variant:"small",color:"light",children:a})]})]}),e.image_url&&l.jsx(H,{className:"aspect-video w-full overflow-hidden rounded-lg bg-stone-800",children:l.jsx(fs,{src:e.image_url,alt:`${e.title.join(" ")} circuit map`,className:"h-full w-full object-contain"})}),l.jsx(H,{className:"gap-xs p-md flex flex-col",children:e.metadata?.map((o,c)=>l.jsxs(H,{className:"flex justify-between",children:[l.jsx(j,{className:"text-sm",color:"light",children:o[0]}),l.jsx(j,{className:"text-sm",children:o[1]})]},c))})]})},Fbt=({event:e,league:t})=>{const{locale:n}=K(),r=Obt(e.datetime,n),s=e.competitors.slice(0,3),a=e.subtitle;return l.jsxs(H,{className:"flex flex-col",children:[l.jsxs(H,{className:"border-borderMain px-md py-sm gap-md flex items-center justify-between border-b",children:[l.jsxs("div",{children:[l.jsx(j,{variant:"baseSemi",className:"flex justify-between",children:l.jsx("span",{children:e.title.join(" ")})}),l.jsxs(j,{variant:"small",color:"light",children:[t.toUpperCase(),a&&`・${a}`]})]}),l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx(j,{variant:"small",color:"light",children:r}),l.jsx(OP,{})]})]}),l.jsx(H,{className:"flex flex-col",children:s.map(i=>l.jsx(O3e,{competitor:i},i.id))})]})},Ubt=({event:e,league:t})=>{const n=e.competitors.slice(0,3),r=e.subtitle;return l.jsxs(H,{className:"flex flex-col",children:[l.jsxs(H,{className:"border-borderMain px-md py-sm gap-md flex items-center justify-between border-b",children:[l.jsxs("div",{children:[l.jsx(j,{variant:"baseSemi",className:"flex justify-between",children:l.jsx("span",{children:e.title.join(" ")})}),l.jsx("div",{children:l.jsxs(j,{variant:"small",color:"light",children:[t.toUpperCase(),r&&`・${r}`]})})]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(S_,{includeDot:!0}),e.period_text&&l.jsx(j,{color:"light",variant:"small",children:e.period_text})]})]}),l.jsx(H,{className:"flex flex-col",children:n.map(s=>l.jsx(O3e,{competitor:s},s.id))})]})},Bbt=({event:e,league:t})=>{switch(e.status){case"upcoming":return l.jsx(Dbt,{event:e,league:t});case"live":return l.jsx(Ubt,{event:e,league:t});case"final":return l.jsx(Fbt,{event:e,league:t});default:return null}};function $bt({widgetData:e}){const{result:{backend_uuid:t,mode:n}}=Ti(),r=F3(),s=f.useMemo(()=>e?.event,[e]),a=f.useMemo(()=>e?.league,[e]);if(f.useEffect(()=>{!t||!e||!s||rG.has(t)||(r("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:n}),rG.add(t))},[t,s,n,e,r]),!e||!s)return null;const i=e.canonical_page?.url_web,o=`indv-event-${s.id??"unknown"}`;return l.jsx(La,{fallback:I3e,children:l.jsx(To,{widgetType:"sports",widgetName:o,children:({})=>l.jsx(Ibt,{canonicalPageLink:i,children:l.jsx(Bbt,{event:s,league:a})})})})}const L3e=T.memo(()=>l.jsx("div",{children:"Error loading individual schedule widget."}));L3e.displayName="IndvScheduleWidgetErrorFallback";const sG=new Set,Hbt=({children:e,canonicalPageLink:t})=>{const{$t:n}=K();return l.jsxs(H,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?l.jsx(it,{href:t,children:l.jsxs(j,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),l.jsx(Wr,{size:18})]})}):null]})},Wbt=(e,t,n)=>{if(!e)return t.replace(/^(0)(\d:[0-5]\d\s+[AP]M)$/,"$2");try{return new Date(e).toLocaleTimeString(n,{hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).replace(/^0+/,"")}catch{return t.replace(/^(0)(\d:[0-5]\d\s+[AP]M)$/,"$2")}},p6=({event:e,isFinal:t,isLive:n})=>{const{locale:r}=K(),s=e.metadata?.[0],a=e.metadata?.[1]??"",i=Wbt(e.datetime,a,r),{isMobileStyle:o}=Oe(),c=!!e.url?.url_web,u=l.jsxs(l.Fragment,{children:[l.jsxs(H,{className:"p-md col-span-3 grid grid-cols-subgrid items-center md:col-span-4",children:[l.jsx(H,{className:"flex flex-col items-start",children:l.jsx(Vbt,{date:e.datetime??""})}),l.jsxs(H,{className:"gap-xs flex flex-col md:gap-0",children:[l.jsx(j,{variant:"baseSemi",className:"text-base leading-snug",children:e.title.join(" ")}),s&&l.jsxs(j,{variant:o?"tiny":"small",className:"mt-0 pt-0",color:"light",children:[!t&&!n&&l.jsxs(l.Fragment,{children:[i," · "]}),s]})]}),l.jsx("div",{className:"hidden md:block",children:e.live_text&&l.jsx(j,{variant:"small",className:"text-right",children:e.live_text})}),l.jsx("div",{children:t?l.jsx(OP,{}):n?l.jsx(S_,{includeDot:!0}):null})]}),l.jsx("div",{className:"p-md -mt-sm col-span-2 col-start-2 pl-0 pt-0 md:hidden",children:e.live_text&&l.jsx(j,{variant:"tiny",className:"border-borderMain/50 p-xs px-sm rounded border",color:"light",children:e.live_text})})]}),d="col-span-3 grid grid-cols-subgrid border-b border-borderMain/50 last:border-b-0 md:col-span-4";return c?l.jsx(it,{href:e.url?.url_web??"",className:U(d,"hover:bg-offset/25 duration-150"),children:u}):l.jsx(H,{className:d,children:u})};function zbt({widgetData:e}){const{result:{backend_uuid:t,mode:n}}=Ti(),r=F3(),s=f.useMemo(()=>e?.events??[],[e]);if(f.useEffect(()=>{!t||!e||!s?.length||sG.has(t)||(r("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:n}),sG.add(t))},[t,e,s,n,r]),!e||!s||s.length===0)return null;const a=e.canonical_page?.url_web,i=`indv-schedule-${e.league??"unknown"}`;return l.jsx(La,{fallback:L3e,children:l.jsx(To,{widgetType:"sports",widgetName:i,children:({})=>l.jsx(Hbt,{canonicalPageLink:a,children:l.jsx(H,{className:"gap-x-md grid grid-cols-[min-content,1fr,min-content] md:grid-cols-[min-content,1fr,1fr,min-content]",children:s.map(o=>{switch(o.status){case"upcoming":return l.jsx(p6,{event:o},o.id);case"live":return l.jsx(p6,{event:o,isLive:!0},o.id);case"final":return l.jsx(p6,{event:o,isFinal:!0},o.id);default:return null}})})})})})}const Vbt=({date:e})=>{const{locale:t}=K(),n=new Date(e).toLocaleDateString(t,{day:"numeric"}),r=new Date(e).toLocaleDateString(t,{month:"short"}),{isMobileStyle:s}=Oe();return l.jsxs("div",{className:"dark:bg-background-300 bg-background-200 py-xs flex w-full flex-col items-center justify-center rounded-lg px-0.5 md:p-[6px]",children:[l.jsx(j,{className:"px-sm -mb-0.5 rounded-full text-center",variant:"tinyRegular",color:"light",children:r}),l.jsx(j,{className:"px-sm -mb-1 text-center",variant:s?"baseSemi":"section-title",children:n})]})},D3e=f.createContext({inApp:!1,preferredColorScheme:null,deviceId:null,appVersion:null,isIOS:!1,isAndroid:!1,client:null}),Gbt=T.memo(({children:e,inApp:t})=>{const n=An(),r=n?.get("mobile.deviceId")||null,s=n?.get("mobile.appVersion")||null,a=n?.get("mobile.preferredColorScheme")||null,i=n?.get("mobile.client")||null,o=i==="ios",c=i==="android";return l.jsx(D3e.Provider,{value:{inApp:t,preferredColorScheme:a,deviceId:r,appVersion:s,isIOS:o,isAndroid:c,client:i},children:e})});Gbt.displayName="CanonicalPageProvider";function G1(){return f.useContext(D3e)}const aG="pplx://www.pplx.com";function F3e({href:e,inApp:t,queryParams:n}){if(!t||e==null)return e;const r=new URL(e,aG);return n?.forEach((s,a)=>{r.searchParams.get(a)||r.searchParams.set(a,s??"")}),r.pathname.startsWith("/app")||(r.pathname.startsWith("/")?r.pathname=`/app${r.pathname}`:r.pathname=`/app/${r.pathname}`),r.href.replace(aG,"")}const Rd=T.memo(({children:e,href:t,...n})=>{const{inApp:r}=G1(),s=An();return l.jsx(it,{...n,href:F3e({href:t,inApp:r,queryParams:s}),children:e})});Rd.displayName="CanonicalLink";const qbt=T.memo(e=>e.href?l.jsx(Rd,{...e}):e.children);qbt.displayName="CanonicalLinkMaybe";const U3e=(e="left")=>{switch(e){case"center":return"text-center";case"right":return"text-right";case"left":default:return"text-left"}},Kbt=(e=!1)=>e?"w-full":"w-0",g6=(e="normal",t)=>{if(t==="pos")return"smallCaps";switch(e){case"bold":return"smallBold";case"normal":default:return"small"}},Ybt=(e="")=>e==="pos"?"light":"default",Qbt=({cell:e,column:t})=>{const{inApp:n}=G1();if(!e)return l.jsx("td",{className:"md:px-md px-sm py-sm"});let r;const s=t.column_type??"text",a=e.display_value??e.value??"-";(s==="entity"||s==="image")&&e.image_url?r=l.jsxs("div",{className:"md:gap-md gap-sm flex items-center",children:[l.jsx(xo,{logo:e.image_url,color:"transparent",size:"small",className:"shrink-0"}),l.jsxs("div",{children:[l.jsx(j,{variant:g6(t.font_weight??"normal",t.column_id),children:a}),s==="entity"&&e.sub_text&&l.jsx(j,{variant:"tiny",color:"light",children:e.sub_text})]})]}):s==="entity"&&!e.image_url?r=l.jsxs("div",{children:[l.jsx(j,{variant:g6(t.font_weight??"normal",t.column_id),children:a}),e.sub_text&&l.jsx(j,{variant:"tiny",color:"light",children:e.sub_text})]}):r=l.jsx(j,{variant:g6(t.font_weight??"normal",t.column_id),color:Ybt(t.column_id),children:a});const i=U("md:pl-md pl-sm last:px-sm md:last:px-md py-sm align-middle",U3e(t.alignment),Kbt(t.should_fill_width));return e.canonical_page?l.jsx("td",{className:i,children:l.jsx(Rd,{href:n?e.canonical_page.url_app:e.canonical_page.url_web,className:"block",children:r})}):l.jsx("td",{className:i,children:r})},Xbt=({row:e,columns:t})=>{const n=new Map(e.cells.map(r=>[r.column_id,r]));return l.jsx("tr",{className:U("border-borderMain/50 border-b last:border-b-0"),children:t.map(r=>l.jsx(Qbt,{cell:n.get(r.column_id),column:r},r.column_id))})},Zbt=({table:e,variant:t="offset",title:n,className:r})=>{const[s,a]=f.useState(e?.groups?.[0]?.group_id??""),{isMobileStyle:i}=Oe();if(B3("standings"),!e||!e.groups?.length)return null;const o=n??e.title??"Standings",c=e.groups.find(h=>h.group_id===s),u=e.groups.length>1;if(!c)return null;const d=e.groups.map(h=>({type:"default",text:h.title??h.group_id,onClick:()=>a(h.group_id),active:s===h.group_id,show:!0}));return l.jsx(Fn,{className:r,header:l.jsxs("div",{className:"md:pl-md gap-md pl-sm mb-sm flex items-center justify-between md:mb-0",children:[l.jsx(j,{variant:"baseSemi",children:o}),u?i?l.jsx(bn,{items:d,isMobileStyle:!1,size:Mt.regular,children:l.jsx(ye,{text:c.title??c.group_id,chevron:!0,size:"small"})}):l.jsx(Dc,{size:i?"tiny":"small",actionList:d,layoutGroupId:`standings-${e.table_id}-tabs`,layout:"left",allowScroll:!0,styleProps:{wrapperClass:"min-w-0 self-stretch",scrollInnerClass:"!h-10",scrollClass:"h-full"}}):l.jsx("div",{className:"invisible min-h-10"})]}),children:l.jsx("div",{className:"rounded-inherit",children:l.jsx("div",{className:"rounded-t-inherit overflow-hidden",children:l.jsx(Oc,{orientation:"horizontal",children:l.jsxs("table",{className:U("w-full table-auto border-collapse"),children:[l.jsx(H,{as:"thead",variant:t==="raised"?"raisedOffset":"offsetPlus",children:l.jsx("tr",{children:c.columns.map(h=>l.jsx("th",{className:U("md:pl-md pl-sm last:px-sm md:last:px-md py-xs whitespace-nowrap align-middle",U3e(h.alignment)),children:l.jsx(xbt,{className:U({"w-[200px] md:w-auto":h.should_fill_width}),children:h.header_label})},h.column_id))})}),l.jsx("tbody",{children:c.rows.map(h=>l.jsx(Xbt,{row:h,columns:c.columns},h.row_id))})]})})})},c.group_id)})},B3e=T.memo(()=>l.jsx("div",{children:"Error loading standings widget."}));B3e.displayName="StandingsWidgetErrorFallback";const Jbt=new Set,ewt=({children:e,canonicalPageLink:t})=>{const{$t:n}=K();return l.jsxs(H,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?l.jsx(it,{href:t,children:l.jsxs(j,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),l.jsx(Wr,{size:18})]})}):null]})};function twt({widgetData:e}){const{result:{backend_uuid:t,mode:n}}=Ti(),r=F3(),s=f.useMemo(()=>e?.standings_table?e.standings_table:null,[e]);if(f.useEffect(()=>{!t||!e||!s||Jbt.has(t)||r("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:n})},[t,s,n,e,r]),!e||!s)return null;const a=e.canonical_pages?.[0]?.url_web,i=`standings-${s.table_id??"unknown"}`;return l.jsx(La,{fallback:B3e,children:l.jsx(To,{widgetType:"sports",widgetName:i,children:({})=>l.jsx(ewt,{canonicalPageLink:a,children:l.jsx(Zbt,{table:s,variant:"raised",className:"!rounded-none border-0"})})})})}const Np=T.memo(({data:e})=>is(e).with({object:"SportsEventsWidget"},t=>l.jsx(_bt,{widget:t})).with({object:"SportsStandingsWidget"},t=>l.jsx(twt,{widgetData:t})).with({object:"SportsIndvScheduleWidget"},t=>l.jsx(zbt,{widgetData:t})).with({object:"SportsIndvEventsWidget"},t=>l.jsx($bt,{widgetData:t})).exhaustive());Np.displayName="SportsWidget";function nwt({csvString:e,filename:t="perplexity.csv"}){if(typeof window>"u")throw new Error("Attempting to download a CSV file in a server context.");try{const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(n){throw n}}function rwt(){return f.useCallback(e=>{nwt(e)},[])}var v6,iG;function swt(){if(iG)return v6;iG=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,i){if(a===i)return!0;if(a&&i&&typeof a=="object"&&typeof i=="object"){if(a.constructor!==i.constructor)return!1;var o,c,u;if(Array.isArray(a)){if(o=a.length,o!=i.length)return!1;for(c=o;c--!==0;)if(!s(a[c],i[c]))return!1;return!0}var d;if(t&&a instanceof Map&&i instanceof Map){if(a.size!==i.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!i.has(c.value[0]))return!1;for(d=a.entries();!(c=d.next()).done;)if(!s(c.value[1],i.get(c.value[0])))return!1;return!0}if(n&&a instanceof Set&&i instanceof Set){if(a.size!==i.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!i.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(i)){if(o=a.length,o!=i.length)return!1;for(c=o;c--!==0;)if(a[c]!==i[c])return!1;return!0}if(a.constructor===RegExp)return a.source===i.source&&a.flags===i.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof i.valueOf=="function")return a.valueOf()===i.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof i.toString=="function")return a.toString()===i.toString();if(u=Object.keys(a),o=u.length,o!==Object.keys(i).length)return!1;for(c=o;c--!==0;)if(!Object.prototype.hasOwnProperty.call(i,u[c]))return!1;if(e&&a instanceof Element)return!1;for(c=o;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&a.$$typeof)&&!s(a[u[c]],i[u[c]]))return!1;return!0}return a!==a&&i!==i}return v6=function(i,o){try{return s(i,o)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},v6}var awt=swt();const iwt=Rs(awt),oc=T.memo(({label:e,accessory:t,onClick:n,className:r,size:s="default",textColor:a="default",icon:i,iconClassName:o,iconOnly:c=!1,tooltip:u,truncate:d=!1,isLink:h=!0})=>{const m=l.jsxs(H,{as:"span",variant:"offsetPlus",className:U("min-w-[1rem] cursor-pointer rounded-[0.3125rem] text-center align-middle font-mono text-[0.6rem] tabular-nums",{"py-[0.1875rem]":s==="default","py-[0.175rem] leading-none":s==="small","py-[0.125rem] leading-none":s==="extraSmall"},{"px-[0.3rem]":!c,"inline-block px-[0.1875rem]":c,"hover:bg-super dark:hover:text-inverse cursor-pointer hover:text-white":h}),onClick:n,children:[i&&l.jsx(_e,{icon:i,size:"2xs",className:U("-mt-px inline-block opacity-80",{"mr-xs":!c},o)}),l.jsx("span",{ref:p=>{if(p&&d){const g=p.scrollWidth>p.clientWidth;p.style.maskImage=g?"linear-gradient(to right, black 70%, transparent 100%)":""}},className:U("relative -mt-px inline-block align-middle leading-tight",{"max-w-[25ch] overflow-hidden":d}),children:e}),t&&l.jsx("span",{className:"ml-xs mr-px",children:t})]});return l.jsx(j,{as:"span",color:a,className:U("relative select-none whitespace-nowrap align-middle",{"-top-px":s==="default","-top-[3px] leading-none":s==="small","-top-[2px] leading-none":s==="extraSmall"},r),children:u?l.jsx(Dn,{tooltipText:u,tooltipLayout:"top",asChild:!0,children:m}):m})});oc.displayName="CitationBubble";const $3e=T.memo(({domain:e,url:t,size:n="default",className:r,suffix:s,overflowCount:a,includeLink:i=!0,icon:o})=>{if(!t&&!e)return null;const c=e||jJ(t).replace(/^[a-z]{1,2}\./i,""),u=s?`${c}.${s}`:c,d=a&&a>0?l.jsxs("span",{className:"opacity-50",children:["+",a]}):void 0,h=l.jsx(oc,{label:u,icon:o,size:n,accessory:d,isLink:i,truncate:!0});return i&&t?l.jsx("span",{className:r,children:l.jsx(it,{href:t,target:"_blank",rel:"noopener",className:"citation inline",children:h})}):l.jsx("span",{className:r,children:h})});$3e.displayName="CitationDomainBubble";const LP=T.memo(e=>l.jsx(oc,{...e}));LP.displayName="CitationNumberBubble";const H3e=T.memo(function({label:t,href:n,overflowCount:r,size:s,getAttachmentUrl:a,onCitationClick:i}){const[o,c]=f.useState(!1),[u,d]=f.useState(null),h=f.useCallback(async v=>{if(i?.(v),v?.defaultPrevented||!n||!a)return;const y=await a(n);Ma(n)&&(d(y),c(!0))},[i,a,n]),m=r&&r>0?l.jsxs("span",{className:"opacity-50",children:["+",r]}):void 0,p=f.useCallback(()=>c(!1),[]),g=f.useMemo(()=>({src:u??void 0}),[u]);return l.jsxs(l.Fragment,{children:[l.jsx(oc,{label:t,accessory:m,icon:VN,className:"cursor-pointer",size:s,truncate:!0,onClick:h}),u&&l.jsx(g1,{isOpen:o,onClose:p,imgProps:g})]})});H3e.displayName="FileCitationBubble";const W3e=T.memo(({children:e,webResults:t,citationGroup:n,contentProps:r,hideHoverCard:s=!1,trackEvent:a,getAttachmentUrl:i,openMemorySearchHistoryModal:o,onCitationClick:c})=>{const[u,d]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(null),[v,y]=f.useState(!1),[x,b]=f.useState(null),w=X0(),_=K(),C=f.useCallback(()=>y(!1),[]),S=f.useMemo(()=>({src:x??void 0}),[x]),k=f.useMemo(()=>t.every(R=>R.is_conversation_history),[t]),E=f.useCallback(()=>{if(k)return _.formatMessage({defaultMessage:"Library",id:"StcK672jB9"});switch(n.category){case"memory":return _.formatMessage({defaultMessage:"Memory",id:"dVx3yznM2C"});case"attachment":return _.formatMessage({defaultMessage:"Attachments",id:"Vlx13nOMtX"});case"youtube":return _.formatMessage({defaultMessage:"YouTube",id:"zuA3BgDC6u"});default:return _.formatMessage({defaultMessage:"Sources",id:"fhwTpAcBLC"})}},[n.category,k,_]),M=f.useCallback(R=>async A=>{if(A.preventDefault(),R.is_conversation_history||R.is_memory)if(c){c(R,A);return}else if(o){o(R);return}else{console.warn("Memory/conversation history modal handler not provided");return}if(R.url?pl(R.url):null){g(R),m(!0),d(!1);return}const O=R.is_attachment||!1,I=Ma(R.url);if(O&&I&&i){const L=await i(R.url);b(L),y(!0),d(!1);return}if(O&&n0(R)&&i){const L=await i(R.url);window.open(L,"_blank");return}a&&R.url&&a("click citation",{source:"grouped_hovercard",citation_url:R.url}),RN(R)&&window.open(R.url,"_blank")},[c,o,a,i]),N=f.useCallback(R=>{const A=R.is_memory?l.jsx(_e,{icon:Yh,size:"sm"}):R.is_conversation_history?l.jsx(_e,{icon:Qh,size:"sm"}):l.jsx(wc.Icon,{url:R.url,isAttachment:R.is_attachment||!1,connectionType:R.meta_data?.connection_type}),P=R.meta_data?.connection_type,O=P==="WILEY"?"Wiley":P||R.is_memory||R.is_conversation_history?R.name:void 0,I=R.is_memory?R.snippet:R.name;return l.jsxs("div",{className:"hover:bg-offset text-select-none relative flex min-w-0 cursor-pointer items-start gap-3 rounded-lg px-2 py-1.5 align-top",children:[l.jsx("span",{className:"mt-two shrink-0",children:A}),l.jsxs("span",{className:U("text-select-none flex min-w-0",{"gap-two flex-col items-start":R.is_memory,"gap-xs items-center":!R.is_memory}),children:[I&&l.jsx(j,{className:U("min-w-0 shrink",{"truncate text-ellipsis":!R.is_memory},{"line-clamp-2":R.is_memory}),variant:"small",as:"span",children:I}),!k&&l.jsx(j,{variant:"tinyMono",color:"light",className:"shrink-0",children:l.jsx(wc.Source,{url:R.url,source:O,isAttachment:R.is_attachment||!1,connectionType:R.meta_data?.connection_type,isMemory:R.is_memory||!1,isConversationHistory:R.is_conversation_history||!1})})]})]})},[k]);return l.jsxs(l.Fragment,{children:[p&&p.url&&l.jsx(Sd,{isOpen:h,name:p.name,setisOpen:m,url:p.url}),x&&l.jsx(g1,{isOpen:v,onClose:C,imgProps:S}),l.jsxs(c2e,{onOpenChange:R=>{d(s?!1:R)},open:u,openDelay:200,closeDelay:200,children:[l.jsx(u2e,{asChild:!0,children:e}),l.jsx(d2e,{children:l.jsx(f2e,{className:U({"data-open:animate-in data-open:zoom-in-[0.97] data-open:fade-in data-closed:animate-out data-closed:zoom-out-[0.97] data-closed:fade-out data-[side=bottom]:origin-top data-[side=top]:origin-bottom":!w}),side:"bottom",sideOffset:8,...r,children:l.jsxs("div",{className:"bg-background dark:border-borderMainDark/50 w-96 rounded-xl border pt-3 shadow-lg",children:[l.jsxs("div",{className:"gap-two flex px-5 pb-2 pt-1",children:[l.jsx(j,{variant:"tinyMono",children:E()}),l.jsx(j,{variant:"tinyMono",as:"span",color:"light",className:"mx-two",children:"·"}),l.jsx(j,{variant:"tinyMono",color:"light",children:n.totalCount||t.length})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto px-3 pb-3 [scrollbar-gutter:stable]",children:l.jsx("div",{className:"space-y-px",children:t.map((R,A)=>l.jsx(it,{className:"block",href:R.url||"#",target:"_blank",rel:"noopener nofollow",onClick:M(R),children:N(R)},R.url||A))})})]})})})]})]})});W3e.displayName="GroupedCitationHoverCard";const z3e=T.memo(({ytID:e,timestamp:t,label:n="youtube",overflowCount:r,size:s})=>{const[a,i]=f.useState(!1),o=f.useCallback(()=>i(!0),[]),c=r&&r>0?l.jsxs("span",{className:"opacity-50",children:["+",r]}):void 0;return l.jsxs(l.Fragment,{children:[l.jsx(oc,{label:n,accessory:c,icon:fee,onClick:o,className:"cursor-pointer",size:s}),e&&l.jsx(Sd,{url:`https://www.youtube.com/watch?v=${e}`,name:"",isOpen:a,setisOpen:i,timestamp:t})]})});z3e.displayName="YoutubeCitationBubble";var Fs;(function(e){e.YOUTUBE="youtube",e.FILE="file",e.MEMORY="memory",e.CONVERSATION_HISTORY="conversation_history",e.WEB="web",e.NUMBERED="numbered"})(Fs||(Fs={}));function owt(e){if(e){if(e.is_memory)return Yh;if(e.is_conversation_history)return Qh}}function lwt(e){const{ytID:t,isMobileStyle:n,isFile:r,isMemory:s,isConversationHistory:a,enableCitationGrouping:i}=e;return t&&!n?Fs.YOUTUBE:r?Fs.FILE:i?s?Fs.MEMORY:a?Fs.CONVERSATION_HISTORY:Fs.WEB:Fs.NUMBERED}function cwt(e){const t=e.indexOf("&t=");return t!==-1?e.substring(t+3):void 0}function uwt({count:e}){return!e||e<=0?null:l.jsxs("span",{className:"pl-two opacity-50",children:["+",e]})}const V3e=T.memo(T.forwardRef((e,t)=>{const{str:n,href:r,className:s,trackEvent:a,isFile:i,isDownloadable:o,citationSize:c,onCitationClick:u,getAttachmentUrl:d,isMemory:h,isConversationHistory:m,citationGroup:p,enableCitationGrouping:g,citationDomain:v,fileName:y,webResult:x,...b}=e,{isMobileStyle:w}=Oe(),_=u3.test(n),C=f.useCallback(I=>{u?.(I)},[u]),S=f.useCallback(()=>{a?.("click citation",{source:"inline",citation_url:r})},[r,a]),k=f.useMemo(()=>l.jsx(uwt,{count:p?.overflowCount}),[p?.overflowCount]);if(!_)return l.jsx("span",{children:n});const E=cwt(r),M=pl(r),N=n.replace(/\[|\]|,.*$/g,""),A=!!(r&&!h&&!m&&(!(M||o)||w)),P=lwt({ytID:M,isMobileStyle:w,isFile:i,isMemory:h,isConversationHistory:m,enableCitationGrouping:g});let O;switch(P){case Fs.YOUTUBE:O=M&&l.jsx(z3e,{...!g&&{label:N},ytID:M,overflowCount:p?.overflowCount??0,timestamp:E,size:c});break;case Fs.FILE:O=l.jsx(H3e,{label:g?y??N:N,overflowCount:p?.overflowCount??0,size:c,href:r,getAttachmentUrl:o?d:void 0,onCitationClick:u});break;case Fs.NUMBERED:{const I=owt(x);O=I?l.jsx(oc,{label:N,icon:I,size:c,onClick:C}):l.jsx(LP,{label:N,size:c,onClick:C});break}case Fs.MEMORY:O=l.jsx(oc,{label:x?.name.toLocaleLowerCase(),icon:Yh,accessory:k,size:c,truncate:!0,isLink:!0,onClick:C});break;case Fs.CONVERSATION_HISTORY:O=l.jsx(oc,{label:"library",icon:Qh,accessory:k,size:c,truncate:!1,isLink:!0,onClick:C});break;case Fs.WEB:default:O=l.jsx($3e,{url:r,domain:v,overflowCount:p?.overflowCount??0,size:c,includeLink:A});break}return A?l.jsx(qae,{href:r,ref:t,className:U(s,"citation ml-xs inline"),trackEvent:a,onClickLink:S,...b,children:O}):l.jsx("span",{className:U(s,"citation ml-xs inline"),ref:t,...b,children:O})})),dwt=T.forwardRef(function(t,n){const{anchor:r,className:s,...a}=t,i=u=>{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})},o=r.replace(/\[|\]/g,""),c=f.useCallback(()=>i(`#search${r}`),[r]);return l.jsx(it,{href:`#search${r}`,onClick:c,className:s,ref:n,...a,children:l.jsx(LP,{label:o})})}),XUt=e=>{const{hideHoverCard:t=!1,trackEvent:n,citationSize:r,onCitationClick:s,getAttachmentUrl:a,enableCitationGrouping:i=!1,webResults:o=[]}=e;return T.memo(T.forwardRef((u,d)=>{const{className:h,href:m,title:p,children:g,target:v="_blank",node:y,...x}=u,b=y?.data?.webResult,w=b?.is_attachment??!1,_=y?.data?.webResultCitation,C=b?.is_memory??!1,S=b?.is_conversation_history??!1,{$t:k}=K(),E=f.useCallback(I=>{b&&s&&s(b,I)},[b]),M=i&&y?.data?y.data.citationGroup:void 0,N=f.useCallback(I=>{if(i&&M&&M.citations.length>0){const L=M.citations[0],F=o?.[L-1];F&&s&&s(F,I)}else E(I)},[M,E]),R=f.useMemo(()=>({side:"bottom"}),[]),A=f.useMemo(()=>b?{onClick(I){n&&b&&n("click citation",{source:"inline hoverCard",citation_url:b.url}),s?.(b,I)}}:void 0,[b]),P=f.useMemo(()=>({color:"light"}),[]);let O;switch(p){case"_citation":{if(M?.isHidden)return null;O=l.jsx(V3e,{isMemory:C,isConversationHistory:S,onCitationClick:(C||S)&&i?N:E,className:h,str:T.Children.toArray(g).join(""),href:m,rel:"nofollow noopener",trackEvent:n,isFile:w,isDownloadable:b?n0(b):!1,citationSize:r,getAttachmentUrl:a,citationGroup:M,enableCitationGrouping:i,citationDomain:b?.meta_data?.citation_domain_name,fileName:b?.name,webResult:b,ref:d});break}case"_anchor_citation":{O=l.jsx(dwt,{anchor:T.Children.toArray(g).join(""),className:h,ref:d,...x});break}default:O=l.jsx(it,{href:m,target:v,title:p,rel:"nofollow noopener",className:U(h,"break-word hover:text-super hover:decoration-super underline decoration-from-font underline-offset-1 transition-all duration-300"),ref:d,...x,children:g})}if(b){if(i&&M&&M.citations.length>1){const L=M.citations.map(F=>o[F-1]).filter(F=>F!==void 0);return l.jsx(W3e,{webResults:L,citationGroup:M,hideHoverCard:t,trackEvent:n,getAttachmentUrl:a,onCitationClick:s,contentProps:R,children:O})}return l.jsx(O3,{hideHoverCard:t,contentProps:R,linkProps:A,result:b,trackEvent:n,timestampComponent:x3.isRecentlyTrending(b)?l.jsx(w3,{recentlyUpdatedLabel:k({defaultMessage:"Just now",description:"Label for recently updated content",id:"FlgDFQFpF1"}),timestamp:b.meta_data?.published_date,timestampProps:P,children:"Updated"}):null,webResultCitation:_,getAttachmentUrl:a,children:O})}return O}),iwt)};var y6={},oG;function fwt(){return oG||(oG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="check",r=448,s=512,a=[10003,10004],i="f00c",o="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCheck=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(y6)),y6}var hwt=fwt(),x6={},lG;function mwt(){return lG||(lG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="xmark",r=384,s=512,a=[128473,10005,10006,10060,215,"close","multiply","remove","times"],i="f00d",o="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faXmark=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(x6)),x6}var pwt=mwt();const G3e=T.memo(({status:e})=>l.jsx(j,{as:"span",variant:"smallBold",color:e?"super":"light",children:l.jsx(gt,{icon:e?hwt.faCheck:pwt.faXmark})}));G3e.displayName="BoolCell";const q3e=T.memo(({url:e})=>l.jsx(it,{href:e,target:"_blank",rel:"noopener",className:"top-xs relative inline-block inline transition-opacity duration-300 hover:opacity-50",children:l.jsx(wc,{color:"light",variant:"tiny",url:e,isAttachment:!1})}));q3e.displayName="LinkCell";var b6={},cG;function gwt(){return cG||(cG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="arrows-up-down",r=320,s=512,a=["arrows-v"],i="f07d",o="M177 7c-9.4-9.4-24.6-9.4-33.9 0L47 103c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l55-55 0 348.1L81 375c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l96 96c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-55 55 0-348.1 55 55c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L177 7z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faArrowsUpDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(b6)),b6}var vwt=gwt();function ywt(e,t){return e==null?1:t==null?-1:e==null&&t==null?0:!isNaN(Number(e))&&!isNaN(Number(t))?Number(e)-Number(t):String(e).localeCompare(String(t))}const xwt=({children:e,...t})=>l.jsx("table",{...t,children:e}),bwt=({children:e,...t})=>l.jsx("tr",{...t,children:e}),wwt=({children:e,index:t,id:n,data:r,...s})=>l.jsx("td",{...s,children:l.jsx(j,{variant:"tiny",className:U({"font-normal":t}),children:e})}),_wt=({SortButton:e,children:t})=>l.jsx("th",{className:"py-sm pr-sm text-left align-text-top outline-none",children:l.jsxs(H,{className:U("group relative flex items-center justify-between"),children:[l.jsx(j,{variant:"tiny",color:"light",children:t}),e]})}),K3e=T.memo(function({name:t,setSortDescriptor:n}){return l.jsx("button",{className:"right-sm absolute opacity-0 transition-opacity duration-200 group-hover:opacity-100",onClick:()=>{n(r=>({...r,column:t,reverse:!r.reverse}))},children:l.jsx(j,{variant:"tiny",color:"super",children:l.jsx(gt,{icon:vwt.faArrowsUpDown})})})});K3e.displayName="SortButton";const Cwt=T.memo(({collapsed:e,setCollapsed:t,viewMoreText:n,viewLessText:r})=>{const s=f.useCallback(()=>{t(a=>!a)},[t]);return l.jsx(H,{className:"pb-sm",children:l.jsx(ye,{pill:!0,variant:"border",size:"tiny",chevron:!0,chevronIcon:e?Ia:vee,text:e?n:r,onClick:s})})});Cwt.displayName="ResponsiveTableExpander";const uG="focus-visible:outline-super focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-0",Y3e=T.memo(function(t){const{data:n,columns:r,compareFunction:s,RowCell:a,HeaderCell:i,Row:o,Table:c,limit:u}=t,[d,h]=f.useState({column:void 0,reverse:!1}),m=n.at(0),p=f.useMemo(()=>r??Object.keys(m??{}).map(C=>({name:C})),[m,r]),g=s??ywt,v=f.useMemo(()=>{const C=n.map(S=>({data:S,key:S.key??Math.random().toString(36).substring(7)}));return d.column&&C.sort((S,k)=>g(S.data[d.column],k.data[d.column])*(d.reverse?-1:1)),C.slice(0,u||C.length)},[n,u,d,g]),y=i??_wt,x=c??xwt,b=o??bwt,w=a??wwt,_=f.useMemo(()=>T.memo(({index:C,...S})=>{const k=f.useMemo(()=>l.jsx(K3e,{name:S.name,setSortDescriptor:h}),[S.name]);return l.jsx(y,{index:C,id:S.name,data:S,SortButton:k,children:S.label??S.name},S.name)}),[y]);return l.jsx("div",{className:"border-box overflow-x-auto",children:l.jsxs(x,{className:"layout-auto w-full border-collapse",children:[l.jsx("thead",{children:l.jsx(b,{id:"_header",children:p.map((C,S)=>l.jsx(_,{index:S,...C},C.name))})}),l.jsx("tbody",{children:v.map(C=>l.jsx(b,{id:C.key,className:U("group",uG,"border-borderMain/50 group border-t border-dashed !outline-none first:border-solid"),children:p.map(({name:S},k)=>l.jsx(w,{id:S,index:k,data:C.data,className:U("pr-sm align-text-top last:pr-0",uG,'group-data-[selected="true"]:first:border-l-super py-sm group-data-[selected="true"]:border-super group-data-[selected="true"]:bg-super/10 group-data-[selected="true"]:first:pl-xs group-data-[selected="true"]:last:pr-xs dark:group-data-[selected="true"]:bg-super/10 rounded-sm outline-none transition-all duration-300 ease-in-out group-data-[selected="true"]:first:border-l-2 group-data-[selected="true"]:last:border-r-2'),children:String(C.data[S])},S))},C.key))})]})})});Y3e.displayName="ResponsiveTable";const j2=T.memo(({text:e})=>l.jsx(j,{as:"span",variant:"tiny",className:"text-pretty break-words font-normal",children:e}));j2.displayName="TextCell";const Q3e=function(e){if(e==null)return Mwt;if(typeof e=="function")return E_(e);if(typeof e=="object")return Array.isArray(e)?Swt(e):Ewt(e);if(typeof e=="string")return kwt(e);throw new Error("Expected function, string, or object as test")};function Swt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Q3e(e[n]);return E_(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function Ewt(e){const t=e;return E_(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function kwt(e){return E_(t);function t(n){return n&&n.type===e}}function E_(e){return t;function t(n,r,s){return!!(Twt(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Mwt(){return!0}function Twt(e){return e!==null&&typeof e=="object"&&"type"in e}const X3e=[],Nwt=!0,dG=!1,Rwt="skip";function Awt(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=Q3e(s),i=r?-1:1;o(e,void 0,[])();function o(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=X3e,g,v,y;if((!t||a(c,u,d[d.length-1]||void 0))&&(p=jwt(n(c,d)),p[0]===dG))return p;if("children"in c&&c.children){const x=c;if(x.children&&p[0]!==Rwt)for(v=(r?x.children.length:-1)+i,y=d.concat(x);v>-1&&v<x.children.length;){const b=x.children[v];if(g=o(b,v,y)(),g[0]===dG)return g;v=typeof g[1]=="number"?g[1]:v+i}}return p}}}function jwt(e){return Array.isArray(e)?e:typeof e=="number"?[Nwt,e]:e==null?X3e:[e]}function Zd(e,t,n,r){let s,a,i;typeof t=="function"&&typeof n!="function"?(a=void 0,i=t,s=n):(a=t,i=n,s=r),Awt(e,a,o,s);function o(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return i(c,h,d)}}class fG{static stringArrayToCSV(t){return t.map(this.escapeCSVString).join(",")}static escapeCSVString(t){return`"${t.replace(/"/g,'""')}"`}static tableCellToText(t){const n=[];let r="";return Zd(t,[{type:"text"},{tagName:"br"},{tagName:"a"}],s=>{if(s.type==="element"&&s.tagName==="br"){n.push(`
`);return}s.type==="element"&&s.tagName==="a"&&s.properties?.href&&(r=String(s.properties.href)),s.type==="text"&&n.push(s.value.trim())}),r||n.join("")}static tableToCSV(t){if(t.tagName!=="table")throw new Error("Attempting to convert node of wrong tagName to CSV from 'table'");try{const n=[];let r="";return Zd(t,{tagName:"thead"},s=>{const a=[];Zd(s,{tagName:"th"},i=>{const o=this.tableCellToText(i);a.push(o)}),n.push(this.stringArrayToCSV(a)),r+=a.join("-").replace(/[^a-z0-9\\-]/gi,"")}),Zd(t,{tagName:"tbody"},s=>{Zd(s,{tagName:"tr"},a=>{const i=[];Zd(a,{tagName:"td"},o=>{const c=this.tableCellToText(o);i.push(c)}),n.push(this.stringArrayToCSV(i))})}),{csvString:n.join(`
`),filename:r}}catch(n){throw new Error(`Error attempting to convert table node to CSV string: ${n}`)}}}const Z3e=T.memo(({tableData:e,citationOffset:t})=>{const{$t:n}=K(),{trackEvent:r}=Ne(),{data:s,column_metadata:a,search_results:i}=e,o=f.useMemo(()=>a.reduce((g,{name:v,display_name:y})=>(g[v]=y,g),{}),[a]),c=f.useMemo(()=>a.reduce((g,{name:v,display_format:y})=>(g[v]=y,g),{}),[a]),u=f.useCallback((g,v)=>g.value===null&&v.value===null?0:g.value===null?-1:v.value===null?1:typeof g.value=="string"?String(g.value).localeCompare(String(v.value)):Number(g.value)-Number(v.value),[]),d=f.useCallback(({data:g,id:v,...y})=>{const x=c[v],b=g[v].citation_index??null,w=b!==null?i[b]:null,_=w?.is_attachment??!1,C=g[v].value;let S=l.jsx(j2,{text:String(C)});return x==="url"&&(S=l.jsx(q3e,{url:String(C)})),x==="boolean"&&(S=l.jsx(G3e,{status:!!C})),x==="long_text"&&(S=l.jsx(j2,{text:String(C)})),x==="date"&&(S=l.jsx(j2,{text:String(C)})),C===null?l.jsx("td",{...y,children:l.jsx(j,{variant:"tiny",color:"ultraLight",children:l.jsx(_e,{icon:rFe,size:"xs"})})}):l.jsxs("td",{...y,children:[l.jsx("span",{children:S}),x!=="url"&&w&&w.url&&b!==null&&l.jsx(O3,{result:w,children:l.jsx(V3e,{str:`[${b+t+1}]`,href:w.url,isFile:_,isDownloadable:n0(w),className:U("citation ml-xs inline")})})]})},[i,c,t]),h=f.useMemo(()=>a.map(({name:g})=>({name:g,label:o[g],sortable:!0,resizable:!0})),[a,o]),m=rwt(),p=f.useCallback(()=>{const g=a.reduce((b,w)=>(b.push(w.name),b),[]).join("-"),v=a.map(({display_name:b})=>fG.escapeCSVString(b)).join(","),y=s.map(b=>a.map(({name:w})=>fG.escapeCSVString(String(b[w].value))).join(",")),x=[v,...y].join(`
`);return r("clicked download table as csv",{source:"widget"}),m({csvString:x,filename:g})},[a,s,m,r]);return l.jsx(To,{widgetType:"table",widgetName:"table",widgetSize:"full",children:l.jsxs(H,{variant:"offset",className:"px-md pb-xs rounded-lg",children:[l.jsx(Y3e,{data:s,columns:h,RowCell:d,compareFunction:u}),l.jsx(H,{className:"border-borderMain/50 py-sm flex justify-end border-t",children:l.jsx(ze,{icon:HN,variant:"super",onClick:p,pill:!0,size:"tiny",text:n({defaultMessage:"Export CSV",id:"TE51b7zSWC"}),toolTip:n({defaultMessage:"Download Table as CSV",id:"X3dYB0f+/Q"})})})]})})});Z3e.displayName="TableWidget";var aT=["MO","TU","WE","TH","FR","SA","SU"],gs=function(){function e(t,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=n}return e.fromStr=function(t){return new e(aT.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},e.prototype.toString=function(){var t=aT[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},e.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},e}(),er=function(e){return e!=null},Ui=function(e){return typeof e=="number"},hG=function(e){return typeof e=="string"&&aT.includes(e)},aa=Array.isArray,No=function(e,t){t===void 0&&(t=e),arguments.length===1&&(t=e,e=0);for(var n=[],r=e;r<t;r++)n.push(r);return n},Kt=function(e,t){var n=0,r=[];if(aa(e))for(;n<t;n++)r[n]=[].concat(e);else for(;n<t;n++)r[n]=e;return r},Pwt=function(e){return aa(e)?e:[e]};function Jd(e,t,n){n===void 0&&(n=" ");var r=String(e);return t=t>>0,r.length>t?String(r):(t=t-r.length,t>n.length&&(n+=Kt(n,t/n.length)),n.slice(0,t)+String(r))}var Iwt=function(e,t,n){var r=e.split(t);return n?r.slice(0,n).concat([r.slice(n).join(t)]):r},Sa=function(e,t){var n=e%t;return n*t<0?n+t:n},w6=function(e,t){return{div:Math.floor(e/t),mod:Sa(e,t)}},zi=function(e){return!er(e)||e.length===0},xr=function(e){return!zi(e)},hn=function(e,t){return xr(e)&&e.indexOf(t)!==-1},Ju=function(e,t,n,r,s,a){return r===void 0&&(r=0),s===void 0&&(s=0),a===void 0&&(a=0),new Date(Date.UTC(e,t-1,n,r,s,a))},Owt=[31,28,31,30,31,30,31,31,30,31,30,31],J3e=1e3*60*60*24,e_e=9999,t_e=Ju(1970,1,1),Lwt=[6,0,1,2,3,4,5],mg=function(e){return e%4===0&&e%100!==0||e%400===0},n_e=function(e){return e instanceof Date},Rp=function(e){return n_e(e)&&!isNaN(e.getTime())},Dwt=function(e,t){var n=e.getTime(),r=t.getTime(),s=n-r;return Math.round(s/J3e)},iT=function(e){return Dwt(e,t_e)},r_e=function(e){return new Date(t_e.getTime()+e*J3e)},Fwt=function(e){var t=e.getUTCMonth();return t===1&&mg(e.getUTCFullYear())?29:Owt[t]},Rh=function(e){return Lwt[e.getUTCDay()]},mG=function(e,t){var n=Ju(e,t+1,1);return[Rh(n),Fwt(n)]},s_e=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},oT=function(e){var t=new Date(e.getTime());return t},pG=function(e){for(var t=[],n=0;n<e.length;n++)t.push(oT(e[n]));return t},A0=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},DP=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[Jd(n.getUTCFullYear().toString(),4,"0"),Jd(n.getUTCMonth()+1,2,"0"),Jd(n.getUTCDate(),2,"0"),"T",Jd(n.getUTCHours(),2,"0"),Jd(n.getUTCMinutes(),2,"0"),Jd(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},FP=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))},gG=function(e,t){var n=e.toLocaleString("sv-SE",{timeZone:t});return n.replace(" ","T")+"Z"},Uwt=function(e,t){var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(gG(e,n)),s=new Date(gG(e,t??"UTC")),a=s.getTime()-r.getTime();return new Date(e.getTime()-a)},Nf=function(){function e(t,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=n,t==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):t==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):t==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}return e.prototype.accept=function(t){++this.total;var n=this.minDate&&t<this.minDate,r=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(n)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return n?!0:(this.add(t),!1);return this.add(t)},e.prototype.add=function(t){return this._result.push(t),!0},e.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),vG=function(e){p9(t,e);function t(n,r,s){var a=e.call(this,n,r)||this;return a.iterator=s,a}return t.prototype.add=function(n){return this.iterator(n,this._result.length)?(this._result.push(n),!0):!1},t}(Nf),wb={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},yG=function(e,t){return e.indexOf(t)!==-1},Bwt=function(e){return e.toString()},$wt=function(e,t,n){return"".concat(t," ").concat(n,", ").concat(e)},Ml=function(){function e(t,n,r,s){if(n===void 0&&(n=Bwt),r===void 0&&(r=wb),s===void 0&&(s=$wt),this.text=[],this.language=r||wb,this.gettext=n,this.dateFormatter=s,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),i=[].concat(this.options.bynmonthday);a.sort(function(d,h){return d-h}),i.sort(function(d,h){return h-d}),this.bymonthday=a.concat(i),this.bymonthday.length||(this.bymonthday=null)}if(er(this.origOptions.byweekday)){var o=aa(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(o);this.byweekday={allWeeks:o.filter(function(d){return!d.n}),someWeeks:o.filter(function(d){return!!d.n}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var u=function(d,h){return d.weekday-h.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){var n=!0;if(!(t.options.freq in e.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var r in t.origOptions){if(yG(["dtstart","tzid","wkst","freq"],r))return!0;if(!yG(e.IMPLEMENTED[t.options.freq],r))return!1}return n},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[xt.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},e.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},e.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},e.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},e.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},e.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},e.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(t){t=parseInt(t.toString(),10);var n,r=this.gettext;if(t===-1)return r("last");var s=Math.abs(t);switch(s){case 1:case 21:case 31:n=s+r("st");break;case 2:case 22:n=s+r("nd");break;case 3:case 23:n=s+r("rd");break;default:n=s+r("th")}return t<0?n+" "+r("last"):n},e.prototype.monthtext=function(t){return this.language.monthNames[t-1]},e.prototype.weekdaytext=function(t){var n=Ui(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[n]},e.prototype.plural=function(t){return t%100!==1},e.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},e.prototype.list=function(t,n,r,s){var a=this;s===void 0&&(s=","),aa(t)||(t=[t]);var i=function(c,u,d){for(var h="",m=0;m<c.length;m++)m!==0&&(m===c.length-1?h+=" "+d+" ":h+=u+" "),h+=c[m];return h};n=n||function(c){return c.toString()};var o=function(c){return n&&n.call(a,c)};return r?i(t.map(o),s,r):t.map(o).join(s+" ")},e}(),Hwt=function(){function e(t){this.done=!0,this.rules=t}return e.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&this.symbol===null},e.prototype.nextSymbol=function(){var t,n;this.symbol=null,this.value=null;do{if(this.done)return!1;var r=void 0;t=null;for(var s in this.rules){r=this.rules[s];var a=r.exec(this.text);a&&(t===null||a[0].length>t[0].length)&&(t=a,n=s)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=t,!0},e.prototype.accept=function(t){if(this.symbol===t){if(this.value){var n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},e}();function a_e(e,t){t===void 0&&(t=wb);var n={},r=new Hwt(t.tokens);if(!r.start(e))return null;return s(),n;function s(){r.expect("every");var m=r.acceptNumber();if(m&&(n.interval=parseInt(m[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":n.freq=xt.DAILY,r.nextSymbol()&&(i(),h());break;case"weekday(s)":n.freq=xt.WEEKLY,n.byweekday=[xt.MO,xt.TU,xt.WE,xt.TH,xt.FR],r.nextSymbol(),i(),h();break;case"week(s)":n.freq=xt.WEEKLY,r.nextSymbol()&&(a(),i(),h());break;case"hour(s)":n.freq=xt.HOURLY,r.nextSymbol()&&(a(),h());break;case"minute(s)":n.freq=xt.MINUTELY,r.nextSymbol()&&(a(),h());break;case"month(s)":n.freq=xt.MONTHLY,r.nextSymbol()&&(a(),h());break;case"year(s)":n.freq=xt.YEARLY,r.nextSymbol()&&(a(),h());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=xt.WEEKLY;var p=r.symbol.substr(0,2).toUpperCase();if(n.byweekday=[xt[p]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var g=c();if(!g)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");n.byweekday.push(xt[g]),r.nextSymbol()}i(),d(),h();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=xt.YEARLY,n.bymonth=[o()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var v=o();if(!v)throw new Error("Unexpected symbol "+r.symbol+", expected month");n.bymonth.push(v),r.nextSymbol()}a(),h();break;default:throw new Error("Unknown symbol")}}function a(){var m=r.accept("on"),p=r.accept("the");if(m||p)do{var g=u(),v=c(),y=o();if(g)v?(r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(xt[v].nth(g))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(g),r.accept("day(s)"));else if(v)r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(xt[v]);else if(r.symbol==="weekday(s)")r.nextSymbol(),n.byweekday||(n.byweekday=[xt.MO,xt.TU,xt.WE,xt.TH,xt.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var x=r.acceptNumber();if(!x)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(n.byweekno=[parseInt(x[0],10)];r.accept("comma");){if(x=r.acceptNumber(),!x)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.byweekno.push(parseInt(x[0],10))}}else if(y)r.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(y);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function i(){var m=r.accept("at");if(m)do{var p=r.acceptNumber();if(!p)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(n.byhour=[parseInt(p[0],10)];r.accept("comma");){if(p=r.acceptNumber(),!p)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");n.byhour.push(parseInt(p[0],10))}}while(r.accept("comma")||r.accept("at"))}function o(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var m=parseInt(r.value[1],10);if(m<-366||m>366)throw new Error("Nth out of range: "+m);return r.nextSymbol(),r.accept("last")?-m:m;default:return!1}}function d(){r.accept("on"),r.accept("the");var m=u();if(m)for(n.bymonthday=[m],r.nextSymbol();r.accept("comma");){if(m=u(),!m)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.bymonthday.push(m),r.nextSymbol()}}function h(){if(r.symbol==="until"){var m=Date.parse(r.text);if(!m)throw new Error("Cannot parse until date:"+r.text);n.until=new Date(m)}else r.accept("for")&&(n.count=parseInt(r.value[0],10),r.expect("number"))}}var Yt;(function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"})(Yt||(Yt={}));function UP(e){return e<Yt.HOURLY}var Wwt=function(e,t){return t===void 0&&(t=wb),new xt(a_e(e,t)||void 0)},Cm=["count","until","interval","byweekday","bymonthday","bymonth"];Ml.IMPLEMENTED=[];Ml.IMPLEMENTED[Yt.HOURLY]=Cm;Ml.IMPLEMENTED[Yt.MINUTELY]=Cm;Ml.IMPLEMENTED[Yt.DAILY]=["byhour"].concat(Cm);Ml.IMPLEMENTED[Yt.WEEKLY]=Cm;Ml.IMPLEMENTED[Yt.MONTHLY]=Cm;Ml.IMPLEMENTED[Yt.YEARLY]=["byweekno","byyearday"].concat(Cm);var zwt=function(e,t,n,r){return new Ml(e,t,n,r).toString()},Vwt=Ml.isFullyConvertible,_b=function(){function e(t,n,r,s){this.hour=t,this.minute=n,this.second=r,this.millisecond=s||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},e}(),Gwt=function(e){p9(t,e);function t(n,r,s,a,i,o,c){var u=e.call(this,a,i,o,c)||this;return u.year=n,u.month=r,u.day=s,u}return t.fromDate=function(n){return new this(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.valueOf()%1e3)},t.prototype.getWeekday=function(){return Rh(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(n){this.year+=n},t.prototype.addMonths=function(n){if(this.month+=n,this.month>12){var r=Math.floor(this.month/12),s=Sa(this.month,12);this.month=s,this.year+=r,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(n,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+n*7:this.day+=-(this.getWeekday()-r)+n*7,this.fixDay()},t.prototype.addDaily=function(n){this.day+=n,this.fixDay()},t.prototype.addHours=function(n,r,s){for(r&&(this.hour+=Math.floor((23-this.hour)/n)*n);;){this.hour+=n;var a=w6(this.hour,24),i=a.div,o=a.mod;if(i&&(this.hour=o,this.addDaily(i)),zi(s)||hn(s,this.hour))break}},t.prototype.addMinutes=function(n,r,s,a){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/n)*n);;){this.minute+=n;var i=w6(this.minute,60),o=i.div,c=i.mod;if(o&&(this.minute=c,this.addHours(o,!1,s)),(zi(s)||hn(s,this.hour))&&(zi(a)||hn(a,this.minute)))break}},t.prototype.addSeconds=function(n,r,s,a,i){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/n)*n);;){this.second+=n;var o=w6(this.second,60),c=o.div,u=o.mod;if(c&&(this.second=u,this.addMinutes(c,!1,s,a)),(zi(s)||hn(s,this.hour))&&(zi(a)||hn(a,this.minute))&&(zi(i)||hn(i,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var n=mG(this.year,this.month-1)[1];if(!(this.day<=n))for(;this.day>n;){if(this.day-=n,++this.month,this.month===13&&(this.month=1,++this.year,this.year>e_e))return;n=mG(this.year,this.month-1)[1]}}},t.prototype.add=function(n,r){var s=n.freq,a=n.interval,i=n.wkst,o=n.byhour,c=n.byminute,u=n.bysecond;switch(s){case Yt.YEARLY:return this.addYears(a);case Yt.MONTHLY:return this.addMonths(a);case Yt.WEEKLY:return this.addWeekly(a,i);case Yt.DAILY:return this.addDaily(a);case Yt.HOURLY:return this.addHours(a,r,o);case Yt.MINUTELY:return this.addMinutes(a,r,o,c);case Yt.SECONDLY:return this.addSeconds(a,r,o,c,u)}},t}(_b);function i_e(e){for(var t=[],n=Object.keys(e),r=0,s=n;r<s.length;r++){var a=s[r];hn(_3t,a)||t.push(a),n_e(e[a])&&!Rp(e[a])&&t.push(a)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return Tn({},e)}function qwt(e){var t=Tn(Tn({},BP),i_e(e));if(er(t.byeaster)&&(t.freq=xt.YEARLY),!(er(t.freq)&&xt.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: ".concat(t.freq," ").concat(e.freq));if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),er(t.wkst)?Ui(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=xt.MO.weekday,er(t.bysetpos)){Ui(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var n=0;n<t.bysetpos.length;n++){var r=t.bysetpos[n];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(t.byweekno||xr(t.byweekno)||xr(t.byyearday)||t.bymonthday||xr(t.bymonthday)||er(t.byweekday)||er(t.byeaster)))switch(t.freq){case xt.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case xt.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case xt.WEEKLY:t.byweekday=[Rh(t.dtstart)];break}if(er(t.bymonth)&&!aa(t.bymonth)&&(t.bymonth=[t.bymonth]),er(t.byyearday)&&!aa(t.byyearday)&&Ui(t.byyearday)&&(t.byyearday=[t.byyearday]),!er(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(aa(t.bymonthday)){for(var s=[],a=[],n=0;n<t.bymonthday.length;n++){var r=t.bymonthday[n];r>0?s.push(r):r<0&&a.push(r)}t.bymonthday=s,t.bynmonthday=a}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(er(t.byweekno)&&!aa(t.byweekno)&&(t.byweekno=[t.byweekno]),!er(t.byweekday))t.bynweekday=null;else if(Ui(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(hG(t.byweekday))t.byweekday=[gs.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof gs)!t.byweekday.n||t.freq>xt.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var i=[],o=[],n=0;n<t.byweekday.length;n++){var c=t.byweekday[n];if(Ui(c)){i.push(c);continue}else if(hG(c)){i.push(gs.fromStr(c).weekday);continue}!c.n||t.freq>xt.MONTHLY?i.push(c.weekday):o.push([c.weekday,c.n])}t.byweekday=xr(i)?i:null,t.bynweekday=xr(o)?o:null}return er(t.byhour)?Ui(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<xt.HOURLY?[t.dtstart.getUTCHours()]:null,er(t.byminute)?Ui(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<xt.MINUTELY?[t.dtstart.getUTCMinutes()]:null,er(t.bysecond)?Ui(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<xt.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Kwt(e){var t=e.dtstart.getTime()%1e3;if(!UP(e.freq))return[];var n=[];return e.byhour.forEach(function(r){e.byminute.forEach(function(s){e.bysecond.forEach(function(a){n.push(new _b(r,s,a,t))})})}),n}function lT(e){var t=e.split(`
`).map(Ywt).filter(function(n){return n!==null});return Tn(Tn({},t[0]),t[1])}function Cb(e){var t={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!n)return t;var r=n[1],s=n[2];return r&&(t.tzid=r),t.dtstart=FP(s),t}function Ywt(e){if(e=e.replace(/^\s+|\s+$/,""),!e.length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return xG(e);var n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return xG(e);case"DTSTART":return Cb(e);default:throw new Error("Unsupported RFC prop ".concat(n," in ").concat(e))}}function xG(e){var t=e.replace(/^RRULE:/i,""),n=Cb(t),r=e.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(s){var a=s.split("="),i=a[0],o=a[1];switch(i.toUpperCase()){case"FREQ":n.freq=Yt[o.toUpperCase()];break;case"WKST":n.wkst=ei[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=Qwt(o),u=i.toLowerCase();n[u]=c;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=Xwt(o);break;case"DTSTART":case"TZID":var d=Cb(e);n.tzid=d.tzid,n.dtstart=d.dtstart;break;case"UNTIL":n.until=FP(o);break;case"BYEASTER":n.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+i+"'")}}),n}function Qwt(e){if(e.indexOf(",")!==-1){var t=e.split(",");return t.map(bG)}return bG(e)}function bG(e){return/^[+-]?\d+$/.test(e)?Number(e):e}function Xwt(e){var t=e.split(",");return t.map(function(n){if(n.length===2)return ei[n];var r=n.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!r||r.length<3)throw new SyntaxError("Invalid weekday string: ".concat(n));var s=Number(r[1]),a=r[2],i=ei[a].weekday;return new gs(i,s)})}var Sb=function(){function e(t,n){if(isNaN(t.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=t,this.tzid=n}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=DP(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(t):";TZID=".concat(this.tzid,":").concat(t)},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){return this.isUTC?this.date:Uwt(this.date,this.tzid)},e}();function cT(e){for(var t=[],n="",r=Object.keys(e),s=Object.keys(BP),a=0;a<r.length;a++)if(r[a]!=="tzid"&&hn(s,r[a])){var i=r[a].toUpperCase(),o=e[r[a]],c="";if(!(!er(o)||aa(o)&&!o.length)){switch(i){case"FREQ":c=xt.FREQUENCIES[e.freq];break;case"WKST":Ui(o)?c=new gs(o).toString():c=o.toString();break;case"BYWEEKDAY":i="BYDAY",c=Pwt(o).map(function(p){return p instanceof gs?p:aa(p)?new gs(p[0],p[1]):new gs(p)}).toString();break;case"DTSTART":n=Zwt(o,e.tzid);break;case"UNTIL":c=DP(o,!e.tzid);break;default:if(aa(o)){for(var u=[],d=0;d<o.length;d++)u[d]=String(o[d]);c=u.toString()}else c=String(o)}c&&t.push([i,c])}}var h=t.map(function(p){var g=p[0],v=p[1];return"".concat(g,"=").concat(v.toString())}).join(";"),m="";return h!==""&&(m="RRULE:".concat(h)),[n,m].filter(function(p){return!!p}).join(`
`)}function Zwt(e,t){return e?"DTSTART"+new Sb(new Date(e),t).toString():""}function Jwt(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every(function(n,r){return n.getTime()===t[r].getTime()}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var e3t=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(t,n,r){n&&(n=n instanceof Date?oT(n):pG(n)),t==="all"?this.all=n:(r._value=n,this[t].push(r))},e.prototype._cacheGet=function(t,n){var r=!1,s=n?Object.keys(n):[],a=function(d){for(var h=0;h<s.length;h++){var m=s[h];if(!Jwt(n[m],d[m]))return!0}return!1},i=this[t];if(t==="all")r=this.all;else if(aa(i))for(var o=0;o<i.length;o++){var c=i[o];if(!(s.length&&a(c))){r=c._value;break}}if(!r&&this.all){for(var u=new Nf(t,n),o=0;o<this.all.length&&u.accept(this.all[o]);o++);r=u.getValue(),this._cacheAdd(t,r,n)}return aa(r)?pG(r):r instanceof Date?oT(r):r},e}(),t3t=He(He(He(He(He(He(He(He(He(He(He(He(He([],Kt(1,31),!0),Kt(2,28),!0),Kt(3,31),!0),Kt(4,30),!0),Kt(5,31),!0),Kt(6,30),!0),Kt(7,31),!0),Kt(8,31),!0),Kt(9,30),!0),Kt(10,31),!0),Kt(11,30),!0),Kt(12,31),!0),Kt(1,7),!0),n3t=He(He(He(He(He(He(He(He(He(He(He(He(He([],Kt(1,31),!0),Kt(2,29),!0),Kt(3,31),!0),Kt(4,30),!0),Kt(5,31),!0),Kt(6,30),!0),Kt(7,31),!0),Kt(8,31),!0),Kt(9,30),!0),Kt(10,31),!0),Kt(11,30),!0),Kt(12,31),!0),Kt(1,7),!0),r3t=No(1,29),s3t=No(1,30),ec=No(1,31),es=No(1,32),a3t=He(He(He(He(He(He(He(He(He(He(He(He(He([],es,!0),s3t,!0),es,!0),ec,!0),es,!0),ec,!0),es,!0),es,!0),ec,!0),es,!0),ec,!0),es,!0),es.slice(0,7),!0),i3t=He(He(He(He(He(He(He(He(He(He(He(He(He([],es,!0),r3t,!0),es,!0),ec,!0),es,!0),ec,!0),es,!0),es,!0),ec,!0),es,!0),ec,!0),es,!0),es.slice(0,7),!0),o3t=No(-28,0),l3t=No(-29,0),tc=No(-30,0),ts=No(-31,0),c3t=He(He(He(He(He(He(He(He(He(He(He(He(He([],ts,!0),l3t,!0),ts,!0),tc,!0),ts,!0),tc,!0),ts,!0),ts,!0),tc,!0),ts,!0),tc,!0),ts,!0),ts.slice(0,7),!0),u3t=He(He(He(He(He(He(He(He(He(He(He(He(He([],ts,!0),o3t,!0),ts,!0),tc,!0),ts,!0),tc,!0),ts,!0),ts,!0),tc,!0),ts,!0),tc,!0),ts,!0),ts.slice(0,7),!0),d3t=[0,31,60,91,121,152,182,213,244,274,305,335,366],f3t=[0,31,59,90,120,151,181,212,243,273,304,334,365],wG=function(){for(var e=[],t=0;t<55;t++)e=e.concat(No(7));return e}();function h3t(e,t){var n=Ju(e,1,1),r=mg(e)?366:365,s=mg(e+1)?366:365,a=iT(n),i=Rh(n),o=Tn(Tn({yearlen:r,nextyearlen:s,yearordinal:a,yearweekday:i},m3t(e)),{wnomask:null});if(zi(t.byweekno))return o;o.wnomask=Kt(0,r+7);var c,u,d=c=Sa(7-i+t.wkst,7);d>=4?(d=0,u=o.yearlen+Sa(i-t.wkst,7)):u=r-d;for(var h=Math.floor(u/7),m=Sa(u,7),p=Math.floor(h+m/4),g=0;g<t.byweekno.length;g++){var v=t.byweekno[g];if(v<0&&(v+=p+1),v>0&&v<=p){var y=void 0;v>1?(y=d+(v-1)*7,d!==c&&(y-=7-c)):y=d;for(var x=0;x<7&&(o.wnomask[y]=1,y++,o.wdaymask[y]!==t.wkst);x++);}}if(hn(t.byweekno,1)){var y=d+p*7;if(d!==c&&(y-=7-c),y<r)for(var g=0;g<7&&(o.wnomask[y]=1,y+=1,o.wdaymask[y]!==t.wkst);g++);}if(d){var b=void 0;if(hn(t.byweekno,-1))b=-1;else{var w=Rh(Ju(e-1,1,1)),_=Sa(7-w.valueOf()+t.wkst,7),C=mg(e-1)?366:365,S=void 0;_>=4?(_=0,S=C+Sa(w-t.wkst,7)):S=r-d,b=Math.floor(52+Sa(S,7)/4)}if(hn(t.byweekno,b))for(var y=0;y<d;y++)o.wnomask[y]=1}return o}function m3t(e){var t=mg(e)?366:365,n=Ju(e,1,1),r=Rh(n);return t===365?{mmask:t3t,mdaymask:i3t,nmdaymask:u3t,wdaymask:wG.slice(r),mrange:f3t}:{mmask:n3t,mdaymask:a3t,nmdaymask:c3t,wdaymask:wG.slice(r),mrange:d3t}}function p3t(e,t,n,r,s,a){var i={lastyear:e,lastmonth:t,nwdaymask:[]},o=[];if(a.freq===xt.YEARLY)if(zi(a.bymonth))o=[[0,n]];else for(var c=0;c<a.bymonth.length;c++)t=a.bymonth[c],o.push(r.slice(t-1,t+1));else a.freq===xt.MONTHLY&&(o=[r.slice(t-1,t+1)]);if(zi(o))return i;i.nwdaymask=Kt(0,n);for(var c=0;c<o.length;c++)for(var u=o[c],d=u[0],h=u[1]-1,m=0;m<a.bynweekday.length;m++){var p=void 0,g=a.bynweekday[m],v=g[0],y=g[1];y<0?(p=h+(y+1)*7,p-=Sa(s[p]-v,7)):(p=d+(y-1)*7,p+=Sa(7-s[p]+v,7)),d<=p&&p<=h&&(i.nwdaymask[p]=1)}return i}function g3t(e,t){t===void 0&&(t=0);var n=e%19,r=Math.floor(e/100),s=e%100,a=Math.floor(r/4),i=r%4,o=Math.floor((r+8)/25),c=Math.floor((r-o+1)/3),u=Math.floor(19*n+r-a-c+15)%30,d=Math.floor(s/4),h=s%4,m=Math.floor(32+2*i+2*d-u-h)%7,p=Math.floor((n+11*u+22*m)/451),g=Math.floor((u+m-7*p+114)/31),v=(u+m-7*p+114)%31+1,y=Date.UTC(e,g-1,v+t),x=Date.UTC(e,0,1);return[Math.ceil((y-x)/(1e3*60*60*24))]}var v3t=function(){function e(t){this.options=t}return e.prototype.rebuild=function(t,n){var r=this.options;if(t!==this.lastyear&&(this.yearinfo=h3t(t,r)),xr(r.bynweekday)&&(n!==this.lastmonth||t!==this.lastyear)){var s=this.yearinfo,a=s.yearlen,i=s.mrange,o=s.wdaymask;this.monthinfo=p3t(t,n,a,i,o,r)}er(r.byeaster)&&(this.eastermask=g3t(t,r.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),e.prototype.ydayset=function(){return[No(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(t,n){for(var r=this.mrange[n-1],s=this.mrange[n],a=Kt(null,this.yearlen),i=r;i<s;i++)a[i]=i;return[a,r,s]},e.prototype.wdayset=function(t,n,r){for(var s=Kt(null,this.yearlen+7),a=iT(Ju(t,n,r))-this.yearordinal,i=a,o=0;o<7&&(s[a]=a,++a,this.wdaymask[a]!==this.options.wkst);o++);return[s,i,a]},e.prototype.ddayset=function(t,n,r){var s=Kt(null,this.yearlen),a=iT(Ju(t,n,r))-this.yearordinal;return s[a]=a,[s,a,a+1]},e.prototype.htimeset=function(t,n,r,s){var a=this,i=[];return this.options.byminute.forEach(function(o){i=i.concat(a.mtimeset(t,o,r,s))}),A0(i),i},e.prototype.mtimeset=function(t,n,r,s){var a=this.options.bysecond.map(function(i){return new _b(t,n,i,s)});return A0(a),a},e.prototype.stimeset=function(t,n,r,s){return[new _b(t,n,r,s)]},e.prototype.getdayset=function(t){switch(t){case Yt.YEARLY:return this.ydayset.bind(this);case Yt.MONTHLY:return this.mdayset.bind(this);case Yt.WEEKLY:return this.wdayset.bind(this);case Yt.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(t){switch(t){case Yt.HOURLY:return this.htimeset.bind(this);case Yt.MINUTELY:return this.mtimeset.bind(this);case Yt.SECONDLY:return this.stimeset.bind(this)}},e}();function y3t(e,t,n,r,s,a){for(var i=[],o=0;o<e.length;o++){var c=void 0,u=void 0,d=e[o];d<0?(c=Math.floor(d/t.length),u=Sa(d,t.length)):(c=Math.floor((d-1)/t.length),u=Sa(d-1,t.length));for(var h=[],m=n;m<r;m++){var p=a[m];er(p)&&h.push(p)}var g=void 0;c<0?g=h.slice(c)[0]:g=h[c];var v=t[u],y=r_e(s.yearordinal+g),x=s_e(y,v);hn(i,x)||i.push(x)}return A0(i),i}function o_e(e,t){var n=t.dtstart,r=t.freq,s=t.interval,a=t.until,i=t.bysetpos,o=t.count;if(o===0||s===0)return Ro(e);var c=Gwt.fromDate(n),u=new v3t(t);u.rebuild(c.year,c.month);for(var d=w3t(u,c,t);;){var h=u.getdayset(r)(c.year,c.month,c.day),m=h[0],p=h[1],g=h[2],v=b3t(m,p,g,u,t);if(xr(i))for(var y=y3t(i,d,p,g,u,m),x=0;x<y.length;x++){var b=y[x];if(a&&b>a)return Ro(e);if(b>=n){var w=_G(b,t);if(!e.accept(w)||o&&(--o,!o))return Ro(e)}}else for(var x=p;x<g;x++){var _=m[x];if(er(_))for(var C=r_e(u.yearordinal+_),S=0;S<d.length;S++){var k=d[S],b=s_e(C,k);if(a&&b>a)return Ro(e);if(b>=n){var w=_G(b,t);if(!e.accept(w)||o&&(--o,!o))return Ro(e)}}}if(t.interval===0||(c.add(t,v),c.year>e_e))return Ro(e);UP(r)||(d=u.gettimeset(r)(c.hour,c.minute,c.second,0)),u.rebuild(c.year,c.month)}}function x3t(e,t,n){var r=n.bymonth,s=n.byweekno,a=n.byweekday,i=n.byeaster,o=n.bymonthday,c=n.bynmonthday,u=n.byyearday;return xr(r)&&!hn(r,e.mmask[t])||xr(s)&&!e.wnomask[t]||xr(a)&&!hn(a,e.wdaymask[t])||xr(e.nwdaymask)&&!e.nwdaymask[t]||i!==null&&!hn(e.eastermask,t)||(xr(o)||xr(c))&&!hn(o,e.mdaymask[t])&&!hn(c,e.nmdaymask[t])||xr(u)&&(t<e.yearlen&&!hn(u,t+1)&&!hn(u,-e.yearlen+t)||t>=e.yearlen&&!hn(u,t+1-e.yearlen)&&!hn(u,-e.nextyearlen+t-e.yearlen))}function _G(e,t){return new Sb(e,t.tzid).rezonedDate()}function Ro(e){return e.getValue()}function b3t(e,t,n,r,s){for(var a=!1,i=t;i<n;i++){var o=e[i];a=x3t(r,o,s),a&&(e[o]=null)}return a}function w3t(e,t,n){var r=n.freq,s=n.byhour,a=n.byminute,i=n.bysecond;return UP(r)?Kwt(n):r>=xt.HOURLY&&xr(s)&&!hn(s,t.hour)||r>=xt.MINUTELY&&xr(a)&&!hn(a,t.minute)||r>=xt.SECONDLY&&xr(i)&&!hn(i,t.second)?[]:e.gettimeset(r)(t.hour,t.minute,t.second,t.millisecond)}var ei={MO:new gs(0),TU:new gs(1),WE:new gs(2),TH:new gs(3),FR:new gs(4),SA:new gs(5),SU:new gs(6)},BP={freq:Yt.YEARLY,dtstart:null,interval:1,wkst:ei.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},_3t=Object.keys(BP),xt=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=!1),this._cache=n?null:new e3t,this.origOptions=i_e(t);var r=qwt(t).parsedOptions;this.options=r}return e.parseText=function(t,n){return a_e(t,n)},e.fromText=function(t,n){return Wwt(t,n)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(t){return o_e(t,this.options)},e.prototype._cacheGet=function(t,n){return this._cache?this._cache._cacheGet(t,n):!1},e.prototype._cacheAdd=function(t,n,r){if(this._cache)return this._cache._cacheAdd(t,n,r)},e.prototype.all=function(t){if(t)return this._iter(new vG("all",{},t));var n=this._cacheGet("all");return n===!1&&(n=this._iter(new Nf("all",{})),this._cacheAdd("all",n)),n},e.prototype.between=function(t,n,r,s){if(r===void 0&&(r=!1),!Rp(t)||!Rp(n))throw new Error("Invalid date passed in to RRule.between");var a={before:n,after:t,inc:r};if(s)return this._iter(new vG("between",a,s));var i=this._cacheGet("between",a);return i===!1&&(i=this._iter(new Nf("between",a)),this._cacheAdd("between",i,a)),i},e.prototype.before=function(t,n){if(n===void 0&&(n=!1),!Rp(t))throw new Error("Invalid date passed in to RRule.before");var r={dt:t,inc:n},s=this._cacheGet("before",r);return s===!1&&(s=this._iter(new Nf("before",r)),this._cacheAdd("before",s,r)),s},e.prototype.after=function(t,n){if(n===void 0&&(n=!1),!Rp(t))throw new Error("Invalid date passed in to RRule.after");var r={dt:t,inc:n},s=this._cacheGet("after",r);return s===!1&&(s=this._iter(new Nf("after",r)),this._cacheAdd("after",s,r)),s},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return cT(this.origOptions)},e.prototype.toText=function(t,n,r){return zwt(this,t,n,r)},e.prototype.isFullyConvertibleToText=function(){return Vwt(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=Yt.YEARLY,e.MONTHLY=Yt.MONTHLY,e.WEEKLY=Yt.WEEKLY,e.DAILY=Yt.DAILY,e.HOURLY=Yt.HOURLY,e.MINUTELY=Yt.MINUTELY,e.SECONDLY=Yt.SECONDLY,e.MO=ei.MO,e.TU=ei.TU,e.WE=ei.WE,e.TH=ei.TH,e.FR=ei.FR,e.SA=ei.SA,e.SU=ei.SU,e.parseString=lT,e.optionsToString=cT,e}();function C3t(e,t,n,r,s,a){var i={},o=e.accept;function c(m,p){n.forEach(function(g){g.between(m,p,!0).forEach(function(v){i[Number(v)]=!0})})}s.forEach(function(m){var p=new Sb(m,a).rezonedDate();i[Number(p)]=!0}),e.accept=function(m){var p=Number(m);return isNaN(p)?o.call(this,m):!i[p]&&(c(new Date(p-1),new Date(p+1)),!i[p])?(i[p]=!0,o.call(this,m)):!0},e.method==="between"&&(c(e.args.after,e.args.before),e.accept=function(m){var p=Number(m);return i[p]?!0:(i[p]=!0,o.call(this,m))});for(var u=0;u<r.length;u++){var d=new Sb(r[u],a).rezonedDate();if(!e.accept(new Date(d.getTime())))break}t.forEach(function(m){o_e(e,m.options)});var h=e._result;switch(A0(h),e.method){case"all":case"between":return h;case"before":return h.length&&h[h.length-1]||null;case"after":default:return h.length&&h[0]||null}}var CG={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function S3t(e,t){var n=[],r=[],s=[],a=[],i=Cb(e),o=i.dtstart,c=i.tzid,u=N3t(e,t.unfold);return u.forEach(function(d){var h;if(d){var m=T3t(d),p=m.name,g=m.parms,v=m.value;switch(p.toUpperCase()){case"RRULE":if(g.length)throw new Error("unsupported RRULE parm: ".concat(g.join(",")));n.push(lT(d));break;case"RDATE":var y=(h=/RDATE(?:;TZID=([^:=]+))?/i.exec(d))!==null&&h!==void 0?h:[],x=y[1];x&&!c&&(c=x),r=r.concat(EG(v,g));break;case"EXRULE":if(g.length)throw new Error("unsupported EXRULE parm: ".concat(g.join(",")));s.push(lT(v));break;case"EXDATE":a=a.concat(EG(v,g));break;case"DTSTART":break;default:throw new Error("unsupported property: "+p)}}}),{dtstart:o,tzid:c,rrulevals:n,rdatevals:r,exrulevals:s,exdatevals:a}}function E3t(e,t){var n=S3t(e,t),r=n.rrulevals,s=n.rdatevals,a=n.exrulevals,i=n.exdatevals,o=n.dtstart,c=n.tzid,u=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||r.length>1||s.length||a.length||i.length){var d=new A3t(u);return d.dtstart(o),d.tzid(c||void 0),r.forEach(function(m){d.rrule(new xt(_6(m,o,c),u))}),s.forEach(function(m){d.rdate(m)}),a.forEach(function(m){d.exrule(new xt(_6(m,o,c),u))}),i.forEach(function(m){d.exdate(m)}),t.compatible&&t.dtstart&&d.rdate(o),d}var h=r[0]||{};return new xt(_6(h,h.dtstart||t.dtstart||o,h.tzid||t.tzid||c),u)}function SG(e,t){return t===void 0&&(t={}),E3t(e,k3t(t))}function _6(e,t,n){return Tn(Tn({},e),{dtstart:t,tzid:n})}function k3t(e){var t=[],n=Object.keys(e),r=Object.keys(CG);if(n.forEach(function(s){hn(r,s)||t.push(s)}),t.length)throw new Error("Invalid options: "+t.join(", "));return Tn(Tn({},CG),e)}function M3t(e){if(e.indexOf(":")===-1)return{name:"RRULE",value:e};var t=Iwt(e,":",1),n=t[0],r=t[1];return{name:n,value:r}}function T3t(e){var t=M3t(e),n=t.name,r=t.value,s=n.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:r}}function N3t(e,t){if(t===void 0&&(t=!1),e=e&&e.trim(),!e)throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var n=e.split(`
`),r=0;r<n.length;){var s=n[r]=n[r].replace(/\s+$/g,"");s?r>0&&s[0]===" "?(n[r-1]+=s.slice(1),n.splice(r,1)):r+=1:n.splice(r,1)}return n}function R3t(e){e.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function EG(e,t){return R3t(t),e.split(",").map(function(n){return FP(n)})}function kG(e){var t=this;return function(n){if(n!==void 0&&(t["_".concat(e)]=n),t["_".concat(e)]!==void 0)return t["_".concat(e)];for(var r=0;r<t._rrule.length;r++){var s=t._rrule[r].origOptions[e];if(s)return s}}}var A3t=function(e){p9(t,e);function t(n){n===void 0&&(n=!1);var r=e.call(this,{},n)||this;return r.dtstart=kG.apply(r,["dtstart"]),r.tzid=kG.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return t.prototype._iter=function(n){return C3t(n,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(n){MG(n,this._rrule)},t.prototype.exrule=function(n){MG(n,this._exrule)},t.prototype.rdate=function(n){TG(n,this._rdate)},t.prototype.exdate=function(n){TG(n,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(n){return SG(n.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(n){return SG(n.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(n){return new Date(n.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(n){return new Date(n.getTime())})},t.prototype.valueOf=function(){var n=[];return!this._rrule.length&&this._dtstart&&(n=n.concat(cT({dtstart:this._dtstart}))),this._rrule.forEach(function(r){n=n.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){n=n.concat(r.toString().split(`
`).map(function(s){return s.replace(/^RRULE:/,"EXRULE:")}).filter(function(s){return!/^DTSTART/.test(s)}))}),this._rdate.length&&n.push(NG("RDATE",this._rdate,this.tzid())),this._exdate.length&&n.push(NG("EXDATE",this._exdate,this.tzid())),n},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var n=new t(!!this._cache);return this._rrule.forEach(function(r){return n.rrule(r.clone())}),this._exrule.forEach(function(r){return n.exrule(r.clone())}),this._rdate.forEach(function(r){return n.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return n.exdate(new Date(r.getTime()))}),n},t}(xt);function MG(e,t){if(!(e instanceof xt))throw new TypeError(String(e)+" is not RRule instance");hn(t.map(String),String(e))||t.push(e)}function TG(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");hn(t.map(Number),Number(e))||(t.push(e),A0(t))}function NG(e,t,n){var r=!n||n.toUpperCase()==="UTC",s=r?"".concat(e,":"):"".concat(e,";TZID=").concat(n,":"),a=t.map(function(i){return DP(i.valueOf(),r)}).join(",");return"".concat(s).concat(a)}const j3t=e=>{switch(e.kind){case"ONCE":return new Date(e.year,e.month,e.day,e.hour,e.minute);case"DAILY":return new Date(2e3,0,1,e.hour,e.minute);case"WEEKLY":return new Date(2e3,0,2+e.dayOfWeek,e.hour,e.minute);case"MONTHLY":return new Date(2e3,0,e.day,e.hour,e.minute);case"YEARLY":return new Date(2e3,e.month,e.day,e.hour,e.minute);case"WEEKDAYS":return new Date(2e3,0,1,e.hour,e.minute)}};function P3t(e,t){const n=j3t(e);switch(e.kind){case"ONCE":return t.formatDate(n,{dateStyle:"medium",timeStyle:"short"});case"DAILY":return t.formatTime(n,{timeStyle:"short"});case"WEEKLY":return t.formatDate(n,{weekday:"short",hour:"numeric",minute:"numeric"});case"MONTHLY":return t.formatMessage({defaultMessage:"Day {day}, {time}",id:"grA/MDsLjr"},{day:n.getDate().toString(),time:t.formatTime(n,{timeStyle:"short"})});case"YEARLY":return t.formatDate(n,{hour:"numeric",minute:"numeric",day:"numeric",month:"short"});case"WEEKDAYS":return t.formatTime(n,{timeStyle:"short"})}}const ef=pt({kindOnce:{defaultMessage:"Once",id:"DqTQOpG2Me"},kindDaily:{defaultMessage:"Daily",id:"zxvhnETmn2"},kindWeekly:{defaultMessage:"Weekly",id:"/clOBUs/wZ"},kindWeekdays:{defaultMessage:"Every weekday",id:"8Hjql2wdJG"},kindMonthly:{defaultMessage:"Monthly",id:"wYsv4ZHu+B"},kindYearly:{defaultMessage:"Yearly",id:"dqD39hnoA/"}}),I3t={ONCE:ef.kindOnce,DAILY:ef.kindDaily,WEEKLY:ef.kindWeekly,MONTHLY:ef.kindMonthly,YEARLY:ef.kindYearly,WEEKDAYS:ef.kindWeekdays};function O3t(){const e=new Date;return e.setHours(e.getHours()+1,e.getMinutes(),0,0),{kind:"ONCE",minute:e.getMinutes(),hour:e.getHours(),day:e.getDate(),month:e.getMonth(),year:e.getFullYear(),dayOfWeek:e.getDay()}}function L3t(e="",t=ge.PRO,n=["web"]){return{title:"",prompt:e,schedule:O3t(),searchModel:t,sources:n}}function D3t(e,t){return t.formatMessage(I3t[e])}const F3t=()=>Intl.DateTimeFormat().resolvedOptions().timeZone;function U3t(e){switch(e.kind){case"ONCE":return new Date(e.year,e.month,e.day,e.hour,e.minute);default:return new Date}}function B3t(e){switch(e.kind){case"ONCE":return"FREQ=DAILY;COUNT=1";case"DAILY":return`FREQ=DAILY;BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"WEEKLY":return`FREQ=WEEKLY;BYDAY=${["SU","MO","TU","WE","TH","FR","SA"][e.dayOfWeek]};BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"MONTHLY":return`FREQ=MONTHLY;BYMONTHDAY=${e.day};BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"YEARLY":return`FREQ=YEARLY;BYMONTH=${e.month+1};BYMONTHDAY=${e.day};BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"WEEKDAYS":return`FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;BYHOUR=${e.hour};BYMINUTE=${e.minute}`}}function C6(e){const t=U3t(e);return{start_at:Uc(t,"yyyy-MM-dd'T'HH:mm:ss"),rrule:B3t(e),tzid:F3t()}}function uT(e){const t=new Date(e.start_at),n={kind:"ONCE",minute:t.getMinutes(),hour:t.getHours(),day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),dayOfWeek:t.getDay()};if(e.rrule.includes("FREQ=DAILY;COUNT=1"))return n;const r=xt.parseString(e.rrule),s=d=>Array.isArray(d)?d[0]:d,a=s(r.byhour),i=s(r.byminute),o=s(r.bymonth),c=s(r.bymonthday),u=s(r.byweekday);switch(r.freq){case xt.DAILY:return a===void 0||i===void 0?(Q.error("DAILY schedule missing required BYHOUR or BYMINUTE parameter"),{...n}):{...n,kind:"DAILY",hour:a,minute:i};case xt.WEEKLY:{if(u===void 0||a===void 0||i===void 0)return Q.error("WEEKLY schedule missing required parameters"),{...n};if(Array.isArray(r.byweekday)&&r.byweekday.length===5)return{...n,kind:"WEEKDAYS",hour:a,minute:i};const d=u.weekday===6?0:u.weekday+1;return{...n,kind:"WEEKLY",dayOfWeek:d,hour:a,minute:i}}case xt.MONTHLY:return c===void 0||a===void 0||i===void 0?(Q.error("MONTHLY schedule missing required BYMONTHDAY parameter"),{...n}):{...n,kind:"MONTHLY",day:c,hour:a,minute:i};case xt.YEARLY:return o===void 0||c===void 0||a===void 0||i===void 0?(Q.error("YEARLY schedule missing required BYMONTH parameter"),{...n}):{...n,kind:"YEARLY",month:o-1,day:c,hour:a,minute:i}}return Q.error("Invalid task schedule"),{...n}}const l_e=f.memo(({prompt:e,onPromptChange:t,error:n})=>{const{isMobileUserAgent:r}=Oe();return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:l.jsx(ce,{defaultMessage:"Instructions",id:"sV2v5LjRpX"})}),l.jsx($u,{value:e,onChange:t,isMobileUserAgent:r,isMobileStyle:!1,minRows:3,maxLength:iLe,allowEnterNewlines:!0,className:"bg-background-200 dark:bg-offsetDark [&_textarea]:bg-background-200 dark:[&_textarea]:bg-offsetDark hover:!border-borderMain/75 focus-within:!border-borderMain/75 dark:hover:!border-borderMainDark/75 dark:focus-within:!border-borderMainDark/75 !border !border-transparent"}),n&&l.jsxs("div",{className:"gap-xs flex items-center",children:[l.jsx(bee,{size:12,className:"text-caution"}),l.jsx(j,{variant:"tinyRegular",color:"red",className:"mt-0.5",children:n})]})]})});l_e.displayName="QueryPromptInput";const $3t=[{value:"ONCE",label:"Once"},{value:"DAILY",label:"Daily"},{value:"WEEKLY",label:"Weekly"},{value:"WEEKDAYS",label:"Every weekday"},{value:"MONTHLY",label:"Monthly"},{value:"YEARLY",label:"Yearly"}],H3t=[{value:"0",label:"Sunday"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"}],W3t=[...Array(31)].map((e,t)=>({value:String(t+1),label:String(t+1)})),z3t=[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}];var _t=function(){return _t=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_t.apply(this,arguments)};function V3t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function c_e(e,t,n){for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function q1(e){return e.mode==="multiple"}function K1(e){return e.mode==="range"}function k_(e){return e.mode==="single"}var G3t={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function q3t(e,t){return Uc(e,"LLLL y",t)}function K3t(e,t){return Uc(e,"d",t)}function Y3t(e,t){return Uc(e,"LLLL",t)}function Q3t(e){return"".concat(e)}function X3t(e,t){return Uc(e,"cccccc",t)}function Z3t(e,t){return Uc(e,"yyyy",t)}var J3t=Object.freeze({__proto__:null,formatCaption:q3t,formatDay:K3t,formatMonthCaption:Y3t,formatWeekNumber:Q3t,formatWeekdayName:X3t,formatYearCaption:Z3t}),e_t=function(e,t,n){return Uc(e,"do MMMM (EEEE)",n)},t_t=function(){return"Month: "},n_t=function(){return"Go to next month"},r_t=function(){return"Go to previous month"},s_t=function(e,t){return Uc(e,"cccc",t)},a_t=function(e){return"Week n. ".concat(e)},i_t=function(){return"Year: "},o_t=Object.freeze({__proto__:null,labelDay:e_t,labelMonthDropdown:t_t,labelNext:n_t,labelPrevious:r_t,labelWeekNumber:a_t,labelWeekday:s_t,labelYearDropdown:i_t});function l_t(){var e="buttons",t=G3t,n=fxe,r={},s={},a=1,i={},o=new Date;return{captionLayout:e,classNames:t,formatters:J3t,labels:o_t,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:a,styles:i,today:o,mode:"default"}}function c_t(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return r?a=Ws(r):t&&(a=new Date(t,0,1)),s?i=U3(s):n&&(i=new Date(n,11,31)),{fromDate:a?Cc(a):void 0,toDate:i?Cc(i):void 0}}var u_e=f.createContext(void 0);function u_t(e){var t,n=e.initialProps,r=l_t(),s=c_t(n),a=s.fromDate,i=s.toDate,o=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;o!=="buttons"&&(!a||!i)&&(o="buttons");var c;(k_(n)||q1(n)||K1(n))&&(c=n.onSelect);var u=_t(_t(_t({},r),n),{captionLayout:o,classNames:_t(_t({},r.classNames),n.classNames),components:_t({},n.components),formatters:_t(_t({},r.formatters),n.formatters),fromDate:a,labels:_t(_t({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:_t(_t({},r.modifiers),n.modifiers),modifiersClassNames:_t(_t({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:_t(_t({},r.styles),n.styles),toDate:i});return T.createElement(u_e.Provider,{value:u},e.children)}function jn(){var e=f.useContext(u_e);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function d_e(e){var t=jn(),n=t.locale,r=t.classNames,s=t.styles,a=t.formatters.formatCaption;return T.createElement("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id},a(e.displayMonth,{locale:n}))}function d_t(e){return T.createElement("svg",_t({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e),T.createElement("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"}))}function f_e(e){var t,n,r=e.onChange,s=e.value,a=e.children,i=e.caption,o=e.className,c=e.style,u=jn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:d_t;return T.createElement("div",{className:o,style:c},T.createElement("span",{className:u.classNames.vhidden},e["aria-label"]),T.createElement("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r},a),T.createElement("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true"},i,T.createElement(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})))}function f_t(e){var t,n=jn(),r=n.fromDate,s=n.toDate,a=n.styles,i=n.locale,o=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return T.createElement(T.Fragment,null);if(!s)return T.createElement(T.Fragment,null);var h=[];if(pxe(r,s))for(var m=Ws(r),p=r.getMonth();p<=s.getMonth();p++)h.push(IC(m,p));else for(var m=Ws(new Date),p=0;p<=11;p++)h.push(IC(m,p));var g=function(y){var x=Number(y.target.value),b=IC(Ws(e.displayMonth),x);e.onChange(b)},v=(t=u?.Dropdown)!==null&&t!==void 0?t:f_e;return T.createElement(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:i})},h.map(function(y){return T.createElement("option",{key:y.getMonth(),value:y.getMonth()},o(y,{locale:i}))}))}function h_t(e){var t,n=e.displayMonth,r=jn(),s=r.fromDate,a=r.toDate,i=r.locale,o=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!s)return T.createElement(T.Fragment,null);if(!a)return T.createElement(T.Fragment,null);for(var p=s.getFullYear(),g=a.getFullYear(),v=p;v<=g;v++)m.push(rW(Out(new Date),v));var y=function(b){var w=rW(Ws(n),Number(b.target.value));e.onChange(w)},x=(t=u?.Dropdown)!==null&&t!==void 0?t:f_e;return T.createElement(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:o.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:i})},m.map(function(b){return T.createElement("option",{key:b.getFullYear(),value:b.getFullYear()},d(b,{locale:i}))}))}function m_t(e,t){var n=f.useState(e),r=n[0],s=n[1],a=t===void 0?r:t;return[a,s]}function p_t(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,a=e.toDate,i=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(a&&yh(a,s)<0){var u=-1*(c-1);s=mi(a,u)}return i&&yh(s,i)<0&&(s=i),Ws(s)}function g_t(){var e=jn(),t=p_t(e),n=m_t(t,e.month),r=n[0],s=n[1],a=function(i){var o;if(!e.disableNavigation){var c=Ws(i);s(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[r,a]}function v_t(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Ws(e),a=Ws(mi(s,r)),i=yh(a,s),o=[],c=0;c<i;c++){var u=mi(s,c);o.push(u)}return n&&(o=o.reverse()),o}function y_t(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,o=Ws(e);if(!n)return mi(o,i);var c=yh(n,e);if(!(c<a))return mi(o,i)}}function x_t(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,o=Ws(e);if(!n)return mi(o,-i);var c=yh(o,n);if(!(c<=0))return mi(o,-i)}}var h_e=f.createContext(void 0);function b_t(e){var t=jn(),n=g_t(),r=n[0],s=n[1],a=v_t(r,t),i=y_t(r,t),o=x_t(r,t),c=function(h){return a.some(function(m){return Bj(h,m)})},u=function(h,m){c(h)||(m&&mxe(h,m)?s(mi(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:o,nextMonth:i,isDateDisplayed:c};return T.createElement(h_e.Provider,{value:d},e.children)}function Y1(){var e=f.useContext(h_e);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function RG(e){var t,n=jn(),r=n.classNames,s=n.styles,a=n.components,i=Y1().goToMonth,o=function(d){i(d)},c=(t=a?.CaptionLabel)!==null&&t!==void 0?t:d_e,u=T.createElement(c,{id:e.id,displayMonth:e.displayMonth});return T.createElement("div",{className:r.caption_dropdowns,style:s.caption_dropdowns},T.createElement("div",{className:r.vhidden},u),T.createElement(f_t,{onChange:o,displayMonth:e.displayMonth}),T.createElement(h_t,{onChange:o,displayMonth:e.displayMonth}))}function w_t(e){return T.createElement("svg",_t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e),T.createElement("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"}))}function __t(e){return T.createElement("svg",_t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e),T.createElement("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"}))}var Eb=f.forwardRef(function(e,t){var n=jn(),r=n.classNames,s=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var i=a.join(" "),o=_t(_t({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),T.createElement("button",_t({},e,{ref:t,type:"button",className:i,style:o}))});function C_t(e){var t,n,r=jn(),s=r.dir,a=r.locale,i=r.classNames,o=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return T.createElement(T.Fragment,null);var m=u(e.previousMonth,{locale:a}),p=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),v=[i.nav_button,i.nav_button_next].join(" "),y=(t=h?.IconRight)!==null&&t!==void 0?t:__t,x=(n=h?.IconLeft)!==null&&n!==void 0?n:w_t;return T.createElement("div",{className:i.nav,style:o.nav},!e.hidePrevious&&T.createElement(Eb,{name:"previous-month","aria-label":m,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick},s==="rtl"?T.createElement(y,{className:i.nav_icon,style:o.nav_icon}):T.createElement(x,{className:i.nav_icon,style:o.nav_icon})),!e.hideNext&&T.createElement(Eb,{name:"next-month","aria-label":g,className:v,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick},s==="rtl"?T.createElement(x,{className:i.nav_icon,style:o.nav_icon}):T.createElement(y,{className:i.nav_icon,style:o.nav_icon})))}function AG(e){var t=jn().numberOfMonths,n=Y1(),r=n.previousMonth,s=n.nextMonth,a=n.goToMonth,i=n.displayMonths,o=i.findIndex(function(g){return Bj(e.displayMonth,g)}),c=o===0,u=o===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),m=function(){r&&a(r)},p=function(){s&&a(s)};return T.createElement(C_t,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function S_t(e){var t,n=jn(),r=n.classNames,s=n.disableNavigation,a=n.styles,i=n.captionLayout,o=n.components,c=(t=o?.CaptionLabel)!==null&&t!==void 0?t:d_e,u;return s?u=T.createElement(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=T.createElement(RG,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=T.createElement(T.Fragment,null,T.createElement(RG,{displayMonth:e.displayMonth,id:e.id}),T.createElement(AG,{displayMonth:e.displayMonth,id:e.id})):u=T.createElement(T.Fragment,null,T.createElement(c,{id:e.id,displayMonth:e.displayMonth}),T.createElement(AG,{displayMonth:e.displayMonth,id:e.id})),T.createElement("div",{className:r.caption,style:a.caption},u)}function E_t(e){var t=jn(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?T.createElement("tfoot",{className:s,style:r.tfoot},T.createElement("tr",null,T.createElement("td",{colSpan:8},n))):T.createElement(T.Fragment,null)}function k_t(e,t,n){for(var r=n?Yu(new Date):yo(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=Bs(r,a);s.push(i)}return s}function M_t(){var e=jn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=k_t(s,a,i);return T.createElement("tr",{style:n.head_row,className:t.head_row},r&&T.createElement("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return T.createElement("th",{key:h,scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s})},o(d,{locale:s}))}))}function T_t(){var e,t=jn(),n=t.classNames,r=t.styles,s=t.components,a=(e=s?.HeadRow)!==null&&e!==void 0?e:M_t;return T.createElement("thead",{style:r.head,className:n.head},T.createElement(a,null))}function N_t(e){var t=jn(),n=t.locale,r=t.formatters.formatDay;return T.createElement(T.Fragment,null,r(e.date,{locale:n}))}var $P=f.createContext(void 0);function R_t(e){if(!q1(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return T.createElement($P.Provider,{value:t},e.children)}return T.createElement(A_t,{initialProps:e.initialProps,children:e.children})}function A_t(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,a=t.max,i=function(u,d,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,h);var g=!!(d.selected&&s&&r?.length===s);if(!g){var v=!!(!d.selected&&a&&r?.length===a);if(!v){var y=r?c_e([],r):[];if(d.selected){var x=y.findIndex(function(b){return Br(u,b)});y.splice(x,1)}else y.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,y,u,d,h)}}},o={disabled:[]};r&&o.disabled.push(function(u){var d=a&&r.length>a-1,h=r.some(function(m){return Br(m,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:o};return T.createElement($P.Provider,{value:c},n)}function HP(){var e=f.useContext($P);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function j_t(e,t){var n=t||{},r=n.from,s=n.to;if(!r)return{from:e,to:void 0};if(!s&&Br(r,e))return{from:r,to:e};if(!s&&mxe(e,r))return{from:e,to:r};if(!s)return{from:r,to:e};if(!(Br(s,e)&&Br(r,e))){if(Br(s,e))return{from:s,to:void 0};if(!Br(r,e))return hxe(r,e)?{from:e,to:s}:{from:r,to:e}}}var WP=f.createContext(void 0);function P_t(e){if(!K1(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return T.createElement(WP.Provider,{value:t},e.children)}return T.createElement(I_t,{initialProps:e.initialProps,children:e.children})}function I_t(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},a=s.from,i=s.to,o=t.min,c=t.max,u=function(p,g,v){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,p,g,v);var b=j_t(p,r);(x=t.onSelect)===null||x===void 0||x.call(t,b,p,g,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a&&(d.range_start=[a],i?(d.range_end=[i],Br(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]),o&&(a&&!i&&d.disabled.push({after:U8(a,o-1),before:Bs(a,o-1)}),a&&i&&d.disabled.push({after:a,before:Bs(a,o-1)})),c&&(a&&!i&&(d.disabled.push({before:Bs(a,-c+1)}),d.disabled.push({after:Bs(a,c-1)})),a&&i)){var h=Qi(i,a)+1,m=c-h;d.disabled.push({before:U8(a,m)}),d.disabled.push({after:Bs(i,m)})}return T.createElement(WP.Provider,{value:{selected:r,onDayClick:u,modifiers:d}},n)}function zP(){var e=f.useContext(WP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function P2(e){return Array.isArray(e)?c_e([],e):e!==void 0?[e]:[]}function O_t(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=P2(s)}),t}var vi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vi||(vi={}));var L_t=vi.Selected,Ao=vi.Disabled,D_t=vi.Hidden,F_t=vi.Today,S6=vi.RangeEnd,E6=vi.RangeMiddle,k6=vi.RangeStart,U_t=vi.Outside;function B_t(e,t,n){var r,s=(r={},r[L_t]=P2(e.selected),r[Ao]=P2(e.disabled),r[D_t]=P2(e.hidden),r[F_t]=[e.today],r[S6]=[],r[E6]=[],r[k6]=[],r[U_t]=[],r);return e.fromDate&&s[Ao].push({before:e.fromDate}),e.toDate&&s[Ao].push({after:e.toDate}),q1(e)?s[Ao]=s[Ao].concat(t.modifiers[Ao]):K1(e)&&(s[Ao]=s[Ao].concat(n.modifiers[Ao]),s[k6]=n.modifiers[k6],s[E6]=n.modifiers[E6],s[S6]=n.modifiers[S6]),s}var m_e=f.createContext(void 0);function $_t(e){var t=jn(),n=HP(),r=zP(),s=B_t(t,n,r),a=O_t(t.modifiers),i=_t(_t({},s),a);return T.createElement(m_e.Provider,{value:i},e.children)}function p_e(){var e=f.useContext(m_e);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function H_t(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function W_t(e){return!!(e&&typeof e=="object"&&"from"in e)}function z_t(e){return!!(e&&typeof e=="object"&&"after"in e)}function V_t(e){return!!(e&&typeof e=="object"&&"before"in e)}function G_t(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function q_t(e,t){var n,r=t.from,s=t.to;if(!r)return!1;if(!s&&Br(r,e))return!0;if(!s)return!1;var a=Qi(s,r)<0;a&&(n=[s,r],r=n[0],s=n[1]);var i=Qi(e,r)>=0&&Qi(s,e)>=0;return i}function K_t(e){return Lj(e)}function Y_t(e){return Array.isArray(e)&&e.every(Lj)}function Q_t(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(K_t(n))return Br(e,n);if(Y_t(n))return n.includes(e);if(W_t(n))return q_t(e,n);if(G_t(n))return n.dayOfWeek.includes(e.getDay());if(H_t(n)){var r=Qi(n.before,e),s=Qi(n.after,e),a=r>0,i=s<0,o=hxe(n.before,n.after);return o?i&&a:a||i}return z_t(n)?Qi(e,n.after)>0:V_t(n)?Qi(n.before,e)>0:typeof n=="function"?n(e):!1})}function VP(e,t,n){var r=Object.keys(t).reduce(function(a,i){var o=t[i];return Q_t(e,o)&&a.push(i),a},[]),s={};return r.forEach(function(a){return s[a]=!0}),n&&!Bj(e,n)&&(s.outside=!0),s}function X_t(e,t){for(var n=Ws(e[0]),r=U3(e[e.length-1]),s,a,i=n;i<=r;){var o=VP(i,t),c=!o.disabled&&!o.hidden;if(!c){i=Bs(i,1);continue}if(o.selected)return i;o.today&&!a&&(a=i),s||(s=i),i=Bs(i,1)}return a||s}var Z_t=365;function g_e(e,t){var n=t.moveBy,r=t.direction,s=t.context,a=t.modifiers,i=t.retry,o=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,m={day:Bs,week:F8,month:mi,year:gut,startOfWeek:function(y){return s.ISOWeek?Yu(y):yo(y,{locale:h,weekStartsOn:c})},endOfWeek:function(y){return s.ISOWeek?lxe(y):Uj(y,{locale:h,weekStartsOn:c})}},p=m[n](e,r==="after"?1:-1);r==="before"&&u?p=vut([u,p]):r==="after"&&d&&(p=yut([d,p]));var g=!0;if(a){var v=VP(p,a);g=!v.disabled&&!v.hidden}return g?p:o.count>Z_t?o.lastFocused:g_e(p,{moveBy:n,direction:r,context:s,modifiers:a,retry:_t(_t({},o),{count:o.count+1})})}var v_e=f.createContext(void 0);function J_t(e){var t=Y1(),n=p_e(),r=f.useState(),s=r[0],a=r[1],i=f.useState(),o=i[0],c=i[1],u=X_t(t.displayMonths,n),d=s??(o&&t.isDateDisplayed(o))?o:u,h=function(){c(s),a(void 0)},m=function(y){a(y)},p=jn(),g=function(y,x){if(s){var b=g_e(s,{moveBy:y,direction:x,context:p,modifiers:n});Br(s,b)||(t.goToDate(b,s),m(b))}},v={focusedDay:s,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return T.createElement(v_e.Provider,{value:v},e.children)}function GP(){var e=f.useContext(v_e);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function e4t(e,t){var n=p_e(),r=VP(e,n,t);return r}var qP=f.createContext(void 0);function t4t(e){if(!k_(e.initialProps)){var t={selected:void 0};return T.createElement(qP.Provider,{value:t},e.children)}return T.createElement(n4t,{initialProps:e.initialProps,children:e.children})}function n4t(e){var t=e.initialProps,n=e.children,r=function(a,i,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,o),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,o)},s={selected:t.selected,onDayClick:r};return T.createElement(qP.Provider,{value:s},n)}function y_e(){var e=f.useContext(qP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function r4t(e,t){var n=jn(),r=y_e(),s=HP(),a=zP(),i=GP(),o=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,m=i.focus,p=i.focusMonthBefore,g=i.focusMonthAfter,v=i.focusYearBefore,y=i.focusYearAfter,x=i.focusStartOfWeek,b=i.focusEndOfWeek,w=function(F){var D,B,$,W;k_(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,F):q1(n)?(B=s.onDayClick)===null||B===void 0||B.call(s,e,t,F):K1(n)?($=a.onDayClick)===null||$===void 0||$.call(a,e,t,F):(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,F)},_=function(F){var D;m(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,F)},C=function(F){var D;h(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,F)},S=function(F){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,F)},k=function(F){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,F)},E=function(F){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,F)},M=function(F){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,F)},N=function(F){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,F)},R=function(F){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,F)},A=function(F){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,F)},P=function(F){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,F)},O=function(F){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,F)},I=function(F){var D;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),n.dir==="rtl"?o():c();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),n.dir==="rtl"?c():o();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),u();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),d();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?v():p();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?y():g();break;case"Home":F.preventDefault(),F.stopPropagation(),x();break;case"End":F.preventDefault(),F.stopPropagation(),b();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,F)},L={onClick:w,onFocus:_,onBlur:C,onKeyDown:I,onKeyUp:O,onMouseEnter:S,onMouseLeave:k,onPointerEnter:E,onPointerLeave:M,onTouchCancel:N,onTouchEnd:R,onTouchMove:A,onTouchStart:P};return L}function s4t(){var e=jn(),t=y_e(),n=HP(),r=zP(),s=k_(e)?t.selected:q1(e)?n.selected:K1(e)?r.selected:void 0;return s}function a4t(e){return Object.values(vi).includes(e)}function i4t(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(a4t(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function o4t(e,t){var n=_t({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=_t(_t({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function l4t(e,t,n){var r,s,a,i=jn(),o=GP(),c=e4t(e,t),u=r4t(e,c),d=s4t(),h=!!(i.onDayClick||i.mode!=="default");f.useEffect(function(){var S;c.outside||o.focusedDay&&h&&Br(o.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[o.focusedDay,e,n,h,c.outside]);var m=i4t(i,c).join(" "),p=o4t(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),v=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:N_t,y=T.createElement(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:m,children:y,role:"gridcell"},b=o.focusTarget&&Br(o.focusTarget,e)&&!c.outside,w=o.focusedDay&&Br(o.focusedDay,e),_=_t(_t(_t({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||b?0:-1,r)),u),C={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return C}function c4t(e){var t=f.useRef(null),n=l4t(e.date,e.displayMonth,t);return n.isHidden?T.createElement("div",{role:"gridcell"}):n.isButton?T.createElement(Eb,_t({name:"day",ref:t},n.buttonProps)):T.createElement("div",_t({},n.divProps))}function u4t(e){var t=e.number,n=e.dates,r=jn(),s=r.onWeekNumberClick,a=r.styles,i=r.classNames,o=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!s)return T.createElement("span",{className:i.weeknumber,style:a.weeknumber},d);var h=c(Number(t),{locale:o}),m=function(p){s(t,n,p)};return T.createElement(Eb,{name:"week-number","aria-label":h,className:i.weeknumber,style:a.weeknumber,onClick:m},d)}function d4t(e){var t,n,r=jn(),s=r.styles,a=r.classNames,i=r.showWeekNumber,o=r.components,c=(t=o?.Day)!==null&&t!==void 0?t:c4t,u=(n=o?.WeekNumber)!==null&&n!==void 0?n:u4t,d;return i&&(d=T.createElement("td",{className:a.cell,style:s.cell},T.createElement(u,{number:e.weekNumber,dates:e.dates}))),T.createElement("tr",{className:a.row,style:s.row},d,e.dates.map(function(h){return T.createElement("td",{className:a.cell,style:s.cell,key:Bdt(h),role:"presentation"},T.createElement(c,{displayMonth:e.displayMonth,date:h}))}))}function jG(e,t,n){for(var r=n?.ISOWeek?lxe(t):Uj(t,n),s=n?.ISOWeek?Yu(e):yo(e,n),a=Qi(r,s),i=[],o=0;o<=a;o++)i.push(Bs(s,o));var c=i.reduce(function(u,d){var h=n?.ISOWeek?Fdt(d):zdt(d,n),m=u.find(function(p){return p.weekNumber===h});return m?(m.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function f4t(e,t){var n=jG(Ws(e),U3(e),t);if(t?.useFixedWeeks){var r=Gdt(e,t);if(r<6){var s=n[n.length-1],a=s.dates[s.dates.length-1],i=F8(a,6-r),o=jG(F8(a,1),i,t);n.push.apply(n,o)}}return n}function h4t(e){var t,n,r,s=jn(),a=s.locale,i=s.classNames,o=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,g=f4t(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:h,firstWeekContainsDate:m}),v=(t=d?.Head)!==null&&t!==void 0?t:T_t,y=(n=d?.Row)!==null&&n!==void 0?n:d4t,x=(r=d?.Footer)!==null&&r!==void 0?r:E_t;return T.createElement("table",{className:i.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"]},!c&&T.createElement(v,null),T.createElement("tbody",{className:i.tbody,style:o.tbody,role:"rowgroup"},g.map(function(b){return T.createElement(y,{displayMonth:e.displayMonth,key:b.weekNumber,dates:b.dates,weekNumber:b.weekNumber})})),T.createElement(x,{displayMonth:e.displayMonth}))}function m4t(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var p4t=m4t()?f.useLayoutEffect:f.useEffect,M6=!1,g4t=0;function PG(){return"react-day-picker-".concat(++g4t)}function v4t(e){var t,n=e??(M6?PG():null),r=f.useState(n),s=r[0],a=r[1];return p4t(function(){s===null&&a(PG())},[]),f.useEffect(function(){M6===!1&&(M6=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function y4t(e){var t,n,r=jn(),s=r.dir,a=r.classNames,i=r.styles,o=r.components,c=Y1().displayMonths,u=v4t(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=[a.month],h=i.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;s==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(d.push(a.caption_start),h=_t(_t({},h),i.caption_start)),p&&(d.push(a.caption_end),h=_t(_t({},h),i.caption_end)),g&&(d.push(a.caption_between),h=_t(_t({},h),i.caption_between));var v=(n=o?.Caption)!==null&&n!==void 0?n:S_t;return T.createElement("div",{key:e.displayIndex,className:d.join(" "),style:h},T.createElement(v,{id:u,displayMonth:e.displayMonth}),T.createElement(h4t,{"aria-labelledby":u,displayMonth:e.displayMonth}))}function x4t(e){var t=e.initialProps,n=jn(),r=GP(),s=Y1(),a=f.useState(!1),i=a[0],o=a[1];f.useEffect(function(){n.initialFocus&&r.focusTarget&&(i||(r.focus(r.focusTarget),o(!0)))},[n.initialFocus,i,r.focus,r.focusTarget,r]);var c=[n.classNames.root,n.className];n.numberOfMonths>1&&c.push(n.classNames.multiple_months),n.showWeekNumber&&c.push(n.classNames.with_weeknumber);var u=_t(_t({},n.styles.root),n.style),d=Object.keys(t).filter(function(h){return h.startsWith("data-")}).reduce(function(h,m){var p;return _t(_t({},h),(p={},p[m]=t[m],p))},{});return T.createElement("div",_t({className:c.join(" "),style:u,dir:n.dir,id:n.id},d),T.createElement("div",{className:n.classNames.months,style:n.styles.months},s.displayMonths.map(function(h,m){return T.createElement(y4t,{key:m,displayIndex:m,displayMonth:h})})))}function b4t(e){var t=e.children,n=V3t(e,["children"]);return T.createElement(u_t,{initialProps:n},T.createElement(b_t,null,T.createElement(t4t,{initialProps:n},T.createElement(R_t,{initialProps:n},T.createElement(P_t,{initialProps:n},T.createElement($_t,null,T.createElement(J_t,null,t)))))))}function w4t(e){return T.createElement(b4t,_t({},e),T.createElement(x4t,{initialProps:e}))}var T6={},IG;function _4t(){return IG||(IG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-left",r=320,s=512,a=[9001],i="f053",o="M15 239c-9.4 9.4-9.4 24.6 0 33.9L207 465c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L65.9 256 241 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L15 239z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faChevronLeft=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(T6)),T6}var C4t=_4t(),N6={},OG;function S4t(){return OG||(OG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-right",r=320,s=512,a=[9002],i="f054",o="M305 239c9.4 9.4 9.4 24.6 0 33.9L113 465c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l175-175L79 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L305 239z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faChevronRight=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(N6)),N6}var E4t=S4t();const x_e=T.memo(({className:e,showOutsideDays:t=!0,...n})=>{const r=T.useMemo(()=>({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-between relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 p-0 rounded hover:bg-offsetPlus flex items-center justify-center bg-offset [&_*]:fill-text-200",table:"w-full border-collapse",head_row:"flex",head_cell:"text-subtle rounded-md w-8 font-normal text-sm font-mono",row:"flex w-full mt-1",cell:U("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-full",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-full [&:has([aria-selected])]:bg-superBG [&:has(>.day-range-start)]:rounded-l-full first:[&:has([aria-selected])]:rounded-l-full last:[&:has([aria-selected])]:rounded-r-full":"[&:has([aria-selected])]:rounded-md"),day:U("h-8 w-8 p-0 font-normal select-none aria-selected:opacity-100 flex items-center justify-center rounded-full hover:bg-offset cursor-pointer"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:U(n.mode==="range"?"[&.day-range-start]:!bg-super [&.day-range-start]:!text-background [&.day-range-start]:hover:!bg-super [&.day-range-end]:!bg-super [&.day-range-end]:!text-background [&.day-range-end]:hover:!bg-super":"!bg-super !text-background hover:!bg-super"),day_today:"bg-superBG text-super hover:bg-superBG",day_outside:"day-outside text-subtle aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-subtle opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...U}),[n.mode]),s=f.useMemo(()=>({IconLeft:({className:a,...i})=>l.jsx(gt,{icon:C4t.faChevronLeft,className:a,size:"sm",...i}),IconRight:({className:a,...i})=>l.jsx(gt,{icon:E4t.faChevronRight,className:a,size:"sm",...i})}),[]);return l.jsx(w4t,{showOutsideDays:t,className:U("p-3 font-sans text-base",e),classNames:r,components:s,...n})});x_e.displayName="Calendar";var KP="Popover",[b_e,ZUt]=Ci(KP,[em]),Q1=em(),[k4t,Hc]=b_e(KP),w_e=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,o=Q1(t),c=f.useRef(null),[u,d]=f.useState(!1),[h=!1,m]=jc({prop:r,defaultProp:s,onChange:a});return l.jsx(aR,{...o,children:l.jsx(k4t,{scope:t,contentId:Ff(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:i,children:n})})};w_e.displayName=KP;var __e="PopoverAnchor",M4t=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Hc(__e,n),a=Q1(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=s;return f.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(jw,{...a,...r,ref:t})});M4t.displayName=__e;var C_e="PopoverTrigger",S_e=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Hc(C_e,n),a=Q1(n),i=Kn(t,s.triggerRef),o=l.jsx(xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":N_e(s.open),...r,ref:i,onClick:It(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(jw,{asChild:!0,...a,children:o})});S_e.displayName=C_e;var YP="PopoverPortal",[T4t,N4t]=b_e(YP,{forceMount:void 0}),E_e=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=Hc(YP,t);return l.jsx(T4t,{scope:t,forceMount:n,children:l.jsx(As,{present:n||a.open,children:l.jsx(i1,{asChild:!0,container:s,children:r})})})};E_e.displayName=YP;var Ah="PopoverContent",k_e=f.forwardRef((e,t)=>{const n=N4t(Ah,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=Hc(Ah,e.__scopePopover);return l.jsx(As,{present:r||a.open,children:a.modal?l.jsx(R4t,{...s,ref:t}):l.jsx(A4t,{...s,ref:t})})});k_e.displayName=Ah;var R4t=f.forwardRef((e,t)=>{const n=Hc(Ah,e.__scopePopover),r=f.useRef(null),s=Kn(t,r),a=f.useRef(!1);return f.useEffect(()=>{const i=r.current;if(i)return Hne(i)},[]),l.jsx(AR,{as:Mw,allowPinchZoom:!0,children:l.jsx(M_e,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(e.onCloseAutoFocus,i=>{i.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:It(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:It(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),A4t=f.forwardRef((e,t)=>{const n=Hc(Ah,e.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(M_e,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),M_e=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=Hc(Ah,n),p=Q1(n);return Ane(),l.jsx(NR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(s1,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(iR,{"data-state":N_e(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),T_e="PopoverClose",j4t=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Hc(T_e,n);return l.jsx(xn.button,{type:"button",...r,ref:t,onClick:It(e.onClick,()=>s.onOpenChange(!1))})});j4t.displayName=T_e;var P4t="PopoverArrow",I4t=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Q1(n);return l.jsx(oR,{...s,...r,ref:t})});I4t.displayName=P4t;function N_e(e){return e?"open":"closed"}var O4t=w_e,L4t=S_e,D4t=E_e,F4t=k_e;const QP=T.memo(e=>{const{children:t,content:n,disableAnimation:r,isOpen:s,onClose:a,onOpen:i,contentClassName:o}=e;return l.jsxs(O4t,{open:s,onOpenChange:c=>{c?i?.():a?.()},children:[l.jsx(L4t,{asChild:!0,children:t}),l.jsx(D4t,{children:l.jsx(F4t,{asChild:!0,sideOffset:4,side:"bottom",align:"start",children:l.jsx(H,{variant:"background",className:U("p-xs relative rounded-lg border shadow-sm",{"data-close:zoom-out-95 data-close:fade-out data-close:animate-out":!r,"data-open:duration-150 data-open:ease-in-out data-open:animate-in data-open:fade-in data-open:zoom-in-95":!r},o),children:n})})})]})});QP.displayName="Popover";const U4t=e=>e.toLocaleDateString();function B4t({value:e,onChange:t,placeholder:n="Select date",formatDate:r=U4t,showIcon:s=!0,buttonClassName:a}){const[i,o]=f.useState(!1),c=()=>{o(!i)},u=h=>{t(h),o(!1)},d=f.useMemo(()=>{const h=new Date;return h.setHours(0,0,0,0),h},[]);return l.jsx("div",{className:"relative z-[50] h-full w-full",children:l.jsx(QP,{isOpen:i,onOpen:()=>o(!0),onClose:()=>o(!1),placement:"bottom-start",content:l.jsx(x_e,{mode:"single",selected:e,onSelect:u,disabled:[{before:d}],fromDate:d}),children:l.jsx("div",{role:"button",tabIndex:0,onClick:()=>c(),className:U("bg-offset flex cursor-pointer items-center justify-between rounded-lg pl-4 pr-4 font-sans","hover:border-borderMain/75 focus:border-borderMain/75 border border-transparent","transition-colors duration-200 ease-out","h-full w-full","outline-none focus:outline-none focus:ring-0",a),children:l.jsxs("div",{className:"flex items-center gap-2",children:[s&&l.jsx(BN,{size:16,className:"text-textMain !dark:text-light"}),l.jsx("span",{className:"text-textMain !dark:text-light text-sm",children:e?r(e):n})]})})})})}const LG=({hour:e,minute:t})=>`${e%12||12}:${t.toString().padStart(2,"0")} ${e>=12?"PM":"AM"}`,DG=e=>{const t=e.trim().match(/^((?:0?[1-9]|1[0-2])):([0-5]\d)\s*([ap]m)$/i);if(!t||t.length!==4)return null;const n=parseInt(t[1],10),r=parseInt(t[2],10);if(isNaN(n)||isNaN(r))return null;const s=t[3]?.toLowerCase();return s==="pm"&&n!==12?{hour:n+12,minute:r}:s==="am"&&n===12?{hour:0,minute:r}:{hour:n,minute:r}},$4t=Array.from({length:48},(e,t)=>({hour:Math.floor(t/2),minute:t%2*30}));function H4t({value:e,onChange:t,placeholder:n="Select time"}){const[r,s]=f.useState(""),[a,i]=f.useState(!1),o=f.useRef(null),c=r.trim()!==""&&!DG(r),u=e?LG(e):n,d=f.useMemo(()=>$4t.map(v=>({key:`${v.hour}:${v.minute}`,label:LG(v),value:v})),[]),h=()=>{const v=DG(r);v&&t(v),s("")},m=v=>{t(v),s(""),i(!1)},p=()=>{i(!a)},g=()=>{i(!a),setTimeout(()=>{o.current&&o.current.focus()},0)};return l.jsx("div",{className:"relative z-[50] h-full w-full",children:l.jsx(QP,{contentClassName:"rounded-xl min-w-[var(--radix-popper-anchor-width)]",isOpen:a,onOpen:()=>i(!0),onClose:()=>i(!1),placement:"bottom-start",matchTargetWidth:!0,content:l.jsx("div",{className:"p-xs scrollbar-subtle max-h-64 overflow-y-auto",children:d.map(v=>l.jsx("div",{role:"button",tabIndex:0,onClick:()=>m(v.value),className:U("px-sm text-textMain cursor-pointer rounded-lg py-1.5","hover:bg-background-200 dark:hover:bg-background-200Dark"),children:l.jsx(j,{variant:"extraSmall",children:v.label})},v.key))}),children:l.jsxs("div",{role:"button",tabIndex:0,onClick:p,className:U("text-textMain bg-offset flex h-full w-full cursor-pointer items-center rounded-lg pl-4 pr-4 font-sans","border transition-colors duration-200 ease-out","outline-none focus:outline-none focus:ring-0","hover:border-borderMain/75 focus-within:border-borderMain/75 border-transparent",{"!border-red-400 dark:border-red-400":c}),children:[l.jsx("input",{ref:o,type:"text",value:r||u,placeholder:n,onChange:v=>s(v.target.value),onBlur:h,onClick:g,className:"placeholder w-full bg-transparent text-sm focus:outline-none"}),l.jsx(_e,{size:"xs",icon:Ia,className:"right-sm pointer-events-none absolute text-inherit opacity-50"})]})})})}const ed=f.memo(({children:e})=>l.jsx("div",{className:"min-w-0 flex-1 rounded-md",children:e})),Ap=f.memo(({options:e,value:t,onChange:n,isMobileStyle:r})=>{const s=K(),a=f.useMemo(()=>e.map(d=>({type:"default",text:d.label,onClick:()=>n(d.value),active:d.value===t,role:"menuitemradio"})),[n,e,t]),o=f.useMemo(()=>e.find(d=>d.value===t),[e,t])?.label||s.formatMessage({defaultMessage:"Select...",id:"724CrE1YuG"}),c=f.useMemo(()=>({className:"w-full"}),[]),u=f.useMemo(()=>({matchTargetWidth:!0,avoidPositionCollisions:!1}),[]);return l.jsx(ed,{children:l.jsx(bn,{items:a,isMobileStyle:r,placement:"bottom",contentClassName:"w-full",boxProps:c,popoverProps:u,children:l.jsx(ye,{text:o,extraCSS:"!bg-background-200 dark:!bg-offsetDark pl-4 pr-4 w-full !h-10 border-0 !outline-none !justify-start font-normal w-full",textClassName:"text-left text-textMain text-sm font-normal",fullWidth:!0,layout:"split",chevron:!0,chevronIcon:Ia})})})});Ap.displayName="FormSelect";const R_e=f.memo(({schedule:e,onScheduleChange:t})=>{const{formatMessage:n}=K(),{isMobileStyle:r}=Oe(),s=f.useMemo(()=>new Date(e.year,e.month,e.day,e.hour,e.minute),[e.year,e.month,e.day,e.hour,e.minute]),{kind:a}=e,i=a==="ONCE",o=a==="WEEKLY",c=a==="MONTHLY"||a==="YEARLY",u=a==="YEARLY",d=f.useCallback(x=>{t({kind:x})},[t]),h=f.useCallback(x=>{t({dayOfWeek:parseInt(x,10)})},[t]),m=f.useCallback(x=>{t({month:parseInt(x,10)})},[t]),p=f.useCallback(x=>{t({day:parseInt(x,10)})},[t]),g=f.useCallback(x=>{x&&t({day:x.getDate(),month:x.getMonth(),year:x.getFullYear()})},[t]),v=f.useCallback(x=>{t({hour:x.hour,minute:x.minute})},[t]),y=f.useMemo(()=>({hour:e.hour,minute:e.minute}),[e.hour,e.minute]);return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:n({defaultMessage:"Schedule",id:"hGQqkWwmJD"})}),l.jsxs("div",{className:"flex h-10 flex-wrap gap-3",children:[l.jsx(Ap,{options:$3t,value:e.kind,onChange:d,isMobileStyle:r}),o&&l.jsx(Ap,{options:H3t,value:String(e.dayOfWeek),onChange:h,isMobileStyle:r}),u&&l.jsx(Ap,{options:z3t,value:String(e.month),onChange:m,isMobileStyle:r}),c&&l.jsx(Ap,{options:W3t,value:String(e.day),onChange:p,isMobileStyle:r}),i&&l.jsx(ed,{children:l.jsx(B4t,{value:s,onChange:g})}),l.jsx(ed,{children:l.jsx(H4t,{value:y,onChange:v})})]})]})});R_e.displayName="ScheduleSelect";const A_e="(pointer: coarse)";function FG(){return typeof window>"u"?!1:window.matchMedia(A_e).matches}function W4t(){const e=Ks(),[t,n]=f.useState(()=>FG()||e);return f.useLayoutEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia(A_e);function s(){n(FG())}return r.addEventListener("change",s),s(),function(){r.removeEventListener("change",s)}},[]),t}function j_e(){const{gpt4Limit:e,pplxAlphaLimit:t,pplxBetaLimit:n}=Qn(),r=ut(),{hasAccessToProFeatures:s,isMax:a}=At(),i=um(),o=e<=0&&!s,c=e<=0||t<=0,u=e<=0||n<=0;return f.useCallback(d=>{const h=ks[d],m=h===ue.SEARCH&&![ge.DEFAULT,ge.PRO].includes(d);return d===ge.DEFAULT?!0:r?a?!0:o||Ts(d)===ue.RESEARCH&&c||Ts(d)===ue.STUDIO&&u||i(h)?!1:!(!s&&m):!1},[o,c,u,s,r,i,a])}function X1(){const{$t:e}=K(),t=ut(),{openVisitorLoginUpsell:n}=Gr({enabled:!t}),r=um(),s=j_e(),{openModal:a}=St(),i=f.useCallback((c,u)=>{const d=ks[c];if(c===ge.DEFAULT&&!u)return!1;const h=s(c)===!1||u;if(t)if(h){const m={[ue.SEARCH]:e({defaultMessage:"Want more {copilot}?",id:"Kf+JzdHL3c"},{copilot:"Pro Search"}),[ue.RESEARCH]:e({defaultMessage:"Want more Research?",id:"4cKm89wwuR"}),[ue.STUDIO]:e({defaultMessage:"Try Perplexity Labs",id:"y2BN7EwBoA"})},p={[ue.SEARCH]:e({defaultMessage:"With {pplx} {pro}, get as many as you want",id:"jRMiP6Ut4n"},{pplx:"Perplexity",pro:"Pro"}),[ue.RESEARCH]:r(d)?e({defaultMessage:"Upgrade to Max for unlimited access to Perplexity Research.",id:"WuvGBcnhvG"}):e({defaultMessage:"Extended access for paid subscribers",id:"EpQHuInjog"}),[ue.STUDIO]:r(d)?e({defaultMessage:"Upgrade to Max for unlimited access to Perplexity Labs.",id:"jmWIIwpGtp"}):e({defaultMessage:"Exclusive access for paid subscribers",id:"YTY/t/D+zJ"})},g=m[d??ue.SEARCH],v=p[d??ue.SEARCH],x={[ue.SEARCH]:rt.TRY_COPILOT,[ue.RESEARCH]:rt.TRY_RESEARCH,[ue.STUDIO]:rt.TRY_LABS}[d??ue.SEARCH]??rt.TRY_COPILOT;return a("pricingModal",{pitchMessage:{title:g,description:v},origin:x}),!0}else return!1;else{const m={[ue.SEARCH]:e({defaultMessage:"Sign in to access Pro Search",id:"AARKXJYL5U"}),[ue.RESEARCH]:e({defaultMessage:"Sign in to access Perplexity Research",id:"D/01NxLK/G"}),[ue.STUDIO]:e({defaultMessage:"Sign in to try Perplexity Labs",id:"xJYMyIruMK"})},p={[ue.SEARCH]:e({defaultMessage:"10x as many citations in answers",id:"D0fULpN8/D"}),[ue.RESEARCH]:e({defaultMessage:"Deep research and analysis on any topic",id:"vZzVhXmhZo"}),[ue.STUDIO]:e({defaultMessage:"Create projects from scratch, exclusive access for paid subscribers",id:"vddQ7J5Jev"})},g=m[d??ue.SEARCH],v=p[d??ue.SEARCH];return n({title:g,description:v,origin:rt.TRY_PRO}),!0}},[e,s,t,a,n,r]),o=f.useCallback(c=>s(c)?!1:(t?a("pricingModal",{pitchMessage:{title:e({defaultMessage:"Choose a model",id:"fXlc3idTcy"}),description:e({defaultMessage:"With Perplexity Pro, you get unlimited access to all the latest AI models in one subscription",id:"YHjeXkhaC/"})},origin:rt.MODEL_SELECTOR}):n({title:e({defaultMessage:"Sign in to choose a model",id:"BhbQUiYsTB"}),description:e({defaultMessage:"Access the latest AI models from Perplexity, OpenAI, Anthropic (Claude), Google Gemini and more",id:"DDVABeGeBG"}),origin:rt.MODEL_SELECTOR}),!0),[s,t,a,n,e]);return f.useMemo(()=>({gateSearchModeSelection:i,gateSearchModelSelection:o}),[i,o])}var Ya={},UG;function z4t(){if(UG)return Ya;UG=1;var e=Ya&&Ya.__awaiter||function(s,a,i,o){function c(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function h(g){try{p(o.next(g))}catch(v){d(v)}}function m(g){try{p(o.throw(g))}catch(v){d(v)}}function p(g){g.done?u(g.value):c(g.value).then(h,m)}p((o=o.apply(s,a||[])).next())})};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.identify=Ya.subscribe=Ya.publish=void 0;const t=(s,a)=>{window.todesktop.ipc.publish(s,a)};Ya.publish=t;const n=(s,a)=>window.todesktop.ipc.subscribe(s,a);Ya.subscribe=n;const r=()=>e(void 0,void 0,void 0,function*(){return window.todesktop.ipc.identify()});return Ya.identify=r,Ya}var BG=z4t();const M_=()=>{const{isWindowsApp:e}=Nt(),t=f.useRef({}),n=f.useRef({}),r=f.useCallback((a,i)=>{if(e)try{BG.publish(a,i)}catch{try{if(typeof BroadcastChannel<"u"){let c=t.current[a];c||(c=new BroadcastChannel(a),t.current[a]=c),c.postMessage(i)}else Q.warn("Neither IPC publish nor BroadcastChannel are available in this runtime")}catch(c){Q.warn("Error using BroadcastChannel: ",c)}}},[e]),s=f.useCallback((a,i)=>{if(e)try{return BG.subscribe(a,i)}catch{try{if(typeof BroadcastChannel<"u"){let c=t.current[a];c||(c=new BroadcastChannel(a),t.current[a]=c);let u=n.current[a];u||(u=new Set,n.current[a]=u);const d=h=>{i(h.data)};return u.add(i),c.addEventListener("message",d),()=>{c.removeEventListener("message",d),u.delete(i),u.size===0&&(c.close(),delete t.current[a],delete n.current[a])}}Q.warn("Neither IPC subscribe nor BroadcastChannel are available in this runtime");return}catch(c){Q.warn("Error using BroadcastChannel: ",c);return}}},[e]);return f.useMemo(()=>({safeWindowsIpcPublish:r,safeWindowsIpcSubscribe:s}),[r,s])};function P_e(){const e=ma(),{actions:t}=on(),{setConfiguredModel:n,setConfiguredSearchMode:r,gpt4Limit:s}=Qn(),{gateSearchModelSelection:a}=X1(),{hasAccessToProFeatures:i}=At(),o=f.useCallback(()=>s<=0||!i?ge.DEFAULT:ge.PRO,[s,i]);return f.useCallback((c=o(),u=e)=>{a(c)||(t.setPreferredSearchModel(u,c),n(c),r(u))},[e,a,o,n,r,t])}function T_(){const e=P_e(),{isWindowsApp:t}=Nt(),{safeWindowsIpcPublish:n,safeWindowsIpcSubscribe:r}=M_(),s=f.useRef(e);f.useEffect(()=>{s.current=e},[e]);const a=f.useRef(r);return f.useEffect(()=>{a.current=r},[r]),f.useEffect(()=>{if(!t)return;const o=a.current(wf,c=>{c.type===wf&&s.current(c.model,c.searchMode)});return()=>{o?.()}},[t]),f.useCallback((o,c)=>{n(wf,{type:wf,model:o,searchMode:c}),s.current(o,c)},[n])}function Wo(e){switch(e){case ue.SEARCH:return ge.PRO;case ue.RESEARCH:return ge.ALPHA;case ue.STUDIO:return ge.BETA;default:return ge.PRO}}const vr={[ue.SEARCH]:pt({askInputPlaceholder:{defaultMessage:"Ask anything…",id:"AUouhaZgFv"},name:{defaultMessage:"Search",id:"xmcVZ0BU63"},description:{defaultMessage:"Fast answers to everyday questions",id:"5Y9Hg4e+zB"}}),[ue.RESEARCH]:pt({askInputPlaceholder:{defaultMessage:"Research anything…",id:"PITzDLgm5P"},name:{defaultMessage:"Research",id:"JEe7dVso7F"},description:{defaultMessage:"Deep research on any topic",id:"uH6f+eH2OS"}}),[ue.STUDIO]:pt({askInputPlaceholder:{defaultMessage:"Create anything…",id:"pmtrj6Tjm9"},name:{defaultMessage:"Labs",id:"ylFNoY79wa"},description:{defaultMessage:"Create projects from scratch",id:"nH9rAkplC/"},cueText:{defaultMessage:"Create a project",id:"HR5A+UPiIu"}})},va={[ge.DEFAULT]:pt({name:{defaultMessage:"Auto",id:"NXI/XLSYwc"},description:{defaultMessage:"Adapts to each query",id:"SsTMNu/s/A"}}),[ge.PRO]:pt({name:{defaultMessage:"Best",id:"PzlMqGwwkm"},description:{defaultMessage:"Automatically selects the most responsive model based on the query",id:"DuOz+H05Us"}}),[ge.PPLX_PRO_UPGRADED]:pt({name:{defaultMessage:"Pro",id:"R/eOkjWqNU"},description:{defaultMessage:"Automatically selects the most responsive model based on the query",id:"DuOz+H05Us"}}),[ge.SONAR]:pt({name:{defaultMessage:"Sonar",id:"sT9VX563o6"},description:{defaultMessage:"Perplexity's fast model",id:"pdbURewz6Q"}}),[ge.GPT_4o]:pt({name:{defaultMessage:"GPT-4o",id:"nebbHBgxX/"},description:{defaultMessage:"OpenAI's versatile model",id:"zdAw82CyOA"}}),[ge.GPT_4_1]:pt({name:{defaultMessage:"GPT-4.1",id:"+LPr/f6Fal"},description:{defaultMessage:"OpenAI's advanced model",id:"+uCLZVt7uh"}}),[ge.GPT5]:pt({name:{defaultMessage:"GPT-5",id:"VfhmdGpVc7"},description:{defaultMessage:"OpenAI's GPT-5 reasoning model",id:"r/vkECgNbx"}}),[ge.CLAUDE_2]:pt({name:{defaultMessage:"Claude 4.0 Sonnet",id:"3SXtHYXKou"},description:{defaultMessage:"Anthropic's advanced model",id:"b5CqfvLw4b"}}),[ge.GEMINI_2_FLASH]:pt({name:{defaultMessage:"Gemini 2.5 Pro 06-05",id:"abrSzRs2eu"},description:{defaultMessage:"Google's latest model",id:"XBL8FigIeX"}}),[ge.GROK]:pt({name:{defaultMessage:"Grok 3 Beta",id:"Ybq0GDRm0J"},description:{defaultMessage:"xAI's Grok 3 model",id:"gwIHPQy1c/"}}),[ge.PPLX_REASONING]:pt({name:{defaultMessage:"Reasoning",id:"Aw3qRf7hyO"},description:{defaultMessage:"Advanced problem solving",id:"4J0akc6m53"}}),[ge.CLAUDE_3_7_SONNET_THINKING]:pt({name:{defaultMessage:"Claude 4.0 Sonnet Thinking",id:"/MyqTuOZwe"},description:{defaultMessage:"Anthropic's reasoning model",id:"vRfGVNHXG3"}}),[ge.CLAUDE_4_0_OPUS]:pt({name:{defaultMessage:"Claude 4.0 Opus",id:"U5WWV+bZ68"},description:{defaultMessage:"Anthropic's Opus reasoning model",id:"e0FjrIe1O/"}}),[ge.CLAUDE_4_0_OPUS_THINKING]:pt({name:{defaultMessage:"Claude 4.0 Opus Thinking",id:"Ce6ws3YPHn"},description:{defaultMessage:"Anthropic's Opus reasoning model with thinking",id:"ipx+1wZCy6"}}),[ge.GROK_4]:pt({name:{defaultMessage:"Grok 4",id:"+Y775fAOqr"},description:{defaultMessage:"xAI's latest, most powerful reasoning model",id:"pSXVZwl/+g"}}),[ge.O3]:pt({name:{defaultMessage:"o3",id:"BBaBURoUEg"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[ge.O3_PRO]:pt({name:{defaultMessage:"o3-pro",id:"lyV2e5kFYG"},description:{defaultMessage:"OpenAI's most powerful reasoning model",id:"1ntkiZj5rM"}}),[ge.O4_MINI]:pt({name:{defaultMessage:"o4-mini",id:"BwwjXFHgz7"},description:{defaultMessage:"OpenAI's latest reasoning model",id:"VKonAfIZbf"}}),[ge.ALPHA]:pt({name:{defaultMessage:"Best",id:"PzlMqGwwkm"},description:{defaultMessage:"Fast and thorough for routine research",id:"v/MuahlVJE"}}),[ge.O3_RESEARCH]:pt({name:{defaultMessage:"o3",id:"BBaBURoUEg"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[ge.O3_PRO_RESEARCH]:pt({name:{defaultMessage:"o3-pro",id:"lyV2e5kFYG"},description:{defaultMessage:"OpenAI's most powerful reasoning model",id:"1ntkiZj5rM"}}),[ge.CLAUDE40SONNET_RESEARCH]:pt({name:{defaultMessage:"Claude 4.0 Sonnet",id:"3SXtHYXKou"},description:{defaultMessage:"Anthropic's advanced model",id:"b5CqfvLw4b"}}),[ge.CLAUDE40SONNETTHINKING_RESEARCH]:pt({name:{defaultMessage:"Claude 4.0 Sonnet Thinking",id:"/MyqTuOZwe"},description:{defaultMessage:"Anthropic's reasoning model",id:"vRfGVNHXG3"}}),[ge.CLAUDE40OPUS_RESEARCH]:pt({name:{defaultMessage:"Claude 4.0 Opus",id:"U5WWV+bZ68"},description:{defaultMessage:"Anthropic's most advanced model",id:"4l6C+Dcw8g"}}),[ge.CLAUDE40OPUSTHINKING_RESEARCH]:pt({name:{defaultMessage:"Claude 4.0 Opus Thinking",id:"Ce6ws3YPHn"},description:{defaultMessage:"Anthropic's advanced reasoning model",id:"RwUx0WhdZb"}}),[ge.BETA]:pt({name:{defaultMessage:"Best",id:"PzlMqGwwkm"},description:{defaultMessage:"Multi-step tasks with advanced troubleshooting",id:"Sf0AeuilA5"}}),[ge.O3_LABS]:pt({name:{defaultMessage:"o3",id:"BBaBURoUEg"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[ge.O3_PRO_LABS]:pt({name:{defaultMessage:"o3-pro",id:"lyV2e5kFYG"},description:{defaultMessage:"OpenAI's most powerful reasoning model",id:"1ntkiZj5rM"}}),[ge.CLAUDE40SONNETTHINKING_LABS]:pt({name:{defaultMessage:"Claude 4.0 Sonnet Thinking",id:"/MyqTuOZwe"},description:{defaultMessage:"Anthropic's reasoning model",id:"vRfGVNHXG3"}}),[ge.CLAUDE40OPUSTHINKING_LABS]:pt({name:{defaultMessage:"Claude 4.0 Opus Thinking",id:"Ce6ws3YPHn"},description:{defaultMessage:"Anthropic's advanced reasoning model",id:"RwUx0WhdZb"}}),[Xs.O3_MINI]:pt({name:{defaultMessage:"o3-mini",id:"GdJwPgWWId"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[Xs.GROK2]:pt({name:{defaultMessage:"Grok-2",id:"9X3jPx+0vk"},description:{defaultMessage:"xAI's latest model",id:"e2CghRZC7d"}}),[Xs.GPT_4]:pt({name:{defaultMessage:"GPT-4",id:"6TGiMlP7f4"},description:{defaultMessage:"OpenAI's previous generation model",id:"U3OQoJ211e"}}),[Xs.CLAUDE_3_OPUS]:pt({name:{defaultMessage:"Claude 3 Opus",id:"gLSCHWGsu1"},description:{defaultMessage:"Anthropic's previous generation model",id:"hAevdn8yGl"}}),[Xs.CLAUDE_3_5_HAIKU]:pt({name:{defaultMessage:"Claude 3.5 Haiku",id:"zEJWYa05R2"},description:{defaultMessage:"Anthropic's smaller model",id:"pQia6E7J8i"}}),[Xs.GEMINI]:pt({name:{defaultMessage:"Gemini",id:"XoqZkcqFZ/"},description:{defaultMessage:"Previous version of Google's Gemini model",id:"9C0LtRWLFh"}}),[Xs.LLAMA_X_LARGE]:pt({name:{defaultMessage:"Llama X Large",id:"2zxgnSWUyX"},description:{defaultMessage:"Meta's large Llama model",id:"+95UnVOxgQ"}}),[Xs.MISTRAL]:pt({name:{defaultMessage:"Mistral",id:"dUBSpMbbs4"},description:{defaultMessage:"Mistral AI model",id:"rYRyt8I2Zr"}}),[Xs.COPILOT]:pt({name:{defaultMessage:"Copilot",id:"b3QbnXgawD"},description:{defaultMessage:"Legacy Pro Search",id:"pg83InaW1o"}}),[Xs.CLAUDE_OMBRE_EAP]:pt({name:{defaultMessage:"Claude Ombre",id:"F12IlTx8R1"},description:{defaultMessage:"Anthropic's research preview",id:"LKt7UBXwdw"}}),[Xs.CLAUDE_LACE_EAP]:pt({name:{defaultMessage:"Claude Lace",id:"8ydOdGYWef"},description:{defaultMessage:"Anthropic's opus research preview",id:"GHW8xWfe9i"}}),[Xs.R1]:pt({name:{defaultMessage:"R1 1776",id:"e8N3MYqmIQ"},description:{defaultMessage:"Perplexity's unbiased reasoning model",id:"R5Tg1hC1um"}})},XP=T.memo(({className:e,color:t})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"currentColor",viewBox:"0 0 66 24",className:e,children:[l.jsx("path",{d:"M33.569 17.032a1.919 1.919 0 0 1-.799-1.593c0-1.277.935-1.982 2.857-2.157l4.956-.473v.134c0 .784-.127 1.492-.378 2.105a3.958 3.958 0 0 1-1.012 1.456c-.834.753-1.993 1.15-3.354 1.15-.94 0-1.724-.215-2.27-.622Z"}),l.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M60.756 1.398c1.886.991 3.382 2.457 4.443 4.353 1.03 1.813 1.55 3.918 1.55 6.257 0 2.339-.521 4.444-1.55 6.257a10.934 10.934 0 0 1-2.475 3.027l-7.77-9.445 5.845-7.145V3.92h-3.135l-.076.096-4.626 5.837h-.009l-4.626-5.837-.075-.096h-3.136v.782l5.847 7.146-5.847 7.145v.782h3.136l.075-.095 4.626-5.837h.01l7.214 9.087-.017.01c-1.293.703-1.948 1.06-3.755 1.06H.25V1.862C.25.834 1.085 0 2.113 0h52.932c2.063 0 3.985.482 5.711 1.398ZM27.842 19.773V9.272c0-1.69-.55-3.073-1.59-4.002-.954-.851-2.28-1.301-3.834-1.301-1.375 0-2.54.306-3.463.91-.62.407-1.137.946-1.572 1.642a.1.1 0 0 1-.175-.008 4.35 4.35 0 0 0-1.35-1.605c-.864-.624-1.97-.94-3.285-.94-2.436 0-3.62.89-4.327 1.824-.059.077-.181.038-.181-.06V4.32H5.063v15.452h3.09V10.71c0-1.377.358-2.442 1.064-3.166.65-.665 1.597-1.017 2.74-1.017.967 0 1.712.26 2.215.772.488.499.736 1.221.736 2.148v10.326h3.09V10.71c0-1.377.358-2.442 1.063-3.165.65-.666 1.597-1.018 2.74-1.018.967 0 1.712.26 2.215.773.489.498.736 1.221.736 2.148v10.325h3.09Zm15.8 0 .001-10.003c0-1.821-.64-3.32-1.85-4.334-1.146-.96-2.862-1.468-4.72-1.468-1.856 0-3.49.467-4.723 1.35-1.213.87-2.003 2.096-2.254 3.557-.057.331-.04.736-.04.736h3.008l.027-.22c.122-.963.521-1.708 1.185-2.213.669-.51 1.587-.768 2.738-.768s2.038.27 2.636.8c.619.55.933 1.391.933 2.502v.682l-5.356.507c-3.577.344-5.547 1.997-5.547 4.656 0 1.375.564 2.531 1.63 3.346 1.023.781 2.436 1.194 4.088 1.194 1.43 0 2.66-.304 3.656-.903a5.177 5.177 0 0 0 1.408-1.237c.059-.075.179-.033.179.063v1.753h3.002Z"})]}));XP.displayName="MaxBadge";const ZP=T.memo(({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 51 24",className:e,children:[l.jsx("path",{d:"M35.069 7.954c-1.723 1.74-1.706 6.368 0 8.121 1.597 1.799 5.273 1.817 6.855 0 .873-.922 1.315-2.417 1.315-4.075 0-1.66-.442-3.144-1.317-4.048-1.584-1.853-5.256-1.834-6.853.002Z"}),l.jsx("path",{fillRule:"evenodd",d:"m48.958 5.715-.009-.015a10.792 10.792 0 0 0-4.387-4.301l-.01-.006C42.81.47 40.861 0 38.761 0H1.905C.866 0 .002.84 0 1.88V24h3.818V4.359h3.245v1.284c0 .132.161.196.252.1 2.987-3.275 9.077-2.319 11.216 1.723.725 1.234 1.092 2.759 1.092 4.534.102 4.584-3.017 8.265-7.55 8.235-2.031 0-3.629-.79-4.757-1.978a.146.146 0 0 0-.253.1V24h31.7c2.1 0 4.045-.468 5.78-1.39l.011-.005a10.795 10.795 0 0 0 4.394-4.302l.009-.016C49.98 16.483 50.5 14.368 50.5 12s-.52-4.482-1.543-6.285ZM30.112 7.42a24.93 24.93 0 0 1-.86-.003c-1.338-.02-2.845-.041-3.676.819-.549.54-.827 1.468-.827 2.759v8.809h-3.243V4.359h3.243v1.284c0 .148.194.202.271.077.314-.506.65-.852 1.012-1.05.616-.353 1.462-.532 2.514-.532h1.566V7.42Zm8.399 12.814c-4.77.033-8.068-3.395-7.973-8.235 0-1.716.348-3.21 1.033-4.442 2.714-5.062 11.157-5.068 13.852-.002.704 1.234 1.06 2.729 1.06 4.444.08 4.807-3.207 8.268-7.972 8.235Z",clipRule:"evenodd"}),l.jsx("path",{d:"M16.378 12c0 1.657-.442 3.153-1.314 4.075-1.583 1.816-5.26 1.798-6.857 0-1.706-1.753-1.722-6.381 0-8.121 1.597-1.836 5.27-1.855 6.854-.003.875.904 1.317 2.39 1.317 4.049Z"})]}));ZP.displayName="ProBadge";const jp=T.memo(({isMax:e,className:t})=>e?l.jsx("div",{style:{"--mode-color":"oklch(var(--text-max-color-100))"},children:l.jsx(XP,{className:`text-max ${t||""}`})}):l.jsx("div",{style:{"--mode-color":"oklch(var(--background-super-color-200))"},children:l.jsx(ZP,{className:`text-super ${t||""}`})}));jp.displayName="SearchModeBadge";const I_e=T.memo(e=>{const{isFollowUp:t,value:n,onChange:r,buttonSize:s="small"}=e,a=um(),{$t:i}=K(),o=T_(),c=ma(),u=f.useMemo(()=>n!==void 0?ks[n]||ue.SEARCH:c,[n,c]),{isMax:d,hasAccessToProFeatures:h}=At(),m=ut(),{gpt4Limit:p,pplxAlphaLimit:g,pplxBetaLimit:v}=Qn(),{preferredSearchModels:y,actions:x}=on(),b=Ks(),{isMaxUpsellEnabled:w}=Lc(),[_,C]=f.useState(()=>y[ue.SEARCH]===ge.DEFAULT?!1:m);_&&p===0&&C(!1);const{gateSearchModeSelection:S}=X1(),k=f.useCallback(()=>{S(ge.BETA,!0)},[S]),E=f.useCallback(I=>S(I?ge.PRO:ge.DEFAULT)?(C(!1),x.setPreferredSearchModel(ue.SEARCH,ge.DEFAULT),!1):(C(I),x.setPreferredSearchModel(ue.SEARCH,I?ge.PRO:ge.DEFAULT),I),[x,S]),M=f.useCallback(I=>{(I===ue.SEARCH||w)&&x.setPreferredSearchMode(I);let L;switch(I){case ue.SEARCH:{_?L=y[I]??Wo(I):L=ge.DEFAULT;break}case ue.RESEARCH:{w?L=y[I]??Wo(I):L=Wo(I);break}case ue.STUDIO:{w?L=y[I]??Wo(I):L=Wo(I);break}default:{L=ge.DEFAULT;break}}r?r(L):o(L,I)},[x,w,_,r,y,o]),N=f.useMemo(()=>T.memo(()=>{const I=f.useCallback(F=>{E(F)&&u===ue.SEARCH&&o(F?ge.PRO:ge.DEFAULT)},[]),L=f.useMemo(()=>({onClick(F){F.stopPropagation()}}),[]);return l.jsx(wd,{active:_,onChange:I,size:"small",switchProps:L})}),[_,o,u,E]),R=f.useMemo(()=>{function I($,W){return{active:u===$,description:i(vr[$].description),icon:Qg[$],onClick(){M($)},text:i(vr[$].name),type:"default",...W}}const L=$=>m&&$<=10&&!d,F=[];F.push(I(ue.SEARCH,{customDescriptionNode:h?void 0:l.jsxs(l.Fragment,{children:[l.jsx(j,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:l.jsx(ce,{...vr[ue.SEARCH].description})}),l.jsxs("div",{className:"gap-md flex flex-col",children:[l.jsx("hr",{className:"border-border bg-border -mr-5 mt-3"}),l.jsxs("div",{className:"gap-sm -mr-5 flex items-start justify-between",children:[l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx("button",{onClick:()=>{S(ge.SONAR)},type:"button",children:l.jsx(j,{className:"font-medium underline",color:"super",variant:"tiny",children:l.jsx(ce,{defaultMessage:"Try Pro Search",id:"akAejIEhqZ"})})}),l.jsx(jp,{isMax:d,className:"h-2.5"})]}),l.jsx(j,{className:"italic",color:"super",variant:"tinyRegular",children:l.jsx(ce,{defaultMessage:"3x more sources and detailed answers",id:"6RtAsLZTHv"})}),m&&p<=10&&l.jsx(j,{className:"mt-1 font-light",color:"super",variant:"tinyRegular",children:l.jsx(ce,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:p}})})]}),l.jsx(N,{})]})]})]}),customTextNode:l.jsxs("div",{className:"gap-sm mt-px flex items-center",children:[l.jsx(j,{color:"white",variant:"smallBold",children:l.jsx(ce,{...vr[ue.SEARCH].name})}),l.jsx(jp,{isMax:d,className:"h-2.5"})]})}));const D=Math.min(p,g);F.push(I(ue.RESEARCH,{customTextNode:l.jsxs("div",{className:"gap-sm mt-px flex items-center",children:[l.jsx(j,{variant:"smallBold",children:l.jsx(ce,{...vr[ue.RESEARCH].name})}),l.jsx(jp,{isMax:d||a(ue.RESEARCH),className:"h-2.5"})]}),customDescriptionNode:l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsx(j,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:l.jsx(ce,{...vr[ue.RESEARCH].description})}),L(D)&&l.jsxs("div",{children:[l.jsx(j,{color:"super",variant:"tinyRegular",children:l.jsx(ce,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:D}})}),a(ue.RESEARCH)&&l.jsx(ye,{onClick:k,variant:"common",size:"small",fullWidth:!0,extraCSS:"mt-sm",text:i({defaultMessage:"Upgrade to Max",id:"z+PtTMgM3T"})})]})]})}));const B=Math.min(p,v);return F.push(I(ue.STUDIO,{customTextNode:l.jsxs("div",{className:"gap-sm mt-px flex items-center",children:[l.jsx(j,{variant:"smallBold",children:l.jsx(ce,{...vr[ue.STUDIO].name})}),l.jsx(jp,{isMax:d||a(ue.STUDIO),className:"h-2.5"})]}),customDescriptionNode:l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsx(j,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:l.jsx(ce,{...vr[ue.STUDIO].description})}),L(B)&&l.jsxs("div",{children:[l.jsx(j,{color:"max",variant:"tinyRegular",children:l.jsx(ce,{defaultMessage:"{limit, plural, one {# query remaining this month} other {# queries remaining this month}}",id:"wlPH+sOjjI",values:{limit:B}})}),a(ue.STUDIO)&&l.jsx(ye,{onClick:k,variant:"common",size:"small",fullWidth:!0,extraCSS:"mt-sm",text:i({defaultMessage:"Upgrade to Max",id:"z+PtTMgM3T"})})]})]})})),F},[h,d,m,p,g,N,v,u,i,M,S,a,k]),A=f.useMemo(()=>({modalElementProps:{"data-color-scheme":"dark"}}),[]),P=f.useMemo(()=>({floatingElementProps:{"data-color-scheme":"dark"}}),[]),O=f.useMemo(()=>l.jsx(_e,{icon:Ia,size:"xs",className:U("-mx-xs -mb-two opacity-50",{"-ml-sm":t})}),[t]);return l.jsx(bn,{isMobileStyle:b,items:R,modalProps:A,placement:"bottom-start",popoverProps:P,children:l.jsx(ye,{icon:Qg[u],size:s,text:t?l.jsx(l.Fragment,{children:"​"}):i(vr[u].name),variant:"primaryGhost",trailingComponent:O})})});I_e.displayName="SearchModeDropdownMenu";function rl(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function $G(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function O_e(...e){return t=>{let n=!1;const r=e.map(s=>{const a=$G(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():$G(e[s],null)}}}}function jh(...e){return f.useCallback(O_e(...e),e)}var kb=f.forwardRef((e,t)=>{const{children:n,...r}=e,s=f.Children.toArray(n),a=s.find(G4t);if(a){const i=a.props.children,o=s.map(c=>c===a?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return l.jsx(dT,{...r,ref:t,children:f.isValidElement(i)?f.cloneElement(i,void 0,o):null})}return l.jsx(dT,{...r,ref:t,children:n})});kb.displayName="Slot";var dT=f.forwardRef((e,t)=>{const{children:n,...r}=e;if(f.isValidElement(n)){const s=K4t(n),a=q4t(r,n.props);return n.type!==f.Fragment&&(a.ref=t?O_e(t,s):s),f.cloneElement(n,a)}return f.Children.count(n)>1?f.Children.only(null):null});dT.displayName="SlotClone";var V4t=({children:e})=>l.jsx(l.Fragment,{children:e});function G4t(e){return f.isValidElement(e)&&e.type===V4t}function q4t(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...o)=>{a(...o),s(...o)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function K4t(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Y4t=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Z1=Y4t.reduce((e,t)=>{const n=f.forwardRef((r,s)=>{const{asChild:a,...i}=r,o=a?kb:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Q4t(e){const t=e+"CollectionProvider",[n,r]=Ci(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:v}=p,y=T.useRef(null),x=T.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:x,collectionRef:y,children:v})};i.displayName=t;const o=e+"CollectionSlot",c=T.forwardRef((p,g)=>{const{scope:v,children:y}=p,x=a(o,v),b=jh(g,x.collectionRef);return l.jsx(kb,{ref:b,children:y})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=T.forwardRef((p,g)=>{const{scope:v,children:y,...x}=p,b=T.useRef(null),w=jh(g,b),_=a(u,v);return T.useEffect(()=>(_.itemMap.set(b,{ref:b,...x}),()=>void _.itemMap.delete(b))),l.jsx(kb,{[d]:"",ref:w,children:y})});h.displayName=u;function m(p){const g=a(e+"CollectionConsumer",p);return T.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((_,C)=>x.indexOf(_.ref.current)-x.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},m,r]}var R6="rovingFocusGroup.onEntryFocus",X4t={bubbles:!1,cancelable:!0},N_="RovingFocusGroup",[fT,L_e,Z4t]=Q4t(N_),[J4t,D_e]=Ci(N_,[Z4t]),[e5t,t5t]=J4t(N_),F_e=f.forwardRef((e,t)=>l.jsx(fT.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(fT.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(n5t,{...e,ref:t})})}));F_e.displayName=N_;var n5t=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),p=jh(t,m),g=BA(a),[v=null,y]=jc({prop:i,defaultProp:o,onChange:c}),[x,b]=f.useState(!1),w=ss(u),_=L_e(n),C=f.useRef(!1),[S,k]=f.useState(0);return f.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(R6,w),()=>E.removeEventListener(R6,w)},[w]),l.jsx(e5t,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:v,onItemFocus:f.useCallback(E=>y(E),[y]),onItemShiftTab:f.useCallback(()=>b(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>k(E=>E-1),[]),children:l.jsx(Z1.div,{tabIndex:x||S===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:rl(e.onMouseDown,()=>{C.current=!0}),onFocus:rl(e.onFocus,E=>{const M=!C.current;if(E.target===E.currentTarget&&M&&!x){const N=new CustomEvent(R6,X4t);if(E.currentTarget.dispatchEvent(N),!N.defaultPrevented){const R=_().filter(L=>L.focusable),A=R.find(L=>L.active),P=R.find(L=>L.id===v),I=[A,P,...R].filter(Boolean).map(L=>L.ref.current);$_e(I,d)}}C.current=!1}),onBlur:rl(e.onBlur,()=>b(!1))})})}),U_e="RovingFocusGroupItem",B_e=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...i}=e,o=Ff(),c=a||o,u=t5t(U_e,n),d=u.currentTabStopId===c,h=L_e(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=u;return f.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),l.jsx(fT.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(Z1.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:rl(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:rl(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:rl(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=a5t(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const b=x.indexOf(g.currentTarget);x=u.loop?i5t(x,b+1):x.slice(b+1)}setTimeout(()=>$_e(x))}})})})});B_e.displayName=U_e;var r5t={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s5t(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function a5t(e,t,n){const r=s5t(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return r5t[r]}function $_e(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function i5t(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var o5t=F_e,l5t=B_e;function c5t(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var H_e=e=>{const{present:t,children:n}=e,r=u5t(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=jh(r.ref,d5t(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:a}):null};H_e.displayName="Presence";function u5t(e){const[t,n]=f.useState(),r=f.useRef({}),s=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[o,c]=c5t(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Iy(r.current);a.current=o==="mounted"?u:"none"},[o]),po(()=>{const u=r.current,d=s.current;if(d!==e){const m=a.current,p=Iy(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),po(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const v=Iy(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(a.current=Iy(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Iy(e){return e?.animationName||"none"}function d5t(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JP="Radio",[f5t,W_e]=Ci(JP),[h5t,m5t]=f5t(JP),z_e=f.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:i,value:o="on",onCheck:c,form:u,...d}=e,[h,m]=f.useState(null),p=jh(t,y=>m(y)),g=f.useRef(!1),v=h?u||!!h.closest("form"):!0;return l.jsxs(h5t,{scope:n,checked:s,disabled:i,children:[l.jsx(Z1.button,{type:"button",role:"radio","aria-checked":s,"data-state":q_e(s),"data-disabled":i?"":void 0,disabled:i,value:o,...d,ref:p,onClick:rl(e.onClick,y=>{s||c?.(),v&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),v&&l.jsx(p5t,{control:h,bubbles:!g.current,name:r,value:o,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});z_e.displayName=JP;var V_e="RadioIndicator",G_e=f.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=m5t(V_e,n);return l.jsx(H_e,{present:r||a.checked,children:l.jsx(Z1.span,{"data-state":q_e(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});G_e.displayName=V_e;var p5t=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=f.useRef(null),i=bA(n),o=Aw(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[i,n,r]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function q_e(e){return e?"checked":"unchecked"}var g5t=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eI="RadioGroup",[v5t,JUt]=Ci(eI,[D_e,W_e]),K_e=D_e(),Y_e=W_e(),[y5t,x5t]=v5t(eI),Q_e=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:i=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...m}=e,p=K_e(n),g=BA(u),[v,y]=jc({prop:a,defaultProp:s,onChange:h});return l.jsx(y5t,{scope:n,name:r,required:i,disabled:o,value:v,onValueChange:y,children:l.jsx(o5t,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:l.jsx(Z1.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":o?"":void 0,dir:g,...m,ref:t})})})});Q_e.displayName=eI;var X_e="RadioGroupItem",Z_e=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=x5t(X_e,n),i=a.disabled||r,o=K_e(n),c=Y_e(n),u=f.useRef(null),d=jh(t,u),h=a.value===s.value,m=f.useRef(!1);return f.useEffect(()=>{const p=v=>{g5t.includes(v.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),l.jsx(l5t,{asChild:!0,...o,focusable:!i,active:h,children:l.jsx(z_e,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:rl(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:rl(s.onFocus,()=>{m.current&&u.current?.click()})})})});Z_e.displayName=X_e;var b5t="RadioGroupIndicator",J_e=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=Y_e(n);return l.jsx(G_e,{...s,...r,ref:t})});J_e.displayName=b5t;const w5t=e=>{const t=en(e);if(!t)return 0;const n=parseInt(t);return isNaN(n)?1:n},_5t=(e,t)=>{Ot(e,t.toString(),{expires:365})},C5t=({cueKey:e,impressionsLimit:t,enabled:n})=>{const[r,s]=f.useState(!1),[a,i]=f.useState(0);return f.useEffect(()=>{if(!n){s(!1);return}const o=w5t(e);i(o),o<t&&(s(!0),_5t(e,o+1),i(o+1))},[e,t,n]),f.useMemo(()=>({shouldShow:r,currentCount:a}),[r,a])},S5t={xs:"px-xs py-xxs",sm:"px-sm py-xs"},E5t=e=>{switch(e){case"primary":return{background:"!bg-super",titleText:"!text-background",subtitleText:"!text-background mt-xs opacity-90",arrow:"fill-super",borderRadius:"rounded-xl"};case"common":return{background:"!bg-textMain dark:!bg-offsetPlus",titleText:"!text-textMainDark font-semibold",subtitleText:"!text-textMainDark mt-xxs opacity-90",arrow:"fill-textMain dark:fill-offsetPlus",borderRadius:"rounded"};default:return{background:"!bg-textMain dark:!bg-offsetPlus",titleText:"!text-textMainDark font-semibold",subtitleText:"!text-textMainDark mt-xxs opacity-90",arrow:"fill-textMain dark:fill-offsetPlus",borderRadius:"rounded"}}},e4e=T.memo(({cueKey:e,title:t,subtitle:n,children:r,enabled:s,impressionsLimit:a=1,variant:i="primary",size:o="xs",placement:c="bottom",sideOffset:u=10,className:d})=>{const[h,m]=f.useState(!1),{shouldShow:p}=C5t({cueKey:e,impressionsLimit:a,enabled:s}),g=E5t(i),v=p&&!h,y=()=>!t&&!n?null:l.jsxs("div",{className:U(S5t[o],d),children:[t&&l.jsx(j,{variant:"tiny",className:g.titleText,children:t}),n&&l.jsx(j,{variant:"tiny",className:g.subtitleText,children:n})]}),x=f.useCallback(()=>{m(!0)},[]),b=f.useMemo(()=>({removeScroll:!1,animationClassName:"z-[2000]"}),[]);return l.jsx(Sl,{content:y(),contentClassName:g.background,arrowClassName:g.arrow,borderRadius:g.borderRadius,isOpen:s&&v,onClose:x,placement:c,sideOffset:u,overlayProps:b,children:r})});e4e.displayName="Cue";const t4e=T.memo(e=>{const{className:t="",layoutKey:n="",options:r,value:s,backgroundClassName:a="",radioGroupIndicatorClassName:i="",...o}=e,c=f.useMemo(()=>r.map(u=>{const d=u.value===s;return l.jsx(e4e,{cueKey:`segmented-control-popover-${u.value}`,title:u.cue?.text,enabled:!!u.cue?.enabled,placement:"top",variant:"common",children:f.createElement(Z_e,{...u.elementProps,"aria-label":u.label,disabled:u.disabled??void 0,className:"segmented-control group/segmented-control relative focus:outline-none",key:u.value,value:u.value},d&&l.jsx(J_e,{asChild:!0,className:U("pointer-events-none absolute inset-0 z-0 block","bg-white dark:bg-black dark:bg-[linear-gradient(to_bottom,_oklch(var(--background-super-color-200)/0.2)_0%,_oklch(var(--background-super-color-200)/0.2)_100%)]","border-super dark:border-super/30 border","rounded-lg","shadow-super/30 dark:shadow-super/5 shadow-[0_1px_3px_0]","dark:text-super","transition-colors duration-300","group-focus-visible/segmented-control:border-dashed",i),children:l.jsx(ke.div,{layoutId:`segmented-control-active-indicator-${n}`,transition:{duration:.1}})}),u.children)},u.value)}),[n,r,s,i]);return l.jsxs(Q_e,{...o,className:U("group relative isolate flex h-fit",t),value:s,children:[l.jsx("div",{className:U("absolute inset-0","bg-super/10 dark:bg-black/[0.18]","dark:border dark:border-black/[0.04]","rounded-[10px]","transition-colors duration-300",a)}),l.jsx("div",{className:"p-two flex items-center",children:c})]})});t4e.displayName="SegmentedControl";const n4e=T.memo(e=>{const{className:t="",isActiveOption:n,icon:r,label:s,activeColor:a="text-super"}=e,i=U("transition-colors duration-300",{[a]:n,"text-text-100/70 group-hover/segmented-control:text-text-100":!n});return l.jsxs("div",{className:U("relative z-10 flex h-8 min-w-9 items-center justify-center",{"py-xs gap-xs px-2.5":n||s},t),children:[r&&l.jsx(Gp,{buttonSize:"small",icon:r,iconClassName:U(i),showClicked:!1}),s&&l.jsx("div",{className:U("px-two font-sans text-sm leading-[1.125rem]",i),children:s})]})});n4e.displayName="SegmentedControlOption";const hT=[.4,0,.2,1],HG=10,r4e=T.memo(e=>{const{children:t,tooltipContent:n,triggeredSearchModeElement:r,isOpen:s,setIsOpen:a}=e,{showSuggestDropdown:i}=Ms(),[o,c]=f.useState(!1),u=s!==void 0?s:o,d=a||c,h=f.useRef(0),[m,p]=hc(),[g,v]=hc(),x=f.useCallback(()=>{const{left:k=0,width:E=0}=r?.getBoundingClientRect()??{};return p.width===0||k===0?0:k-p.left+E/2-HG/2},[p,r])();let b=x!==0;x!==0&&x!==h.current&&(b=h.current!==0,h.current=x);const w=f.useCallback(k=>{k||(h.current=0),d(k)},[d]),_=f.useCallback(k=>{k.preventDefault()},[]),C=f.useCallback(()=>{d(!1)},[d]),S=f.useCallback(k=>{k.preventDefault()},[]);return l.jsx(uR,{delayDuration:i?1e3:400,skipDelayDuration:100,children:l.jsxs(kte,{onOpenChange:w,open:u,children:[l.jsx(dR,{asChild:!0,className:"focus:outline-none",onBlur:C,onClick:_,onPointerDown:S,children:t}),l.jsx(hR,{children:l.jsx(mR,{className:U("group/tooltip-content data-[state=closed]:animate-slideDownAndFadeOut data-[state=delayed-open]:animate-slideUpAndFadeIn transition-outExpo duration-300"),"data-color-scheme":"dark",sideOffset:4,side:"bottom",ref:m,children:l.jsxs(ke.div,{className:U("bg-background-100 shadow-overlay dark:shadow-overlayDark flex w-72 flex-col rounded-lg"),animate:{height:v.height||void 0},transition:{duration:.05,ease:hT},children:[l.jsxs(ke.div,{className:'absolute left-0 group-data-[side="bottom"]/tooltip-content:top-0 group-data-[side="top"]/tooltip-content:bottom-0',animate:{opacity:h.current?1:void 0,x:b?x:void 0},initial:{opacity:0},transition:{duration:.05,ease:hT},style:{x,width:HG},children:[l.jsx(yx,{className:"fill-background-100 stroke-border/50"}),l.jsx(yx,{className:"fill-background-100 -translate-y-px scale-[99%]"})]}),l.jsx("div",{className:U("relative overflow-hidden"),children:l.jsx("div",{className:"whitespace-normal",ref:g,children:n})})]})})})]})})});r4e.displayName="SearchModeTooltip";const s4e={[ue.SEARCH]:ge.DEFAULT,[ue.RESEARCH]:ge.ALPHA,[ue.STUDIO]:ge.BETA},R_=T.memo(e=>{const{children:t,className:n,searchMode:r,...s}=e,{gateSearchModeSelection:a}=X1();return l.jsx("button",{className:U("group",n),onClick:()=>{a(s4e[r],!0)},type:"button",...s,children:l.jsx(j,{className:"!text-[var(--mode-color)] underline decoration-transparent transition-[text-decoration-color] group-hover:decoration-[var(--mode-color)]",variant:"smallBold",children:t})})});R_.displayName="SearchModeTooltipUpgradeButton";const A_=T.memo(e=>{const{badgeNode:t,color:n,enabledText:r,isEnabled:s,upgradeButton:a,isMaxUpsell:i=!1}=e;return l.jsxs("div",{className:"gap-sm flex items-center",style:{"--mode-color":n==="super"?"oklch(var(--background-super-color-200))":"oklch(var(--background-max-color-100))"},children:[t,s?l.jsxs("div",{className:"gap-xs flex items-center",children:[l.jsx(j,{className:"!text-[var(--mode-color)]",variant:"smallBold",children:r}),!i&&l.jsx(da,{className:"text-[var(--mode-color)]",size:18})]}):l.jsx(l.Fragment,{children:a})]})});A_.displayName="SearchModeTooltipFooter";const a4e=T.memo(e=>{const{searchMode:t}=e,{$t:n}=K(),r=ut(),{hasAccessToProFeatures:s}=At(),{gateSearchModeSelection:a}=X1(),i=um(),o=f.useCallback(()=>{a(s4e[t],!0)},[a,t]);return i(t)?l.jsx(ye,{onClick:o,variant:"maxGold",size:"small",fullWidth:!0,text:n({defaultMessage:"Upgrade to Max",id:"z+PtTMgM3T"})}):r&&s?null:l.jsx(ye,{onClick:o,variant:"primary",size:"small",fullWidth:!0,text:r?l.jsx(ce,{defaultMessage:"Upgrade to Pro",id:"5N04mo7WNC"}):l.jsx(ce,{defaultMessage:"Sign in for access",id:"w6mjA9GP58"})})});a4e.displayName="SearchModeTooltipUpsellButton";const j_=T.memo(e=>{const{footerNode:t,includeNewBadge:n,searchMode:r}=e,{$t:s}=K();return l.jsxs("div",{className:"p-md flex flex-col gap-4",children:[l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsxs("div",{className:"relative",children:[l.jsx(j,{className:"text-box-trim-both",variant:"smallExtraBold",children:s(vr[r].name)}),n&&l.jsx(H,{className:"absolute -right-1 -top-1 rounded-md px-2 py-1",variant:"offsetPlus",children:l.jsx(j,{variant:"tiny",children:l.jsx(ce,{defaultMessage:"New",id:"bW7B87wFFp"})})})]}),l.jsx(j,{variant:"small",className:"text-pretty",children:s(vr[r].description)})]}),l.jsx("hr",{className:"border-border bg-border"}),l.jsx("div",{className:"gap-xs flex flex-col",children:t}),l.jsx(a4e,{searchMode:r})]})});j_.displayName="SearchModeTooltipContentContainer";const P_=T.memo(({isMaxUpsell:e=!1})=>{const{isMax:t,isPro:n}=At();return t||e?l.jsx(XP,{className:"text-max h-3"}):n?l.jsx(ZP,{className:"text-super h-3"}):null});P_.displayName="SearchModeBadge";const tI=({isMax:e,isPro:t,isMaxUpsell:n=!1})=>e||n?"max":"super",i4e=T.memo(e=>{const{isToggleActive:t,onToggleChange:n}=e,r=ut(),{hasAccessToProFeatures:s,isMax:a,isPro:i}=At(),{gpt4Limit:o}=Qn(),c=r?s?l.jsx(ce,{defaultMessage:"Unlimited access for subscribers",id:"EvvPQiWwUI"}):o>0&&o<=10?l.jsx(ce,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:o}}):null:null,u=f.useMemo(()=>l.jsx(P_,{}),[]),d=f.useMemo(()=>({onClick(g){g.stopPropagation()}}),[]),h=f.useMemo(()=>l.jsx(R_,{searchMode:ue.SEARCH,children:l.jsx(ce,{defaultMessage:"Try Pro Search",id:"akAejIEhqZ"})}),[]),m=f.useMemo(()=>l.jsx(ce,{defaultMessage:"Enabled",id:"V52jNnY+6M"}),[]),p=f.useMemo(()=>l.jsxs("div",{className:"gap-sm flex",children:[l.jsxs("div",{className:"gap-xs flex w-full flex-col",children:[l.jsx(A_,{badgeNode:u,color:tI({isMax:a,isPro:i}),enabledText:m,isEnabled:s,upgradeButton:h}),l.jsx(j,{color:"default",variant:"small",className:"text-pretty",children:l.jsx(ce,{defaultMessage:"3x more sources with powerful models and increased limits",id:"I8TyldAHCx"})}),c&&l.jsx(j,{color:"default",variant:"small",className:"mt-xs opacity-60",children:c})]}),!s&&l.jsx("div",{children:l.jsx(wd,{active:t,onChange:n,switchProps:d})})]}),[u,m,s,a,i,t,n,c,d,h]);return l.jsx(j_,{footerNode:p,searchMode:ue.SEARCH})});i4e.displayName="ProSearchModeTooltip";const o4e=T.memo(()=>{const e=ut(),{hasAccessToProFeatures:t,isMax:n,isPro:r}=At(),{gpt4Limit:s,pplxAlphaLimit:a}=Qn(),i=um(),o=i(ue.RESEARCH),c=!e||Math.min(s,a)<=0||i(ue.RESEARCH)?null:n?l.jsx(ce,{defaultMessage:"Unlimited access for subscribers",id:"EvvPQiWwUI"}):a>0&&a<=10?l.jsx(ce,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:a}}):l.jsx(ce,{defaultMessage:"Extended access for subscribers",id:"ATGyCTI4+V"}),u=f.useMemo(()=>l.jsx(P_,{isMaxUpsell:o}),[o]),d=f.useMemo(()=>o?l.jsx(ce,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):l.jsx(ce,{defaultMessage:"Enabled",id:"V52jNnY+6M"}),[o]),h=f.useMemo(()=>l.jsx(R_,{searchMode:ue.RESEARCH,children:e?o?l.jsx(ce,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):l.jsx(ce,{defaultMessage:"Extended access for subscribers",id:"ATGyCTI4+V"}):l.jsx(ce,{defaultMessage:"Get more queries with Pro",id:"BZEuCK3Abs"})}),[e,o]),m=f.useMemo(()=>l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsx(A_,{badgeNode:u,color:tI({isMax:n,isPro:r,isMaxUpsell:o}),enabledText:d,isEnabled:t,upgradeButton:h,isMaxUpsell:o}),l.jsx(j,{color:"default",variant:"small",className:"text-pretty",children:l.jsx(ce,{defaultMessage:"In-depth reports with more sources, charts, and advanced reasoning",id:"9V0OqZ9HGl"})}),c&&l.jsx(j,{color:"default",variant:"small",className:"mt-xs opacity-60",children:c})]}),[u,d,t,n,r,o,c,h]);return l.jsx(j_,{footerNode:m,searchMode:ue.RESEARCH})});o4e.displayName="ResearchModeTooltip";const l4e=T.memo(()=>{const e=ut(),{hasAccessToProFeatures:t,isMax:n,isPro:r}=At(),{gpt4Limit:s,pplxBetaLimit:a}=Qn(),i=um(),o=i(ue.STUDIO),c=(()=>{if(!e)return null;if(!t)return l.jsx(ce,{defaultMessage:"Upgrade to get access",id:"eRbSgHbjUP"});const p=Math.min(s,a);return p<=0||i(ue.STUDIO)?null:n?l.jsx(ce,{defaultMessage:"Unlimited access for subscribers",id:"EvvPQiWwUI"}):l.jsx(ce,{defaultMessage:"{limit, plural, one {# query remaining this month} other {# queries remaining this month}}",id:"wlPH+sOjjI",values:{limit:p}})})(),u=f.useMemo(()=>l.jsx(P_,{isMaxUpsell:o}),[o]),d=f.useMemo(()=>o?l.jsx(ce,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):l.jsx(ce,{defaultMessage:"Enabled",id:"V52jNnY+6M"}),[o]),h=f.useMemo(()=>l.jsx(R_,{searchMode:ue.STUDIO,children:e?o?l.jsx(ce,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):l.jsx(ce,{defaultMessage:"Access for subscribers only",id:"Ez3b/pzas/"}):l.jsx(ce,{defaultMessage:"Get more queries with Pro",id:"BZEuCK3Abs"})}),[e,o]),m=f.useMemo(()=>l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsx(A_,{badgeNode:u,color:tI({isMax:n,isPro:r,isMaxUpsell:o}),enabledText:d,isEnabled:t,upgradeButton:h,isMaxUpsell:o}),l.jsx(j,{color:"default",variant:"small",className:"text-pretty",children:o?l.jsx(ce,{defaultMessage:"Draft, design, deliver your ideas.",id:"I1aIhz4l3D"}):l.jsx(ce,{defaultMessage:"Turn your ideas into completed docs, slides, dashboards, and more",id:"WRu1tcOhoj"})}),c&&l.jsx(j,{color:"default",variant:"small",className:"mt-xs opacity-60",children:c})]}),[u,d,t,n,r,o,c,h]);return l.jsx(j_,{footerNode:m,searchMode:ue.STUDIO,includeNewBadge:!0})});l4e.displayName="StudioModeTooltip";const nI="pplx.activeQuery";function c4e(){const e=Nr.getItem(nI);if(!e)return{};try{return JSON.parse(e)}catch{return{}}}function k5t(e){Nr.setItem(nI,JSON.stringify(e))}function M5t(){Nr.removeItem(nI)}const{Provider:T5t,useSelector:Sm}=nm("QueryInputState",()=>bi(e=>({userInput:"",userInputJson:void 0,hasStartedTyping:!1,shouldTriggerFocus:!1,actions:{restoreInput:()=>{const t=c4e();t.rawQuery&&e({userInput:t.rawQuery,userInputJson:t.rawQueryJson})},setUserInput:(t,n)=>{e({userInput:t,userInputJson:n}),k5t({rawQuery:t,rawQueryJson:n})},setHasStartedTyping:t=>e({hasStartedTyping:t}),setStartTypingTime:t=>e({startTypingTime:t}),resetInput:()=>{e({userInput:"",userInputJson:void 0}),M5t()},markInputAsSubmitted:()=>{e({userInput:"",userInputJson:void 0,startTypingTime:void 0})},setShouldTriggerFocus:t=>{e({shouldTriggerFocus:t})}}}))),u4e=T.memo(()=>{const{setUserInput:e,resetInput:t}=J1(),n=Lt(),r=om(n);return f.useLayoutEffect(()=>{const s=c4e();s.rawQuery&&e(s.rawQuery,s.rawQueryJson)},[e]),f.useLayoutEffect(()=>{!r||r===n||r==="/"&&n?.startsWith("/search/new")||r.startsWith("/search/new")&&n?.startsWith("/search")||t()},[n,r,t]),null});u4e.displayName="QueryInputSideEffects";const rI=()=>Sm(e=>e.userInput),N5t=()=>Sm(e=>e.userInputJson),sI=()=>Sm(e=>e.hasStartedTyping),R5t=()=>Sm(e=>e.startTypingTime),A5t=()=>Sm(e=>e.shouldTriggerFocus),J1=()=>Sm(e=>e.actions),d4e=T.memo(e=>{const{isFollowUp:t,layoutKey:n,value:r,onChange:s,className:a}=e,i=ma(),o=f.useMemo(()=>r!==void 0?ks[r]||ue.SEARCH:i,[r,i]),{$t:c}=K(),u=T_(),d=Lt(),{base:h}=Rt(),{inputRef:m}=Ms(),p=ut(),{gpt4Limit:g}=Qn(),{preferredSearchModels:v,actions:y}=on(),x=sI(),{isMaxUpsellEnabled:b}=Lc(),[w,_]=f.useState(ue.SEARCH),C=f.useRef(null),[S,k]=f.useState(!1),E=f.useRef(null);f.useEffect(()=>()=>{E.current&&clearTimeout(E.current)},[]);const{gateSearchModeSelection:M}=X1(),[N,R]=f.useState(()=>v[ue.SEARCH]===ge.DEFAULT?!1:p),A=f.useCallback(W=>M(W?ge.PRO:ge.DEFAULT)?(R(!1),y.setPreferredSearchModel(ue.SEARCH,ge.DEFAULT),!1):(R(W),y.setPreferredSearchModel(ue.SEARCH,W?ge.PRO:ge.DEFAULT),W),[y,M]),P=f.useCallback(W=>{switch(W){case ue.SEARCH:return N?v[W]??Wo(W):ge.DEFAULT;case ue.RESEARCH:return v[W]??Wo(W);case ue.STUDIO:return v[W]??Wo(W)}},[N,v]),O=j_e(),I=f.useCallback(W=>{(W===ue.SEARCH||b)&&y.setPreferredSearchMode(W);const X=P(W);O(X)?(s?s(X):u(X,W),m.current?.focus(),k(!1)):M(X)},[y,O,M,P,m,b,s,u,k]),L=f.useCallback(W=>{if(A(W),o===ue.SEARCH){const X=W?ge.PRO:ge.DEFAULT;s?s(X):u(X)}},[s,u,o,A]),F=f.useMemo(()=>{function W(X){const{searchMode:ee}=X,ne=P(ee),V=e$.length<3&&!t,q=vr[ee].cueText,z={[ue.STUDIO]:OHe()},te=d===(h||"/")&&!x&&!!q&&z[ee]===0,Y={text:te?c(q):void 0,enabled:te};return{children:l.jsx("div",{"data-testid":`search-mode-${ee}`,children:l.jsx(n4e,{label:V?l.jsx(ce,{...vr[ee].name}):void 0,icon:Qg[ee],isActiveOption:o===ee})}),elementProps:{"aria-disabled":O(ne)===!1?!0:void 0,onPointerEnter(Z){E.current&&clearTimeout(E.current),C.current=Z.currentTarget,_(ee),E.current=setTimeout(()=>{k(!0)},800)},onPointerLeave(){E.current&&(clearTimeout(E.current),E.current=null)},onClick(){E.current&&(clearTimeout(E.current),E.current=null),m.current?.focus(),k(!1)}},label:c(vr[ee].name),value:ee,cue:Y}}return e$.map(X=>W({searchMode:X}))},[P,t,d,h,x,c,o,O,m]);N&&g===0&&R(!1);let D;switch(w){case ue.SEARCH:{D=l.jsx(i4e,{isToggleActive:N,onToggleChange:L});break}case ue.RESEARCH:{D=l.jsx(o4e,{});break}case ue.STUDIO:{D=l.jsx(l4e,{});break}}const B=f.useMemo(()=>l.jsx(wt,{initial:!1,mode:"popLayout",children:l.jsx(ke.div,{animate:{opacity:1},exit:{opacity:0},initial:{opacity:0},transition:{duration:.15},children:D},w)}),[D,w]),$=f.useCallback(W=>{W.target.tagName===document.activeElement?.tagName&&(C.current=W.target,_(o),k(!0))},[o]);return l.jsx(r4e,{tooltipContent:B,triggeredSearchModeElement:C.current,isOpen:S,setIsOpen:k,children:l.jsx(t4e,{layoutKey:`segmented-search-mode-selector_${n??d}`,options:F,onFocus:$,onValueChange:I,value:o,className:a})})});d4e.displayName="SegmentedSearchModeSelector";const I_=T.memo(e=>{const t=W4t(),{isFollowUp:n,layoutKey:r,value:s,onChange:a,className:i,buttonSize:o}=e,c=Ks();return t||c?l.jsx(I_e,{isFollowUp:n,value:s,onChange:a,buttonSize:o}):l.jsx(d4e,{isFollowUp:n,layoutKey:r,value:s,onChange:a,className:i})});I_.displayName="SearchModeSelector";const j5t=(e,t)=>{const{value:n,loading:r}=Rr({flag:"enable-gpt5-in-web-frontend",defaultValue:e,extraAttributes:t,subjectType:"visitor_id"});return f.useMemo(()=>({variation:n,loading:r}),[n,r])},P5t=Jt({defaultMessage:"Advanced models in Perplexity {searchMode}",id:"XgqOYZp+oF"}),I5t=Jt({defaultMessage:"Exclusive access for Max subscribers",id:"z2ijkWbdu6"});function f4e({reason:e,selectedSearchMode:t,currentModel:n,onModelSelect:r,isRewrite:s}){const{$t:a}=K(),{organization:i}=Gt({reason:e}),{openModal:o}=St(),c=i?.settings?.disabled_model_preferences??je,{isMax:u}=At(),{isMaxUpsellEnabled:d}=Lc(),{value:h}=bd({flag:"model-outage-on-model-selector-ui",subjectType:"user_nextauth_id",defaultValue:{[ge.SONAR]:!1,[ge.CLAUDE_2]:!1,[ge.GPT_4_1]:!1,[ge.GEMINI_2_FLASH]:!1,[ge.GROK]:!1,[ge.O4_MINI]:!1,[ge.CLAUDE_3_7_SONNET_THINKING]:!1}}),{variation:m}=j5t(!1),{menuItems:p,selectOptions:g}=f.useMemo(()=>{function v(b,w,_){const C=[],S=[];return w[b].filter(k=>!_?.includes(k.search_model)).forEach(k=>{if(c.includes(k.search_model))return;const E=!!(h&&h[k.search_model]);let M,N="super";k.subscription_tier===Cp.MAX?(M=a({defaultMessage:"max",id:"+LmzMnWE+j"}),N="max"):k.has_new_tag&&(M=a({defaultMessage:"new",id:"qlTe+eC7Ec"}),N="super");const R={active:n===k.search_model,description:a(va[k.search_model]?.description),bottomElement:E&&l.jsx(j,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"red",children:a({defaultMessage:"Temporary degraded performance",id:"Kc/pdbXoxJ"})}),onClick(){if(d&&!u&&(t===ue.STUDIO||t===ue.RESEARCH||t===ue.SEARCH&&k.subscription_tier===Cp.MAX)){o("pricingModal",{origin:s?rt.RETRY_BUTTON:rt.MODEL_SELECTOR,pitchMessage:{title:a(P5t,{searchMode:a(vr[t].name)}),description:a(I5t)}});return}r(k.search_model)},size:"tiny",type:"default",text:a(va[k.search_model].name),badge:M,badgeVariant:N},A={value:k.search_model,label:a(va[k.search_model].name)},P=d&&!u&&k.subscription_tier===Cp.MAX;C.push(R),P||S.push(A)}),{menuItems:C,selectOptions:S}}const y=[],x=[];if(t===ue.SEARCH){const b={active:n===ge.PRO,description:a({defaultMessage:"Selects the best model for each query",id:"TFsbkdJ4zc"}),onClick(){r(ge.PRO)},size:"tiny",text:a(va[ge.PRO].name),type:"default"},w={value:ge.PRO,label:a(va[ge.PRO].name)};if(!s)y.push(b,{type:"separator",show:!0}),x.push(w);else{const k={active:n===ge.ALPHA,description:a({defaultMessage:"In-depth reports on complex topics",id:"j7wjX6Ljpq"}),onClick(){r(ge.ALPHA)},size:"tiny",text:a({defaultMessage:"Research",id:"JEe7dVso7F"}),type:"default"},E={value:ge.ALPHA,label:a(va[ge.ALPHA].name)};y.push(k),x.push(E);const M={active:n===ge.BETA,description:a({defaultMessage:"Create projects from scratch",id:"nH9rAkplC/"}),onClick(){r(ge.BETA)},size:"tiny",text:a({defaultMessage:"Labs",id:"ylFNoY79wa"}),type:"default"},N={value:ge.BETA,label:a(va[ge.BETA].name)};y.push(M,{type:"separator",show:!0}),x.push(N)}const _=wKe(m),C=v(Sf.ANSWER,_);y.push(...C.menuItems),x.push(...C.selectOptions),y.push({type:"separator",text:a({defaultMessage:"Reasoning",id:"Aw3qRf7hyO"}),show:!0});const S=v(Sf.REASONING,_,d?void 0:[..._[Sf.ANSWER],..._[Sf.REASONING]].filter(k=>k.subscription_tier===Cp.MAX).map(k=>k.search_model));y.push(...S.menuItems),x.push(...S.selectOptions)}else if(t===ue.RESEARCH){const b={active:n===ge.ALPHA,description:a({defaultMessage:"Selects the best model for each query",id:"TFsbkdJ4zc"}),onClick(){r(ge.ALPHA)},size:"tiny",text:a(va[ge.ALPHA].name),type:"default"},w={value:ge.ALPHA,label:a(va[ge.ALPHA].name)};y.push(b,{type:"separator",show:!0}),x.push(w)}else{const b={active:n===ge.BETA,description:a({defaultMessage:"Selects the best model for each query",id:"TFsbkdJ4zc"}),onClick(){r(ge.BETA)},size:"tiny",text:a(va[ge.BETA].name),type:"default"},w={value:ge.BETA,label:a(va[ge.BETA].name)};y.push(b,{type:"separator",show:!0}),x.push(w)}return{menuItems:y,selectOptions:x}},[c,a,t,n,h,u,d,o,r,s,m]);return f.useMemo(()=>({menuItems:p,selectOptions:g}),[p,g])}const h4e=({selectedModel:e,onModelChange:t})=>{const n="task-modal-model-selector",r=e||ge.PRO,{isMobileStyle:s}=Oe(),{selectOptions:a}=f4e({reason:n,selectedSearchMode:ue.SEARCH,currentModel:r,onModelSelect:u=>{t?.(u)}}),i=f.useMemo(()=>a.map(u=>({type:"default",text:u.label,onClick:()=>t?.(u.value),active:u.value===r})),[a,r,t]),c=f.useMemo(()=>a.find(u=>u.value===r),[a,r])?.label||"Select model...";return l.jsx(bn,{items:i,isMobileStyle:s,placement:"bottom",contentClassName:"w-full",boxProps:{className:"w-full"},popoverProps:{matchTargetWidth:!0,avoidPositionCollisions:!1},children:l.jsx(ye,{text:c,extraCSS:"!bg-background-200 dark:!bg-offsetDark pl-4 pr-4 w-full !h-10 border-0 !outline-none !justify-start font-normal w-full",textClassName:"text-left text-textMain text-sm font-normal",fullWidth:!0,layout:"split",chevron:!0,chevronIcon:Ia})})},O_=({reason:e})=>{const{connectors:t}=Da({reason:e}),n=f.useMemo(()=>(t?.connectors??[]).reduce((r,s)=>(r[s.name]=s,r),{}),[t]);return f.useMemo(()=>({connectorsMap:n}),[n])},aI=({reason:e})=>{const{connectors:t}=Da({reason:e}),{connectorsMap:n}=O_({reason:e}),r=f.useMemo(()=>(t?.connectors??[]).filter(i=>$F.includes(i.name)&&n[i.name]&&n[i.name].connected),[n,t]),s=f.useMemo(()=>(t?.connectors??[]).filter(i=>!$F.includes(i.name)&&n[i.name]&&n[i.name].connected),[n,t]),a=f.useMemo(()=>(t?.connectors??[]).filter(i=>n[i.name]&&n[i.name].connected),[n,t]);return f.useMemo(()=>({enabledFileConnectors:r,enabledNonFileConnectors:s,enabledConnectors:a}),[a,r,s])};var m4e=(e=>(e.MY_FILES="my-files",e.ATTACHMENTS="attachments",e.SOURCES="sources",e.MY_CONNECTORS="my-connectors",e.SPACES="spaces",e))(m4e||{});function O5t({reason:e,feature:t}){const{isEnterprise:n}=Gt({reason:e}),{hasAccessToProFeatures:r}=At(),{value:s}=dr({flag:"connectors-space-access-for-pro",defaultValue:!1});return n?!0:r?t==="my-files"?!1:t==="spaces"?s:!0:!1}const eBt=e=>e?.length?e.filter(l3):void 0,p4e=({reason:e})=>{const t=K(),n=Rt(),{isEnterprise:r,organization:s}=Gt({reason:e}),a=O5t({reason:e,feature:m4e.SOURCES}),i=cn(),{enabledConnectors:o,enabledNonFileConnectors:c,enabledFileConnectors:u}=aI({reason:e}),{sources:d}=Qn(),h=hm(),m=Dt(),[p,g]=f.useState(!1),v=f.useCallback(()=>{g(!0)},[]),y=f.useCallback(()=>{g(!1)},[]),{value:x}=dr({flag:"gcal-fe-toggle",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),{value:b}=dr({flag:"enable-remote-mcp-tools",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),w=b,_=x&&!i,{value:C}=dr({flag:"outlook-fe-toggle",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),{value:S}=dr({flag:"edgar-enabled",stableId:m?.user?.id??"KILL_SWITCH",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),k=f.useCallback(A=>{A.stopPropagation(),n.push(`${h}/files`)},[n,h]),E=f.useMemo(()=>l.jsx("div",{className:"mr-sm flex",children:l.jsx(Dn,{tooltipText:t.formatMessage({defaultMessage:"Manage my files",id:"o8eQg7byBv"}),children:l.jsx(j,{color:"light",onClick:k,children:l.jsx(_e,{icon:HLe,size:"sm"})})})}),[t,k]),M=f.useMemo(()=>{const A=u.map(O=>{const I=O.name,L=Ax(I)??"";return l.jsx(Sn,{user:L,rounded:!1,showBackground:!1,size:"small"},I)});let P=null;return A.length>0&&(P=Rx(A,{...A.length<=3&&{rightText:l.jsx(j,{color:"light",variant:"tinyRegular",children:t.formatMessage({defaultMessage:"Search my files",id:"EYmiG70whM"})})},maxVisuals:A.length,size:"sm"})),{web:{icon:kw,avatar:void 0,text:t.formatMessage({defaultMessage:"Web",id:"B6CB3748fZ"}),description:t.formatMessage({defaultMessage:"Search across the entire Internet",id:"L+Gw+J7uDs"}),type:"toggle"},scholar:{icon:fM,avatar:void 0,text:t.formatMessage({defaultMessage:"Academic",id:"mbxIJyT8C5"}),description:t.formatMessage({defaultMessage:"Search academic papers",id:"IVRQQmrqTD"}),type:"toggle"},...r?{}:{social:{icon:WLe,avatar:void 0,text:t.formatMessage({defaultMessage:"Social",id:"qOLogguG/7"}),description:t.formatMessage({defaultMessage:"Discussions and opinions",id:"g9xPuArp4v"}),type:"toggle"}},...S?{edgar:{icon:mFe,avatar:void 0,text:ALe,description:"Search SEC filings",type:"toggle"}}:{},...r?{org:{icon:IDe,avatar:void 0,text:t.formatMessage({defaultMessage:"Org files",id:"iWDsD738/m"}),description:t.formatMessage({defaultMessage:"Search files from your organization",id:"Ak5CW53mGi"}),type:"toggle"}}:{},...a&&r?{my_files:{icon:TDe,avatar:void 0,text:t.formatMessage({defaultMessage:"My files",id:"bYbrKKlKgS"}),description:u.length===0?t.formatMessage({defaultMessage:"Search my files",id:"EYmiG70whM"}):"",bottomElement:P,rightElement:E,type:"toggle"}}:{}}},[r,t,u,E,a,S]),N=f.useMemo(()=>({...o?.some(P=>P.name==="crunchbase")?{crunchbase:{icon:void 0,avatar:l.jsx(Sn,{user:KJ,rounded:!1,showBackground:!1,size:"small",altText:"Crunchbase"}),text:YJ,type:"toggle"}}:{},...o?.some(P=>P.name==="factset")?{factset:{icon:void 0,avatar:l.jsx(Sn,{user:GJ,rounded:!1,showBackground:!1,size:"small",altText:"FactSet"}),text:qJ,type:"toggle"}}:{},...o?.some(P=>P.name==="google_drive")&&a?{google_drive:{icon:void 0,avatar:l.jsx(Sn,{user:uu(fn.GOOGLE_DRIVE)||"",rounded:!1,showBackground:!1,size:"small",altText:Bg}),text:Bg,type:"toggle"}}:{},...o?.some(P=>P.name==="onedrive")&&a?{onedrive:{icon:void 0,avatar:l.jsx(Sn,{user:uu(fn.ONEDRIVE)||"",rounded:!1,showBackground:!1,size:"small",altText:$g}),text:$g,type:"toggle"}}:{},...o?.some(P=>P.name==="sharepoint")&&a?{sharepoint:{icon:void 0,avatar:l.jsx(Sn,{user:uu(fn.SHAREPOINT)||"",rounded:!1,showBackground:!1,size:"small",altText:Hg}),text:Hg,type:"toggle"}}:{},...o?.some(P=>P.name==="wiley")&&r?{wiley:{icon:void 0,avatar:l.jsx(Sn,{user:QJ,rounded:!1,showBackground:!1,size:"small",altText:"Wiley"}),text:XJ,type:"toggle"}}:{},...o?.some(P=>P.name==="dropbox")&&a?{dropbox:{icon:void 0,avatar:l.jsx(Sn,{user:uu(fn.DROPBOX)||"",rounded:!1,showBackground:!1,size:"small",altText:Wg}),text:Wg,type:"toggle"}}:{},...o?.some(P=>P.name==="gcal")&&_?{gcal:{icon:void 0,avatar:l.jsx(Sn,{user:uu(fn.GCAL)||"",rounded:!1,showBackground:!1,size:"small",altText:ux}),text:ux,type:"toggle"}}:{},...o?.some(P=>P.name==="outlook")&&C?{outlook:{icon:void 0,avatar:l.jsx(Sn,{user:uu(fn.OUTLOOK)||"",rounded:!1,showBackground:!1,size:"small",altText:rM}),text:rM,type:"toggle"}}:{},...w?{linear_alt:{icon:void 0,avatar:l.jsx(Sn,{user:dx,rounded:!1,showBackground:!1,size:"mini",altText:OF,className:"pl-[2px] pt-[2px]"}),text:OF,type:"toggle"}}:{}}),[o,r,a,_,C,w]),R=f.useMemo(()=>{const A=c.filter(B=>!(B.name==="outlook"&&!C||B.name==="gcal"&&!_)),P=[...new Set(A.map(B=>B.name)),...w?["linear_alt"]:[]],O=P.map(B=>{const $=B==="linear_alt"?dx:Ax(B)??"";return l.jsx(Sn,{user:$,rounded:!1,showBackground:!1,size:B==="linear_alt"?"mini":"small",className:U({"pl-[2px]":B==="linear_alt"})},B)}),L=(d?.filter(B=>A.some($=>$.name===B))||[]).length>0;let F=null;A.length>0&&(F=Rx(O,{rightText:l.jsx(j,{color:"light",variant:"tinyRegular",children:L?t.formatMessage({defaultMessage:"{ num } connected",id:"vKOo9VV7WK"},{num:P.length}):t.formatMessage({defaultMessage:"{ num } available",id:"eEfaubop4a"},{num:P.length})}),maxVisuals:O.length,size:"sm"}));const D=Object.entries(N).filter(([B])=>A.some($=>$.name===B)||B==="linear_alt"&&w);return D.length===0?{type:"default",text:t.formatMessage({defaultMessage:"Add connectors",id:"2dXigF1Pil"}),icon:GF,onClick:()=>n.push(`${h}/connectors`),submenuItems:[]}:{type:"nested",isSubmenuOpen:p,onSubmenuOpen:v,onSubmenuClose:y,text:t.formatMessage({defaultMessage:"More connectors",id:"3l4CuVEyHY"}),icon:GF,menuWidth:"300px",bottomElement:F,submenuItems:[...D,{type:"separator"},{type:"default",text:t.formatMessage({defaultMessage:"Manage connectors",id:"cqx+RdJnHp"}),onClick:()=>n.push(`${h}/connectors`)}]}},[p,t,n,c,N,v,y,h,d,_,C,w]);return f.useMemo(()=>({RootSources:M,ConnectionSources:N,NestedConnectionSources:R}),[N,R,M])};function iI({defaultSource:e,reason:t}){const{sources:n,setSources:r,setRecency:s}=Qn(),a=An(),{fileRepoInfo:i}=Cd({reason:t}),{RootSources:o,ConnectionSources:c}=p4e({reason:t}),{isLoading:u}=Gt({reason:t}),{isWindowsApp:d}=Nt(),{safeWindowsIpcPublish:h,safeWindowsIpcSubscribe:m}=M_(),p=i.file_repository_type==="COLLECTION",g=p?`space-${i.owner_id}`:"home",v=Cl(),y=Array.isArray(v?.slug)?v.slug[0]:v?.slug,{collection:x,isLoading:b}=_d({collectionSlug:y,reason:t}),w=b?void 0:x?.enable_web_by_default,_=f.useRef(m);f.useEffect(()=>{_.current=m},[m]);const C=f.useRef(Math.random().toString(36).substring(7)),S=f.useCallback(M=>{let N=[];return n?.includes(M)?(N=n.filter(R=>R!==M),M==="web"&&(n.includes("crunchbase")&&(N=n.filter(R=>R!=="crunchbase"&&R!=="web")),s?.(null))):(N=[...n||[]],M==="crunchbase"&&!N.includes("web")&&N.push("web"),N.push(M)),p&&x5(N,g),r(N),d&&h(zl,{type:zl,sources:N,windowId:C.current}),N},[p,g,r,s,n,d,h]),k=f.useCallback(M=>{const N=[...M];N.includes("crunchbase")&&!N.includes("web")&&N.push("web"),p&&x5(N,g),r(N),d&&h(zl,{type:zl,sources:N,windowId:C.current})},[p,d,g,h,r]);f.useEffect(()=>{if(!d)return;const M=_.current(zl,N=>{N.type===zl&&N.windowId!==C.current&&r(N.sources)});return()=>{M?.()}},[d,r,n]);const E=f.useMemo(()=>{if(b)return new Set([]);if(p)return w?new Set(["web"]):new Set([]);if(e)return new Set([e]);const N=(a?.get("sources")??"web").split(",").map(R=>R.trim()).filter(l3);return new Set(N||["web"])},[p,b,w,a,e]);return f.useEffect(()=>{if(u)return;let M=p?gHe(g)||[...E]:[...E];if(p&&w&&!M.includes("web")?M.push("web"):p&&!w&&M.includes("web")&&(M=M.filter(R=>R!=="web")),JSON.stringify(n||[])!==JSON.stringify(M)){const R=M.filter(A=>A in o||A in c);p&&x5(R,g),r(R)}},[u,p,w]),f.useMemo(()=>({DEFAULT_SOURCES:E,isSpace:p,isSpaceEnableWebByDefault:w,updateSources:S,overwriteSources:k}),[E,p,w,k,S])}var br=(e=>(e[e.FOCUS=0]="FOCUS",e[e.SOURCES=1]="SOURCES",e[e.RECENCY=2]="RECENCY",e[e.PRO_MODEL_PREFERENCE=3]="PRO_MODEL_PREFERENCE",e[e.ATTACHMENTS=4]="ATTACHMENTS",e[e.SEARCH_MODEL_SELECTOR=5]="SEARCH_MODEL_SELECTOR",e))(br||{});const L5t="scrollbar-subtle min-h-0 flex-1 overflow-auto",g4e=T.memo(({children:e,focusItems:t,placement:n,width:r="200px",isMobileStyle:s,isOpen:a=!1,onOpen:i,onClose:o,menuType:c=br.FOCUS,isSpace:u=!1})=>{const{$t:d}=K(),{isMax:h}=At(),m=K(),p=f.useMemo(()=>{switch(c){case br.RECENCY:return d({defaultMessage:"Choose recency",id:"qyxEklVz9W"});case br.SOURCES:default:return d({defaultMessage:"Choose sources",id:"5HzLAl6K6z"})}},[c,d]),g=f.useCallback(w=>{w?.stopPropagation(),i?.()},[i]),v=f.useCallback(()=>{o?.()},[o]),y=f.useMemo(()=>l.jsx("div",{className:"gap-x-xs p-sm bg-offsetPlus flex items-center justify-center rounded-t-md text-center",children:l.jsx(j,{color:"light",variant:"tinyRegular",children:l.jsxs("div",{className:"gap-x-sm flex items-center",children:[l.jsx(_e,{icon:_l,size:"xs"}),m.formatMessage({defaultMessage:"Search includes all context from this space.",id:"uhJN0zDnSy"})]})})}),[m]),x=f.useMemo(()=>({width:r}),[r]),b=f.useMemo(()=>l.jsxs(H,{className:U("flex flex-col",{"max-h-[37vh]":u,"max-h-[42vh]":!u,"max-super-override":h}),style:x,children:[u&&c===br.SOURCES&&y,l.jsx("div",{className:U(L5t,{"p-xs":u&&c===br.SOURCES}),children:l.jsx(gh,{items:t,disableScrollArea:!0})})]}),[y,t,u,c,x,h]);return s?l.jsxs(l.Fragment,{children:[l.jsx(jt,{subtitle:p,subtitleClassname:"ml-sm mt-sm font-medium",variant:"bottom-left-sheet",actionList:je,isOpen:a,onClose:v,children:l.jsx(H,{className:"p-xs w-full",children:l.jsx(gh,{textColor:"light",items:t})})}),l.jsx("span",{onClick:g,children:e})]}):l.jsx(Sl,{isFileSearchEnabled:!0,isOpen:a,placement:n,onClose:v,onOpen:g,avoidSizeCollisions:!1,contentClassName:u&&c===br.SOURCES?"!p-0":"",content:b,hasInteractiveContent:!0,children:e})}),D5t=T.memo(({children:e})=>l.jsx("div",{className:"flex size-5 items-center justify-center",children:e})),v4e=T.memo(e=>{const t="sources-switcher",{$t:n}=K(),{isOpen:r,onOpen:s,onClose:a,defaultSource:i,selectedSources:o,onSourcesChange:c,variant:u="icon",hiddenSources:d}=e,{isMobileStyle:h}=Oe(),{trackEvent:m}=Ne(),{fileRepoInfo:p}=Cd({reason:t}),g=p?.file_repository_type==="COLLECTION",{RootSources:v,ConnectionSources:y,NestedConnectionSources:x}=p4e({reason:t}),{updateSources:b}=iI({defaultSource:i,reason:t}),{sources:w}=Qn(),{isEnterprise:_}=Gt({reason:t}),C=o??w,S=c??b,k=f.useCallback(I=>I.preventDefault(),[]),E=f.useCallback(I=>{m("search source click",{source:I}),S(I)},[m,S]),M=f.useCallback((I,L)=>{const F=C?.includes(I);return{type:L.type,text:L.text,description:L.description,size:"small",selected:F,icon:L.icon,avatar:L.avatar,link:L.link,onMouseDown:k,onClick:()=>E(I),onLinkClick:L.onLinkClick,bottomElement:L.bottomElement,rightElement:L.rightElement,testId:`source-toggle-${I}`}},[C,k,E]),N=f.useMemo(()=>{const I=Object.entries(v),L=I.filter(([D])=>!d?.includes(D));return(d?.length?I.filter(([D])=>!d.includes(D)):L).map(([D,B])=>M(D,B))},[v,M,d]),R=f.useMemo(()=>{const I=x.submenuItems.filter(L=>{if(Array.isArray(L)){const[F]=L;return!d?.includes(F)}return!0}).map(L=>{if(Array.isArray(L)){const[F,D]=L;return M(F,D)}return L});return{...x,submenu:I}},[x,M,d]),A=f.useMemo(()=>[...N,...h||!_?[]:[{type:"separator"},R]].filter(Boolean),[_,N,R,h]),P=f.useMemo(()=>{if(!C?.length)return l.jsx(_e,{icon:e0,size:"sm"});const I=[];return C.forEach(L=>{let F;if(L in v?F=v[L]:L in y&&(F=y[L]),F){const D=F.avatar||l.jsx(D5t,{children:F.icon?l.jsx(_e,{icon:F.icon,size:"sm"}):l.jsx(_e,{icon:e0,size:"sm"})});I.push(D)}}),Rx(I,{maxVisuals:1,size:"lg"})},[C,v,y]),O=f.useMemo(()=>{if(C?.length===1){const I=C[0];return I in v?v[I]?.text:I in y?y[I]?.text:I}return n({defaultMessage:"{count} sources",id:"l1+6PggBqU"},{count:C?.length||0})},[C,v,y,n]);return l.jsx(g4e,{focusItems:A,placement:"bottom-end",width:"300px",isMobileStyle:h,isOpen:r,onOpen:s,onClose:a,menuType:br.SOURCES,isSpace:g,children:u==="button"?l.jsx(ye,{text:O,extraCSS:"!bg-background-200 dark:!bg-offsetDark pl-4 pr-4 w-full !h-10 border-0 !outline-none !justify-start font-normal",textClassName:"text-left text-textMain text-sm font-normal",fullWidth:!0,layout:"split",chevron:!0,chevronIcon:Ia,onMouseDown:k,"data-testid":"sources-switcher-button"}):l.jsx(ze,{toolTip:n({defaultMessage:"Set sources for search",id:"yAyuRoLEjt"}),size:"small",onMouseDown:k,"data-testid":"sources-switcher-button",extraCSS:`px-[4px] ${C&&C.length>1?"!aspect-auto":""}`,leadingComponent:P})})});function F5t(e,t){if(e.includes(t)){let n=e.filter(r=>r!==t);return t==="web"&&e.includes("crunchbase")&&(n=n.filter(r=>r!=="crunchbase")),n}else{const n=[...e];return t==="crunchbase"&&!n.includes("web")&&n.push("web"),n.push(t),n}}const oI=({sources:e,onChange:t})=>{const[n,r]=f.useState(!1),s=f.useCallback(a=>{const i=F5t(e,a);t(i)},[t,e]);return l.jsx(v4e,{isOpen:n,onOpen:()=>r(!0),onClose:()=>r(!1),selectedSources:e,onSourcesChange:s,variant:"button",hiddenSources:[Kl.org,Kl.google_drive,Kl.onedrive,Kl.sharepoint,Kl.my_files]})};oI.displayName="TaskSourcesSelector";const y4e=f.memo(({searchModel:e,onSearchModelChange:t,sources:n,onSourcesChange:r})=>{const s=ks[e]??ue.SEARCH;return l.jsx("div",{className:"flex flex-col gap-2",children:l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:l.jsx(ce,{defaultMessage:"Mode",id:"mrOnjMzgC4"})}),l.jsx("div",{className:"h-full w-fit",children:l.jsx(I_,{value:e,onChange:t,layoutKey:"task-modal",className:"h-full"})})]}),s===ue.SEARCH&&l.jsxs("div",{className:"flex min-w-[200px] flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:l.jsx(ce,{defaultMessage:"Model",id:"rhSI1/3g21"})}),l.jsx(ed,{children:l.jsx(h4e,{selectedModel:e,onModelChange:t})})]}),l.jsxs("div",{className:"flex min-w-[100px] flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:l.jsx(ce,{defaultMessage:"Sources",id:"fhwTpAcBLC"})}),l.jsx(ed,{children:l.jsx(oI,{sources:n,onChange:r})})]})]})})});y4e.displayName="QuerySearchConfigurationSelector";const U5t=e=>({id:e.task_id,type:B5t(e),createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),title:e.task_name,prompt:e.task_data.task_prompt,status:e.status,nextRun:new Date(e.next_trigger_intended_time),scheduleInfo:{start_at:e.start_at,rrule:e.trigger_condition_schedule,tzid:e.tzid},subscription:e.event_subscription,searchModel:e.task_data?.task_params?.model_preference||"pplx_pro",sources:e.task_data?.task_params?.sources||["web"]}),B5t=e=>{switch(e.scheduler_type){case"EVENT_PUSH":return"ALERT";case"POLL":return"SCHEDULE";case"SHORTCUT":return"SHORTCUT";default:return null}},lI=async({taskId:e,headers:t,reason:n})=>{const{data:r,error:s}=await J.GET("/rest/tasks/{task_id}",n,{params:{path:{task_id:e}},timeoutMs:$e(),numRetries:sm,headers:t});if(s)throw s;return r?.task?U5t(r.task):null},$5t=async({payload:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/tasks/",t,{body:e});if(r)throw r;return n},x4e=async({taskId:e,payload:t,reason:n})=>{const{data:r,error:s}=await J.PATCH("/rest/tasks/{task_id}",n,{params:{path:{task_id:e}},body:t});if(s)throw s;return r},b4e=async({taskId:e,reason:t})=>J.DELETE("/rest/tasks/{task_id}",t,{params:{path:{task_id:e}}}),tBt=async({payload:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/tasks/finance",t,{body:e});if(r)throw r;return n},nBt=async({taskId:e,payload:t,reason:n})=>{const{data:r,error:s}=await J.PATCH("/rest/tasks/finance/{task_id}",n,{params:{path:{task_id:e}},body:t});if(s)throw s;return r},rBt=async({ticker:e,reason:t})=>{const{data:n,error:r}=await J.GET("/rest/tasks/finance/tickers/{ticker}",t,{params:{path:{ticker:e}},timeoutMs:$e(),numRetries:sm});if(r)throw Q.error("Failed to get finance ticker",r),r;return n},w4e=async({reason:e})=>{const{data:t,error:n}=await J.GET("/rest/tasks/shortcuts/mentions",e,{params:{query:{order_by:"created_at"}},timeoutMs:$e(),numRetries:sm});if(n)throw Q.error("Failed to get shortcut typeahead options",n),n;return t},_4e=()=>{const{formatMessage:e}=K();return{getErrorMessage:n=>{switch(n?.detail?.error_code){case"TASK_LIMIT_EXCEEDED":return e({defaultMessage:"You have reached the maximum of 10 active tasks.",id:"A6JRjpSgUM"});case"SHORTCUT_NAME_ALREADY_EXISTS":return e({defaultMessage:"A shortcut with this name already exists. Please choose a different name.",id:"GpnXJDWEkN"});default:return e({defaultMessage:"Something went wrong. Please try again.",id:"W/5hwrn09m"})}}}};function H5t({reason:e,source:t,onSuccess:n,onError:r}){const s=ot(),{trackEvent:a}=Ne(),{getErrorMessage:i}=_4e(),o=f.useCallback((p,g)=>{s.invalidateQueries({queryKey:nse()}),g&&s.invalidateQueries({queryKey:uA(g)}),n?.(p)},[s,n]),c=f.useCallback(p=>{a("task modal action",{source:t,action:p}),o(p)},[t,a,o]),u=lt({mutationFn:p=>$5t({payload:p,reason:e}),onSuccess:()=>c("created"),onError:p=>r(i(p))}),d=lt({mutationFn:({id:p,payload:g})=>x4e({taskId:p,payload:g,reason:e}),onSuccess:()=>c("updated"),onError:p=>r(i(p))}),h=lt({mutationFn:p=>b4e({taskId:p,reason:e}),onSuccess:()=>c("deleted")}),m=u.isPending||d.isPending||h.isPending;return{createMutation:u,updateMutation:d,deleteMutation:h,isMutationLoading:m,invalidateAndClose:o}}const W5t=e=>({id:e.id,title:e.title,prompt:e.prompt,schedule:uT(e.scheduleInfo),searchModel:e.searchModel,sources:e.sources||["web"]}),WG=(e={})=>e.prefill?e.prefill:e.initial?W5t(e.initial):{...L3t(),searchModel:ge.PRO},nc=({text:e,onClick:t,variant:n="secondary",disabled:r=!1})=>l.jsx(ye,{text:e,onClick:t,disabled:r,testId:`task-modal-${e.toLowerCase()}-button`,extraCSS:U("min-w-[100px] px-4",n==="secondary"?"!bg-background-200 !dark:bg-background-200Dark !hover:bg-background-200 !dark:hover:bg-background-200Dark":"!bg-textMain !dark:bg-textMainDark !hover:bg-textMain !dark:hover:bg-textMainDark"),textClassName:U(n==="secondary"?"text-textOff  !hover:text-textOff !dark:hover:text-textOff":"text-textMainDark dark:text-light !hover:text-textMainDark !dark:hover:text-light")}),z5t=(e,t)=>e.schedule.kind==="ONCE"&&new Date(e.schedule.year,e.schedule.month,e.schedule.day,e.schedule.hour,e.schedule.minute)<=new Date(Date.now())?{ok:!1,message:t({defaultMessage:"Please schedule this task for a future time.",id:"loBg9tvLRE"})}:{ok:!0};function C4e({open:e,onClose:t,onSuccess:n,initial:r,prefill:s,errorMessage:a,source:i}){const o="task-modal",{formatMessage:c}=K(),{trackEvent:u}=Ne(),{configuredModel:d}=Qn();f.useEffect(()=>{e&&u("task modal opened",{source:i})},[e,i,u]);const[h,m]=f.useState(a),{createMutation:p,updateMutation:g,deleteMutation:v,isMutationLoading:y,invalidateAndClose:x}=H5t({reason:o,source:i,onSuccess:f.useCallback(I=>{n?.(I),t?.()},[n,t]),onError:m}),b=f.useRef(r?Wk(r):void 0);f.useEffect(()=>{e&&(b.current=r?Wk(r):void 0)},[e,r]);const[w,_]=f.useState(()=>WG({initial:r,prefill:s})),C=f.useMemo(()=>ks[w.searchModel]??ue.SEARCH,[w.searchModel]);f.useEffect(()=>{m(e?a:void 0)},[e,a]),f.useEffect(()=>{e&&_(WG({initial:r,prefill:s}))},[e,r,s,d]),f.useEffect(()=>{const I=Wo(C);_(L=>({...L,searchModel:I}))},[C]);const S=!!b.current,k=b.current?.status==="PAUSED",E=b.current?.status==="COMPLETED",M=I=>_(L=>({...L,...I})),N=I=>_(L=>({...L,schedule:{...L.schedule,...I}})),R=()=>{m(void 0);const I=z5t(w,c);if(!I.ok){m(I.message);return}S?g.mutate({id:b.current.id,payload:{task_name:w.title,prompt:w.prompt,schedule:C6(w.schedule),status:"ACTIVE",model_preference:w.searchModel,sources:w.sources}},{onSuccess:()=>{u("task modal action",{source:i,action:"updated"}),x("updated",b.current.id)}}):p.mutate({task_id:w.id,task_name:w.title,prompt:w.prompt,schedule:C6(w.schedule),model_preference:w.searchModel,sources:w.sources})},A=f.useMemo(()=>{if(!S)return!0;const I=w.prompt!==b.current?.prompt,L=b.current.scheduleInfo,F=C6(w.schedule),D=!Pf(F.rrule,L.rrule)||!Pf(F.tzid,L.tzid),B=w.schedule.kind==="ONCE"&&F.start_at!==L.start_at,$=w.searchModel!==b.current?.searchModel,W=!Pf(w.sources||["web"],b.current?.sources||["web"]);return I||(D||B||$)||W},[S,w,b]),{value:P,loading:O}=_1();return O?null:l.jsx(jt,{isOpen:e,onClose:t,title:c(P?{defaultMessage:"Automation",id:"Fn4YKyl4lm"}:{defaultMessage:"Task",id:"0wJ7N+noSq"}),titleTextVariant:"base",modalContentClassname:"!pb-4 md:!pb-4",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(l_e,{prompt:w.prompt,onPromptChange:I=>M({prompt:I}),error:h}),l.jsx(R_e,{schedule:w.schedule,onScheduleChange:N}),l.jsx(y4e,{searchModel:w.searchModel,onSearchModelChange:I=>M({searchModel:I}),sources:w.sources||["web"],onSourcesChange:I=>M({sources:I})}),l.jsxs(H,{variant:"background",className:"mt-md pt-md -mx-md px-md flex items-center justify-between border-t",children:[S&&l.jsxs("div",{className:"flex gap-4",children:[!E&&l.jsx(nc,{text:c(k?{defaultMessage:"Resume",id:"3y9DGgura7"}:{defaultMessage:"Pause",id:"tFFMkFDBMO"}),onClick:()=>g.mutate({id:b.current.id,payload:{status:k?"ACTIVE":"PAUSED"}},{onSuccess:()=>{const I=k?"resumed":"paused";u("task modal action",{source:i,action:I}),x(I,b.current.id)}}),disabled:y}),l.jsx(nc,{text:c({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:()=>v.mutate(b.current.id),disabled:y})]}),l.jsxs("div",{className:"ml-auto flex gap-4",children:[l.jsx(nc,{text:c({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:()=>t?.()}),l.jsx(nc,{text:c({defaultMessage:"Save",id:"jvo0vs3nF0"}),variant:"primary",disabled:y||!w.prompt||!A,onClick:R})]})]})]})})}const V5t=Object.freeze(Object.defineProperty({__proto__:null,FormButton:nc,default:C4e},Symbol.toStringTag,{value:"Module"})),S4e=T.memo(({onEdit:e})=>{const t=K(),n=Rt(),[r,s]=f.useState(!1),{isMobileStyle:a}=Oe(),{value:i,loading:o}=_1(),c=f.useMemo(()=>[{type:"default",text:t.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),onClick:e,testId:"task-widget-edit"},{type:"default",text:i?t.formatMessage({defaultMessage:"View Automations",id:"ykWUMgOBHX"}):t.formatMessage({defaultMessage:"View Tasks",id:"L3nFsHqlqm"}),rightElement:l.jsx("div",{className:"flex items-center",children:l.jsx(Wr,{size:16})}),onClick:()=>{n.push("/account/tasks")},testId:"task-widget-view-tasks"}],[t,e,i,n]),u=f.useCallback(()=>s(!1),[]),d=f.useCallback(()=>s(!0),[]);return o?null:l.jsx(bn,{placement:"bottom-start",items:c,onOpen:d,onClose:u,isMobileStyle:a,children:l.jsx(ze,{size:"tiny",icon:kDe,extraCSS:U("",{"!text-text !bg-offsetPlus":r})})})});S4e.displayName="TaskWidgetMenu";const G5t=()=>l.jsxs(hs,{className:"flex w-full items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-background-300 h-4 w-4 shrink-0 rounded"}),l.jsx("div",{className:"bg-background-300 h-4 w-32 rounded"})]}),l.jsx("div",{className:"bg-background-300 h-4 w-20 rounded"})]}),E4e=T.memo(({data:e})=>{const{$t:t}=K(),{suggested_prompt:n,suggested_schedule:r,widget_uuid:s}=e,a=f.useMemo(()=>({id:s,title:"",prompt:n,schedule:uT(r),searchModel:ge.PRO}),[n,r,s]),i=rr(),o=Vr(),c=f.useCallback(()=>{if(!i)throw new Error("handleOpenTaskFromSidecar can only be called in sidecar mode");o.openTab({url:`${window.location.origin}${xa.Tasks.href}`})},[i,o]),[u,d]=f.useState(!1),[h,m]=f.useState(null),[p,g]=f.useState(!1),v=f.useCallback(()=>{d(!0)},[]);f.useEffect(()=>{if(!h)return;const P=setTimeout(()=>{m(null)},2e3);return()=>clearTimeout(P)},[h]);const y=K(),{data:x,isLoading:b}=at({queryKey:uA(s),queryFn:()=>lI({taskId:s,reason:"task-widget"})}),w=f.useMemo(()=>{if(!x)return null;const P=uT(x.scheduleInfo);return{kind:D3t(P.kind,y),friendly:P3t(P,y),isRecurring:P.kind!=="ONCE"}},[x,y]),_=f.useMemo(()=>{if(!h)return null;const P=h==="created"?l.jsx(ce,{defaultMessage:"Task created",id:"991WgJt61N"}):h==="updated"?l.jsx(ce,{defaultMessage:"Task updated",id:"sQGGdcVjgL"}):h==="deleted"?l.jsx(ce,{defaultMessage:"Task deleted",id:"kGP3l1jr/4"}):h==="paused"?l.jsx(ce,{defaultMessage:"Task paused",id:"Ryhxeg2OIZ"}):l.jsx(ce,{defaultMessage:"Task resumed",id:"fqAqWnF85q"});return l.jsx(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:qn},children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(IFe,{className:"text-super",size:16}),l.jsx(j,{variant:"small",color:"super",className:"truncate",children:P})]})},"confirmed")},[h]),{value:C,loading:S}=_1(),k=f.useCallback(()=>{g(!1)},[]),E=f.useCallback(()=>g(!0),[]),M=f.useMemo(()=>t(C?{defaultMessage:"Automation",id:"Fn4YKyl4lm"}:{defaultMessage:"Task",id:"0wJ7N+noSq"}),[t,C]),N=f.useMemo(()=>l.jsx(Tr,{size:12}),[]),R=f.useCallback(()=>{d(!1),g(!1)},[]),A=f.useCallback(P=>{d(!1),g(!1),m(P)},[]);return S?null:l.jsx(To,{widgetType:"task",widgetName:"task",widgetSize:"mini",children:l.jsxs(l.Fragment,{children:[l.jsx(H,{variant:"offset",className:"p-md group relative flex h-14 items-center justify-between gap-2 rounded-lg",onMouseEnter:E,onMouseLeave:k,children:l.jsx(wt,{mode:"wait",children:b?l.jsx(G5t,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex min-w-0 shrink items-center gap-2",children:[l.jsx(xee,{size:16,className:"text-textOffLight dark:text-textOffLightDark shrink-0"}),l.jsx("div",{className:"flex w-full min-w-0 flex-col items-start",children:x?l.jsx(j,{variant:"small",color:"default",className:"w-full truncate",children:x.prompt}):l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"small",color:"default",className:"w-full truncate",children:n}),l.jsx(j,{variant:"tinyRegular",color:"light",className:"truncate",children:l.jsx(ce,{defaultMessage:"Create a task to get this sent automatically.",id:"1AmBIpC9N9"})})]})})]}),i?l.jsx(ze,{size:"tiny",icon:vd,onClick:c}):l.jsx(wt,{mode:"wait",children:_||(w?l.jsx("div",{className:"flex min-w-0 shrink-0 items-center gap-1.5",children:p&&x?l.jsx(S4e,{onEdit:v}):l.jsxs(l.Fragment,{children:[w.isRecurring&&l.jsx(hFe,{size:16,className:"shrink-0"}),l.jsx(j,{className:"truncate",variant:"small",children:w.kind}),l.jsx(j,{className:"truncate",variant:"small",color:"light",children:w.friendly})]})}):l.jsx(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:qn},children:l.jsx(ye,{text:M,leadingComponent:N,size:"small",onClick:v})},"default"))})]})})}),l.jsx(im,{children:l.jsx(C4e,{source:"task_widget",open:u,prefill:x?void 0:a,initial:x??void 0,onClose:R,onSuccess:A})})]})})});E4e.displayName="TaskWidget";const k4e=T.memo(e=>{const{data:t}=e,{menuItems:n}=A3();return l.jsx(To,{widgetType:"time",widgetName:"time",widgetSize:"full",children:l.jsxs(H,{className:"flex w-full",children:[l.jsx(j,{children:l.jsx(H,{className:"mr-md pr-md border-r font-mono text-4xl",children:t.time})}),l.jsxs("div",{children:[l.jsx(j,{variant:"smallBold",children:t.date}),l.jsx(j,{variant:"small",color:"light",children:t.location?`${t.location}`:null})]}),n&&n.length>0&&l.jsx("div",{className:"-mr-sm -mt-sm flex grow justify-end",children:l.jsx("div",{children:l.jsx(Xn.Menu,{menuItems:n})})})]})})});k4e.displayName="TimeWidget";var A6={},zG;function q5t(){return zG||(zG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="sun",r=512,s=512,a=[9728],i="f185",o="M375.7 19.7c-1.5-8-6.9-14.7-14.4-17.8s-16.1-2.2-22.8 2.4L256 61.1 173.5 4.2c-6.7-4.6-15.3-5.5-22.8-2.4s-12.9 9.8-14.4 17.8l-18.1 98.5L19.7 136.3c-8 1.5-14.7 6.9-17.8 14.4s-2.2 16.1 2.4 22.8L61.1 256 4.2 338.5c-4.6 6.7-5.5 15.3-2.4 22.8s9.8 13 17.8 14.4l98.5 18.1 18.1 98.5c1.5 8 6.9 14.7 14.4 17.8s16.1 2.2 22.8-2.4L256 450.9l82.5 56.9c6.7 4.6 15.3 5.5 22.8 2.4s12.9-9.8 14.4-17.8l18.1-98.5 98.5-18.1c8-1.5 14.7-6.9 17.8-14.4s2.2-16.1-2.4-22.8L450.9 256l56.9-82.5c4.6-6.7 5.5-15.3 2.4-22.8s-9.8-12.9-17.8-14.4l-98.5-18.1L375.7 19.7zM269.6 110l65.6-45.2 14.4 78.3c1.8 9.8 9.5 17.5 19.3 19.3l78.3 14.4L402 242.4c-5.7 8.2-5.7 19 0 27.2l45.2 65.6-78.3 14.4c-9.8 1.8-17.5 9.5-19.3 19.3l-14.4 78.3L269.6 402c-8.2-5.7-19-5.7-27.2 0l-65.6 45.2-14.4-78.3c-1.8-9.8-9.5-17.5-19.3-19.3L64.8 335.2 110 269.6c5.7-8.2 5.7-19 0-27.2L64.8 176.8l78.3-14.4c9.8-1.8 17.5-9.5 19.3-19.3l14.4-78.3L242.4 110c8.2 5.7 19 5.7 27.2 0zM256 368a112 112 0 1 0 0-224 112 112 0 1 0 0 224zM192 256a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faSun=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(A6)),A6}var ev=q5t();const lc=(e,t,n)=>{const r=document.createElement(e),[s,a]=Array.isArray(t)?[void 0,t]:[t,n];return s&&Object.assign(r,s),a?.forEach(i=>r.appendChild(i)),r},K5t=(e,t)=>{var n;return t==="left"?e.offsetLeft:(((n=e.offsetParent instanceof HTMLElement?e.offsetParent:null)==null?void 0:n.offsetWidth)??0)-e.offsetWidth-e.offsetLeft},Y5t=e=>e.offsetWidth>0&&e.offsetHeight>0,Q5t=(e,t)=>{customElements.get(e)!==t&&customElements.define(e,t)};function X5t(e,t,{reverse:n=!1}={}){const r=e.length;for(let s=n?r-1:0;n?s>=0:s<r;n?s--:s++)t(e[s],s)}function Z5t(e,t,n,r){const s=t.formatToParts(e);n&&s.unshift({type:"prefix",value:n}),r&&s.push({type:"suffix",value:r});const a=[],i=[],o=[],c=[],u={},d=v=>`${v}:${u[v]=(u[v]??-1)+1}`;let h="",m=!1,p=!1;for(const v of s){h+=v.value;const y=v.type==="minusSign"||v.type==="plusSign"?"sign":v.type;y==="integer"?(m=!0,i.push(...v.value.split("").map(x=>({type:y,value:parseInt(x)})))):y==="group"?i.push({type:y,value:v.value}):y==="decimal"?(p=!0,o.push({type:y,value:v.value,key:d(y)})):y==="fraction"?o.push(...v.value.split("").map(x=>({type:y,value:parseInt(x),key:d(y),pos:-1-u[y]}))):(m||p?c:a).push({type:y,value:v.value,key:d(y)})}const g=[];for(let v=i.length-1;v>=0;v--){const y=i[v];g.unshift(y.type==="integer"?{...y,key:d(y.type),pos:u[y.type]}:{...y,key:d(y.type)})}return{pre:a,integer:g,fraction:o,post:c,valueAsString:h,value:typeof e=="string"?parseFloat(e):e}}const J5t=String.raw,eCt=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),tCt=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),VG=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,Mb="--_number-flow-d-opacity",cI="--_number-flow-d-width",Tb="--_number-flow-dx",uI="--_number-flow-d",nCt=(()=>{try{return CSS.registerProperty({name:Mb,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:Tb,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:cI,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:uI,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),rCt="var(--number-flow-char-height, 1em)",Hl="var(--number-flow-mask-height, 0.25em)",GG=`calc(${Hl} / 2)`,mT="var(--number-flow-mask-width, 0.5em)",tu=`calc(${mT} / var(--scale-x))`,Oy="#000 0, transparent 71%",qG=J5t`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${rCt} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${cI}) / var(--width));transform:translateX(var(${Tb})) scaleX(var(--scale-x));margin:0 calc(-1 * ${mT});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${tu},#000 calc(100% - ${tu}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${Hl},#000 calc(100% - ${Hl}),transparent 100% ),radial-gradient(at bottom right,${Oy}),radial-gradient(at bottom left,${Oy}),radial-gradient(at top left,${Oy}),radial-gradient(at top right,${Oy});-webkit-mask-size:100% calc(100% - ${Hl} * 2),calc(100% - ${tu} * 2) 100%,${tu} ${Hl},${tu} ${Hl},${tu} ${Hl},${tu} ${Hl};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${GG} ${mT};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${Tb})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${uI})}.digit__num,.number .section::after{padding:${GG} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${Mb}))}`,sCt=HTMLElement,aCt=tCt&&eCt&&nCt;let Ly,M4e=class extends sCt{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...n}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,n)}get animated(){return this._animated}set animated(t){var n;this.animated!==t&&(this._animated=t,(n=this.shadowRoot)==null||n.getAnimations().forEach(r=>r.finish()))}set data(t){var n;if(t==null)return;const{pre:r,integer:s,fraction:a,post:i,value:o}=t;if(this.created){const c=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(c.value,o):this.trend,this.computedAnimated=aCt&&this._animated&&(!this.respectMotionPreference||!(VG!=null&&VG.matches))&&Y5t(this),(n=this.plugins)==null||n.forEach(u=>{var d;return(d=u.onUpdate)==null?void 0:d.call(u,t,c,this)}),this.batched||this.willUpdate(),this._pre.update(r),this._num.update({integer:s,fraction:a}),this._post.update(i),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)Ly||(Ly=new CSSStyleSheet,Ly.replaceSync(qG)),this.shadowRoot.adoptedStyleSheets=[Ly];else{const c=document.createElement("style");c.textContent=qG,this.shadowRoot.appendChild(c)}this._pre=new YG(this,r,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new iCt(this,s,a),this.shadowRoot.appendChild(this._num.el),this._post=new YG(this,i,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(n=>n.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}};M4e.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),respectMotionPreference:!0,plugins:void 0,digits:void 0};let iCt=class{constructor(t,n,r,{className:s,...a}={}){this.flow=t,this._integer=new KG(t,n,{justify:"right",part:"integer"}),this._fraction=new KG(t,r,{justify:"left",part:"fraction"}),this._inner=lc("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=lc("span",{...a,part:"number",className:`number ${s??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:n}){this._integer.update(t),this._fraction.update(n)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const n=this._prevLeft-t.left,r=this.el.offsetWidth,s=this._prevWidth-r;this.el.style.setProperty("--width",String(r)),this.el.animate({[Tb]:[`${n}px`,"0px"],[cI]:[s,0]},{...this.flow.transformTiming,composite:"accumulate"})}},T4e=class{constructor(t,n,{justify:r,className:s,...a},i){this.flow=t,this.children=new Map,this.onCharRemove=c=>()=>{this.children.delete(c)},this.justify=r;const o=n.map(c=>this.addChar(c).el);this.el=lc("span",{...a,className:`section section--justify-${r} ${s??""}`},i?i(o):o)}addChar(t,{startDigitsAtZero:n=!1,...r}={}){const s=t.type==="integer"||t.type==="fraction"?new R4e(this,t.type,n?0:t.value,t.pos,{...r,onRemove:this.onCharRemove(t.key)}):new oCt(this,t.type,t.value,{...r,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,s),s}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(n=>{n.el.style.top=`${n.el.offsetTop}px`,n.el.style[this.justify]=`${K5t(n.el,this.justify)}px`}),t.forEach(n=>{n.el.setAttribute("inert",""),n.present=!1})}addNewAndUpdateExisting(t){const n=new Map,r=new Map,s=this.justify==="left",a=s?"prepend":"append";if(X5t(t,i=>{let o;this.children.has(i.key)?(o=this.children.get(i.key),r.set(i,o),this.unpop(o),o.present=!0):(o=this.addChar(i,{startDigitsAtZero:!0,animateIn:!0}),n.set(i,o)),this.el[a](o.el)},{reverse:s}),this.flow.computedAnimated){const i=this.el.getBoundingClientRect();n.forEach(o=>{o.willUpdate(i)})}n.forEach((i,o)=>{i.update(o.value)}),r.forEach((i,o)=>{i.update(o.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(n=>n.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(s=>s.didUpdate(t));const n=t[this.justify],r=this._prevOffset-n;r&&this.children.size&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}},KG=class extends T4e{update(t){const n=new Map;this.children.forEach((r,s)=>{t.find(a=>a.key===s)||n.set(s,r),this.unpop(r)}),this.addNewAndUpdateExisting(t),n.forEach(r=>{r instanceof R4e&&r.update(0)}),this.pop(n)}},YG=class extends T4e{update(t){const n=new Map;this.children.forEach((r,s)=>{t.find(a=>a.key===s)||n.set(s,r)}),this.pop(n),this.addNewAndUpdateExisting(t)}},pT=class{constructor(t,n,{onRemove:r,animateIn:s=!1}={}){this.flow=t,this.el=n,this._present=!0,this._remove=()=>{var a;this.el.remove(),(a=this._onRemove)==null||a.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&s&&this.el.animate({[Mb]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=r}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[Mb]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}},N4e=class extends pT{constructor(t,n,r,s){super(t.flow,r,s),this.section=t,this.value=n,this.el=r}},R4e=class extends N4e{constructor(t,n,r,s,a){var i,o;const c=(((o=(i=t.flow.digits)==null?void 0:i[s])==null?void 0:o.max)??9)+1,u=Array.from({length:c}).map((h,m)=>{const p=lc("span",{className:"digit__num"},[document.createTextNode(String(m))]);return m!==r&&p.setAttribute("inert",""),p.style.setProperty("--n",String(m)),p}),d=lc("span",{part:`digit ${n}-digit`,className:"digit"},u);d.style.setProperty("--current",String(r)),d.style.setProperty("--length",String(c)),super(t,r,d,a),this.pos=s,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=u,this.length=c}willUpdate(t){const n=this.el.getBoundingClientRect();this._prevValue=this.value;const r=n[this.section.justify]-t[this.section.justify],s=n.width/2;this._prevCenter=this.section.justify==="left"?r+s:r-s}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((n,r)=>r===t?n.removeAttribute("inert"):n.setAttribute("inert","")),this.value=t}didUpdate(t){const n=this.el.getBoundingClientRect(),r=n[this.section.justify]-t[this.section.justify],s=n.width/2,a=this.section.justify==="left"?r+s:r-s,i=this._prevCenter-a;i&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const o=this.getDelta();o&&(this.el.classList.add("is-spinning"),this.el.animate({[uI]:[-o,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const s of this.flow.plugins){const a=(t=s.getDelta)==null?void 0:t.call(s,this.value,this._prevValue,this);if(a!=null)return a}const n=this.value-this._prevValue,r=this.flow.computedTrend||Math.sign(n);return r<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:r>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:n}},oCt=class extends N4e{constructor(t,n,r,s){const a=lc("span",{className:"symbol__value",textContent:r});super(t,r,lc("span",{part:`symbol ${n}`,className:"symbol"},[a]),s),this.type=n,this._children=new Map,this._onChildRemove=i=>()=>{this._children.delete(i)},this._children.set(r,new pT(this.flow,a,{onRemove:this._onChildRemove(r)}))}willUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect();this._prevOffset=n[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const n=this._children.get(this.value);n&&(n.present=!1);const r=this._children.get(t);if(r)r.present=!0;else{const s=lc("span",{className:"symbol__value",textContent:t});this.el.appendChild(s),this._children.set(t,new pT(this.flow,s,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],r=this._prevOffset-n;r&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}};const lCt=parseInt(f.version.match(/^(\d+)\./)?.[1]),dI=lCt>=19,cCt=["data","digits"];class fI extends M4e{attributeChangedCallback(t,n,r){this[t]=JSON.parse(r)}}fI.observedAttributes=dI?[]:cCt;Q5t("number-flow-react",fI);const uCt={},QG=dI?e=>e:JSON.stringify;function XG(e){const{transformTiming:t,spinTiming:n,opacityTiming:r,animated:s,respectMotionPreference:a,trend:i,plugins:o,...c}=e;return[{transformTiming:t,spinTiming:n,opacityTiming:r,animated:s,respectMotionPreference:a,trend:i,plugins:o},c]}class dCt extends f.Component{updateProperties(t){if(!this.el)return;this.el.batched=!this.props.isolate;const[n]=XG(this.props);Object.entries(n).forEach(([r,s])=>{this.el[r]=s??fI.defaultProps[r]}),t?.onAnimationsStart&&this.el.removeEventListener("animationsstart",t.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),t?.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",t.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),dI&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(t){if(this.updateProperties(t),t.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>this.props.group?.didUpdate();if(!this.props.isolate)return this.el?.willUpdate(),()=>this.el?.didUpdate()}return null}componentDidUpdate(t,n,r){r?.()}handleRef(t){this.props.innerRef&&(this.props.innerRef.current=t),this.el=t}render(){const[t,{innerRef:n,className:r,data:s,willChange:a,isolate:i,group:o,digits:c,onAnimationsStart:u,onAnimationsFinish:d,...h}]=XG(this.props);return f.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":a?"":void 0,class:r,...h,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:QG(c),data:QG(s)})}constructor(t){super(t),this.handleRef=this.handleRef.bind(this)}}const pg=f.forwardRef(function({value:t,locales:n,format:r,prefix:s,suffix:a,...i},o){f.useImperativeHandle(o,()=>c.current,[]);const c=f.useRef(),u=f.useContext(fCt);u?.useRegister(c);const d=f.useMemo(()=>n?JSON.stringify(n):"",[n]),h=f.useMemo(()=>r?JSON.stringify(r):"",[r]),m=f.useMemo(()=>{const p=uCt[`${d}:${h}`]??=new Intl.NumberFormat(n,r);return Z5t(t,p,s,a)},[t,d,h,s,a]);return f.createElement(dCt,{...i,group:u,data:m,innerRef:c})}),fCt=f.createContext(void 0);function A4e(){const[e,t]=f.useState(!1),n=zw(),r=f.useCallback(s=>{Ot(YU,s.toString()),t(s)},[t]);return f.useEffect(()=>{const s=en(YU);t(s==="true"||s===void 0&&n!=="US")},[n]),f.useMemo(()=>({prefersMetric:e,setPrefersMetric:r}),[e,r])}function L_(e,t){return Array.isArray(e)?e.includes(t):t?t in e:!1}const j4e=T.memo(({day:e,icon:t,high:n,low:r,selected:s})=>l.jsxs("div",{className:"relative col-span-1",children:[s&&l.jsx("div",{className:"-inset-sm right-md absolute",children:l.jsx("div",{className:"absolute inset-0 rounded-md bg-white opacity-10"})}),l.jsxs("div",{className:"relative flex flex-col items-start",children:[l.jsx(j,{color:"white",children:l.jsx(gt,{icon:t,className:"text-xl"})}),l.jsx(j,{variant:"smallBold",color:"white",children:e}),l.jsxs("div",{className:"mt-xs gap-x-xs flex",children:[l.jsx(j,{variant:"smallCaps",color:"white",className:"gap-x-two flex",children:l.jsxs("span",{className:"",children:[n,"°"]})}),l.jsx(j,{variant:"smallCaps",color:"white",className:"gap-x-two flex opacity-75",children:l.jsxs("span",{className:"",children:[r,"°"]})})]})]})]}));j4e.displayName="ForecastItem";const ZG=e=>e.time,JG=e=>e.temp,hCt="white",eq="white",j6="rgba(255, 255, 255, 0.5)",tq="rgba(255, 255, 255, 0.3)",nq="font-mono text-[11px]",dp={top:30,right:0,bottom:5,left:0},mCt=100,pCt=35,gCt=40,hI=130,P4e=T.memo(({forecast:e,activeDay:t,isMetric:n})=>{const{locale:r}=K(),s=f.useMemo(()=>e.map(S=>S?.hour?.map(k=>({time:new Date(k.time),temp:n?k.temp_c:k.temp_f}))),[e,n]),a=f.useMemo(()=>Qo(s.flat(),JG),[s]),i=f.useMemo(()=>s[t],[t,s]),o=f.useRef(null),{width:c,height:u}=i3e(o),d=c/mCt,{xRange:h,yRange:m}=$1({width:c,height:u,margin:dp,maxYLabelWidth:pCt}),p=f.useMemo(()=>F1({range:h,domain:Qo(i,ZG),round:!0}),[i,h]),g=u/gCt,v=f.useMemo(()=>Eh({range:m,domain:a,nice:!0,round:!0}),[m,a]),y=f.useMemo(()=>Nd().x(S=>p(ZG(S))).y(S=>v(JG(S))).curve(gvt),[p,v]),x=f.useMemo(()=>y(i),[y,i]),b=f.useCallback(S=>`${S}°`,[]),w=f.useCallback(S=>typeof S=="number"?S.toString():S.toLocaleString(r,{hour:"numeric",minute:"numeric",hour12:!0}).replace(":00",""),[r]),_=f.useCallback((S,k,E)=>({className:nq,fill:eq,dx:k===0?"-0.3em":k===E.length-1?"0.3em":"0",dy:"0.3em",textAnchor:k===0?"start":k===E.length-1?"end":"middle"}),[]),C=f.useMemo(()=>({className:nq,textAnchor:"start",dx:"0.75em",dy:"-0.5em",fill:eq}),[]);return l.jsx("div",{className:"relative",ref:o,style:{height:hI},children:l.jsxs(W1,{width:c,height:u,children:[l.jsx(mb,{orientation:xs.bottom,scale:p,top:u,stroke:j6,hideAxisLine:!0,numTicks:d,tickStroke:tq,tickLabelProps:_,tickFormat:w}),l.jsx(mb,{orientation:xs.left,left:dp.left,hideAxisLine:!0,tickFormat:b,scale:v,stroke:j6,tickStroke:tq,hideTicks:!0,tickLabelProps:C,numTicks:g}),l.jsx(U1,{left:dp.left,scale:v,width:c-dp.right-dp.left*2,strokeDasharray:"2,2",stroke:j6,pointerEvents:"none",numTicks:g}),l.jsx("path",{d:x,stroke:hCt,strokeWidth:2,fill:"none",strokeLinecap:"round",shapeRendering:"geometricPrecision"})]})})});P4e.displayName="HourlyTemperature";const vCt=Object.freeze(Object.defineProperty({__proto__:null,HOURLY_TEMPERATURE_HEIGHT:hI,HourlyTemperature:P4e},Symbol.toStringTag,{value:"Module"}));var P6={},rq;function yCt(){return rq||(rq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-bolt",r=512,s=512,a=[127785,"thunderstorm"],i="f76c",o="M184 48c-39.8 0-72 32.2-72 72c0 2.6 .1 5.2 .4 7.7c1.3 12-6.6 23.1-18.3 25.9C67.6 159.9 48 183.7 48 212c0 32.2 25.3 58.4 57.1 59.9c.3 0 .7 0 1 .1l1.9 0 95.2 0-60 48L108 320l-4 0c-1.2 0-2.4-.1-3.5-.3C44.3 315.9 0 269.1 0 212c0-44.1 26.4-81.9 64.2-98.7C67.7 50.1 120 0 184 0c33.9 0 64.5 14.1 86.3 36.6C285.1 28.6 302 24 320 24c46.9 0 86.5 31 99.5 73.7C472.1 106.9 512 152.8 512 208c0 61.9-50.1 112-112 112l-48 0-18.3 0 24-48 42.3 0c35.3 0 64-28.7 64-64s-28.6-64-64-64c0 0 0 0 0 0l-.3 0c-12.4 0-22.7-9.3-23.9-21.6C372.9 94.1 349 72 320 72c-14.7 0-28.1 5.7-38.1 15c-5.3 4.9-12.4 7.2-19.5 6.2s-13.4-5-17.2-11.1C232.5 61.6 209.8 48 184 48zM330.1 227.6c5.8 4.7 7.6 12.9 4.3 19.6L281.9 352l70.1 0c6.8 0 12.8 4.3 15.1 10.7s.2 13.5-5.1 17.8l-160 128c-5.9 4.7-14.2 4.7-20.1-.1s-7.6-12.9-4.3-19.6L230.1 384 160 384c-6.8 0-12.8-4.3-15.1-10.7s-.2-13.5 5.1-17.8l160-128c5.9-4.7 14.2-4.7 20.1 .1z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudBolt=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(P6)),P6}var sq=yCt(),I6={},aq;function xCt(){return aq||(aq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-bolt-moon",r=576,s=512,a=["thunderstorm-moon"],i="f76d",o="M361.4 79.9c31.2 18.7 52.5 52.2 54.3 90.8c33.3 15.8 57.6 47.5 63 85.3c.8 0 1.6 0 2.4 0c34.9 0 66.7-13.8 89.9-36.1c5.1-4.9 6.4-12.5 3.2-18.7s-10.1-9.7-17-8.6c-4.9 .8-10 1.3-15.2 1.3c-49 0-88.4-39.3-88.4-87.4c0-32.6 18-61.1 44.9-76.1c6.1-3.4 9.3-10.5 7.8-17.4s-7.3-12-14.3-12.6c-3.6-.3-7.3-.5-10.9-.5C427.1 0 380.6 33 361.4 79.9zM128.1 160c0-26.5 21.5-48 48-48c22.8 0 41.9 15.9 46.8 37.2c2.1 8.9 9 15.9 18 18s18.3-1.2 24.1-8.3c7.4-9.1 18.6-14.9 31.1-14.9c20.3 0 37.2 15.2 39.7 34.8c.1 .6 .2 1.2 .3 1.7l0 1.1c0 .3 0 .6 0 .9c0 .5 0 1 0 1.5s0 1 0 1.5c0 .3 0 .6 0 .9l0 30.2c0 7 3 13.6 8.3 18.1s12.2 6.6 19.1 5.6c1.5-.2 3-.3 4.6-.3c17.7 0 32 14.3 32 32s-14.3 32-32 32c-.4 0-.9 0-1.3 0c-.3 0-.6 0-1 0l-72.1 0-8 16.1 18.3 0c20.3 0 38.4 12.8 45.2 31.9l16.1 0c.9 0 1.8 0 2.7 0c44.2 0 80-35.8 80-80c0-38.7-27.5-71-64-78.4l0-6.9c0-.9 0-1.8 0-2.7s0-1.8 0-2.7l0-5.3c0-2.9-.5-5.7-1.5-8.3C374.9 126.9 339.1 96 296.1 96c-14.7 0-28.5 3.6-40.6 9.9C238.1 80.6 209.1 64 176.1 64c-52.6 0-95.4 42.4-96 94.8l-.2 2.5C34.6 169 .1 208.5 .1 256c0 43.4 28.8 80 68.3 91.9c3.1-6.6 7.6-12.6 13.6-17.4l33.3-26.6-16.4 0c-.3 0-.6 0-.9 0c-.6 0-1.2 0-1.9 0c-26.5 0-48-21.5-48-48s21.5-48 48-48c1.4 0 2.7 .1 4 .2c13.2 1.1 24.8-8.7 25.9-21.9l2-23.8c.1-.8 .1-1.6 .1-2.5zm154 67.6c-5.8-4.7-14.2-4.7-20.1-.1l-160 128c-5.3 4.2-7.4 11.4-5.1 17.8s8.3 10.7 15.1 10.7l70.1 0L129.7 488.8c-3.4 6.7-1.6 14.9 4.3 19.6s14.2 4.7 20.1 .1l160-128c5.3-4.2 7.4-11.4 5.1-17.8s-8.3-10.7-15.1-10.7l-70.1 0 52.4-104.8c3.4-6.7 1.6-14.9-4.3-19.6z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudBoltMoon=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(I6)),I6}var bCt=xCt(),O6={},iq;function wCt(){return iq||(iq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-bolt-sun",r=640,s=512,a=["thunderstorm-sun"],i="f76e",o="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l10.4 62.4c-23.3 10.8-42.9 28.4-56 50.3c-14.6-9-31.8-14.1-50.2-14.1c-53 0-96 43-96 96c0 35.5 19.3 66.6 48 83.2c.8 31.8 13.2 60.7 33.1 82.7l-56 39.2c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM208 144c13.8 0 26.7 4.4 37.1 11.9c-1.2 4.1-2.2 8.3-3 12.6c-37.9 14.6-67.2 46.6-77.8 86.4C151.8 243.1 144 226.5 144 208c0-35.3 28.7-64 64-64zm112.1 48c0 .8 0 1.7-.1 2.5l-2 23.8c-1.1 13.2-12.7 23-25.9 21.9c-1.3-.1-2.6-.2-4-.2c-26.5 0-48 21.5-48 48c0 20.6 12.9 38.1 31.1 44.9c-12.6 11.7-17.9 29.3-14 46c-37.9-12.9-65.1-48.7-65.1-90.9c0-47.5 34.5-86.9 79.8-94.6l.2-2.5c.6-52.5 43.4-94.8 96-94.8c33 0 62 16.6 79.3 41.9c12.2-6.3 26-9.9 40.6-9.9c43 0 78.8 30.9 86.5 71.7c1 2.6 1.5 5.4 1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c36.5 7.4 64 39.7 64 78.4c0 44.2-35.8 80-80 80c-.9 0-1.8 0-2.7 0l-16.1 0c3.5-10.1 3.7-21.3 0-31.8c-2.1-6.1-5.4-11.6-9.6-16.2l26.1 0c.3 0 .6 0 1 0c.4 0 .9 0 1.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32c-1.6 0-3.1 .1-4.6 .3c-6.9 1-13.9-1.1-19.1-5.6s-8.3-11.2-8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c-.1-.6-.2-1.1-.3-1.7c-2.5-19.6-19.3-34.8-39.7-34.8c-12.6 0-23.8 5.8-31.1 14.9c-.6 .7-1.1 1.3-1.8 1.9c-6.1 1.1-12 3.5-17.4 7c-1.6 0-3.3-.2-4.9-.6c-8.9-2.1-15.9-9.1-18-18c-4.9-21.3-24-37.2-46.8-37.2c-26.5 0-48 21.5-48 48zm154 35.6c5.8 4.7 7.6 12.9 4.2 19.6L425.9 352l70.1 0c6.8 0 12.9 4.3 15.1 10.7s.2 13.5-5.1 17.8l-160 128c-5.9 4.7-14.2 4.7-20.1-.1s-7.6-12.9-4.3-19.6L374.1 384 304 384c-6.8 0-12.8-4.3-15.1-10.7s-.2-13.5 5.1-17.8l160-128c5.9-4.7 14.2-4.7 20.1 .1z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudBoltSun=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(O6)),O6}var _Ct=wCt(),L6={},oq;function CCt(){return oq||(oq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-drizzle",r=512,s=512,a=[],i="f738",o="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM88 376c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48zm96 64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48zm168-24c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48c0-13.3-10.7-24-24-24zm-72-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48zm168-24c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48c0-13.3-10.7-24-24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudDrizzle=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(L6)),L6}var SCt=CCt(),D6={},lq;function ECt(){return lq||(lq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-fog",r=640,s=512,a=[127787,"fog"],i="f74e",o="M176 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C137.3 270.4 112 244.2 112 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM248 0C184 0 131.7 50.1 128.2 113.3C90.4 130.1 64 167.9 64 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C470.5 55 430.9 24 384 24c-18 0-34.9 4.6-49.7 12.6C312.5 14.1 281.9 0 248 0zM0 392c0 13.3 10.7 24 24 24l528 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L24 368c-13.3 0-24 10.7-24 24zm64 96c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 464c-13.3 0-24 10.7-24 24zm208 0c0 13.3 10.7 24 24 24l320 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-320 0c-13.3 0-24 10.7-24 24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudFog=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(D6)),D6}var kCt=ECt(),F6={},cq;function MCt(){return cq||(cq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-hail",r=512,s=512,a=[],i="f739",o="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM160 384a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm128 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM96 480a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm160-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudHail=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(F6)),F6}var TCt=MCt(),U6={},uq;function NCt(){return uq||(uq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-moon-rain",r=576,s=512,a=[],i="f73c",o="M353.7 107.6c35.4 17.6 60.2 53.3 62.1 95.1c23.2 11 42 29.7 53.1 52.7c4 .4 8.1 .6 12.3 .6c34.9 0 66.7-13.8 89.9-36.1c5.1-4.9 6.4-12.5 3.2-18.7s-10.1-9.7-17-8.6c-4.9 .8-10 1.3-15.2 1.3c-49 0-88.4-39.3-88.4-87.4c0-32.6 18-61.1 44.9-76.1c6.1-3.4 9.3-10.5 7.8-17.4s-7.3-12-14.3-12.6c-3.6-.3-7.3-.5-10.9-.5C417 0 363.5 46.5 353.7 107.6zM85.4 420.1c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zm96 0c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zm96 0c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zm96 0c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zM128.1 192c0-26.5 21.5-48 48-48c22.8 0 41.9 15.9 46.8 37.2c2.1 8.9 9 15.9 18 18s18.3-1.2 24.1-8.3c7.4-9.1 18.6-14.9 31.1-14.9c20.3 0 37.2 15.2 39.7 34.8c.1 .6 .2 1.2 .3 1.7l0 1.1c0 .3 0 .6 0 .9c0 .5 0 1 0 1.5s0 1 0 1.5c0 .3 0 .6 0 .9l0 30.2c0 7 3 13.6 8.3 18.1s12.2 6.6 19.1 5.6c1.5-.2 3-.3 4.6-.3c17.7 0 32 14.3 32 32s-14.3 32-32 32c-.4 0-.9 0-1.3 0c-.2 0-.4 0-.6 0c-.1 0-.2 0-.4 0l-266.9 0c-.3 0-.6 0-.9 0c-.6 0-1.2 0-1.9 0c-26.5 0-48-21.5-48-48s21.5-48 48-48c1.4 0 2.7 .1 4 .2c13.2 1.1 24.8-8.7 25.9-21.9l2-23.8c.1-.8 .1-1.6 .1-2.5zm48-96c-52.6 0-95.4 42.4-96 94.8l-.2 2.5C34.6 201 .1 240.5 .1 288c0 53 43 96 96 96c1.1 0 2.2 0 3.2-.1l266 0c.9 0 1.8 0 2.7 0c44.2 0 80-35.8 80-80c0-38.7-27.5-71-64-78.4l0-6.9c0-.9 0-1.8 0-2.7s0-1.8 0-2.7l0-5.3c0-2.9-.5-5.7-1.5-8.3c-7.7-40.8-43.4-71.7-86.5-71.7c-14.7 0-28.5 3.6-40.6 9.9C238.1 112.6 209.1 96 176.1 96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudMoonRain=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(U6)),U6}var RCt=NCt(),B6={},dq;function ACt(){return dq||(dq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clouds",r=640,s=512,a=[],i="f744",o="M272 112c0 .7 0 1.4 0 2c-.3 10.3 6 19.7 15.6 23.2s20.5 .6 27-7.4c8.8-10.9 22.3-17.9 37.4-17.9c26.5 0 48 21.5 48 48c0 8.7-2.3 16.8-6.3 23.8c3.6 2.3 7.1 4.8 10.6 7.4c12.8-4.4 26.5-6.8 40.7-7.2c2-7.7 3-15.7 3-24c0-53-43-96-96-96c-14 0-27.2 3-39.2 8.4C296.8 30.1 255.9 0 208 0C151.6 0 104.9 41.7 97.1 96L96 96C43 96 0 139 0 192s43 96 96 96l65.9 0c2.7-17.1 8.3-33.3 16.2-48L96 240c-26.5 0-48-21.5-48-48s21.5-48 48-48c5.9 0 11.4 1 16.6 2.9c7.9 2.9 16.8 1.5 23.4-3.8s9.9-13.7 8.7-22c-.4-2.9-.6-6-.6-9.1c0-35.3 28.7-64 64-64s64 28.7 64 64zM240 312c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C201.3 462.4 176 436.2 176 404c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zm72-120c-64 0-116.3 50.1-119.8 113.3C154.4 322.1 128 359.9 128 404c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C534.5 247 494.9 216 448 216c-18 0-34.9 4.6-49.7 12.6C376.5 206.1 345.9 192 312 192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faClouds=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(B6)),B6}var jCt=ACt(),$6={},fq;function PCt(){return fq||(fq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-showers",r=512,s=512,a=[],i="f73f",o="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM112 352c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80c0-13.3-10.7-24-24-24zm192 0c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80c0-13.3-10.7-24-24-24zm-72 56c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80zm168-24c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80c0-13.3-10.7-24-24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudShowers=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}($6)),$6}var ICt=PCt(),H6={},hq;function OCt(){return hq||(hq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-showers-heavy",r=512,s=512,a=[],i="f740",o="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM81.5 353.9c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zm120 0c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zm244.6 31.5c5.2-12.2-.4-26.3-12.6-31.5s-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112zM313.5 353.9c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudShowersHeavy=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(H6)),H6}var LCt=OCt(),W6={},mq;function DCt(){return mq||(mq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-sleet",r=512,s=512,a=[],i="f741",o="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM81.5 353.9c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zm272 0c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zM216 376c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16zm256 0c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudSleet=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(W6)),W6}var FCt=DCt(),z6={},pq;function UCt(){return pq||(pq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clouds-moon",r=640,s=512,a=[],i="f745",o="M352 160c0 11.5 1.2 22.7 3.5 33.4c53.7 8.2 96.5 49.8 106.4 103c14.2 5.5 27.2 13.4 38.5 23.2c3.7 .3 7.4 .4 11.2 .4c43.2 0 82.5-17.3 111.2-45.3c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-6.5 1.1-13.2 1.7-20 1.7c-64.3 0-116.5-52.3-116.5-116.9c0-43.7 23.9-81.8 59.3-101.9c6.1-3.5 9.2-10.5 7.7-17.3S532 1.2 525.1 .6c-4.5-.4-9-.6-13.5-.6C423.4 0 352 71.7 352 160zM335.8 272c26.5 0 48 21.5 48 48c0 .8 0 1.7 .1 2.5l2 23.8c1.1 13.2 12.7 23 25.9 21.9c1.3-.1 2.6-.2 4-.2c26.5 0 48 21.5 48 48s-21.5 48-48 48c-.6 0-1.3 0-1.9 0c-.3 0-.6 0-.9 0l-266.9 0c-.3 0-.6 0-1 0c-.4 0-.9 0-1.3 0c-17.7 0-32-14.3-32-32s14.3-32 32-32c1.6 0 3.1 .1 4.6 .3c6.9 1 13.9-1.1 19.1-5.6s8.3-11.2 8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c.1-.6 .2-1.1 .3-1.7c2.5-19.6 19.3-34.8 39.7-34.8c12.6 0 23.8 5.8 31.1 14.9c5.8 7.1 15.1 10.4 24.1 8.3s15.9-9.1 18-18c4.9-21.3 24-37.2 46.8-37.2zm96 46.8c-.6-52.5-43.4-94.8-96-94.8c-33 0-62 16.6-79.3 41.9c-12.2-6.3-26-9.9-40.6-9.9c-43 0-78.8 30.9-86.5 71.7c-1 2.6-1.5 5.4-1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c-36.5 7.4-64 39.7-64 78.4c0 44.2 35.8 80 80 80c.9 0 1.8 0 2.7 0l266 0c1.1 0 2.1 .1 3.2 .1c53 0 96-43 96-96c0-47.5-34.5-86.9-79.8-94.6l-.2-2.5zM320 192.1s0 0 0 0c0-35.3-28.6-64-64-64c-7.4 0-14.6 1.3-21.2 3.6c-11.5-30.1-40.6-51.6-74.8-51.6c-38.9 0-71.3 27.8-78.5 64.6c-3.1-.4-6.3-.6-9.5-.6c-39.8 0-72 32.2-72 72s32.2 72 72 72c0 0 0 0 0 0l34.8 0c9.4-19.9 24.6-36.6 43.4-48l-76.4 0c-.6 0-1.2 0-1.7 0c-13.2 0-24-10.7-24-24s10.7-24 24-24c1.1 0 2.2 .1 3.2 .2c25.1 3.3 48.5-13.5 53.4-38.4c2.9-14.7 15.9-25.8 31.4-25.8c13.6 0 25.3 8.5 29.9 20.6c9.2 24.3 36.2 36.9 60.8 28.2c1.6-.6 3.4-.9 5.3-.9c8.8 0 16 7.2 16 16l0 .9c-.1 6.6-1.6 12.9-4.1 18.6c15.5-9.7 33.2-16.3 52.1-18.7l0-.9z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudsMoon=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(z6)),z6}var gq=UCt(),V6={},vq;function BCt(){return vq||(vq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-snow",r=512,s=512,a=[127784],i="f742",o="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM64 352c-13.3 0-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16c0-13.3-10.7-24-24-24zm192 32c-13.3 0-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16c0-13.3-10.7-24-24-24zm216-8c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudSnow=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(V6)),V6}var $Ct=BCt(),G6={},yq;function HCt(){return yq||(yq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clouds-sun",r=640,s=512,a=[],i="f746",o="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l14.1 84.7 30.7 5.1c-26.4 10.6-47 32.6-55.7 59.9C276.8 132.7 244.8 112 208 112c-53 0-96 43-96 96s43 96 96 96c8.1 0 15.9-1 23.4-2.9c-36.6 18.1-63.3 53.1-69.8 94.9l-24.4 17c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM144 208a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zm409.8 32.1l12.4 0c.6 0 1.2 0 1.8 0c13.2 0 24-10.7 24-24s-10.7-24-24-24c-1.1 0-2.2 .1-3.2 .2c-25.1 3.3-48.5-13.5-53.4-38.4c-2.9-14.7-15.9-25.8-31.4-25.8c-13.6 0-25.3 8.5-29.9 20.6c-9.2 24.3-36.2 36.9-60.8 28.2c-1.6-.6-3.4-.9-5.3-.9c-8.8 0-15.9 7.1-16 15.9l-.1 0c-16.7 0-32.6 3.2-47.3 9c-.4-2.9-.6-5.9-.6-8.9c0-35.3 28.6-64 64-64c7.4 0 14.6 1.3 21.2 3.6c11.5-30.1 40.6-51.6 74.8-51.6c38.9 0 71.3 27.8 78.5 64.6c3.1-.4 6.3-.6 9.5-.6c39.8 0 72 32.2 72 72c0 30.4-18.8 56.3-45.4 66.9c-9.5-17.7-23.6-32.5-40.8-42.9zM320.1 320c0 .8 0 1.7-.1 2.5l-2 23.8c-1.1 13.2-12.7 23-25.9 21.9c-1.3-.1-2.6-.2-4-.2c-26.5 0-48 21.5-48 48s21.5 48 48 48c.6 0 1.3 0 1.9 0c.3 0 .6 0 .9 0l266.9 0c.3 0 .6 0 1 0c.4 0 .9 0 1.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32c-1.6 0-3.1 .1-4.6 .3c-6.9 1-13.9-1.1-19.1-5.6s-8.3-11.2-8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c-.1-.6-.2-1.1-.3-1.7c-2.5-19.6-19.3-34.8-39.7-34.8c-12.6 0-23.8 5.8-31.1 14.9c-5.8 7.1-15.1 10.4-24.1 8.3s-15.9-9.1-18-18c-4.9-21.3-24-37.2-46.8-37.2c-26.5 0-48 21.5-48 48zm48-96c33 0 62 16.6 79.3 41.9c12.2-6.3 26-9.9 40.6-9.9c43 0 78.8 30.9 86.5 71.7c1 2.6 1.5 5.4 1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c36.5 7.4 64 39.7 64 78.4c0 44.2-35.8 80-80 80c-.9 0-1.8 0-2.7 0l-266 0c-1.1 0-2.1 .1-3.2 .1c-53 0-96-43-96-96c0-47.5 34.5-86.9 79.8-94.6l.2-2.5c.6-52.5 43.4-94.8 96-94.8z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudsSun=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(G6)),G6}var xq=HCt(),q6={},bq;function WCt(){return bq||(bq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-sun-rain",r=640,s=512,a=[127782],i="f743",o="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l10.4 62.4c-23.3 10.8-42.9 28.4-56 50.3c-14.6-9-31.8-14.1-50.2-14.1c-53 0-96 43-96 96c0 35.5 19.3 66.6 48 83.2c.8 31.8 13.2 60.7 33.1 82.7l-56 39.2c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM208 144c13.8 0 26.7 4.4 37.1 11.9c-1.2 4.1-2.2 8.3-3 12.6c-37.9 14.6-67.2 46.6-77.8 86.4C151.8 243.1 144 226.5 144 208c0-35.3 28.7-64 64-64zm69.4 276c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zm96 0c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zm96 0c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zm96 0c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zM320.1 192c0 .8 0 1.7-.1 2.5l-2 23.8c-1.1 13.2-12.7 23-25.9 21.9c-1.3-.1-2.6-.2-4-.2c-26.5 0-48 21.5-48 48s21.5 48 48 48c.6 0 1.3 0 1.9 0c.3 0 .6 0 .9 0l266.9 0c.3 0 .6 0 1 0c.4 0 .9 0 1.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32c-1.6 0-3.1 .1-4.6 .3c-6.9 1-13.9-1.1-19.1-5.6s-8.3-11.2-8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c-.1-.6-.2-1.1-.3-1.7c-2.5-19.6-19.3-34.8-39.7-34.8c-12.6 0-23.8 5.8-31.1 14.9c-5.8 7.1-15.1 10.4-24.1 8.3s-15.9-9.1-18-18c-4.9-21.3-24-37.2-46.8-37.2c-26.5 0-48 21.5-48 48zm48-96c33 0 62 16.6 79.3 41.9c12.2-6.3 26-9.9 40.6-9.9c43 0 78.8 30.9 86.5 71.7c1 2.6 1.5 5.4 1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c36.5 7.4 64 39.7 64 78.4c0 44.2-35.8 80-80 80c-.9 0-1.8 0-2.7 0l-266 0c-1.1 0-2.1 .1-3.2 .1c-53 0-96-43-96-96c0-47.5 34.5-86.9 79.8-94.6l.2-2.5c.6-52.5 43.4-94.8 96-94.8z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCloudSunRain=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(q6)),q6}var zCt=WCt(),K6={},wq;function VCt(){return wq||(wq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="snow-blowing",r=640,s=512,a=[],i="f761",o="M176 64c13.3 0 24 10.7 24 24l0 25.4 12.7-12.7c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6L200 158.6l0 55.8 48.3-27.9 12.9-48.2c2.3-8.5 11.1-13.6 19.6-11.3s13.6 11.1 11.3 19.6l-4.6 17.3 22-12.7c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8l-22 12.7 17.3 4.6c8.5 2.3 13.6 11.1 11.3 19.6s-11.1 13.6-19.6 11.3l-48.2-12.9L224 256l48.3 27.9L320.6 271c8.5-2.3 17.3 2.8 19.6 11.3s-2.8 17.3-11.3 19.6l-17.3 4.6 22 12.7c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8l-22-12.7 4.6 17.3c2.3 8.5-2.8 17.3-11.3 19.6s-17.3-2.8-19.6-11.3l-12.9-48.2L200 297.6l0 55.8 35.3 35.3c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L200 398.6l0 25.4c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-25.4-12.7 12.7c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L152 353.4l0-55.8-48.3 27.9L90.7 373.7c-2.3 8.5-11.1 13.6-19.6 11.3s-13.6-11.1-11.3-19.6l4.6-17.3-22 12.7C31 367.4 16.4 363.5 9.7 352s-2.7-26.2 8.8-32.8l22-12.7-17.3-4.6c-8.5-2.3-13.6-11.1-11.3-19.6s11.1-13.6 19.6-11.3l48.2 12.9L128 256 79.7 228.1 31.4 241c-8.5 2.3-17.3-2.8-19.6-11.3s2.8-17.3 11.3-19.6l17.3-4.6-22-12.7C7 186.2 3.1 171.5 9.7 160s21.3-15.4 32.8-8.8l22 12.7-4.6-17.3c-2.3-8.5 2.8-17.3 11.3-19.6s17.3 2.8 19.6 11.3l12.9 48.2L152 214.4l0-55.8-35.3-35.3c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L152 113.4 152 88c0-13.3 10.7-24 24-24zM480 424c0-13.3 10.7-24 24-24l48 0c22.1 0 40-17.9 40-40s-17.9-40-40-40l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l144 0c48.6 0 88 39.4 88 88s-39.4 88-88 88l-48 0c-13.3 0-24-10.7-24-24zM504 64l48 0c48.6 0 88 39.4 88 88s-39.4 88-88 88l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l144 0c22.1 0 40-17.9 40-40s-17.9-40-40-40l-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faSnowBlowing=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(K6)),K6}var GCt=VCt(),Y6={},_q;function qCt(){return _q||(_q=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="snowflake",r=448,s=512,a=[10052,10054],i="f2dc",o="M224 0c13.3 0 24 10.7 24 24l0 46.1 23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57 0 76.5 66.2-38.2 20.9-77.8c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4L373 142.2l37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L397 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L272 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4L397 328.2l37.1 21.4c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8L373 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8L248 297.6l0 76.5 57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23 0 46.1c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-46.1-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-76.5-66.2 38.2-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4L75 369.8 37.9 391.2c-11.5 6.6-26.2 2.7-32.8-8.8s-2.7-26.2 8.8-32.8L51 328.2l-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L176 256l-66.2-38.2L31.9 238.6c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4L51 183.8 13.9 162.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L75 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8L200 214.4l0-76.5L143 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23L200 24c0-13.3 10.7-24 24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faSnowflake=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(Y6)),Y6}var KCt=qCt(),Q6={},Cq;function YCt(){return Cq||(Cq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="snowflake-droplets",r=640,s=512,a=[],i="e5c1",o="M320 0c13.3 0 24 10.7 24 24l0 46.1 23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57 0 76.5 66.2-38.2 20.9-77.8c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4L469 142.2l37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L493 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L368 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4L493 328.2l28 16.2-22 42.7L469 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8L344 297.6l0 76.5 57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23 0 46.1c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-46.1-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-76.5-66.2 38.2-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4l8.4-31.5-30.1 17.4-22-42.7 28-16.2-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L272 256l-66.2-38.2-77.8 20.9c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4l31.5-8.4-37.1-21.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L171 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8L296 214.4l0-76.5L239 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23L296 24c0-13.3 10.7-24 24-24zM519.1 418.1l47.5-92.4c1.8-3.5 5.4-5.7 9.3-5.7s7.5 2.2 9.3 5.7l47.5 92.4c4.7 9.1 7.1 19.3 7.1 29.5c0 35.3-28.7 64.3-64 64.3s-64-29-64-64.3c0-10.2 2.4-20.4 7.1-29.5zM54.7 325.7c1.8-3.5 5.4-5.7 9.3-5.7s7.5 2.2 9.3 5.7l47.5 92.4c4.7 9.1 7.1 19.3 7.1 29.5C128 483 99.3 512 64 512s-64-29-64-64.3c0-10.2 2.4-20.4 7.1-29.5l47.5-92.4z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faSnowflakeDroplets=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(Q6)),Q6}var QCt=YCt(),X6={},Sq;function XCt(){return Sq||(Sq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="moon-stars",r=512,s=512,a=[],i="f755",o="M284.8 99.2l11 38.6c1 3.6 4.4 6.2 8.2 6.2s7.1-2.5 8.2-6.2l11-38.6 38.6-11c3.6-1 6.2-4.4 6.2-8.2s-2.5-7.1-6.2-8.2l-38.6-11-11-38.6c-1-3.6-4.4-6.2-8.2-6.2s-7.1 2.5-8.2 6.2l-11 38.6-38.6 11c-3.6 1-6.2 4.4-6.2 8.2s2.5 7.1 6.2 8.2l38.6 11zm119 211.6c1.6 5.5 6.6 9.2 12.2 9.2s10.7-3.8 12.2-9.2l16.6-58 58-16.6c5.5-1.6 9.2-6.6 9.2-12.2s-3.8-10.7-9.2-12.2l-58-16.6-16.6-58c-1.6-5.5-6.6-9.2-12.2-9.2s-10.7 3.8-12.2 9.2l-16.6 58-58 16.6c-5.5 1.6-9.2 6.6-9.2 12.2s3.8 10.7 9.2 12.2l58 16.6 16.6 58zM191.8 128C85.8 128 0 214.1 0 320.2S85.8 512.4 191.8 512.4c52 0 99.1-20.7 133.6-54.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-8.1 1.4-16.5 2.2-25.1 2.2c-80.7 0-146.2-65.6-146.2-146.6c0-54.8 30-102.6 74.4-127.8c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-5.4-.5-10.8-.7-16.3-.7z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faMoonStars=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(X6)),X6}var ZCt=XCt();const Z6=f.memo(({width:e,height:t,variant:n})=>{const[r,s]=f.useState(!1),a=n==="hail"?20:n==="normal"?50:120,i=400,o=n==="hail"?1:20,c=n==="hail"?3:n==="normal"?30:80,u=100,d=n==="hail"?.8:.5,h=n==="hail"?.3:.1,m=X0();return f.useEffect(()=>{s(!0)},[]),!r||m?null:l.jsx("div",{className:"absolute inset-0",children:l.jsx(wt,{children:Array.from({length:a}).map((p,g)=>{const v=Math.floor(Math.random()*(e-1)),y=Math.floor(Math.random()*(c-o+1))+o,x=Math.floor(Math.random()*(u+1)),b=Math.random()*(d-h)+h,w=Math.floor(Math.random()*i)+1,_=n==="hail"?y:1;return l.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},style:{left:v,top:0,height:t},className:"absolute",children:[l.jsx("div",{style:{width:_,height:y,animationDuration:i+x+"ms",animationDelay:-w+"ms",animationTimingFunction:"linear",opacity:b,maskImage:n!=="hail"?"linear-gradient(to bottom, transparent, black, transparent)":void 0},className:U("absolute rounded-full bg-white",{"rounded-full":n==="hail"},"animation-weather-rain")}),n!=="hail"&&l.jsx("div",{style:{animationDuration:i+x+"ms",animationDelay:-w+"ms",opacity:b},className:U("absolute -right-[2px] bottom-0 h-[1px] w-[4px] rounded-full bg-white","animation-weather-rain-splash")})]},g)})})})}),Eq=f.memo(({width:e,height:t,variant:n})=>{const[r,s]=f.useState(!1),a=n==="normal"?50:80,i=n==="normal"?2e3:1e3,o=1,c=8,u=n==="normal"?1500:800,d=.5,h=.1,m=2,p=X0();return f.useEffect(()=>{s(!0)},[]),!r||p?null:l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:U("absolute bottom-0 left-0 right-0 translate-y-[80%] bg-white opacity-20 blur-sm",{"rounded-m blur-xs -left-xl -right-xl h-lg":n==="heavy"},{"h-md rounded-[50%]":n==="normal"})}),l.jsx(wt,{children:Array.from({length:a}).map((g,v)=>{const y=Math.floor(Math.random()*(e-1)),x=Math.floor(Math.random()*(c-o+1))+o,b=Math.floor(Math.random()*(u+1)),w=Math.floor(Math.random()*m)+1,_=Math.random()*(d-h)+h,C=Math.floor(Math.random()*i)+1;return l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},style:{left:y,top:0,height:t},className:"absolute",children:l.jsx("div",{style:{animationDuration:i+b+"ms",animationTimingFunction:"linear",animationDelay:-C+"ms",opacity:_},className:U("absolute rounded-full bg-white","animation-weather-snow"),children:l.jsx("div",{style:{width:x,height:x,animationDuration:"inherit",maskImage:"radial-gradient(black 20%, transparent)"},className:U("absolute rounded-full bg-white",w===1&&"animation-weather-snow-wave")})})},v)})})]})}),JCt=f.memo(({width:e,height:t,context:n})=>{const[r,s]=f.useState(!1),a=70,i=2,o=1,c=2,u=500,d=1e3,h=.5,m=.2,p=X0();return f.useEffect(()=>{s(!0)},[]),!r||p?null:l.jsxs("div",{className:"absolute inset-0",children:[l.jsx(wt,{children:Array.from({length:a}).map((g,v)=>{const y=Math.floor(Math.random()*(e-1)),x=Math.floor(Math.random()*(t-1)),b=Math.floor(Math.random()*(i-o+1))+o,w=Math.floor(Math.random()*c)+1,_=Math.floor(Math.random()*(u+1)),C=Math.floor(Math.random()*(d+1)),S=Math.random()*(h-m)+m;return l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},style:{left:y,top:x},className:"absolute",children:l.jsx("div",{style:{width:b,height:b,animationDuration:5e3+_+"ms",animationDelay:C+"ms",opacity:S},className:U("absolute rounded-full bg-white",{"animation-weather-star-twinkle":w===1})})},v)})}),l.jsx("div",{className:U("w-lg absolute left-0 h-[1px] bg-white","animation-weather-star-shoot",{"context-ntp":n==="ntp"})})]})}),D_=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy-day","cloudy-night","patchy-rain-possible-day","patchy-rain-possible-night","possible-thunder-day","possible-thunder-night","overcast","fog","snow","sleet","patchy-freezing-drizzle","heavy-snow","blizzard","drizzle","hail","light-shower","heavy-rain","lightning-rain","lightning-snow"],Nb=T.memo(({variant:e,context:t,className:n})=>{const r=f.useCallback(p=>{switch(p){case"clear-day":default:return["#FF813A","#FFC700","#1F84CD"];case"partly-cloudy-day":return["#8E8E8E","#D5D5D5","#1F84CD"];case"partly-cloudy-night":return["#8E8E8E","#6A6A6A","#0B1B39"];case"cloudy-day":case"overcast":case"patchy-rain-possible-day":case"patchy-freezing-drizzle":case"drizzle":case"light-shower":case"heavy-rain":case"blizzard":case"heavy-snow":case"sleet":case"snow":case"fog":case"possible-thunder-day":case"hail":case"lightning-rain":case"lightning-snow":return["#B8B8B8","#8791AB","#486289"];case"cloudy-night":case"possible-thunder-night":case"patchy-rain-possible-night":return["#222938","#3E475A","#1B2230"];case"clear-night":return["#44344A","#091937","#091937"]}},[]),s=f.useCallback(p=>{switch(p){default:return null;case"partly-cloudy-night":case"cloudy-night":case"possible-thunder-night":case"clear-night":return"stars";case"light-shower":case"sleet":case"drizzle":case"patchy-rain-possible-night":case"patchy-rain-possible-day":case"patchy-freezing-drizzle":case"lightning-rain":return"rain";case"hail":return"rain-hail";case"heavy-rain":return"rain-heavy";case"snow":return"snow";case"heavy-snow":case"blizzard":case"lightning-snow":return"snow-heavy"}},[]),a=r(e),[i,o,c]=a,[u,{width:d,height:h}]=hc(),m=s(e);return l.jsxs("div",{style:{backgroundColor:c},className:U("absolute inset-0 overflow-hidden rounded-md shadow-md",n),children:[l.jsx("div",{className:"-inset-xl absolute translate-y-[25%] rounded-[50%] opacity-75",style:{backgroundColor:o}}),l.jsx("div",{className:"-inset-xl absolute translate-y-[60%] rounded-[50%] opacity-75",style:{backgroundColor:i}}),l.jsx("div",{className:"rounded-inherit absolute inset-0 overflow-hidden backdrop-filter",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),l.jsx("div",{className:"absolute inset-0",ref:u,children:m==="stars"?l.jsx(JCt,{height:h,width:d,context:t}):m==="rain"?l.jsx(Z6,{height:h,width:d,variant:"normal"}):m==="rain-heavy"?l.jsx(Z6,{height:h,width:d,variant:"heavy"}):m==="snow"?l.jsx(Eq,{height:h,width:d,variant:"normal"}):m==="snow-heavy"?l.jsx(Eq,{height:h,width:d,variant:"heavy"}):m==="rain-hail"?l.jsx(Z6,{height:h,width:d,variant:"hail"}):null}),l.jsx("div",{className:"border-textMain/0 absolute inset-0 rounded-md border"})]})});Nb.displayName="WeatherGradient";const j0={"clear-day":ev.faSun,"clear-night":ZCt.faMoonStars,"partly-cloudy-day":xq.faCloudsSun,"partly-cloudy-night":gq.faCloudsMoon,"cloudy-day":xq.faCloudsSun,"cloudy-night":gq.faCloudsMoon,"patchy-rain-possible-day":zCt.faCloudSunRain,"patchy-rain-possible-night":RCt.faCloudMoonRain,"possible-thunder-day":_Ct.faCloudBoltSun,"possible-thunder-night":bCt.faCloudBoltMoon,overcast:jCt.faClouds,fog:kCt.faCloudFog,snow:KCt.faSnowflake,sleet:FCt.faCloudSleet,"patchy-freezing-drizzle":QCt.faSnowflakeDroplets,"heavy-snow":$Ct.faCloudSnow,blizzard:GCt.faSnowBlowing,drizzle:SCt.faCloudDrizzle,hail:TCt.faCloudHail,"light-shower":ICt.faCloudShowers,"heavy-rain":LCt.faCloudShowersHeavy,"lightning-rain":sq.faCloudBolt,"lightning-snow":sq.faCloudBolt},eSt=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>vCt),void 0)).HourlyTemperature}),{loading:()=>l.jsx("div",{style:{height:hI}})}),I4e=T.memo(e=>{const{$t:t}=K(),{prefersMetric:n,setPrefersMetric:r}=A4e(),s=n,[a,i]=f.useState(0),[o,c]=f.useState(!1),u=e,{menuItems:d}=A3(),{openModal:h}=St(),{permissionStatus:m}=gm(),{submitQuery:p}=Bc(),{trackEvent:g}=Ne(),{locale:v}=K(),{value:y}=Nne({flag:"weather-provider",defaultValue:"weatherapi",subjectType:"visitor_id"}),x=f.useCallback(()=>{g("precise location modal opened",{origin:"weather_widget"}),h("locationPermissionModal",{onPermissionGranted:N=>{c(!1);const R=ja();p({rawQuery:"weather",copilotOverride:!1,attachments:[],collection:null,newFrontendContextUUID:R,promptSource:"device_location_request",querySource:"device_location_request",deviceLocation:{latitude:N.coords.latitude,longitude:N.coords.longitude},shouldRedirectToBackendUUID:!0})},origin:"weather_widget"})},[g,h,p]);f.useEffect(()=>{m!==void 0&&m!=="granted"&&c(!0)},[m]);const b=f.useCallback(()=>{window.open(u.url||"https://www.accuweather.com/","_blank")},[u.url]);if(!u||!u.current||!u.location)return null;const{current:w,location:_,forecast:C}=u,S=C[0],k=w.condition?.icon,E=L_(D_,k)?j0[k]:ev.faSun,M="col-span-1";return l.jsx(To,{widgetType:"weather",widgetName:"weather_forecast",widgetSize:"full",children:l.jsxs(H,{className:"p-md relative select-none",children:[l.jsx(Nb,{variant:a===0?w.condition?.icon:C[a].icon??"clear-day"}),l.jsxs(H,{className:"gap-md relative flex flex-col drop-shadow-sm",children:[l.jsxs("div",{className:"gap-x-lg flex",children:[l.jsx(H,{className:M,children:l.jsx("div",{className:"flex h-full items-center",children:l.jsxs(j,{className:"gap-x-md flex items-center",color:"white",children:[l.jsx(gt,{icon:E,className:"text-4xl"}),l.jsxs("div",{className:"flex items-baseline",children:[l.jsx("div",{className:"font-mono text-4xl",children:l.jsx(pg,{value:s?w.temp_c??0:w.temp_f??0,suffix:"°"})}),l.jsxs("div",{className:"ml-xs mt-two flex",children:[l.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer appearance-none",children:l.jsx(j,{color:"white",className:s?"opacity-60":void 0,children:l.jsx("div",{className:"font-mono",children:"F"})})}),l.jsx("button",{onClick:()=>r(!0),className:"ml-xs cursor-pointer appearance-none",children:l.jsx(j,{color:"white",className:s?void 0:"opacity-60",children:l.jsx("div",{className:"font-mono",children:"C"})})})]})]})]})})}),l.jsxs(H,{className:M,children:[w.condition&&l.jsx(j,{variant:"section-title",color:"white",children:w.condition.text}),l.jsx("div",{className:"gap-x-sm flex",children:l.jsxs("div",{className:"gap-x-xs flex",children:[l.jsx(j,{variant:"smallCaps",color:"white",children:l.jsx(pg,{value:s?S.maxtemp_c??0:S.maxtemp_f??0,suffix:"°"})}),l.jsx(j,{variant:"smallCaps",className:"flex opacity-70",color:"white",children:l.jsx(pg,{value:s?S.mintemp_c??0:S.mintemp_f??0,suffix:"°"})})]})})]})]}),l.jsxs("div",{className:"gap-sm flex",children:[l.jsxs(H,{className:"flex flex-col items-start justify-center",children:[l.jsx("div",{className:"gap-sm relative flex items-center",children:l.jsxs(El,{className:"gap-xs text-xs text-white",children:[l.jsx(Gn,{id:"location-name",children:l.jsxs(j,{variant:"smallBold",className:"text-right",color:"white",children:[_.name,_.is_usa?_.region?`, ${_.region}`:"":`, ${_.country}`]})}),o&&l.jsx(Gn,{id:"precise",children:l.jsx(ze,{onClick:x,size:"small",extraCSS:"!text-white hover:underline hover:opacity-100 !p-0 !h-0 decoration-white/50 decoration-offset-[4px] opacity-70 !font-normal",pill:!0,variant:"noBackground",text:t({defaultMessage:"Use Precise Location",id:"A+BBIFLIgr"})})})]})}),_.localtime&&l.jsx(j,{variant:"tiny",color:"white",className:"opacity-75",children:YXe(_.localtime,v)})]}),d&&d?.length>0&&l.jsx("div",{className:"absolute right-0 top-0",children:l.jsx(Xn.Menu,{buttonClass:"!text-white opacity-40 hover:opacity-100 hover:!bg-white/10",menuItems:d})})]})]}),l.jsx(H,{className:"mt-xl relative grid grid-cols-3 gap-x-4 gap-y-6 drop-shadow-sm md:grid-cols-6 md:gap-0",children:C.map((N,R)=>l.jsx("button",{onClick:()=>i(R),className:R!==a?"duration-150 hover:opacity-70 active:scale-[0.98]":"",children:l.jsx(j4e,{day:h3(N.dow??"",v),high:(s?N.maxtemp_c:N.maxtemp_f)??0,low:(s?N.mintemp_c:N.mintemp_f)??0,icon:j0[N.icon],selected:a===R})},R))}),l.jsx(H,{className:"mt-sm",children:l.jsx(eSt,{forecast:C,activeDay:a,isMetric:s})}),y==="accuweather"&&l.jsx(H,{className:"mt-lg flex cursor-pointer justify-end",onClick:b,children:l.jsxs(j,{variant:"micro",color:"white",className:"mt-xs gap-xs -mb-sm -mr-xs flex items-center opacity-65 hover:opacity-40",children:["The AccuWeather",l.jsx("sup",{className:"-ml-xs",children:"®"})," Forecast",l.jsx(_e,{icon:il,size:"xs"})]})})]})})});I4e.displayName="WeatherWidget";const O4e=()=>null,tSt=Ee(()=>he(()=>import("./index-DveN-Nwv.js"),__vite__mapDeps([66,1])),{loading:()=>l.jsx(O4e,{})}),nSt=Ee(async()=>({default:(await he(()=>import("./CharityWidget-lXkXU7oc.js"),__vite__mapDeps([67,1]))).CharityWidget}),{loading:()=>l.jsx(O4e,{})}),L4e=T.memo(({widgetData:e,menuItems:t,tableCitationOffset:n})=>{const r=mm(e);return r?is(r).with({object:"CalculatorWidget"},s=>l.jsx(Xn,{menuItems:t,children:l.jsx(oxe,{...s})})).with({object:"FinanceWidget"},()=>null).with({object:"CrunchbaseWidget"},s=>l.jsx(Xn,{menuItems:t,variant:"noChrome",children:l.jsx(tSt,{...s})})).with({object:"PlaceWidget"},()=>null).with({object:"ShopifyWidget"},()=>null).with({object:"JobsWidget"},()=>null).with({object:"TimeWidget"},s=>l.jsx(Xn,{menuItems:t,children:l.jsx(k4e,{...s})})).with({object:"WeatherWidget"},s=>l.jsx(Xn,{menuItems:t,variant:"noChrome",children:l.jsx(I4e,{...s})})).with({object:"TableWidget"},s=>l.jsx(Xn,{menuItems:t,variant:"noChrome",children:l.jsx(Z3e,{tableData:s,citationOffset:n??0})})).with({object:"SportsEventsWidget"},s=>l.jsx(Np,{data:s})).with({object:"SportsIndvScheduleWidget"},s=>l.jsx(Np,{data:s})).with({object:"SportsStandingsWidget"},s=>l.jsx(Np,{data:s})).with({object:"SportsIndvEventsWidget"},s=>l.jsx(Np,{data:s})).with({object:"FlightStatusWidget"},s=>l.jsx(Nxe,{data:s})).with({object:"CharityWidget"},s=>l.jsx(Xn,{menuItems:t,variant:"noChrome",children:l.jsx(nSt,{...s})})).with({object:"TaskWidget"},s=>l.jsx(E4e,{data:s})).with({object:"GenericFallbackWidget"},s=>l.jsx(Axe,{...s})).otherwise(()=>(Q.warn(new Error(`No PanelComponent found for livePanelType: ${r.object}`),{widgetData:e}),null)):null});L4e.displayName="LivePanel";const D4e=T.memo(({name:e,title:t,values:n,onEntityClick:r})=>{const{inFlight:s}=fr(),a=f.useCallback(u=>{s||r(u)},[s,r]),i=U("underline-thickness-thin underline-offset-2 cursor-pointer decoration-textOff/15 hover:text-super hover:decoration-super dark:decoration-textMainDark/15 group transition-colors duration-200 ease-in-out",{underline:!s}),o=f.useCallback(({content:u,href:d})=>{const h=d||(u.startsWith("http://")||u.startsWith("https://")?u:`https://${u}`);return l.jsxs(it,{href:h,target:"_blank",rel:"noopener",className:i,children:[u,l.jsx(j,{className:"ml-xs inline",color:"light",variant:"tiny",children:l.jsx(_e,{icon:lM,size:"xs"})})]})},[i]),c=f.useMemo(()=>T.memo(({attributeValue:u,index:d,totalValues:h})=>{const m=f.useMemo(()=>()=>l.jsx("div",{children:u.value}),[u.value]),p=f.useCallback(()=>a(u.value),[u.value]),g=f.useMemo(()=>l.jsxs(La,{fallback:m,children:[u.value&&l.jsx(l.Fragment,{children:u.clickable_entity?l.jsx("span",{className:i,onClick:p,children:u.value}):u.value}),u.detail&&l.jsxs("span",{className:"text-textOff ml-1",children:["(",u.source?o({content:u.detail,href:u.source}):u.detail,")"]})]}),[u.clickable_entity,u.detail,u.source,u.value,m,p]);return l.jsxs("span",{children:[g,d<h-1&&", "]})}),[i,a,o]);return l.jsx(Xn.Item,{name:e,title:t,value:n.map((u,d)=>l.jsx(c,{attributeValue:u,index:d,totalValues:n.length},`${u.id}-${d}`))},e)});D4e.displayName="WikiPanelItem";const kq=0,rSt=T.memo(({data:e,isReadonly:t,submit:n,entryUUID:r})=>{const{$t:s}=K(),{title:a,subtitle:i,attributes:o,image_url:c,source_url:u}=e,{trackEvent:d}=Ne(),{firstResult:{frontend_context_uuid:h}={}}=fr(),m=Rt(),p=o.length,[g,v]=f.useState(p),y=g===p,x=o.length>2,{menuItems:b}=A3(),w=f.useCallback(()=>{d("click toggle on knowledge card",{newState:y?"collapsed":"expanded",entryUUID:r??"",type:e.type,id:e.source_url,name:e.title}),v(M=>M===kq?p:kq)},[d,y,p,r,e]),[_,{height:C}]=hc(),S=t,k=ja(),E=f.useCallback(M=>{if(d("knowledge card link clicked",{entryUUID:r??"",type:e.type,id:e.source_url,name:e.title,label:"attributes",value:M}),n({fork:S,rawQuery:M,collection:null,newFrontendContextUUID:S?k:null,existingFrontendContextUUID:S?void 0:h,promptSource:"user",querySource:"entity_link"}),S){const N=new URLSearchParams({q:M,newFrontendContextUUID:k}),R=new URL(window.location.href);R.pathname="search/new",R.search=N.toString();const A=R.toString();m.push(A)}},[n,S,k,h,m,r,e,d]);return f.useEffect(()=>{d("knowledge card shown",{entryUUID:r??"",type:e.type,id:e.source_url,name:e.title})},[]),l.jsx("div",{className:"relative",children:l.jsx(ke.div,{animate:C>0?{height:C}:{},transition:{type:"spring",bounce:.2,duration:.2},className:"overflow-hidden",children:l.jsxs("div",{ref:_,className:"gap-md relative flex flex-col",children:[l.jsx("div",{className:"flex items-end justify-between",children:l.jsx(Xn.Title,{title:a,subtitle:i,image_url:c,href:u,links:e.links,entryUUID:r??"",data:e,children:l.jsx("div",{className:"flex items-start",children:l.jsx("div",{className:"gap-sm flex items-center",children:b&&b?.length>0&&l.jsx(Xn.Menu,{menuItems:b,buttonClass:"opacity-0 pointer-events-none"})})})})}),y&&l.jsx("div",{className:"gap-x-sm gap-y-sm border-borderMain/50 pt-md md:gap-x-md grid grid-cols-[auto,1fr] border-t",children:o.slice(0,g).map(M=>l.jsx(D4e,{name:M.key,title:M.title,values:M.values,onEntityClick:E},M.key))}),l.jsx("div",{children:x&&l.jsx("div",{className:"flex justify-end",children:l.jsx(ye,{variant:"border",fullWidth:!0,text:s(y?{defaultMessage:"Less",id:"mFYgAXM/x4"}:{defaultMessage:"More",id:"I5NMJ8llIi"}),size:"tiny",pill:!0,onClick:w,icon:y?vee:Ia,extraCSS:"pl-xs w-[76px]"})})})]})})})});function sSt(e){if(!e||!e.card_type)return null;const{primaryLink:t,otherLinks:n}=e.links.reduce((s,a)=>(a.type==="PRIMARY"&&!s.primaryLink?s.primaryLink=a:s.otherLinks.push(a),s),{primaryLink:null,otherLinks:[]}),r=e?.media_items?.[0]?.image??e?.image_urls?.[0]??"";return{source_url:t?.url??"",image_url:r,title:e?.title??"",subtitle:e.description??"",attributes:e.attributes??[],type:e.card_type,links:n}}const F4e=T.memo(({knowledgePanelData:e,isReadonly:t,submit:n,menuItems:r,entryUUID:s,className:a})=>{const i=f.useMemo(()=>e?sSt(e):null,[e]);return i?l.jsx(Xn,{menuItems:r,className:a,children:l.jsx(rSt,{data:i,submit:n,isReadonly:t,entryUUID:s??""})}):null});F4e.displayName="StaticPanel";function gT(e){return e&&"is_widget"in e&&e.is_widget===!0}function aSt(e){return e&&"card_type"in e}function Mq(e){return"is_code_interpreter"in e&&e.is_code_interpreter===!0&&e.is_image}const iSt=T.memo(({data:e,submit:t,isReadonly:n=!1,menuItems:r,tableCitationOffset:s,entryUUID:a})=>l.jsxs(l.Fragment,{children:[!Mq(e)&&gT(e)&&l.jsx(L4e,{widgetData:e,menuItems:r??je,tableCitationOffset:s}),aSt(e)&&l.jsx(F4e,{knowledgePanelData:e,summaryData:null,submit:t,isReadonly:n,menuItems:r??je,entryUUID:a??""}),Mq(e)&&l.jsx(oye,{graphData:e})]}));iSt.displayName="ThreadEntryPanel";const oSt=({reason:e})=>{const t=ot(),{searchTerm:n}=OA(),r=[Hu,{search_term:n??""}],s=kA(),a=lm(),{mutate:i}=lt({mutationKey:["removeWidget"],mutationFn:async({entryUUID:d,data:h})=>gT(h)?QQe({backendUUID:d,url:h.url,rwToken:a,reason:e}):Promise.resolve(),onMutate:async({entryUUID:d,data:h})=>{await t.cancelQueries({queryKey:["results"]}),s(d,m=>gT(h)?{...m,widget_data:m.widget_data?.filter(p=>p.url!==h.url)}:m)}}),{mutate:o}=lt({mutationFn:async d=>{try{await J.DELETE("/rest/thread/delete_all_threads",e,{body:{delete_all:d==="all"},timeoutMs:0})}catch(h){Q.error(h)}},onMutate:async d=>{await t.cancelQueries({queryKey:r}),await t.cancelQueries({queryKey:Bt});const h=t.getQueryData(r),m=t.getQueryData(Bt);return d==="all"?(t.setQueryData(Bt,p=>{const g=p.pages.map(v=>v.map(y=>({...y,thread_count:0})));return{...p,pages:g}}),t.setQueryData(r,p=>({...p,pages:[]}))):d==="standalone"&&t.setQueryData(r,p=>({...p,pages:p.pages.map(g=>g.filter(v=>v.collection?.uuid))})),{previousThreads:h,previousCollections:m}},onSettled:(d,h,m,p)=>{h?(t.setQueryData(r,p?.previousThreads),t.setQueryData(Bt,p?.previousCollections)):(t.invalidateQueries({queryKey:r}),t.invalidateQueries({queryKey:Bt}),t.invalidateQueries({queryKey:[Yo]}),t.invalidateQueries({queryKey:[Zp]}))}}),{mutate:c}=lt({mutationFn:async({entryUUID:d,callback:h})=>{h?.(),await YQe({entryUUID:d,rwToken:a,callback:h,reason:e})},onMutate:async({entryUUID:d,collectionSlug:h})=>{await t.cancelQueries({queryKey:r}),await t.cancelQueries({queryKey:Bt});const m=t.getQueryData(r),p=t.getQueryData(Bt);return t.setQueryData(r,g=>{g=g||{pages:[],pageParams:[]};const v=g.pages.map(y=>y.filter(x=>x.uuid!==d));return{...g,pages:v}}),h&&(t.setQueryData(Bt,g=>{g=g||{pages:[],pageParams:[]};const v=g.pages.map(y=>y.map(x=>x.slug===h?{...x,thread_count:x.thread_count-1}:x));return{...g,pages:v}}),t.setQueryData([Yo,{collection_slug:h.slice(-22)}],g=>{g=g||{pages:[],pageParams:[]};const v=g.pages.map(y=>y.filter(x=>x.uuid!==d));return{...g,pages:v}})),{previousThreads:m,previousCollections:p}},onSettled:(d,h,m,p)=>{h?(t.setQueryData(r,p?.previousThreads),t.setQueryData(Bt,p?.previousCollections)):(t.invalidateQueries({queryKey:r}),t.invalidateQueries({queryKey:Bt}),t.invalidateQueries({queryKey:[Yo]}),t.invalidateQueries({queryKey:[Zp]}))}}),{mutate:u}=lt({mutationFn:async({entryUUIDs:d,callback:h})=>{h?.(),await KQe({entryUUIDs:d,rwToken:a,reason:e})},onMutate:async({entryUUIDs:d})=>{await t.cancelQueries({queryKey:r});const h=t.getQueryData(r),m=t.getQueryData(Bt);return t.setQueryData(r,p=>{p=p||{pages:[],pageParams:[]};const g=p.pages.map(v=>v.filter(y=>!d.includes(y.uuid)));return{...p,pages:g}}),{previousThreads:h,previousCollections:m}},onSettled:(d,h,m,p)=>{h?t.setQueryData(r,p?.previousThreads):(t.invalidateQueries({queryKey:r}),t.invalidateQueries({queryKey:[Zp]}))}});return f.useMemo(()=>({removeWidgetFromEntry:i,deleteAllThreads:o,deleteThread:c,deleteThreads:u}),[o,c,u,i])};function lSt({queryKey:e,pageSize:t,fetchFn:n,autoFetch:r,nextPageAccessor:s,initialData:a,args:i}){const o=f.useMemo(()=>i||[],[i]),c=f.useCallback(async({pageParam:u=1})=>{(!u||u<1)&&(u=1);const h={offset:(u-1)*t,...o};return n(h)},[o,n,t]);return Nc({enabled:r,queryKey:e,queryFn:c,placeholderData:G0,refetchOnReconnect:"always",networkMode:"offlineFirst",initialData:a,initialPageParam:1,getNextPageParam:(u,d)=>s(u,d)})}const cSt=(e,t)=>e&&e[0]?.has_next_page?t.length+1:void 0,hBt=(e,t,n,r,s)=>{const a=ot(),{searchTerm:i}=OA(),o=f.useMemo(()=>({search_term:i,with_temporary_threads:t,ascending:r,query_source_filter:n,thread_type_filter:s}),[i,t,r,n,s]),c=f.useCallback(async y=>Nse({timeoutMs:5e3,paginationParams:y,ascending:r,reason:e}),[r,e]),u=lSt({queryKey:[Hu,o],pageSize:Tse,fetchFn:c,autoFetch:!0,nextPageAccessor:cSt,args:o}),d=f.useCallback(()=>{a.invalidateQueries({queryKey:[Hu,o]})},[a,o]),h=u.data?.pageParams?.length??1,m=u.data?.pages??[],p=m.flat(),g=m[m.length-1]?.[0]?.has_next_page,v=f.useMemo(()=>({currentPage:h,hasNextPage:g,hasPreviousPage:h>1,getNextPage:()=>u.fetchNextPage(),getPreviousPage:()=>u.fetchPreviousPage()}),[g,h,u]);return f.useMemo(()=>({...u,data:p,paginationInfo:v,invalidateThreadsQuery:d}),[v,u,p,d])};function uSt({reason:e}){const t=ot();return f.useCallback(()=>{t.prefetchInfiniteQuery({queryKey:[Hu,{search_term:""}],initialPageParam:0,queryFn:()=>Nse({timeoutMs:5e3,paginationParams:{offset:0},reason:e})})},[t,e])}const U4e="fetch_bookmarks";async function dSt({reason:e}){try{return await(await Nn({urlPath:"/rest/collections/list_bookmarks",reason:e})).json()||[]}catch(t){return Q.error("Failed to get bookmarks.",t),[]}}const fSt=({reason:e,enabled:t=!0})=>{const n=ha({reason:e}),s=Dt()?.user?.email,{data:a,refetch:i,isLoading:o}=at({queryKey:[U4e,s],queryFn:async()=>s?await dSt({reason:e}):[],enabled:t&&!n&&!!s,refetchOnMount:!1,refetchOnWindowFocus:!0,placeholderData:null});return f.useMemo(()=>!s||n?{data:null,isLoading:!1,refetch:Ln}:{data:a,isLoading:o,refetch:i},[a,s,n,o,i])},mBt=()=>{const e=ot();return f.useCallback(()=>{e.invalidateQueries({queryKey:[U4e]})},[e])},hSt="fetch_sidebar_hubs",vT=["SIDEBAR_FINANCE","SIDEBAR_SHOPPING","SIDEBAR_TRAVEL","SIDEBAR_ACADEMIC"],yT=[hSt];async function mSt({reason:e}){try{return(await J.GET("/rest/user/get_user_sidebar_hubs",e)).data||{sidebar_hubs:je}}catch(t){return Q.error("Failed to get sidebar hubs.",t),{sidebar_hubs:je}}}const B4e=({reason:e})=>{const{data:t,refetch:n,isLoading:r}=at({queryKey:yT,queryFn:()=>mSt({reason:e})});return f.useMemo(()=>({data:t,isLoading:r,refetch:n}),[t,r,n])},pSt=({reason:e})=>{const{actions:t}=on(),{data:n}=B4e({reason:e});f.useEffect(()=>{n&&t.setSidebarHiddenHubs(vT.filter(r=>!n?.sidebar_hubs.includes(r)))},[n,t])},$4e=({reason:e})=>{const t=ot(),{actions:n,sidebarHiddenHubs:r}=on(),s=f.useCallback(async i=>{try{return await J.POST("/rest/user/subscribe_user_sidebar_hub/{hub_type}",e,{params:{path:{hub_type:i}}}),t.invalidateQueries({queryKey:yT}),n.setSidebarHiddenHubs(r.filter(o=>o!==i)),!0}catch{return!1}},[t,n,r,e]),a=f.useCallback(async i=>{try{return await J.POST("/rest/user/unsubscribe_user_sidebar_hub/{hub_type}",e,{params:{path:{hub_type:i}}}),t.invalidateQueries({queryKey:yT}),n.setSidebarHiddenHubs([...r,i]),!0}catch{return!1}},[t,n,r,e]);return f.useMemo(()=>({subscribeToHub:s,unsubscribeFromHub:a}),[s,a])},gSt=({isOpen:e,onClose:t,availableHubs:n})=>{const r="home-sidebar-configure-overlay",s=xSt(),{data:a}=B4e({reason:r}),{subscribeToHub:i,unsubscribeFromHub:o}=$4e({reason:r}),{$t:c}=K(),u=f.useMemo(()=>s.filter(d=>n.includes(d.id)),[n,s]);return l.jsxs(jt,{title:c({defaultMessage:"Customize Sidebar",id:"/4kt7TXcZf"}),isOpen:e,onClose:t,variant:"default",children:[l.jsx(j,{variant:"base",color:"light",className:"mb-sm",children:c({defaultMessage:"Select the items that appear in your sidebar.",id:"I+JwmwJnZQ"})}),l.jsx(H,{className:"-mb-[24px] flex flex-col divide-y",children:u.map(d=>l.jsx(vSt,{hub:d,enabled:a?.sidebar_hubs.includes(d.id)??!1,onToggle:()=>{a?.sidebar_hubs.includes(d.id)?o(d.id):i(d.id)}},d.id))})]})},vSt=({hub:e,enabled:t,onToggle:n})=>l.jsxs("div",{className:"flex h-12 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{icon:e.icon,size:"base"}),l.jsx(j,{variant:"baseSemi",children:e.name})]}),l.jsx(wd,{active:t,onChange:n})]}),Tq=10,ySt=({isOpen:e,onCreateClick:t,onDeleteThreadOrBookmark:n,isConfiguring:r,setIsConfiguring:s})=>{const a="home-sidebar",{data:i,isLoading:o}=Hse({reason:a}),{data:c,refetch:u}=fSt({reason:a,enabled:e}),{sidebarHiddenHubs:d}=on(),{unsubscribeFromHub:h}=$4e({reason:a}),{bookmarks:m,bookmarks_collection_slug:p,bookmarks_collection_uuid:g}=c||{},y=zw()==="US",x=uSt({reason:a}),{deleteThread:b}=oSt({reason:a}),{trackEvent:w}=Ne(),{$t:_}=K(),C=ut(),{openVisitorLoginUpsell:S}=Gr({enabled:!C}),k=Rt(),E=Lt(),{removeThreadFromCollection:M}=d3({reason:a});pSt({reason:a});const[N,R]=f.useState([]),[A,P]=f.useState([]),O=f.useMemo(()=>m?.filter(z=>!N.includes(z))??[],[m,N]),I=f.useMemo(()=>i?.filter(z=>!A.includes(z))??[],[i,A]),L=f.useCallback(z=>{const te=g;n(),w("unbookmark item from sidebar",{collectionUUID:te}),R(Y=>[...Y,z]),M({entryUUID:z.uuid,oldCollectionUUID:te,callback:()=>{u()}})},[M,u,n,g,w]),F=f.useCallback(z=>{n(),w("delete thread from sidebar",{entryUUID:z.uuid}),P(te=>[...te,z]),R(te=>[...te,{uuid:z.uuid,mode:z.variant==="article"?"article":"thread",title:z.title,slug:z.link}]),b({entryUUID:z.uuid,callback:()=>{z.link===E&&k.push("/")}})},[E,k,b,n,w]),D=f.useCallback(z=>{n(),R(te=>[...te,z]),P(te=>[...te,{uuid:z.uuid,link:z.slug,variant:z.mode==="article"?"article":"thread",title:z.title}]),w("delete bookmark from sidebar",{entryUUID:z.uuid}),b({entryUUID:z.uuid,callback:()=>{z.slug===E?.replace("/search/","").replace("/page/","")&&k.push("/")}})},[n,w,E,k,b]),B=f.useCallback(z=>{h(z)},[h]),$=f.useMemo(()=>({text:_({defaultMessage:"Hide from sidebar",id:"bt2xOtkULy"}),icon:tn,type:"default",size:Mt.small,show:!0}),[_]),W=f.useMemo(()=>[{...$,onClick:z=>{z.stopPropagation(),B("SIDEBAR_FINANCE")}}],[B,$]),X=f.useMemo(()=>[{...$,onClick:z=>{z.stopPropagation(),B("SIDEBAR_TRAVEL")}}],[B,$]),ee=f.useMemo(()=>[{...$,onClick:z=>{z.stopPropagation(),B("SIDEBAR_SHOPPING")}}],[B,$]),ne=f.useMemo(()=>[{...$,onClick:z=>{z.stopPropagation(),B("SIDEBAR_ACADEMIC")}}],[B,$]),V=f.useMemo(()=>y?vT:vT.filter(z=>z!=="SIDEBAR_SHOPPING"),[y]),q=f.useMemo(()=>C?V.filter(z=>!d.includes(z)):V,[d,C,V]);return l.jsxs("div",{className:"flex flex-col gap-[12px]",children:[q.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs(l0,{children:[q.includes("SIDEBAR_FINANCE")&&l.jsx(vs,{href:"/finance",text:_({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),icon:y1,selected:Dy(E)==="finance",menuItems:C?W:void 0,sidebarOpen:e}),q.includes("SIDEBAR_TRAVEL")&&l.jsx(vs,{href:"/travel",text:_({defaultMessage:"Travel",id:"z1QN2qSnI/"}),icon:nye,selected:Dy(E)==="travel",menuItems:C?X:void 0,sidebarOpen:e}),q.includes("SIDEBAR_SHOPPING")&&l.jsx(vs,{href:"/shopping",text:_({defaultMessage:"Shopping",id:"my1MLnIMoS"}),icon:tye,selected:Dy(E)==="shopping",menuItems:C?ee:void 0,sidebarOpen:e}),q.includes("SIDEBAR_ACADEMIC")&&l.jsx(vs,{href:"/academic",text:_({defaultMessage:"Academic",id:"mbxIJyT8C5"}),icon:eye,selected:Dy(E)==="academic",menuItems:C?ne:void 0,sidebarOpen:e})]}),l.jsx(c0,{})]}),l.jsx(vh,{href:"/library",onClick:z=>{C||(z.preventDefault(),S({title:_({defaultMessage:"Organize your search history by signing up",id:"PMTP+jTgx8"}),origin:rt.LIBRARY_PAGE}))},onMouseOver:x,text:_({defaultMessage:"Library",id:"StcK672jB9"}),className:"-mb-xs",testId:"library-button",accessory:i&&e&&I.length>0?l.jsx(Gve,{defaultHidden:!1,buttonClassName:"text-subtle hover:text-text duration-150"}):l.jsx("div",{className:"size-[24px]"})}),o?null:I.length===0?l.jsx(vs,{icon:Tr,href:"/",text:_({defaultMessage:"Create a Thread",id:"6naN9kZFw2"}),deemphasized:!0,onClick:()=>{const z=document.getElementById("ask-input");z&&(z.focus(),t())},sidebarOpen:e}):l.jsx(o0,{show:!0,data:I,type:"thread",HistoryComponent:({item:z,position:te})=>l.jsx(rye,{item:z,position:te,onDeleteClick:F,sidebarOpen:e}),wrapperClassName:"!m-0 !px-0 !border-0 flex flex-col gap-1.5 space-y-0 !-mt-[2px]",id:"recent-threads"}),I?.length>=Tq&&l.jsx(k8,{href:"/library",text:_({defaultMessage:"View All",id:"wbcwKddwLa"}),onMouseOver:x}),C&&c!==null&&l.jsx(l.Fragment,{children:O.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(c0,{}),l.jsx(vh,{href:p?`/spaces/${p}`:void 0,text:_({defaultMessage:"Bookmarks",id:"nGBrvwYczX"}),className:"-mb-xs",testId:"bookmarks-button"}),l.jsx(o0,{show:!0,data:O,type:"thread",HistoryComponent:({item:z})=>l.jsx(bSt,{item:z,onRemoveClick:L,onDeleteClick:D,sidebarOpen:e}),wrapperClassName:"!m-0 !px-0 !border-0 flex flex-col gap-1.5 space-y-0 !-mt-[2px]",id:"recent-bookmarks"}),O.length>=Tq&&p&&l.jsx(k8,{href:`/spaces/${p}`,text:_({defaultMessage:"View All",id:"wbcwKddwLa"})})]})}),l.jsx(gSt,{isOpen:r,onClose:()=>s(!1),availableHubs:V})]})},xSt=()=>{const{$t:e}=K();return[{id:"SIDEBAR_FINANCE",name:e({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),icon:y1},{id:"SIDEBAR_TRAVEL",name:e({defaultMessage:"Travel",id:"z1QN2qSnI/"}),icon:nye},{id:"SIDEBAR_SHOPPING",name:e({defaultMessage:"Shopping",id:"my1MLnIMoS"}),icon:tye},{id:"SIDEBAR_ACADEMIC",name:e({defaultMessage:"Academic",id:"mbxIJyT8C5"}),icon:eye}]},bSt=({item:e,onRemoveClick:t,onDeleteClick:n,sidebarOpen:r})=>{const s=e.mode==="article",i=`/${s?"page":"search"}/${e.slug}`,o=Lt(),{$t:c}=K();return l.jsx(vs,{href:i,text:e.title||e.slug,fadeOut:!0,selected:i===o,sidebarOpen:r,testId:`thread-title-${e.title||e.slug}`,menuItems:[{text:c({defaultMessage:"Remove Bookmark",id:"RokVj/Gv4U"}),icon:XLe,onClick:u=>{u.stopPropagation(),t(e)},type:"default"},{text:c({defaultMessage:"Delete {item}",id:"rdK9AWns19"},{item:s?"Page":"Thread"}),icon:r1,onClick:u=>{u.stopPropagation(),n(e)},type:"default"}]})},H4e=f.memo(({isOpen:e,children:t,title:n,onPin:r,pinned:s,canPin:a,onMouseEnter:i,onMouseLeave:o,accessory:c,actions:u,appContentWrapperRef:d})=>{const{$t:h}=K(),m=f.useRef(null),p=f.useMemo(()=>EN(g=>{d.current?.contains(g.target)&&(window.removeEventListener("mousemove",p),e&&o())},100,{leading:!0,trailing:!0}),[o,d,e]);return f.useEffect(()=>{e&&!s?window.addEventListener("mousemove",p):window.removeEventListener("mousemove",p)},[e,s,p]),JA(()=>{window.removeEventListener("mousemove",p)}),l.jsx("div",{ref:m,className:"group/sidebar-menu pointer-events-none absolute inset-y-0 left-0 -translate-x-px overflow-hidden",style:{width:i0+(s?0:16)+zf},children:l.jsxs(H,{className:U("right-md inset-y-0 left-0 border-r border-transparent pr-[20px] duration-100 dark:border-transparent","absolute flex flex-col",{"erp-tab:pt-two pt-[10px]":s,"ease-inCubic pointer-events-none -translate-x-[10%] opacity-0":!e&&!s,"!border-borderMain/50 ease-outCubic shadow-xl":e&&!s,"pointer-events-auto":e||s}),variant:"offset",onMouseEnter:i,onMouseLeave:o,style:{paddingLeft:zf+12,width:i0+zf},children:[!s&&e&&l.jsx("div",{className:"absolute inset-y-0 -right-[24px] left-0"}),l.jsxs(H,{className:"group/sidebar-menu-header relative mb-[12px] flex min-h-0 items-center justify-between border-b py-[12px]",children:[u&&e?l.jsx(bn,{items:u,isMobileStyle:!1,placement:"bottom-start",children:l.jsxs(j,{variant:"smallBold",className:"group relative cursor-pointer select-none",children:[l.jsx("span",{className:"bg-background-300 -inset-x-sm -inset-y-xs absolute rounded-md opacity-0 duration-100 group-hover:opacity-100"}),l.jsxs("span",{className:"gap-xs relative flex items-center",children:[n,l.jsx(Ia,{className:"text-textMain/35 group-hover:text-subtle size-4 opacity-0 duration-100 group-hover/sidebar-menu-header:opacity-100"})]})]})}):l.jsx(j,{variant:"smallBold",children:n}),l.jsxs("div",{className:"flex min-h-[24px] items-center",children:[l.jsx(wt,{initial:!1,children:c&&l.jsx(ke.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex",children:c})}),a&&l.jsx(ze,{size:"tiny",icon:s?LFe:uFe,onClick:r,extraCSS:"!-mr-sm",toolTip:h(s?{defaultMessage:"Unpin Sidebar",id:"0ms2vDE7D8"}:{defaultMessage:"Pin Sidebar",id:"rPlnyNxMsY"}),tooltipLayout:"bottom",testId:"sidebar-pin-sidebar"})]})]}),l.jsx(wt,{initial:!1,mode:"popLayout",children:l.jsx(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.1,ease:qn},className:"relative flex min-h-0 flex-1 flex-col",children:l.jsx("div",{className:"scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent -mx-[12px] -mt-[12px] flex min-h-0 flex-1 overflow-y-auto overflow-x-hidden p-[12px]",children:l.jsx("div",{className:"w-full",children:t})})},n)})]})})});H4e.displayName="SidebarMenu";function wSt(){const{value:e,loading:t}=Rr({flag:"app-notifications",subjectType:"user_nextauth_id",defaultValue:!1});return f.useMemo(()=>({isAppNotificationsEnabled:e,isAppNotificationsEnabledLoading:t}),[e,t])}const _St=({reason:e})=>{const t=at({queryKey:Pqe(),queryFn:async()=>(await J.GET("/rest/notifications/in-app/unread-count",e)).data.unread_count,staleTime:3e5});return f.useMemo(()=>{const{data:n,...r}=t;return{count:n??0,...r}},[t])},mI=f.memo(({icon:e,selected:t,hovered:n,iconSize:r=24})=>l.jsxs(H,{className:"grid size-[40px] place-items-center",children:[l.jsx(H,{variant:"offsetPlus",className:U("size-[90%] rounded-md duration-100 [grid-area:1/-1] group-hover:opacity-100",{"opacity-0":!t&&!n})}),l.jsx(_e,{icon:e,size:r,className:U("relative duration-100 [grid-area:1/-1] group-hover:scale-110",{"text-text":t,"text-subtle":!t,"scale-110":t||n})})]}));mI.displayName="SidebarTabButton";const W4e=({ref:e,hovered:t,selected:n,onClick:r,onMouseEnter:s,onMouseLeave:a})=>l.jsx("button",{className:"flex flex-col items-center justify-center",onMouseEnter:s,onMouseLeave:a,onClick:r,ref:e,children:l.jsxs("div",{className:"relative flex !size-[40px] flex-col items-center justify-center",children:[l.jsx(z4e,{hovered:t}),l.jsx(mI,{selected:n,icon:Cee,iconSize:28,hovered:t})]})});W4e.displayName="SidebarNotificationsButton";const z4e=({hovered:e})=>{const{$t:t,formatNumber:n}=K(),{count:r,refetch:s}=_St({reason:"SidebarNotificationsButtonCounter"});f.useEffect(()=>{e&&s()},[e,s]);const a=f.useMemo(()=>r===0?null:r>99?t({defaultMessage:"99+",id:"Y8BuajLBAX"}):n(r),[r,n,t]);return l.jsx("div",{className:U("bg-super absolute right-0 top-0 z-10 h-4 min-w-4 rounded-full px-1 text-center transition-opacity",{"opacity-100":r>0,"opacity-0":r===0}),children:l.jsx(j,{variant:"micro",color:"defaultInverted",className:"!font-bold",children:a})})};z4e.displayName="SidebarNotificationsButtonCounter";const CSt=({enabled:e=!0,reason:t})=>{const{data:n,refetch:r,isLoading:s,isFetching:a,hasNextPage:i,fetchNextPage:o,isFetchingNextPage:c}=Nc({enabled:e,queryKey:yu(),queryFn:async({pageParam:d})=>(await J.GET("/rest/notifications/in-app",t,{params:{query:{cursor:d}}})).data,getNextPageParam:d=>!d||d.notifications.length===0?null:d.next_cursor,initialPageParam:""}),u=f.useMemo(()=>n?.pages.flatMap(d=>d?.notifications??[])??[],[n]);return f.useMemo(()=>({refetch:r,isLoading:s,isFetching:a,fetchNextPage:o,isFetchingNextPage:c,hasNextPage:i,notifications:u}),[r,u,i,o,c,s,a])},pI=({reason:e})=>{const t=ot(),n=lt({mutationFn:i=>J.POST("/rest/notifications/in-app/bulk-read",e,{body:{notification_ids:i?.notificationIds}}),onSuccess:()=>{t.invalidateQueries({queryKey:yu()})}}),r=lt({mutationFn:i=>J.POST("/rest/notifications/in-app/{notification_id}/read",e,{params:{path:{notification_id:i.notificationId}}}),onSuccess:()=>{t.invalidateQueries({queryKey:yu()})}}),s=lt({mutationFn:i=>J.DELETE("/rest/notifications/in-app/bulk-delete",e,{body:{notification_ids:[i.notificationId]}}),onSuccess:()=>{t.invalidateQueries({queryKey:yu()})}}),a=lt({mutationFn:()=>J.DELETE("/rest/notifications/in-app/read",e),onSuccess:()=>{t.invalidateQueries({queryKey:yu()})}});return f.useMemo(()=>({markAllAsRead:n,markAsRead:r,markAsDeleted:s,markAllReadAsDeleted:a}),[n,r,s,a])},tv=({primaryIcon:e,secondaryIcon:t})=>l.jsxs("div",{className:"relative flex h-9 w-9 shrink-0 items-center",children:[l.jsx("div",{className:"bg-offsetPlus dark:bg-background flex h-8 w-8 items-center justify-center rounded-full",children:l.jsx(_e,{icon:e,size:"md"})}),l.jsx("div",{className:"bg-offset absolute bottom-0 right-0 flex h-4 w-4 items-center justify-center rounded-full",children:l.jsx(_e,{icon:t,size:"2xs"})})]});tv.displayName="SidebarNotificationsListItemIcon";const F_=({items:e})=>{const t=l.jsx("span",{className:"h-0.5 w-0.5 bg-current"});return l.jsx("div",{className:"line-clamp-1 flex items-center gap-1",children:e.map((n,r)=>l.jsxs(f.Fragment,{children:[r>0&&t,n]},r))})};F_.displayName="SidebarNotificationsListItemMeta";const SSt=({notification:e})=>{const{$t:t}=K(),{openModal:n}=St(),{openToast:r}=Yn(),s=f.useCallback(a=>{const i={type:"default",text:t({defaultMessage:"Edit alert",id:"84mzvWHJ9O"}),icon:vd,onClick:async()=>{const o=await lI({taskId:e.metadata.task_id,reason:"SidebarNotificationsListItemFinanceAlert"});if(!o){r(t({defaultMessage:"Alert not found",id:"QpInvMOaBv"}),"error");return}n("financeAlertModal",{task:o})}};return[a.markAsRead,i,a.deleteNotification]},[t,e.metadata.task_id,n,r]);return l.jsxs(nv,{notification:e,getMenuItems:s,children:[l.jsx(tv,{primaryIcon:y1,secondaryIcon:bw}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(rv,{notification:e,title:e.title}),l.jsx(j,{variant:"tiny",color:"light",className:"line-clamp-1",children:l.jsx(F_,{items:[t({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),t({defaultMessage:"Task Ran",id:"fDv8DRTZH3"})]})})]})]})},ESt=e=>[e.markAsRead,e.deleteNotification],V4e=({notification:e,focused:t,onOpen:n,onClose:r,getMenuItems:s=ESt})=>{const{$t:a}=K(),i=Ks(),{markAsRead:o,markAsDeleted:c}=pI({reason:"SidebarNotificationsListItemMenu"}),u=f.useMemo(()=>({type:"default",text:a({defaultMessage:"Mark as read",id:"64Hq/+q+KI"}),icon:da,onClick:()=>{o.mutate({notificationId:e.notification_id})}}),[o,a,e.notification_id]),d=f.useMemo(()=>({type:"default",text:a({defaultMessage:"Delete notification",id:"+Nk8iq3V1o"}),icon:r1,onClick:()=>{c.mutate({notificationId:e.notification_id})}}),[c,a,e.notification_id]),h=f.useMemo(()=>s({markAsRead:u,deleteNotification:d}),[s,u,d]);return l.jsx("div",{className:U("pointer-events-auto col-start-1 row-start-1 self-center justify-self-end opacity-0 transition-opacity group-hover/notification-list-item:opacity-100",{"opacity-100":t}),children:l.jsx(bn,{items:h,isMobileStyle:i,onOpen:n,onClose:r,children:l.jsx(ze,{size:"tiny",icon:gd})})})};V4e.displayName="SidebarNotificationsListItemMenu";const kSt=({notification:e})=>{const{$t:t}=K(),{openModal:n}=St(),{openToast:r}=Yn(),s=f.useMemo(()=>gA(e.metadata.model_preference)??ge.DEFAULT,[e.metadata.model_preference]),a=f.useMemo(()=>pA(s),[s]),i=pse(s),o=f.useCallback(async()=>{const h=await lI({taskId:e.metadata.task_id,reason:"SidebarNotificationsListItemFinanceAlert"});return h||(r(t({defaultMessage:"Task not found",id:"tTgHFYa2PN"}),"error"),null)},[e.metadata.task_id,r,t]),c=f.useCallback(async()=>{const h=await o();h&&n("scheduledTaskModal",{initial:h,source:"notifications_panel"})},[o,n]),u=f.useCallback(async()=>{const h=await o();if(h)try{await x4e({taskId:h.id,payload:{status:"PAUSED"},reason:"SidebarNotificationsListItemScheduledTaskComplete"})}catch(m){Q.error(m),r(t({defaultMessage:"Failed to turn off task",id:"0sPa5XFHCj"}),"error")}},[o,r,t]),d=f.useCallback(h=>{const m={type:"default",text:t({defaultMessage:"Turn off task",id:"+H7RughJHn"}),icon:TFe,onClick:u},p={type:"default",text:t({defaultMessage:"Edit task",id:"dsTLW1Kx6B"}),icon:vd,onClick:c};return[h.markAsRead,m,p,h.deleteNotification]},[t,u,c]);return l.jsxs(nv,{notification:e,getMenuItems:d,children:[l.jsx(tv,{primaryIcon:i,secondaryIcon:ww}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(rv,{notification:e,title:e.title}),l.jsx(j,{variant:"tiny",color:"light",className:"line-clamp-1",children:l.jsx(F_,{items:[t(vr[a].name),t({defaultMessage:"Task Ran",id:"fDv8DRTZH3"})]})})]})]})},MSt=({notification:e})=>{const{$t:t}=K(),n=f.useMemo(()=>gA(e.metadata.model_preference)??ge.DEFAULT,[e.metadata.model_preference]),r=f.useMemo(()=>pA(n),[n]),s=pse(n);return l.jsxs(nv,{notification:e,children:[l.jsx(tv,{primaryIcon:s,secondaryIcon:da}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(rv,{notification:e,title:e.title}),l.jsx(j,{variant:"tiny",color:"light",className:"line-clamp-1",children:l.jsx(F_,{items:[t(vr[r].name),t({defaultMessage:"Completed",id:"95stPqCnfu"})]})})]})]})},TSt=(e,t)=>{const r=Date.now()-t,s=Math.floor(r/6e4),a=Math.floor(s/60);return s<1?e.formatNumber(1,{style:"unit",unit:"minute",unitDisplay:"narrow"}):s<60?e.formatNumber(s,{style:"unit",unit:"minute",unitDisplay:"narrow"}):$j(new Date(t))?e.formatNumber(a,{style:"unit",unit:"hour"}):Kdt(new Date(t))?e.formatDate(new Date(t),{month:"short",day:"numeric"}):e.formatDate(new Date(t),{year:"numeric",month:"short",day:"numeric"})},NSt=({notification:e,className:t,focused:n})=>{const r=K(),s=f.useMemo(()=>TSt(r,e.created_at_ms),[r,e.created_at_ms]);return l.jsxs("div",{className:U("col-start-1 row-start-1 flex items-center gap-1 self-start justify-self-end text-nowrap transition-opacity group-hover/notification-list-item:opacity-0",t,{"opacity-0":n}),children:[l.jsx(j,{variant:"tiny",color:"light",children:s}),l.jsx(RSt,{isRead:e.is_read})]})},RSt=({isRead:e})=>l.jsx("div",{className:U("bg-super h-1 w-1 rounded-full",{"opacity-0":e})}),G4e=({notification:e})=>{switch(e.type){case"SCHEDULED_TASK_COMPLETE":return l.jsx(kSt,{notification:e});case"THREAD_COMPLETE":return l.jsx(MSt,{notification:e});case"FINANCE_ALERT":return l.jsx(SSt,{notification:e});default:return l.jsx(ASt,{notification:e})}},ASt=({notification:e})=>l.jsxs(nv,{notification:e,children:[l.jsx(tv,{primaryIcon:bw,secondaryIcon:da}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(rv,{notification:e,title:e.title}),l.jsx(Dn,{tooltipText:e.body,tooltipLayout:"bottom",children:l.jsx(j,{variant:"tiny",color:"light",className:"line-clamp-1",children:e.body})})]})]});G4e.displayName="SidebarNotificationsListItem";const nv=({notification:e,getMenuItems:t,children:n})=>{const[r,s]=f.useState(!1),[a,i]=f.useState(!1);return l.jsxs("div",{className:"group/notification-list-item grid grid-cols-[1fr_max-content] grid-rows-1 gap-2",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[l.jsx(q4e,{notification:e,focused:r||a,className:"col-span-full row-start-1",children:n}),l.jsxs("div",{className:"pointer-events-none col-start-2 row-start-1 grid grid-cols-1 grid-rows-1 pr-1",children:[l.jsx(NSt,{notification:e,focused:r,className:"mt-1.5"}),l.jsx(V4e,{notification:e,focused:r,getMenuItems:t,onOpen:()=>s(!0),onClose:()=>s(!1)})]})]})};nv.displayName="SidebarNotificationsListItemContainer";const q4e=({notification:e,className:t,focused:n,children:r})=>{const{markAsRead:s}=pI({reason:"SidebarNotificationsListItemContainer"}),a=f.useCallback(()=>{e.is_read||s.mutate({notificationId:e.notification_id})},[e.is_read,e.notification_id,s]),i=f.useMemo(()=>U("hover:bg-offsetPlus grid gap-2 rounded p-1 text-left grid-cols-subgrid",t,{"bg-offsetPlus":n}),[n,t]);return e.deeplink_path?l.jsx(it,{href:e.deeplink_path,className:i,onClick:a,children:l.jsx("div",{className:"col-start-1 row-start-1 flex gap-2",children:r})}):l.jsx("button",{type:"button",className:i,onClick:a,children:l.jsx("div",{className:"col-start-1 row-start-1 flex gap-2",children:r})})};q4e.displayName="SidebarNotificationsListItemAction";const rv=({notification:e,title:t})=>{const{formatDate:n}=K(),r=f.useMemo(()=>n(e.created_at_ms,{dateStyle:"full",timeStyle:"short"}),[e.created_at_ms,n]),s=f.useMemo(()=>`${t} - ${r}`,[t,r]);return l.jsx(Dn,{tooltipText:s,tooltipLayout:"bottom",delayDuration:100,children:l.jsx(j,{variant:"small",className:"line-clamp-1 text-left",children:t})})};rv.displayName="SidebarNotificationsListItemTitle";const K4e=({enabled:e})=>{const{notifications:t,refetch:n,isLoading:r,hasNextPage:s,fetchNextPage:a,isFetchingNextPage:i}=CSt({enabled:e,reason:"SidebarNotificationsList"}),o=ot(),{ref:c,isIntersecting:u}=xie({threshold:.5});f.useEffect(()=>{u&&s&&!i&&a()},[u,s,i,a]);const d=f.useCallback(()=>{o.setQueryData(yu(),h=>{if(!(!h||h.pages.length===0))return{pages:[h.pages[0]],pageParams:[h.pageParams[0]]}})},[o]);return f.useEffect(()=>{e&&(d(),n())},[e,d,n]),r?l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx(Nq,{count:5})}):t.length===0?l.jsx(jSt,{}):l.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto",children:[t.map(h=>l.jsx(G4e,{notification:h},h.notification_id)),i&&l.jsx(Nq,{count:1}),l.jsx("div",{ref:c})]})};K4e.displayName="SidebarNotificationsList";const Nq=({count:e})=>l.jsx(hs,{children:l.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:e}).map((t,n)=>l.jsxs("div",{className:"grid grid-cols-[max-content_1fr] items-center gap-2",children:[l.jsx("div",{className:"bg-offsetPlus flex h-8 w-8 items-center justify-center rounded-full"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("div",{className:"bg-offsetPlus h-4 w-full rounded"}),l.jsx("div",{className:"bg-offsetPlus h-4 w-1/2 rounded"})]})]},n))})}),jSt=()=>{const{$t:e}=K();return l.jsxs(j,{variant:"tiny",color:"light",className:"flex flex-col items-center justify-center gap-2",children:[l.jsx(_e,{icon:Cee,size:"2xl"}),l.jsx("span",{className:"w-36 text-center",children:e({defaultMessage:"Your notifications will appear here",id:"byRgJ1ceG3"})})]})},Y4e=({source:e,onOpen:t,onClose:n,children:r})=>{const{$t:s}=K(),a=Ks(),{openModal:i}=St(),o=[{type:"default",text:s({defaultMessage:"Scheduled",id:"cXAlMRerxW"}),icon:ww,onClick:()=>{t?.(),i("scheduledTaskModal",{source:e,onClose:n})}},{type:"default",text:s({defaultMessage:"Price alert",id:"XMapyUiPpV"}),icon:bw,onClick:()=>{t?.(),i("financeAlertModal",{onClose:n})}}];return l.jsx(bn,{items:o,isMobileStyle:a,boxProps:{className:"shrink-0"},children:r??l.jsx(ye,{variant:"border",size:"small",icon:Tr})})};Y4e.displayName="CreateTaskDropdown";const Q4e=()=>{const{$t:e}=K(),t=Ks(),{setIsSelected:n,setAutoClose:r}=uj(),{markAllAsRead:s,markAllReadAsDeleted:a}=pI({reason:"SidebarNotificationsPanelHeader"}),i=[{type:"default",text:e({defaultMessage:"Mark all as read",id:"/af+jQ8xvW"}),icon:da,onClick:()=>{s.mutate()}},{type:"default",text:e({defaultMessage:"Delete all read",id:"CpNQrgahgD"}),icon:r1,onClick:()=>{a.mutate()}}],o=f.useCallback(()=>{n(!0),r(!1)},[n,r]),c=f.useCallback(()=>{setTimeout(()=>{r(!0)},0)},[r]);return l.jsxs("div",{className:"flex items-center justify-between gap-2 pl-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(j,{variant:"smallBold",children:e({defaultMessage:"Inbox",id:"VCMKbtL+3b"})}),l.jsx(bn,{items:i,isMobileStyle:t,boxProps:{className:"shrink-0"},children:l.jsx(ze,{size:"tiny",icon:gd})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(it,{href:xa.Notifications.href,className:"ml-auto",children:l.jsx(ze,{size:"tiny",icon:Sw,toolTip:e({defaultMessage:"Notifications settings",id:"Iq9hlz9gf/"})})}),l.jsx(Y4e,{source:"notifications_panel",onOpen:o,onClose:c,children:l.jsx(ze,{size:"tiny",icon:ww,toolTip:e({defaultMessage:"Create an automation",id:"YhX3c1rLvb"})})})]})]})};Q4e.displayName="SidebarNotificationsPanelHeader";const Rq=352,X4e=({ref:e,isOpen:t,onMouseEnter:n,onMouseLeave:r})=>l.jsx("div",{ref:e,className:U("group/sidebar-notifications ease-inCubic pointer-events-none absolute inset-y-0 left-0 shadow-xl duration-100",{"-translate-x-[10%] opacity-0":!t}),style:{width:Rq+zf},onMouseEnter:n,onMouseLeave:r,children:l.jsx(H,{variant:"offset",className:U("border-borderMain/50 absolute bottom-0 right-0 top-0 border-r p-2",{"pointer-events-auto":t}),style:{width:Rq},children:l.jsxs("div",{className:"grid h-full grid-cols-1 grid-rows-[min-content_1fr] gap-2",children:[l.jsx(Q4e,{}),l.jsx(K4e,{enabled:t})]})})});X4e.displayName="SidebarNotifications";const Z4e=()=>{const{isAppNotificationsEnabled:e}=wSt(),t=ut(),{isSelected:n,isHovered:r,isOpen:s,setIsSelected:a,setIsHovered:i,close:o}=uj(),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useCallback(()=>{i(!0),c.current&&clearTimeout(c.current)},[i]),m=f.useCallback(()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{i(!1)},500)},[i]),p=f.useCallback(()=>{if(n){o();return}a(!n)},[n,a,o]),g=f.useCallback(v=>{u.current?.contains(v.target)||d.current?.contains(v.target)||o()},[o]);return f.useEffect(()=>(document.addEventListener("click",g),()=>{document.removeEventListener("click",g)}),[g]),!e||!t?null:l.jsxs(l.Fragment,{children:[l.jsx(X4e,{ref:d,isOpen:s,onMouseEnter:h,onMouseLeave:m}),l.jsx(W4e,{ref:u,hovered:r,selected:n,onMouseEnter:h,onMouseLeave:m,onClick:p})]})};Z4e.displayName="SidebarNotifications";const J4e=f.memo(({icon:e,title:t,selected:n,hovered:r,href:s,onHover:a,onLeave:i,onClick:o})=>l.jsxs(it,{href:s,"data-testid":`sidebar-${t.toLowerCase()}`,className:"p-sm group flex w-full flex-col items-center justify-center gap-0.5",onMouseEnter:a,onMouseLeave:i,onClick:o,children:[l.jsx(mI,{icon:e,selected:n,hovered:r}),l.jsx(j,{variant:"micro",color:n?"default":"light",className:U("line-clamp-2 w-full text-ellipsis text-center leading-[1.1]",{"font-medium":n}),children:t})]}));J4e.displayName="SidebarTab";const e5e=({showBottomLabels:e})=>{const t="sidebar-v2-account-menu",{$t:n}=K(),r=ha({reason:t}),s=Dt(),{isPro:a,isMax:i,hasAccessToProFeatures:o}=At(),c=jve({reason:t}),u=SR().sidebar,d=c&&!u&&une(),h=f.useCallback(m=>l.jsx(Dn,{showTooltip:!!s?.user?.username&&!e,tooltipText:n({defaultMessage:"Account & Settings",id:"zWaEuojd3m"}),tooltipLayout:"right",asChild:!0,children:l.jsxs("div",{className:"gap-xs group flex w-full cursor-pointer flex-col items-center",children:[l.jsxs("div",{className:"relative select-none duration-100 group-hover:opacity-80",children:[r?l.jsx(fm,{inverse:!0}):l.jsx(Sn,{size:"medium",showProBadge:a,showMaxBadge:i,badgeProps:{show:d,className:"bg-super border-offset dark:border-offsetDark"},user:s?.user?.image}),l.jsx(Ia,{className:U("text-textMain/35 group-hover:text-subtle absolute right-0 top-1/2 size-3 -translate-y-1/2 translate-x-[calc(100%+2px)] duration-100",{"!text-subtle -translate-y-[calc(50%-2px)]":m})})]}),e&&l.jsx(j,{variant:"micro",color:"light",className:U("px-xs w-full truncate text-center",{"mt-two":o}),children:n({defaultMessage:"Account",id:"TwyMauNL3r"})})]})}),[e,s?.user?.username,n,r,a,i,s?.user?.image,d,o]);return l.jsx(Ive,{trigger:h})};e5e.displayName="SidebarV2AccountMenu";const PSt=()=>{const{$t:e}=K();return l.jsx(Dn,{tooltipText:e({defaultMessage:"Download",id:"5q3qC0sC3r"}),className:"inline-flex",tooltipLayout:"right",asChild:!0,children:l.jsxs("div",{className:"gap-xs flex flex-col items-center",children:[l.jsx(ij,{variant:"iconOnly"}),l.jsx(j,{variant:"micro",color:"light",className:"px-xs w-full truncate text-center",children:e({defaultMessage:"Install",id:"ubmFc8rrea"})})]})})},t5e=()=>{const e="sidebar-v2-enterprise-menu",{$t:t}=K(),{organization:n}=Gt({reason:e}),r=hm();return l.jsx(Dn,{tooltipText:n?.display_name,tooltipLayout:"right",asChild:!0,children:l.jsx(it,{href:`${r}/org`,className:"flex justify-center",children:n?.logo?l.jsx(Sn,{size:"medium",user:n?.logo,altText:"Logo"}):l.jsx(ye,{ariaLabel:t({defaultMessage:"Organization settings",id:"8JjaslSBQx"}),pill:!0,size:"small",variant:"inverted"})})})};t5e.displayName="SidebarV2EnterpriseMenu";const n5e=()=>{const{$t:e}=K(),{trackEvent:t}=Ne(),{openModal:n}=St(),r=f.useCallback(()=>{t("sidebar pro upsell clicked"),n("pricingModal",{origin:rt.SIDEBAR_PRO_UPSELL})},[t,n]);return l.jsxs("button",{className:"gap-xs group inline-flex appearance-none flex-col items-center",onClick:r,"data-testid":"sidebar-upgrade-button",children:[l.jsx(H,{variant:"offsetPlus",className:"flex size-8 items-center justify-center rounded-full duration-100 group-hover:opacity-80",children:l.jsx(j,{color:"default",children:l.jsx(il,{className:"size-4"})})}),l.jsx(j,{variant:"micro",color:"light",className:"px-xs w-full truncate text-center",children:e({defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})]})};n5e.displayName="SidebarV2UpgradeButton";const r5e=T.memo(({item:{title:e,slug:t,emoji:n,user_permission:r},sidebarOpen:s})=>{const{setMobileSidebarOpen:a}=kl(),i=`/spaces/${t}`,o=f.useCallback(()=>{a(!1)},[a]),c=NA(r),u=Lt();return l.jsx(vs,{href:i,text:e,fadeOut:!0,selected:u===i,sidebarOpen:s,onClick:o,icon:c?l.jsx("div",{className:"flex size-[12px] items-center justify-center",children:l.jsx(_e,{icon:ZLe,className:"text-subtle size-4 shrink-0"})}):n?l.jsx("div",{className:"flex size-[12px] items-center justify-center",children:l.jsx(b1,{unified:n,size:"tiny"})}):l.jsx("div",{className:"flex size-[12px] items-center justify-center",children:l.jsx(_e,{icon:_l,className:"text-subtle size-4 shrink-0"})})})});r5e.displayName="CollectionHistoryItemV2";const s5e=()=>{const{$t:e}=K(),t=Rt(),{createCollection:n,createCollectionForThread:r}=d3({reason:"create-new-space"}),s=f.useCallback(()=>{const i=e({defaultMessage:"New Space",id:"t5xj3BH/Ni"});n({title:i,description:"",emoji:"",instructions:"",accessLevel:cx,enableWebByDefault:!0,callback:o=>{t.push(`/spaces/${o.slug}`)}})},[n,e,t]),a=f.useCallback((i,o)=>{const c=e({defaultMessage:"New Space",id:"t5xj3BH/Ni"});r({title:c,description:"",emoji:"",instructions:"",accessLevel:cx,enableWebByDefault:!0,entryUUID:i,frontendContextUUID:o,callback:u=>{t.push(`/spaces/${u.slug}`)}})},[r,e,t]);return f.useMemo(()=>({handleCreateNewSpace:s,handleCreateNewSpaceForThread:a}),[s,a])};function a5e(){const{value:e}=Rr({flag:"spaces-creation-redesign",subjectType:"user_nextauth_id",defaultValue:!1});return e}const i5e=T.memo(({item:{title:e,slug:t,emoji:n},sidebarOpen:r})=>{const{setMobileSidebarOpen:s}=kl(),a=Lt(),i=`/spaces/${t}`,o=f.useCallback(()=>{s(!1)},[s]);return l.jsx(vs,{href:i,text:e,fadeOut:!0,selected:a===i,sidebarOpen:r,onClick:o,icon:n?l.jsx("div",{className:"flex size-[12px] items-center justify-center",children:l.jsx(b1,{unified:n,size:"tiny"})}):l.jsx("div",{className:"flex size-[12px] items-center justify-center",children:l.jsx(_e,{icon:_l,className:"text-subtle size-4 shrink-0"})})})});i5e.displayName="SpaceHistoryItem";const ISt=({category:e})=>{const{$t:t}=K();let n="/spaces";return e==="invited"?n="/spaces#invites":e==="organization"?n="/spaces#organization":(e==="private"||e==="saved"||e==="shared")&&(n="/spaces#my-spaces"),l.jsx(it,{href:n,className:"m-0 w-full border-none bg-transparent p-0 text-left no-underline",children:l.jsx(j,{variant:"tinyRegular",color:"light",className:"duration-200 hover:opacity-60",children:t({defaultMessage:"View All",id:"wbcwKddwLa"})})})},Aq={organization:{defaultMessage:"Organization",id:"K56Dims7Up"},private:{defaultMessage:"Private",id:"viXE3205/2"},shared:{defaultMessage:"Shared",id:"kWI6zXRaHY"},saved:{defaultMessage:"Saved",id:"fsB/4pdUqN"},invited:{defaultMessage:"Invites",id:"Wy+IdbkBFc"}},OSt={organization:"/spaces#organization",private:"/spaces#my-spaces",shared:"/spaces#my-spaces",saved:"/spaces#my-spaces",invited:"/spaces#invites"};function LSt({category:e,accessory:t,sidebarOpen:n,isLastCategory:r}){const s="spaces-sidebar-section",{$t:a}=K(),{data:i,isLoading:o}=IXe({category:e,reason:s}),c=f.useMemo(()=>i?.pages.flatMap(u=>u).filter(u=>u!==void 0)??je,[i?.pages]);return o||c.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(vh,{href:OSt[e]||"/spaces",text:a(Aq[e]||Aq.private),accessory:t}),l.jsx(o0,{show:!0,data:c,type:"space_navbar_item",HistoryComponent:({item:u,position:d})=>l.jsx(i5e,{item:u,position:d,sidebarOpen:n}),wrapperClassName:"!m-0 !px-0 !border-0 flex flex-col gap-1.5"}),c[c.length-1]?.has_next_page&&l.jsx(ISt,{category:e}),!r&&l.jsx(c0,{})]})}const jq="pb-lg flex flex-col gap-[12px]",o5e=f.memo(({sidebarOpen:e})=>{const t="spaces-sidebar",{data:n,isLoading:r}=PXe({reason:t}),s=ut(),{$t:a}=K(),i=Cl(),{openModal:o}=St(),c=a5e(),u=Array.isArray(i?.slug)?i.slug[0]:i?.slug,{collection:d}=_d({collectionSlug:u,reason:t}),{handleCreateNewSpace:h}=s5e(),{templateSpace:m}=lae({collectionSlug:u??"",reason:t}),p=f.useCallback(()=>{o("spaceCreate",{existingCollection:null,onCreate:null})},[o]),g=f.useCallback(()=>{c?h():p()},[c,h,p]),{openVisitorLoginUpsell:v}=Gr({enabled:!s}),x=!(n!==void 0&&((n.organization_spaces?.length??0)>0||(n.saved_spaces?.length??0)>0||(n.private_spaces?.length??0)>0||(n.invited_spaces?.length??0)>0||(n.shared_spaces?.length??0)>0)),b=_$.filter(w=>{const _=(()=>{switch(w){case"private":return n?.private_spaces;case"shared":return n?.shared_spaces;case"saved":return n?.saved_spaces;case"organization":return n?.organization_spaces;case"invited":return n?.invited_spaces;default:return[]}})();return _&&_.length>0});return x?l.jsxs("div",{className:jq,children:[l.jsx(vs,{href:"/spaces/templates",text:a({defaultMessage:"Welcome",id:"PwaN2oE2pC"}),icon:l.jsx(_e,{icon:_l,size:"sm"}),sidebarOpen:e}),r?l.jsx(zx,{}):l.jsx(vs,{icon:Tr,onClick:w=>{s?(w.preventDefault(),g()):(w.preventDefault(),v({title:a({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:rt.SPACES_PAGE}))},text:a({defaultMessage:"Create a Space",id:"SqVNRzqwJz"}),deemphasized:!0,testId:"create-space-empty-state-button",sidebarOpen:e})]}):l.jsxs("div",{className:jq,children:[l.jsxs(l0,{children:[l.jsx(vs,{href:"/spaces/templates",text:a({defaultMessage:"Templates",id:"A3ptulOTB3"}),icon:l.jsx(_e,{icon:KDe}),sidebarOpen:e}),!!m&&d&&l.jsx(r5e,{item:d,position:0,sidebarOpen:e}),l.jsx(vs,{onClick:g,text:a({defaultMessage:"Create new Space",id:"ZyNYnZRkPz"}),icon:Tr,sidebarOpen:e})]}),l.jsx(c0,{}),r?l.jsx(zx,{}):_$.map(w=>l.jsx(LSt,{category:w,sidebarOpen:e,accessory:w==="private"?l.jsx(ze,{toolTip:a({defaultMessage:"Create new Space",id:"ZyNYnZRkPz"}),icon:Tr,size:"tiny",extraCSS:"-mr-sm",onClick:g,testId:"create-space-plus-btn"}):void 0,isLastCategory:w===b[b.length-1]},w))]})});o5e.displayName="SpacesSidebar";const DSt=()=>{const{isMax:e}=At(),{isEnterprise:t,isFetching:n}=sse({reason:"sidebar-v2"}),s=ut()&&!n&&!t;return f.useMemo(()=>s&&!e,[e,s])},FSt=e=>{switch(e?.split("/").slice(1)?.[0]??""){case"":case"search":case"page":return"home";case"spaces":case"collections":return"spaces";case"discover":return"discover";default:return"home"}},Dy=e=>{const t=e?.split("/").slice(1);return t?["finance"].includes(t[0])?"finance":["travel"].includes(t[0])?"travel":["shopping"].includes(t[0])?"shopping":["academic"].includes(t[0])?"academic":null:null},l5e=f.memo(({appContentWrapperRef:e,minimalMode:t})=>{const n="sidebar-v2",[r,s]=f.useState(null),a=Lt(),i=f.useRef(null),o=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),{isSidebarPinned:m,actions:p}=on(),g=ha({reason:n}),v=f.useRef(null),[y,x]=f.useState(null),[b,w]=f.useState(!1),_=Rt(),C=ut(),{openVisitorLoginUpsell:S}=Gr({enabled:!C}),k=Pit({reason:n}),[E,M]=f.useState(!1),[N,R]=f.useState(!1),A=m&&!t,{setBrandDropdownOpen:P,handleBrandCopy:O,handleDownload:I,handleLogoCopy:L,isBrandDropdownOpen:F,handlePopoverClose:D,toastCopy:B,toastVisible:$}=Ove(),W=cn(),{isWindowsApp:X}=Nt(),{handleShowPanel:ee}=dm(),{shouldShowLossAversionModal:ne,handleOpenLossAversion:V}=w1(),{isEnterprise:q}=sse({reason:"sidebar-v2"}),{isOpen:z,isSelected:te,setIsHidden:Y,close:Z}=uj(),re=pe=>{pe.button===2&&(pe.preventDefault(),P(!0))},G=pe=>{Y(!0),o.current=setTimeout(()=>{s(pe)},100),i.current&&clearTimeout(i.current),d.current&&clearTimeout(d.current),c.current&&clearTimeout(c.current),h.current&&clearTimeout(h.current)},oe=y||FSt(a),{$t:ae}=K(),ie=()=>{o.current&&clearTimeout(o.current),i.current=setTimeout(()=>{Y(!1),s(null)},500)},xe=()=>{p.setIsSidebarPinned(!m)},de=f.useCallback(()=>{s(null),w(!1)},[s,w]),Se=()=>{i.current&&clearTimeout(i.current),d.current&&clearTimeout(d.current),c.current&&clearTimeout(c.current),h.current&&clearTimeout(h.current)},qe=()=>{o.current&&clearTimeout(o.current),c.current=setTimeout(()=>{s(null),Y(!1)},150),d.current=setTimeout(()=>{Y(!1),w(!1)},150)},be=f.useMemo(()=>{if(r||b){const pe=r??oe;return v.current=pe,pe}return v.current&&!A?(setTimeout(()=>{v.current=null},500),v.current):A||b?oe:"home"},[r,oe,A,b]),ve=f.useCallback(()=>{if(de(),Z(),X)ee();else if(ne)V({args:{callback:()=>{_.push("/")},origin:rt.NEW_THREAD_BUTTON}});else{_.push("/");const pe=document.getElementById("ask-input");pe&&pe.focus()}},[ne,V,_,X,ee,de,Z]);f.useEffect(()=>{x(null)},[a]);const Be=r!==null||A||b,We=f.useCallback(()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{de()},1e3)},[de]),Le=f.useMemo(()=>[{id:"home",title:ae({defaultMessage:"Home",id:"ejEGdxSUGs"}),icon:Uve,menuComponent:l.jsx(ySt,{isOpen:Be,onCreateClick:de,onDeleteThreadOrBookmark:We,isConfiguring:N,setIsConfiguring:R}),href:"/",actions:[{text:ae({defaultMessage:"Customize Sidebar",id:"/4kt7TXcZf"}),onClick:()=>{R(!0)},show:!0,type:"default",size:Mt.small,icon:sM}]},{id:"discover",title:ae({defaultMessage:"Discover",id:"cE4HfwyEyr"}),icon:Fve,accessoryIcon:sM,accessoryClick:pe=>{C?M(!0):(pe.preventDefault(),S({title:ae({defaultMessage:"Sign in to customize your Discover Feed",id:"tlclIdp++4"}),origin:rt.DISCOVER_TOPICS}))},accessoryTooltip:ae({defaultMessage:"Personalize Discover",id:"d0oRgWBA8Q"}),href:"/discover/",menuComponent:l.jsx(Jve,{isConfiguring:E,setConfiguring:M,sidebarOpen:Be})},{id:"spaces",title:ae({defaultMessage:"Spaces",id:"ZMoczsYew9"}),icon:_l,menuComponent:l.jsx(o5e,{sidebarOpen:Be}),href:k,requireLogin:!0}],[E,M,ae,C,S,Be,de,We,N,R,k]),De=f.useMemo(()=>Le.find(pe=>pe.id===be),[be,Le]),Ve=()=>{d.current&&clearTimeout(d.current),u.current=setTimeout(()=>{w(!0)},100),h.current&&clearTimeout(h.current)},le=()=>{u.current&&clearTimeout(u.current),d.current=setTimeout(()=>{w(!1)},100)},we=f.useCallback(pe=>{(pe.metaKey||pe.ctrlKey)&&pe.key===";"&&(pe.preventDefault(),p.setIsIncognito(!g))},[p,g]);f.useEffect(()=>(document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}),[we]);const Je=DSt(),Te=!t&&!X&&!W&&C;return l.jsxs(H,{variant:"transparent",className:U("group/sidebar relative z-10 hidden min-h-0 flex-none flex-row-reverse md:flex",{"duration-100":t}),children:[t&&l.jsx(H,{variant:"background",className:"absolute inset-y-0 -right-px left-0"}),l.jsx(H4e,{isOpen:Be&&!z,title:De?.title??"closed",onPin:xe,pinned:A,onMouseEnter:Se,onMouseLeave:qe,appContentWrapperRef:e,actions:De?.actions,canPin:!t,accessory:De?.accessoryIcon&&l.jsx(ze,{icon:De.accessoryIcon,onClick:De.accessoryClick,size:"tiny",toolTip:De.accessoryTooltip,tooltipLayout:"bottom"}),children:De?.menuComponent}),l.jsxs(H,{variant:"transparent",style:{width:zf},className:"py-md relative flex h-full flex-col items-center",onMouseEnter:Ve,onMouseLeave:le,children:[l.jsx(cj,{onLogoCopy:L,onBrandmarkCopy:O,onDownload:I,onClose:D,isOpen:F,children:l.jsx(it,{href:"/",className:U("mt-xs active:ease-outExpo block duration-100 ease-out active:scale-[0.97]",{"opacity-50 duration-100":t,"!opacity-100":t&&Be}),onContextMenu:re,children:l.jsx(Es,{variant:"mark",size:"small",includeEffects:!0})})}),l.jsxs("div",{className:U("pt-sm relative flex w-full flex-col items-center",{"opacity-0 transition-opacity duration-100":t,"opacity-100":t&&Be}),children:[l.jsx(ye,{icon:Tr,onClick:ve,pill:!0,extraCSS:"my-lg hover:scale-105",toolTip:ae({defaultMessage:"New Thread",id:"76XSxT3hV8"}),tooltipLayout:"right",testId:"sidebar-new-thread"}),Le.map(pe=>l.jsx(J4e,{icon:pe.icon,title:pe.title,selected:oe===pe.id&&!te,hovered:r===pe.id,href:pe.href,onHover:()=>G(pe.id),onLeave:ie,onClick:Fe=>{pe.requireLogin&&!C?(Fe.preventDefault(),S({title:ae({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:rt.SPACES_PAGE})):x(pe.id)}},pe.id))]}),l.jsxs("div",{className:"pb-sm gap-md mt-auto flex w-full min-w-0 flex-col items-center justify-center [&>*]:w-full",children:[l.jsx(Z4e,{}),l.jsx(e5e,{showBottomLabels:Je}),q&&l.jsx(t5e,{}),Je&&l.jsx(n5e,{}),Je&&Te&&l.jsx(PSt,{})]})]}),l.jsx(Vu,{message:B,variant:"success",isVisible:$,timeout:2})]})});l5e.displayName="SidebarV2";const USt=({appContentWrapperRef:e,minimalMode:t})=>{const{isMobileStyle:n}=Oe({evaluateOnInit:!0});return n?l.jsx(qve,{}):l.jsx(Ait,{children:l.jsx(l5e,{minimalMode:t,appContentWrapperRef:e})})};function BSt({children:e}){const t=f.useRef(null),{setContainer:n}=f.useContext(lN),r=Lt(),s=f.useMemo(()=>r?.startsWith("/b/"),[r]),a=f.useMemo(()=>r?.startsWith("/b/zen"),[r]);return l.jsx(Bat,{ref:n,children:l.jsx(Qke,{children:l.jsxs(dd,{children:[!a&&l.jsx($at,{children:l.jsx(USt,{minimalMode:s,appContentWrapperRef:t})}),l.jsx(Hat,{hasSidebar:!a,ref:t,children:e})]})})})}const $St=["Europe/Vienna","Europe/Brussels","Europe/Sofia","Europe/Zagreb","Asia/Famagusta","Asia/Nicosia","Europe/Prague","Europe/Copenhagen","Europe/Tallinn","Europe/Helsinki","Europe/Paris","Europe/Berlin","Europe/Busingen","Europe/Athens","Europe/Budapest","Europe/Dublin","Europe/Rome","Europe/Riga","Europe/Vilnius","Europe/Luxembourg","Europe/Malta","Europe/Amsterdam","Europe/Warsaw","Atlantic/Azores","Atlantic/Madeira","Europe/Lisbon","Europe/Bucharest","Europe/Bratislava","Europe/Ljubljana","Africa/Ceuta","Atlantic/Canary","Europe/Madrid","Europe/Stockholm"];function Pq(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return $St.includes(e)||e.includes("Europe")}catch(e){return Q.warn("Error detecting user timezone:",e),!0}}function c5e(){const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(!1);f.useEffect(()=>{const o=c=>{c?.detail?.consent==="ALLOW"?t(!0):t(!1)};return window.addEventListener("consentChange",o),()=>{window.removeEventListener("consentChange",o)}},[]),f.useEffect(()=>{if(!Pq()){t(!0),r(!0);return}en(kg)==="true"&&t(!0),r(!0)},[]),f.useEffect(()=>{!en(kg)&&Pq()&&a(!0)},[]);const i=()=>{a(!1)};return f.useMemo(()=>({hasConsent:e,checkedConsent:n,showCookieConsentPopup:s,closeCookieConsentPopup:i}),[n,e,s])}const HSt=T.memo(({closeCookieConsentPopup:e})=>{const{$t:t}=K(),{locale:n}=K(),r=f.useCallback(()=>{Ot(kg,"true",{expires:365}),window.dispatchEvent(new CustomEvent("consentChange",{detail:{consent:"ALLOW"}})),e()},[e]),s=f.useCallback(()=>{Ot(kg,"false",{expires:365}),e()},[e]);return l.jsx($R,{modal:!1,open:!0,children:l.jsxs(HR,{children:[l.jsxs(lR,{children:[l.jsx(Yw,{children:t({defaultMessage:"Cookie Policy",id:"cA0kQYQQMJ"})}),l.jsx(WR,{children:l.jsx(ce,{defaultMessage:'We use cookies to enhance your experience. By clicking "Accept All Cookies" or selecting "Necessary Cookies", you agree to our privacy policy.',id:"VCSjJ9FhMu"})})]}),l.jsx(Kw,{children:l.jsxs(H,{id:"cookie-consent",variant:"background",className:"bottom-sm left-sm right-sm p-md fixed max-w-md rounded-lg border shadow-sm md:left-auto",children:[l.jsxs(j,{variant:"baseSemi",className:"gap-x-sm flex items-center",children:[l.jsx(_e,{icon:bDe,size:"md"}),l.jsx("span",{children:t({defaultMessage:"Cookie Policy",id:"cA0kQYQQMJ"})})]}),l.jsx(j,{variant:"small",color:"light",className:"mb-4 text-sm",children:l.jsx(ce,{defaultMessage:'We use cookies to enhance your experience. By clicking "Accept All Cookies" or selecting "Necessary Cookies", you agree to our <link>privacy policy</link>.',id:"ADl1M4/ost",values:{link:a=>l.jsx(it,{href:Vp[n]?.privacyPolicy||Vp.default.privacyPolicy,className:"underline hover:no-underline",target:"_blank",children:a})}})}),l.jsxs(H,{className:"gap-x-sm flex items-center",children:[l.jsx(ye,{size:"small",variant:"primary",onClick:s,text:t({defaultMessage:"Necessary Cookies",id:"Wzr9ADvGqD"})}),l.jsx(ye,{size:"small",onClick:r,text:t({defaultMessage:"Accept All Cookies",id:"JyT5uF/dGC"})})]})]})})]})})}),u5e=$n({path:"M21.23 7.134h-2.307V2.775a.772.772 0 0 0-.441-.697.795.795 0 0 0-.82.102l-4.893 4.072V1.775c0-.42-.348-.77-.769-.77-.42 0-.77.35-.77.77v4.487L6.339 2.18a.751.751 0 0 0-.82-.102.772.772 0 0 0-.441.697v4.36H2.769A.774.774 0 0 0 2 7.903v8.205c0 .42.349.77.77.77h2.307v4.359c0 .297.174.574.44.697a.73.73 0 0 0 .33.072.802.802 0 0 0 .491-.175l4.893-4.071v4.487c0 .42.348.77.769.77.42 0 .77-.35.77-.77V17.76l4.892 4.071a.802.802 0 0 0 .492.175.73.73 0 0 0 .328-.072.772.772 0 0 0 .441-.697v-4.36h2.308c.42 0 .769-.348.769-.769V7.903a.775.775 0 0 0-.77-.769Zm-3.845-2.718v2.718h-3.262l3.262-2.718Zm-10.77 0 3.262 2.718H6.615V4.416ZM3.538 15.34V8.673h6.606l-4.841 4.84a.768.768 0 0 0-.226.544v1.282H3.538Zm3.077.77v-1.734l4.616-4.615v5.99l-4.616 3.846v-3.488Zm10.77 3.487-4.616-3.847V9.76l4.616 4.616v5.22Zm3.076-4.257h-1.538v-1.282c0-.205-.082-.4-.226-.543l-4.84-4.841h6.605v6.666Z",name:"IconPerplexityMark",variant:"filled"}),d5e=({userIntercomHash:e,appId:t,data:n,reason:r})=>{const s=cn(),a=ut(),i=Dt(),{isPro:o,isMax:c}=At(),{orgUser:u,isEnterprise:d}=Gt({reason:r}),h=f.useMemo(()=>{const g=s?{comet:!0}:{};return{l2wyozh0:{api_base:"https://api-iam.intercom.io",app_id:"l2wyozh0",name:i?.user?.name,email:i?.user?.email,user_hash:e??void 0,is_signed_in:a,is_pro_user:o,is_max_user:c,is_enterprise_user:d,account_type:u?.role,hide_default_launcher:!0,...n,...g},fl4pfvft:{api_base:"https://api-iam.intercom.io",app_id:"fl4pfvft",name:i?.user?.name,email:i?.user?.email,user_hash:e??void 0,is_signed_in:a,is_pro_user:o,is_max_user:c,is_enterprise_user:d,account_type:u?.role,hide_default_launcher:!0,...n,...g},cajnwzjn:{api_base:"https://api-iam.intercom.io",app_id:"cajnwzjn",name:i?.user?.name,email:i?.user?.email,user_hash:e??void 0,is_signed_in:a,is_pro_user:o,is_max_user:c,is_enterprise_user:d,account_type:u?.role,hide_default_launcher:!0,...n,...g}}},[i,e,n,s,o,c,d,u?.role,a]),m=f.useRef(void 0),p=f.useCallback(async()=>{m.current||(m.current=he(async()=>{const{show:g,Intercom:v,shutdown:y,update:x}=await import("./index-5FFPV-FM.js").then(b=>b.i);return{show:g,Intercom:v,shutdown:y,update:x}},[]).then(({show:g,Intercom:v,shutdown:y,update:x})=>(v(h[t]),{show:g,update:x,shutdown:y}))),m.current.then(({show:g,update:v})=>{v(h[t]),g()})},[t,h]);return JA(()=>{m.current?.then(({shutdown:g})=>{g()})}),f.useMemo(()=>({show:p}),[p])};d5e.displayName="useIntercom";async function f5e(){const e=await fetch("/api/version",{method:"GET",headers:{"Content-Type":"application/json"}}),{version:t}=await e.json();return t}function h5e(){const{trackEvent:e}=Ne(),{locale:t}=K(),[n,r]=f.useState(p2.includes(t)?t:gc),s=sHe();return s?p2.includes(s)?n!==s&&r(s):aHe():n!==t&&p2.includes(t)&&r(t),f.useMemo(()=>({locale:n,saveLocale(a){r(a),rHe(a),e("set locale cookie",{locale:a})}}),[n,e])}const WSt=e=>{};function zSt(e){const{onLanguageChange:t=WSt}=e,n=Rt(),{locale:r,saveLocale:s}=h5e(),{isMobileStyle:a}=Oe(),i=f.useCallback(async u=>{s(u),t(u),await m3(),n.refresh("Interface language select")},[s,t,n]),o=f.useMemo(()=>o$e.map(u=>({text:u.label,value:u.locale,type:"default",onClick:()=>i(u.locale)})),[i]),c=f.useMemo(()=>o.find(u=>u.value===r)?.text,[o,r]);return l.jsx(bn,{isMobileStyle:a,items:o,children:l.jsx("div",{className:"w-full md:w-[200px]",children:l.jsx(ye,{size:"small",chevron:!0,chevronIcon:Ia,text:c,layout:"split",fullWidth:!0,variant:"border",testId:"interface-language-select"})})})}const VSt=({hideOnNarrowScreens:e=!1,userIntercomHash:t})=>{const{$t:n}=K(),{show:r}=d5e({appId:"l2wyozh0",userIntercomHash:t,reason:"helper-contact-support"}),{isMobileStyle:s}=Oe(),{isWindowsApp:a}=Nt(),{openModal:i}=St(),{locale:o}=K(),{trackEvent:c}=Ne(),u=Vr(),d=Pve(),h=gl(),m=dA(),[p,g]=f.useState(),[v,y]=f.useState(!1);f.useEffect(()=>{m&&async function(){try{g(await f5e()??"")}catch{}}()},[m]);const x=o in Vp?Vp[o]:Vp.default,b=f.useMemo(()=>m?[{type:"nested",text:"",label:"Internal (PPLX only)",isSubmenuOpen:v,onSubmenuOpen:()=>y(!0),onSubmenuClose:()=>y(!1),submenu:[{type:"default",text:"",label:p===void 0?"Loading current commit...":"Current commit: "+p,show:!0,href:p&&"https://github.com/ppl-ai/agi/commit/"+p,target:"_blank"},{type:"default",text:"",label:h?`Browser: ${h.browser_version}
Extension: ${h.extension_version}
Agent Extension: ${h.agent_extension_version}`:"Browser info is not defined",show:!!h}]}]:[],[m,p,v,h]),w=d?"https://www.perplexity.ai/comet/gettingstarted":"https://www.perplexity.ai/hub/getting-started#what-is-perplexity",_=f.useCallback(()=>{u.showFeedbackForm()},[u]),C=f.useMemo(()=>[{icon:d?Ed:u5e,text:n({defaultMessage:"Get started",id:"/aBLH2Kytu"}),show:!0,href:w,target:"_blank",onClick(){c("help menu item clicked",{href:w,isCometHome:d})}},{icon:hx,text:n({defaultMessage:"FAQ",id:"W8nHSdskn0"}),show:d,href:"http://comet-help.perplexity.ai/en",target:"_blank",onClick(){c("help menu item clicked",{href:"http://comet-help.perplexity.ai/en",isCometHome:d})}},{icon:WF,text:n({defaultMessage:"Report an Issue",id:"C8l3hRgoLu"}),show:d,onClick:_},{icon:hx,text:n({defaultMessage:"Help center",id:"BYkLO/XERT"}),show:!d,href:"https://www.perplexity.ai/hub/helpcenter",target:"_blank",onClick(){c("help menu item clicked",{href:"https://www.perplexity.ai/hub/helpcenter",isCometHome:d})}},{icon:LDe,text:n({defaultMessage:"Changelog",id:"MQcAqlXZ5R"}),show:!d,href:"https://www.perplexity.ai/changelog",target:"_blank",onClick(){c("help menu item clicked",{href:"https://www.perplexity.ai/changelog",isCometHome:d})}},{icon:kee,text:n({defaultMessage:"Blog",id:"tv5FG3fVPd"}),show:!d,href:"/blog",target:"_blank",onClick(){c("help menu item clicked",{href:"/blog",isCometHome:d})}},{icon:F4,text:n({defaultMessage:"Keyboard shortcuts",id:"vzYPVXl4by"}),show:!a,onClick(){i("keyboardShortcutHelperModal",null),c("help menu item clicked",{action:"shortcut modal",isCometHome:d})}},{icon:F4,text:n({defaultMessage:"Keyboard shortcuts",id:"vzYPVXl4by"}),show:a,onClick(){i("keyboardShortcutEditorModal",null),c("help menu item clicked",{action:"shortcut modal",isCometHome:d})}},{icon:gae,text:n({defaultMessage:"{pplx} {pro}",id:"QDSn6QIReR"},{pplx:"Perplexity",pro:"Pro"}),show:!0,href:"/pro",target:"_blank",onClick(){c("help menu item clicked",{href:"/pro",isCometHome:d})}},{icon:n1,text:n({defaultMessage:"Enterprise",id:"CDLJ0Wjq0x"}),show:!0,href:"/enterprise",target:"_blank",onClick(){c("help menu item clicked",{href:"/enterprise",isCometHome:d})}},{icon:oM,text:n({defaultMessage:"Sonar API",id:"m21oy6OJo7"}),show:!0,href:"https://sonar.perplexity.ai/",target:"_blank",onClick(){c("help menu item clicked",{href:"https://sonar.perplexity.ai/",isCometHome:d})}},{icon:nFe,text:n({defaultMessage:"Contact Support",id:"YdQxfwJ5wQ"}),show:!0,onClick(){r()}},{type:"separator",show:!0},{text:"",label:n({defaultMessage:"Careers",id:"yJ1ORHjbX8"}),show:!0,href:"https://www.perplexity.ai/careers",target:"_blank",onClick(){c("help menu item clicked",{href:"https://www.perplexity.ai/careers",isCometHome:d})}},{text:"",label:n({defaultMessage:"Terms of service",id:"FqgDIVw4jF"}),show:!0,href:x.termsOfService,target:"_blank",onClick(){c("help menu item clicked",{href:x.termsOfService,isCometHome:d})}},{text:"",label:n({defaultMessage:"Privacy policy",id:"cPwv2cbzf2"}),show:!0,href:x.privacyPolicy,target:"_blank",onClick(){c("help menu item clicked",{href:x.privacyPolicy,isCometHome:d})}},...b],[n,x,c,i,a,b,d,w,r,_]),S=f.useCallback(()=>{i("keyboardShortcutEditorModal",null),c("help menu item clicked",{action:"shortcut modal"})},[i,c]),k=f.useCallback(()=>{m&&i("bugReportModal",null)},[i,m]),E=f.useMemo(()=>C.map(M=>({type:"default",...M})),[C]);return l.jsx("div",{className:U("bottom-md right-md m-sm fixed hidden",!e&&"md:block",e&&"lg:block"),children:l.jsxs("div",{className:"gap-sm flex items-center",children:[m&&l.jsx(ye,{toolTip:"Report a bug",ariaLabel:n({defaultMessage:"Internal: Report a bug",id:"mD23B8Qy5J"}),size:"small",pill:!0,variant:"rejecter",icon:WF,onClick:k}),l.jsxs("div",{className:"relative",children:[l.jsx(ye,{toolTip:"Change language",icon:GDe,ariaLabel:n({defaultMessage:"Language",id:"y1Z3orIe9Z"}),size:"small",pill:!0,variant:"border",extraCSS:"shadow-subtle "}),l.jsx("div",{className:"absolute left-0 top-0 opacity-0",children:l.jsx(zSt,{})})]}),a&&l.jsx("div",{className:"hidden lg:block",children:l.jsx(ye,{toolTip:"Keyboard shortcuts",ariaLabel:n({defaultMessage:"Keyboard shortcuts",id:"vzYPVXl4by"}),size:"small",pill:!0,variant:"border",extraCSS:"shadow-subtle ",icon:F4,onClick:S})}),l.jsx(bn,{popoverProps:{childrenClassName:"block"},placement:"top-end",isMobileStyle:s,onOpen:()=>c("help menu opened",{}),items:E,children:l.jsx(ye,{toolTip:"Learn more",ariaLabel:n({defaultMessage:"Help menu",id:"HzUkaMxHjy"}),variant:"border",extraCSS:"shadow-subtle ",size:"small",pill:!0,icon:fFe})})]})})};var J6={},eE={},Iq;function GSt(){return Iq||(Iq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="mobile-screen-button",r=384,s=512,a=["mobile-alt"],i="f3cd",o="M64 448c0 8.8 7.2 16 16 16l224 0c8.8 0 16-7.2 16-16l0-80L64 368l0 80zm0-128l256 0 0-256c0-8.8-7.2-16-16-16L80 48c-8.8 0-16 7.2-16 16l0 256zM16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM192 392a24 24 0 1 1 0 48 24 24 0 1 1 0-48z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faMobileScreenButton=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(eE)),eE}var Oq;function qSt(){return Oq||(Oq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=GSt();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faMobileAlt=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(J6)),J6}var KSt=qSt();const m5e=({extraCss:e="",variant:t="offset"})=>l.jsx(H,{variant:t,className:U("shimmer aspect-square w-[144px] rounded-lg",e)}),YSt=()=>Nr.getItem("mobilePopupDismissed")!=="true",QSt=()=>Nr.setItem("mobilePopupDismissed","true"),XSt=Ee(()=>he(()=>import("./AppDownloadQR-e_53jnCa.js"),__vite__mapDeps([68,1])),{loading:()=>l.jsx(m5e,{})}),ZSt=T.memo(({})=>{const{$t:e}=K(),[t,n]=f.useState(!1),r=Lt(),{trackEvent:s}=Ne(),{keysRequiringRerender:a,removeKeyRequiringRerender:i}=Ic(),o=oj(r);if(f.useEffect(()=>{a.includes("floating-mobile-download")&&n(YSt()&&!o),i("floating-mobile-download")},[a,o,i]),f.useEffect(()=>{t&&s("floating mobile download shown",{})},[t,s]),!t)return null;const c=()=>{n(!1),QSt(),s("floating mobile download dismissed",{})};return l.jsx(H,{variant:"background",className:"bottom-md right-md p-md animate-in fade-in fixed z-30 hidden w-[350px] rounded-lg border shadow-sm duration-300 ease-out md:block",children:l.jsxs("div",{className:"",children:[l.jsx("div",{className:"absolute right-0 top-0",children:l.jsx(ze,{pill:!0,size:"small",icon:tn,onClick:c})}),l.jsx("div",{className:"pb-md flex justify-center",children:l.jsx(j,{variant:"section-title",className:"text-center",color:"super",children:l.jsx(gt,{icon:KSt.faMobileAlt,size:"2x"})})}),l.jsx(j,{variant:"section-title",className:"text-center",children:e({defaultMessage:"Open on the Perplexity mobile app",id:"QENIXgASKx"})}),l.jsx(j,{className:"text-center",children:e({defaultMessage:"Scan now to install",id:"niKvT5U+3I"})}),l.jsx("div",{className:"mt-sm flex items-center justify-center",children:l.jsx(H,{className:"p-xs rounded-md shadow-md",children:l.jsx(XSt,{})})})]})})});function JSt({reason:e}){const{organization:t}=Gt({reason:e}),n=t?.uuid??"",r=Lt(),{value:s}=Rr({flag:"helper-disabled",subjectType:"user_nextauth_id",defaultValue:!1,extraAttributes:{orgUuid:n}}),a=r?.startsWith("/apps/"),i=r?.startsWith("/b/zen");return s||a||i}function e6t({useCase:e}){return at({queryKey:["userIntercomHash",e],queryFn:()=>{const t=new URLSearchParams;return t.set("useCase",e),fetch(`/api/intercom?${t.toString()}`).then(n=>n.json())}})}function p5e({}){const t=Lt(),n=oj(t),{isMobileUserAgent:r}=Oe();return!r&&!n&&!1}const nu=e=>`milestone-progress-dismissed-${e}`,Lq="milestone-success-modal-dismissed",t6t=({reason:e})=>{const[t,n]=f.useState(!1),r=ot(),{keysRequiringRerender:s,removeKeyRequiringRerender:a}=Ic(),i=p5e({}),{trackEvent:o,trackEventOnce:c}=Ne(),{locale:u,$t:d}=K(),{hasAccessToProFeatures:h}=At(),{update:m}=Oa.useSession(),{openModal:p}=St(),{data:g}=at({queryKey:["milestone-progress"],queryFn:()=>Jnt({locale:u,reason:e}),enabled:i});f.useEffect(()=>{if(g?.progress_display?.length&&g.progress_display.every(Boolean)&&!h){if(Ue.getItem(Lq))return;p("proMessageModal",{origin:rt.MILESTONE_ACHIEVED,title:g?.promotion_display.success_modal,buttonText:d({defaultMessage:"Get Started",id:"9QXm1EW9qz"})}),Ue.setItem(Lq,"true"),setTimeout(()=>{m()},1e3)}},[g?.progress_display,g?.promotion_display.success_modal,h,p,m,d]),f.useEffect(()=>{},[s,r,a,i]),f.useEffect(()=>{Nr.getItem(nu("session"))||Ue.getItem(nu("lifetime"))||g&&!g.is_eligible&&g.has_incentive},[g,i,c]),f.useEffect(()=>{const y=g?.progress_display.filter(x=>x).length;y&&y>1&&!g.has_incentive&&(Nr.removeItem(nu("session")),Ue.removeItem(nu("lifetime")))},[g]);const v=f.useCallback(()=>{if(!g)return;o("milestone progress widget dismissed",{progressCount:g?.progress_display.filter(Boolean).length,requiredCount:g?.progress_display.length,hasIncentive:g?.has_incentive}),n(!1),Nr.setItem(nu("session"),"true");const y=g?.progress_display.filter(x=>x).length;y&&y<=1&&Ue.setItem(nu("lifetime"),"true"),g?.has_incentive&&Ue.setItem(nu("lifetime"),"true")},[g,o]);return f.useMemo(()=>({show:t,handleClose:v,data:g}),[g,v,t])},n6t=T.memo(()=>{const e="floating-milestone-progress",{show:t,handleClose:n,data:r}=t6t({reason:e}),{title:s,description:a}=f.useMemo(()=>r?r.has_incentive?{title:r.promotion_display.title_complete,description:r.promotion_display.description_complete}:r.progress_display.includes(!0)?{title:r.promotion_display.title_progress,description:r.promotion_display.description_progress}:{title:r.promotion_display.title_start,description:r.promotion_display.description_start}:{title:"",description:""},[r]);return!t||!r||!r?.is_eligible?null:l.jsxs(H,{variant:"offset",className:"p-sm animate-in fade-in border-background-300 fixed bottom-[20px] right-[20px] w-[216px] rounded-lg border duration-300 ease-out",children:[l.jsx("img",{src:"/static/images/student-referral-banner-floating.jpg",alt:"Student Referral Banner",className:"bg-background-300 h-full w-full rounded-lg object-cover",style:{aspectRatio:"600/350"}}),l.jsx("div",{className:"right-sm top-sm absolute",children:l.jsx(ze,{pill:!0,variant:"noBackground",size:"small",icon:tn,extraCSS:"text-textMainDark md:hover:text-textOff ",onClick:n})}),l.jsxs("div",{className:"p-xs mt-sm",children:[l.jsx(j,{variant:"baseSemi",children:s}),l.jsx(j,{variant:"small",color:"light",className:"mt-xs",children:a}),l.jsx("div",{className:"mt-xs flex flex-row justify-between",children:r.progress_display.map((i,o)=>l.jsx("div",{className:"gap-xs py-xs flex flex-col items-center",children:i?l.jsx(j,{color:"super",children:l.jsx(_e,{size:"lg",icon:Fee})}):l.jsxs(j,{className:"relative",children:[l.jsx(_e,{size:"lg",className:"fill-background-300",icon:Uee}),l.jsx(j,{variant:"tinyRegular",color:"light",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform",children:o+1})]})},o))})]})]})});n6t.displayName="FloatingMilestoneProgress";const r6t=()=>{const{value:e}=dr({flag:"student-referral-prizes",defaultValue:!1});return e};var s6t=(e=>(e.GIVE_10_GET_10="GIVE_10_GET_10",e.SPRING_2025="SPRING_2025",e.GIVE_1_MONTH_FREE="GIVE_1MO_GET_1MO",e))(s6t||{});const a6t={EMAIL_ALREADY_REGISTERED:"Promo not valid for existing users",INVALID_REFERRAL_CODE:"Invalid referral code",UNKNOWN:"An unknown error occurred",INVALID_EMAIL:"Please enter a valid student email",INVALID_EMAIL_GIVE_10:"Please enter a valid non-edu email address",EMAIL_RATE_LIMIT_EXCEEDED:"Too many emails sent to this address"},i6t=async({email:e,reason:t})=>{try{const{data:n,error:r}=await J.GET("/rest/referrals/validate-email",t,{params:{query:{email:e}},timeoutMs:$e()});if(r)throw new Error("Failed to validate referral email");return{valid:n.is_valid,error:!1}}catch(n){return Q.error("Failed to validate referral email",n),{valid:!1,error:!0}}},pBt=async({referralCode:e,reason:t})=>{try{const{data:n,error:r}=await J.GET("/rest/referrals/get-user-from-referral-code",t,{params:{query:{referral_code:e}}});if(r)throw new Error("Failed to get user from referral code");return n}catch(n){return Q.error("Failed to get user from referral code",n),{email:null,is_student:null,is_active:!1}}},gBt=async({toEmail:e,referralType:t,reason:n})=>{try{const{error:r}=await J.POST("/rest/referrals/send-referral-email",n,{body:{to_email:e,referral_type:t},timeoutMs:8e4});return r?{success:!1,error:r.detail?.[0]?.msg||r.detail}:{success:!0,error:null}}catch(r){return Q.error("Failed to send referral email",r),{success:!1,error:a6t.UNKNOWN}}},o6t=async({headers:e,email:t,reason:n})=>{const{data:r,error:s}=await J.GET("/rest/referrals/",n,{headers:e,params:{query:{email:t}}});if(s)throw new Error("Failed to get user referral status");return r},l6t=async({verificationId:e,reason:t})=>{try{if(!e)throw new Error("Verification ID is required");const{data:n,error:r}=await J.GET("/rest/referrals/student-reward-details",t,{params:{query:{verification_id:e}},timeoutMs:$e()});if(r)throw new Error("Failed to get student reward details");return n}catch(n){return Q.error("Failed to get student reward details",n),{months_awarded:1}}},Rb=e=>`https://plex.it/referrals/${e}`,vBt=({userEmail:e,reason:t})=>{const[n,r]=f.useState(!1),[s,a]=f.useState(null),{trackEvent:i}=Ne(),o=f.useCallback(async()=>{if(s){const c=Rb(s);await navigator.clipboard.writeText(c),i("referral link copied",{referralLink:c}),r(!0),setTimeout(()=>{r(!1)},2e3)}else try{const c=await o6t({email:e,reason:t});a(c.code);const u=Rb(c.code);await navigator.clipboard.writeText(u),i("referral link copied",{referralLink:u}),r(!0),setTimeout(()=>{r(!1)},2e3)}catch(c){Q.error("Error fetching referral code:",c)}},[s,e,i,t]);return f.useMemo(()=>({isCopied:n,handleCopyLink:o,copyButtonProps:{text:n?"Copied":"Copy link",icon:n?da:WN,onClick:o}}),[n,o])},yBt="/static/images/referrals-landing-wide.jpeg",c6t=(e,t)=>{const n=t?"Get rewards like hoodies, laptops, and more.":"";return e.formatMessage({defaultMessage:"Earn 1 month of Pro for each friend you refer. {prizeText}",id:"vWjWyq4Feg"},{prizeText:n})},u6t=({email:e,reason:t})=>{const{data:n}=at({queryKey:["user_student"],queryFn:()=>i6t({email:e,reason:t}),enabled:!!e});return f.useMemo(()=>({isStudent:n?.valid}),[n?.valid])},d6t=({reason:e})=>{const n=Dt()?.user?.email??"",{isStudent:r}=u6t({email:n??"",reason:e}),{value:s,loading:a}=dr({flag:"spring-2025-referrals-promo",defaultValue:!0});return{isSpringReferralPromoEnabled:!a&&s,isStudent:r}},g5e=({reason:e})=>{const t=on(),n=vl(),r=Lt(),{isSpringReferralPromoEnabled:s,isStudent:a}=d6t({reason:e});return!t.isStudentReferralBannerDismissed&&n&&r==="/"&&s&&a},f6t=T.memo(({})=>{const e="floating-referral-invite",t=on(),n=K(),[r,s]=f.useState(!1),{referralCode:a}=Da({reason:e}),i=g5e({reason:e}),{trackEvent:o,trackEventOnce:c}=Ne(),u=r6t();f.useEffect(()=>{c("referral widget shown",{})},[c]),f.useEffect(()=>{let m;return r&&(o("referral link copied",{referralLink:Rb(a)}),m=setTimeout(()=>{s(!1)},2e3)),()=>{clearTimeout(m)}},[r,a,o]);const d=f.useCallback(()=>{t.actions.setIsStudentReferralBannerDismissed(!0),o("referral widget dismissed",{})},[t.actions,o]),h=f.useCallback(()=>{navigator.clipboard.writeText(Rb(a)),s(!0)},[a]);return i?l.jsx(La,{fallback:null,children:l.jsxs(ke.div,{className:"p-md m-lg bg-background-200 gap-md fixed bottom-0 right-0 hidden max-w-[300px] grid-cols-1 rounded-xl shadow-md md:grid",initial:{opacity:0,y:0},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsx("img",{src:"/static/images/student-referral-banner-floating.jpg",alt:"Student Referral Banner",className:"bg-background-300 h-full w-full rounded-lg object-cover",style:{aspectRatio:"528/240"}}),l.jsx("div",{className:"right-sm top-sm absolute",children:l.jsx(ze,{pill:!0,variant:"offset",size:"small",icon:tn,extraCSS:"md:hover:text-textOff ",onClick:d})}),l.jsxs("div",{children:[l.jsx(j,{variant:"baseSemi",className:"text-center",children:n.formatMessage({id:"N+fXKkoM0w",defaultMessage:"Get up to 24 months of Pro"})}),l.jsx(j,{className:"text-200 text-center text-xs",color:"light",children:c6t(n,u)})]}),l.jsxs("div",{className:"gap-xs flex flex-col",children:[a&&l.jsx(ye,{variant:"primaryGhost",fullWidth:!0,size:"small",icon:r?vDe:WN,onClick:h,text:r?n.formatMessage({id:"p556q3uvbn",defaultMessage:"Copied"}):n.formatMessage({id:"TDGT3/Z5vf",defaultMessage:"Copy your link"})}),l.jsx(ze,{variant:"common",fullWidth:!0,size:"small",href:"/referrals",text:n.formatMessage({id:"TdTXXf940t",defaultMessage:"Learn more"})})]})]})}):null}),h6t=()=>{const e="floating-components",t=ut(),n=p5e({});Gr({enabled:!t});const{showCookieConsentPopup:r,closeCookieConsentPopup:s}=c5e(),a=JSt({reason:e}),i=f.useRef(null),{inApp:o}=G1(),c=g5e({reason:e}),u=Lt(),{data:d}=e6t({useCase:"default"});if(o)return null;if(!r&&c)return l.jsx(f6t,{});const h=d?.userIntercomHash??null;return l.jsxs(l.Fragment,{children:[!a&&h&&l.jsx(VSt,{hideOnNarrowScreens:u?.includes("/search"),userIntercomHash:h}),!t&&!r&&l.jsx("div",{ref:i,children:l.jsx(hh,{isCometSidecar:!0,isWindowsApp:!0,children:l.jsx(bit,{portalTarget:i.current??void 0},"floating-signup")})}),t&&l.jsx(hh,{isCometSidecar:!0,isWindowsApp:!0,children:l.jsx(ZSt,{})}),r&&l.jsx(HSt,{closeCookieConsentPopup:s}),t&&n]})},m6t=["49a618ae-2fee-4bac-9150-81c466a49187"];let Dq=!1;const p6t=performance.now();function v5e(e,t){if(Dq)return;const n="4705c1a2-db1e-42f0-8a66-cd6208ae9e65",r="pub4ecf63e3fd1ad28de1a9027c01181601",s=e.version,a=e.env??"local",i=gl(),o=t?.email?.endsWith("@perplexity.ai"),c=a==="local",u=a==="testing"||c||i||o?100:2,d=c||o?100:2;if(!m6t.includes(t?.org_uuid??"")){JIe({ddApplicationId:n,ddClientToken:r,version:s,env:a,debug:c,sessionSampleRate:100,sessionReplaySampleRate:d}),ENe({ddClientToken:r,version:s,env:a,debug:c,sessionSampleRate:u});const m=typeof navigator<"u"&&"serviceWorker"in navigator&&!!navigator.serviceWorker.controller;if(AD({useServiceWorker:m}),pF({useServiceWorker:m}),i){const p={cometAgentExtensionVersion:i?.agent_extension_version,cometDeviceId:i.device_id,cometMainExtensionVersion:i.extension_version,cometVersion:i?.browser_version};AD(p),pF(p)}Go("web.frontend.module_exec_start",{startTime:performance.timeOrigin,duration:p6t})}Dq=!0}function g6t(){const{data:e,status:t}=Oa.useSession();f.useLayoutEffect(()=>{t!=="loading"&&v5e(ls(),e?.user)},[e?.user,t])}const gI="^/(?:finance|app/finance)/([^/]+)(?:/([^/]+))?/?$",xBt=e=>{if(!e)return{symbol:null,tab:"index"};const t=new RegExp(gI),n=e?.match(t);return{symbol:n?.[1],tab:n?.[2]||"index"}},v6t=["/library","^\\/search(?:\\/(?<new>new))?(?:\\/(?<uuid>.+))?$","/b/home","/b/speak","/b/zen","/b/mission-control","/spaces","/spaces/templates","/spaces/:slug","/page/:slug","/discover","/discover/:topic","/discover/:topic/:slug","/academic","/shopping","/hotels/:slug","/crypto","/perplexify_me","/sports/f1/events/:eventId","/sports/f1","/sports/nba/events/:eventId","/sports/nba/teams/:teamId","/sports/nba/players/:playerId","/sports/nba","/sports/nfl/events/:eventId","/sports/nfl/teams/:teamId","/sports/nfl/players/:playerId","/sports/nfl","/sports/championsleague/events/:eventId","/sports/championsleague","/sports/mlb/events/:eventId","/sports/mlb","/sports/ipl","/sports/cricket/events/:eventId","/sports/pga/events/:eventId","/sports/pga","/sports/wnba/events/:eventId","/sports/wnba","/sports/ncaam/events/:eventId","/sports/ncaam","/sports/ncaaw/events/:eventId","/sports/ncaaw","/sports/wta/events/:eventId","/sports/atp/events/:eventId","/travel","/finance/all-tickers/:page",gI,"/finance","/"],y5e=T.memo(function(){const t="stripe-wrapper",n=An(),r=n?.get("stripe_checkout"),s=n?.get("referral_status");return f.useLayoutEffect(()=>{(r||s)&&PA({reason:t})},[r,s]),null});y5e.displayName="StripeStatusRefresher";const x5e=T.memo(function({children:t}){const{trackEvent:n}=Ne(),r=Lt(),s=An(),[a,i]=f.useState(null),{colorScheme:o}=zr(),c=f.useCallback(d=>d==="/search"&&s?.get("newFrontendContextUUID")||d.startsWith("/page/new")&&s?.get("newFrontendContextUUID")||d==="/search/new",[s]),u=f.useCallback(d=>{if((d?.split("?")[0]??"")===(a?.split("?")[0]??"")||c(d))return;const m=a;i(d),n("pageview",{internalReferrer:m??void 0,colorScheme:o})},[o,c,a,n]);return f.useEffect(()=>{r&&u(r)},[u,r]),l.jsx(l.Fragment,{children:t})});x5e.displayName="PageviewTemplate";const b5e=T.memo(()=>l.jsxs(l.Fragment,{children:[l.jsx("script",{id:"reddit-pixel-script",src:"/pixel/reddit.js",async:!0}),l.jsx("script",{id:"facebook-pixel-script",src:"/pixel/meta.js",async:!0}),l.jsx("script",{id:"podscribe-pixel-script",src:"/pixel/podscribe.js",async:!0}),l.jsx("script",{id:"amazon-twitch-pixel-script",src:"/pixel/amazon.js",async:!0})]}));b5e.displayName="AfterInteractivePixels";const w5e=async({cometBrowser:e,type:t,locale:n})=>{const r=await e.getPersonalSuggestions({source:"ntp",type:t,locale:n},"get-personal-suggestions");return r.is_success?r.suggestions:[]},y6t=async(e,t)=>{const n=await w5e(e);return n.length<=t?n:bJ(n).slice(0,t)},x6t=({cometBrowser:e,type:t,locale:n})=>{const{data:r=[]}=at({queryKey:["comet-personal-suggests-async",t,n],queryFn:async()=>bJ(await w5e({cometBrowser:e,type:t,locale:n})),staleTime:3e5,gcTime:3e5});return r},_5e=T.memo(e=>{const{$t:t}=K(),n=Rt(),r=f.useCallback(()=>{n.push("/browser/invite")},[n]);return l.jsx(ye,{...e,icon:zN,text:t({defaultMessage:"Invites",id:"Wy+IdbkBFc"}),onClick:r})});_5e.displayName="NTPInviteButton";const b6t=({entropyBrowser:e,isSidecar:t,focusInput:n})=>{f.useEffect(()=>{if(!e||!t)return;const r=()=>{document.visibilityState==="visible"&&n()},s=e.subscribeQuickActionButtonFired(()=>{n()});return document.addEventListener("visibilitychange",r),()=>{s(),window.removeEventListener("visibilitychange",r)}},[e,n,t])},C5e=T.memo(function(t){const{children:n,condition:r,Wrapper:s,...a}=t;return r?l.jsx(s,{...a,children:n}):n});C5e.displayName="ConditionalWrapper";var tE={},Fq;function w6t(){return Fq||(Fq=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="box-open",r=640,s=512,a=[],i="f49e",o="M17.2 125.5c-9 17.9 .6 39.6 19.8 45.1l163.3 46.7c13.9 4 28.8-1.9 36.2-14.3L320 64 75.2 33.4c-6.7-.8-13.3 2.7-16.3 8.7L17.2 125.5zM320 64l83.4 139c7.4 12.4 22.3 18.3 36.2 14.3l163.3-46.7c19.3-5.5 28.8-27.2 19.8-45.1L581.1 42.1c-3-6.1-9.6-9.6-16.3-8.7L320 64zm-1.1 64l2.2 0s0 0 0 0l-2.2 0s0 0 0 0zM528 225.3l0 153.2-184 46L344 184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 240.5-184-46 0-153.2L64 211.6l0 167c0 22 15 41.2 36.4 46.6l204.1 51c10.2 2.5 20.9 2.5 31 0l204.1-51c21.4-5.3 36.4-24.5 36.4-46.6l0-167-48 13.7z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faBoxOpen=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(tE)),tE}var _6t=w6t();let fp=0;function C6t(e,t,n=!1){const[r,s]=f.useState(!1),[a,i]=f.useState(!1),o=f.useCallback(g=>{g.preventDefault()},[]),c=f.useCallback(g=>{g?.dataTransfer?.types.includes("Files")&&(g.preventDefault(),s(!0),fp++)},[]),u=f.useCallback(g=>{g.preventDefault(),fp=Math.max(0,fp-1),fp===0&&s(!1)},[]),d=f.useCallback(g=>{g.preventDefault(),s(!1),i(!1),fp=0,!t&&n&&g.dataTransfer?.items.length&&e(g.dataTransfer.items)},[t,e,n]),h=f.useCallback(g=>{g?.dataTransfer?.types.includes("Files")&&(g.preventDefault(),i(!0))},[]),m=f.useCallback(g=>{g.preventDefault(),i(!1)},[]),p=f.useCallback(g=>{g.preventDefault(),s(!1),i(!1),!t&&!n&&g?.dataTransfer?.items.length>0&&e(g.dataTransfer.items)},[t,e,n]);return f.useEffect(()=>(document.addEventListener("dragover",o),document.addEventListener("dragenter",c),document.addEventListener("dragleave",u),document.addEventListener("drop",d),()=>{document.removeEventListener("dragover",o),document.removeEventListener("dragenter",c),document.removeEventListener("dragleave",u),document.removeEventListener("drop",d)}),[o,c,u,d]),f.useMemo(()=>({isDraggingFile:r,isFileOver:a,rootProps:{onDragOver:h,onDragLeave:m,onDrop:p}}),[m,h,p,r,a])}const S6t=T.memo(({onDrop:e,disabled:t=!1,children:n,dropZoneClassName:r,dropLabel:s,dropIcon:a=_6t.faBoxOpen,allowDropAnywhere:i=!1,...o})=>{const{$t:c}=K(),{isDraggingFile:u,isFileOver:d,rootProps:h}=C6t(e,t,i),m=s??c(i?{defaultMessage:"Dropped files appear here.",id:"9WR4elgZix"}:{defaultMessage:"Drop your files here.",id:"llIM82nPs+"});return l.jsxs("div",{className:"relative",...h,...o,children:[u&&t?l.jsx(H,{className:U("absolute inset-0 z-20 flex items-center justify-center rounded border-2 border-dashed border-gray-300 bg-gray-100",{"!border-caution":d},r?.(u,d)),children:l.jsxs(j,{color:"red",children:[l.jsx(gt,{icon:a,className:"mr-2"}),"Drop zone disabled"]})}):u?l.jsxs(l.Fragment,{children:[l.jsx(H,{variant:"background",className:"absolute inset-0 z-20 rounded opacity-80"}),l.jsx(H,{className:U("gap-x-sm animate-in fade-in absolute inset-0 z-20 flex items-center justify-center rounded-2xl border-2 border-dashed transition-all duration-200",{"!border-super":d},r?.(u,d)),children:l.jsxs(j,{color:"super",children:[l.jsx(gt,{icon:a,className:"mr-2"}),m]})})]}):null,n]})});function E6t(){const{value:e}=Nne({flag:"enable-audio-video-uploads-attachments",subjectType:"user_nextauth_id",defaultValue:"False"});return f.useMemo(()=>({isAudioVideoFilesEnabled:e==="True"}),[e])}function k6t(){const{value:e}=Rr({flag:"async-file-attachments-v2",defaultValue:!1,subjectType:"user_nextauth_id"});return e}const M6t=1e4,Ab=["autosuggest"],T6t=()=>{const{isMobile:e}=Nt(),t=ot();return f.useCallback(n=>{const r=t.getQueryData(Ab),s=t.getQueryData([...Ab,n]);if(s?.length&&s.length===Wf(e))return s;if(r){const a=n.replace(/\s+/g,"").toLocaleLowerCase(),i=[];for(const d of r){if(e&&d.url)continue;const[h,m]=Nie(a,d);if(h&&(i.push([m,d]),i.length===Wf(e)))break}const o=i.sort(([d],[h])=>d-h).map(([d,h])=>h),[c,u]=v8(o,e,n);if(s?.length){const d=[...s];for(const h of c)if(!d.find(m=>m.query===h.query)&&(d.push(h),d.length===Wf(e)))break;return v8(d,e,n)[1]}return u}return je},[e,t])},N6t=()=>{const{suggestions:e}=Ms(),{setSuggestions:t}=hi(),n=f.useRef(e);n.current=e;const r=ot(),s=T6t(),a=f.useRef(!1),{isMobile:i}=Nt(),o=f.useRef(null),c=f.useRef(null),u=f.useRef([]),d=f.useRef({lastMessageID:0}),h=f.useCallback((v,y=!1)=>{const x=s(v);!y&&!x.length||(n.current.length!==x.length||DIe(n.current,x,"query").length!==x.length)&&(n.current=x,t(x))},[s,t]),m=f.useCallback(v=>{try{const y=new WebSocket("wss://suggest.perplexity.ai/suggest/ws");y.onopen=()=>{v?.()},y.onmessage=x=>{let b;try{if(b=JSON.parse(x.data),b.length!==4){Q.error("Invalid autosuggest message",b);return}}catch(R){Q.error("Error parsing autosuggest message",R);return}const[w,_,C,S]=b,k=parseInt(C),E=Jtt(S),[M,N]=v8(E,i);if(r.setQueryData(Ab,(R=je)=>M.length?wJ([...M,...R],"query").sort((A,P)=>A.query.localeCompare(P.query)):R),r.setQueryData([...Ab,w],N),k===d.current.lastMessageID&&a.current&&h(w,!0),d.current[k]){const R=performance.now()-d.current[k];u.current.push(R)}},o.current=y}catch(y){Q.error("Error connecting to autosuggest socket",y)}},[i,h,r]),p=f.useCallback(()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{o.current&&(o.current.close(),o.current=null)},M6t)},[]);f.useEffect(()=>(m(),p(),()=>{o.current&&o.current.close(),c.current&&clearTimeout(c.current)}),[m,p]);const g=f.useCallback((v,y=!0)=>{if(a.current=!!v,!a.current)return;h(v);const x=[WebSocket.OPEN,WebSocket.CONNECTING];if(!o.current||!x.includes(o.current.readyState)){y&&m(()=>{g(v,!1)});return}else p();const b=d.current.lastMessageID+1,w=b.toString();d.current.lastMessageID=b;try{const _=JSON.stringify({q:v,uuid:w,full_completion:!0});if(o.current.readyState===WebSocket.CONNECTING)return;o.current.send(_),d.current[b]=performance.now()}catch(_){Q.error("Error sending query for autosuggest",_)}},[m,p,h]);return f.useEffect(()=>{const v=setInterval(()=>{u.current.length!==0&&(K$e({latencies:u.current,isMobile:i}),u.current=[])},Ktt);return()=>clearInterval(v)},[i]),f.useMemo(()=>({handleUpdateAutosuggestions:g}),[g])},R6t=({fileUploadRef:e,showFileUpload:t,attachments:n,setAttachments:r,handleChange:s,setIsUploadingFile:a,focusInput:i})=>{const{inputRef:o}=Ms(),c=Hj(),[u,d]=f.useState(null),h=f.useCallback(x=>{const b=n===void 0?"paste.txt":`paste-${n.length+1}.txt`,w=new File([x],b,{type:"text/plain"}),_=new DataTransfer;_.items.add(w),d({content:x,fileName:b}),s(""),e.current?.uploadFiles(_.files)},[n,s,e]),m=f.useCallback(()=>{d(null)},[]),p=f.useCallback(x=>{const b=x.clipboardData;if(b&&b.items.length>0){const _=new DataTransfer;for(let C=0;C<b.items.length;C++){const S=b.items[C];if(S.kind==="file"){x.preventDefault();const k=S.getAsFile();k&&_.items.add(k)}if(S.type==="text/plain"){const k=x.clipboardData.getData("Text");k.length>qo&&(x.preventDefault(),s(k),h(k))}}e.current?.uploadFiles(_.files)}const w=!!x.currentTarget;requestAnimationFrame(()=>{o.current&&(o.current.trim(),s(o.current.value,o.current.json),w&&(o.current.focusAtEnd(),o.current.scrollToEnd()))})},[e,s,o,h]),g=f.useCallback(x=>{s(x),o.current?.focus()},[s,o]),v=f.useCallback(x=>{a(!1),x.length>0?(r(x),i()):r(void 0)},[a,r,i]),y=f.useCallback(async x=>{const b=new DataTransfer;for(let w=0;w<x.length;w++){const _=x[w];if(_.kind==="file"){const C=_.webkitGetAsEntry();if(!C)continue;if(uae(C)){const S=_.getAsFile();S&&b.items.add(S)}else if(dae(C)){const S=await WXe(C);for(const k of S)b.items.add(k)}}if(_.type==="text/plain"&&_.getAsString(C=>{C.length>qo?(s(C),h(C)):o.current&&(o.current.append(C),s(o.current.value,o.current.json))}),b.items.length>c)break}e.current?.uploadFiles(b.files)},[e,o,s,c,h]);return f.useEffect(()=>{t||(r(void 0),d(null))},[t,r]),f.useMemo(()=>({handlePaste:p,handlePasteQuery:g,handleCompleteFileUpload:v,handleFileSelect:y,autoCreatedTextFile:u,dismissNotification:m,setAutoCreatedTextFile:d}),[v,y,p,g,u,m])},vI=[".txt",".pdf",".docx",".pptx",".xlsx",".md",".csv"],yI=[".txt",".pdf",".jpg",".jpeg",".png",".docx",".pptx",".xlsx",".md",".csv"],xI=[".mp3",".wav",".aiff",".ogg",".flac",".mp4",".mpeg",".mov",".avi",".flv",".mpg",".webm",".wmv",".3gp"],Uq=27,A6t=2e4;let nE=!1,jo=null;const j6t=()=>{const e=f.useRef(null),t=f.useRef(null);let n="";typeof window<"u"&&(window.location.hostname==="localhost"?n=`${window.location.protocol}//${window.location.hostname}:${window.location.port}/account/connectors`:n=`${window.location.protocol}//${window.location.hostname}/account/connectors`);const r=(c,u)=>u?c==="sharepoint"?u:u+"-my":null,s=f.useCallback(async(c,u)=>{u.success=!1;const d=r(c.connector,c.tenantName);u.tenant=d,jo||(jo=await(await he(()=>import("./index-L7JRPCOq.js"),__vite__mapDeps([69,1]))).PublicClientApplication.createPublicClientApplication({auth:{authority:d?"https://login.microsoftonline.com/common":"https://login.microsoftonline.com/consumers",clientId:c.clientId,redirectUri:n},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}}));const h=d?[`https://${d}.sharepoint.com/.default`]:["OneDrive.ReadWrite"];u.scopes=h;const m={scopes:h,login_hint:c.loginHint,prompt:"select_account"};let p=null,g=jo.getActiveAccount();if(g||(g=jo.getAllAccounts().find(y=>y.username===c.loginHint)??null),u.hasActiveAccount=!!g?.username,g)try{jo.setActiveAccount(g),p=(await jo.acquireTokenSilent(m)).accessToken}catch(v){u.silentAcquisitionError=v instanceof Error?v.toString():v}if(!p&&!nE)try{nE=!0;const v=await jo.loginPopup(m);jo.setActiveAccount(v.account),p=(await jo.acquireTokenSilent(m)).accessToken}catch(v){u.interactiveAcquisitionError=v instanceof Error?v.toString():v}finally{nE=!1}else p||(u.interactiveAuthenticationSkipped=!0);if(p)return u.success=!0,u.accessTokenLength=p.length,p;throw Error("Access token not acquired")},[n]),a=f.useCallback(c=>{const u=r(c.connector,c.tenantName);let d=c.mode==="source"?vI:yI;d=c.isAudioVideoFilesEnabled?d.concat(xI):d;const h={sdk:"8.0",messaging:{origin:n,channelId:Uq},authentication:{},entry:c.connector==="sharepoint"?{sharePoint:{}}:{oneDrive:{}},typesAndSources:{mode:c.mode==="attachment"?"files":"all",filters:d,pivots:{recent:!1,oneDrive:!1,sharedLibraries:!1}},selection:{mode:"multiple"}},m=new URLSearchParams({filePicker:JSON.stringify(h)});return c.webUrl?`${c.webUrl}/_layouts/15/FilePicker.aspx?${m}`:u?`https://${u}.sharepoint.com/_layouts/15/FilePicker.aspx?${m}`:`https://onedrive.live.com/picker?${m}`},[n]),i=f.useCallback(async c=>{const u=b=>{window.removeEventListener("message",m),t.current?.removeEventListener("message",h),t.current?.close(),e.current?.close(),b?c.onError?.(b):c.onCancel?.()},d=async(b,w)=>await new Promise((_,C)=>{const S=setTimeout(()=>{C(new Error("Request timed out"))},A6t);s(b,w).then(k=>{clearTimeout(S),_(k)}).catch(k=>{clearTimeout(S),C(k)})}),h=async b=>{const w={};switch(b.data.type){case"command":t.current?.postMessage({type:"acknowledge",id:b.data.id});const _=b.data.data;switch(_.command){case"authenticate":try{const C=await d(c,w);t.current?.postMessage({type:"result",id:b.data.id,data:{result:"token",token:C}})}catch(C){w.errorStep="authenticateCommand",w.error=C instanceof Error?C.toString():C,u(C)}finally{c.log?.(c.connector.toUpperCase(),w)}break;case"pick":t.current?.postMessage({type:"result",id:b.data.id,data:{result:"success"}}),c.onPicked?.(_.items),u();break;case"close":u();break;default:u();break}break}},m=async b=>{if(b.source&&b.source===e.current){const w=b.data;w.type==="initialize"&&w.channelId===Uq&&(t.current=b.ports[0],t.current.addEventListener("message",h),t.current.start(),t.current.postMessage({type:"activate"}))}};let p;const g={};try{p=await s(c,g)}catch(b){g.errorStep="initialization",g.error=b instanceof Error?b.toString():b,u(b);return}finally{c.log?.(c.connector.toUpperCase(),g)}const v=document.getElementById("microsoft-file-picker");if(!v){u();return}if(e.current=v.contentWindow,!e?.current){u();return}const y=e.current.document.createElement("form");y.setAttribute("action",a(c)),y.setAttribute("method","POST"),e.current.document.body.append(y);const x=e.current.document.createElement("input");x.setAttribute("type","hidden"),x.setAttribute("name","access_token"),x.setAttribute("value",p),y.appendChild(x),e.current.document.body.appendChild(y),y.submit(),window.addEventListener("message",m)},[s,a]),o=f.useCallback((c,u)=>{let d;if(c.parentReference.sharepointIds?.siteId&&u==="sharepoint"){const m={item_id:c.id,drive_id:c.parentReference.driveId,site_id:c.parentReference.sharepointIds.siteId};d=JSON.stringify(m)}else d=c.id;const h=y3(c.name);return h?{id:d,name:c.name,sizeBytes:c.size,mimeType:p8[h]}:null},[]);return f.useMemo(()=>({openPicker:i,toPickerDocument:o}),[i,o])},xT="box-file-picker",P6t="0";let Fy=null,Bq=!1;const I6t=()=>Fy||(Fy=new Promise((e,t)=>{const n=document.createElement("link");n.rel="stylesheet",n.href="https://cdn01.boxcdn.net/platform/elements/17.1.0/en-US/picker.css";const r=document.createElement("script");r.src="https://cdn01.boxcdn.net/platform/elements/17.1.0/en-US/picker.js",r.onload=()=>{if(!Bq){const s=document.createElement("style");s.textContent=`
                .be .be-header input[type="search"] {
                    background: white;
                }

                .btn-content {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }
            `,document.head.appendChild(s),Bq=!0}e()},r.onerror=t,n.onload=()=>document.body.appendChild(r),document.head.appendChild(n)}),Fy),O6t=({apiKey:e,mode:t,isAudioVideoFilesEnabled:n,onPicked:r,onCancel:s,onError:a})=>{const i=f.useRef(null),o=f.useCallback(async(u="file")=>{try{if(await I6t(),!document.getElementById(xT)){a?.("Attempted to open picker when container isn't ready");return}let h=t==="source"?vI:yI;h=n?h.concat(xI):h;const m=[...h,".gdocs",".gsheets",".gslides"];i.current&&(i.current.removeListener("choose",r),i.current.removeListener("cancel",s),i.current.hide(),i.current=null);let p;u==="folder"?p=new window.Box.FolderPicker:p=new window.Box.FilePicker,i.current=p,p.addListener("choose",r),p.addListener("cancel",s),p.show(P6t,e,{container:`#${xT}`,logoUrl:DN,extensions:m.join(","),canUpload:!1,canSetShareAccess:!1,canCreateNewFolder:!1,chooseButtonLabel:"Select",cancelButtonLabel:"Cancel"})}catch(d){a?.(d);return}},[e,a,t,s,r,n]),c=f.useCallback(()=>{i.current&&(i.current.removeListener("choose",r),i.current.removeListener("cancel",s),i.current.hide(),i.current=null)},[r,s]);return f.useMemo(()=>({openPicker:o,cleanupPicker:c}),[o,c])},L6t=({clientId:e})=>{const[t,n]=f.useState(!1);f.useEffect(()=>{if(!e)return;const s=document.createElement("script");return s.src="https://www.dropbox.com/static/api/2/dropins.js",s.id="dropboxjs",s.setAttribute("data-app-key",e),s.onload=()=>n(!0),s.onerror=()=>n(!1),document.body.appendChild(s),()=>{const a=document.getElementById("dropboxjs");a&&document.body.removeChild(a)}},[e]);const r=f.useCallback(s=>{if(!t)return;let a=s.mode==="source"?vI:yI;a=s.isAudioVideoFilesEnabled?a.concat(xI):a,window.Dropbox.choose({success:s.onPicked,error:i=>s.onError?.(i),multiselect:!0,extensions:a,folderselect:s.mode==="source"})},[t]);return f.useMemo(()=>({isReady:t,openPicker:r}),[t,r])};function D6t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function F6t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var U6t=typeof window<"u";function bT(e){if(e){if(e.tagName==="BODY")return e;if(e.tagName==="IFRAME"){var t=e.contentDocument;return t?t.body:null}else if(!e.offsetParent)return null}else return null;return bT(e.offsetParent)}function $q(e){var t=e||window.event;return t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}var Hq=U6t&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),tf=new Map,Wq=typeof document=="object"?document:void 0,Uy=!1;const B6t=Wq?function(t,n){t===void 0&&(t=!0);var r=f.useRef(Wq.body);n=n||r;var s=function(i){var o=tf.get(i);o?tf.set(i,{counter:o.counter+1,initialOverflow:o.initialOverflow}):(tf.set(i,{counter:1,initialOverflow:i.style.overflow}),Hq?Uy||(D6t(document,"touchmove",$q,{passive:!1}),Uy=!0):i.style.overflow="hidden")},a=function(i){var o=tf.get(i);o&&(o.counter===1?(tf.delete(i),Hq?(i.ontouchmove=null,Uy&&(F6t(document,"touchmove",$q),Uy=!1)):i.style.overflow=o.initialOverflow):tf.set(i,{counter:o.counter-1,initialOverflow:o.initialOverflow}))};f.useEffect(function(){var i=bT(n.current);i&&(t?s(i):a(i))},[t,n.current]),f.useEffect(function(){var i=bT(n.current);if(i)return function(){a(i)}},[])}:function(t,n){},$6t=["https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/drive.readonly","https://www.googleapis.com/auth/drive.metadata.readonly"].join(" "),H6t=["application/vnd.google-apps.file","application/vnd.google-apps.folder","application/vnd.google-apps.document","application/vnd.google-apps.presentation","application/vnd.google-apps.spreadsheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/pdf","text/csv","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown"],W6t=["text/plain","application/pdf","text/csv","text/markdown","image/png","image/jpeg","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.google-apps.document","application/vnd.google-apps.presentation","application/vnd.google-apps.spreadsheet"],z6t=["audio/mpeg","audio/wav","audio/aiff","audio/ogg","audio/flac","audio/mp3","video/mp4","video/mpeg","video/mov","video/avi","video/x-flv","video/mpg","video/webm","video/wmv","video/3gpp","video/quicktime"],V6t=({clientId:e,apiKey:t,loginHint:n,isAudioVideoFilesEnabled:r,onError:s})=>{const[a,i]=f.useState(!1),[o,c]=f.useState(!1);B6t(o);const u=f.useCallback(()=>{s?.()},[s]);f.useEffect(()=>{const m=document.createElement("script");m.src="https://apis.google.com/js/api.js",m.id="google-drive-picker-gapi-script",m.onload=()=>{const p=document.createElement("script");p.src="https://accounts.google.com/gsi/client",p.id="google-drive-picker-gis-script",p.onload=()=>{window.gapi.load("picker",{callback:()=>i(!0),onerror:()=>{i(!1),u()}})},p.onerror=()=>{i(!1),u()},document.body.appendChild(p)},m.onerror=()=>{i(!1),u()},document.body.appendChild(m)},[u]);const d=f.useCallback((m,p)=>{const g=window.google?.picker,v=y=>{y.action===g.Action.PICKED?p.onPicked&&p.onPicked(y.docs??je):(y.action===g.Action.CANCEL||y.action===g.Action.ERROR)&&(y.action===g.Action.CANCEL&&p.onCancel&&p.onCancel(),c(!1))};if(a&&g)try{const y=new g.DocsView().setIncludeFolders(!0).setSelectFolderEnabled(!0).setMode(g.DocsViewMode.LIST),x=new g.ViewGroup(y);let b=p.mode==="source"?H6t:W6t;b=r?b.concat(z6t):b,new g.PickerBuilder().setSize(1051,650).addViewGroup(x).setSelectableMimeTypes(b.join(",")).enableFeature(g.Feature.MULTISELECT_ENABLED).setOAuthToken(m).setDeveloperKey(t).setCallback(v).build().setVisible(!0),c(!0)}catch{u()}},[a,t,u,r]),h=f.useCallback(m=>{window.google.accounts.oauth2.initTokenClient({client_id:e,login_hint:n,scope:$6t,prompt:"none",callback:g=>{if(g.error!==void 0)throw new Error(g.error);try{d(g.access_token,m)}catch(v){console.log(v)}}}).requestAccessToken()},[d,e,n]);return f.useMemo(()=>({openPicker:h,isReady:a}),[h,a])};function G6t(e){return e.every(t=>t instanceof File)}const q6t=({fileInputRef:e,isSignedIn:t,uploadRateLimit:n,maxFilesUpload:r,maxImageFilesUpload:s,attachmentTokenEstimationParams:a,forwardedRef:i,existingAttachments:o,showPrivacyWarning:c,connectorsMap:u,onFilePickerOpen:d,onStart:h,onComplete:m,openLoginModal:p,openPricingModal:g,openCompanyDataPrivacyModal:v,closeModal:y,openVisitorLoginUpsell:x,openMicrosoftPicker:b,closeMicrosoftPicker:w,errorMicrosoftPicker:_,toPickerDocument:C,setUploadRateLimit:S,isFollowUp:k,isClearAttachmentsEnabled:E=!1,forceImage:M,refreshBoxCredentials:N,logMicrosoft:R,asyncAttachmentsEnabled:A=!1,setUploadsReady:P,getImageUrl:O,isAudioVideoFilesEnabled:I=!1,reason:L,incompleteParsingEnabled:F=!1,isImageAttachmentResizingEnabled:D=!1,maxAttachmentFileSizeMB:B=uLe})=>{const{$t:$}=K(),[W,X]=f.useState(null),[ee,ne]=f.useState(null),[V,q]=f.useState([]),[z,te]=f.useState(V&&V.length>0?"success":"idle"),[Y,Z]=f.useState(null),re=`${B}MB`,G=f.useCallback(async(fe,Xe,Ge)=>{if(!Ma(fe))return null;const Ke=Ge?{type:Ge}:void 0,nt=AN(fe)?fe:await O?.(fe)??fe;if(!nt)return new File([],Xe,Ke);try{const yt=await(await fetch(nt)).blob();return new File([yt],Xe,Ke)}catch{return new File([],Xe,Ke)}},[O]);f.useEffect(()=>{E?q([]):(async()=>{const Xe=await Promise.all((o??je).map(async Ge=>{const Ke=Jk(Ge.split("/").pop()||"file"),nt=w2(Ge);let Tt=new File([],Ke,{type:nt}),yt;if(Ma(Tt)){const Zt=await G(Ge,Ke,nt);Tt=Zt??Tt,yt=Zt?URL.createObjectURL(Zt):void 0}return{id:Hr(),file:Tt,nextURL:Ge,status:"success",thumbnailSource:yt}}));q(Xe)})()},[E,o,G]),f.useEffect(()=>{if(!P)return;if(!A||!V.length){P(!0);return}const fe=Ge=>F?Ge.status==="parsing"||Ge.status==="success"||Ge.status==="failed":Ge.status==="success"||Ge.status==="failed",Xe=V.every(fe);P(Xe)},[V,A,P,F]),f.useImperativeHandle(i,()=>({uploadFiles:fe=>De(Array.from(fe)),clearFiles:oe}));const oe=f.useCallback(()=>{q([]),te("idle"),m?.([]),e.current?.value&&(e.current.value=""),Z(null)},[e,m]),ae=f.useCallback((fe,Xe)=>{q(Ge=>{let Ke=Ge;return fe?Ke=Ge.filter(nt=>nt.nextURL!==fe):Xe&&(Ke=Ge.filter(nt=>!nt.nextURL?.includes(Xe))),Ke.length===0&&te("idle"),m?.(Ke.filter(nt=>!!nt.nextURL).map(nt=>({url:nt.nextURL??"",file:nt.file,resizedFile:nt.resizedFile}))??[]),Ke}),e.current?.value&&(e.current.value="")},[e,m]),ie=f.useCallback(fe=>{ne(null),X(fe??$(Ka[tg.generic_upload_error])),V?.length&&te("success")},[$,V?.length]),xe=f.useCallback(()=>{if(!p)return;const fe=$({defaultMessage:"Sign in to upload files and photos",id:"gEOi1eLJ7C"}),Xe=$({defaultMessage:"Analyze files and photos for free",id:"nu4bK5/Y5T"});x?x({title:fe,description:Xe,origin:rt.FILE_UPLOAD,sheetModalVariant:k?"bottom-sheet-gradient":"full-sheet"}):p({origin:rt.FILE_UPLOAD,pitchMessage:{title:fe,description:Xe}})},[$,k,p,x]),de=f.useCallback(()=>{if(!g)return;const fe=$({defaultMessage:"Want more uploads?",id:"iInvIJ0Dv/"}),Xe=$({defaultMessage:"Upgrade access for paid subscribers",id:"bBawtPaete"});g({pitchMessage:{title:fe,description:Xe},origin:rt.FILE_UPLOAD})},[$,g]),Se=f.useCallback(async(fe,Xe)=>{let Ge;A?Ge=await Rnt({request:{file_uuids:[fe]},reason:L}):Ge={file_uuid:fe,success:!0,error_code:null};const Ke=Ge.success?"success":"failed";Ke==="failed"?(ie($(Ka[Ge.error_code??f8.parsing_error],{filename:Xe})),q(nt=>nt.filter(Tt=>Tt.file_uuid!==fe))):q(nt=>[...(nt??[]).map(Tt=>Tt.file_uuid===fe?{...Tt,status:Ke}:Tt)])},[ie,A,$,L]),qe=f.useCallback(fe=>fe instanceof File&&NF.includes(fe.type)||!(fe instanceof File)&&fe.mimeType&&NF.includes(fe.mimeType)?$(Ka[tg.unsupported_type]):fe instanceof File&&fe.size>B*TF||!(fe instanceof File)&&fe.sizeBytes&&fe.sizeBytes>B*TF?$(Ka[tg.too_large],{max:re}):fe instanceof File&&fe.size<MF||!(fe instanceof File)&&fe.sizeBytes&&fe.sizeBytes<MF?$(Ka.too_small):fe.name?null:$(Ka.no_name),[$,re,B]),be=f.useCallback(async(fe,Xe,Ge,Ke,nt,Tt)=>{if(!fe.ok){ie(),Q.warn(`[localAttachmentUpload] upload failed for ${Tt}, response=${fe}`);return}let yt=null;try{const Wt=await fe.json();if(Wt?.moderation?.[0]?.status==="rejected"){ie($(Ka.failed_moderation)),Q.warn(`[localAttachmentUpload] upload failed moderation for ${Tt}, response=${fe}`);return}yt=Zk(Wt?.eager?.[0]?.secure_url??Wt?.secure_url)}catch{yt=`${Ge}${Ke}`.replace("${filename}",`${Xe.name}`)}if(!yt){ie();return}const Zt=Wp(yt)?"success":"parsing";q(Wt=>Wt.map(Hn=>Hn.id===nt?{...Hn,nextURL:yt,file_uuid:Tt,status:Zt}:Hn)),te("success"),Z("local"),Tt&&Zt=="parsing"&&await Se(Tt,Xe.name)},[ie,$,Se]),ve=f.useCallback(async(fe,Xe,Ge)=>{if(!fe?.success){ie();return}if(fe.rate_limited){de(),ie($(Ka.rate_limited));return}if(!fe.filename||!fe.url){ie();return}const Ke=fe.url&&Wp(fe.url)?Zk(fe.url):Jk(fe.url),nt=w2(Ke);console.log(fe.url,fe.filename,nt);const Tt=await G(fe.url,fe.filename,nt),yt=Wp(fe.url)?"success":"parsing";q(Zt=>Zt.map(Wt=>Wt.id===Ge?{...Wt,file:Tt??Wt.file,nextURL:Ke,file_uuid:fe.file_uuid??void 0,status:yt,thumbnailSource:Tt?URL.createObjectURL(Tt):void 0}:Wt)),te("success"),Z(Xe),fe.file_uuid&&yt=="parsing"&&await Se(fe.file_uuid,fe.filename)},[G,ie,de,$,Se]),Be=f.useCallback(async(fe,Xe)=>{if(fe?.rate_limited){de(),ie($(Ka.rate_limited));return}if(!fe||!fe.fields||!fe.s3_bucket_url){ie();return}Yae(Xe)&&q(Ke=>Ke.map(nt=>nt.id===Xe.id?{...nt,thumbnailSource:URL.createObjectURL(Xe.file)}:nt));const Ge=new FormData;Object.entries(fe.fields).forEach(([Ke,nt])=>{Ge.append(Ke,nt)}),Ge.append("file",Xe.file);try{const Ke=await fetch(fe.s3_bucket_url,{method:"POST",body:Ge});await be(Ke,Xe.file,fe.s3_bucket_url,fe.fields.key,Xe.id,fe.file_uuid??void 0)}catch(Ke){Q.warn(`[localAttachmentUpload] upload failed for ${fe.file_uuid} with error=${Ke}`),ie()}},[de,ie,$,be]),We=f.useCallback(fe=>{const Xe=fe.filter(Ke=>Ke.status==="success").reduce((Ke,nt)=>{const Tt=nt.file.type,yt=Tt.split("/")[0],Zt=a?.type_subtype_bytes_per_token?.[Tt],Wt=a?.type_bytes_per_token?.[yt],Hn=a?.default_bytes_per_token,Pr=Zt??Wt??Hn,ms=nt.file.size,Ys=Pr?ms/Pr:0;return Ke+Ys},0),Ge=a?.max_total_tokens;return Ge&&Xe>Ge},[a]);f.useEffect(()=>{if(!V.length)return;V.every(Xe=>Xe.status==="success"||Xe.status==="failed")&&We(V)&&ne($({defaultMessage:"Performance may be degraded for larger files.",id:"xwKpaJzWgU"}))},[V,We,$,W]);const Le=f.useCallback((fe,Xe,Ge)=>{if(G6t(fe)){let Ke=0;Promise.all(fe.map(async nt=>{const Tt=qe(nt);if(Tt){ie(Tt);return}let yt=nt;if(Ma(nt))try{D&&(yt=await AJe(nt))}catch{Q.warn(`Unable to resize image file: ${nt.name}`)}const Zt={id:Hr(),file:yt,status:"uploading"};q(Hn=>[...Hn??[],Zt]);const Wt=await tj({file:yt,fileSource:Ge,forceImage:M,reason:L});Be(Wt,Zt),Ke++})).then(()=>{n&&n>0&&S&&S(Ke)})}else Xe&&fe.forEach(Ke=>{const nt=qe(Ke);if(nt)ie(nt);else{const Tt=w2(Ke.name??""),yt=new File([""],Ke.name??"",{type:Tt}),Zt={id:Ke.id,file:yt,status:"uploading"};q(Wt=>[...Wt??[],Zt]),Nnt({remote_file_id:Ke.id,connection_type:Xe.toUpperCase(),reason:L}).then(Wt=>{ve(Wt,Xe,Zt.id)})}})},[n,S,qe,M,L,ie,D,Be,ve]),De=f.useCallback((fe,Xe,Ge)=>{if(!(!fe||fe.length===0)){if(Ge!==jN){if(!t){xe();return}if(n&&n<=0){de();return}if(fe.length+(V?.length??0)>r){X($(Ka.over_file_count,{maxNumFiles:r}));return}{let Ke=(V??[]).filter(nt=>nt.file.type.indexOf("image")>=0).length;for(const nt of fe)("type"in nt&&nt.type.indexOf("image")>=0||nt?.mimeType?.includes("image"))&&(Ke+=1);if(Ke>s){X($(Ka.over_image_count,{maxNumImages:s}));return}}}h?.(),te("loading"),Le(fe,Xe,Ge)}},[t,n,V,r,Le,h,xe,de,s,$]),{openPicker:Ve,isReady:le}=V6t({clientId:u?.google_drive?.picker_credentials?.client_id??"",apiKey:u?.google_drive?.picker_credentials?.api_key??"",loginHint:u?.google_drive?.connection_display_name??"",isAudioVideoFilesEnabled:I}),[we,Je]=f.useState(!1),[Te,pe]=f.useState(""),Fe=f.useCallback(()=>Je(!1),[]),ht=f.useCallback(fe=>{const Xe=fe.map(Ge=>({id:Ge.id,name:Ge.name,sizeBytes:Ge.size,mimeType:p8[Ge.extension]}));De(Xe,"box"),Fe()},[De,Fe]),{openPicker:Pt,cleanupPicker:Ft}=O6t({apiKey:(Te||u?.box?.picker_credentials?.api_key)??"",mode:"attachment",isAudioVideoFilesEnabled:I,onPicked:ht,onCancel:Fe}),tt=f.useCallback(async()=>{const fe=u?.box?.picker_credentials?.expires_at??"";if(fe&&N){const Xe=new Date(fe);if(isNaN(Xe.getTime())){Je(!0);return}if(Xe<new Date){const Ke=await N();pe(Ke?.api_key??"")}}Je(!0)},[u?.box?.picker_credentials?.expires_at,N]);f.useEffect(()=>{we&&Pt()},[we,Pt]);const st=f.useCallback((fe,Xe)=>{if(!C||Xe!=="onedrive"&&Xe!=="sharepoint")return;const Ge=fe.map(Ke=>C(Ke,Xe)).filter(Ke=>Ke!==null);De(Ge,Xe),w?.()},[C,De,w]),{openPicker:dt}=L6t({clientId:u?.dropbox?.picker_credentials?.client_id??""}),$t=f.useCallback(fe=>{const Xe=fe.map(Ge=>{const Ke=y3(Ge.name);return Ke?{id:Ge.id,name:Ge.name,sizeBytes:Ge.bytes,mimeType:p8[Ke]}:null}).filter(Ge=>Ge!==null);De(Xe,"dropbox")},[De]),wn=f.useCallback(()=>ie($({defaultMessage:"Unable to retrieve files from connector.",id:"4seKuUP1Wo"})),[ie,$]),Kr=f.useCallback((fe,Xe)=>{if(fe=="google_drive"&&le)Ve({mode:"attachment",onPicked:Ge=>De(Ge,fe)});else if(fe==="onedrive"||fe==="sharepoint"){const Ge=u?.[fe];b?.({connector:fe,clientId:Ge?.picker_credentials?.client_id??"",tenantName:Ge?.picker_credentials?.tenant_name??"",loginHint:Ge?.connection_display_name??"",webUrl:Xe,mode:"attachment",isAudioVideoFilesEnabled:I,onPicked:Ke=>st(Ke,fe),onError:_,onCancel:w,log:R})}else fe==="dropbox"?dt({mode:"attachment",isAudioVideoFilesEnabled:I,onPicked:$t,onError:wn}):fe=="box"&&tt()},[le,u,Ve,De,b,st,w,_,dt,$t,wn,tt,R,I]),un=f.useCallback(fe=>{v&&v(()=>{y?.(),!fe||fe==="local"?(e.current?.click(),d?.()):Kr(fe)})},[e,y,v,Kr,d]),_n=f.useCallback(fe=>{if(!t){xe();return}if(n&&n<=0){de();return}if(c&&!en(nM)){un(fe),Ot(nM,"true",{expires:30});return}!fe||fe==="local"?(e.current?.click(),d?.()):Kr(fe)},[t,n,c,e,xe,de,un,Kr,d]);return f.useEffect(()=>{let fe=null;return ee&&(fe=setTimeout(()=>{ne(null)},cLe)),()=>{fe&&clearTimeout(fe)}},[ee]),f.useEffect(()=>{V&&m?.(V.filter(fe=>!!fe.nextURL).map(fe=>({url:fe.nextURL??"",file:fe.file,resizedFile:fe.resizedFile})))},[V,m]),f.useMemo(()=>({errorMessage:W,warningMessage:ee,uploadedFiles:V,uploadSource:Y,status:z,fileInputRef:e,handleClearFiles:oe,handleRemoveFile:ae,handleStartUpload:_n,handleFileInput:De,handleOpenLoginModal:xe,handleOpenPricingModal:de,isBoxOpen:we,onCloseBox:Fe,cleanupBoxPicker:Ft,setErrorMessage:X}),[W,ee,V,Y,z,e,oe,ae,_n,De,xe,de,we,Fe,Ft])};function K6t(){const{value:e}=bd({flag:"attachment-token-estimation-params",defaultValue:{max_total_tokens:5e5,type_bytes_per_token:{text:4,image:500},type_subtype_bytes_per_token:{"application/pdf":200,"application/msword":500,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":500,"application/vnd.openxmlformats-officedocument.presentationml.presentation":500},default_bytes_per_token:100},subjectType:"user_nextauth_id"});return e}function Y6t({reason:e}){const t=ot();return lt({mutationFn:()=>tXe({reason:e}),onSuccess:()=>{t.invalidateQueries({queryKey:["get_user_settings"]})}})}function Q6t({reason:e}){return lt({mutationFn:async({connectionType:t,content:n})=>{await nXe({connectionType:t,content:n,reason:e})}})}const X6t=({reason:e})=>{const t=K(),[n,r]=f.useState(!1),[s,a]=f.useState(null),{openToast:i}=Yn(),{openPicker:o,toPickerDocument:c}=j6t(),{mutateAsync:u}=Q6t({reason:e}),d=f.useCallback(v=>{r(!0),a(v),v.connector=="onedrive"&&o(v)},[r,a,o]),h=f.useCallback(()=>{r(!1),a(null)},[r,a]),m=f.useCallback(v=>{Q.error("A Microsoft file picker error occured:",v),h(),i(t.formatMessage({defaultMessage:"{formattedName} is not responding. Please try again later.",id:"oF/tZmXBik"},{formattedName:ILe}),"error",5)},[h,i,t]),p=f.useCallback((v,y)=>{u({connectionType:v,content:y})},[u]),g=f.useCallback(v=>{s&&(a({...s,webUrl:v}),o({...s,webUrl:v}))},[s,o]);return f.useMemo(()=>({onOpen:d,onClose:h,onError:m,onSelectSite:g,toPickerDocument:c,log:p,isOpen:n,options:s}),[n,p,h,m,d,g,s,c])};function Z6t(){const{value:e}=Rr({flag:"resize-image-attachments",defaultValue:!1,subjectType:"user_nextauth_id"});return e}const J6t=({fileUploadRef:e,disablePrivacyWarning:t,isAudioVideoFilesEnabled:n,isClearAttachmentsEnabled:r,isFollowUp:s,existingAttachments:a,organization:i,lastResult:o,onStartFileUpload:c,onCompleteFileUpload:u,setUploadsReady:d,reason:h,incompleteParsingEnabled:m=!1})=>{const p=f.useRef(null),{openModal:g,closeModal:v}=St(),y=Hj(),x=K6t(),{value:b}=Rr({flag:"async-attachment-processing",defaultValue:!1,subjectType:"user_nextauth_id"}),w=Z6t(),_=ut(),{openVisitorLoginUpsell:C}=Gr({enabled:!_}),{hasDataRetentionWarning:S,connectorLimits:k}=Da({reason:h}),{connectorsMap:E}=O_({reason:h}),{uploadRateLimit:M,setUploadRateLimit:N}=Qn(),R=f.useCallback(z=>g("loginModal",z),[g]),A=f.useCallback(z=>g("pricingModal",z),[g]),P=f.useCallback(z=>g("companyDataPrivacyModal",{organizationName:i?.display_name??"",onContinue:z}),[g,i]),{onOpen:O,onClose:I,onError:L,toPickerDocument:F,options:D,onSelectSite:B,isOpen:$,log:W}=X6t({reason:h}),{mutateAsync:X}=Y6t({reason:h}),{getCachedImageDownloadUrl:ee,getImageDownloadUrl:ne}=Rj({reason:h}),V=f.useCallback(async z=>o?.backend_uuid?await ne({url:z,thread_id:o.backend_uuid}):ee(z),[ee,ne,o?.backend_uuid]),q=q6t({fileInputRef:p,isSignedIn:_,uploadRateLimit:M,maxFilesUpload:y,maxImageFilesUpload:lLe,attachmentTokenEstimationParams:x,forwardedRef:e,showPrivacyWarning:S&&!t,existingAttachments:a,connectorsMap:E,onStart:c,onComplete:u,openLoginModal:R,openPricingModal:A,openCompanyDataPrivacyModal:P,closeModal:v,openVisitorLoginUpsell:C,openMicrosoftPicker:O,closeMicrosoftPicker:I,errorMicrosoftPicker:L,toPickerDocument:F,setUploadRateLimit:N,isFollowUp:s,isClearAttachmentsEnabled:r,refreshBoxCredentials:X,logMicrosoft:W,asyncAttachmentsEnabled:b,setUploadsReady:d,getImageUrl:V,isAudioVideoFilesEnabled:n,reason:h,incompleteParsingEnabled:m,isImageAttachmentResizingEnabled:w,maxAttachmentFileSizeMB:k?.max_attachment_file_size_mb});return f.useMemo(()=>({...q,fileInputRef:p,microsoftFilePickerOptions:D,handleSelectSharepointSite:B,isMicrosoftFilePickerOpen:$,onCloseMicrosoft:I}),[q,B,$,D,I])},eEt=({setInput:e,isSidecar:t})=>{const n=An();f.useEffect(()=>{if(!n||!t)return;const r=n.get("p_q");r&&e(r)},[n,t,e])};function tEt(){return Intl.DateTimeFormat().resolvedOptions().timeZone}async function bBt({body:e,reason:t}){try{const n=await J.POST("/rest/realtime/session",t,{timeoutMs:$e({productionMs:5e3}),numRetries:1,body:e,headers:{"content-type":"application/json"}});return n.response.ok?{data:n.data,status:n.response.status,error:null}:{status:n.response.status,error:`Failed to get realtime session: ${n.response.statusText}`}}catch(n){return Q.error("Failed to get realtime session",n),{data:null,status:500,error:`Failed to get realtime session: ${n}`}}}async function nEt({body:e,reason:t}){try{const n=await J.POST("/rest/realtime/transcription-session",t,{timeoutMs:$e({productionMs:5e3}),numRetries:1,body:e,headers:{"content-type":"application/json"}});return n.response.ok?{data:n.data,status:n.response.status,error:null}:{status:n.response.status,error:`Failed to get realtime transcription session: ${n.response.statusText}`}}catch(n){return Q.error("Failed to get realtime transcription session",n),{data:null,status:500,error:`Failed to get realtime transcription session: ${n}`}}}async function wBt({body:e,reason:t}){try{const n=await J.POST("/rest/realtime/execute-tools",t,{timeoutMs:$e({productionMs:5e3}),numRetries:1,body:e,headers:{"content-type":"application/json"}});if(!n.response.ok){const s=await n.response.text();throw new Error(`Failed to execute tools: ${s}`)}return n.data}catch(n){Q.error("Failed to execute tools",n);return}}async function _Bt({entry:e,analyticsParams:t,reason:n}){try{const r=await J.POST("/rest/realtime/create-entry",n,{timeoutMs:$e({productionMs:5e3}),numRetries:1,body:{...e,analytics_params:{...t,timezone:tEt(),visitor_id:xd()}},headers:{"content-type":"application/json"}});if(!r.response.ok){const a=await r.response.text();throw new Error(`Failed to create entry: ${a}`)}return r.data}catch(r){Q.error("Failed to create entry",r);return}}const rEt=.7,sEt=({callbacks:e,config:t,reason:n})=>{const[r,s]=f.useState(!1),[a,i]=f.useState(""),[o,c]=f.useState(!1),[u,d]=f.useState(null),[h,m]=f.useState(()=>{const Y=Ue.getItem(L4);return Y?Y==="true":null}),{isWindowsApp:p}=Nt(),{trackEvent:g}=Ne(),v=t.silenceThreshold??30,y=t.silenceDuration??5e3,x=f.useRef(null),b=f.useRef(null),w=f.useRef(""),_=f.useRef(null),C=f.useRef(!1),S=f.useRef(null),k=f.useRef(null),E=f.useRef(null),M=f.useRef(null),N=f.useRef(null),R=f.useRef(new Map),A=f.useRef(null),P=f.useRef(null),O=f.useRef(null),I=f.useRef([]),L=f.useRef(null),F=f.useCallback(async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(Z=>Z.stop()),m(!0),Ue.setItem(L4,"true"),!0}catch(Y){return d(`Microphone permission denied. ${Y}`),m(!1),Ue.setItem(L4,"false"),!1}},[]),D=f.useRef(!1),B=f.useCallback(()=>{_.current&&(_.current.getTracks().forEach(Y=>Y.stop()),_.current=null)},[]),$=f.useCallback(()=>{if(C.current=!1,E.current&&(clearTimeout(E.current),E.current=null),S.current&&(S.current.close(),S.current=null,k.current=null),x.current&&r&&x.current.stop(),L.current&&(clearInterval(L.current),L.current=null),O.current&&(O.current.port.onmessage=null,O.current.disconnect(),O.current=null),b.current&&b.current.stop(),B(),w.current="",i(""),R.current.clear(),s(!1),N.current&&(N.current.close(),N.current=null),M.current){const Y=Date.now()-M.current;g("stop transcription",{durationMs:Y})}M.current=null,e?.onStop?.()},[e,B,g,r]),W=f.useCallback(Y=>{if(!Y||!C.current)return;const Z=Y.frequencyBinCount,re=new Uint8Array(Z);Y.getByteFrequencyData(re),re.reduce((oe,ae)=>oe+ae)/Z<v?E.current||(E.current=setTimeout(()=>{C.current&&e?.onSilence?.()},y)):E.current&&(clearTimeout(E.current),E.current=null),C.current&&requestAnimationFrame(()=>W(Y))},[e,v,y]),X=f.useCallback(()=>Array.from(R.current.values()).map(Z=>Z.finalTranscript||Z.partialTranscript||"").join(" ").trim(),[R]),ee=f.useCallback(Y=>{const{type:Z,item_id:re}=Y;if(!re)return;R.current.has(re)||R.current.set(re,{itemId:re,partialTranscript:"",finalTranscript:""});const G=R.current.get(re),oe=P.current||"";switch(Z){case"conversation.item.input_audio_transcription.delta":{const{delta:ae}=Y;oe==="whisper-1"?G.partialTranscript=ae:G.partialTranscript+=ae;break}case"conversation.item.input_audio_transcription.completed":{const{transcript:ae}=Y;typeof ae=="string"&&(G.finalTranscript=ae);break}case"input_audio_buffer.committed":{Y.previous_item_id&&(G.previousItemId=Y.previous_item_id);break}}R.current.set(re,G),i(X())},[X]),ne=f.useCallback(async()=>{const Y=await nEt({body:{source:p?Of:HJ,timezone:vR,turn_detection_threshold:rEt,response_language:"en"},reason:n});if(!Y.data?.client_secret)throw Q.error("No ephemeral key from server"),new Error("Unable to start OAI session");A.current=Y.data.session_id,P.current=Y.data.model_name;const re=["realtime",`openai-insecure-api-key.${Y.data.client_secret}`,"openai-beta.realtime-v1"],G=new WebSocket("wss://api.openai.com/v1/realtime?intent=transcription",re);N.current=G,G.onopen=()=>Q.info("OpenAI WS connected (base64 PCM approach)"),G.onerror=oe=>{Q.error("OAI WS error:",oe),d("OpenAI WS error")},G.onclose=oe=>{Q.info("OAI WS closed:",oe.code)},G.onmessage=oe=>{try{const ae=JSON.parse(oe.data);ee(ae)}catch(ae){Q.error("Invalid OAI WS message:",oe.data,ae)}}},[ee,p,n]),V=f.useCallback(Y=>{let Z=0;for(const oe of Y)Z+=oe.length;const re=new Int16Array(Z);let G=0;for(const oe of Y)re.set(oe,G),G+=oe.length;return re},[]),q=f.useCallback(Y=>{const Z=Y.buffer;let re="";const G=new Uint8Array(Z);for(let oe=0;oe<G.byteLength;oe++)re+=String.fromCharCode(G[oe]);return btoa(re)},[]),z=f.useCallback(async Y=>{const Z=new AudioContext;S.current=Z,await Z.audioWorklet.addModule("/audio-worklet.js");const re=new AudioWorkletNode(Z,"pcm-worklet-processor");O.current=re,re.port.onmessage=oe=>{if(!C.current)return;const ae=oe.data;I.current.push(ae)},L.current||(L.current=setInterval(()=>{if(!C.current||!N.current||N.current.readyState!==WebSocket.OPEN||I.current.length===0)return;const oe=V(I.current);I.current=[];const ae=q(oe),ie={event_id:`evt-${Date.now()}`,type:"input_audio_buffer.append",audio:ae};N.current.send(JSON.stringify(ie))},500));const G=Z.createMediaStreamSource(Y);G.connect(re),re.connect(Z.destination),k.current=Z.createAnalyser(),k.current.fftSize=256,G.connect(k.current),requestAnimationFrame(()=>W(k.current))},[W,V,q]),te=f.useCallback(async()=>{if(d(null),M.current=Date.now(),g("start transcription"),C.current=!0,(h===null||h===!1)&&(c(!0),!await F())){c(!1),d("Microphone permission is required for voice input"),e?.onStop?.(),C.current=!1;return}try{await ne();const Y=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(async Z=>{if(m(!1),!await F())throw Z;return navigator.mediaDevices.getUserMedia({audio:!0})});_.current=Y,await z(Y),D.current&&b.current&&(w.current="",i(""),b.current.start(),b.current.onspeechend=()=>$()),s(!0),c(!1),e?.onStart?.()}catch(Y){d(`Failed to start recording. ${Y}`),C.current=!1}},[e,h,F,g,$,ne,z]);return f.useMemo(()=>({isTranscribing:r,isInitializing:o,transcription:a,error:u,startTranscription:te,stopTranscription:$}),[u,o,r,te,$,a])};class rE{static cancelOneTap(t=!1){if(typeof window>"u"||!window)return!0;const n=window.location.pathname;return!![{match:"/",condition:()=>t},{match:"/welcome",condition:()=>t},{match:"/search/new"},{match:"/join/",startsWith:!0},{match:"/onboarding",startsWith:!0},{match:"/search/render",startsWith:!0},{match:"/auth/windows-app",startsWith:!0},{match:"/auth/sso",startsWith:!0},{match:"/auth/error",startsWith:!0}].some(({match:s,startsWith:a,condition:i})=>(a?n.startsWith(s):n===s)&&(!i||i()))}static getLoginSource(){if(!window)return rt.GOOGLE_ONETAP_UNKNOWN;const t=window.location.pathname;return t?t==="/"?rt.GOOGLE_ONETAP_HOME:t.startsWith("/search/")?rt.GOOGLE_ONETAP_THREAD:t.startsWith("/page/")?rt.GOOGLE_ONETAP_PAGE:t.startsWith("/discover")?rt.GOOGLE_ONETAP_DISCOVER:rt.GOOGLE_ONETAP_UNKNOWN:rt.GOOGLE_ONETAP_UNKNOWN}}const zq=500,aEt=4,S5e=f.createContext({promptSkipped:!1});function iEt(e){const{children:t}=e,n=f.useRef(0),r=f.useRef(!1),[s,a]=f.useState(!1),i=ut(),o=sI(),{isMobileUserAgent:c}=Oe(),d=ls().erp,h=f.useCallback(async m=>{if(!m||rE.cancelOneTap(o))return;const p=rE.getLoginSource(),g=typeof window<"u"?new URL(window.location.href):new URL("/","https://www.perplexity.ai"),v=new URLSearchParams({[pd]:p});g.search=v.toString();const y={credential:m.credential,callbackUrl:g.toString()};await Ep("googleonetap",y)},[o]);return f.useEffect(()=>{if(typeof window>"u"||i||c||["new_tab","sidecar"].includes(d??""))return;function m(){if(!r.current&&(n.current+=1,!(n.current>aEt))){if(!window.google?.accounts?.id){setTimeout(m,zq);return}r.current=!0,!rE.cancelOneTap(o)&&(window.google.accounts.id.initialize({client_id:"60244564555-30175ip7vg79fobh0rk1sur3pdutj9l1.apps.googleusercontent.com",callback:h,auto_select:!0,use_fedcm_for_prompt:!0}),cn()?a(!0):window.google.accounts.id.prompt(g=>{a(g.isSkippedMoment())}))}}const p=setTimeout(m,zq);return()=>{clearTimeout(p)}},[h,o,c,i,d]),l.jsx(S5e.Provider,{value:{promptSkipped:s},children:t})}function oEt(){return f.useContext(S5e)}function lEt(){const{value:e}=Rr({flag:"clear-attachment-on-submission",subjectType:"user_nextauth_id",defaultValue:!1});return e}function Ae(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const s of t)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Ni=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,cEt=Ni&&"documentMode"in document?document.documentMode:null,Vi=Ni&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),cc=Ni&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),jb=!(!Ni||!("InputEvent"in window)||cEt)&&"getTargetRanges"in new window.InputEvent("input"),P0=Ni&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ph=Ni&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,uEt=Ni&&/Android/.test(navigator.userAgent),E5e=Ni&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Vq=Ni&&uEt&&E5e,Pb=Ni&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!E5e;function Ib(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}const dEt=1,fEt=3,hEt=9,mEt=11,td=0,k5e=1,Ih=2,pEt=0,gEt=1,vEt=2,Ob=4,Lb=8,bI=128,yEt=1792|(112|(3|Ob|Lb)|bI),wI=1,_I=2,CI=3,SI=4,EI=5,kI=6,U_=P0||Ph||Pb?" ":"​",dl=`

`,xEt=cc?" ":U_,M5e="֑-߿יִ-﷽ﹰ-ﻼ",T5e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",bEt=new RegExp("^[^"+T5e+"]*["+M5e+"]"),wEt=new RegExp("^[^"+M5e+"]*["+T5e+"]"),nd={bold:1,capitalize:1024,code:16,highlight:bI,italic:2,lowercase:256,strikethrough:Ob,subscript:32,superscript:64,underline:Lb,uppercase:512},_Et={directionless:1,unmergeable:2},Gq={center:_I,end:kI,justify:SI,left:wI,right:CI,start:EI},CEt={[_I]:"center",[kI]:"end",[SI]:"justify",[wI]:"left",[CI]:"right",[EI]:"start"},SEt={normal:0,segmented:2,token:1},EEt={[pEt]:"normal",[vEt]:"segmented",[gEt]:"token"},kEt="$";function N5e(e,t,n,r,s,a){let i=e.getFirstChild();for(;i!==null;){const o=i.__key;i.__parent===t&&(Ce(i)&&N5e(i,o,n,r,s,a),n.has(o)||a.delete(o),s.push(o)),i=i.getNextSibling()}}const MEt=100;let wT=!1,MI=0;function TEt(e){MI=e.timeStamp}function sE(e,t,n){const r=e.nodeName==="BR",s=t.__lexicalLineBreak;return s&&(e===s||r&&e.previousSibling===s)||r&&Y_(e,n)!==void 0}function NEt(e,t,n){const r=Co(Pa(n));let s=null,a=null;r!==null&&r.anchorNode===e&&(s=r.anchorOffset,a=r.focusOffset);const i=e.nodeValue;i!==null&&VI(t,i,s,a,!1)}function REt(e,t,n){if(Re(e)){const r=e.anchor.getNode();if(r.is(n)&&e.format!==r.getFormat())return!1}return Tl(t)&&n.isAttached()}function AEt(e,t,n,r){for(let s=e;s&&!Rkt(s);s=cv(s)){const a=Y_(s,t);if(a!==void 0){const i=Sr(a,n);if(i)return rn(i)||!Ns(s)?void 0:[s,i]}else if(s===r)return[r,_Ce(n)]}}function R5e(e,t,n){wT=!0;const r=performance.now()-MI>MEt;try{Js(e,()=>{const s=Qe()||function(m){return m.getEditorState().read(()=>{const p=Qe();return p!==null?p.clone():null})}(e),a=new Map,i=e.getRootElement(),o=e._editorState,c=e._blockCursorElement;let u=!1,d="";for(let m=0;m<t.length;m++){const p=t[m],g=p.type,v=p.target,y=AEt(v,e,o,i);if(!y)continue;const[x,b]=y;if(g==="characterData")r&&Ye(b)&&Tl(v)&&REt(s,v,b)&&NEt(v,b,e);else if(g==="childList"){u=!0;const w=p.addedNodes;for(let S=0;S<w.length;S++){const k=w[S],E=bCe(k),M=k.parentNode;if(M!=null&&k!==c&&E===null&&!sE(k,M,e)){if(cc){const N=(Ns(k)?k.innerText:null)||k.nodeValue;N&&(d+=N)}M.removeChild(k)}}const _=p.removedNodes,C=_.length;if(C>0){let S=0;for(let k=0;k<C;k++){const E=_[k];(sE(E,v,e)||c===E)&&(v.appendChild(E),S++)}C!==S&&a.set(x,b)}}}if(a.size>0)for(const[m,p]of a)p.reconcileObservedMutation(m,e);const h=n.takeRecords();if(h.length>0){for(let m=0;m<h.length;m++){const p=h[m],g=p.addedNodes,v=p.target;for(let y=0;y<g.length;y++){const x=g[y],b=x.parentNode;b==null||x.nodeName!=="BR"||sE(x,v,e)||b.removeChild(x)}}n.takeRecords()}s!==null&&(u&&qs(s),cc&&kCe(e)&&s.insertRawText(d))})}finally{wT=!1}}function A5e(e){const t=e._observer;t!==null&&R5e(e,t.takeRecords(),t)}function j5e(e){(function(t){MI===0&&Pa(t).addEventListener("textInput",TEt,!0)})(e),e._observer=new MutationObserver((t,n)=>{R5e(e,t,n)})}class TI{constructor(t,n=new Map,r=void 0,s=new Map,a=void 0){this.node=t,this.sharedConfigMap=n,this.unknownState=r,this.knownState=s;const i=a!==void 0?a:function(o,c,u){let d=u.size;if(c)for(const h in c){const m=o.get(h);m&&u.has(m)||d++}return d}(n,r,s);this.size=i}getValue(t){const n=this.knownState.get(t);if(n!==void 0)return n;this.sharedConfigMap.set(t.key,t);let r=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){const s=this.unknownState[t.key];s!==void 0&&(r=t.parse(s)),this.updateFromKnown(t,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const t={...this.unknownState};for(const[n,r]of this.knownState)n.isEqual(r,n.defaultValue)?delete t[n.key]:t[n.key]=n.unparse(r);return By(t)?{[kEt]:t}:{}}getWritable(t){if(this.node===t)return this;const n=new Map(this.knownState),r=By(s=this.unknownState)&&{...s};var s;if(r)for(const a of n.keys())delete r[a.key];return new TI(t,this.sharedConfigMap,By(r),n,this.size)}updateFromKnown(t,n){const r=t.key;this.sharedConfigMap.set(r,t);const{knownState:s,unknownState:a}=this;s.has(t)||a&&r in a||this.size++,s.set(t,n)}updateFromUnknown(t,n){const r=this.sharedConfigMap.get(t);r?this.updateFromKnown(r,r.parse(n)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=n)}updateFromJSON(t){const{knownState:n}=this;for(const r of n.keys())n.set(r,r.defaultValue);if(this.size=n.size,this.unknownState={},t)for(const[r,s]of Object.entries(t))this.updateFromUnknown(r,s);this.unknownState=By(this.unknownState)}}function By(e){if(e)for(const t in e)return e}function jEt(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new TI(t);return t.__state=n,n}function qq(e,t){const n=e.__mode,r=e.__format,s=e.__style,a=t.__mode,i=t.__format,o=t.__style,c=e.__state,u=t.__state;return(n===null||n===a)&&(r===null||r===i)&&(s===null||s===o)&&(e.__state===null||c===u||function(d,h){if(d===h)return!0;if(d&&h&&d.size!==h.size)return!1;const m=new Set,p=(v,y)=>{for(const[x,b]of v.knownState){if(m.has(x.key))continue;m.add(x.key);const w=y?y.getValue(x):x.defaultValue;if(w!==b&&!x.isEqual(w,b))return!0}return!1},g=(v,y)=>{const{unknownState:x}=v,b=y?y.unknownState:void 0;if(x){for(const[w,_]of Object.entries(x))if(!m.has(w)&&(m.add(w),_!==(b?b[w]:void 0)))return!0}return!1};return!(d&&p(d,h)||h&&p(h,d)||d&&g(d,h)||h&&g(h,d))}(c,u))}function Kq(e,t){const n=e.mergeWithSibling(t),r=Bn()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function Yq(e){let t,n,r=e;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(t=r.getPreviousSibling())!==null&&Ye(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(qq(t,r)){r=Kq(t,r);break}break}t.remove()}for(;(n=r.getNextSibling())!==null&&Ye(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(qq(r,n)){r=Kq(r,n);break}break}n.remove()}}else r.remove()}function I0(e){return Qq(e.anchor),Qq(e.focus),e}function Qq(e){for(;e.type==="element";){const t=e.getNode(),n=e.offset;let r,s;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),s=!0):(r=t.getChildAtIndex(n),s=!1),Ye(r)){e.set(r.__key,s?r.getTextContentSize():0,"text",!0);break}if(!Ce(r))break;e.set(r.__key,s?r.getChildrenSize():0,"element",!0)}}let Ec,Ss,O0,B_,_T,CT,rd,ui,ST,L0,ur="",_s="",Bi=null,$i="",$o="",P5e=!1,D0=!1,I2=null;function Db(e,t){const n=rd.get(e);if(t!==null){const r=MT(e);r.parentNode===t&&t.removeChild(r)}if(ui.has(e)||Ss._keyToDOMMap.delete(e),Ce(n)){const r=Ub(n,rd);ET(r,0,r.length-1,null)}n!==void 0&&GI(L0,O0,B_,n,"destroyed")}function ET(e,t,n,r){let s=t;for(;s<=n;++s){const a=e[s];a!==void 0&&Db(a,r)}}function ru(e,t){e.setProperty("text-align",t)}const PEt="40px";function I5e(e,t){const n=Ec.theme.indent;if(typeof n=="string"){const s=e.classList.contains(n);t>0&&!s?e.classList.add(n):t<1&&s&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||PEt;e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${r})`)}function O5e(e,t){const n=e.style;t===0?ru(n,""):t===wI?ru(n,"left"):t===_I?ru(n,"center"):t===CI?ru(n,"right"):t===SI?ru(n,"justify"):t===EI?ru(n,"start"):t===kI&&ru(n,"end")}function Fb(e,t){const n=ui.get(e);n===void 0&&Ae(60);const r=n.createDOM(Ec,Ss);if(function(s,a,i){const o=i._keyToDOMMap;(function(c,u,d){const h=`__lexicalKey_${u._key}`;c[h]=d})(a,i,s),o.set(s,a)}(e,r,Ss),Ye(n)?r.setAttribute("data-lexical-text","true"):rn(n)&&r.setAttribute("data-lexical-decorator","true"),Ce(n)){const s=n.__indent,a=n.__size;if(s!==0&&I5e(r,s),a!==0){const o=a-1;(function(c,u,d,h){const m=_s;_s="",kT(c,d,0,u,d.getDOMSlot(h)),D5e(d,h),_s=m})(Ub(n,ui),o,n,r)}const i=n.__format;i!==0&&O5e(r,i),n.isInline()||L5e(null,n,r),Q_(n)&&(ur+=dl,$o+=dl)}else{const s=n.getTextContent();if(rn(n)){const a=n.decorate(Ss,Ec);a!==null&&F5e(e,a),r.contentEditable="false"}else Ye(n)&&(n.isDirectionless()||(_s+=s));ur+=s,$o+=s}return t!==null&&t.insertChild(r),GI(L0,O0,B_,n,"created"),r}function kT(e,t,n,r,s){const a=ur;ur="";let i=n;for(;i<=r;++i){Fb(e[i],s);const o=ui.get(e[i]);o!==null&&Ye(o)&&(Bi===null&&(Bi=o.getFormat()),$i===""&&($i=o.getStyle()))}Q_(t)&&(ur+=dl),s.element.__lexicalTextContent=ur,ur=a+ur}function Xq(e,t){if(e){const n=e.__last;if(n){const r=t.get(n);if(r)return eh(r)?"line-break":rn(r)&&r.isInline()?"decorator":null}return"empty"}return null}function L5e(e,t,n){const r=Xq(e,rd),s=Xq(t,ui);r!==s&&t.getDOMSlot(n).setManagedLineBreak(s)}function D5e(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==_s||r!==I2){const s=_s==="",a=s?I2:function(i){return bEt.test(i)?"rtl":wEt.test(i)?"ltr":null}(_s);if(a!==r){const i=t.classList,o=Ec.theme;let c=r!==null?o[r]:void 0,u=a!==null?o[a]:void 0;if(c!==void 0){if(typeof c=="string"){const d=Ib(c);c=o[r]=d}i.remove(...c)}if(a===null||s&&a==="ltr")t.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const d=Ib(u);u=o[a]=d}u!==void 0&&i.add(...u)}t.dir=a}D0||(e.getWritable().__dir=a)}I2=a,t.__lexicalDirTextContent=_s,t.__lexicalDir=a}}function IEt(e,t,n){const r=_s;var s;_s="",Bi=null,$i="",function(a,i,o){const c=ur,u=a.__size,d=i.__size;ur="";const h=o.element;if(u===1&&d===1){const m=a.__first,p=i.__first;if(m===p)Pp(m,h);else{const v=MT(m),y=Fb(p,null);try{h.replaceChild(y,v)}catch(x){if(typeof x=="object"&&x!=null){const b=`${x.toString()} Parent: ${h.tagName}, new child: {tag: ${y.tagName} key: ${p}}, old child: {tag: ${v.tagName}, key: ${m}}.`;throw new Error(b)}throw x}Db(m,null)}const g=ui.get(p);Ye(g)&&(Bi===null&&(Bi=g.getFormat()),$i===""&&($i=g.getStyle()))}else{const m=Ub(a,rd),p=Ub(i,ui);if(m.length!==u&&Ae(227),p.length!==d&&Ae(228),u===0)d!==0&&kT(p,i,0,d-1,o);else if(d===0){if(u!==0){const g=o.after==null&&o.before==null&&o.element.__lexicalLineBreak==null;ET(m,0,u-1,g?null:h),g&&(h.textContent="")}}else(function(g,v,y,x,b,w){const _=x-1,C=b-1;let S,k,E=w.getFirstChild(),M=0,N=0;for(;M<=_&&N<=C;){const P=v[M],O=y[N];if(P===O)E=aE(Pp(O,w.element)),M++,N++;else{S===void 0&&(S=new Set(v)),k===void 0&&(k=new Set(y));const L=k.has(P),F=S.has(O);if(L)if(F){const D=Bh(Ss,O);D===E?E=aE(Pp(O,w.element)):(w.withBefore(E).insertChild(D),Pp(O,w.element)),M++,N++}else Fb(O,w.withBefore(E)),N++;else E=aE(MT(P)),Db(P,w.element),M++}const I=ui.get(O);I!==null&&Ye(I)&&(Bi===null&&(Bi=I.getFormat()),$i===""&&($i=I.getStyle()))}const R=M>_,A=N>C;if(R&&!A){const P=y[C+1],O=P===void 0?null:Ss.getElementByKey(P);kT(y,g,N,C,w.withBefore(O))}else A&&!R&&ET(v,M,_,w.element)})(i,m,p,u,d,o)}Q_(i)&&(ur+=dl),h.__lexicalTextContent=ur,ur=c+ur}(e,t,t.getDOMSlot(n)),D5e(t,n),s=t,Bi==null||Bi===s.__textFormat||D0||s.setTextFormat(Bi),function(a){$i===""||$i===a.__textStyle||D0||a.setTextStyle($i)}(t),_s=r}function Ub(e,t){const n=[];let r=e.__first;for(;r!==null;){const s=t.get(r);s===void 0&&Ae(101),n.push(r),r=s.__next}return n}function Pp(e,t){const n=rd.get(e);let r=ui.get(e);n!==void 0&&r!==void 0||Ae(61);const s=P5e||CT.has(e)||_T.has(e),a=Bh(Ss,e);if(n===r&&!s){if(Ce(n)){const i=a.__lexicalTextContent;i!==void 0&&(ur+=i,$o+=i);const o=a.__lexicalDirTextContent;o!==void 0&&(_s+=o)}else{const i=n.getTextContent();Ye(n)&&!n.isDirectionless()&&(_s+=i),$o+=i,ur+=i}return a}if(n!==r&&s&&GI(L0,O0,B_,r,"updated"),r.updateDOM(n,a,Ec)){const i=Fb(e,null);return t===null&&Ae(62),t.replaceChild(i,a),Db(e,null),i}if(Ce(n)&&Ce(r)){const i=r.__indent;i!==n.__indent&&I5e(a,i);const o=r.__format;o!==n.__format&&O5e(a,o),s&&(IEt(n,r,a),$r(r)||r.isInline()||L5e(n,r,a)),Q_(r)&&(ur+=dl,$o+=dl)}else{const i=r.getTextContent();if(rn(r)){const o=r.decorate(Ss,Ec);o!==null&&F5e(e,o)}else Ye(r)&&!r.isDirectionless()&&(_s+=i);ur+=i,$o+=i}if(!D0&&$r(r)&&r.__cachedText!==$o){const i=r.getWritable();i.__cachedText=$o,r=i}return a}function F5e(e,t){let n=Ss._pendingDecorators;const r=Ss._decorators;if(n===null){if(r[e]===t)return;n=wCe(Ss)}n[e]=t}function aE(e){let t=e.nextSibling;return t!==null&&t===Ss._blockCursorElement&&(t=t.nextSibling),t}function OEt(e,t,n,r,s,a){ur="",$o="",_s="",P5e=r===Ih,I2=null,Ss=n,Ec=n._config,O0=n._nodes,B_=Ss._listeners.mutation,_T=s,CT=a,rd=e._nodeMap,ui=t._nodeMap,D0=t._readOnly,ST=new Map(n._keyToDOMMap);const i=new Map;return L0=i,Pp("root",null),Ss=void 0,O0=void 0,_T=void 0,CT=void 0,rd=void 0,ui=void 0,Ec=void 0,ST=void 0,L0=void 0,i}function MT(e){const t=ST.get(e);return t===void 0&&Ae(75,e),t}function Et(e){return{type:e}}const U5e=Et("SELECTION_CHANGE_COMMAND"),LEt=Et("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),DEt=Et("CLICK_COMMAND"),fo=Et("DELETE_CHARACTER_COMMAND"),Zf=Et("INSERT_LINE_BREAK_COMMAND"),TT=Et("INSERT_PARAGRAPH_COMMAND"),Tu=Et("CONTROLLED_TEXT_INSERTION_COMMAND"),$_=Et("PASTE_COMMAND"),Bb=Et("REMOVE_TEXT_COMMAND"),Oh=Et("DELETE_WORD_COMMAND"),Lh=Et("DELETE_LINE_COMMAND"),wu=Et("FORMAT_TEXT_COMMAND"),NI=Et("UNDO_COMMAND"),RI=Et("REDO_COMMAND"),FEt=Et("KEYDOWN_COMMAND"),B5e=Et("KEY_ARROW_RIGHT_COMMAND"),UEt=Et("MOVE_TO_END"),$5e=Et("KEY_ARROW_LEFT_COMMAND"),BEt=Et("MOVE_TO_START"),H5e=Et("KEY_ARROW_UP_COMMAND"),W5e=Et("KEY_ARROW_DOWN_COMMAND"),Dh=Et("KEY_ENTER_COMMAND"),$Et=Et("KEY_SPACE_COMMAND"),AI=Et("KEY_BACKSPACE_COMMAND"),z5e=Et("KEY_ESCAPE_COMMAND"),jI=Et("KEY_DELETE_COMMAND"),V5e=Et("KEY_TAB_COMMAND"),HEt=Et("OUTDENT_CONTENT_COMMAND"),G5e=Et("DROP_COMMAND"),q5e=Et("DRAGSTART_COMMAND"),WEt=Et("DRAGOVER_COMMAND"),zEt=Et("DRAGEND_COMMAND"),PI=Et("COPY_COMMAND"),II=Et("CUT_COMMAND"),NT=Et("SELECT_ALL_COMMAND"),K5e=Et("CLEAR_EDITOR_COMMAND"),VEt=Et("CLEAR_HISTORY_COMMAND"),$y=Et("CAN_REDO_COMMAND"),Hy=Et("CAN_UNDO_COMMAND"),GEt=Et("FOCUS_COMMAND"),qEt=Et("BLUR_COMMAND"),KEt=Et("KEY_MODIFIER_COMMAND"),Po=Object.freeze({}),RT=30,AT=[["keydown",function(e,t){if(gg=e.timeStamp,Y5e=e.key,!t.isComposing()&&!Ze(t,FEt,e)&&e.key!=null){if(iE&&EK(e))return Js(t,()=>{Wy(t,oE)}),iE=!1,void(oE="");if(function(n){return sn(n,"ArrowRight",{shiftKey:"any"})}(e))Ze(t,B5e,e);else if(function(n){return sn(n,"ArrowRight",Do)}(e))Ze(t,UEt,e);else if(function(n){return sn(n,"ArrowLeft",{shiftKey:"any"})}(e))Ze(t,$5e,e);else if(function(n){return sn(n,"ArrowLeft",Do)}(e))Ze(t,BEt,e);else if(function(n){return sn(n,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))Ze(t,H5e,e);else if(function(n){return sn(n,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))Ze(t,W5e,e);else if(function(n){return sn(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))vg=!0,Ze(t,Dh,e);else if(function(n){return n.key===" "}(e))Ze(t,$Et,e);else if(function(n){return Vi&&sn(n,"o",{ctrlKey:!0})}(e))e.preventDefault(),vg=!0,Ze(t,Zf,!0);else if(function(n){return sn(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))vg=!1,Ze(t,Dh,e);else if(function(n){return sn(n,"Backspace",{shiftKey:"any"})||Vi&&sn(n,"h",{ctrlKey:!0})}(e))EK(e)?Ze(t,AI,e):(e.preventDefault(),Ze(t,fo,!0));else if(function(n){return n.key==="Escape"}(e))Ze(t,z5e,e);else if(function(n){return sn(n,"Delete",{})||Vi&&sn(n,"d",{ctrlKey:!0})}(e))(function(n){return n.key==="Delete"})(e)?Ze(t,jI,e):(e.preventDefault(),Ze(t,fo,!1));else if(function(n){return sn(n,"Backspace",SK)}(e))e.preventDefault(),Ze(t,Oh,!0);else if(function(n){return sn(n,"Delete",SK)}(e))e.preventDefault(),Ze(t,Oh,!1);else if(function(n){return Vi&&sn(n,"Backspace",{metaKey:!0})}(e))e.preventDefault(),Ze(t,Lh,!0);else if(function(n){return Vi&&(sn(n,"Delete",{metaKey:!0})||sn(n,"k",{ctrlKey:!0}))}(e))e.preventDefault(),Ze(t,Lh,!1);else if(function(n){return sn(n,"b",Do)}(e))e.preventDefault(),Ze(t,wu,"bold");else if(function(n){return sn(n,"u",Do)}(e))e.preventDefault(),Ze(t,wu,"underline");else if(function(n){return sn(n,"i",Do)}(e))e.preventDefault(),Ze(t,wu,"italic");else if(function(n){return sn(n,"Tab",{shiftKey:"any"})}(e))Ze(t,V5e,e);else if(function(n){return sn(n,"z",Do)}(e))e.preventDefault(),Ze(t,NI,void 0);else if(function(n){return Vi?sn(n,"z",{metaKey:!0,shiftKey:!0}):sn(n,"y",{ctrlKey:!0})||sn(n,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),Ze(t,RI,void 0);else{const n=t._editorState._selection;n===null||Re(n)?!cc&&kK(e)&&(e.preventDefault(),Ze(t,NT,e)):function(r){return sn(r,"c",Do)}(e)?(e.preventDefault(),Ze(t,PI,e)):function(r){return sn(r,"x",Do)}(e)?(e.preventDefault(),Ze(t,II,e)):kK(e)&&(e.preventDefault(),Ze(t,NT,e))}(function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey})(e)&&Ze(t,KEt,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;Mm(n)&&r!=="touch"&&e.button===0&&Js(t,()=>{wK(n)||(PT=!0)})}],["compositionstart",function(e,t){Js(t,()=>{const n=Qe();if(Re(n)&&!t.isComposing()){const r=n.anchor,s=n.anchor.getNode();Dr(r.key),(e.timeStamp<gg+RT||r.type==="element"||!n.isCollapsed()||s.getFormat()!==n.format||Ye(s)&&s.getStyle()!==n.style)&&Ze(t,Tu,xEt)}})}],["compositionend",function(e,t){cc?hp=!0:Ph||!P0&&!Pb?Js(t,()=>{Wy(t,e.data)}):(iE=!0,oE=e.data)}],["input",function(e,t){e.stopPropagation(),Js(t,()=>{if(Ns(e.target)&&wK(e.target))return;const n=Qe(),r=e.data,s=eCe(e);if(r!=null&&Re(n)&&Z5e(n,s,r,e.timeStamp,!1)){hp&&(Wy(t,r),hp=!1);const a=n.anchor.getNode(),i=Co(Pa(t));if(i===null)return;const o=n.isBackward(),c=o?n.anchor.offset:n.focus.offset,u=o?n.focus.offset:n.anchor.offset;jb&&!n.isCollapsed()&&Ye(a)&&i.anchorNode!==null&&a.getTextContent().slice(0,c)+r+a.getTextContent().slice(c+u)===ECe(i.anchorNode)||Ze(t,Tu,r);const d=r.length;cc&&d>1&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(n.anchor.offset-=d),P0||Ph||Pb||!t.isComposing()||(gg=0,Dr(null))}else zI(!1,t,r!==null?r:void 0),hp&&(Wy(t,r||void 0),hp=!1);(function(){rs();const a=Bn();A5e(a)})()},{event:e}),hf=null}],["click",function(e,t){Js(t,()=>{const n=Qe(),r=Co(Pa(t)),s=iv();if(r){if(Re(n)){const a=n.anchor,i=a.getNode();if(a.type==="element"&&a.offset===0&&n.isCollapsed()&&!$r(i)&&ln().getChildrenSize()===1&&i.getTopLevelElementOrThrow().isEmpty()&&s!==null&&n.is(s))r.removeAllRanges(),n.dirty=!0;else if(e.detail===3&&!n.isCollapsed()&&i!==n.focus.getNode()){const o=function(c,u){let d=c;for(;d!==ln()&&d!=null;){if(u(d))return d;d=d.getParent()}return null}(i,c=>Ce(c)&&!c.isInline());Ce(o)&&o.select(0)}}else if(e.pointerType==="touch"){const a=r.anchorNode;(Ns(a)||Tl(a))&&qs(LI(s,r,t,e))}}Ze(t,DEt,e)})}],["cut",Po],["copy",Po],["dragstart",Po],["dragover",Po],["dragend",Po],["paste",Po],["focus",Po],["blur",Po],["drop",Po]];jb&&AT.push(["beforeinput",(e,t)=>function(n,r){const s=n.inputType,a=eCe(n);s==="deleteCompositionText"||cc&&kCe(r)||s!=="insertCompositionText"&&Js(r,()=>{const i=Qe();if(s==="deleteContentBackward"){if(i===null){const p=iv();if(!Re(p))return;qs(p.clone())}if(Re(i)){const p=i.anchor.key===i.focus.key;if(o=n.timeStamp,Y5e==="MediaLast"&&o<gg+RT&&r.isComposing()&&p){if(Dr(null),gg=0,setTimeout(()=>{Js(r,()=>{Dr(null)})},RT),Re(i)){const g=i.anchor.getNode();g.markDirty(),Ye(g)||Ae(142),J5e(i,g)}}else{Dr(null),n.preventDefault();const g=i.anchor.getNode(),v=g.getTextContent(),y=g.canInsertTextAfter(),x=i.anchor.offset===0&&i.focus.offset===v.length;let b=Vq&&p&&!x&&y;if(b&&i.isCollapsed()&&(b=!rn(_kt(i.anchor,!0))),!b){Ze(r,fo,!0);const w=Qe();Vq&&Re(w)&&w.isCollapsed()&&(pu=w,setTimeout(()=>pu=null))}}return}}var o;if(!Re(i))return;const c=n.data;hf!==null&&zI(!1,r,hf),i.dirty&&hf===null||!i.isCollapsed()||$r(i.anchor.getNode())||a===null||i.applyDOMRange(a),hf=null;const u=i.anchor,d=i.focus,h=u.getNode(),m=d.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(n.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ze(r,Tu,n);break;case"insertFromComposition":Dr(null),Ze(r,Tu,n);break;case"insertLineBreak":Dr(null),Ze(r,Zf,!1);break;case"insertParagraph":Dr(null),vg&&!Ph?(vg=!1,Ze(r,Zf,!1)):Ze(r,TT,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ze(r,$_,n);break;case"deleteByComposition":(function(p,g){return p!==g||Ce(p)||Ce(g)||!p.isToken()||!g.isToken()})(h,m)&&Ze(r,Bb,n);break;case"deleteByDrag":case"deleteByCut":Ze(r,Bb,n);break;case"deleteContent":Ze(r,fo,!1);break;case"deleteWordBackward":Ze(r,Oh,!0);break;case"deleteWordForward":Ze(r,Oh,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ze(r,Lh,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ze(r,Lh,!1);break;case"formatStrikeThrough":Ze(r,wu,"strikethrough");break;case"formatBold":Ze(r,wu,"bold");break;case"formatItalic":Ze(r,wu,"italic");break;case"formatUnderline":Ze(r,wu,"underline");break;case"historyUndo":Ze(r,NI,void 0);break;case"historyRedo":Ze(r,RI,void 0)}else{if(c===`
`)n.preventDefault(),Ze(r,Zf,!1);else if(c===dl)n.preventDefault(),Ze(r,TT,void 0);else if(c==null&&n.dataTransfer){const p=n.dataTransfer.getData("text/plain");n.preventDefault(),i.insertRawText(p)}else c!=null&&Z5e(i,a,c,n.timeStamp,!0)?(n.preventDefault(),Ze(r,Tu,c)):hf=c;Q5e=n.timeStamp}})}(e,t)]);let gg=0,Y5e=null,Q5e=0,hf=null;const $b=new WeakMap;let jT=!1,PT=!1,vg=!1,hp=!1,iE=!1,oE="",pu=null,X5e=[0,"",0,"root",0];function Z5e(e,t,n,r,s){const a=e.anchor,i=e.focus,o=a.getNode(),c=Bn(),u=Co(Pa(c)),d=u!==null?u.anchorNode:null,h=a.key,m=c.getElementByKey(h),p=n.length;return h!==i.key||!Ye(o)||(!s&&(!jb||Q5e<r+50)||o.isDirty()&&p<2||CCe(n))&&a.offset!==i.offset&&!o.isComposing()||mf(o)||o.isDirty()&&p>1||(s||!jb)&&m!==null&&!o.isComposing()&&d!==Fh(m)||u!==null&&t!==null&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||o.getFormat()!==e.format||o.getStyle()!==e.style||function(g,v){if(v.isSegmented())return!0;if(!g.isCollapsed())return!1;const y=g.anchor.offset,x=v.getParentOrThrow(),b=v.isToken();return y===0?!v.canInsertTextBefore()||!x.canInsertTextBefore()&&!v.isComposing()||b||function(w){const _=w.getPreviousSibling();return(Ye(_)||Ce(_)&&_.isInline())&&!_.canInsertTextAfter()}(v):y===v.getTextContentSize()&&(!v.canInsertTextAfter()||!x.canInsertTextAfter()&&!v.isComposing()||b)}(e,o)}function Zq(e,t){return Tl(e)&&e.nodeValue!==null&&t!==0&&t!==e.nodeValue.length}function Jq(e,t,n){const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:i}=e;jT&&(jT=!1,Zq(r,s)&&Zq(a,i)&&!pu)||Js(t,()=>{if(!n)return void qs(null);if(!q_(t,r,a))return;let o=Qe();if(pu&&Re(o)&&o.isCollapsed()){const c=o.anchor,u=pu.anchor;(c.key===u.key&&c.offset===u.offset+1||c.offset===1&&u.getNode().is(c.getNode().getPreviousSibling()))&&(o=pu.clone(),qs(o))}if(pu=null,Re(o)){const c=o.anchor,u=c.getNode();if(o.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(o.dirty=!0);const d=Pa(t).event,h=d?d.timeStamp:performance.now(),[m,p,g,v,y]=X5e,x=ln(),b=t.isComposing()===!1&&x.getTextContent()==="";if(h<y+200&&c.offset===g&&c.key===v)O2(o,m,p);else if(c.type==="text")Ye(u)||Ae(141),J5e(o,u);else if(c.type==="element"&&!b){Ce(u)||Ae(259);const w=c.getNode();w.isEmpty()?function(_,C){const S=C.getTextFormat(),k=C.getTextStyle();O2(_,S,k)}(o,w):O2(o,0,"")}}else{const d=c.key,h=o.focus.key,m=o.getNodes(),p=m.length,g=o.isBackward(),v=g?i:s,y=g?s:i,x=g?h:d,b=g?d:h;let w=yEt,_=!1;for(let C=0;C<p;C++){const S=m[C],k=S.getTextContentSize();if(Ye(S)&&k!==0&&!(C===0&&S.__key===x&&v===k||C===p-1&&S.__key===b&&y===0)&&(_=!0,w&=S.getFormat(),w===0))break}o.format=_?w:0}}Ze(t,U5e,void 0)})}function O2(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function J5e(e,t){O2(e,t.getFormat(),t.getStyle())}function eCe(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return t.length===0?null:t[0]}function Wy(e,t){const n=e._compositionKey;if(Dr(null),n!==null&&t!=null){if(t===""){const r=Sr(n),s=Fh(e.getElementByKey(n));return void(s!==null&&s.nodeValue!==null&&Ye(r)&&VI(r,s.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const r=Qe();if(Re(r)){const s=r.focus;return r.anchor.set(s.key,s.offset,s.type),void Ze(e,Dh,null)}}}zI(!0,e,t)}function tCe(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}const Jf=new Map;function nCe(e){const t=kkt(e.target);if(t===null)return;const n=HI(t.anchorNode);if(n===null)return;PT&&(PT=!1,Js(n,()=>{const c=iv(),u=t.anchorNode;(Ns(u)||Tl(u))&&qs(LI(c,t,n,e))}));const r=WI(n),s=r[r.length-1],a=s._key,i=Jf.get(a),o=i||s;o!==n&&Jq(t,o,!1),Jq(t,n,!0),n!==s?Jf.set(a,n):i&&Jf.delete(a)}function eK(e){e._lexicalHandled=!0}function tK(e){return e._lexicalHandled===!0}function YEt(e){const t=e.ownerDocument,n=$b.get(t);if(n===void 0)return;const r=n-1;r>=0||Ae(164),$b.set(t,r),r===0&&t.removeEventListener("selectionchange",nCe);const s=K_(e);$I(s)?(function(i){if(i._parentEditor!==null){const o=WI(i),c=o[o.length-1]._key;Jf.get(c)===i&&Jf.delete(c)}else Jf.delete(i._key)}(s),e.__lexicalEditor=null):s&&Ae(198);const a=tCe(e);for(let i=0;i<a.length;i++)a[i]();e.__lexicalEventHandles=[]}function IT(e,t,n){rs();const r=e.__key,s=e.getParent();if(s===null)return;const a=function(o){const c=Qe();if(!Re(c)||!Ce(o))return c;const{anchor:u,focus:d}=c,h=u.getNode(),m=d.getNode();return BT(h,o)&&u.set(o.__key,0,"element"),BT(m,o)&&d.set(o.__key,0,"element"),c}(e);let i=!1;if(Re(a)&&t){const o=a.anchor,c=a.focus;o.key===r&&(Wb(o,e,s,e.getPreviousSibling(),e.getNextSibling()),i=!0),c.key===r&&(Wb(c,e,s,e.getPreviousSibling(),e.getNextSibling()),i=!0)}else uc(a)&&t&&e.isSelected()&&e.selectPrevious();if(Re(a)&&t&&!i){const o=e.getIndexWithinParent();Nu(e),Hb(a,s,o,-1)}else Nu(e);n||Nl(s)||s.canBeEmpty()||!s.isEmpty()||IT(s,t),t&&a&&$r(s)&&s.isEmpty()&&s.selectEnd()}class H_{static getType(){Ae(64,this.name)}static clone(t){Ae(65,this.name)}afterCloneFrom(t){this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),xkt(this,t)}getType(){return this.__type}isInline(){Ae(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const n=Sr(t);if(n===null)break;t=n.__parent}return!1}isSelected(t){const n=t||Qe();if(n==null)return!1;const r=n.getNodes().some(s=>s.__key===this.__key);if(Ye(this))return r;if(Re(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const s=this.getParent();if(rn(this)&&this.isInline()&&s){const a=n.isBackward()?n.focus:n.anchor;if(s.is(a.getNode())&&a.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let n=t.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:Sr(t)}getParentOrThrow(){const t=this.getParent();return t===null&&Ae(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const n=t.getParent();if(Nl(n))return Ce(t)||t===this&&rn(t)||Ae(194),t;t=n}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&Ae(67,this.__key),t}getParents(){const t=[];let n=this.getParent();for(;n!==null;)t.push(n),n=n.getParent();return t}getParentKeys(){const t=[];let n=this.getParent();for(;n!==null;)t.push(n.__key),n=n.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:Sr(t)}getPreviousSiblings(){const t=[],n=this.getParent();if(n===null)return t;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)t.push(r),r=r.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:Sr(t)}getNextSiblings(){const t=[];let n=this.getNextSibling();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getCommonAncestor(t){const n=Ce(this)?this:this.getParent(),r=Ce(t)?t:t.getParent(),s=n&&r?D2(n,r):null;return s?s.commonAncestor:null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){const n=D2(this,t);return n!==null&&(n.type==="descendant"||(n.type==="branch"?ACe(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&Ae(279),!1)))}isParentOf(t){const n=D2(this,t);return n!==null&&n.type==="ancestor"}getNodesBetween(t){const n=this.isBefore(t),r=[],s=new Set;let a=this;for(;a!==null;){const i=a.__key;if(s.has(i)||(s.add(i),r.push(a)),a===t)break;const o=Ce(a)?n?a.getFirstChild():a.getLastChild():null;if(o!==null){a=o;continue}const c=n?a.getNextSibling():a.getPreviousSibling();if(c!==null){a=c;continue}const u=a.getParentOrThrow();if(s.has(u.__key)||r.push(u),u===t)break;let d=null,h=u;do{if(h===null&&Ae(68),d=n?h.getNextSibling():h.getPreviousSibling(),h=h.getParent(),h===null)break;d!==null||s.has(h.__key)||r.push(h)}while(d===null);a=d}return n||r.reverse(),r}isDirty(){const t=Bn()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=Sr(this.__key);return t===null&&Ae(113),t}getWritable(){rs();const t=Wc(),n=Bn(),r=t._nodeMap,s=this.__key,a=this.getLatest(),i=n._cloneNotNeeded,o=Qe();if(o!==null&&o.setCachedNodes(null),i.has(s))return Vb(a),a;const c=TCe(a);return i.add(s),Vb(c),r.set(s,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,n){Ae(70)}updateDOM(t,n,r){Ae(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){const t=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...t}}static importJSON(t){Ae(18,this.name)}updateFromJSON(t){return function(n,r){const s=n.getWritable();return(r||s.__state)&&jEt(n).updateFromJSON(r),s}(this,t.$)}static transform(){return null}remove(t){IT(this,!0,t)}replace(t,n){rs();let r=Qe();r!==null&&(r=r.clone()),hE(this,t);const s=this.getLatest(),a=this.__key,i=t.__key,o=t.getWritable(),c=this.getParentOrThrow().getWritable(),u=c.__size;Nu(o);const d=s.getPreviousSibling(),h=s.getNextSibling(),m=s.__prev,p=s.__next,g=s.__parent;if(IT(s,!1,!0),d===null?c.__first=i:d.getWritable().__next=i,o.__prev=m,h===null?c.__last=i:h.getWritable().__prev=i,o.__next=p,o.__parent=g,c.__size=u,n&&(Ce(this)&&Ce(o)||Ae(139),this.getChildren().forEach(v=>{o.append(v)})),Re(r)){qs(r);const v=r.anchor,y=r.focus;v.key===a&&aK(v,o),y.key===a&&aK(y,o)}return rc()===a&&Dr(i),o}insertAfter(t,n=!0){rs(),hE(this,t);const r=this.getWritable(),s=t.getWritable(),a=s.getParent(),i=Qe();let o=!1,c=!1;if(a!==null){const p=t.getIndexWithinParent();if(Nu(s),Re(i)){const g=a.__key,v=i.anchor,y=i.focus;o=v.type==="element"&&v.key===g&&v.offset===p+1,c=y.type==="element"&&y.key===g&&y.offset===p+1}}const u=this.getNextSibling(),d=this.getParentOrThrow().getWritable(),h=s.__key,m=r.__next;if(u===null?d.__last=h:u.getWritable().__prev=h,d.__size++,r.__next=h,s.__next=m,s.__prev=r.__key,s.__parent=r.__parent,n&&Re(i)){const p=this.getIndexWithinParent();Hb(i,d,p+1);const g=d.__key;o&&i.anchor.set(g,p+2,"element"),c&&i.focus.set(g,p+2,"element")}return t}insertBefore(t,n=!0){rs(),hE(this,t);const r=this.getWritable(),s=t.getWritable(),a=s.__key;Nu(s);const i=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),c=r.__prev,u=this.getIndexWithinParent();i===null?o.__first=a:i.getWritable().__next=a,o.__size++,r.__prev=a,s.__prev=c,s.__next=r.__key,s.__parent=r.__parent;const d=Qe();return n&&Re(d)&&Hb(d,this.getParentOrThrow(),u),t}isParentRequired(){return!1}createParentElementNode(){return la()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,n){rs();const r=this.getPreviousSibling(),s=this.getParentOrThrow();if(r===null)return s.select(0,0);if(Ce(r))return r.select();if(!Ye(r)){const a=r.getIndexWithinParent()+1;return s.select(a,a)}return r.select(t,n)}selectNext(t,n){rs();const r=this.getNextSibling(),s=this.getParentOrThrow();if(r===null)return s.select();if(Ce(r))return r.select(0,0);if(!Ye(r)){const a=r.getIndexWithinParent();return s.select(a,a)}return r.select(t,n)}markDirty(){this.getWritable()}reconcileObservedMutation(t,n){this.markDirty()}}class sv extends H_{static getType(){return"linebreak"}static clone(t){return new sv(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:t=>function(n){const r=n.parentElement;if(r!==null&&Gb(r)){const s=r.firstChild;if(s===n||s.nextSibling===n&&zy(s)){const a=r.lastChild;if(a===n||a.previousSibling===n&&zy(a))return!0}}return!1}(t)||function(n){const r=n.parentElement;if(r!==null&&Gb(r)){const s=r.firstChild;if(s===n||s.nextSibling===n&&zy(s))return!1;const a=r.lastChild;if(a===n||a.previousSibling===n&&zy(a))return!0}return!1}(t)?null:{conversion:QEt,priority:0}}}static importJSON(t){return kc().updateFromJSON(t)}}function QEt(e){return{node:kc()}}function kc(){return Pd(new sv)}function eh(e){return e instanceof sv}function zy(e){return Tl(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function lE(e,t){return 16&t?"code":t&bI?"mark":32&t?"sub":64&t?"sup":null}function cE(e,t){return 1&t?"strong":2&t?"em":"span"}function rCe(e,t,n,r,s){const a=r.classList;let i=nh(s,"base");i!==void 0&&a.add(...i),i=nh(s,"underlineStrikethrough");let o=!1;const c=t&Lb&&t&Ob;i!==void 0&&(n&Lb&&n&Ob?(o=!0,c||a.add(...i)):c&&a.remove(...i));for(const u in nd){const d=nd[u];if(i=nh(s,u),i!==void 0)if(n&d){if(o&&(u==="underline"||u==="strikethrough")){t&d&&a.remove(...i);continue}t&d&&(!c||u!=="underline")&&u!=="strikethrough"||a.add(...i)}else t&d&&a.remove(...i)}}function sCe(e,t,n){const r=t.firstChild,s=n.isComposing(),a=e+(s?U_:"");if(r==null)t.textContent=a;else{const i=r.nodeValue;if(i!==a)if(s||cc){const[o,c,u]=function(d,h){const m=d.length,p=h.length;let g=0,v=0;for(;g<m&&g<p&&d[g]===h[g];)g++;for(;v+g<m&&v+g<p&&d[m-v-1]===h[p-v-1];)v++;return[g,m-g-v,h.slice(g,p-v)]}(i,a);c!==0&&r.deleteData(o,c),r.insertData(o,u)}else r.nodeValue=a}}function nK(e,t,n,r,s,a){sCe(s,e,t);const i=a.theme.text;i!==void 0&&rCe(0,0,r,e,i)}function Vy(e,t){const n=document.createElement(t);return n.appendChild(e),n}class Ad extends H_{static getType(){return"text"}static clone(t){return new Ad(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}constructor(t="",n){super(n),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return EEt[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===rc()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const n=nd[t];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,n){return zb(this.getLatest().__format,t,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(t,n){const r=this.__format,s=lE(0,r),a=cE(0,r),i=s===null?a:s,o=document.createElement(i);let c=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),s!==null&&(c=document.createElement(a),o.appendChild(c)),nK(c,this,0,r,this.__text,t);const u=this.__style;return u!==""&&(o.style.cssText=u),o}updateDOM(t,n,r){const s=this.__text,a=t.__format,i=this.__format,o=lE(0,a),c=lE(0,i),u=cE(0,a),d=cE(0,i);if((o===null?u:o)!==(c===null?d:c))return!0;if(o===c&&u!==d){const v=n.firstChild;v==null&&Ae(48);const y=document.createElement(d);return nK(y,this,0,i,s,r),n.replaceChild(y,v),!1}let h=n;c!==null&&o!==null&&(h=n.firstChild,h==null&&Ae(49)),sCe(s,h,this);const m=r.theme.text;m!==void 0&&a!==i&&rCe(0,a,i,h,m);const p=t.__style,g=this.__style;return p!==g&&(n.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:ekt,priority:0}),b:()=>({conversion:ZEt,priority:0}),code:()=>({conversion:Io,priority:0}),em:()=>({conversion:Io,priority:0}),i:()=>({conversion:Io,priority:0}),mark:()=>({conversion:Io,priority:0}),s:()=>({conversion:Io,priority:0}),span:()=>({conversion:XEt,priority:0}),strong:()=>({conversion:Io,priority:0}),sub:()=>({conversion:Io,priority:0}),sup:()=>({conversion:Io,priority:0}),u:()=>({conversion:Io,priority:0})}}static importJSON(t){return tr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:n}=super.exportDOM(t);return Ns(n)||Ae(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=Vy(n,"b")),this.hasFormat("italic")&&(n=Vy(n,"i")),this.hasFormat("strikethrough")&&(n=Vy(n,"s")),this.hasFormat("underline")&&(n=Vy(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,n){}setFormat(t){const n=this.getWritable();return n.__format=typeof t=="string"?nd[t]:t,n}setDetail(t){const n=this.getWritable();return n.__detail=typeof t=="string"?_Et[t]:t,n}setStyle(t){const n=this.getWritable();return n.__style=t,n}toggleFormat(t){const n=zb(this.getFormat(),t,null);return this.setFormat(n)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const n=SEt[t];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(t){if(this.__text===t)return this;const n=this.getWritable();return n.__text=t,n}select(t,n){rs();let r=t,s=n;const a=Qe(),i=this.getTextContent(),o=this.__key;if(typeof i=="string"){const c=i.length;r===void 0&&(r=c),s===void 0&&(s=c)}else r=0,s=0;if(!Re(a))return oCe(o,r,o,s,"text","text");{const c=rc();c!==a.anchor.key&&c!==a.focus.key||Dr(o),a.setTextNodeRange(this,r,this,s)}return a}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,n,r,s){const a=this.getWritable(),i=a.__text,o=r.length;let c=t;c<0&&(c=o+c,c<0&&(c=0));const u=Qe();if(s&&Re(u)){const h=t+o;u.setTextNodeRange(a,h,a,h)}const d=i.slice(0,c)+r+i.slice(c+n);return a.__text=d,a}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){rs();const n=this.getLatest(),r=n.getTextContent();if(r==="")return[];const s=n.__key,a=rc(),i=r.length;t.sort((E,M)=>E-M),t.push(i);const o=[],c=t.length;for(let E=0,M=0;E<i&&M<=c;M++){const N=t[M];N>E&&(o.push(r.slice(E,N)),E=N)}const u=o.length;if(u===1)return[n];const d=o[0],h=n.getParent();let m;const p=n.getFormat(),g=n.getStyle(),v=n.__detail;let y=!1,x=null,b=null;const w=Qe();if(Re(w)){const[E,M]=w.isBackward()?[w.focus,w.anchor]:[w.anchor,w.focus];E.type==="text"&&E.key===s&&(x=E),M.type==="text"&&M.key===s&&(b=M)}n.isSegmented()?(m=tr(d),m.__format=p,m.__style=g,m.__detail=v,y=!0):(m=n.getWritable(),m.__text=d);const _=[m];for(let E=1;E<u;E++){const M=tr(o[E]);M.__format=p,M.__style=g,M.__detail=v;const N=M.__key;a===s&&Dr(N),_.push(M)}const C=x?x.offset:null,S=b?b.offset:null;let k=0;for(const E of _){if(!x&&!b)break;const M=k+E.getTextContentSize();if(x!==null&&C!==null&&C<=M&&C>=k&&(x.set(E.getKey(),C-k,"text"),C<M&&(x=null)),b!==null&&S!==null&&S<=M&&S>=k){b.set(E.getKey(),S-k,"text");break}k=M}if(h!==null){(function(N){const R=N.getPreviousSibling(),A=N.getNextSibling();R!==null&&Vb(R),A!==null&&Vb(A)})(this);const E=h.getWritable(),M=this.getIndexWithinParent();y?(E.splice(M,0,_),this.remove()):E.splice(M,1,_),Re(w)&&Hb(w,h,M,u-1)}return _}mergeWithSibling(t){const n=t===this.getPreviousSibling();n||t===this.getNextSibling()||Ae(50);const r=this.__key,s=t.__key,a=this.__text,i=a.length;rc()===s&&Dr(r);const o=Qe();if(Re(o)){const h=o.anchor,m=o.focus;h!==null&&h.key===s&&fK(h,n,r,t,i),m!==null&&m.key===s&&fK(m,n,r,t,i)}const c=t.__text,u=n?c+a:a+c;this.setTextContent(u);const d=this.getWritable();return t.remove(),d}isTextEntity(){return!1}}function XEt(e){return{forChild:OI(e.style),node:null}}function ZEt(e){const t=e,n=t.style.fontWeight==="normal";return{forChild:OI(t.style,n?void 0:"bold"),node:null}}const rK=new WeakMap;function JEt(e){if(!Ns(e))return!1;if(e.nodeName==="PRE")return!0;const t=e.style.whiteSpace;return typeof t=="string"&&t.startsWith("pre")}function ekt(e){const t=e;e.parentElement===null&&Ae(129);let n=t.textContent||"";if(function(r){let s,a=r.parentNode;const i=[r];for(;a!==null&&(s=rK.get(a))===void 0&&!JEt(a);)i.push(a),a=a.parentNode;const o=s===void 0?a:s;for(let c=0;c<i.length;c++)rK.set(i[c],o);return o}(t)!==null){const r=n.split(/(\r?\n|\t)/),s=[],a=r.length;for(let i=0;i<a;i++){const o=r[i];o===`
`||o===`\r
`?s.push(kc()):o==="	"?s.push(W_()):o!==""&&s.push(tr(o))}return{node:s}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=t,s=!0;for(;r!==null&&(r=sK(r,!1))!==null;){const a=r.textContent||"";if(a.length>0){/[ \t\n]$/.test(a)&&(n=n.slice(1)),s=!1;break}}s&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=t,s=!0;for(;r!==null&&(r=sK(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:tr(n)}}function sK(e,t){let n=e;for(;;){let r;for(;(r=t?n.nextSibling:n.previousSibling)===null;){const a=n.parentElement;if(a===null)return null;n=a}if(n=r,Ns(n)){const a=n.style.display;if(a===""&&!WT(n)||a!==""&&!a.startsWith("inline"))return null}let s=n;for(;(s=t?n.firstChild:n.lastChild)!==null;)n=s;if(Tl(n))return n;if(n.nodeName==="BR")return null}}const tkt={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Io(e){const t=tkt[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:OI(e.style,t),node:null}}function tr(e=""){return Pd(new Ad(e))}function Ye(e){return e instanceof Ad}function OI(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),s=n==="700"||n==="bold",a=r.includes("line-through"),i=e.fontStyle==="italic",o=r.includes("underline"),c=e.verticalAlign;return u=>(Ye(u)&&(s&&!u.hasFormat("bold")&&u.toggleFormat("bold"),a&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),i&&!u.hasFormat("italic")&&u.toggleFormat("italic"),o&&!u.hasFormat("underline")&&u.toggleFormat("underline"),c!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),c!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),t&&!u.hasFormat(t)&&u.toggleFormat(t)),u)}class av extends Ad{static getType(){return"tab"}static clone(t){return new av(t.__key)}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}createDOM(t){const n=super.createDOM(t),r=nh(t.theme,"tab");return r!==void 0&&n.classList.add(...r),n}static importJSON(t){return W_().updateFromJSON(t)}setTextContent(t){return t!=="	"&&t!==""&&Ae(126),super.setTextContent(t)}setDetail(t){return t!==2&&Ae(127),this}setMode(t){return t!=="normal"&&Ae(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function W_(){return Pd(new av)}function nkt(e){return e instanceof av}class rkt{constructor(t,n,r){this._selection=null,this.key=t,this.offset=n,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){return this.key===t.key?this.offset<t.offset:RCe(Zi(Tc(this,"next")),Zi(Tc(t,"next")))<0}getNode(){const t=Sr(this.key);return t===null&&Ae(20),t}set(t,n,r,s){const a=this._selection,i=this.key;s&&this.key===t&&this.offset===n&&this.type===r||(this.key=t,this.offset=n,this.type=r,ov()||(rc()===i&&Dr(t),a!==null&&(a.setCachedNodes(null),a.dirty=!0)))}}function _o(e,t,n){return new rkt(e,t,n)}function uE(e,t){let n=t.__key,r=e.offset,s="element";if(Ye(t)){s="text";const a=t.getTextContentSize();r>a&&(r=a)}else if(!Ce(t)){const a=t.getNextSibling();if(Ye(a))n=a.__key,r=0,s="text";else{const i=t.getParent();i&&(n=i.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,s)}function aK(e,t){if(Ce(t)){const n=t.getLastDescendant();Ce(n)||Ye(n)?uE(e,n):uE(e,t)}else uE(e,t)}class z_{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!uc(t))return!1;const n=this._nodes,r=t._nodes;return n.size===r.size&&Array.from(n).every(s=>r.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new z_(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const n=this.getNodes(),r=n.length,s=n[r-1];let a;if(Ye(s))a=s.select();else{const i=s.getIndexWithinParent()+1;a=s.getParentOrThrow().select(i,i)}a.insertNodes(t);for(let i=0;i<r;i++)n[i].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const n=this._nodes,r=[];for(const s of n){const a=Sr(s);a!==null&&r.push(a)}return ov()||(this._cachedNodes=r),r}getTextContent(){const t=this.getNodes();let n="";for(let r=0;r<t.length;r++)n+=t[r].getTextContent();return n}deleteNodes(){const t=this.getNodes();if((Qe()||iv())===this&&t[0]){const n=cs(t[0],"next");Ukt(od(n,n))}for(const n of t)n.remove()}}function Re(e){return e instanceof jd}class jd{constructor(t,n,r,s){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!Re(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const n=function(r){const s=[],[a,i]=r.getTextSlices();a&&s.push(a.caret.origin);const o=new Set,c=new Set;for(const u of r)if(ho(u)){const{origin:d}=u;s.length===0?o.add(d):(c.add(d),s.push(d))}else{const{origin:d}=u;Ce(d)&&c.has(d)||s.push(d)}if(i&&s.push(i.caret.origin),$h(r.focus)&&Ce(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let u=Mc(r.focus.origin,"previous");ho(u)&&o.has(u.origin)&&!u.origin.isEmpty()&&u.origin.is(s[s.length-1]);u=XI(u))o.delete(u.origin),s.pop();for(;s.length>1;){const u=s[s.length-1];if(!Ce(u)||c.has(u)||u.isEmpty()||o.has(u))break;s.pop()}if(s.length===0&&r.isCollapsed()){const u=Zi(r.anchor),d=Zi(r.anchor.getFlipped()),h=p=>Ru(p)?p.origin:p.getNodeAtCaret(),m=h(u)||h(d)||(r.anchor.getNodeAtCaret()?u.origin:d.origin);s.push(m)}return s}(PCe(jK(this),"next"));return ov()||(this._cachedNodes=n),n}setTextNodeRange(t,n,r,s){this.anchor.set(t.__key,n,"text"),this.focus.set(r.__key,s,"text")}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const n=t[0],r=t[t.length-1],s=this.anchor,a=this.focus,i=s.isBefore(a),[o,c]=OT(this);let u="",d=!0;for(let h=0;h<t.length;h++){const m=t[h];if(Ce(m)&&!m.isInline())d||(u+=`
`),d=!m.isEmpty();else if(d=!1,Ye(m)){let p=m.getTextContent();m===n?m===r?s.type==="element"&&a.type==="element"&&a.offset!==s.offset||(p=o<c?p.slice(o,c):p.slice(c,o)):p=i?p.slice(o):p.slice(c):m===r&&(p=i?p.slice(0,c):p.slice(0,o)),u+=p}else!rn(m)&&!eh(m)||m===r&&this.isCollapsed()||(u+=m.getTextContent())}return u}applyDOMRange(t){const n=Bn(),r=n.getEditorState()._selection,s=iCe(t.startContainer,t.startOffset,t.endContainer,t.endOffset,n,r);if(s===null)return;const[a,i]=s;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(i.key,i.offset,i.type,!0),I0(this)}clone(){const t=this.anchor,n=this.focus;return new jd(_o(t.key,t.offset,t.type),_o(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(t){this.format=zb(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const n=nd[t];return!!(this.format&n)}insertRawText(t){const n=t.split(/(\r?\n|\t)/),r=[],s=n.length;for(let a=0;a<s;a++){const i=n[a];i===`
`||i===`\r
`?r.push(kc()):i==="	"?r.push(W_()):r.push(tr(i))}this.insertNodes(r)}insertText(t){const n=this.anchor,r=this.focus,s=this.format,a=this.style;let i=n,o=r;!this.isCollapsed()&&r.isBefore(n)&&(i=r,o=n),i.type==="element"&&function(y,x,b,w){const _=y.getNode(),C=_.getChildAtIndex(y.offset),S=tr(),k=$r(_)?la().append(S):S;S.setFormat(b),S.setStyle(w),C===null?_.append(k):C.insertBefore(k),y.is(x)&&x.set(S.__key,0,"text"),y.set(S.__key,0,"text")}(i,o,s,a),o.type==="element"&&U0(o,Zi(Tc(o,"next")));const c=i.offset;let u=o.offset;const d=this.getNodes(),h=d.length;let m=d[0];Ye(m)||Ae(26);const p=m.getTextContent().length,g=m.getParentOrThrow();let v=d[h-1];if(h===1&&o.type==="element"&&(u=p,o.set(i.key,u,"text")),this.isCollapsed()&&c===p&&(m.isSegmented()||m.isToken()||!m.canInsertTextAfter()||!g.canInsertTextAfter()&&m.getNextSibling()===null)){let y=m.getNextSibling();if(Ye(y)&&y.canInsertTextBefore()&&!mf(y)||(y=tr(),y.setFormat(s),y.setStyle(a),g.canInsertTextAfter()?m.insertAfter(y):g.insertAfter(y)),y.select(0,0),m=y,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&c===0&&(m.isSegmented()||m.isToken()||!m.canInsertTextBefore()||!g.canInsertTextBefore()&&m.getPreviousSibling()===null)){let y=m.getPreviousSibling();if(Ye(y)&&!mf(y)||(y=tr(),y.setFormat(s),g.canInsertTextBefore()?m.insertBefore(y):g.insertBefore(y)),y.select(),m=y,t!=="")return void this.insertText(t)}else if(m.isSegmented()&&c!==p){const y=tr(m.getTextContent());y.setFormat(s),m.replace(y),m=y}else if(!this.isCollapsed()&&t!==""){const y=v.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||Ce(y)&&(!y.canInsertTextBefore()||!y.canInsertTextAfter()))return this.insertText(""),aCe(this.anchor,this.focus,null),void this.insertText(t)}if(h===1){if(m.isToken()){const w=tr(t);return w.select(),void m.replace(w)}const y=m.getFormat(),x=m.getStyle();if(c!==u||y===s&&x===a){if(nkt(m)){const w=tr(t);return w.setFormat(s),w.setStyle(a),w.select(),void m.replace(w)}}else{if(m.getTextContent()!==""){const w=tr(t);if(w.setFormat(s),w.setStyle(a),w.select(),c===0)m.insertBefore(w,!1);else{const[_]=m.splitText(c);_.insertAfter(w,!1)}return void(w.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}m.setFormat(s),m.setStyle(a)}const b=u-c;m=m.spliceText(c,b,t,!0),m.getTextContent()===""?m.remove():this.anchor.type==="text"&&(m.isComposing()?this.anchor.offset-=t.length:(this.format=y,this.style=x))}else{const y=new Set([...m.getParentKeys(),...v.getParentKeys()]),x=Ce(m)?m:m.getParentOrThrow();let b=Ce(v)?v:v.getParentOrThrow(),w=v;if(!x.is(b)&&b.isInline())do w=b,b=b.getParentOrThrow();while(b.isInline());if(o.type==="text"&&(u!==0||v.getTextContent()==="")||o.type==="element"&&v.getIndexWithinParent()<u)if(Ye(v)&&!v.isToken()&&u!==v.getTextContentSize()){if(v.isSegmented()){const E=tr(v.getTextContent());v.replace(E),v=E}$r(o.getNode())||o.type!=="text"||(v=v.spliceText(0,u,"")),y.add(v.__key)}else{const E=v.getParentOrThrow();E.canBeEmpty()||E.getChildrenSize()!==1?v.remove():E.remove()}else y.add(v.__key);const _=b.getChildren(),C=new Set(d),S=x.is(b),k=x.isInline()&&m.getNextSibling()===null?x:m;for(let E=_.length-1;E>=0;E--){const M=_[E];if(M.is(m)||Ce(M)&&M.isParentOf(m))break;M.isAttached()&&(!C.has(M)||M.is(w)?S||k.insertAfter(M,!1):M.remove())}if(!S){let E=b,M=null;for(;E!==null;){const N=E.getChildren(),R=N.length;(R===0||N[R-1].is(M))&&(y.delete(E.__key),M=E),E=E.getParent()}}if(m.isToken())if(c===p)m.select();else{const E=tr(t);E.select(),m.replace(E)}else m=m.spliceText(c,p-c,t,!0),m.getTextContent()===""?m.remove():m.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let E=1;E<h;E++){const M=d[E],N=M.__key;y.has(N)||M.remove()}}}removeText(){const t=Qe()===this;F2(this,Bkt(jK(this))),t&&Qe()!==this&&qs(this)}formatText(t,n=null){if(this.isCollapsed())return this.toggleFormat(t),void Dr(null);const r=this.getNodes(),s=[];for(const _ of r)Ye(_)&&s.push(_);const a=_=>{r.forEach(C=>{if(Ce(C)){const S=C.getFormatFlags(t,_);C.setTextFormat(S)}})},i=s.length;if(i===0)return this.toggleFormat(t),Dr(null),void a(n);const o=this.anchor,c=this.focus,u=this.isBackward(),d=u?c:o,h=u?o:c;let m=0,p=s[0],g=d.type==="element"?0:d.offset;if(d.type==="text"&&g===p.getTextContentSize()&&(m=1,p=s[1],g=0),p==null)return;const v=p.getFormatFlags(t,n);a(v);const y=i-1;let x=s[y];const b=h.type==="text"?h.offset:x.getTextContentSize();if(p.is(x)){if(g===b)return;if(mf(p)||g===0&&b===p.getTextContentSize())p.setFormat(v);else{const _=p.splitText(g,b),C=g===0?_[0]:_[1];C.setFormat(v),d.type==="text"&&d.set(C.__key,0,"text"),h.type==="text"&&h.set(C.__key,b-g,"text")}return void(this.format=v)}g===0||mf(p)||([,p]=p.splitText(g),g=0),p.setFormat(v);const w=x.getFormatFlags(t,v);b>0&&(b===x.getTextContentSize()||mf(x)||([x]=x.splitText(b)),x.setFormat(w));for(let _=m+1;_<y;_++){const C=s[_],S=C.getFormatFlags(t,w);C.setFormat(S)}d.type==="text"&&d.set(p.__key,g,"text"),h.type==="text"&&h.set(x.__key,b,"text"),this.format=v|w}insertNodes(t){if(t.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const g=Qe();return Re(g)||Ae(134),g.insertNodes(t)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),r=pE(n,Yl),s=t[t.length-1];if(Ce(r)&&"__language"in r){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const g=dE(this);r.splice(g,0,t),s.selectEnd()}return}if(!t.some(g=>(Ce(g)||rn(g))&&!g.isInline())){Ce(r)||Ae(211,n.constructor.name,n.getType());const g=dE(this);return r.splice(g,0,t),void s.selectEnd()}const a=function(g){const v=la();let y=null;for(let x=0;x<g.length;x++){const b=g[x],w=eh(b);if(w||rn(b)&&b.isInline()||Ce(b)&&b.isInline()||Ye(b)||b.isParentRequired()){if(y===null&&(y=b.createParentElementNode(),v.append(y),w))continue;y!==null&&y.append(b)}else v.append(b),y=null}return v}(t),i=a.getLastDescendant(),o=a.getChildren(),c=!Ce(r)||!r.isEmpty()?this.insertParagraph():null,u=o[o.length-1];let d=o[0];var h;Ce(h=d)&&Yl(h)&&!h.isEmpty()&&Ce(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(Ce(r)||Ae(211,n.constructor.name,n.getType()),r.append(...d.getChildren()),d=o[1]),d&&(r===null&&Ae(212,n.constructor.name,n.getType()),function(g,v,y){const x=v.getParentOrThrow().getLastChild();let b=v;const w=[v];for(;b!==x;)b.getNextSibling()||Ae(140),b=b.getNextSibling(),w.push(b);let _=g;for(const C of w)_=_.insertAfter(C)}(r,d));const m=pE(i,Yl);c&&Ce(m)&&(c.canMergeWhenEmpty()||Yl(u))&&(m.append(...c.getChildren()),c.remove()),Ce(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const p=Ce(r)?r.getLastChild():null;eh(p)&&m!==r&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const i=la();return ln().splice(this.anchor.offset,0,[i]),i.select(),i}const t=dE(this),n=pE(this.anchor.getNode(),Yl);Ce(n)||Ae(213);const r=n.getChildAtIndex(t),s=r?[r,...r.getNextSiblings()]:[],a=n.insertNewAfter(this,!1);return a?(a.append(...s),a.selectStart(),a):null}insertLineBreak(t){const n=kc();if(this.insertNodes([n]),t){const r=n.getParentOrThrow(),s=n.getIndexWithinParent();r.select(s,s)}}extract(){const t=this.getNodes(),n=t.length,r=n-1,s=this.anchor,a=this.focus;let i=t[0],o=t[r];const[c,u]=OT(this);if(n===0)return[];if(n===1){if(Ye(i)&&!this.isCollapsed()){const h=c>u?u:c,m=c>u?c:u,p=i.splitText(h,m),g=h===0?p[0]:p[1];return g!=null?[g]:[]}return[i]}const d=s.isBefore(a);if(Ye(i)){const h=d?c:u;h===i.getTextContentSize()?t.shift():h!==0&&([,i]=i.splitText(h),t[0]=i)}if(Ye(o)){const h=o.getTextContent().length,m=d?u:c;m===0?t.pop():m!==h&&([o]=o.splitText(m),t[r]=o)}return t}modify(t,n,r){if(hK(this,t,n,r))return;const s=t==="move",a=Bn(),i=Co(Pa(a));if(!i)return;const o=a._blockCursorElement,c=a._rootElement,u=this.focus.getNode();if(c===null||o===null||!Ce(u)||u.isInline()||u.canBeEmpty()||$T(o,a,c),this.dirty){let d=Bh(a,this.anchor.key),h=Bh(a,this.focus.key);this.anchor.type==="text"&&(d=Fh(d)),this.focus.type==="text"&&(h=Fh(h)),d&&h&&cCe(i,d,this.anchor.offset,h,this.focus.offset)}if(function(d,h,m,p){d.modify(h,m,p)}(i,t,n?"backward":"forward",r),i.rangeCount>0){const d=i.getRangeAt(0),h=this.anchor.getNode(),m=$r(h)?h:Skt(h);if(this.applyDOMRange(d),this.dirty=!0,!s){const p=this.getNodes(),g=[];let v=!1;for(let y=0;y<p.length;y++){const x=p[y];BT(x,m)?g.push(x):v=!0}if(v&&g.length>0)if(n){const y=g[0];Ce(y)?y.selectStart():y.getParentOrThrow().selectStart()}else{const y=g[g.length-1];Ce(y)?y.selectEnd():y.getParentOrThrow().selectEnd()}i.anchorNode===d.startContainer&&i.anchorOffset===d.startOffset||function(y){const x=y.focus,b=y.anchor,w=b.key,_=b.offset,C=b.type;b.set(x.key,x.offset,x.type,!0),x.set(w,_,C,!0)}(this)}}r==="lineboundary"&&hK(this,t,n,r,"decorators")}forwardDeletion(t,n,r){if(!r&&(t.type==="element"&&Ce(n)&&t.offset===n.getChildrenSize()||t.type==="text"&&t.offset===n.getTextContentSize())){const s=n.getParent(),a=n.getNextSibling()||(s===null?null:s.getNextSibling());if(Ce(a)&&a.isShadowRoot())return!0}return!1}deleteCharacter(t){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let s=r.getNode();if(this.forwardDeletion(r,s,t))return;const a=JI(Tc(r,t?"previous":"next"));if(a.getTextSlices().every(o=>o===null||o.distance===0)){let o={type:"initial"};for(const c of a.iterNodeCarets("shadowRoot"))if(ho(c)){if(!c.origin.isInline()){if(c.origin.isShadowRoot()){if(o.type==="merge-block")break;if(Ce(a.anchor.origin)&&a.anchor.origin.isEmpty()){const u=Zi(c);F2(this,od(u,u)),a.anchor.origin.remove()}return}o.type!=="merge-next-block"&&o.type!=="merge-block"||(o={block:o.block,caret:c,type:"merge-block"})}}else{if(o.type==="merge-block")break;if($h(c)){if(Ce(c.origin)){if(c.origin.isInline()){if(!c.origin.isParentOf(a.anchor.origin))break}else o={block:c.origin,type:"merge-next-block"};continue}if(rn(c.origin)){if(!c.origin.isIsolated())if(o.type==="merge-next-block"&&(c.origin.isKeyboardSelectable()||!c.origin.isInline())&&Ce(a.anchor.origin)&&a.anchor.origin.isEmpty()){a.anchor.origin.remove();const u=lCe();u.add(c.origin.getKey()),qs(u)}else c.origin.remove();return}break}}if(o.type==="merge-block"){const{caret:c,block:u}=o;return F2(this,od(!c.origin.isEmpty()&&u.isEmpty()?eO(cs(u,c.direction)):a.anchor,c)),this.removeText()}}const i=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&r.offset===0&&oK(this,r.getNode()))return}else{const o=i.type==="text"?i.getNode():null;if(s=r.type==="text"?r.getNode():null,o!==null&&o.isSegmented()){const c=i.offset,u=o.getTextContentSize();if(o.is(s)||t&&c!==u||!t&&c!==0)return void lK(o,t,c)}else if(s!==null&&s.isSegmented()){const c=r.offset,u=s.getTextContentSize();if(s.is(o)||t&&c!==0||!t&&c!==u)return void lK(s,t,c)}(function(c,u){const d=c.anchor,h=c.focus,m=d.getNode(),p=h.getNode();if(m===p&&d.type==="text"&&h.type==="text"){const g=d.offset,v=h.offset,y=g<v,x=y?g:v,b=y?v:g,w=b-1;x!==w&&function(_){return!(CCe(_)||skt(_))}(m.getTextContent().slice(x,b))&&(u?h.set(h.key,w,h.type):d.set(d.key,w,d.type))}})(this,t)}}if(this.removeText(),t&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&$r(r.getParent())&&r.getPreviousSibling()===null&&oK(this,r)}}deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText()}deleteWord(t){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function uc(e){return e instanceof z_}function iK(e){const t=e.offset;if(e.type==="text")return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function OT(e){const t=e.getStartEndPoints();if(t===null)return[0,0];const[n,r]=t;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[iK(n),iK(r)]}function oK(e,t){for(let n=t;n;n=n.getParent()){if(Ce(n)){if(n.collapseAtStart(e))return!0;if(Nl(n))break}if(n.getPreviousSibling())break}return!1}const skt=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("👍"))return t}catch{}return()=>!1})();function lK(e,t,n){const r=e,s=r.getTextContent().split(/(?=\s)/g),a=s.length;let i=0,o=0;for(let u=0;u<a;u++){const d=u===a-1;if(o=i,i+=s[u].length,t&&i===n||i>n||d){s.splice(u,1),d&&(o=void 0);break}}const c=s.join("").trim();c===""?r.remove():(r.setTextContent(c),r.select(o,o))}function cK(e,t,n,r){let s,a=t;if(Ns(e)){let i=!1;const o=e.childNodes,c=o.length,u=r._blockCursorElement;a===c&&(i=!0,a=c-1);let d=o[a],h=!1;if(d===u)d=o[a+1],h=!0;else if(u!==null){const m=u.parentNode;e===m&&t>Array.prototype.indexOf.call(m.children,u)&&a--}if(s=Rf(d),Ye(s))a=CK(s,i);else{let m=Rf(e);if(m===null)return null;if(Ce(m)){const p=r.getElementByKey(m.getKey());p===null&&Ae(214),[m,a]=m.getDOMSlot(p).resolveChildIndex(m,p,e,t),Ce(m)||Ae(215),i&&a>=m.getChildrenSize()&&(a=Math.max(0,m.getChildrenSize()-1));let v=m.getChildAtIndex(a);if(Ce(v)&&function(y,x,b){const w=y.getParent();return b===null||w===null||!w.canBeEmpty()||w!==b.getNode()}(v,0,n)){const y=i?v.getLastDescendant():v.getFirstDescendant();y===null?m=v:(v=y,m=Ce(v)?v:v.getParentOrThrow()),a=0}Ye(v)?(s=v,m=null,a=CK(v,i)):v!==m&&i&&!h&&(Ce(m)||Ae(216),a=Math.min(m.getChildrenSize(),a+1))}else{const p=m.getIndexWithinParent();a=t===0&&rn(m)&&Rf(e)===m?p:p+1,m=m.getParentOrThrow()}if(Ce(m))return _o(m.__key,a,"element")}}else s=Rf(e);return Ye(s)?_o(s.__key,a,"text"):null}function uK(e,t,n){const r=e.offset,s=e.getNode();if(r===0){const a=s.getPreviousSibling(),i=s.getParent();if(t){if((n||!t)&&a===null&&Ce(i)&&i.isInline()){const o=i.getPreviousSibling();Ye(o)&&e.set(o.__key,o.getTextContent().length,"text")}}else Ce(a)&&!n&&a.isInline()?e.set(a.__key,a.getChildrenSize(),"element"):Ye(a)&&e.set(a.__key,a.getTextContent().length,"text")}else if(r===s.getTextContent().length){const a=s.getNextSibling(),i=s.getParent();if(t&&Ce(a)&&a.isInline())e.set(a.__key,0,"element");else if((n||t)&&a===null&&Ce(i)&&i.isInline()&&!i.canInsertTextAfter()){const o=i.getNextSibling();Ye(o)&&e.set(o.__key,0,"text")}}}function aCe(e,t,n){if(e.type==="text"&&t.type==="text"){const r=e.isBefore(t),s=e.is(t);uK(e,r,s),uK(t,!r,s),s&&t.set(e.key,e.offset,e.type);const a=Bn();if(a.isComposing()&&a._compositionKey!==e.key&&Re(n)){const i=n.anchor,o=n.focus;e.set(i.key,i.offset,i.type,!0),t.set(o.key,o.offset,o.type,!0)}}}function iCe(e,t,n,r,s,a){if(e===null||n===null||!q_(s,e,n))return null;const i=cK(e,t,Re(a)?a.anchor:null,s);if(i===null)return null;const o=cK(n,r,Re(a)?a.focus:null,s);if(o===null)return null;if(i.type==="element"&&o.type==="element"){const c=Rf(e),u=Rf(n);if(rn(c)&&rn(u))return null}return aCe(i,o,a),[i,o]}function LT(e){return Ce(e)&&!e.isInline()}function oCe(e,t,n,r,s,a){const i=Wc(),o=new jd(_o(e,t,s),_o(n,r,a),0,"");return o.dirty=!0,i._selection=o,o}function akt(){const e=_o("root",0,"element"),t=_o("root",0,"element");return new jd(e,t,0,"")}function lCe(){return new z_(new Set)}function LI(e,t,n,r){const s=n._window;if(s===null)return null;const a=r||s.event,i=a?a.type:void 0,o=i==="selectionchange",c=!wT&&(o||i==="beforeinput"||i==="compositionstart"||i==="compositionend"||i==="click"&&a&&a.detail===3||i==="drop"||i===void 0);let u,d,h,m;if(Re(e)&&!c)return e.clone();if(t===null)return null;if(u=t.anchorNode,d=t.focusNode,h=t.anchorOffset,m=t.focusOffset,o&&Re(e)&&!q_(n,u,d))return e.clone();const p=iCe(u,h,d,m,n,e);if(p===null)return null;const[g,v]=p;return new jd(g,v,Re(e)?e.format:0,Re(e)?e.style:"")}function Qe(){return Wc()._selection}function iv(){return Bn()._editorState._selection}function Hb(e,t,n,r=1){const s=e.anchor,a=e.focus,i=s.getNode(),o=a.getNode();if(!t.is(i)&&!t.is(o))return;const c=t.__key;if(e.isCollapsed()){const u=s.offset;if(n<=u&&r>0||n<u&&r<0){const d=Math.max(0,u+r);s.set(c,d,"element"),a.set(c,d,"element"),dK(e)}}else{const u=e.isBackward(),d=u?a:s,h=d.getNode(),m=u?s:a,p=m.getNode();if(t.is(h)){const g=d.offset;(n<=g&&r>0||n<g&&r<0)&&d.set(c,Math.max(0,g+r),"element")}if(t.is(p)){const g=m.offset;(n<=g&&r>0||n<g&&r<0)&&m.set(c,Math.max(0,g+r),"element")}}dK(e)}function dK(e){const t=e.anchor,n=t.offset,r=e.focus,s=r.offset,a=t.getNode(),i=r.getNode();if(e.isCollapsed()){if(!Ce(a))return;const o=a.getChildrenSize(),c=n>=o,u=c?a.getChildAtIndex(o-1):a.getChildAtIndex(n);if(Ye(u)){let d=0;c&&(d=u.getTextContentSize()),t.set(u.__key,d,"text"),r.set(u.__key,d,"text")}}else{if(Ce(a)){const o=a.getChildrenSize(),c=n>=o,u=c?a.getChildAtIndex(o-1):a.getChildAtIndex(n);if(Ye(u)){let d=0;c&&(d=u.getTextContentSize()),t.set(u.__key,d,"text")}}if(Ce(i)){const o=i.getChildrenSize(),c=s>=o,u=c?i.getChildAtIndex(o-1):i.getChildAtIndex(s);if(Ye(u)){let d=0;c&&(d=u.getTextContentSize()),r.set(u.__key,d,"text")}}}}function Wb(e,t,n,r,s){let a=null,i=0,o=null;r!==null?(a=r.__key,Ye(r)?(i=r.getTextContentSize(),o="text"):Ce(r)&&(i=r.getChildrenSize(),o="element")):s!==null&&(a=s.__key,Ye(s)?o="text":Ce(s)&&(o="element")),a!==null&&o!==null?e.set(a,i,o):(i=t.getIndexWithinParent(),i===-1&&(i=n.getChildrenSize()),e.set(n.__key,i,"element"))}function fK(e,t,n,r,s){e.type==="text"?e.set(n,e.offset+(t?0:s),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function cCe(e,t,n,r,s){try{e.setBaseAndExtent(t,n,r,s)}catch{}}function ikt(e,t,n,r,s,a,i){const o=r.anchorNode,c=r.focusNode,u=r.anchorOffset,d=r.focusOffset,h=document.activeElement;if(s.has(dkt)&&h!==a||h!==null&&xCe(h))return;if(!Re(t))return void(e!==null&&q_(n,o,c)&&r.removeAllRanges());const m=t.anchor,p=t.focus,g=m.key,v=p.key,y=Bh(n,g),x=Bh(n,v),b=m.offset,w=p.offset,_=t.format,C=t.style,S=t.isCollapsed();let k=y,E=x,M=!1;if(m.type==="text"){k=Fh(y);const I=m.getNode();M=I.getFormat()!==_||I.getStyle()!==C}else Re(e)&&e.anchor.type==="text"&&(M=!0);var N,R,A,P,O;if(p.type==="text"&&(E=Fh(x)),k!==null&&E!==null&&(S&&(e===null||M||Re(e)&&(e.format!==_||e.style!==C))&&(N=_,R=C,A=b,P=g,O=performance.now(),X5e=[N,R,A,P,O]),u!==b||d!==w||o!==k||c!==E||r.type==="Range"&&S||(h!==null&&a.contains(h)||a.focus({preventScroll:!0}),m.type==="element"))){if(cCe(r,k,b,E,w),!s.has(fkt)&&t.isCollapsed()&&a!==null&&a===document.activeElement){const I=Re(t)&&t.anchor.type==="element"?k.childNodes[b]||null:r.rangeCount>0?r.getRangeAt(0):null;if(I!==null){let L;if(I instanceof Text){const F=document.createRange();F.selectNode(I),L=F.getBoundingClientRect()}else L=I.getBoundingClientRect();(function(F,D,B){const $=MCe(B),W=qI($);if($===null||W===null)return;let{top:X,bottom:ee}=D,ne=0,V=0,q=B;for(;q!==null;){const z=q===$.body;if(z)ne=0,V=Pa(F).innerHeight;else{const Y=q.getBoundingClientRect();ne=Y.top,V=Y.bottom}let te=0;if(X<ne?te=-(ne-X):ee>V&&(te=ee-V),te!==0)if(z)W.scrollBy(0,te);else{const Y=q.scrollTop;q.scrollTop+=te;const Z=q.scrollTop-Y;X-=Z,ee-=Z}if(z)break;q=cv(q)}})(n,L,a)}}jT=!0}}function dE(e){let t=e;e.isCollapsed()||t.removeText();const n=Qe();Re(n)&&(t=n),Re(t)||Ae(161);const r=t.anchor;let s=r.getNode(),a=r.offset;for(;!Yl(s);){const i=s;if([s,a]=okt(s,a),i.is(s))break}return a}function okt(e,t){const n=e.getParent();if(!n){const s=la();return ln().append(s),s.select(),[ln(),0]}if(Ye(e)){const s=e.splitText(t);if(s.length===0)return[n,e.getIndexWithinParent()];const a=t===0?0:1;return[n,s[0].getIndexWithinParent()+a]}if(!Ce(e)||t===0)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const s=new jd(_o(e.__key,t,"element"),_o(e.__key,t,"element"),0,""),a=e.insertNewAfter(s);a&&a.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function hK(e,t,n,r,s="decorators-and-blocks"){if(t==="move"&&r==="character"&&!e.isCollapsed()){const[d,h]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return h.set(d.key,d.offset,d.type),!0}const a=Tc(e.focus,n?"previous":"next"),i=r==="lineboundary",o=t==="move";let c=a,u=s==="decorators-and-blocks";if(!jCe(c)){for(const d of c){u=!1;const{origin:h}=d;if(!rn(h)||h.isIsolated()||(c=d,!i||!h.isInline()))break}if(u)for(const d of JI(a).iterNodeCarets(t==="extend"?"shadowRoot":"root")){if(ho(d))d.origin.isInline()||(c=d);else{if(Ce(d.origin))continue;rn(d.origin)&&!d.origin.isInline()&&(c=d)}break}}if(c===a)return!1;if(o&&!i&&rn(c.origin)&&c.origin.isKeyboardSelectable()){const d=lCe();return d.add(c.origin.getKey()),qs(d),!0}return c=Zi(c),o&&U0(e.anchor,c),U0(e.focus,c),u||!i}let _r=null,Cr=null,zs=!1,fE=!1,L2=0;const mK={characterData:!0,childList:!0,subtree:!0};function ov(){return zs||_r!==null&&_r._readOnly}function rs(){zs&&Ae(13)}function uCe(){L2>99&&Ae(14)}function Wc(){return _r===null&&Ae(195,dCe()),_r}function Bn(){return Cr===null&&Ae(196,dCe()),Cr}function dCe(){let e=0;const t=new Set,n=G_.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const a=K_(s);if($I(a))e++;else if(a){let i=String(a.constructor.version||"<0.17.1");i===n&&(i+=" (separately built, likely a bundler configuration issue)"),t.add(i)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function lkt(){return Cr}function pK(e,t,n){const r=t.__type,s=function(o,c){const u=o._nodes.get(c);return u===void 0&&Ae(30,c),u}(e,r);let a=n.get(r);a===void 0&&(a=Array.from(s.transforms),n.set(r,a));const i=a.length;for(let o=0;o<i&&(a[o](t),t.isAttached());o++);}function gK(e,t){return e!==void 0&&e.__key!==t&&e.isAttached()}function fCe(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const s of r)n.add(s)}function ckt(e){return DI(e,Bn()._nodes)}function DI(e,t){const n=e.type,r=t.get(n);r===void 0&&Ae(17,n);const s=r.klass;e.type!==s.getType()&&Ae(18,s.name);const a=s.importJSON(e),i=e.children;if(Ce(a)&&Array.isArray(i))for(let o=0;o<i.length;o++){const c=DI(i[o],t);a.append(c)}return a}function vK(e,t,n){const r=_r,s=zs,a=Cr;_r=t,zs=!0,Cr=e;try{return n()}finally{_r=r,zs=s,Cr=a}}function zo(e,t){const n=e._pendingEditorState,r=e._rootElement,s=e._headless||r===null;if(n===null)return;const a=e._editorState,i=a._selection,o=n._selection,c=e._dirtyType!==td,u=_r,d=zs,h=Cr,m=e._updating,p=e._observer;let g=null;if(e._pendingEditorState=null,e._editorState=n,!s&&c&&p!==null){Cr=e,_r=n,zs=!1,e._updating=!0;try{const S=e._dirtyType,k=e._dirtyElements,E=e._dirtyLeaves;p.disconnect(),g=OEt(a,n,e,S,k,E)}catch(S){if(S instanceof Error&&e._onError(S),fE)throw S;return yCe(e,null,r,n),j5e(e),e._dirtyType=Ih,fE=!0,zo(e,a),void(fE=!1)}finally{p.observe(r,mK),e._updating=m,_r=u,zs=d,Cr=h}}n._readOnly||(n._readOnly=!0);const v=e._dirtyLeaves,y=e._dirtyElements,x=e._normalizedNodes,b=e._updateTags,w=e._deferred;c&&(e._dirtyType=td,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(S,k){const E=S._decorators;let M=S._pendingDecorators||E;const N=k._nodeMap;let R;for(R in M)N.has(R)||(M===E&&(M=wCe(S)),delete M[R])}(e,n);const _=s?null:Co(Pa(e));if(e._editable&&_!==null&&(c||o===null||o.dirty)&&r!==null&&!b.has(hkt)){Cr=e,_r=n;try{if(p!==null&&p.disconnect(),c||o===null||o.dirty){const S=e._blockCursorElement;S!==null&&$T(S,e,r),ikt(i,o,e,_,b,r)}(function(S,k,E){let M=S._blockCursorElement;if(Re(E)&&E.isCollapsed()&&E.anchor.type==="element"&&k.contains(document.activeElement)){const N=E.anchor,R=N.getNode(),A=N.offset;let P=!1,O=null;if(A===R.getChildrenSize())mE(R.getChildAtIndex(A-1))&&(P=!0);else{const I=R.getChildAtIndex(A);if(I!==null&&mE(I)){const L=I.getPreviousSibling();(L===null||mE(L))&&(P=!0,O=S.getElementByKey(I.__key))}}if(P){const I=S.getElementByKey(R.__key);return M===null&&(S._blockCursorElement=M=function(L){const F=L.theme,D=document.createElement("div");D.contentEditable="false",D.setAttribute("data-lexical-cursor","true");let B=F.blockCursor;if(B!==void 0){if(typeof B=="string"){const $=Ib(B);B=F.blockCursor=$}B!==void 0&&D.classList.add(...B)}return D}(S._config)),k.style.caretColor="transparent",void(O===null?I.appendChild(M):I.insertBefore(M,O))}}M!==null&&$T(M,S,k)})(e,r,o)}finally{p!==null&&p.observe(r,mK),Cr=h,_r=u}}g!==null&&function(S,k,E,M,N){const R=Array.from(S._listeners.mutation),A=R.length;for(let P=0;P<A;P++){const[O,I]=R[P],L=k.get(I);L!==void 0&&O(L,{dirtyLeaves:M,prevEditorState:N,updateTags:E})}}(e,g,b,v,a),Re(o)||o===null||i!==null&&i.is(o)||e.dispatchCommand(U5e,void 0);const C=e._pendingDecorators;C!==null&&(e._decorators=C,e._pendingDecorators=null,yg("decorator",e,!0,C)),function(S,k,E){const M=_K(k),N=_K(E);M!==N&&yg("textcontent",S,!0,N)}(e,t||a,n),yg("update",e,!0,{dirtyElements:y,dirtyLeaves:v,editorState:n,mutatedNodes:g,normalizedNodes:x,prevEditorState:t||a,tags:b}),function(S,k){if(S._deferred=[],k.length!==0){const E=S._updating;S._updating=!0;try{for(let M=0;M<k.length;M++)k[M]()}finally{S._updating=E}}}(e,w),function(S){const k=S._updates;if(k.length!==0){const E=k.shift();if(E){const[M,N]=E;FI(S,M,N)}}}(e)}function yg(e,t,n,...r){const s=t._updating;t._updating=n;try{const a=Array.from(t._listeners[e]);for(let i=0;i<a.length;i++)a[i].apply(null,r)}finally{t._updating=s}}function yK(e,t){const n=e._updates;let r=t||!1;for(;n.length!==0;){const s=n.shift();if(s){const[a,i]=s;let o;if(i!==void 0){if(o=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const c=e._pendingEditorState;c===null&&Ae(191),c._flushSync=!0}o&&e._deferred.push(o),fCe(e,i.tag)}a()}}return r}function FI(e,t,n){const r=e._updateTags;let s,a=!1,i=!1;n!==void 0&&(s=n.onUpdate,fCe(e,n.tag),a=n.skipTransforms||!1,i=n.discrete||!1),s&&e._deferred.push(s);const o=e._editorState;let c=e._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=e._pendingEditorState=mCe(c||o),u=!0),c._flushSync=i;const d=_r,h=zs,m=Cr,p=e._updating;_r=c,zs=!1,e._updating=!0,Cr=e;const g=e._headless||e.getRootElement()===null;try{u&&(g?o._selection!==null&&(c._selection=o._selection.clone()):c._selection=function(b,w){const _=b.getEditorState()._selection,C=Co(Pa(b));return Re(_)||_==null?LI(_,C,b,w):_.clone()}(e,n&&n.event||null));const y=e._compositionKey;t(),a=yK(e,a),function(b,w){const _=w.getEditorState()._selection,C=b._selection;if(Re(C)){const S=C.anchor,k=C.focus;let E;if(S.type==="text"&&(E=S.getNode(),E.selectionTransform(_,C)),k.type==="text"){const M=k.getNode();E!==M&&M.selectionTransform(_,C)}}}(c,e),e._dirtyType!==td&&(a?function(b,w){const _=w._dirtyLeaves,C=b._nodeMap;for(const S of _){const k=C.get(S);Ye(k)&&k.isAttached()&&k.isSimpleText()&&!k.isUnmergeable()&&Yq(k)}}(c,e):function(b,w){const _=w._dirtyLeaves,C=w._dirtyElements,S=b._nodeMap,k=rc(),E=new Map;let M=_,N=M.size,R=C,A=R.size;for(;N>0||A>0;){if(N>0){w._dirtyLeaves=new Set;for(const P of M){const O=S.get(P);Ye(O)&&O.isAttached()&&O.isSimpleText()&&!O.isUnmergeable()&&Yq(O),O!==void 0&&gK(O,k)&&pK(w,O,E),_.add(P)}if(M=w._dirtyLeaves,N=M.size,N>0){L2++;continue}}w._dirtyLeaves=new Set,w._dirtyElements=new Map,R.delete("root")&&R.set("root",!0);for(const P of R){const O=P[0],I=P[1];if(C.set(O,I),!I)continue;const L=S.get(O);L!==void 0&&gK(L,k)&&pK(w,L,E)}M=w._dirtyLeaves,N=M.size,R=w._dirtyElements,A=R.size,L2++}w._dirtyLeaves=_,w._dirtyElements=C}(c,e),yK(e),function(b,w,_,C){const S=b._nodeMap,k=w._nodeMap,E=[];for(const[M]of C){const N=k.get(M);N!==void 0&&(N.isAttached()||(Ce(N)&&N5e(N,M,S,k,E,C),S.has(M)||C.delete(M),E.push(M)))}for(const M of E)k.delete(M);for(const M of _){const N=k.get(M);N===void 0||N.isAttached()||(S.has(M)||_.delete(M),k.delete(M))}}(o,c,e._dirtyLeaves,e._dirtyElements)),y!==e._compositionKey&&(c._flushSync=!0);const x=c._selection;if(Re(x)){const b=c._nodeMap,w=x.anchor.key,_=x.focus.key;b.get(w)!==void 0&&b.get(_)!==void 0||Ae(19)}else uc(x)&&x._nodes.size===0&&(c._selection=null)}catch(y){return y instanceof Error&&e._onError(y),e._pendingEditorState=o,e._dirtyType=Ih,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void zo(e)}finally{_r=d,zs=h,Cr=m,e._updating=p,L2=0}e._dirtyType!==td||e._deferred.length>0||function(y,x){const b=x.getEditorState()._selection,w=y._selection;if(w!==null){if(w.dirty||!w.is(b))return!0}else if(b!==null)return!0;return!1}(c,e)?c._flushSync?(c._flushSync=!1,zo(e)):u&&vkt(()=>{zo(e)}):(c._flushSync=!1,u&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Js(e,t,n){Cr===e&&n===void 0?t():FI(e,t,n)}class xg{constructor(t,n,r){this.element=t,this.before=n||null,this.after=r||null}withBefore(t){return new xg(this.element,t,this.after)}withAfter(t){return new xg(this.element,this.before,t)}withElement(t){return this.element===t?this:new xg(t,this.before,this.after)}insertChild(t){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&Ae(222),this.element.insertBefore(t,n),this}removeChild(t){return t.parentElement!==this.element&&Ae(223),this.element.removeChild(t),this}replaceChild(t,n){return n.parentElement!==this.element&&Ae(224),this.element.replaceChild(t,n),this}getFirstChild(){const t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(t===null)this.removeManagedLineBreak();else{const n=t==="decorator"&&(Ph||P0);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const t=this.getManagedLineBreak();if(t){const n=this.element,r=t.nodeName==="IMG"?t.nextSibling:null;r&&n.removeChild(r),n.removeChild(t),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){const n=this.getManagedLineBreak();if(n){if(t===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,s=this.before,a=document.createElement("br");if(r.insertBefore(a,s),t){const i=document.createElement("img");i.setAttribute("data-lexical-linebreak","true"),i.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",i.alt="",r.insertBefore(i,a),r.__lexicalLineBreak=i}else r.__lexicalLineBreak=a}getFirstChildOffset(){let t=0;for(let n=this.after;n!==null;n=n.previousSibling)t++;return t}resolveChildIndex(t,n,r,s){if(r===this.element){const c=this.getFirstChildOffset();return[t,Math.min(c+t.getChildrenSize(),Math.max(c,s))]}const a=xK(n,r);a.push(s);const i=xK(n,this.element);let o=t.getIndexWithinParent();for(let c=0;c<i.length;c++){const u=a[c],d=i[c];if(u===void 0||u<d)break;if(u>d){o+=1;break}}return[t.getParentOrThrow(),o]}}function xK(e,t){const n=[];let r=t;for(;r!==e&&r!==null;r=t.parentNode){let s=0;for(let a=r.previousSibling;a!==null;a=a.previousSibling)s++;n.push(s)}return r!==e&&Ae(225),n.reverse()}class lv extends H_{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__first=t.__first,this.__last=t.__last,this.__size=t.__size,this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return CEt[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let n=this.getFirstChild();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getChildrenKeys(){const t=[];let n=this.getFirstChild();for(;n!==null;)t.push(n.__key),n=n.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Bn()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(t)}getAllTextNodes(){const t=[];let n=this.getFirstChild();for(;n!==null;){if(Ye(n)&&t.push(n),Ce(n)){const r=n.getAllTextNodes();t.push(...r)}n=n.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;Ce(t);){const n=t.getFirstChild();if(n===null)break;t=n}return t}getLastDescendant(){let t=this.getLastChild();for(;Ce(t);){const n=t.getLastChild();if(n===null)break;t=n}return t}getDescendantByIndex(t){const n=this.getChildren(),r=n.length;if(t>=r){const a=n[r-1];return Ce(a)&&a.getLastDescendant()||a||null}const s=n[t];return Ce(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:Sr(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Ae(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:Sr(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Ae(96,this.__key),t}getChildAtIndex(t){const n=this.getChildrenSize();let r,s;if(t<n/2){for(r=this.getFirstChild(),s=0;r!==null&&s<=t;){if(s===t)return r;r=r.getNextSibling(),s++}return null}for(r=this.getLastChild(),s=n-1;r!==null&&s>=t;){if(s===t)return r;r=r.getPreviousSibling(),s--}return null}getTextContent(){let t="";const n=this.getChildren(),r=n.length;for(let s=0;s<r;s++){const a=n[s];t+=a.getTextContent(),Ce(a)&&s!==r-1&&!a.isInline()&&(t+=dl)}return t}getTextContentSize(){let t=0;const n=this.getChildren(),r=n.length;for(let s=0;s<r;s++){const a=n[s];t+=a.getTextContentSize(),Ce(a)&&s!==r-1&&!a.isInline()&&(t+=dl.length)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(t!==""){const n=Gq[t];return!!(this.getFormat()&n)}return!1}hasTextFormat(t){const n=nd[t];return!!(this.getTextFormat()&n)}getFormatFlags(t,n){return zb(this.getLatest().__textFormat,t,n)}getTextStyle(){return this.getLatest().__textStyle}select(t,n){rs();const r=Qe();let s=t,a=n;const i=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&n===0){const c=this.getFirstChild();if(Ye(c)||Ce(c))return c.select(0,0)}else if(!(t!==void 0&&t!==i||n!==void 0&&n!==i)){const c=this.getLastChild();if(Ye(c)||Ce(c))return c.select()}}s===void 0&&(s=i),a===void 0&&(a=i);const o=this.__key;return Re(r)?(r.anchor.set(o,s,"element"),r.focus.set(o,a,"element"),r.dirty=!0,r):oCe(o,s,o,a,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(n=>n.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const n=this.getWritable();return n.__dir=t,n}setFormat(t){return this.getWritable().__format=t!==""?Gq[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const n=this.getWritable();return n.__textFormat=t,n}setTextStyle(t){const n=this.getWritable();return n.__textStyle=t,n}setIndent(t){return this.getWritable().__indent=t,this}splice(t,n,r){const s=r.length,a=this.getChildrenSize(),i=this.getWritable();t+n<=a||Ae(226,String(t),String(n),String(a));const o=i.__key,c=[],u=[],d=this.getChildAtIndex(t+n);let h=null,m=a-n+s;if(t!==0)if(t===a)h=this.getLastChild();else{const g=this.getChildAtIndex(t);g!==null&&(h=g.getPreviousSibling())}if(n>0){let g=h===null?this.getFirstChild():h.getNextSibling();for(let v=0;v<n;v++){g===null&&Ae(100);const y=g.getNextSibling(),x=g.__key;Nu(g.getWritable()),u.push(x),g=y}}let p=h;for(let g=0;g<s;g++){const v=r[g];p!==null&&v.is(p)&&(h=p=p.getPreviousSibling());const y=v.getWritable();y.__parent===o&&m--,Nu(y);const x=v.__key;if(p===null)i.__first=x,y.__prev=null;else{const b=p.getWritable();b.__next=x,y.__prev=b.__key}v.__key===o&&Ae(76),y.__parent=o,c.push(x),p=v}if(t+n===a)p!==null&&(p.getWritable().__next=null,i.__last=p.__key);else if(d!==null){const g=d.getWritable();if(p!==null){const v=p.getWritable();g.__prev=p.__key,v.__next=d.__key}else g.__prev=null}if(i.__size=m,u.length){const g=Qe();if(Re(g)){const v=new Set(u),y=new Set(c),{anchor:x,focus:b}=g;bK(x,v,y)&&Wb(x,x.getNode(),this,h,d),bK(b,v,y)&&Wb(b,b.getNode(),this,h,d),m!==0||this.canBeEmpty()||Nl(this)||this.remove()}}return i}getDOMSlot(t){return new xg(t)}exportDOM(t){const{element:n}=super.exportDOM(t);if(Ns(n)){const r=this.getIndent();r>0&&(n.style.paddingInlineStart=40*r+"px");const s=this.getDirection();s&&(n.dir=s)}return{element:n}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),r=this.getTextStyle();return n!==0&&(t.textFormat=n),r!==""&&(t.textStyle=r),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,n){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,n,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,n){const r=this.getDOMSlot(t);let s=r.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){const i=n.getElementByKey(a.getKey());i!==null&&(s==null?(r.insertChild(i),s=i):s!==i&&r.replaceChild(i,s),s=s.nextSibling)}}}function Ce(e){return e instanceof lv}function bK(e,t,n){let r=e.getNode();for(;r;){const s=r.__key;if(t.has(s)&&!n.has(s))return!0;r=r.getParent()}return!1}class hCe extends H_{decorate(t,n){Ae(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function rn(e){return e instanceof hCe}class Em extends lv{static getType(){return"root"}static clone(){return new Em}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Ae(51)}getTextContent(){const t=this.__cachedText;return!ov()&&Bn()._dirtyType!==td||t===null?super.getTextContent():t}remove(){Ae(52)}replace(t){Ae(53)}insertBefore(t){Ae(54)}insertAfter(t){Ae(55)}updateDOM(t,n){return!1}splice(t,n,r){for(const s of r)Ce(s)||rn(s)||Ae(282);return super.splice(t,n,r)}static importJSON(t){return ln().updateFromJSON(t)}collapseAtStart(){return!0}}function $r(e){return e instanceof Em}function mCe(e){return new V_(new Map(e._nodeMap))}function UI(){return new V_(new Map([["root",new Em]]))}function pCe(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&Ae(130,n.name),Ce(e)){const r=t.children;Array.isArray(r)||Ae(59,n.name);const s=e.getChildren();for(let a=0;a<s.length;a++){const i=pCe(s[a]);r.push(i)}}return t}class V_{constructor(t,n){this._nodeMap=t,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t,n){return vK(n&&n.editor||null,this,t)}clone(t){const n=new V_(this._nodeMap,t===void 0?this._selection:t);return n._readOnly=!0,n}toJSON(){return vK(null,this,()=>({root:pCe(ln())}))}}const DT="historic",ukt="history-push",th="history-merge",gCe="paste",dkt="collaboration",fkt="skip-scroll-into-view",hkt="skip-dom-selection";class BI extends lv{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class km extends lv{static getType(){return"paragraph"}static clone(t){return new km(t.__key)}createDOM(t){const n=document.createElement("p"),r=nh(t.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(t,n,r){return!1}static importDOM(){return{p:t=>({conversion:mkt,priority:0})}}exportDOM(t){const{element:n}=super.exportDOM(t);if(Ns(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r}return{element:n}}static importJSON(t){return la().updateFromJSON(t)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(t,n){const r=la();r.setTextFormat(t.format),r.setTextStyle(t.style);const s=this.getDirection();return r.setDirection(s),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,n),r}collapseAtStart(){const t=this.getChildren();if(t.length===0||Ye(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function mkt(e){const t=la();return e.style&&(t.setFormat(e.style.textAlign),Nkt(e,t)),{node:t}}function la(){return Pd(new km)}function FT(e){return e instanceof km}const Un=0,vCe=1,Oo=2;function yCe(e,t,n,r){const s=e._keyToDOMMap;s.clear(),e._editorState=UI(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=td,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const a=e._observer;a!==null&&(a.disconnect(),e._observer=null),t!==null&&(t.textContent=""),n!==null&&(n.textContent="",s.set("root",n))}function pkt(e){const t=e||{},n=lkt(),r=t.theme||{},s=e===void 0?n:t.parentEditor||null,a=t.disableEvents||!1,i=UI(),o=t.namespace||(s!==null?s._config.namespace:SCe()),c=t.editorState,u=[Em,Ad,sv,av,km,BI,...t.nodes||[]],{onError:d,html:h}=t,m=t.editable===void 0||t.editable;let p;if(e===void 0&&n!==null)p=n._nodes;else{p=new Map;for(let v=0;v<u.length;v++){let y=u[v],x=null,b=null;if(typeof y!="function"){const S=y;y=S.replace,x=S.with,b=S.withKlass||null}const w=y.getType(),_=y.transform(),C=new Set;_!==null&&C.add(_),p.set(w,{exportDOM:h&&h.export?h.export.get(y):void 0,klass:y,replace:x,replaceWithKlass:b,transforms:C})}}const g=new G_(i,s,p,{disableEvents:a,namespace:o,theme:r},d||console.error,function(v,y){const x=new Map,b=new Set,w=_=>{Object.keys(_).forEach(C=>{let S=x.get(C);S===void 0&&(S=[],x.set(C,S)),S.push(_[C])})};return v.forEach(_=>{const C=_.klass.importDOM;if(C==null||b.has(C))return;b.add(C);const S=C.call(_.klass);S!==null&&w(S)}),y&&w(y),x}(p,h?h.import:void 0),m,e);return c!==void 0&&(g._pendingEditorState=c,g._dirtyType=Ih),g}class G_{constructor(t,n,r,s,a,i,o,c){this._createEditorArgs=c,this._parentEditor=n,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=td,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=SCe(),this._onError=a,this._htmlConversions=i,this._editable=o,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const n=this._listeners.update;return n.add(t),()=>{n.delete(t)}}registerEditableListener(t){const n=this._listeners.editable;return n.add(t),()=>{n.delete(t)}}registerDecoratorListener(t){const n=this._listeners.decorator;return n.add(t),()=>{n.delete(t)}}registerTextContentListener(t){const n=this._listeners.textcontent;return n.add(t),()=>{n.delete(t)}}registerRootListener(t){const n=this._listeners.root;return t(this._rootElement,null),n.add(t),()=>{t(null,this._rootElement),n.delete(t)}}registerCommand(t,n,r){r===void 0&&Ae(35);const s=this._commands;s.has(t)||s.set(t,[new Set,new Set,new Set,new Set,new Set]);const a=s.get(t);a===void 0&&Ae(36,String(t));const i=a[r];return i.add(n),()=>{i.delete(n),a.every(o=>o.size===0)&&s.delete(t)}}registerMutationListener(t,n,r){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,a=this._listeners.mutation;a.set(n,s);const i=r&&r.skipInitialization;return i!==void 0&&i||this.initializeMutationListener(n,s),()=>{a.delete(n)}}getRegisteredNode(t){const n=this._nodes.get(t.getType());return n===void 0&&Ae(37,t.name),n}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,n){const r=this._editorState,s=NK(r).get(n.getType());if(!s)return;const a=new Map;for(const i of s.keys())a.set(i,"created");a.size>0&&t(a,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,n){const r=this.getRegisteredNode(t);return r.transforms.add(n),r}registerNodeTransform(t,n){const r=this.registerNodeTransformToKlass(t,n),s=[r],a=r.replaceWithKlass;if(a!=null){const i=this.registerNodeTransformToKlass(a,n);s.push(i)}return function(i,o){const c=NK(i.getEditorState()),u=[];for(const d of o){const h=c.get(d);h&&u.push(h)}u.length!==0&&i.update(()=>{for(const d of u)for(const h of d.keys()){const m=Sr(h);m&&m.markDirty()}},i._pendingEditorState===null?{tag:th}:void 0)}(this,s.map(i=>i.klass.getType())),()=>{s.forEach(i=>i.transforms.delete(n))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,n){return Ze(this,t,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const n=this._rootElement;if(t!==n){const r=nh(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=t,yCe(this,n,t,s),n!==null&&(this._config.disableEvents||YEt(n),r!=null&&n.classList.remove(...r)),t!==null){const a=qI(t),i=t.style;i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=a,this._dirtyType=Ih,j5e(this),this._updateTags.add(th),zo(this),this._config.disableEvents||function(o,c){const u=o.ownerDocument,d=$b.get(u);(d===void 0||d<1)&&u.addEventListener("selectionchange",nCe),$b.set(u,(d||0)+1),o.__lexicalEditor=c;const h=tCe(o);for(let m=0;m<AT.length;m++){const[p,g]=AT[m],v=typeof g=="function"?y=>{tK(y)||(eK(y),(c.isEditable()||p==="click")&&g(y,c))}:y=>{if(tK(y))return;eK(y);const x=c.isEditable();switch(p){case"cut":return x&&Ze(c,II,y);case"copy":return Ze(c,PI,y);case"paste":return x&&Ze(c,$_,y);case"dragstart":return x&&Ze(c,q5e,y);case"dragover":return x&&Ze(c,WEt,y);case"dragend":return x&&Ze(c,zEt,y);case"focus":return x&&Ze(c,GEt,y);case"blur":return x&&Ze(c,qEt,y);case"drop":return x&&Ze(c,G5e,y)}};o.addEventListener(p,v),h.push(()=>{o.removeEventListener(p,v)})}}(t,this),r!=null&&t.classList.add(...r)}else this._window=null,this._updateTags.add(th),zo(this);yg("root",this,!1,t,n)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,n){t.isEmpty()&&Ae(38);let r=t;r._readOnly&&(r=mCe(t),r._selection=t._selection?t._selection.clone():null),A5e(this);const s=this._pendingEditorState,a=this._updateTags,i=n!==void 0?n.tag:null;s===null||s.isEmpty()||(i!=null&&a.add(i),zo(this)),this._pendingEditorState=r,this._dirtyType=Ih,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&a.add(i),this._updating||zo(this)}parseEditorState(t,n){return function(r,s,a){const i=UI(),o=_r,c=zs,u=Cr,d=s._dirtyElements,h=s._dirtyLeaves,m=s._cloneNotNeeded,p=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,_r=i,zs=!1,Cr=s;try{const g=s._nodes;DI(r.root,g),a&&a(),i._readOnly=!0}catch(g){g instanceof Error&&s._onError(g)}finally{s._dirtyElements=d,s._dirtyLeaves=h,s._cloneNotNeeded=m,s._dirtyType=p,_r=o,zs=c,Cr=u}return i}(typeof t=="string"?JSON.parse(t):t,this,n)}read(t){return zo(this),this.getEditorState().read(t,{editor:this})}update(t,n){(function(r,s,a){r._updating?r._updates.push([s,a]):FI(r,s,a)})(this,t,n)}focus(t,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Js(this,()=>{const s=Qe(),a=ln();s!==null?s.dirty||qs(s.clone()):a.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?a.selectStart():a.selectEnd()),UT("focus"),Ckt(()=>{r.removeAttribute("autocapitalize"),t&&t()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const n=Co(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,yg("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}G_.version="0.31.0+prod.esm";let gkt=1;const vkt=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function wK(e){return rn(Uh(e))}function xCe(e){const t=document.activeElement;if(!Ns(t))return!1;const n=t.nodeName;return rn(Uh(e))&&(n==="INPUT"||n==="TEXTAREA"||t.contentEditable==="true"&&K_(t)==null)}function q_(e,t,n){const r=e.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(n)&&t!==null&&!xCe(t)&&HI(t)===e}catch{return!1}}function $I(e){return e instanceof G_}function HI(e){let t=e;for(;t!=null;){const n=K_(t);if($I(n))return n;t=cv(t)}return null}function K_(e){return e?e.__lexicalEditor:null}function mf(e){return e.isToken()||e.isSegmented()}function Tl(e){return Mm(e)&&e.nodeType===fEt}function ykt(e){return Mm(e)&&e.nodeType===hEt}function Fh(e){let t=e;for(;t!=null;){if(Tl(t))return t;t=t.firstChild}return null}function zb(e,t,n){const r=nd[t];if(n!==null&&(e&r)==(n&r))return e;let s=e^r;return t==="subscript"?s&=-65:t==="superscript"?s&=-33:t==="lowercase"?(s&=-513,s&=-1025):t==="uppercase"?(s&=-257,s&=-1025):t==="capitalize"&&(s&=-257,s&=-513),s}function xkt(e,t){if(t!=null)return void(e.__key=t);rs(),uCe();const n=Bn(),r=Wc(),s=""+gkt++;r._nodeMap.set(s,e),Ce(e)?n._dirtyElements.set(s,!0):n._dirtyLeaves.add(s),n._cloneNotNeeded.add(s),n._dirtyType=k5e,e.__key=s}function Nu(e){const t=e.getParent();if(t!==null){const n=e.getWritable(),r=t.getWritable(),s=e.getPreviousSibling(),a=e.getNextSibling(),i=a!==null?a.__key:null,o=s!==null?s.__key:null,c=s!==null?s.getWritable():null,u=a!==null?a.getWritable():null;s===null&&(r.__first=i),a===null&&(r.__last=o),c!==null&&(c.__next=i),u!==null&&(u.__prev=o),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function Vb(e){uCe();const t=e.getLatest(),n=t.__parent,r=Wc(),s=Bn(),a=r._nodeMap,i=s._dirtyElements;n!==null&&function(c,u,d){let h=c;for(;h!==null;){if(d.has(h))return;const m=u.get(h);if(m===void 0)break;d.set(h,!1),h=m.__parent}}(n,a,i);const o=t.__key;s._dirtyType=k5e,Ce(e)?i.set(o,!0):s._dirtyLeaves.add(o)}function Dr(e){rs();const t=Bn(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,n!==null){const r=Sr(n);r!==null&&r.getWritable()}if(e!==null){const r=Sr(e);r!==null&&r.getWritable()}}}function rc(){return ov()?null:Bn()._compositionKey}function Sr(e,t){const n=(t||Wc())._nodeMap.get(e);return n===void 0?null:n}function bCe(e,t){const n=Y_(e,Bn());return n!==void 0?Sr(n,t):null}function Y_(e,t){return e[`__lexicalKey_${t._key}`]}function Uh(e,t){let n=e;for(;n!=null;){const r=bCe(n,t);if(r!==null)return r;n=cv(n)}return null}function wCe(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function _K(e){return e.read(()=>ln().getTextContent())}function ln(){return _Ce(Wc())}function _Ce(e){return e._nodeMap.get("root")}function qs(e){rs();const t=Wc();e!==null&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function Rf(e){const t=Bn(),n=function(r,s){let a=r;for(;a!=null;){const i=Y_(a,s);if(i!==void 0)return i;a=cv(a)}return null}(e,t);return n===null?e===t.getRootElement()?Sr("root"):null:Sr(n)}function CK(e,t){return t?e.getTextContentSize():0}function CCe(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function WI(e){const t=[];let n=e;for(;n!==null;)t.push(n),n=n._parentEditor;return t}function SCe(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function ECe(e){return Tl(e)?e.nodeValue:null}function zI(e,t,n){const r=Co(Pa(t));if(r===null)return;const s=r.anchorNode;let{anchorOffset:a,focusOffset:i}=r;if(s!==null){let o=ECe(s);const c=Uh(s);if(o!==null&&Ye(c)){if(o===U_&&n){const u=n.length;o=n,a=u,i=u}o!==null&&VI(c,o,a,i,e)}}}function VI(e,t,n,r,s){let a=e;if(a.isAttached()&&(s||!a.isDirty())){const i=a.isComposing();let o=t;(i||s)&&t[t.length-1]===U_&&(o=t.slice(0,-1));const c=a.getTextContent();if(s||o!==c){if(o===""){if(Dr(null),P0||Ph||Pb)a.remove();else{const v=Bn();setTimeout(()=>{v.update(()=>{a.isAttached()&&a.remove()})},20)}return}const u=a.getParent(),d=iv(),h=a.getTextContentSize(),m=rc(),p=a.getKey();if(a.isToken()||m!==null&&p===m&&!i||Re(d)&&(u!==null&&!u.canInsertTextBefore()&&d.anchor.offset===0||d.anchor.key===e.__key&&d.anchor.offset===0&&!a.canInsertTextBefore()&&!i||d.focus.key===e.__key&&d.focus.offset===h&&!a.canInsertTextAfter()&&!i))return void a.markDirty();const g=Qe();if(!Re(g)||n===null||r===null)return void a.setTextContent(o);if(g.setTextNodeRange(a,n,a,r),a.isSegmented()){const v=tr(a.getTextContent());a.replace(v),a=v}a.setTextContent(o)}}}function Gy(e,t,n){const r=t[n]||!1;return r==="any"||r===e[n]}function bkt(e,t){return Gy(e,t,"altKey")&&Gy(e,t,"ctrlKey")&&Gy(e,t,"shiftKey")&&Gy(e,t,"metaKey")}function sn(e,t,n){return bkt(e,n)&&e.key.toLowerCase()===t.toLowerCase()}const Do={ctrlKey:!Vi,metaKey:Vi},SK={altKey:Vi,ctrlKey:!Vi};function EK(e){return e.key==="Backspace"}function kK(e){return sn(e,"a",Do)}function wkt(e){const t=ln();if(Re(e)){const n=e.anchor,r=e.focus,s=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(s.getKey(),0,"element"),r.set(s.getKey(),s.getChildrenSize(),"element"),I0(e),e}{const n=t.select(0,t.getChildrenSize());return qs(I0(n)),n}}function nh(e,t){e.__lexicalClassNameCache===void 0&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(r!==void 0)return r;const s=e[t];if(typeof s=="string"){const a=Ib(s);return n[t]=a,a}return s}function GI(e,t,n,r,s){if(n.size===0)return;const a=r.__type,i=r.__key,o=t.get(a);o===void 0&&Ae(33,a);const c=o.klass;let u=e.get(c);u===void 0&&(u=new Map,e.set(c,u));const d=u.get(i),h=d==="destroyed"&&s==="created";(d===void 0||h)&&u.set(i,h?"updated":s)}function MK(e,t,n){const r=e.getParent();let s=n,a=e;return r!==null&&(n===0&&(s=a.getIndexWithinParent(),a=r)),a.getChildAtIndex(s-1)}function _kt(e,t){const n=e.offset;if(e.type==="element")return MK(e.getNode(),t,n);{const r=e.getNode();if(n===0){const s=r.getPreviousSibling();return s===null?MK(r.getParentOrThrow(),t,r.getIndexWithinParent()+0):s}}return null}function kCe(e){const t=Pa(e).event,n=t&&t.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function Ze(e,t,n){return function(r,s,a){const i=WI(r);for(let o=4;o>=0;o--)for(let c=0;c<i.length;c++){const u=i[c],d=u._commands.get(s);if(d!==void 0){const h=d[o];if(h!==void 0){const m=Array.from(h),p=m.length;let g=!1;if(Js(u,()=>{for(let v=0;v<p;v++)if(m[v](a,r))return void(g=!0)}),g)return g}}}return!1}(e,t,n)}function Q_(e){return!$r(e)&&!e.isLastChild()&&!e.isInline()}function Bh(e,t){const n=e._keyToDOMMap.get(t);return n===void 0&&Ae(75,t),n}function cv(e){const t=e.assignedSlot||e.parentElement;return HT(t)?t.host:t}function MCe(e){return ykt(e)?e:Ns(e)?e.ownerDocument:null}function UT(e){rs(),Bn()._updateTags.add(e)}function Ckt(e){rs(),Bn()._deferred.push(e)}function BT(e,t){let n=e.getParent();for(;n!==null;){if(n.is(t))return!0;n=n.getParent()}return!1}function qI(e){const t=MCe(e);return t?t.defaultView:null}function Pa(e){const t=e._window;return t===null&&Ae(78),t}function Skt(e){let t=e.getParentOrThrow();for(;t!==null;){if(Nl(t))return t;t=t.getParentOrThrow()}return t}function Nl(e){return $r(e)||Ce(e)&&e.isShadowRoot()}function Pd(e){const t=Bn(),n=e.constructor.getType(),r=t._nodes.get(n);r===void 0&&Ae(200,e.constructor.name,n);const{replace:s,replaceWithKlass:a}=r;if(s!==null){const i=s(e),o=i.constructor;return a!==null?i instanceof a||Ae(201,a.name,a.getType(),o.name,o.getType(),e.constructor.name,n):i instanceof e.constructor&&o!==e.constructor||Ae(202,o.name,o.getType(),e.constructor.name,n),i.__key===e.__key&&Ae(203,e.constructor.name,n,o.name,o.getType()),i}return e}function hE(e,t){!$r(e.getParent())||Ce(t)||rn(t)||Ae(99)}function Ekt(e){const t=Sr(e);return t===null&&Ae(63,e),t}function mE(e){return(rn(e)||Ce(e)&&!e.canBeEmpty())&&!e.isInline()}function $T(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;r!==null&&r.removeChild(e)}function Co(e){return Ni?(e||window).getSelection():null}function kkt(e){const t=qI(e);return t?t.getSelection():null}function KI(e){return Ns(e)&&e.tagName==="A"}function Ns(e){return Mm(e)&&e.nodeType===dEt}function Mm(e){return typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeType=="number"}function HT(e){return Mm(e)&&e.nodeType===mEt}function WT(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return e.nodeName.match(t)!==null}function Gb(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return e.nodeName.match(t)!==null}function Yl(e){if(rn(e)&&!e.isInline())return!0;if(!Ce(e)||Nl(e))return!1;const t=e.getFirstChild(),n=t===null||eh(t)||Ye(t)||t.isInline();return!e.isInline()&&e.canBeEmpty()!==!1&&n}function pE(e,t){let n=e;for(;n!==null&&n.getParent()!==null&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function Mkt(){return Bn()}const TK=new WeakMap,Tkt=new Map;function NK(e){if(!e._readOnly&&e.isEmpty())return Tkt;e._readOnly||Ae(192);let t=TK.get(e);return t||(t=function(n){const r=new Map;for(const[s,a]of n._nodeMap){const i=a.__type;let o=r.get(i);o||(o=new Map,r.set(i,o)),o.set(s,a)}return r}(e),TK.set(e,t)),t}function TCe(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function Nkt(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function Rkt(e){return e.__lexicalUnmanaged===!0}const Akt={next:"previous",previous:"next"};class YI{constructor(t){this.origin=t}[Symbol.iterator](){return NCe({hasNext:$h,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return cs(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return cs(this.origin,this.direction)}remove(){const t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,n){const r=this.getNodeAtCaret();return t.is(this.origin)||t.is(r)||(r===null?this.insert(t):r.replace(t,n)),this}splice(t,n,r="next"){const s=r===this.direction?n:Array.from(n).reverse();let a=this;const i=this.getParentAtCaret(),o=new Map;for(let c=a.getAdjacentCaret();c!==null&&o.size<t;c=c.getAdjacentCaret()){const u=c.origin.getWritable();o.set(u.getKey(),u)}for(const c of s){if(o.size>0){const u=a.getNodeAtCaret();if(u){if(o.delete(u.getKey()),o.delete(c.getKey()),!(u.is(c)||a.origin.is(c))){const d=c.getParent();d&&d.is(i)&&c.remove(),u.replace(c)}}else u===null&&Ae(263,Array.from(o).join(" "))}else a.insert(c);a=cs(c,this.direction)}for(const c of o.values())c.remove();return this}}class F0 extends YI{type="child";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Mc(t,this.direction)}getParentCaret(t="root"){return cs(QI(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Tm(this.direction);return cs(this.getNodeAtCaret(),t)||Mc(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof F0&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const jkt={root:$r,shadowRoot:Nl};function Tm(e){return Akt[e]}function QI(e,t="root"){return jkt[t](e)?null:e}class sd extends YI{type="sibling";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:cs(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return Ce(this.origin)?Mc(this.origin,this.direction):null}getParentCaret(t="root"){return cs(QI(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Tm(this.direction);return cs(this.getNodeAtCaret(),t)||Mc(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof sd&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof sd||t instanceof ad)&&this.direction===t.direction&&this.origin.is(t.origin)}}class ad extends YI{type="text";constructor(t,n){super(t),this.offset=n}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:id(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return cs(QI(this.getParentAtCaret(),t),this.direction)}getFlipped(){return id(this.origin,Tm(this.direction),this.offset)}isSamePointCaret(t){return t instanceof ad&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof sd||t instanceof ad)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return cs(this.origin,this.direction)}}function Ru(e){return e instanceof ad}function $h(e){return e instanceof sd}function ho(e){return e instanceof F0}const Pkt={next:class extends ad{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends ad{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Ikt={next:class extends sd{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends sd{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Okt={next:class extends F0{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends F0{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function cs(e,t){return e?new Ikt[t](e):null}function id(e,t,n){return e?new Pkt[t](e,X_(e,n)):null}function X_(e,t){const n=e.getTextContentSize();let r=t==="next"?n:t==="previous"?0:t;return(r<0||r>n)&&(function(s,...a){const i=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",s);for(const c of a)o.append("v",c);i.search=o.toString(),console.warn(`Minified Lexical warning #${s}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(t),String(n),e.getKey()),r=r<0?0:n),r}function RK(e,t){return new Dkt(e,t)}function Mc(e,t){return Ce(e)?new Okt[t](e):null}function Lkt(e){return e&&e.getChildCaret()||e}function XI(e){return e&&Lkt(e.getAdjacentCaret())}class ZI{type="node-caret-range";constructor(t,n,r){this.anchor=t,this.focus=n,this.direction=r}getLatest(){const t=this.anchor.getLatest(),n=this.focus.getLatest();return t===this.anchor&&n===this.focus?this:new ZI(t,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const t=s=>{const a=this[s].getLatest();return Ru(a)?function(i,o){const{direction:c,origin:u}=i,d=X_(u,o==="focus"?Tm(c):c);return RK(i,d-i.offset)}(a,s):null},n=t("anchor"),r=t("focus");if(n&&r){const{caret:s}=n,{caret:a}=r;if(s.isSameNodeCaret(a))return[RK(s,a.offset-s.offset),null]}return[n,r]}iterNodeCarets(t="root"){const n=Ru(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),s=Ru(r),a=i=>i.isSameNodeCaret(r)?null:XI(i)||i.getParentCaret(t);return NCe({hasNext:i=>i!==null&&!(s&&r.isSameNodeCaret(i)),initial:n.isSameNodeCaret(r)?null:a(n),map:i=>i,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Dkt{type="slice";constructor(t,n){this.caret=t,this.distance=n}getSliceIndices(){const{distance:t,caret:{offset:n}}=this,r=n+t;return r<n?[r,n]:[n,r]}getTextContent(){const[t,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:t,direction:n}}=this,[r,s]=this.getSliceIndices(),a=t.getTextContent();return id(t.setTextContent(a.slice(0,r)+a.slice(s)),n,r)}}function JI(e){return od(e,cs(ln(),e.direction))}function Fkt(e){return od(e,e)}function od(e,t){return e.direction!==t.direction&&Ae(265),new ZI(e,t,e.direction)}function NCe(e){const{initial:t,hasNext:n,step:r,map:s}=e;let a=t;return{[Symbol.iterator](){return this},next(){if(!n(a))return{done:!0,value:void 0};const i={done:!1,value:s(a)};return a=r(a),i}}}function RCe(e,t){const n=D2(e.origin,t.origin);switch(n===null&&Ae(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const r=e.type==="text",s=t.type==="text";return r&&s?function(a,i){return Math.sign(a-i)}(e.offset,t.offset):e.type===t.type?0:r?-1:s?1:e.type==="child"?-1:1}case"ancestor":return e.type==="child"?-1:1;case"descendant":return t.type==="child"?1:-1;case"branch":return ACe(n)}}function ACe(e){const{a:t,b:n}=e,r=t.__key,s=n.__key;let a=t,i=n;for(;a&&i;a=a.getNextSibling(),i=i.getNextSibling()){if(a.__key===s)return-1;if(i.__key===r)return 1}return a===null?1:-1}function qy(e,t){return t.is(e)}function AK(e){return Ce(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function D2(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[r,s]=AK(e);r;s=r,r=r.getParent())n.set(r,s);for(let[r,s]=AK(t);r;s=r,r=r.getParent()){const a=n.get(r);if(a!==void 0)return a===null?(qy(e,r)||Ae(276),{commonAncestor:r,type:"ancestor"}):s===null?(qy(t,r)||Ae(277),{commonAncestor:r,type:"descendant"}):((Ce(a)||qy(e,a))&&(Ce(s)||qy(t,s))&&r.is(a.getParent())&&r.is(s.getParent())||Ae(278),{a,b:s,commonAncestor:r,type:"branch"})}return null}function Tc(e,t){const{type:n,key:r,offset:s}=e,a=Ekt(e.key);return n==="text"?(Ye(a)||Ae(266,a.getType(),r),id(a,t,s)):(Ce(a)||Ae(267,a.getType(),r),$kt(a,e.offset,t))}function U0(e,t){const{origin:n,direction:r}=t,s=r==="next";Ru(t)?e.set(n.getKey(),t.offset,"text"):$h(t)?Ye(n)?e.set(n.getKey(),X_(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(s?1:0),"element"):(ho(t)&&Ce(n)||Ae(268),e.set(n.getKey(),s?0:n.getChildrenSize(),"element"))}function Ukt(e){const t=Qe(),n=Re(t)?t:akt();return F2(n,e),qs(n),n}function F2(e,t){U0(e.anchor,t.anchor),U0(e.focus,t.focus)}function jK(e){const{anchor:t,focus:n}=e,r=Tc(t,"next"),s=Tc(n,"next"),a=RCe(r,s)<=0?"next":"previous";return od(Hh(r,a),Hh(s,a))}function eO(e){const{direction:t,origin:n}=e,r=cs(n,Tm(t)).getNodeAtCaret();return r?cs(r,t):Mc(n.getParentOrThrow(),t)}function PK(e,t="root"){const n=[e];for(let r=ho(e)?e.getParentCaret(t):e.getSiblingCaret();r!==null;r=r.getParentCaret(t))n.push(eO(r));return n}function gE(e){return!!e&&e.origin.isAttached()}function Bkt(e,t="removeEmptySlices"){if(e.isCollapsed())return e;const n="root",r="next";let s=t;const a=PCe(e,r),i=PK(a.anchor,n),o=PK(a.focus.getFlipped(),n),c=new Set,u=[];for(const g of a.iterNodeCarets(n))if(ho(g))c.add(g.origin.getKey());else if($h(g)){const{origin:v}=g;Ce(v)&&!c.has(v.getKey())||u.push(v)}for(const g of u)g.remove();for(const g of a.getTextSlices()){if(!g)continue;const{origin:v}=g.caret,y=v.getTextContentSize(),x=eO(cs(v,r)),b=v.getMode();if(Math.abs(g.distance)===y&&s==="removeEmptySlices"||b==="token"&&g.distance!==0)x.remove();else if(g.distance!==0){s="removeEmptySlices";let w=g.removeTextSlice();const _=g.caret.origin;if(b==="segmented"){const C=w.origin,S=tr(C.getTextContent()).setStyle(C.getStyle()).setFormat(C.getFormat());x.replaceOrInsert(S),w=id(S,r,w.offset)}_.is(i[0].origin)&&(i[0]=w),_.is(o[0].origin)&&(o[0]=w.getFlipped())}}let d,h;for(const g of i)if(gE(g)){d=Zi(g);break}for(const g of o)if(gE(g)){h=Zi(g);break}const m=function(g,v,y){if(!g||!v)return null;const x=g.getParentAtCaret(),b=v.getParentAtCaret();if(!x||!b)return null;const w=x.getParents().reverse();w.push(x);const _=b.getParents().reverse();_.push(b);const C=Math.min(w.length,_.length);let S;for(S=0;S<C&&w[S]===_[S];S++);const k=(N,R)=>{let A;for(let P=S;P<N.length;P++){const O=N[P];if(Nl(O))return;!A&&R(O)&&(A=O)}return A},E=k(w,Yl),M=E&&k(_,N=>y.has(N.getKey())&&Yl(N));return E&&M?[E,M]:null}(d,h,c);if(m){const[g,v]=m;Mc(g,"previous").splice(0,v.getChildren()),v.remove()}const p=[d,h,...i,...o].find(gE);if(p)return Fkt(Hh(Zi(p),e.direction));Ae(269,JSON.stringify(i.map(g=>g.origin.__key)))}function Zi(e){const t=function(s){let a=s;for(;ho(a);){const i=XI(a);if(!ho(i))break;a=i}return a}(e.getLatest()),{direction:n}=t;if(Ye(t.origin))return Ru(t)?t:id(t.origin,n,n);const r=t.getAdjacentCaret();return $h(r)&&Ye(r.origin)?id(r.origin,n,Tm(n)):t}function jCe(e){return Ru(e)&&e.offset!==X_(e.origin,e.direction)}function Hh(e,t){return e.direction===t?e:e.getFlipped()}function PCe(e,t){return e.direction===t?e:od(Hh(e.focus,t),Hh(e.anchor,t))}function $kt(e,t,n){let r=Mc(e,"next");for(let s=0;s<t;s++){const a=r.getAdjacentCaret();if(a===null)break;r=a}return Hh(r,n)}const Hkt=new Map;function Wkt(e){const t={};if(!e)return t;const n=e.split(";");for(const r of n)if(r!==""){const[s,a]=r.split(/:([^]+)/);s&&a&&(t[s.trim()]=a.trim())}return t}function zkt(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&n!==null){const[r,s]=n,a=e.isBackward(),i=r.getNode(),o=s.getNode(),c=t.is(i),u=t.is(o);if(c||u){const[d,h]=OT(e),m=i.is(o),p=t.is(a?o:i),g=t.is(a?i:o);let v,y=0;return m?(y=d>h?h:d,v=d>h?d:h):p?(y=a?h:d,v=void 0):g&&(y=0,v=a?d:h),t.__text=t.__text.slice(y,v),t}}return t}function Vkt(e){const t=e.getStyle(),n=Wkt(t);Hkt.set(t,n)}function ICe(e){const t=e.anchor.getNode(),n=$r(t)?t:t.getParentOrThrow(),r=Mkt().getElementByKey(n.getKey());if(r===null)return!1;const s=r.ownerDocument.defaultView;return s===null?!1:s.getComputedStyle(r).writingMode==="vertical-rl"}function IK(e,t){const n=ICe(e)?!t:t,r=Tc(e.focus,n?"previous":"next");if(jCe(r))return!1;for(const s of JI(r)){if(ho(s))return!s.origin.isInline();if(!Ce(s.origin)){if(rn(s.origin))return!0;break}}return!1}function Gkt(e,t,n,r){e.modify(t?"extend":"move",n,r)}function qkt(e){const t=e.anchor.getNode();return($r(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function OK(e,t,n){const r=qkt(e);let s;s=ICe(e)||r?!n:n,Gkt(e,t,s,"character")}function Kkt(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const s of t)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const tO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Ykt=tO&&"documentMode"in document?document.documentMode:null;!(!tO||!("InputEvent"in window)||Ykt)&&"getTargetRanges"in new window.InputEvent("input");const Qkt=tO&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;function Xkt(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}function ld(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}const Zkt=Qkt;function Jkt(e,...t){const n=Xkt(...t);n.length>0&&e.classList.add(...n)}function eMt(e){const t=bg(e,n=>Ce(n)&&!n.isInline());return Ce(t)||Kkt(4,e.__key),t}const bg=(e,t)=>{let n=e;for(;n!==ln()&&n!=null;){if(t(n))return n;n=n.getParent()}return null};function qb(e,t){return e!==null&&Object.getPrototypeOf(e).constructor.name===t.name}function tMt(e,t){const n=t.body?t.body.childNodes:[];let r=[];const s=[];for(let a=0;a<n.length;a++){const i=n[a];if(!LCe.has(i.nodeName)){const o=DCe(i,e,s,!1);o!==null&&(r=r.concat(o))}}return function(a){for(const i of a)i.getNextSibling()instanceof BI&&i.insertAfter(kc());for(const i of a){const o=i.getChildren();for(const c of o)i.insertBefore(c);i.remove()}}(s),r}function nMt(e,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=ln().getChildren();for(let s=0;s<r.length;s++)OCe(e,r[s],n,t);return n.innerHTML}function OCe(e,t,n,r=null){let s=r===null||t.isSelected(r);const a=Ce(t)&&t.excludeFromCopy("html");let i=t;if(r!==null){let p=TCe(t);p=Ye(p)&&r!==null?zkt(r,p):p,i=p}const o=Ce(i)?i.getChildren():[],c=e._nodes.get(i.getType());let u;u=c&&c.exportDOM!==void 0?c.exportDOM(e,i):i.exportDOM(e);const{element:d,after:h}=u;if(!d)return!1;const m=document.createDocumentFragment();for(let p=0;p<o.length;p++){const g=o[p],v=OCe(e,g,m,r);!s&&Ce(t)&&v&&t.extractWithChild(g,r,"html")&&(s=!0)}if(s&&!a){if((Ns(d)||HT(d))&&d.append(m),n.append(d),h){const p=h.call(i,d);p&&(HT(d)?d.replaceChildren(p):d.replaceWith(p))}}else n.append(m);return s}const LCe=new Set(["STYLE","SCRIPT"]);function DCe(e,t,n,r,s=new Map,a){let i=[];if(LCe.has(e.nodeName))return i;let o=null;const c=function(g,v){const{nodeName:y}=g,x=v._htmlConversions.get(y.toLowerCase());let b=null;if(x!==void 0)for(const w of x){const _=w(g);_!==null&&(b===null||(b.priority||0)<=(_.priority||0))&&(b=_)}return b!==null?b.conversion:null}(e,t),u=c?c(e):null;let d=null;if(u!==null){d=u.after;const g=u.node;if(o=Array.isArray(g)?g[g.length-1]:g,o!==null){for(const[,v]of s)if(o=v(o,a),!o)break;o&&i.push(...Array.isArray(g)?g:[o])}u.forChild!=null&&s.set(e.nodeName,u.forChild)}const h=e.childNodes;let m=[];const p=(o==null||!Nl(o))&&(o!=null&&LT(o)||r);for(let g=0;g<h.length;g++)m.push(...DCe(h[g],t,n,p,new Map(s),o));return d!=null&&(m=d(m)),Gb(e)&&(m=rMt(e,m,p?()=>{const g=new BI;return n.push(g),g}:la)),o==null?m.length>0?i=i.concat(m):Gb(e)&&function(g){return g.nextSibling==null||g.previousSibling==null?!1:WT(g.nextSibling)&&WT(g.previousSibling)}(e)&&(i=i.concat(kc())):Ce(o)&&o.append(...m),i}function rMt(e,t,n){const r=e.style.textAlign,s=[];let a=[];for(let i=0;i<t.length;i++){const o=t[i];if(LT(o))r&&!o.getFormat()&&o.setFormat(r),s.push(o);else if(a.push(o),i===t.length-1||i<t.length-1&&LT(t[i+1])){const c=n();c.setFormat(r),c.append(...a),s.push(c),a=[]}}return s}function sMt(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const s of t)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function aMt(e,t=Qe()){return t==null&&sMt(166),Re(t)&&t.isCollapsed()||t.getNodes().length===0?"":nMt(e,t)}function LK(e,t){const n=e.getData("text/plain")||e.getData("text/uri-list");n!=null&&t.insertRawText(n)}function DK(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const o=JSON.parse(r);if(o.namespace===n._config.namespace&&Array.isArray(o.nodes))return FK(n,iMt(o.nodes),t)}catch{}const s=e.getData("text/html"),a=e.getData("text/plain");if(s&&a!==s)try{const o=new DOMParser().parseFromString(function(c){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(c):c}(s),"text/html");return FK(n,tMt(n,o),t)}catch{}const i=a||e.getData("text/uri-list");if(i!=null)if(Re(t)){const o=i.split(/(\r?\n|\t)/);o[o.length-1]===""&&o.pop();for(let c=0;c<o.length;c++){const u=Qe();if(Re(u)){const d=o[c];d===`
`||d===`\r
`?u.insertParagraph():d==="	"?u.insertNodes([W_()]):u.insertText(d)}}}else t.insertRawText(i)}function FK(e,t,n){e.dispatchCommand(LEt,{nodes:t,selection:n})||n.insertNodes(t)}function iMt(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],s=ckt(r);Ye(s)&&Vkt(s),t.push(s)}return t}const oMt=new Set(["http:","https:","mailto:","sms:","tel:"]);let B0=class FCe extends lv{static getType(){return"link"}static clone(t){return new FCe(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t="",n={},r){super(r);const{target:s=null,rel:a=null,title:i=null}=n;this.__url=t,this.__target=s,this.__rel=a,this.__title=i}createDOM(t){const n=document.createElement("a");return n.href=this.sanitizeUrl(this.__url),this.__target!==null&&(n.target=this.__target),this.__rel!==null&&(n.rel=this.__rel),this.__title!==null&&(n.title=this.__title),Jkt(n,t.theme.link),n}updateDOM(t,n,r){if(KI(n)){const s=this.__url,a=this.__target,i=this.__rel,o=this.__title;s!==t.__url&&(n.href=s),a!==t.__target&&(a?n.target=a:n.removeAttribute("target")),i!==t.__rel&&(i?n.rel=i:n.removeAttribute("rel")),o!==t.__title&&(o?n.title=o:n.removeAttribute("title"))}return!1}static importDOM(){return{a:t=>({conversion:lMt,priority:1})}}static importJSON(t){return $0().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null)}sanitizeUrl(t){try{const n=new URL(t);if(!oMt.has(n.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(t){const n=this.getWritable();return n.__url=t,n}getTarget(){return this.getLatest().__target}setTarget(t){const n=this.getWritable();return n.__target=t,n}getRel(){return this.getLatest().__rel}setRel(t){const n=this.getWritable();return n.__rel=t,n}getTitle(){return this.getLatest().__title}setTitle(t){const n=this.getWritable();return n.__title=t,n}insertNewAfter(t,n=!0){const r=$0(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,n),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,n,r){if(!Re(n))return!1;const s=n.anchor.getNode(),a=n.focus.getNode();return this.isParentOf(s)&&this.isParentOf(a)&&n.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function lMt(e){let t=null;if(KI(e)){const n=e.textContent;(n!==null&&n!==""||e.children.length>0)&&(t=$0(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function $0(e="",t){return Pd(new B0(e,t))}function Bo(e){return e instanceof B0}let nO=class UCe extends B0{constructor(t="",n={},r){super(t,n,r),this.__isUnlinked=n.isUnlinked!==void 0&&n.isUnlinked!==null&&n.isUnlinked}static getType(){return"autolink"}static clone(t){return new UCe(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const n=this.getWritable();return n.__isUnlinked=t,n}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,n,r){return super.updateDOM(t,n,r)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){return UK().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIsUnlinked(t.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(t,n=!0){const r=this.getParentOrThrow().insertNewAfter(t,n);if(Ce(r)){const s=UK(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(s),s}return null}};function UK(e="",t){return Pd(new nO(e,t))}function Ky(e){return e instanceof nO}const CBt=Et("TOGGLE_LINK_COMMAND");function BK(e,t){if(e.type==="element"){const n=e.getNode();return Ce(n)||function(r,...s){const a=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",r);for(const o of s)i.append("v",o);throw a.search=i.toString(),Error(`Minified Lexical error #${r}; visit ${a.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function SBt(e,t={}){const{target:n,title:r}=t,s=t.rel===void 0?"noreferrer":t.rel,a=Qe();if(a===null||!Re(a)&&!uc(a))return;if(uc(a)){const u=a.getNodes();return u.length===0?void 0:void u.forEach(d=>{if(e===null){const h=bg(d,m=>!Ky(m)&&Bo(m));h&&(h.insertBefore(d),h.getChildren().length===0&&h.remove())}else{const h=bg(d,m=>!Ky(m)&&Bo(m));if(h)h.setURL(e),n!==void 0&&h.setTarget(n),s!==void 0&&h.setRel(s);else{const m=$0(e,{rel:s,target:n});d.insertBefore(m),m.append(d)}}})}const i=a.extract();if(e===null)return void i.forEach(u=>{const d=bg(u,h=>!Ky(h)&&Bo(h));if(d){const h=d.getChildren();for(let m=0;m<h.length;m++)d.insertBefore(h[m]);d.remove()}});const o=new Set,c=u=>{o.has(u.getKey())||(o.add(u.getKey()),u.setURL(e),n!==void 0&&u.setTarget(n),s!==void 0&&u.setRel(s),r!==void 0&&u.setTitle(r))};if(i.length===1){const u=$K(i[0],Bo);if(u!==null)return c(u)}(function(u){const d=Qe();if(!Re(d))return u();const h=I0(d),m=h.isBackward(),p=BK(h.anchor,m?-1:0),g=BK(h.focus,m?0:-1);if(u(),p||g){const v=Qe();if(Re(v)){const y=v.clone();if(p){const x=p.getParent();x&&y.anchor.set(x.getKey(),p.getIndexWithinParent()+(m?1:0),"element")}if(g){const x=g.getParent();x&&y.focus.set(x.getKey(),g.getIndexWithinParent()+(m?0:1),"element")}qs(I0(y))}}})(()=>{let u=null;for(const d of i){if(!d.isAttached())continue;const h=$K(d,Bo);if(h){c(h);continue}if(Ce(d)){if(!d.isInline())continue;if(Bo(d)){if(!(Ky(d)||u!==null&&u.getParentOrThrow().isParentOf(d))){c(d),u=d;continue}for(const p of d.getChildren())d.insertBefore(p);d.remove();continue}}const m=d.getPreviousSibling();Bo(m)&&m.is(u)?m.append(d):(u=$0(e,{rel:s,target:n,title:r}),d.insertAfter(u),u.append(d))}})}function $K(e,t){let n=e;for(;n!==null&&n.getParent()!==null&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}const BCe=f.createContext(null);function cMt(e,t){return{getTheme:function(){return t??null}}}function ua(){const e=f.useContext(BCe);return e==null&&function(t,...n){const r=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const a of n)s.append("v",a);throw r.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}function uMt({newTab:e=!0,disabled:t=!1}){const[n]=ua();return f.useEffect(()=>{const r=a=>{const i=a.target;if(!Mm(i))return;const o=HI(i);if(o===null)return;let c=null,u=null;if(o.update(()=>{const m=Uh(i);if(m!==null){const p=bg(m,Ce);if(!t)if(Bo(p))c=p.sanitizeUrl(p.getURL()),u=p.getTarget();else{const g=function(v,y){let x=v;for(;x!=null;){if(y(x))return x;x=x.parentNode}return null}(i,KI);g!==null&&(c=g.href,u=g.target)}}}),c===null||c==="")return;const d=n.getEditorState().read(Qe);if(Re(d)&&!d.isCollapsed())return void a.preventDefault();const h=a.type==="auxclick"&&a.button===1;window.open(c,e||h||a.metaKey||a.ctrlKey||u==="_blank"?"_blank":"_self"),a.preventDefault()},s=a=>{a.button===1&&r(a)};return n.registerRootListener((a,i)=>{i!==null&&(i.removeEventListener("click",r),i.removeEventListener("mouseup",s)),a!==null&&(a.addEventListener("click",r),a.addEventListener("mouseup",s))})},[n,e,t]),null}const $Ce=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,dMt=$Ce?f.useLayoutEffect:f.useEffect,Yy={tag:th};function fMt({initialConfig:e,children:t}){const n=f.useMemo(()=>{const{theme:r,namespace:s,nodes:a,onError:i,editorState:o,html:c}=e,u=cMt(null,r),d=pkt({editable:e.editable,html:c,namespace:s,nodes:a,onError:h=>i(h,d),theme:r});return function(h,m){if(m!==null){if(m===void 0)h.update(()=>{const p=ln();if(p.isEmpty()){const g=la();p.append(g);const v=$Ce?document.activeElement:null;(Qe()!==null||v!==null&&v===h.getRootElement())&&g.select()}},Yy);else if(m!==null)switch(typeof m){case"string":{const p=h.parseEditorState(m);h.setEditorState(p,Yy);break}case"object":h.setEditorState(m,Yy);break;case"function":h.update(()=>{ln().isEmpty()&&m(h)},Yy)}}}(d,o),[d,u]},[]);return dMt(()=>{const r=e.editable,[s]=n;s.setEditable(r===void 0||r)},[]),l.jsx(BCe.Provider,{value:n,children:t})}function hMt(){return ln().getTextContent()}function mMt(e,t=!0){if(e)return!1;let n=hMt();return t&&(n=n.trim()),n===""}function pMt(e){if(!mMt(e,!1))return!1;const t=ln().getChildren(),n=t.length;if(n>1)return!1;for(let r=0;r<n;r++){const s=t[r];if(rn(s))return!1;if(Ce(s)){if(!FT(s)||s.__indent!==0)return!1;const a=s.getChildren(),i=a.length;for(let o=0;o<i;o++){const c=a[r];if(!Ye(c))return!1}}}return!0}function HCe(e){return()=>pMt(e)}const WCe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function gMt({editor:e,ariaActiveDescendant:t,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:a,ariaExpanded:i,ariaInvalid:o,ariaLabel:c,ariaLabelledBy:u,ariaMultiline:d,ariaOwns:h,ariaRequired:m,autoCapitalize:p,className:g,id:v,role:y="textbox",spellCheck:x=!0,style:b,tabIndex:w,"data-testid":_,...C},S){const[k,E]=f.useState(e.isEditable()),M=f.useCallback(R=>{R&&R.ownerDocument&&R.ownerDocument.defaultView?e.setRootElement(R):e.setRootElement(null)},[e]),N=f.useMemo(()=>function(...R){return A=>{R.forEach(P=>{typeof P=="function"?P(A):P!=null&&(P.current=A)})}}(S,M),[M,S]);return WCe(()=>(E(e.isEditable()),e.registerEditableListener(R=>{E(R)})),[e]),l.jsx("div",{"aria-activedescendant":k?t:void 0,"aria-autocomplete":k?n:"none","aria-controls":k?r:void 0,"aria-describedby":s,...a!=null?{"aria-errormessage":a}:{},"aria-expanded":k&&y==="combobox"?!!i:void 0,...o!=null?{"aria-invalid":o}:{},"aria-label":c,"aria-labelledby":u,"aria-multiline":d,"aria-owns":k?h:void 0,"aria-readonly":!k||void 0,"aria-required":m,autoCapitalize:p,className:g,contentEditable:k,"data-testid":_,id:v,ref:N,role:k?y:void 0,spellCheck:x,style:b,tabIndex:w,...C})}const vMt=f.forwardRef(gMt);function HK(e){return e.getEditorState().read(HCe(e.isComposing()))}const yMt=f.forwardRef(xMt);function xMt(e,t){const{placeholder:n,...r}=e,[s]=ua();return l.jsxs(l.Fragment,{children:[l.jsx(vMt,{editor:s,...r,ref:t}),n!=null&&l.jsx(bMt,{editor:s,content:n})]})}function bMt({content:e,editor:t}){const n=function(i){const[o,c]=f.useState(()=>HK(i));return WCe(()=>{function u(){const d=HK(i);c(d)}return u(),ld(i.registerUpdateListener(()=>{u()}),i.registerEditableListener(()=>{u()}))},[i]),o}(t),[r,s]=f.useState(t.isEditable());if(f.useLayoutEffect(()=>(s(t.isEditable()),t.registerEditableListener(i=>{s(i)})),[t]),!n)return null;let a=null;return typeof e=="function"?a=e(r):e!==null&&(a=e),a===null?null:l.jsx("div",{"aria-hidden":!0,children:a})}const wMt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function _Mt(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function CMt(){return function(e){const[t]=ua(),n=f.useMemo(()=>e(t),[t,e]),[r,s]=f.useState(()=>n.initialValueFn()),a=f.useRef(r);return wMt(()=>{const{initialValueFn:i,subscribe:o}=n,c=i();return a.current!==c&&(a.current=c,s(c)),o(u=>{a.current=u,s(u)})},[n,e]),r}(_Mt)}function SMt(e){const t=window.location.origin,n=r=>{if(r.origin!==t)return;const s=e.getRootElement();if(document.activeElement!==s)return;const a=r.data;if(typeof a=="string"){let i;try{i=JSON.parse(a)}catch{return}if(i&&i.protocol==="nuanria_messaging"&&i.type==="request"){const o=i.payload;if(o&&o.functionId==="makeChanges"){const c=o.args;if(c){const[u,d,h,m,p,g]=c;e.update(()=>{const v=Qe();if(Re(v)){const y=v.anchor;let x=y.getNode(),b=0,w=0;if(Ye(x)&&u>=0&&d>=0&&(b=u,w=u+d,v.setTextNodeRange(x,b,x,w)),b===w&&h===""||(v.insertRawText(h),x=y.getNode()),Ye(x)){b=m,w=m+p;const _=x.getTextContentSize();b=b>_?_:b,w=w>_?_:w,v.setTextNodeRange(x,b,x,w)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const Nm=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,EMt=Nm&&"documentMode"in document?document.documentMode:null,kMt=!(!Nm||!("InputEvent"in window)||EMt)&&"getTargetRanges"in new window.InputEvent("input"),MMt=Nm&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),WK=Nm&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,TMt=Nm&&/^(?=.*Chrome).*/i.test(navigator.userAgent),NMt=Nm&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!TMt;function zK(e,t){t.update(()=>{if(e!==null){const n=qb(e,KeyboardEvent)?null:e.clipboardData,r=Qe();if(r!==null&&n!=null){e.preventDefault();const s=aMt(t);s!==null&&n.setData("text/html",s),n.setData("text/plain",r.getTextContent())}}})}function RMt(e){return ld(e.registerCommand(fo,t=>{const n=Qe();return!!Re(n)&&(n.deleteCharacter(t),!0)},Un),e.registerCommand(Oh,t=>{const n=Qe();return!!Re(n)&&(n.deleteWord(t),!0)},Un),e.registerCommand(Lh,t=>{const n=Qe();return!!Re(n)&&(n.deleteLine(t),!0)},Un),e.registerCommand(Tu,t=>{const n=Qe();if(!Re(n))return!1;if(typeof t=="string")n.insertText(t);else{const r=t.dataTransfer;if(r!=null)LK(r,n);else{const s=t.data;s&&n.insertText(s)}}return!0},Un),e.registerCommand(Bb,()=>{const t=Qe();return!!Re(t)&&(t.removeText(),!0)},Un),e.registerCommand(Zf,t=>{const n=Qe();return!!Re(n)&&(n.insertLineBreak(t),!0)},Un),e.registerCommand(TT,()=>{const t=Qe();return!!Re(t)&&(t.insertLineBreak(),!0)},Un),e.registerCommand($5e,t=>{const n=Qe();if(!Re(n))return!1;const r=t,s=r.shiftKey;return!!IK(n,!0)&&(r.preventDefault(),OK(n,s,!0),!0)},Un),e.registerCommand(B5e,t=>{const n=Qe();if(!Re(n))return!1;const r=t,s=r.shiftKey;return!!IK(n,!1)&&(r.preventDefault(),OK(n,s,!1),!0)},Un),e.registerCommand(AI,t=>{const n=Qe();return!!Re(n)&&(!WK||navigator.language!=="ko-KR")&&(t.preventDefault(),e.dispatchCommand(fo,!0))},Un),e.registerCommand(jI,t=>{const n=Qe();return!!Re(n)&&(t.preventDefault(),e.dispatchCommand(fo,!1))},Un),e.registerCommand(Dh,t=>{const n=Qe();if(!Re(n))return!1;if(t!==null){if((WK||MMt||NMt)&&kMt)return!1;t.preventDefault()}return e.dispatchCommand(Zf,!1)},Un),e.registerCommand(NT,()=>(wkt(),!0),Un),e.registerCommand(PI,t=>{const n=Qe();return!!Re(n)&&(zK(t,e),!0)},Un),e.registerCommand(II,t=>{const n=Qe();return!!Re(n)&&(function(r,s){zK(r,s),s.update(()=>{const a=Qe();Re(a)&&a.removeText()})}(t,e),!0)},Un),e.registerCommand($_,t=>{const n=Qe();return!!Re(n)&&(function(r,s){r.preventDefault(),s.update(()=>{const a=Qe(),i=qb(r,ClipboardEvent)?r.clipboardData:null;i!=null&&Re(a)&&LK(i,a)},{tag:gCe})}(t,e),!0)},Un),e.registerCommand(G5e,t=>{const n=Qe();return!!Re(n)&&(t.preventDefault(),!0)},Un),e.registerCommand(q5e,t=>{const n=Qe();return!!Re(n)&&(t.preventDefault(),!0)},Un))}const zT=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function VK(e){return e.getEditorState().read(HCe(e.isComposing()))}function AMt({contentEditable:e,placeholder:t=null,ErrorBoundary:n}){const[r]=ua(),s=function(a,i){const[o,c]=f.useState(()=>a.getDecorators());return zT(()=>a.registerDecoratorListener(u=>{as.flushSync(()=>{c(u)})}),[a]),f.useEffect(()=>{c(a.getDecorators())},[a]),f.useMemo(()=>{const u=[],d=Object.keys(o);for(let h=0;h<d.length;h++){const m=d[h],p=l.jsx(i,{onError:v=>a._onError(v),children:l.jsx(f.Suspense,{fallback:null,children:o[m]})}),g=a.getElementByKey(m);g!==null&&u.push(as.createPortal(p,g,m))}return u},[i,o,a])}(r,n);return function(a){zT(()=>ld(RMt(a),SMt(a)),[a])}(r),l.jsxs(l.Fragment,{children:[e,l.jsx(jMt,{content:t}),s]})}function jMt({content:e}){const[t]=ua(),n=function(s){const[a,i]=f.useState(()=>VK(s));return zT(()=>{function o(){const c=VK(s);i(c)}return o(),ld(s.registerUpdateListener(()=>{o()}),s.registerEditableListener(()=>{o()}))},[s]),a}(t),r=CMt();return n?typeof e=="function"?e(r):e:null}const zCe=T.memo(({quote:e,onClear:t})=>e?l.jsx("div",{className:"py-sm bg-offsetPlus/50 dark:bg-background animate-slideDownAndFadeIn z-[49] mx-3 rounded-lg pl-3 pr-3",children:l.jsxs("div",{className:"gap-sm flex items-start",children:[l.jsx(j,{color:"light",className:"mt-px flex items-center pt-1",variant:"tinyRegular",children:l.jsx(_e,{icon:FFe,size:"xs",className:"rotate-180"})}),l.jsx(j,{className:"py-xs line-clamp-3 flex-1 overflow-hidden text-ellipsis",variant:"tinyRegular",color:"light",children:e}),l.jsx("div",{className:"shrink-0",children:l.jsx(ze,{icon:tn,onClick:t,size:"tiny",pill:!0,toolTip:"Clear quote"})})]})}):null);zCe.displayName="QuotePreview";const GK="startTransition",VT=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,PMt=VT?f.useLayoutEffect:f.useEffect;class IMt{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}}const qK=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),n.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})};function KK(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}function OMt(e,t,n,r){const[s]=ua();f.useEffect(()=>{if(t!=null&&e!=null){const a=s.getRootElement(),i=a!=null?function(h,m){let p=getComputedStyle(h);const g=p.position==="absolute",v=/(auto|scroll)/;if(p.position==="fixed")return document.body;for(let y=h;y=y.parentElement;)if(p=getComputedStyle(y),(!g||p.position!=="static")&&v.test(p.overflow+p.overflowY+p.overflowX))return y;return document.body}(a):document.body;let o=!1,c=KK(t,i);const u=function(){o||(window.requestAnimationFrame(function(){n(),o=!1}),o=!0);const h=KK(t,i);h!==c&&(c=h,r?.(h))},d=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",u,{capture:!0,passive:!0}),d.observe(t),()=>{d.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",u,!0)}}},[t,s,r,n,e])}const YK=Et("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function LMt({close:e,editor:t,anchorElementRef:n,resolution:r,options:s,menuRenderFn:a,onSelectOption:i,shouldSplitNodeWithQuery:o=!1,commandPriority:c=vCe,preselectFirstItem:u=!0}){const[d,h]=f.useState(null),m=r.match&&r.match.matchingString;f.useEffect(()=>{u&&h(0)},[m,u]);const p=f.useCallback(v=>{t.update(()=>{const y=r.match!=null&&o?function(x){const b=Qe();if(!Re(b)||!b.isCollapsed())return null;const w=b.anchor;if(w.type!=="text")return null;const _=w.getNode();if(!_.isSimpleText())return null;const C=w.offset,S=_.getTextContent().slice(0,C),k=x.replaceableString.length,E=C-function(N,R,A){let P=A;for(let O=P;O<=R.length;O++)N.slice(-O)===R.substring(0,O)&&(P=O);return P}(S,x.matchingString,k);if(E<0)return null;let M;return E===0?[M]=_.splitText(C):[,M]=_.splitText(E,C),M}(r.match):null;i(v,y,e,r.match?r.match.matchingString:"")})},[t,o,r.match,i,e]),g=f.useCallback(v=>{const y=t.getRootElement();y!==null&&(y.setAttribute("aria-activedescendant","typeahead-item-"+v),h(v))},[t]);return f.useEffect(()=>()=>{const v=t.getRootElement();v!==null&&v.removeAttribute("aria-activedescendant")},[t]),PMt(()=>{s===null?h(null):d===null&&u&&g(0)},[s,d,g,u]),f.useEffect(()=>ld(t.registerCommand(YK,({option:v})=>!(!v.ref||v.ref.current==null)&&(qK(v.ref.current),!0),c)),[t,g,c]),f.useEffect(()=>ld(t.registerCommand(W5e,v=>{const y=v;if(s!==null&&s.length){const x=d===null?0:d!==s.length-1?d+1:0;g(x);const b=s[x];b.ref!=null&&b.ref.current&&t.dispatchCommand(YK,{index:x,option:b}),y.preventDefault(),y.stopImmediatePropagation()}return!0},c),t.registerCommand(H5e,v=>{const y=v;if(s!==null&&s.length){const x=d===null?s.length-1:d!==0?d-1:s.length-1;g(x);const b=s[x];b.ref!=null&&b.ref.current&&qK(b.ref.current),y.preventDefault(),y.stopImmediatePropagation()}return!0},c),t.registerCommand(z5e,v=>{const y=v;return y.preventDefault(),y.stopImmediatePropagation(),e(),!0},c),t.registerCommand(V5e,v=>{const y=v;return s!==null&&d!==null&&s[d]!=null&&(y.preventDefault(),y.stopImmediatePropagation(),p(s[d]),!0)},c),t.registerCommand(Dh,v=>s!==null&&d!==null&&s[d]!=null&&(v!==null&&(v.preventDefault(),v.stopImmediatePropagation()),p(s[d]),!0),c)),[p,e,t,s,d,g,c]),a(n,f.useMemo(()=>({options:s,selectOptionAndCleanUp:p,selectedIndex:d,setHighlightedIndex:h}),[p,d,s]),r.match?r.match.matchingString:"")}function QK(e,t){t!=null&&(e.className=t),e.setAttribute("aria-label","Typeahead menu"),e.setAttribute("role","listbox"),e.style.display="block",e.style.position="absolute"}function DMt({options:e,onQueryChange:t,onSelectOption:n,onOpen:r,onClose:s,menuRenderFn:a,triggerFn:i,anchorClassName:o,commandPriority:c=vCe,parent:u,preselectFirstItem:d=!0,ignoreEntityBoundary:h=!1}){const[m]=ua(),[p,g]=f.useState(null),v=function(b,w,_,C=VT?document.body:void 0,S=!0){const[k]=ua(),E=f.useRef(VT?document.createElement("div"):null),M=f.useCallback(()=>{if(E.current===null||C===void 0)return;E.current.style.top=E.current.style.bottom;const A=k.getRootElement(),P=E.current,O=P.firstChild;if(A!==null&&b!==null){const{left:I,top:L,width:F,height:D}=b.getRect(),B=E.current.offsetHeight;if(P.style.top=`${L+B+3+(S?window.pageYOffset:0)}px`,P.style.left=`${I+window.pageXOffset}px`,P.style.height=`${D}px`,P.style.width=`${F}px`,O!==null){O.style.top=`${L}`;const $=O.getBoundingClientRect(),W=$.height,X=$.width,ee=A.getBoundingClientRect();I+X>ee.right&&(P.style.left=`${ee.right-X+window.pageXOffset}px`),(L+W>window.innerHeight||L+W>ee.bottom)&&L-ee.top>W+D&&(P.style.top=`${L-W-D+(S?window.pageYOffset:0)}px`)}P.isConnected||(QK(P,_),C.append(P)),P.setAttribute("id","typeahead-menu"),E.current=P,A.setAttribute("aria-controls","typeahead-menu")}},[k,b,S,_,C]);f.useEffect(()=>{const A=k.getRootElement();return b!==null&&M(),()=>{A!==null&&A.removeAttribute("aria-controls");const P=E.current;P!==null&&P.isConnected&&(P.remove(),P.removeAttribute("id"))}},[k,M,b]);const N=f.useCallback(A=>{b!==null&&(A||w(null))},[b,w]);OMt(b,E.current,M,N);const R=E.current;return R!=null&&(QK(R,_),C?.append(R)),E}(p,g,o,u),y=f.useCallback(()=>{g(null),s!=null&&p!==null&&s()},[s,p]),x=f.useCallback(b=>{g(b),r!=null&&p===null&&r(b)},[r,p]);return f.useEffect(()=>{const b=m.registerUpdateListener(()=>{m.getEditorState().read(()=>{if(!m.isEditable())return void y();const w=m._window||window,_=w.document.createRange(),C=Qe(),S=function(M){let N=null;return M.getEditorState().read(()=>{const R=Qe();Re(R)&&(N=function(A){const P=A.anchor;if(P.type!=="text")return null;const O=P.getNode();if(!O.isSimpleText())return null;const I=P.offset;return O.getTextContent().slice(0,I)}(R))}),N}(m);if(!Re(C)||!C.isCollapsed()||S===null||_===null)return void y();const k=i(S,m);if(t(k?k.matchingString:null),k!==null&&(h||!function(M,N){return N===0&&M.getEditorState().read(()=>{const R=Qe();if(Re(R)){const A=R.anchor.getNode().getPreviousSibling();return Ye(A)&&A.isTextEntity()}return!1})}(m,k.leadOffset))&&function(N,R,A){const P=Co(A);if(P===null||!P.isCollapsed)return!1;const O=P.anchorNode,I=N,L=P.anchorOffset;if(O==null||L==null)return!1;try{R.setStart(O,I),R.setEnd(O,L)}catch{return!1}return!0}(k.leadOffset,_,w)!==null)return E=()=>x({getRect:()=>_.getBoundingClientRect(),match:k}),void(GK in T?T[GK](E):E());var E;y()})});return()=>{b()}},[m,i,t,p,y,x,h]),f.useEffect(()=>m.registerEditableListener(b=>{b||y()}),[m,y]),p===null||m===null||v.current===null?null:l.jsx(LMt,{close:y,resolution:p,editor:m,anchorElementRef:v,options:e,menuRenderFn:a,shouldSplitNodeWithQuery:!0,onSelectOption:n,commandPriority:c,preselectFirstItem:d})}const vE=245,yE=240,rO=100,sO=["@","/"].join(""),VCe=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`,GCe="[^"+sO+VCe+"\\s]",FMt="(?:\\.[ |$]| |["+VCe+"]|)",qCe=new RegExp("(^|\\s|\\()(["+sO+"]((?:"+GCe+FMt+"){0,"+rO+"}))$"),KCe=new RegExp("(^|\\s|\\()(["+sO+"]((?:"+GCe+"){0,"+rO+"}))$"),UMt=10,BMt={shortcut:5},aO=250,XK={tab:0,file:1,space:2,shortcuts:3};function $Mt(e,t){let n=qCe.exec(e);if(n===null&&(n=KCe.exec(e)),n!==null){const r=n[1],s=n[3];if(s.length>=t)return{leadOffset:n.index+r.length,matchingString:s,replaceableString:n[2]}}return null}class HMt extends IMt{uuid;variant;label;url;src;emoji;queryText;action;convertToNode;isAlwaysVisible;rightElement;className;constructor(t,n,r,s,a,i,o,c,u,d,h,m,p){super(t),this.uuid=n,this.variant=r,this.label=s,this.url=a,this.src=i,this.emoji=o,this.queryText=c,this.action=u,this.convertToNode=d,this.isAlwaysVisible=h,this.rightElement=m,this.className=p}}const YCe=T.memo(({options:e,onOpen:t=Ln,onClose:n=Ln,onTrigger:r=Ln})=>{const{$t:s}=K(),[a]=ua(),[i,o]=f.useState(null),[c,u]=f.useState(!1),d=f.useCallback(()=>u(!0),[]),h=f.useCallback(()=>u(!1),[]),m=f.useCallback(w=>{switch(w){case"tab":return s({defaultMessage:"Tabs",id:"M56d6aRPai"});case"file":return s({defaultMessage:"Files",id:"m4vqJl0/FT"});case"space":return s({defaultMessage:"Spaces",id:"ZMoczsYew9"});case"shortcut":return s({defaultMessage:"Shortcuts",id:"7FAwwkYilD"});default:return w.toLocaleUpperCase()}},[s]);f.useEffect(()=>a.registerRootListener((w,_)=>{w&&(w.addEventListener("focus",d),w.addEventListener("blur",h)),_&&(_.removeEventListener("focus",d),_.removeEventListener("blur",h))}),[a,h,d]);const p=f.useMemo(()=>{const w=i?.toLocaleLowerCase().trim(),_=e.filter(E=>w?E.label.toLowerCase().includes(w)||E.url?.includes(w)||E.isAlwaysVisible:!0).sort((E,M)=>(XK[E.variant]??Number.MAX_SAFE_INTEGER)-(XK[M.variant]??Number.MAX_SAFE_INTEGER));let C="",S=0;const k=[];return _.forEach(E=>{E.variant!==C&&(C=E.variant,S=0);const M=BMt[C]??UMt;S>=M&&!E.isAlwaysVisible||(k.push(E),S+=1)}),k.map(E=>new HMt(E.uuid,E.uuid,E.variant,E.label,E.url,E.src,E.emoji,E.queryText,E.action,E.convertToNode,E.isAlwaysVisible,E.rightElement,E.className))},[i,e]),g=f.useCallback(w=>{o(w)},[]),v=f.useCallback(w=>{const _=$Mt(w,0);return _?.replaceableString&&r(_.replaceableString[0]),_},[r]),y=f.useCallback((w,_,C,S)=>{let k="";const E=[];return w.forEach((M,N)=>{M.variant!==k&&(k=M.variant,E.push({type:"separator",show:!0,text:m(k)})),E.push({type:"default",text:M.label,className:M.className,focused:N===_,customTextNode:l.jsx(j,{variant:"small",children:l.jsx(iO,{text:M.label,src:M.src,emoji:M.emoji,mentionVariant:M.variant,truncate:"small",variant:"extraSmall",iconClassName:"mx-1 relative top-[-1.25px] h-4 w-4",emojiClassName:"mx-1 pl-[2px] align-middle shrink-0"})}),tooltipText:jx(M.queryText??"",aO),onMouseMove:()=>{S(N)},onMouseDown:R=>{R.preventDefault(),S(N),C(M)},rightElement:M.rightElement?.({focused:N===_}),preserveRightElementSpace:!M.rightElement})}),E},[m]),x=f.useCallback((w,_,C)=>{if(w.action&&(setTimeout(()=>{w.action?.()},0),w.convertToNode===!1)){C();return}a.update(()=>{const S=oO({uuid:w.uuid,variant:w.variant,text:w.label,url:w.url,src:w.src,emoji:w.emoji,queryText:w.queryText});_&&_.replace(S);const k=tr(" ");S.insertAfter(k),k.selectEnd(),C()})},[a]),b=f.useCallback((w,{selectedIndex:_,selectOptionAndCleanUp:C,setHighlightedIndex:S})=>{const k=()=>{if(!w.current)return{isTop:!1,leftOffset:0};const N=w.current.getBoundingClientRect(),A=window.innerHeight-N.bottom<vE&&N.top>vE;let P=0;const O=N.left+yE;return O>window.innerWidth&&(P=window.innerWidth-O-16),N.left+P<16&&(P=16-N.left),{isTop:A,leftOffset:P}},{isTop:E,leftOffset:M}=k();return w.current&&p.length?as.createPortal(l.jsx(hA,{removeScrollBar:!1,enabled:!0,children:l.jsx(H,{variant:DJ.background,className:"shadow-overlay dark:shadow-overlayDark p-xs scrollable-container scrollbar overflow-y-auto overflow-x-hidden rounded-xl [scrollbar-gutter:stable]",style:{width:yE,minWidth:yE,maxHeight:vE,...E&&{bottom:"48px",position:"absolute"},...M!==0&&{left:`${M}px`,position:"absolute"}},children:l.jsx(gh,{items:y(p,_??-1,C,S),disableScrollArea:!0,disableHoverStyles:!0})})}),w.current):null},[p,y]);return c?l.jsx(DMt,{onQueryChange:g,onSelectOption:x,triggerFn:v,preselectFirstItem:!0,onOpen:t,onClose:n,options:p,menuRenderFn:b}):null});YCe.displayName="MentionsPlugin";const WMt=Object.freeze(Object.defineProperty({__proto__:null,AtSignMentionsRegex:qCe,AtSignMentionsRegexAliasRegex:KCe,LENGTH_LIMIT:rO,TOOLTIP_MAX_NUM_CHARACTERS:aO,default:YCe},Symbol.toStringTag,{value:"Module"})),iO=T.memo(({className:e,textClassName:t,iconClassName:n,emojiClassName:r,text:s,src:a,color:i,truncate:o,variant:c,emoji:u,mentionVariant:d,tooltipText:h})=>{const m=f.useMemo(()=>{let p;try{p=u?String.fromCodePoint(parseInt(u,16)):null}catch{p=null}return d==="space"?p?l.jsx("span",{className:U("inline-block select-none",r),children:p}):l.jsx(_e,{icon:_l,className:U("text-subtle inline-block shrink-0 rounded-sm",n)}):a?l.jsx("i",{className:U("inline-block shrink-0 select-none rounded-sm bg-cover bg-center bg-no-repeat",n),style:{backgroundImage:`url(${a})`,fontSize:"0.78rem"}}):null},[n,r,d,a,u]);return l.jsx(Dn,{tooltipText:h,showTooltip:!!h,children:l.jsxs("span",{className:U("inline-flex min-w-0 items-center align-top",{"max-w-[208px]":o==="small","max-w-[250px]":o==="large"},e),spellCheck:!1,children:[m,l.jsx(j,{className:U("inline-block min-w-0 truncate",t),color:i,as:"span",variant:c,children:s})]})})});iO.displayName="MentionNodeTextContent";const QCe=T.memo(e=>l.jsx(iO,{...e,className:"px-sm border-offsetPlus bg-offset dark:bg-background rounded-md border-[0.2px]",textClassName:"leading-[1.3]",iconClassName:"mr-1 h-[0.88rem] w-[0.88rem]",emojiClassName:"mr-1 text-[0.80rem]",truncate:"large"}));QCe.displayName="MentionNodeDecorator";function zMt(e){const t=e.textContent,n=e.getAttribute("data-mention-uuid"),r=e.getAttribute("data-mention-variant"),s=e.getAttribute("data-mention-url")??void 0,a=e.getAttribute("data-mention-src")??void 0,i=e.getAttribute("data-mention-emoji")??void 0,o=e.getAttribute("data-mention-query-text")??void 0;return t!==null&&n!==null&&r!==null?{node:oO({uuid:n,variant:r,text:t,url:s,src:a,emoji:i,queryText:o})}:null}class Z_ extends hCe{__props;static getType(){return"mention"}static clone(t){return new Z_(t.__props,t.__key)}static importJSON(t){return oO(t.props).updateFromJSON(t)}constructor(t,n){super(n),this.__props=t}exportJSON(){return{...super.exportJSON(),props:this.__props}}createDOM(){return document.createElement("span")}isIsolated(){return!0}updateDOM(){return!1}decorate(){return l.jsx(QCe,{text:this.__props.text,src:this.__props.src,emoji:this.__props.emoji,mentionVariant:this.__props.variant,tooltipText:jx(this.__props.queryText??"",aO)})}getTextContent(){switch(this.__props.variant){case"space":return"";default:return this.__props.url??this.__props.text}}exportDOM(){const t=document.createElement("span");return t.setAttribute("data-mention-uuid",this.__props.uuid),t.setAttribute("data-mention-variant",this.__props.variant),t.setAttribute("data-mention-url",this.__props.url??""),t.setAttribute("data-mention-src",this.__props.src??""),t.setAttribute("data-mention-emoji",this.__props.emoji??""),t.textContent=this.__props.text,{element:t}}static importDOM(){return{span:t=>!t.hasAttribute("data-mention-uuid")||!t.hasAttribute("data-mention-variant")?null:{conversion:zMt,priority:4}}}}function oO(e){return Pd(new Z_(e))}const nr={input:["overflow-auto","max-h-[45vh]","lg:max-h-[40vh]","sm:max-h-[25vh]","outline-none","font-sans","resize-none","caret-super","selection:bg-super/30","selection:text-textMain","dark:selection:bg-super/10","dark:selection:text-super","dark:bg-offsetDark","dark:text-textMainDark","bg-background-50","text-textMain","dark:placeholder-textOff","placeholder-textOff","placeholder:select-none","scrollbar-thumb-idle","dark:scrollbar-thumb-idleDark","scrollbar-thin","scrollbar-track-transparent"],wrapper:{base:["bg-background-50","w-full","outline-none","focus:outline-none","focus:ring-borderMain","flex","items-center","placeholder-textOff","border","focus:ring-1","rounded-2xl"],expanded:["col-start-1","col-end-4","pb-3"],compact:["flex-grow","flex-shrink","p-sm","order-1"],disabled:"opacity-50 pointer-events-none cursor-not-allowed",darkMode:"dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff",transition:"duration-75 transition-all"},container:{base:"overflow-hidden relative flex h-full w-full"},attribution:{left:{base:["bg-background-50","dark:bg-offsetDark","gap-sm","flex","rounded-l-lg"],expanded:"col-start-1 row-start-2 -ml-two",compact:"order-0 ml-px"},right:{base:["bg-background-50","dark:bg-offsetDark","flex","items-center","justify-self-end","rounded-full"],expanded:"col-start-3 row-start-2",compact:"order-2 mr-px"}},placeholder:{base:["absolute","inset-0","pointer-events-none","dark:text-textOff","select-none","text-textOff"],compact:"p-sm"}},VMt=({isActive:e,shouldAcceptClarification:t})=>e?t?"border-super dark:border-super/85":"border-borderMainDark/30 dark:border-textMain/15":t?"border-super dark:border-super/85":"border-borderMain dark:border-textMain/10",GMt=({hasShadow:e,hasQuote:t})=>e&&!t?"shadow-sm dark:shadow-md shadow-textMain/5 dark:shadow-black/10":"",qMt=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>YIt),void 0)).ClearEditorPlugin})),KMt=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>rOt),void 0)).HistoryPlugin})),YMt=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>iOt),void 0)).OnChangePlugin})),QMt=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>lOt),void 0)).EditorRefPlugin})),XMt=Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>WMt),void 0)).default})),ZMt=Ee(async()=>({default:(await he(()=>import("./AutoLinkPlugin-DusqqRBu.js"),__vite__mapDeps([70,1]))).default})),JMt=Ee(async()=>({default:(await he(()=>import("./LinkPlugin-BaAVhsFl.js"),__vite__mapDeps([71,1]))).default}));function e8t(e,t){switch(t.type){case"SET_EXPANDED":return{...e,isExpanded:t.payload};case"SET_ACTIVE":return{...e,isActive:t.payload};case"SET_COMPOSING":return{...e,isComposing:t.payload};default:return e}}const uv=f.createContext({state:{isExpanded:!0,isActive:!1,isComposing:!1},dispatch:()=>{}}),XCe=(e,t,n,r,s)=>{f.useEffect(()=>{const a=n?15:40;e&&e.length>a||e?.includes(`
`)?s(!0):r!==(t==="expanded")&&s(t==="expanded")},[e,t,n,r,s])},ZCe=T.memo(({initialLayout:e="expanded",wrapperClass:t,size:n,hasShadow:r,shouldAcceptClarification:s,quote:a,setQuote:i,attachmentsList:o,inputWarnings:c,children:u,inputRef:d})=>{const[h,m]=f.useReducer(e8t,{isExpanded:e==="expanded",isActive:!1,isComposing:!1}),{isActive:p,isExpanded:g}=h,v=f.useMemo(()=>{const w=VMt({isActive:p,shouldAcceptClarification:s}),_=GMt({hasShadow:r,hasQuote:!!a});return U(...nr.wrapper.base,nr.wrapper.darkMode,nr.wrapper.transition,t,w,_,{"px-0 pt-3 pb-3":n==="large"&&g,"py-sm px-0":n==="large"&&!g})},[p,s,t,r,a,n,g]),y=f.useCallback(()=>d?.current?.focus(),[d]),x=f.useCallback(w=>{const _=w.target,C=d?.current?.element();C&&_!==C&&!C.contains(_)&&w.preventDefault()},[d]),b=f.useCallback(()=>i?.(null),[i]);return l.jsx(uv.Provider,{value:{state:h,dispatch:m},children:l.jsx("div",{className:"rounded-2xl",onClick:y,onMouseDownCapture:x,children:l.jsxs("div",{className:U(v,"gap-y-md grid items-center"),children:[(c||a||o)&&l.jsxs("div",{className:U({"pt-xs":!g},"gap-y-sm grid items-center"),children:[c,a&&l.jsx(zCe,{quote:a,onClear:b}),o]}),l.jsx("div",{className:U({"px-3":n==="large"&&!g,"px-3.5":n==="large"&&g,flex:!g,"grid-rows-1fr-auto grid grid-cols-3":g}),children:u})]})})})});ZCe.displayName="ResizeableInputWrapper";const t8t=T.forwardRef(({autoFocus:e=!1,placeholder:t="",disabled:n=!1,disabledInput:r=!1,value:s,initialLayout:a="expanded",minRows:i,maxRows:o,onChange:c,onClick:u,onBlur:d,onFocus:h,onKeyDown:m,onPaste:p,isMobileStyle:g,isMobileUserAgent:v,testId:y,id:x},b)=>{const{state:w,dispatch:_}=f.useContext(uv),{isActive:C,isComposing:S,isExpanded:k}=w,E=f.useRef(C);E.current=C;const M=om(n),N=f.useRef(null),R=f.useMemo(()=>U(nr.container.base,{[nr.wrapper.expanded.join(" ")]:k,[nr.wrapper.compact.join(" ")]:!k,[nr.wrapper.disabled]:r}),[r,k]),A=f.useMemo(()=>U(...nr.input,"w-full"),[]),P=f.useCallback(V=>{_({type:"SET_EXPANDED",payload:V})},[_]),O=f.useCallback(V=>{_({type:"SET_ACTIVE",payload:V})},[_]),I=f.useCallback(V=>{_({type:"SET_COMPOSING",payload:V})},[_]),L=f.useCallback(V=>{h?.(V.nativeEvent),O(!0)},[h,O]),F=f.useCallback(V=>{d?.(V.nativeEvent)!==!1&&O(!1)},[d,O]),D=f.useCallback(()=>{if(N.current){const V=N.current.value.length;N.current.focus(),N.current.setSelectionRange(V,V),N.current.scrollTop=N.current.scrollHeight}},[]),B=f.useCallback(V=>{u?.(V.nativeEvent)},[u]),$=f.useCallback(V=>{Xg(V.nativeEvent,{isMobileUserAgent:v,isComposing:S,onKeyDown:m})},[m,S,v]),W=f.useCallback(()=>yA(I),[I]),X=f.useCallback(()=>xA(I),[I]),ee=f.useCallback(V=>{p?.(V.nativeEvent)},[p]),ne=f.useCallback(V=>{c?.(V.target.value)},[c]);return f.useImperativeHandle(b,()=>{const V=N.current;return V.focusAtEnd=D,V.isFocused=()=>E.current,V.append=q=>{N.current&&(N.current.value+=q)},V.scrollToEnd=()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},V.trim=()=>{N.current&&(N.current.value=N.current.value.trim())},V.element=()=>N.current,V},[D]),f.useEffect(()=>{!v&&N.current&&e&&(D(),O(!0))},[v,N,e,O,D]),f.useEffect(()=>{M!==n&&!n&&!v&&e&&setTimeout(()=>{N.current?.focus()},200)}),XCe(s,a,g,k,P),l.jsx("div",{className:R,children:l.jsx(wse,{ref:N,placeholder:t,minRows:i,maxRows:o,value:s,onClick:B,onChange:ne,onKeyDown:$,onBlur:F,onCompositionStart:W,onCompositionEnd:X,onFocus:L,onPaste:ee,className:A,autoComplete:"off","data-test-id":y,rows:i,id:x,disabled:r,"data-1p-ignore":!0})})}),GT="external-update",qT="focus",n8t="blur",r8t=new Set([GT,qT,n8t]),s8t=T.forwardRef(({autoFocus:e=!1,placeholder:t="",disabled:n=!1,value:r,initialLayout:s="expanded",json:a,minRows:i,onChange:o,onClick:c,onBlur:u,onFocus:d,onKeyDown:h,onPaste:m,isMobileStyle:p,isMobileUserAgent:g,testId:v,id:y,namespace:x="ResizableLexicalInput",mentionTypeaheadOptions:b=je,onMentionMenuOpen:w,onMentionMenuClose:_,onTriggerTypeahead:C},S)=>{const k=f.useRef(null),[E,M]=f.useState(null),{state:N,dispatch:R}=f.useContext(uv),{isActive:A,isComposing:P,isExpanded:O}=N,I=f.useRef(P),L=f.useRef(A),F=f.useRef(""),D=f.useRef(null),B=f.useRef(!1),$=f.useRef(e);I.current=P,L.current=A,$.current=e;const W=om(n),X=f.useMemo(()=>U(nr.container.base,{[nr.wrapper.expanded.join(" ")]:O,[nr.wrapper.compact.join(" ")]:!O}),[O]),ee=f.useMemo(()=>U(...nr.input,"size-full"),[]),ne=f.useMemo(()=>U(...nr.placeholder.base,{[nr.placeholder.compact]:!O}),[O]),V=f.useCallback(we=>R({type:"SET_EXPANDED",payload:we}),[R]),q=f.useCallback(we=>R({type:"SET_ACTIVE",payload:we}),[R]),z=f.useCallback(we=>R({type:"SET_COMPOSING",payload:we}),[R]),te=f.useCallback(we=>{Q.error(we)},[]),Y=f.useCallback(we=>{d?.(we),q(!0)},[d,q]),Z=f.useCallback(we=>{u?.(we)!==!1&&q(!1)},[u,q]),re=f.useCallback(we=>{m?.(we)},[m]),G=f.useCallback(we=>{c?.(we)},[c]),oe=f.useCallback((we,Je,Te)=>{const pe=[...Te];let Fe;if(pe.length>0&&pe.every(ht=>r8t.has(ht)))if(pe.includes(qT)){if(Fe=we.read(()=>ln().getTextContent()),Fe===F.current)return}else return;Fe===void 0&&(Fe=we.read(()=>ln().getTextContent())),F.current=Fe,D.current=we.toJSON(),o?.(F.current,D.current)},[o]),ae=f.useCallback(()=>z(!0),[z]),ie=f.useCallback(()=>z(!1),[z]),xe=f.useCallback(we=>{Xg(we,{isMobileUserAgent:g,isComposing:I.current,onKeyDown:h})},[h,g]),de=f.useCallback(()=>E?.update(()=>{UT(qT),ln().selectEnd()}),[E]),Se=f.useCallback(we=>E?.update(()=>{const Je=ln(),Te=tr(we),pe=Je.getLastChild();if(FT(pe))pe.append(Te);else throw new Error("Last child is not a paragraph node");Je.selectEnd()}),[E]),qe=f.useCallback(()=>E?.update(()=>{const we=ln(),Je=we.getLastChild();if(FT(Je)){const Te=Je.getLastChild();Ye(Te)&&(Te.getTextContent().trimEnd()===""?Te.remove():Te.setTextContent(Te.getTextContent().trimEnd()));const pe=Je.getFirstChild();Ye(pe)&&(pe.getTextContent().trimStart()===""?pe.remove():pe.setTextContent(pe.getTextContent().trimStart()))}else throw new Error("Last child is not a paragraph node");we.selectEnd()}),[E]),be=f.useCallback(()=>E?.read(()=>ln().getTextContent())??"",[E]),ve=f.useCallback(()=>{B.current=!0,w?.()},[w]),Be=f.useCallback(()=>{B.current=!1,_?.()},[_]),We=f.useCallback(we=>{E||G(we.nativeEvent)},[E,G]);f.useImperativeHandle(S,()=>({append:Se,trim:qe,focusAtEnd:de,isFocused:()=>L.current,focus:()=>E?.focus(),blur:()=>E?.blur(),scrollIntoView:we=>E?.getRootElement()?.scrollIntoView(we),scrollToEnd:()=>E?.getRootElement()?.scrollIntoView({block:"end",behavior:"auto"}),element:()=>k?.current,get scrollHeight(){return E?.getRootElement()?.scrollHeight??0},get value(){return be()},set value(we){throw new Error("setValue is not supported in Lexical")},get json(){return E?.getEditorState().toJSON()}}),[Se,de,be,qe,E]),XCe(r,s,p,O,V),f.useEffect(()=>{!g&&E&&e&&(de(),q(!0))},[g,e,q,E,de]),f.useEffect(()=>{W!==n&&!n&&!g&&e&&setTimeout(()=>{de()},200)}),f.useEffect(()=>E?.registerRootListener((we,Je)=>{we&&(we.addEventListener("focus",Y),we.addEventListener("blur",Z),we.addEventListener("compositionstart",ae),we.addEventListener("compositionend",ie),we.addEventListener("keydown",xe),we.addEventListener("paste",re),we.addEventListener("click",G)),Je&&(Je.removeEventListener("focus",Y),Je.removeEventListener("blur",Z),Je.removeEventListener("compositionstart",ae),Je.removeEventListener("compositionend",ie),Je.removeEventListener("keydown",xe),Je.removeEventListener("paste",re),Je.removeEventListener("click",G))}),[Z,G,ie,Y,xe,re,ae,E]),f.useEffect(()=>{E&&(r&&a&&!Pf(a,D.current)?Promise.resolve().then(()=>{E.setEditorState(E.parseEditorState(a),{tag:GT}),$.current&&de(),F.current=E.read(()=>ln().getTextContent()),D.current=E.getEditorState().toJSON()}):F.current!==r&&(E.update(()=>{UT(GT);const we=ln(),Je=tr(r),Te=la();Te.append(Je),we.clear().append(Te),$.current&&we.selectEnd()},{discrete:!0}),F.current=E.read(()=>ln().getTextContent()),D.current=E.getEditorState().toJSON()))},[r,a,be,E,de]),f.useEffect(()=>{const we=E?.registerCommand(fo,tt=>{const st=Qe(),dt=st?.getNodes();return dt?.length===1&&rn(dt[0])?(dt[0].remove(),!0):Re(st)?(st.deleteCharacter(tt),!0):uc(st)?(st.deleteNodes(),!0):!1},Oo),Je=E?.registerCommand(Oh,tt=>{const st=Qe();return Re(st)?(st.deleteWord(tt),!0):!1},Oo),Te=E?.registerCommand(Lh,tt=>{const st=Qe();return Re(st)?(st.deleteLine(tt),!0):!1},Oo),pe=E?.registerCommand(Bb,()=>{const tt=Qe();return Re(tt)?(tt.removeText(),!0):!1},Oo),Fe=E?.registerCommand(Tu,tt=>{const st=Qe();if(typeof tt=="string")st!==null&&st.insertText(tt);else{if(st===null)return!1;const dt=tt.dataTransfer;if(dt!=null)DK(dt,st,E);else if(Re(st)){const $t=tt.data;return $t&&st.insertText($t),!0}}return!0},Oo),ht=E?.registerCommand($_,tt=>{if("clipboardData"in tt){const dt=tt.clipboardData?.getData("text/plain");if(dt&&dt.length>qo)return tt.preventDefault(),re(tt),!0}const st=Qe();return Re(st)?(tt.preventDefault(),E.update(()=>{const dt=Qe(),$t=qb(tt,InputEvent)||qb(tt,KeyboardEvent)?null:"clipboardData"in tt?tt.clipboardData:null;$t!=null&&dt!==null&&DK($t,dt,E)},{tag:gCe}),!0):!1},Oo),Pt=E?.registerCommand(AI,tt=>{const st=Uh(tt.target);if(rn(st))return!1;const dt=Qe();if(Re(dt)){const{anchor:$t}=dt,wn=$t.getNode();if(dt.isCollapsed()&&$t.offset===0&&!$r(wn)&&eMt(wn).getIndent()>0)return tt.preventDefault(),E.dispatchCommand(HEt,void 0);if(Zkt&&navigator.language==="ko-KR")return!1}else if(!uc(dt))return!1;return tt.preventDefault(),E.dispatchCommand(fo,!0)},Oo),Ft=E?.registerCommand(jI,tt=>{const st=Uh(tt.target);if(rn(st))return!1;const dt=Qe();return Re(dt)||uc(dt)?(tt.preventDefault(),E.dispatchCommand(fo,!1)):!1},Oo);return E?.registerNodeTransform(Ad,tt=>{tt.getFormat()!==0&&tt.setFormat(0)}),E?.registerNodeTransform(Em,tt=>{if(tt.getChildrenSize()>1){const st=tt.getChildren(),dt=la();st.forEach($t=>{Ce($t)&&(dt.getChildren().length&&dt.append(kc()),$t.getChildren().forEach(wn=>{(Ye(wn)||rn(wn)||eh(wn)||Bo(wn))&&dt.append(wn)}))}),tt.clear().append(dt).selectEnd()}}),E?.registerNodeTransform(km,tt=>{const st=tt.getParent();st instanceof B0&&(tt.getChildren().forEach($t=>{st.append($t)}),tt.remove())}),()=>{we?.(),Je?.(),Te?.(),pe?.(),Fe?.(),ht?.(),Pt?.(),Ft?.()}},[E,re]),f.useEffect(()=>{const we=E?.registerCommand(Dh,Je=>B.current||!Je?!1:(Xg(Je,{isMobileUserAgent:g,isComposing:I.current,onKeyDown:h}),Je.defaultPrevented),Oo);return()=>{we?.()}},[E,g,h]);const Le=f.useMemo(()=>({namespace:x,onError:te,nodes:[Z_,nO,B0],theme:{link:"text-super hover:underline"}}),[x,te]),De=f.useMemo(()=>({minHeight:`${(i??1)*1.5}em`}),[i]),Ve=f.useMemo(()=>l.jsx("div",{className:ne,children:t}),[t,ne]),le=f.useMemo(()=>l.jsx(yMt,{className:ee,"aria-placeholder":t,placeholder:Ve,"data-test-id":v,id:y}),[y,t,Ve,ee,v]);return f.useMemo(()=>l.jsx("div",{className:X,children:l.jsx("div",{className:"w-full",style:De,ref:k,onClick:We,children:l.jsxs(fMt,{initialConfig:Le,children:[l.jsx(AMt,{contentEditable:le,ErrorBoundary:La}),l.jsx(KMt,{}),l.jsx(qMt,{}),l.jsx(YMt,{onChange:oe,ignoreSelectionChange:!0}),l.jsx(QMt,{editorRef:M}),l.jsx(XMt,{onClose:Be,onOpen:ve,options:b,onTrigger:C}),l.jsx(ZMt,{}),l.jsx(JMt,{}),l.jsx(uMt,{})]})})}),[De,We,Le,le,oe,Be,ve,b,C,X])}),a8t=T.forwardRef((e,t)=>{const n=e.useLexical?s8t:t8t;return l.jsx(n,{...e,ref:t})}),JCe=T.memo(({children:e})=>{const{state:t}=f.useContext(uv),{isExpanded:n}=t;return e!=null?l.jsx("div",{className:U(...nr.attribution.left.base,{[nr.attribution.left.expanded]:n,[nr.attribution.left.compact]:!n}),children:e}):null});JCe.displayName="LeftAttribution";const eSe=T.memo(({isLoading:e,children:t})=>{const{state:n}=f.useContext(uv),{isExpanded:r}=n;return l.jsxs("div",{className:U(...nr.attribution.right.base,{[nr.attribution.right.expanded]:r,[nr.attribution.right.compact]:!r}),children:[e?l.jsx(j,{color:"light",className:"mr-3",children:l.jsx(_e,{icon:See,size:"xs",className:"animate-spin"})}):null,t]})});eSe.displayName="RightAttribution";const tSe=T.memo(({value:e,suggestDropdownProps:t,ResizeableInputWrapperProps:n,ResizeableInputProps:r,leftAttributionComponents:s,rightAttributionComponents:a})=>{const i=r.onChange,o=r.ref,c=f.useRef(null),u=f.useRef(e);u.current=e;const d=f.useCallback(h=>{c.current=h,o instanceof Function?o(h):o&&(o.current=h)},[o]);return f.useEffect(()=>{c.current?.value&&c.current?.value!==u.current&&i?.(c.current?.value)},[i]),B3("ask-input"),l.jsx(x1,{...t,value:e,children:l.jsxs(ZCe,{...n,children:[l.jsx(a8t,{...r,ref:d}),s,a]})})});tSe.displayName="AskInputBase";const i8t=({showIncognitoHint:e,showSearchModeSelector:t=!0,isFollowUp:n,layoutKey:r})=>{const s="ask-input-left-attributions",{$t:a}=K(),{isMacOS:i}=Nt(),o=ha({reason:s});return l.jsx(JCe,{children:l.jsx(dd,{children:l.jsx("div",{className:U("gap-xs flex items-center"),children:l.jsxs(wt,{initial:!1,mode:"popLayout",children:[o&&e&&l.jsx(ke.div,{className:"mr-xs flex shrink-0 items-center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},children:l.jsx(Dn,{className:"max-w-[280px]",tooltipText:a({defaultMessage:"Create anonymous threads that don't appear in your library and expire after 24 hours.",id:"BBjMWPmxC0"}),keyboardShortcut:i?["⌘",";"]:["ctrl",";"],asChild:!0,children:l.jsx("span",{children:l.jsx(fm,{size:"small",inverse:!0})})})}),t&&l.jsx(I_,{isFollowUp:n,layoutKey:r})]})})})})},nSe=T.memo(i8t);nSe.displayName="AskInputLeftAttribution";const rSe=T.memo(({toolTip:e,icon:t,isDisabled:n,value:r,querySource:s,size:a=Mt.small,handleSubmit:i,...o})=>l.jsx(ye,{...o,ariaLabel:"Submit",toolTip:e,icon:t,variant:"primary",size:a,onClick:n?void 0:()=>i({query:r,querySource:s}),disabled:n,extraCSS:"!duration-100"}));rSe.displayName="SubmitButton";const o8t=({selectedModel:e,onModelChange:t}={})=>{const n="search-model-selector",{isMobileStyle:r}=Oe(),{$t:s}=K(),{onActiveMenuChange:a}=hi(),{activeMenu:i}=Ms(),o=ma(),{configuredModel:c}=Qn(),u=T_(),d=e||c,{isMax:h}=At(),m=o===ue.SEARCH,p=[ge.DEFAULT,ge.PRO,ge.ALPHA,ge.BETA].includes(d),v=!!An()?.get("openSearchModeSelector");f.useEffect(()=>{v&&a(br.SEARCH_MODEL_SELECTOR)},[v,a]);const y=f.useCallback(C=>{u(C,o)},[u,o]),{menuItems:x}=f4e({reason:n,selectedSearchMode:o,currentModel:d,onModelSelect:t||y}),b=f.useCallback(()=>{a(br.SEARCH_MODEL_SELECTOR)},[a]),w=f.useCallback(()=>{a(null)},[a]),_=f.useMemo(()=>({className:U("max-h-[40vh]",{"max-super-override":h})}),[h]);return l.jsx(wt,{initial:!1,mode:"popLayout",children:m&&l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"linear"},children:l.jsx(bn,{placement:"bottom-end",boxProps:_,items:x,isMobileStyle:r,isOpen:i===br.SEARCH_MODEL_SELECTOR,onOpen:b,onClose:w,children:l.jsx(ze,{extraCSS:"max-w-24 sm:max-w-none",icon:$N,size:"small",textClassName:"text-[0.8125rem]",toolTip:s(p?{defaultMessage:"Choose a model",id:"fXlc3idTcy"}:va[d].name),variant:p?"common":"super"})})},"search-model-selector")})},sSe=T.memo(o8t);sSe.displayName="SearchModelSelector";const aSe=T.memo(({isTranscribing:e,isInitializing:t,startTranscription:n,stopTranscription:r,variant:s="primary"})=>{const{$t:a}=K(),[i,o]=f.useState(t),c=()=>{o(!0),n?.()},u=()=>{o(!1),r?.()};return f.useEffect(()=>{e&&o(!1)},[e]),l.jsx(l.Fragment,{children:s==="primary"?l.jsxs("div",{className:"relative ml-2",children:[e&&l.jsx("div",{className:"bg-super/20 absolute inset-[10%] animate-[ping_1.5s_cubic-bezier(0,0,0.2,1)_infinite] rounded-full"}),l.jsx(ye,{toolTip:a(e?{defaultMessage:"Stop Dictation",id:"RR4fO5+xkb"}:{defaultMessage:"Dictation",id:"0eNg7Kdki1"}),ariaLabel:"Dictation",isLoading:t||i,icon:e?mx:QF,variant:"primary",onClick:e?u:c,disabled:!1,size:Mt.small})]}):l.jsxs("div",{className:"relative",children:[e&&l.jsx("div",{className:"bg-super/20 absolute inset-[10%] animate-[ping_1.5s_cubic-bezier(0,0,0.2,1)_infinite] rounded-full"}),l.jsx(ze,{toolTip:a(e?{defaultMessage:"Stop Dictation",id:"RR4fO5+xkb"}:{defaultMessage:"Dictation",id:"0eNg7Kdki1"}),ariaLabel:"Dictation",isLoading:t||i,icon:e?mx:QF,variant:"common",onClick:e?u:c,disabled:!1,size:Mt.small})]})})});aSe.displayName="DictationButton";const l8t={hidden(){return{opacity:0,scale:.2}},visible(){return{opacity:1,scale:1}}},iSe=T.memo(({onStopButtonClick:e,variant:t="inverted"})=>{const{$t:n}=K();return l.jsx(ke.div,{animate:"visible",exit:"hidden",initial:"hidden",variants:l8t,children:l.jsx(ye,{testId:"stop-generating-response-button",toolTip:n({defaultMessage:"Stop generating response",id:"wXXKXUJh1s"}),variant:t,icon:mx,onClick:e,size:"small",extraCSS:"text-caution hover:!bg-caution hover:!text-white ml-2"})},"stop-button")});iSe.displayName="StopButton";function c8t(){const{value:e,loading:t}=Rr({flag:"comet-sidecar-v2v-enabled",subjectType:"visitor_id",defaultValue:!1});return f.useMemo(()=>({value:e,loading:t}),[e,t])}function u8t(){const{value:e}=Rr({flag:"enable-clarifying-questions",subjectType:"user_nextauth_id",defaultValue:!1});return e}const d8t=$n({path:"M0 12.6663C0 13.4018 0.59792 13.9997 1.33333 13.9997C2.06875 13.9997 2.66667 13.4018 2.66667 12.6663V11.333C2.66667 10.5975 2.06875 9.99967 1.33333 9.99967C0.59792 9.99967 0 10.5975 0 11.333V12.6663ZM6.66667 5.33301C7.40213 5.33301 8 5.93087 8 6.66634V17.333C8 18.0685 7.40213 18.6663 6.66667 18.6663C5.9312 18.6663 5.33333 18.0685 5.33333 17.333V6.66634C5.33333 5.93087 5.9312 5.33301 6.66667 5.33301ZM10.6667 21.333C10.6667 22.0685 11.2645 22.6663 12 22.6663C12.7355 22.6663 13.3333 22.0685 13.3333 21.333V2.66634C13.3333 1.93093 12.7355 1.33301 12 1.33301C11.2645 1.33301 10.6667 1.93093 10.6667 2.66634V21.333ZM17.3333 5.33301C18.0688 5.33301 18.6667 5.93087 18.6667 6.66634V17.333C18.6667 18.0685 18.0688 18.6663 17.3333 18.6663C16.5979 18.6663 16 18.0685 16 17.333V6.66634C16 5.93087 16.5979 5.33301 17.3333 5.33301ZM24 11.333C24 10.5975 23.4021 9.99967 22.6667 9.99967C21.9312 9.99967 21.3333 10.5975 21.3333 11.333V12.6663C21.3333 13.4018 21.9312 13.9997 22.6667 13.9997C23.4021 13.9997 24 13.4018 24 12.6663V11.333Z",name:"IconPerplexityV2V",variant:"filled"}),oSe=T.memo(()=>{const{openModal:e}=St(),t=ut(),n=f.useCallback(()=>{t?e("voiceToVoiceModal",null):e("loginModal",{origin:rt.VOICE_TO_VOICE_BUTTON,pitchMessage:{title:"Sign in to unlock voice mode"}})},[t,e]);return l.jsx("div",{className:"ml-2",children:l.jsx(ye,{onClick:n,size:Mt.small,icon:d8t,variant:"primary",disabled:!1,toolTip:"Voice mode"})})});oSe.displayName="VoiceToVoiceButton";const lSe=({reason:e})=>{const{connectors:t}=Da({reason:e}),{connectorsMap:n}=O_({reason:e}),r=f.useMemo(()=>(t?.connectors??[]).filter(a=>(a.name==="google_drive"||a.name==="onedrive"||a.name==="sharepoint"||a.name==="dropbox"||a.name==="box")&&n[a.name]&&!n[a.name].connected),[n,t]),s=f.useMemo(()=>(t?.connectors??[]).filter(a=>n[a.name]&&!n[a.name].connected),[n,t]);return f.useMemo(()=>({disabledFileConnectors:r,disabledConnectors:s}),[s,r])},cSe=({reason:e})=>{const t=An(),n=t?.get("referrer"),r=t?.get("referrerId"),{$t:s}=K(),{openToast:a}=Yn(),i=f.useCallback(async({connectorName:o,redirectPath:c,customReferrer:u,customReferrerId:d,unauthedRedirectPath:h})=>{const m=await XQe({name:o,referrer:u??n??void 0,referrerId:d??r??void 0,redirectPath:c??void 0,unauthedRedirectPath:h??void 0,reason:e});if(!m){a(s({defaultMessage:"Unable to start connection.",id:"SPIzcd/Xa2"}),"error",3);return}oo(m,"File connector")},[e,n,r,s,a]);return f.useMemo(()=>({handleConnect:i}),[i])},f8t=({mode:e})=>{const t=Lt(),n=Cl(),{currentOpenedModal:r}=St(),s=f.useMemo(()=>t?.startsWith("/collections")?r==="uploadFilesModal"?"space_sources":"space":t?.startsWith("/search")?"thread":t?.startsWith("/settings")?null:"ask",[t,r]),a=f.useMemo(()=>n===null?null:t?.startsWith("/collections")?n.slug?typeof n.slug=="string"?n.slug:n.slug[0]:null:t?.startsWith("/search")?t.split("/").pop()??null:t?.startsWith("/settings")?null:e??null,[t,n,e]),i=hm(),o=f.useMemo(()=>{const c=`${i}/connectors`,u=new URLSearchParams;if(s){const d=Array.isArray(a)?a[0]:a;u.append("referrer",s),d&&u.append("referrerId",d)}return c+"?"+u.toString()},[s,a,i]);return f.useMemo(()=>({referrer:s,referrerId:a,redirectPath:o}),[o,s,a])},uSe=T.memo(({isOpen:e,onClose:t,cleanupPicker:n})=>(f.useEffect(()=>()=>{n()},[n]),l.jsx(jt,{variant:"wide",isOpen:e,onClose:t,renderCloseButton:!0,children:l.jsx("div",{id:xT,style:{height:"800px"}})})));uSe.displayName="BoxFilePickerModal";const h8t=({skip:e,filters:t,reason:n})=>{const r=Nc({enabled:!0,initialPageParam:null,queryKey:Aqe(t),queryFn:({pageParam:a})=>SXe({filters:t,skipToken:a,reason:n}),getNextPageParam:a=>a&&a.sites.length?a.skipToken:void 0}),s=r.data?.pages.map(a=>a?.sites??[]).flat()??je;return f.useMemo(()=>({...r,sites:s}),[r,s])},m8t=11,dSe=T.memo(({onNext:e,onCancel:t})=>{const n="sharepoint-site-selector",r=f.useRef(null),{$t:s}=K(),a=s({defaultMessage:"Next",id:"9+DdtuCqLw"}),i=s({defaultMessage:"Cancel",id:"47FYwba+bI"}),[o,c]=f.useState(null),u=f.useCallback(R=>c(R.name!==o?.name?R:null),[o]),{isMobileUserAgent:d}=Oe(),[h,m]=f.useState(!1),[p,g]=f.useState(""),[v,y]=f.useState(p),x=f.useCallback(R=>{c(null),g(R)},[g]),{fetchNextPage:b,hasNextPage:w,isFetchingNextPage:_,sites:C,isLoading:S}=h8t({skip:!1,filters:{search_term:v},reason:n}),k=f.useMemo(()=>_i(()=>{w&&!_&&b()},500),[w,_,b]);cae(r,k,{threshold:.5}),f.useEffect(()=>{!S&&v===""&&m(C.length>m8t)},[S,v,C]),f.useEffect(()=>{const R=setTimeout(()=>y(p),250);return()=>clearTimeout(R)},[p]);const E=f.useCallback(()=>e(o?.webUrl??""),[e,o?.webUrl]),M=f.useMemo(()=>l.jsx(gt,{color:"#20808D",icon:N3.faCheck}),[]),N=f.useMemo(()=>T.memo(({site:R,index:A})=>{const P=f.useCallback(()=>u(R),[R]);return l.jsx(ze,{ref:A===C.length-1?r:null,variant:"common",layout:"split",text:R.name,onClick:P,trailingComponent:o?.name===R.name?M:null,textClassName:"text-left w-5/6 font-display text-textMain text-md font-[500]",fullWidth:!0})}),[u,o?.name,C.length,M]);return l.jsxs(H,{variant:"transparent",className:"px-md grid gap-y-[24px] sm:w-full md:w-[515px]",children:[h&&l.jsx(ko,{type:"text",isMobileUserAgent:d,placeholder:s({defaultMessage:"Search sites",id:"Nxbc+cXNbW"}),value:p,className:"bg-offsetPlus rounded-b-md rounded-t-md border-none",onChange:x}),l.jsxs(H,{className:"gap-y-sm scrollbar-none h-56 flex-col overflow-y-scroll",children:[S&&l.jsx(Eu,{className:"gap-y-sm grid",blockCount:5,size:"small",noLines:!0}),C.length>0&&C.map((R,A)=>l.jsx(N,{site:R,index:A},A)),!S&&!_&&C.length===0&&l.jsx(j,{variant:"small",color:"light",textCenter:!0,children:s({defaultMessage:"No results",id:"jHJmjfxD4s"})}),_&&l.jsx(Eu,{blockCount:1,size:"small"})]}),l.jsxs(H,{className:"gap-x-md flex justify-end",children:[l.jsx(ye,{variant:"common",pill:!0,text:i,onClick:t}),l.jsx(ye,{variant:"primary",pill:!0,text:a,textClassName:"",disabled:o===null,onClick:E})]})]})});dSe.displayName="SharepointSiteSelector";const fSe=T.memo(({isOpen:e,options:t,onClose:n,onSelectSite:r})=>{const{$t:s}=K(),a=f.useMemo(()=>t?.connector==="sharepoint"&&!t.webUrl,[t?.connector,t?.webUrl]),i=f.useMemo(()=>{if(a)return l.jsx(j,{variant:"entry-title-200",className:"ml-md line-clamp-3 text-pretty",children:s({defaultMessage:"Select a site",id:"NLmDBthOaZ"})})},[s,a]);return l.jsxs(jt,{variant:a?"medium":"wide",isOpen:e,onClose:n,renderCloseButton:!a,titleContent:i,children:[a&&l.jsx(dSe,{onNext:r,onCancel:n}),!a&&l.jsx("iframe",{id:"microsoft-file-picker",height:"800px"})]})});fSe.displayName="MicrosoftFilePickerModal";const p8t=T.memo(({children:e,placement:t,isOpen:n,onOpen:r,onClose:s,connectorMenuItems:a,width:i="250px"})=>{const{isMobileStyle:o}=Oe(),c=f.useMemo(()=>({style:{width:i}}),[i]);return l.jsx(wt,{initial:!1,mode:"popLayout",children:l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:hT},children:l.jsx(bn,{placement:t,items:a,isMobileStyle:o,isOpen:n,onOpen:r,onClose:s,boxProps:c,children:e})},"attachment-selector")})}),hSe=T.memo(({isOpen:e,fileType:t,size:n,tooltip:r,onOpen:s,onClose:a,onFilePickerOpen:i,onFilePickerClose:o,areFileAttachmentsAllowed:c,fileUploadErrorMessage:u,fileUploadWarningMessage:d,activeConnector:h=null,uploadedFiles:m=je,handleStartUpload:p,handleFileInput:g,isBoxFilePickerOpen:v=!1,handleCloseBoxFilePicker:y,cleanupBoxFilePicker:x,microsoftFilePickerOptions:b=null,handleCloseMicrosoftFilePicker:w,handleSelectSharepointSite:_,isMicrosoftFilePickerOpen:C=!1,fileInputRef:S,isAudioVideoFilesEnabled:k=!1,setAttachmentErrorMessage:E})=>{const M="file-upload-button",{$t:N}=K(),R=f.useRef(!1),{fileUploadUpsellTooltipOpen:A}=Ms(),{setFileUploadUpsellTooltipOpen:P}=hi(),O=Ks(),I=ut(),{uploadRateLimit:L}=Qn(),F=f.useCallback(ve=>ve.preventDefault(),[]),{trackEvent:D}=Ne(),{referrer:B,referrerId:$}=f8t({mode:"file"}),{connectorsMap:W}=O_({reason:M}),{enabledFileConnectors:X}=aI({reason:M}),{disabledFileConnectors:ee}=lSe({reason:M}),ne=f.useMemo(()=>W?.onedrive?.connected||W?.sharepoint?.connected,[W?.onedrive?.connected,W?.sharepoint?.connected]),V=f.useCallback(()=>{switch(t){case"image":return N({defaultMessage:"images",id:"HVUWg4/ofn"});case"all":return N({defaultMessage:"files",id:"l17U7PEF+6"});default:return N({defaultMessage:"text or PDF files",id:"XFh9ob267W"})}},[N,t]),q=f.useCallback(()=>{switch(t){case"image":return fLe;case"all":return k?vLe:hLe;default:return k?pLe:dLe}},[t,k]),z=f.useCallback(ve=>{ve?D("attempt connector file attachment",{connectorName:ve}):D("opened file selector",{}),p?.(ve)},[p,D]),{handleConnect:te}=cSe({reason:M}),[Y,Z]=f.useState(!1),re=f.useMemo(()=>{const ve={type:"default",text:N({defaultMessage:"Local files",id:"xMmQ4F7z3A"}),size:"small",icon:PDe,onMouseDown:F,onClick:()=>z("local")},Be=X.map(We=>{const Le=We.name;return{type:"default",text:Yv(Le)??"",avatar:l.jsx("img",{src:Ax(Le)??"",alt:Yv(Le),width:20,height:20}),onMouseDown:F,onClick:()=>z(Le),show:FLe.includes(We.name)}});return ee.length>0&&!O&&Be.push({type:"nested",submenu:ee.map(We=>({type:"default",size:"small",text:Yv(We.name),avatar:l.jsx("img",{src:Ax(We.name)??"",alt:Yv(We.name),width:20,height:20}),rightElement:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(_e,{icon:il,size:"sm"})}),onClick:()=>te({connectorName:We.name,customReferrer:B??void 0,customReferrerId:$??void 0})})),isSubmenuOpen:Y,onSubmenuOpen:()=>Z(!0),onSubmenuClose:()=>Z(!1),text:N({defaultMessage:"Connect files",id:"geEGjFxpOA"}),icon:Aee,onMouseDown:F}),[ve,...Be]},[N,X,ee,F,z,Y,te,B,$,O]),G=f.useCallback(()=>{re.length<=1||m.length>0?z(h??void 0):s?.()},[re,m,h,z,s]),oe=f.useCallback(()=>{a?.()},[a]),ae=f.useMemo(()=>{if(r)return r;let ve=`${N({defaultMessage:"Attach",id:"Ye0Clmvfec"})} ${V()}`;return I?c?L!=null&&L<=100?ve+=`. ${N({defaultMessage:"{remaining} left today",id:"V9HtlcGCOC"},{remaining:L})}`:en(nM)&&(ve=N({defaultMessage:"Files attached to threads are retained for 7 days",id:"hTclTOMwb7"})):ve=N({defaultMessage:"File attachments are disabled by your organization",id:"HmmaBNCmcH"}):ve+=`. ${N({defaultMessage:"Sign in to attach files",id:"Ei6nUBg77Q"})}`,ve},[r,L,I,N,V,c]);f.useEffect(()=>{const ve=()=>{R.current&&(o?.(),R.current=!1)};return window.addEventListener("focus",ve),()=>window.removeEventListener("focus",ve)},[o]);const ie=f.useCallback(()=>{P(!1)},[P]),xe=f.useCallback(()=>w?.(),[w]),de=f.useCallback(()=>y?.(),[y]),Se=f.useCallback(ve=>_?.(ve),[_]),qe=f.useCallback(()=>x?.(),[x]),be=f.useCallback(()=>{E?.("")},[E]);return l.jsx("div",{className:"flex items-center",children:l.jsx(Dn,{tooltipText:N({defaultMessage:"Attach files",id:"8d3exg7mte"}),open:A,offset:3,bodyClassName:"!bg-textMain",bodyTextClassName:"!text-borderMain",arrowClassName:"!fill-textMain",closeOnClick:!0,onClickOutsideTooltip:ie,asChild:!0,children:l.jsxs("div",{children:[l.jsx(p8t,{placement:"bottom-start",connectorMenuItems:re,isOpen:e,onOpen:G,onClose:oe,children:l.jsx(ze,{size:n,icon:VN,disabled:!c,toolTip:ae})}),l.jsx("input",{type:"file",multiple:!0,onClick:()=>{R.current=!0,i?.()},ref:S,onChange:ve=>{R.current=!1,g?.(ve.target.files?Array.from(ve.target.files):je)},accept:q(),style:{display:"none"}}),ne&&l.jsx(fSe,{options:b,isOpen:C,onClose:xe,onSelectSite:Se}),W?.box?.connected&&l.jsx(uSe,{isOpen:v,onClose:de,cleanupPicker:qe}),l.jsx(Vu,{isVisible:!!u,variant:"error",message:u??"",handleClose:be}),l.jsx(Vu,{isVisible:!!d&&!u,variant:"warning",message:d??"",timeout:4})]})})})});hSe.displayName="FileUploadButton";const mSe=T.memo(({isOpen:e,onOpen:t,onClose:n})=>{const r="recency-switcher",{$t:s}=K(),a=K(),{isMobileStyle:i}=Oe(),o=Cl(),{trackEvent:c}=Ne(),{sources:u,recency:d,setRecency:h}=Qn(),m=Array.isArray(o?.slug)?o.slug[0]:o?.slug,{collection:p}=_d({collectionSlug:m,reason:r}),g=p?.focused_web_config?.link_configs??je,v=u&&u.includes("web"),y=u&&g.length>0,x=!v&&!y,w=u&&u.includes("crunchbase")?!0:x,_=f.useCallback(k=>{h(k),c("search recency click",{recency:k}),n()},[c,h,n]),C=f.useMemo(()=>[{value:null,label:s({defaultMessage:"All Time",id:"52UMW3b1Z0"})},{value:"DAY",label:s({defaultMessage:"Today",id:"zWgbGgjUUg"})},{value:"WEEK",label:s({defaultMessage:"Last Week",id:"P3YB9A5Yho"})},{value:"MONTH",label:s({defaultMessage:"Last Month",id:"cfMkrE1iIn"})},{value:"YEAR",label:s({defaultMessage:"Last Year",id:"7PhUtcTRXC"})}],[s]),S=f.useMemo(()=>C.map(k=>({type:"default",text:k.label,active:d===k.value,onClick:()=>_(k.value)})),[C,d,_]);return l.jsx(g4e,{focusItems:S,placement:"bottom-start",width:"200px",isMobileStyle:i,isOpen:e,onOpen:t,onClose:n,menuType:br.RECENCY,children:l.jsx(ze,{toolTip:a.formatMessage({defaultMessage:"Set recency for web search",id:"3/OG+oV8gT"}),size:"small",icon:xee,disabled:w})})});mSe.displayName="RecencySwitcher";const pSe=T.memo(({handleFileInput:e})=>{const{$t:t}=K(),{sourceTabUrl:n}=kd(),r=Vr();f.useEffect(()=>r.subscribeScreenshotCaptured(a=>{e?.([a],"local",jN)}),[r,e]);const s=f.useCallback(async()=>{r.captureSourceTabScreenshotV2({sourceTabUrl:n})},[r,n]);return l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ze,{onClick:s,size:Mt.small,variant:"common",toolTip:t({defaultMessage:"Screenshot",id:"9a+SKtXKhe"}),icon:gFe})})});pSe.displayName="SidecarScreenshotButton";const xE=({className:e,...t})=>l.jsx("div",{className:e,children:l.jsx(rSe,{...t,value:""})}),g8t=({value:e,json:t,submitWillFork:n,isFollowUp:r,isDisabled:s,querySource:a,errorMessage:i,handleSubmit:o,fileUploadRef:c,showFileUpload:u,fileUploadTooltip:d,showStopButton:h,showModelSelector:m,onStopButtonClick:p,onFilePickerOpen:g,onFilePickerClose:v,showSources:y,showRecency:x,disableActionButtons:b,startTranscription:w,stopTranscription:_,isTranscribing:C,isTranscriptionInitializing:S,isTranscriptionAvailable:k,fileUploadErrorMessage:E,fileUploadWarningMessage:M,activeConnector:N=null,uploadedFiles:R,handleStartUpload:A,handleFileInput:P,isBoxFilePickerOpen:O=!1,handleCloseBoxFilePicker:I,cleanupBoxFilePicker:L,microsoftFilePickerOptions:F=null,handleCloseMicrosoftFilePicker:D,handleSelectSharepointSite:B,isMicrosoftFilePickerOpen:$=!1,fileInputRef:W,hasQuery:X,isAudioVideoFilesEnabled:ee=!1,setAttachmentErrorMessage:ne,isCometHome:V})=>{const q="ask-input-right-attributions",{isMobileStyle:z,isMobileUserAgent:te}=Oe(),{screenshotToolEnabled:Y}=kd(),{openModal:Z}=St(),{organization:re}=Gt({reason:q}),{$t:G}=K(),oe=u8t(),{activeMenu:ae}=Ms(),{onActiveMenuChange:ie}=hi(),{isWindowsApp:xe}=Nt(),de=rr(),{value:Se}=c8t(),qe=An(),{fileRepoInfo:be}=Cd({reason:q}),ve=be.file_repository_type==="COLLECTION",Be=y&&!r,We=x&&ve&&!r,Le=f.useRef(e),De=f.useRef(t);Le.current=e,De.current=t;const Ve=f.useCallback(({querySource:st})=>{o({query:Le.current,json:De.current,querySource:st})},[o]),le=bQe(SQe),we=Ts(le?.display_model)==ue.RESEARCH||Ts(le?.display_model)==ue.STUDIO;f.useEffect(()=>{if(!xe)return;const st=new URLSearchParams(window.location.search);st.get("voice-mode")?($x({"voice-mode":void 0}),w?.()):st.get("v2v")&&($x({v2v:void 0}),Z("voiceToVoiceModal",null))},[qe,xe,w,Z]),f.useEffect(()=>{const st=()=>{k&&(C?_?.():w?.())},dt=()=>{Z("voiceToVoiceModal",null)};return document.addEventListener("toggleVoiceToVoice",dt),document.addEventListener("toggleDictation",st),()=>{document.removeEventListener("toggleDictation",st),document.removeEventListener("toggleVoiceToVoice",dt)}},[C,k,w,_,Z]);const Je=!r&&!V&&(!te&&!z||de&&Se),Te=n?_ee:de||r?lee:aM,pe=h&&oe&&we,Fe=()=>{if(b)return l.jsx(xE,{className:"ml-2",isDisabled:!0,icon:aM,querySource:a??"home",handleSubmit:Ln});if(h){const $t=pe?"common":"inverted";return l.jsx(iSe,{onStopButtonClick:p,variant:$t})}const st=a&&l.jsx(xE,{className:"ml-2",toolTip:i||(n?G({defaultMessage:"Start your own thread",id:"TAA16rUT4G"}):""),icon:Te,isDisabled:s||!e,querySource:a,handleSubmit:Ve,"data-testid":"submit-button"},"submit-button"),dt=[];if(k&&dt.push(l.jsx(aSe,{isTranscribing:C,isInitializing:S,stopTranscription:_,startTranscription:w,variant:C?"primary":"common"},"dictation-button")),Je){const $t=(R?.length||X)&&a&&!C;$t?dt.push(st):!C&&!$t&&dt.push(l.jsx(oSe,{},"voice-to-voice-button"))}else C||dt.push(st);return k||Je?dt:st},ht=f.useCallback(()=>ie(null),[ie]),Pt=f.useCallback(()=>ie(br.SOURCES),[ie]),Ft=f.useCallback(()=>ie(br.RECENCY),[ie]),tt=f.useCallback(()=>ie(br.ATTACHMENTS),[ie]);return l.jsxs(eSe,{children:[m&&l.jsx(sSe,{}),Be&&l.jsx(v4e,{isOpen:ae===br.SOURCES,onOpen:Pt,onClose:ht}),We&&l.jsx(mSe,{isOpen:ae===br.RECENCY,onOpen:Ft,onClose:ht}),u&&l.jsx(hSe,{isOpen:ae===br.ATTACHMENTS,onOpen:tt,onClose:ht,size:"small",forwardedRef:c,fileType:"all",tooltip:d,onFilePickerOpen:g,onFilePickerClose:v,areFileAttachmentsAllowed:re?.settings?.file_attachments_allowed!==!1,fileUploadErrorMessage:E??null,fileUploadWarningMessage:M??null,activeConnector:N,uploadedFiles:R??je,handleStartUpload:A,handleFileInput:P,isBoxFilePickerOpen:O,handleCloseBoxFilePicker:I,cleanupBoxFilePicker:L,microsoftFilePickerOptions:F,handleCloseMicrosoftFilePicker:D,handleSelectSharepointSite:B,isMicrosoftFilePickerOpen:$,fileInputRef:W,isAudioVideoFilesEnabled:ee,setAttachmentErrorMessage:ne}),de&&Y&&l.jsx(pSe,{handleFileInput:P}),a&&l.jsxs(l.Fragment,{children:[Fe(),pe&&l.jsx("div",{className:s?"pointer-events-none opacity-50":"",children:l.jsx(xE,{className:"ml-3",toolTip:i||G({defaultMessage:"Anything else to consider?",id:"DDAw7Ictpp"}),icon:Te,querySource:a,isDisabled:!1,handleSubmit:Ve})})]})]})},gSe=T.memo(g8t);gSe.displayName="AskInputRightAttribution";const v8t=({fileRepoInfo:e,reason:t})=>{const{$t:n}=K(),r=ot(),s=["list_file_directory",e.file_repository_type,e.owner_id],{openToast:a}=Yn(),o=Dt()?.user?.email??"",c=lt({mutationFn:async u=>{if(!u.nextURL)throw new Error("File must have a url");const d=await J.POST("/rest/file-repository/move-attachment-to-persistent-file-path",t,{body:{file_repository_info:e,file_url:u.nextURL},timeoutMs:ds.MEDIUM,retries:2}),h=d.data;if(h&&await RA({request:{file_repository_info:e,file_index_params:[{file_s3_url:h.file_url_params.s3_object_url,file_size:u.file.size,filename:u.file.name,file_uuid:h.file_url_params.file_uuid,replace_existing:!1}]},reason:t}),!d.response.ok||!d.data)throw new Error("Failed to save file persistently");return d.data},onSuccess:(u,d)=>{const h={name:d.file.name,file_s3_url:u.file_url_params.s3_object_url,file_uuid:u.file_url_params.file_uuid,file_title:d.file.name,file_description:null,uploadedBy:o,date:new Date().toLocaleString(),state:"COMPLETE",size:d.file.size,isOptimistic:!0};r.setQueriesData({queryKey:s},p=>{if(!p)return p;const g=p.completedFiles||[];return{...p,completedFiles:[...g,h]}});const m=cA(e.owner_id,d.file.name);r.invalidateQueries({queryKey:m}),a(n({defaultMessage:"Saved file",id:"2HZW5WnkV3"}),"success",3)},onError:(u,d)=>{a(n({defaultMessage:"Failed to upload file",id:"x2gE8tKhMn"}),"error",3),Q.error("Error saving file with name",d.file.name,u)},onSettled:async()=>{await r.invalidateQueries({queryKey:s})}});return f.useMemo(()=>({saveFile:c.mutate,isLoading:c.isPending}),[c.isPending,c.mutate])},vSe=({fileRepoInfo:e,fileName:t,reason:n})=>{const r=Dt();return at({queryKey:cA(e.owner_id,t),refetchOnMount:!0,queryFn:async()=>((await o8({request:{fileRepositoryInfo:e,limit:_a,offset:0,searchTerm:t,fileStates:["COMPLETE"],email:r?.user?.email??""},reason:n}))?.files.length??0)>0,enabled:e.file_repository_type==="COLLECTION"&&!!e.owner_id&&t.length>0})},ySe=T.memo(({uploadedFiles:e,onRemoveFile:t,incompleteParsingEnabled:n,forwardRef:r})=>l.jsxs("div",{ref:r,className:"gap-x-sm scrollbar-none flex snap-x snap-mandatory overflow-x-auto",children:[l.jsx("div",{className:"w-xs flex-shrink-0"}),e.map((s,a)=>l.jsx(xSe,{uploadedFile:s,onRemoveFile:t,incompleteParsingEnabled:n},a)),l.jsx("div",{className:"w-xs flex-shrink-0"})]}));ySe.displayName="UploadedFilesList";const xSe=T.memo(({uploadedFile:e,onRemoveFile:t,incompleteParsingEnabled:n})=>{const r="uploaded-files-list",{trackEvent:s}=Ne(),a=n?e.status==="uploading":e.status==="uploading"||e.status==="parsing",{$t:i}=K(),{fileRepoInfo:o}=Cd({reason:r}),{saveFile:c,isLoading:u}=v8t({fileRepoInfo:o,reason:r}),{data:d}=vSe({fileRepoInfo:o,fileName:e.file.name,reason:r}),h=Object.values(Qa),m=y3(e.file.name),g=m&&!Ma(e.file.name)&&h.includes(m)&&TJe(e.nextURL),v=o.file_repository_type==="COLLECTION"&&!a&&g,y=f.useMemo(()=>i(d?{defaultMessage:"File exists in Space",id:"pD1m2AH9FU"}:{defaultMessage:"Save attachment to Space",id:"/Pbth8CiTs"}),[d,i]),x=f.useMemo(()=>Yae(e)?_w:fet(e)?oFe:het(e)?wee:met(e)?cM:yd,[e]),b=f.useCallback(()=>{s("remove attachment clicked"),e.nextURL&&t?.(e.nextURL)},[s,e,t]),w=f.useCallback(()=>c(e),[c,e]);return l.jsxs("div",{className:U("scroll-mx-md px-sm py-xs bg-offset dark:bg-background gap-x-md flex h-[48px] w-fit snap-start items-center justify-between rounded-lg",{"opacity-70":a}),children:[l.jsxs("div",{className:"gap-x-md flex items-center",children:[e.thumbnailSource&&!a?l.jsx(fs,{alt:e.file.name,src:e.thumbnailSource,containerClassName:"size-8 shrink-0",imageClassName:"w-full h-full object-cover object-center",rounded:"md",includeLightBoxModal:!1}):l.jsx("div",{className:"p-sm bg-offsetPlus dark:bg-offsetDark rounded-lg","data-testid":a?"file-loading-icon":"file-type-icon",children:l.jsx(_e,{icon:a?See:x,size:"sm",color:"#64645F",className:a?"animate-spin":void 0})}),l.jsxs("div",{className:"flex-col",children:[l.jsx(j,{variant:"tiny",color:"light",className:"text-nowrap",children:det(e.file.name,30)}),e.file.size>0&&l.jsx(j,{variant:"tinyRegular",color:"light",className:"text-nowrap",children:pet(e.file.size)})]})]}),l.jsxs("div",{className:"gap-x-sm flex items-center",children:[v&&l.jsx(ze,{icon:CDe,size:"tiny",onClick:w,disabled:d||u,variant:"common",toolTip:y,isLoading:u,pill:!0,noPadding:!0}),e.nextURL&&l.jsx(ze,{icon:tn,size:"tiny",testId:"remove-uploaded-file",onClick:b,variant:"common",pill:!0,noPadding:!0})]})]})});xSe.displayName="UploadedFilePreview";function y8t({handleSubmit:e,inputQuery:t}){const{trackEvent:n}=Ne(),r=f.useRef(t);r.current=t;const s=ma();return f.useCallback((i,o)=>{const c=ja();if(n("auto suggestion accepted",{mode:"dropdown-complete",query:r.current,completion:i.query,completion_uuid:i.query_uuid,completion_position:o,url:i.url,isNavigational:!!i.url,frontendContextUUID:c,searchMode:s}),i.url){window.open(i.url,"_self");return}e({query:i.submission_query??i.query,promptSource:"autosuggest",querySource:"autosuggest",newFrontendContextUUID:c})},[e,s,n])}function x8t({inputQuery:e}){const{trackEventBatch:t}=Ne(),n=f.useRef(e);n.current=e;const r=ma();return f.useCallback(a=>{if(n.current.length!==0)return;const i=a.map((o,c)=>({name:"auto suggestion blank state viewed",data:{mode:"dropdown-complete",query:n.current,completion:o.query,completion_uuid:o.query_uuid,completion_position:c,url:o.url,isNavigational:!!o.url,searchMode:r}}));t(i)},[r,t])}const b8t=async({query:e,reason:t})=>{try{const{data:n,error:r}=await J.GET("/rest/autosuggest/finance/list-autosuggest",t,{params:{query:{query:e}}});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get finance suggestions",cause:r});return n.results??je}catch(n){return Q.error(n),[]}};async function EBt(e){const{error:t,data:n}=await J.GET("/rest/finance/all-tickers","finance-all-tickers-client-page",{params:{query:{page:e,page_size:500}},timeoutMs:15e3});if(t)throw new Me("API_CLIENTS_ERROR",{cause:t,details:{page:e}});return n??null}const kBt=async({query:e,locale:t,reason:n})=>{try{const{data:r,error:s}=await J.GET("/rest/autosuggest/finance/tasks-autosuggest",n,{params:{query:{query:e}},headers:{"accept-language":t}});if(s)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get finance tasks suggestions",cause:s});return"results"in r?r.results:[]}catch(r){return Q.error(r),[]}},w8t=async({sources:e,attachments:t,searchMode:n,sourceTabUrl:r,entropyRenderingPlace:s,reason:a})=>{try{const{error:i,data:o}=await J.POST("/rest/autosuggest/list-autosuggest",a,{body:{query:"",sources:e,attachments:t,search_mode:n,source_tab_url:r,entropy_rendering_place:s}});if(i)throw new Me("API_CLIENTS_ERROR",{cause:i});return o.results??je}catch(i){return Q.error(i),je}},_8t=async({reason:e,onCreateShortcut:t})=>{try{const i=[...[...(await w4e({reason:e}))?.tasks??[]].sort(()=>Math.random()-.5).slice(0,2).map(o=>({query:o.prompt,title:o.task_name,shouldShowTitle:!0,category:"shortcuts"}))];return t&&i.push({query:"",query_uuid:"create-shortcut-button",title:"Create a shortcut",description:"",category:"shortcuts",icon:"plus",shouldShowTitle:!0,actionHandler:t}),i}catch(n){return Q.error("Failed to fetch shortcuts suggestions",n),je}},bE=({sources:e,attachments:t,searchMode:n,focus:r,isCometHome:s,reason:a,enabled:i})=>{const{sourceTabUrl:o}=kd(),u=ls().erp,{isMobileUserAgent:d}=Oe(),h=Vr(),m=lj(),{openModal:p}=St(),g=f.useCallback(()=>{p("taskShortcutModal",{source:"suggestions_dropdown"})},[p]),v=f.useMemo(()=>s&&n===ue.SEARCH?["comet-blank-state-suggest",n,m]:r==="finance"?["finance-blank-state-suggest"]:["blank-state-suggest",e,t,n,u==="sidecar"?o:""],[e,t,n,r,s,o,u,m]);return at({queryKey:v,enabled:i,queryFn:async()=>{if(s&&n===ue.SEARCH){const[b,w]=await Promise.all([y6t({cometBrowser:h,type:"input-blank-state"},Wf(d,m)),m?_8t({reason:a,onCreateShortcut:g}):Promise.resolve([])]);return[...(b??je).map(_=>({..._,is_comet_assistant:!0})),...w]}if(r==="finance")return(await b8t({query:"",reason:a})).map((_,C)=>({query:_.query||`suggestion-${C}`,title:_.title??void 0,image:_.image??void 0,description:_.description??void 0,category:_.category??void 0,query_uuid:_.query_uuid??void 0,url:_.url??void 0,metadata:_.metadata??void 0}));const[y,x]=await Promise.all([w8t({sources:e,attachments:t,searchMode:n,sourceTabUrl:u==="sidecar"?o:"",entropyRenderingPlace:u,reason:a}),u==="sidecar"?HOe({entropyBrowser:h,url:o}):Promise.resolve([])]);return[...x,...y].slice(0,Wf(d))}})},C8t=e=>{const{setSuggestions:t,setBlankStateSuggestions:n}=hi(),{sourceTabUrl:r}=kd(),a=ls().erp,i=f.useRef(void 0),o=f.useRef(e.selectedSearchMode),{blankStateSuggestions:c}=Ms(),u=c[e.selectedSearchMode],d=r?$s(r):void 0,h=e.suggestionsDisabled||a==="sidecar"&&d&&d===i.current;!h&&i.current!==d&&(i.current=d);const{data:m}=bE({...e,searchMode:ue.SEARCH,enabled:!h}),{data:p}=bE({...e,searchMode:ue.RESEARCH,enabled:!h}),{data:g}=bE({...e,searchMode:ue.STUDIO,enabled:!h});return f.useEffect(()=>{m&&n(m,ue.SEARCH),p&&n(p,ue.RESEARCH),g&&n(g,ue.STUDIO)},[m,p,g,n]),f.useEffect(()=>{(e.query?.length??0)>0||u&&((a==="sidecar"||o.current!==e.selectedSearchMode)&&t(u),o.current=e.selectedSearchMode)},[e.query,e.selectedSearchMode,u,t,a]),null},S8t=()=>{const{base:e}=Rt(),t=Lt();return t===(e||"/")||t?.startsWith("/welcome")||t?.startsWith("/finance")};function E8t({userInputQuery:e,userInputJson:t,suggestionsDisabled:n,suggestions:r,focusedIndex:s,setFocusedIndex:a,onChange:i,handleSuggestionSubmission:o}){const c=f.useRef(e),u=f.useRef(t),d=f.useRef(r),h=f.useRef(s);c.current=e,u.current=t,d.current=r,h.current=s;const m=f.useCallback((v,y)=>{if(y>0){const x=(h.current+1)%y,b=d.current[x];if(b?.query){const w=b.query;i(w)}return v.preventDefault(),x}return null},[i]),p=f.useCallback(v=>{let y=h.current-1;if(y<0)y=-1,h.current===0&&(v.preventDefault(),i(c.current,u.current));else{v.preventDefault();const x=d.current[y];if(x?.query){const b=x.query;i(b)}}return y},[i]);return f.useCallback(v=>{if(n)return!1;if(ai.isArrowDown(v)){const y=m(v,d.current.length);if(y!==null)return a(y),!0}else if(ai.isArrowUp(v)){const y=p(v);if(y!==null)return a(y),!0}else if(ai.isEnterKeyWithoutShift(v)&&h.current>=0&&h.current<d.current.length)return o(d.current[h.current],h.current),!0;return!1},[o,n,m,p,a])}const k8t=e=>e==="travel"||e==="shopping"||e==="academic",M8t=({autosuggestionsEnabled:e=!0,inputQuery:t,inputJson:n,isInputActive:r,onChange:s,handleSuggestionSubmission:a,handleSuggestionView:i,querySource:o,hasThreadContent:c,isMentionMenuOpened:u})=>{const{isWindowsAppPanelView:d}=dm(),[h,m]=f.useState(-1),[p,g]=f.useState(t),[v,y]=f.useState(),x=Lt(),{isSuggestionsDisabled:b}=on(),w=S8t(),_=nre(x),C=Oze(x),{activeMenu:S,suggestions:k}=Ms(),{currentOpenedModal:E}=St(),M=rr(),{setSuggestions:N,setShowSuggestDropdown:R}=hi(),A=f.useMemo(()=>b||!e||!w&&!_&&!d&&!C&&!k8t(o)&&!M||o!=="finance"&&t.length>qtt&&!k.some(({query:O})=>O===t)||M&&c,[b,e,w,_,C,d,o,t,M,c,k]),P=E8t({userInputQuery:p,userInputJson:v,suggestionsDisabled:A,suggestions:k,focusedIndex:h,setFocusedIndex:m,onChange:s,handleSuggestionSubmission:a});return f.useEffect(()=>{h===-1&&(g(t),y(n))},[t,h,g,y,n]),f.useEffect(()=>{A&&(N(je),m(-1))},[A,N,m]),f.useEffect(()=>{const O=!A&&r&&!S&&!E&&k.length>0&&!u;R(O),O&&i(k)},[A,r,S,E,k,u,R,i]),f.useMemo(()=>({focusedIndex:h,setFocusedIndex:m,suggestionsDisabled:A,userInputQuery:p,handleSuggestDropdownNavigation:P}),[h,P,A,p])};class T8t{static isAnyInputElementFocused(){const t=document.activeElement;return!!(t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.getAttribute("contenteditable")==="true"||t.getAttribute("role")==="textbox"))}}function N8t({value:e,json:t,isDisabled:n,handleSubmit:r,handleSuggestDropdownNavigation:s,querySource:a,focusInput:i,isInputActive:o}){const{isMobileUserAgent:c}=Oe(),u=f.useRef(e),d=f.useRef(t);u.current=e,d.current=t;const h=f.useCallback(y=>n&&ai.isEnterKeyWithoutShift(y)?(y.preventDefault(),!0):!1,[n]),m=f.useCallback(y=>y.isComposing?(y.preventDefault(),!0):!1,[]),p=f.useCallback(y=>{ai.isEnterKeyWithoutShift(y)&&!c&&(y.preventDefault(),r({query:u.current,json:d.current,querySource:a}))},[r,a,c]),g=f.useCallback(y=>{const x=ai.isCtrlOrCmdJ(y),b=ai.isOnlySlashKey(y);if(x||b){if(o||T8t.isAnyInputElementFocused())return;y.preventDefault(),i()}},[i,o]);return f.useEffect(()=>(document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}),[g]),f.useCallback(y=>{h(y)||m(y)||s(y)||p(y)},[h,m,s,p])}const bSe=(e,t)=>{const n=[];if(!t)return{displayQuery:e,dslQuery:void 0,mentions:n};let r=0;const s=o=>{const c={displayQuery:"",dslQuery:""};if(o.type==="text"&&"text"in o)c.displayQuery=o.text,c.dslQuery=o.text;else if(o.type==="linebreak")c.displayQuery=`
`,c.dslQuery=`
`;else if(o.type==="link"&&"url"in o){const u="children"in o&&Array.isArray(o.children)&&o.children.map(s).reduce((d,{displayQuery:h,dslQuery:m})=>(d.displayQuery+=h,d.dslQuery+=m,d),{displayQuery:"",dslQuery:""})||{displayQuery:o.url,dslQuery:o.url};return c.displayQuery=`[${u.displayQuery}](${o.url})`,c.dslQuery=`[${u.dslQuery}](${o.url})`,c}else if(o.type==="mention"){const d=o.props;if(d.variant==="tab"){n.push({id:d.uuid,url:d.url??"",type:d.variant}),r++;const h=d.text||"";return c.displayQuery=`"${h}"`,c.dslQuery=`<attachment citation_id="${r}" />`,c}else{if(d.variant==="space")return n.push({id:d.uuid,url:"",type:d.variant}),c.displayQuery="",c.dslQuery="",c;if(d.variant==="shortcut")return n.push({id:d.uuid,url:"",type:d.variant}),c.displayQuery=d.queryText??"",c.dslQuery=d.queryText??"",c}}return"children"in o&&Array.isArray(o.children)?o.children.map(s).reduce((u,{displayQuery:d,dslQuery:h})=>(u.displayQuery+=d,u.dslQuery+=h,u),c):c},{displayQuery:a,dslQuery:i}=s(t);return{displayQuery:a||e,dslQuery:i||void 0,mentions:n}};function R8t({value:e,json:t,querySource:n,disabled:r=!1,autofocus:s=!0,isUploadingFile:a=!1,onChange:i,onFocus:o,handleSubmit:c,handleUpdateAutosuggestions:u,autosuggestionsEnabled:d=!0,errorMessage:h,sources:m,attachments:p,selectedSearchMode:g,isInputActive:v,setIsInputActive:y,updateOnFocus:x=!1,inFlight:b=!1,resultsLength:w=0,quote:_,isMentionMenuOpened:C,isCometHome:S=!1,reason:k}){const{activeMenu:E,inputRef:M}=Ms(),N=A5t(),{setShouldTriggerFocus:R}=J1(),{blankStateSuggestions:A}=Ms(),{setSuggestions:P}=hi(),{onActiveMenuChange:O}=hi(),{isAndroid:I}=Nt(),L=f.useMemo(()=>!!_||e.trim().length>0||!!p&&p.length>0,[_,e,p]),F=r||!!h||a||!L,D=f.useCallback(re=>{const{mentions:G}=bSe(e,t?.root);c({...re,mentions:G.length>0?G:void 0})},[e,t,c]),B=y8t({handleSubmit:D,inputQuery:e}),$=x8t({inputQuery:e}),{focusedIndex:W,setFocusedIndex:X,suggestionsDisabled:ee,userInputQuery:ne,handleSuggestDropdownNavigation:V}=M8t({autosuggestionsEnabled:d,inputQuery:e,inputJson:t,isInputActive:v&&d,onChange:i,handleSuggestionView:$,handleSuggestionSubmission:B,querySource:n,hasThreadContent:b||w>0,isMentionMenuOpened:C});C8t({sources:m,attachments:p,selectedSearchMode:g,suggestionsDisabled:ee,focus:n==="finance"?"finance":void 0,query:e,isCometHome:S,reason:k});const q=f.useCallback(()=>{M.current?.focus(),y(!0)},[M,y]),z=f.useCallback(re=>{o?.(re),y(!0),O(null),x&&u(M.current?.value??""),I&&setTimeout(()=>{M.current?.scrollIntoView({behavior:"smooth",block:"center"})},300)},[o,O,u,y,x,M,I]);f.useEffect(()=>{N&&s&&(q(),R(!1))},[N,q,R,s]);const te=f.useCallback(()=>(y(!1),X(-1),!0),[X,y]),Y=f.useCallback((re,G)=>{i(re,G),!ee&&(re.trim().length===0&&A[g]?(P(A[g]),u(re)):Ztt(re)&&u(re))},[i,ee,u,A,P,g]),Z=N8t({value:e,json:t,isDisabled:F,handleSubmit:D,handleSuggestDropdownNavigation:V,querySource:n,focusInput:q,isInputActive:v});return f.useEffect(()=>{E!==null?M.current?.blur():s&&q()},[E,M,q,s]),f.useMemo(()=>({isDisabled:F,focusedIndex:W,setFocusedIndex:X,userInputQuery:ne,handleSuggestionSubmission:B,handleFocus:z,handleBlur:te,handleChange:Y,handleKeyDown:Z,focusInput:q,hasQuery:L}),[q,W,te,Y,z,Z,B,L,F,X,ne])}const A8t=({value:e,json:t,querySource:n,placeholder:r,disabled:s=!1,disabledInput:a=!1,initialLayout:i="expanded",minRows:o=1,isFollowUp:c=!1,submitWillFork:u=!1,showSources:d=!1,showRecency:h=!1,showModelSelector:m=!0,showSearchModeSelector:p=!0,showFileUpload:g=!1,disableActionButtons:v=!1,showIncognitoHint:y,hasShadow:x=!1,autofocus:b=!0,disablePrivacyWarning:w=!1,fileUploadTooltip:_,className:C,headerComponent:S,initializeAttachmentsFromLastResult:k=!1,showStopButton:E=!1,forceHideSuggestions:M=!1,shouldAcceptClarification:N=!1,headerColorVariant:R,onChange:A,onFocus:P,onClick:O,onSubmit:I,onStopButtonClick:L=Ln,onFilePickerOpen:F,onFilePickerClose:D,autoSuggestPortalTarget:B,autosuggestionsEnabled:$=!0,dropdownPlacement:W="bottom",dropdownClassName:X,disableModeSelector:ee=!1,useLexical:ne=!1,mentionTypeaheadOptions:V,isCometHome:q=!1,onTriggerTypeahead:z,layoutKey:te})=>{const Y=`ask-input-inner-${n}`,[Z,re]=f.useState(!1),[G,oe]=f.useState(!1),[ae,ie]=f.useState(b),{suggestions:xe,blankStateSuggestions:de,showSuggestDropdown:Se}=Ms(),{setSuggestions:qe}=hi(),{isMobileStyle:be,isMobileUserAgent:ve}=Oe(),{promptSkipped:Be}=oEt(),{inputRef:We}=Ms(),[Le,De]=f.useState(!0),Ve=f.useRef(null),{currentOpenedModal:le}=St(),we=!!le,Je=ut(),{quote:Te,setQuote:pe}=Bc(),Fe=lEt(),ht=ma(),{sources:Pt}=Qn(),{lastResult:Ft,inFlight:tt,resultsLength:st}=fr(),dt=rr(),$t=Vr(),wn=K(),Kr=f.useRef(null),[un,_n]=f.useState(!1),fe=f.useCallback(()=>_n(!0),[]),Xe=f.useCallback(()=>_n(!1),[]),{cacheImageDownloadUrl:Ge}=Rj({reason:Y}),Ke=k?Ft?.attachments:void 0,[nt,Tt]=f.useState(void 0),yt=f.useMemo(()=>nt?.map(Jn=>Jn.url),[nt]),{value:Zt,loading:Wt}=Vw({flag:"windows-app-dictation-config",defaultValue:BF}),Hn=f.useMemo(()=>Wt?BF:{eppoTranscriptionConfig:Zt,runImmediately:!0},[Zt,Wt]),Pr=f.useMemo(()=>{if(e.length>qo)return wn.formatMessage({defaultMessage:"Query is { numCharacters } characters too long",id:"yw04s2k4La"},{numCharacters:e.length-qo})},[e,wn]),ms=f.useCallback(Jn=>{Z||!Le||(re(!0),!Jn.query&&yt&&yt.length>0&&(Jn.query=yt[0].match(/[^/]+$/)?.[0]??"File Attached"),Pr?re(!1):(I?.({query:Jn.query,json:Jn.json,attachments:yt,promptSource:Jn.promptSource,querySource:Jn.querySource,mentions:Jn.mentions}),nt?.forEach(Ai=>{Ai.file&&Ai.file.size>0&&Ma(Ai.url)&&Ge(Ai.url,Ai.resizedFile??Ai.file)}),Fe&&Kr.current?.clearFiles(),setTimeout(()=>re(!1),1e3)))},[Z,Pr,yt,I,Fe,Ge,nt,Le]);f.useEffect(()=>$t.subscribeForceSubmitQuery(Jn=>{ms(Jn)}),[$t,ms]);const{handleUpdateAutosuggestions:Ys}=N6t(),{isDisabled:za,focusedIndex:Ri,setFocusedIndex:Pm,userInputQuery:Od,handleSuggestionSubmission:l4,handleFocus:Im,handleBlur:Ld,handleChange:Va,handleKeyDown:vv,focusInput:Yr,hasQuery:Dd}=R8t({value:e,json:t,querySource:n,disabled:s,autofocus:b,isUploadingFile:G,onChange:A,onFocus:P,handleSubmit:ms,handleUpdateAutosuggestions:Ys,autosuggestionsEnabled:$,errorMessage:Pr,sources:Pt,attachments:yt,selectedSearchMode:ht,setIsInputActive:ie,isInputActive:ae,inFlight:tt,resultsLength:st,quote:Te,isMentionMenuOpened:un,isCometHome:q,reason:Y});eEt({setInput:Va,isSidecar:dt}),b6t({entropyBrowser:$t,isSidecar:dt,focusInput:Yr}),f.useEffect(()=>{Be&&We.current?.focus()},[We,Be]),f.useEffect(()=>{Te&&Yr()},[Te,Yr]);const{openToast:Rl}=Yn(),c4=f.useMemo(()=>({onStart:()=>{Yr()},onStop:()=>{Yr()},onSilence:()=>{Rl("No audio detected. Make sure your microphone is connected and unmuted","error",4)}}),[Yr,Rl]),{startTranscription:yv,stopTranscription:xv,error:Fd,isTranscribing:Vc,isInitializing:u4,transcription:Ga}=sEt({callbacks:c4,config:Hn,reason:Y});f.useEffect(()=>{Fd&&Rl(`Audio Error: ${Fd}`,"error",4)},[Fd,Rl]),f.useEffect(()=>{if(Ga&&Vc&&Ga!==e){const Jn=(()=>{const Ai=Math.min(e.length,Ga.length);for(let Dm=Ai;Dm>0;Dm--)if(e.slice(-Dm)===Ga.slice(0,Dm))return Ga.slice(Dm);return e?` ${Ga}`:Ga})();We.current?.trim(),We.current?.append(Jn),Va(We.current?.value??"",We.current?.json)}},[Ga,Va,Vc,e,We]);const{isAudioVideoFilesEnabled:Al}=E6t(),Om=k6t(),{organization:d4}=Gt({reason:Y}),Lm=f.useCallback(()=>oe(!0),[]),{handlePaste:bv,handlePasteQuery:wv,handleCompleteFileUpload:f4,handleFileSelect:pr,autoCreatedTextFile:Gc,dismissNotification:jO,setAutoCreatedTextFile:PO}=R6t({fileUploadRef:Kr,showFileUpload:g,attachments:yt,setAttachments:Tt,handleChange:Va,setIsUploadingFile:oe,focusInput:Yr}),{fileInputRef:IO,errorMessage:OO,warningMessage:LO,uploadSource:DO,uploadedFiles:qc,handleRemoveFile:_v,handleStartUpload:FO,handleFileInput:UO,isBoxOpen:BO,onCloseBox:$O,cleanupBoxPicker:HO,microsoftFilePickerOptions:WO,isMicrosoftFilePickerOpen:zO,handleSelectSharepointSite:VO,onCloseMicrosoft:GO,setErrorMessage:qO}=J6t({fileUploadRef:Kr,disablePrivacyWarning:w,isAudioVideoFilesEnabled:Al,isClearAttachmentsEnabled:Fe,isFollowUp:c,existingAttachments:Ke,organization:d4,lastResult:Ft,onStartFileUpload:Lm,onCompleteFileUpload:f4,setUploadsReady:De,reason:Y,incompleteParsingEnabled:Om}),KO=f.useCallback(()=>{if(Gc){if(We.current?.append(Gc.content),Va(We.current?.value??"",We.current?.json),yt){const Jn=yt.find(Ai=>Ai.includes(Gc.fileName));Jn&&_v(Jn)}PO(null)}},[Gc,We,Va,yt,_v,PO]),YO=f.useRef(e);YO.current=e;const QO=f.useCallback(Jn=>{ie(!0),YO.current.length===0&&de[ht]&&qe(de[ht]),O?.(Jn)},[ie,qe,de,ht,O]),XO=f.useCallback(Jn=>{We.current=Jn},[We]),WEe=f.useMemo(()=>({isOpen:(Se&&!M)??!1,suggestedQueries:xe,focusedIndex:Ri,setFocusedIndex:Pm,handlePasteQuery:wv,handleSubmit:l4,userInputQuery:Od,portalTarget:B??void 0,placement:W,dropdownClassName:X,allowNonSequentialMatch:xe!==de[ht],isCometHome:q,scrollableShards:qc.length>0?[Ve]:[]}),[B,de,X,W,Ri,M,wv,l4,q,ht,Pm,Se,xe,qc,Ve,Od]),zEe=f.useMemo(()=>({initialLayout:i,wrapperClass:U({"transition-none p-lg":Se,"border-b-none rounded-b-none":Se&&!M&&W==="bottom","border-t-none rounded-t-none rounded-b-[20px]":Se&&!M&&W==="top","bg-background-100":Te}),size:"large",hasShadow:x,showStopButton:E,shouldAcceptClarification:N,quote:Te??void 0,inputWarnings:Gc&&l.jsxs(H,{variant:"offset",className:"mx-sm mb-xs px-sm py-xs dark:bg-background flex items-center justify-between rounded-lg",children:[l.jsx("div",{className:"gap-x-sm flex items-center",children:l.jsxs(j,{variant:"tiny",color:"light",children:["Text is"," ",Math.max(1,Math.round((Gc.content.length-qo)/qo*100)),"% over the limit and is attached as a file."," ",l.jsx(ze,{variant:"super",size:"tiny",onClick:KO,text:"Paste as text"})]})}),l.jsx(ze,{icon:tn,size:"tiny",onClick:jO,variant:"common",pill:!0,noPadding:!0})]}),attachmentsList:qc.length>0&&l.jsx(ySe,{uploadedFiles:qc,onRemoveFile:_v,incompleteParsingEnabled:Om,forwardRef:Ve}),setQuote:pe,inputRef:We}),[Gc,jO,W,M,_v,x,i,We,Om,KO,Te,pe,N,E,Se,qc]),VEe=f.useMemo(()=>({ref:XO,id:"ask-input",value:e,json:t,initialLayout:i,minRows:o,placeholder:r,disabled:s,disabledInput:a,autoFocus:b,onClick:QO,onChange:Va,onKeyDown:vv,onBlur:Ld,onFocus:Im,onPaste:bv,onMentionMenuOpen:fe,onMentionMenuClose:Xe,isMobileStyle:be,isMobileUserAgent:ve,useLexical:ne,mentionTypeaheadOptions:ne?V:void 0,onTriggerTypeahead:ne?z:void 0}),[b,s,a,Ld,Va,QO,Im,vv,bv,i,be,ve,t,V,o,Xe,fe,z,r,XO,ne,e]),GEe=f.useMemo(()=>l.jsx(gSe,{value:e,json:t,showSources:d,showRecency:h,submitWillFork:u,isFollowUp:c,isDisabled:za||!Le,querySource:n,errorMessage:Pr,handleSubmit:ms,fileUploadRef:Kr,showFileUpload:g&&!dt,showModelSelector:m,disableActionButtons:v,fileUploadTooltip:_,disablePrivacyWarning:w,showStopButton:E,onStopButtonClick:L,onFilePickerOpen:F,onFilePickerClose:D,startTranscription:yv,stopTranscription:xv,isTranscribing:Vc,isTranscriptionInitializing:u4,isTranscriptionAvailable:!E,fileUploadErrorMessage:OO,fileUploadWarningMessage:LO,activeConnector:DO,uploadedFiles:qc,handleStartUpload:FO,handleFileInput:UO,isBoxFilePickerOpen:BO,handleCloseBoxFilePicker:$O,cleanupBoxFilePicker:HO,microsoftFilePickerOptions:WO,handleCloseMicrosoftFilePicker:GO,handleSelectSharepointSite:VO,isMicrosoftFilePickerOpen:zO,fileInputRef:IO,hasQuery:Dd,isAudioVideoFilesEnabled:Al,setAttachmentErrorMessage:qO,isCometHome:q}),[DO,HO,v,w,Pr,IO,OO,_,LO,$O,UO,VO,FO,ms,Dd,Al,BO,za,c,u4,zO,dt,Vc,t,WO,GO,D,F,L,n,qO,g,m,h,d,E,yv,xv,u,qc,Le,e,q]),{isMax:qEe}=At();return l.jsx(C5e,{condition:Je&&g&&!dt,Wrapper:S6t,onDrop:pr,disabled:we,allowDropAnywhere:!0,children:l.jsxs(H,{variant:R??(N?"super":"offset"),className:U(C,"rounded-2xl",{"bg-super/95 dark:bg-super/85 backdrop-blur-sm":N,"max-super-override":qEe}),children:[S,l.jsx(tSe,{value:e,suggestDropdownProps:WEe,ResizeableInputWrapperProps:zEe,ResizeableInputProps:VEe,leftAttributionComponents:ee?null:l.jsx(zR,{inRenderingPlace:"sidecar",children:l.jsx(nSe,{showIncognitoHint:y,showSearchModeSelector:p,isFollowUp:c,layoutKey:te})}),rightAttributionComponents:GEe})]})})},J_=T.memo(A8t);J_.displayName="AskInput";const j8t=()=>{const{value:e}=dr({flag:"comet-invite-system",defaultValue:!0});return e},P8t=()=>{const{trackEvent:e}=Ne(),t=Rt(),n="clicked spaces ad",r=f.useCallback(async a=>{a.preventDefault(),e(n,{source:"createSpaceSidebar"}),t.push("/spaces/templates")},[e,t]),s=f.useCallback(async()=>{e("space mentioned in query"),wHe()},[e]);return f.useMemo(()=>({handleCreateSpaceSidebarAdClick:r,handleSubmitQueryWithMention:s}),[r,s])},wSe=ge.PRO,I8t=e=>({id:e.task_id,title:e.task_name,prompt:e.prompt,searchModel:gA(e.model_preference)??wSe,sources:pYe(e.sources)});function O8t(e=""){return{title:"",prompt:e,searchModel:wSe,sources:["web"]}}const _Se="pplx.shortcuts.hasDiscovered";function L8t({reason:e,enabled:t=!0}){const{$t:n}=K(),[r,s]=f.useState(!1),{openModal:a}=St(),i=Ks(),o=ut(),c=lj()&&t,u=T_(),{overwriteSources:d}=iI({reason:e}),{data:h,isStale:m,refetch:p}=at({queryKey:rse(),queryFn:()=>w4e({reason:e}),enabled:c&&r,staleTime:10*60*1e3}),g=f.useCallback(()=>{r?m&&p():s(!0)},[r,m,p]),v=f.useCallback(()=>{a("taskShortcutModal",{source:"typeahead_create"})},[a]),y=f.useMemo(()=>{const w=Ue.getItem(_Se)==="true";if(!(!c||i||!o||w))return n({defaultMessage:"Ask anything. Type @ for mentions and / for shortcuts.",id:"KO0XLRzele"})},[n,i,c,o]),x=f.useCallback((w,_)=>{let C=ue.SEARCH;w===ge.ALPHA?C=ue.RESEARCH:w===ge.BETA&&(C=ue.STUDIO),u(w,C),d(_)},[u,d]),b=f.useMemo(()=>{const _=(h?.tasks??[]).map(C=>({uuid:C.task_id,variant:"shortcut",label:`/${C.task_name}`,queryText:C.prompt,className:"group/shortcut-typeahead-option",action:()=>x(C.model_preference,C.sources),convertToNode:!0,rightElement:({focused:S})=>C.preconfigured?null:l.jsx(D8t,{shortcut:C,focused:S})}));return c&&_.push({uuid:"create-a-shortcut",variant:"shortcut",label:n({defaultMessage:"+ Create a shortcut",id:"P9a8R5IRCb"}),action:v,convertToNode:!1,isAlwaysVisible:!0}),_},[h?.tasks,c,x,n,v]);return f.useMemo(()=>({isShortcutTasksEnabled:c,shortcutsTypeaheadOptions:b,inputPlaceholder:y,onTrigger:g}),[c,b,y,g])}function D8t({shortcut:e,focused:t}){const{openModal:n}=St(),r=f.useCallback(s=>{s.preventDefault(),s.stopPropagation(),n("taskShortcutModal",{source:"typeahead_edit",shortcut:I8t(e)})},[n,e]);return l.jsx("div",{className:U("transition-opacity",t&&"opacity-100",!t&&"opacity-0"),children:l.jsx(ze,{icon:vd,size:"tiny",variant:"common",noPadding:!0,onMouseDown:r})})}function F8t({onSubmit:e,immediate:t=!0}){const n=rI(),r=N5t(),s=sI(),a=R5t(),{setUserInput:i,setHasStartedTyping:o,setStartTypingTime:c,markInputAsSubmitted:u}=J1(),d=f.useRef(!1);f.useEffect(()=>()=>{d.current&&(u(),d.current=!1)},[u,t]);const h=f.useCallback(p=>{Q.info("ask input submitted");const g=a?performance.now()-a:void 0,{displayQuery:v,dslQuery:y,mentions:x}=bSe(p.query,p.json?.root);e?.({timeFromFirstType:g,...p,dslQuery:y,query:v||p.query,mentions:p.mentions??x}),t?u():d.current=!0},[t,u,e,a]),m=f.useCallback((p,g)=>{!s&&p&&o(!0),a||c(performance.now()),i(p,g)},[s,i,o,a,c]);return[n,r,f.useMemo(()=>({onChange:m,onSubmit:h,setUserInput:i}),[m,h,i])]}const U8t="side-by-side-experiments";function B8t(e,t={}){const{value:n,loading:r,error:s}=SWe({flag:U8t,defaultValue:{side_by_side_config:{}},subjectType:"context_uuid",extraAttributes:t},e);return f.useMemo(()=>({sideBySideOverrides:n,loading:r,error:s}),[n,r,s])}const Kb=-1,$8t="sbs_analytics_",H8t=e=>{const t=e?.experiment_override;return t?JSON.stringify(t):""},W8t=(e,t)=>{const n=e.side_by_side_metadata;return{displayPosition:t,experimentRole:n?.experiment_role||`entry_${t}`,entryUUID:e.backend_uuid,experimentOverride:H8t(n)}},CSe=(e,t)=>`${$8t}${e}_${t}`,wE=(e,t)=>{try{const n=CSe(e,t);return Ue.getItem(n)==="true"}catch(n){return Q.error("Error checking localStorage for SBS event:",n),!1}},_E=(e,t)=>{try{const n=CSe(e,t);Ue.setItem(n,"true")}catch(n){Q.error("Error setting localStorage for SBS event:",n)}},MBt=({results:e,session:t,trackEvent:n})=>{const r=f.useCallback(()=>{if(!e[0])return null;const c=e[0].side_by_side_metadata;if(!c?.sibling_uuid)return null;const u=c.experiment_override,d=u&&Object.keys(u)[0]||"";return{evaluationUUID:c.sibling_uuid,experimentVariationKey:d,evaluatorID:t?.user?.id||t?.user?.email||"anonymous"}},[e,t?.user?.id,t?.user?.email]),s=f.useCallback(c=>{try{const u=r();if(!u)return null;let d,h;if(c===Kb)d=Kb,h=void 0;else if(d=c,d>=0&&d<e.length)h=e[d].backend_uuid;else return Q.warn(`Invalid SBS selection index: ${c}, results length: ${e.length}`),null;return{eventType:"sbs judgment",timestampMs:Date.now(),eventData:{evaluationUUID:u.evaluationUUID,evaluatorID:u.evaluatorID,preferredPosition:d,entryUUID:h}}}catch(u){return Q.error("Failed to build SBS judgment payload:",u),null}},[r,e]),a=f.useCallback(c=>{try{const u=r();if(!u||wE(u.evaluationUUID,"sbs judgment"))return;const d=s(c);d&&(n("sbs judgment",d),_E(u.evaluationUUID,"sbs judgment"))}catch(u){Q.error("Failed to track SBS judgment:",u)}},[r,s,n]),i=f.useCallback(()=>{try{const c=r();if(!c||wE(c.evaluationUUID,"sbs banner"))return;const u={eventType:"sbs banner",timestampMs:Date.now(),eventData:{evaluationUUID:c.evaluationUUID,evaluatorID:c.evaluatorID,experimentVariationKey:c.experimentVariationKey,experimentRoles:e.map(d=>d.side_by_side_metadata?.experiment_role||`entry_${e.indexOf(d)}`)}};n("sbs banner",u),_E(c.evaluationUUID,"sbs banner")}catch(c){Q.error("Failed to track SBS banner exposure:",c)}},[r,e,n]),o=f.useCallback(()=>{try{const c=r();if(!c||wE(c.evaluationUUID,"sbs exposure"))return;const u={eventType:"sbs exposure",timestampMs:Date.now(),eventData:{evaluationUUID:c.evaluationUUID,evaluatorID:c.evaluatorID,experimentVariationKey:c.experimentVariationKey,entries:e.map(W8t)}};n("sbs exposure",u),_E(c.evaluationUUID,"sbs exposure")}catch(c){Q.error("Failed to track SBS exposure:",c)}},[r,e,n]);return f.useMemo(()=>({trackJudgment:a,trackBannerExposure:i,trackSBSExposure:o}),[a,i,o])},SSe="sbs_trigger_count",Yb="[control]",z8t=[],V8t={isEnabled:!1,sbsVariations:z8t,isLoading:!1,error:null,incrementTriggerCount:()=>{},triggerCount:0},G8t="sbsMaxTriggerCntPerThread";function q8t(e,t,n,r,s,a,i,o){const{isPro:c,isMax:u,hasAccessToProFeatures:d}=e,{isEnterprise:h=!1}=t,m=c||u||h||d,p=c||u||d,g=a?.localeObj?.language||r?.language||null,v=r?.country||n?.country||null,y=s?.toLowerCase()||null,x=h?"ENTERPRISE":"INDIVIDUAL",b=typeof window<"u"&&window.navigator.userAgent.includes("Mobile");return{isPriority:m,isSubscribed:p,language:g,country:v,searchFocus:y,userCategory:x,isFollowUp:!!o,isMobile:b,appApiClient:"web",[G8t]:i}}const K8t=e=>{const t=n=>n.side_by_side_metadata?.experiment_role?.startsWith(Yb)??!1;for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return[r,...e.slice(0,n),...e.slice(n+1)]}return[...e]},Y8t=e=>{try{if(!e||!e.side_by_side_config)return!1;const t=e.side_by_side_config;if(!t||typeof t!="object")return!1;const n=!!(t.experiment_flag&&typeof t.experiment_flag=="string"&&t.experiment_flag.length>0),r=!!(t.variations&&Array.isArray(t.variations)&&t.variations.length>0);return n||r}catch{return!1}},Q8t=e=>{if(!e||!e.side_by_side_config)return[];const t=e.side_by_side_config;if(!t.experiment_flag||!t.variations||!Array.isArray(t.variations))return[];if(t.variations.length===0)return[];const n=[],r=ja(),s=t.experiment_flag;let a=!1;return t.variations.forEach(i=>{if(!i||!i.identifier)return;const o=i.is_control===!0;o&&(a=!0);const c=o?`${Yb}${s}:${i.identifier}`:`${s}:${i.identifier}`,u={[s]:i.attributes_override??{}};n.push({sibling_uuid:r,experiment_role:c,experiment_override:u})}),!a&&n.length>0&&(n[0].experiment_role=`${Yb}${s}:${t.variations[0].identifier}`),n},ZK=e=>{try{const t=Nr.getItem(`${SSe}_${e}`);return t?parseInt(t,10):0}catch{return 0}},X8t=(e,t)=>{try{Nr.setItem(`${SSe}_${e}`,t.toString())}catch{}};function Z8t({frontendContextUUID:e,disableSideBySide:t=!1}){const n=ma(),r=At(),s=Gt({reason:"sbs-experiment-attributes"}),a=Dt(),i=mit({reason:"sbs-experiment-attributes"}),o=h5e(),c=cn()||rr()||yR();t=t||n===ue.STUDIO||n===ue.RESEARCH||c;const[u,d]=f.useState(()=>e?ZK(e):0),h=e?q8t(r,s,a,i,n,o,u,e):{},{sideBySideOverrides:m,loading:p,error:g}=B8t(e||"",h),v=g?String(g):null,y=Y8t(m);f.useEffect(()=>{if(e){const b=ZK(e);d(Math.max(0,b))}else d(0)},[e]),f.useEffect(()=>{y&&e&&u>0&&X8t(e,u)},[e,u,y]);const x=f.useCallback(()=>{y&&d(b=>Math.max(0,b+1))},[y]);return f.useMemo(()=>{if(t||!y||v)return V8t;const b=Q8t(m);return{isEnabled:y,sbsVariations:b,isLoading:p,error:v,incrementTriggerCount:x,triggerCount:u}},[t,v,x,y,p,m,u])}const TBt=e=>{if(!e.length)return[];const t=new Map;return e.forEach(n=>{if(n.side_by_side_metadata?.sibling_uuid&&n.side_by_side_metadata?.selection_status===Ho.UNSELECTED)return;const r=n.side_by_side_metadata?.sibling_uuid??n.backend_uuid;t.has(r)||t.set(r,[]),t.get(r).push(n)}),[...t.values()].map(n=>{const r=K8t(n);return r[0].side_by_side_metadata?.selection_status===Ho.TIE?[r[0]]:r})},NBt=async(e,t,n,r)=>{const s=(a,i)=>{r(o=>o.filter(c=>t.some(u=>u.backend_uuid===c.backend_uuid)?c.backend_uuid===a.backend_uuid:!0).map(c=>c.backend_uuid===a.backend_uuid?{...c,side_by_side_metadata:c.side_by_side_metadata?{...c.side_by_side_metadata,selection_status:i}:void 0}:c))};try{const a=t.map((c,u)=>{let d;return e===Kb?d=Ho.TIE:d=u===e?Ho.SELECTED:Ho.UNSELECTED,NKe({entryUUID:c.backend_uuid,params:d,siblingUUID:n,reason:"user-sbs-selection"}).catch(h=>{throw Q.error(`Failed to update selection for entry ${c.backend_uuid}:`,h),h})});await Promise.all(a);let i,o;e===Kb?(i=t.find(u=>u.side_by_side_metadata?.experiment_role?.startsWith(Yb))||t[0],o=Ho.TIE):(i=t[e],o=Ho.SELECTED),s(i,o)}catch(a){throw Q.error("Failed to update entry selection:",a),a}};function J8t({handleSubmitQuery:e,isHomepage:t,contextUuid:n,disableSideBySide:r=!1}){const{isEnabled:s,sbsVariations:a,incrementTriggerCount:i}=Z8t({frontendContextUUID:n,disableSideBySide:r});return f.useCallback(c=>{s?(i(),a.forEach(u=>{const{experiment_override:d,sibling_uuid:h,experiment_role:m}=u,p={experiment_role:m,sibling_uuid:h,experiment_override:d,selection_status:Ho.SELECTION_STATUS_UNSPECIFIED},g={...c,...t?{newFrontendContextUUID:n}:{existingFrontendContextUUID:n},side_by_side_metadata:p};e(g)})):e(c)},[e,s,a,i,t,n])}const e7t=3e3;function ESe({collection:e,onSubmit:t,redirectToNewThread:n=!0,csrRedirect:r=!1}){const{$t:s}=K(),{isCopilot:a}=Qn(),{submitQuery:i}=Bc(),{actions:{clearCurrentStreamId:o,clearCurrentThreadId:c}}=fr(),u=Rt(),d=ma(),{handleSubmitQueryWithMention:h}=P8t(),m=f.useMemo(()=>ja(),[]),p=f.useCallback(async _=>{if(_.query.trim()==="")return;t?.(_),_.mentions&&(_.mentions.some(S=>S.type==="space")&&h(),_.mentions.some(S=>S.type==="shortcut")&&Ue.setItem(_Se,"true"));const C=_.newFrontendContextUUID??ja();n&&(c(),o(),i({rawQuery:_.query,dslQuery:_.dslQuery,mentions:_.mentions,copilotOverride:a?!0:void 0,attachments:_.attachments,collection:e||null,newFrontendContextUUID:C,promptSource:_.promptSource||"user",querySource:_.querySource,timeFromFirstType:_.timeFromFirstType,shouldRedirectToBackendUUID:!r,..._.side_by_side_metadata&&{side_by_side_metadata:_.side_by_side_metadata},onThreadSlugReceived:S=>{if(!r)return;const k=window.location.pathname;k.startsWith(`${u.base}/search/`)&&cke(k.split("/").pop())&&u.replace(`/search/${S}`,"Home ask input")}}),r&&setTimeout(()=>{u.push(`/search/new/${C}`,void 0,"Home ask input")}))},[t,n,c,o,i,a,e,r,u,h]),g=J8t({handleSubmitQuery:p,isHomepage:!0,contextUuid:m}),v=f.useMemo(()=>_i(g,e7t,{leading:!0}),[g]),[y,x,b]=F8t({onSubmit:v,immediate:!r}),w=s(vr[d].askInputPlaceholder);return[y,x,f.useMemo(()=>({...b,placeholder:w}),[b,w])]}function t7t(){const{value:e}=Rr({flag:"at-mention-spaces",subjectType:"user_nextauth_id",defaultValue:!0});return e}function n7t({reason:e,collectionName:t,isLazy:n=!0,enabled:r=!0}){const{$t:s}=K(),[a,i]=f.useState(()=>!n),{isMobileStyle:o}=Oe(),c=ut(),u=t7t()&&r,{data:d,isStale:h,refetch:m}=at({queryKey:_p(),queryFn:()=>TXe({reason:e}),enabled:u&&a,staleTime:10*60*1e3}),p=f.useCallback(()=>{a?h&&m():i(!0)},[a,h,m]),g=f.useMemo(()=>(d?.spaces??[]).map(x=>({uuid:x.uuid,variant:"space",label:x.title,emoji:x.emoji||void 0})),[d]),v=f.useMemo(()=>{const y=bHe();if(!(!u||o||!c||y))return t?s({defaultMessage:"Ask anything about { space } or @ mention a Space",id:"NpwyMmamjs"},{space:t}):s({defaultMessage:"Ask anything or @mention a Space",id:"5FEHAEZOKs"})},[s,t,u,o,c]);return f.useMemo(()=>({isAtMentionSpacesEnabled:u,mentionSpacesOptions:g,inputPlaceholder:v,onTrigger:p}),[v,u,g,p])}const r7t=(e,t)=>{const[n,r]=f.useState(e),s=EN(r,t);return f.useEffect(()=>{s(e)},[e,s]),n},s7t=5e3,a7t=3e3,i7t=(e,t=!0)=>{const{$t:n}=K(),r=cn(),s=rr(),a=t&&r,{sourceTabUrl:i}=kd(),o=r7t(i,a7t),c=f.useMemo(()=>s?["get_tabs_for_sidecar",o]:["get_tabs_for_ntp"],[s,o]),{data:u=je}=at({queryKey:c,queryFn:async()=>(await e.fetchOpenedTabs()).map(m=>({uuid:String(m.tabId),variant:"tab",label:m.title,url:m.url,src:Ug(m.url)})),staleTime:s7t,enabled:a}),d=f.useMemo(()=>a?n({defaultMessage:"Ask anything or @mention a tab",id:"37eMdtX5Pe"}):void 0,[n,a]);return f.useMemo(()=>({tabs:u,tabAttachmentsEnabled:a,inputPlaceholder:d}),[d,a,u])},kSe=({reason:e,isLazy:t=!0,variants:n,collectionName:r})=>{const[s,a]=f.useState(""),i=Vr(),o=n===void 0||n.includes("tab"),c=n===void 0||n.includes("space"),u=n===void 0||n.includes("shortcut"),{tabs:d,tabAttachmentsEnabled:h,inputPlaceholder:m}=i7t(i,o),{isAtMentionSpacesEnabled:p,mentionSpacesOptions:g,onTrigger:v,inputPlaceholder:y}=n7t({reason:e,collectionName:r,isLazy:t,enabled:c}),{isShortcutTasksEnabled:x,shortcutsTypeaheadOptions:b,inputPlaceholder:w,onTrigger:_}=L8t({reason:e,enabled:u}),C=h||p||x,S=f.useMemo(()=>[...h&&s==="@"?d:[],...p&&s==="@"?g:[],...x&&s==="/"?b:[]],[h,s,d,p,g,x,b]),k=f.useCallback(M=>{a(M),M==="@"?v():M==="/"&&_()},[_,v]),E=f.useMemo(()=>{try{if(typeof document>"u")return""}catch{return}return w??m??y},[w,y,m]);return f.useMemo(()=>({useLexical:C,mentionTypeaheadOptions:S,inputPlaceholder:E,onTriggerTypeahead:k}),[C,S,E,k])},RBt=["ask-input","mini-graphs","watchlist","market-summary"],ABt=["header","ask-input","mini-graphs","financial-profile"],jBt=["header","schedule","standings"],PBt=["header","bracket"],MSe=["ask-input"],IBt=["thread-title"],OBt=["ask-input","article-list"],LBt=["topic-list"];function o7t(){const{value:e}=bd({flag:"comet-ntp-welcome-suggestions",subjectType:"visitor_id",defaultValue:{groups:[]}});return e}const JK="comet-welcome-videos-cached",l7t=()=>{const{value:e}=dr({flag:"comet-welcome-videos",defaultValue:!1}),[t,n]=f.useState(()=>{const r=Ue.getItem(JK);return r?JSON.parse(r):!1});return f.useEffect(()=>{e!==t&&(n(e),Ue.setItem(JK,JSON.stringify(e)))},[e,t]),t},c7t="https://r2cdn.perplexity.ai/comet/cmp_grocery_cart.mp4",u7t="https://r2cdn.perplexity.ai/comet/cmp_reddit_ama.mp4",d7t="https://r2cdn.perplexity.ai/comet/cmp_find_emails.mp4",f7t="https://r2cdn.perplexity.ai/comet/cmp_find_creatine.mp4",h7t="https://r2cdn.perplexity.ai/comet/cmp_bikes_shipping.mp4",m7t="https://r2cdn.perplexity.ai/comet/cmp_summarize_webpage.mp4",p7t="https://r2cdn.perplexity.ai/comet/cmp_walking_route.mp4",g7t="https://r2cdn.perplexity.ai/comet/cmp_v2v_browsing.mp4",v7t="https://r2cdn.perplexity.ai/comet/grocery_cart-min.png",y7t="https://r2cdn.perplexity.ai/comet/reddit_ama-min.png",x7t="https://r2cdn.perplexity.ai/comet/find_emails-min.png",b7t="https://r2cdn.perplexity.ai/comet/find_creatine-min.png",w7t="https://r2cdn.perplexity.ai/comet/bikes_shipping-min.png",_7t="https://r2cdn.perplexity.ai/comet/summarize_webpage-min.png",C7t="https://r2cdn.perplexity.ai/comet/tour_plan-min.png",S7t="https://r2cdn.perplexity.ai/comet/v2v_browsing-min.png",E7t="https://r2cdn.perplexity.ai/comet/cmp_grocery_cart_v2.mp4",k7t="https://r2cdn.perplexity.ai/comet/cmp_reddit_ama_v3.mp4",M7t="https://r2cdn.perplexity.ai/comet/cmp_find_emails_v2.mp4",T7t="https://r2cdn.perplexity.ai/comet/cmp_find_creatine_v2.mp4",N7t="https://r2cdn.perplexity.ai/comet/cmp_bikes_shipping_v3.mp4",R7t="https://r2cdn.perplexity.ai/comet/cmp_summarize_webpage_v2.mp4",A7t="https://r2cdn.perplexity.ai/comet/cmp_walking_route_v2.mp4",j7t="https://r2cdn.perplexity.ai/comet/cmp_v2v_browsing_v2.mp4",P7t=()=>{const{$t:e}=K();return f.useMemo(()=>[{videoSrc:d7t,fullVideoSrc:M7t,previewSrc:x7t,label:e({id:"U51r44Fr7z",defaultMessage:"Master Your Inbox and Calendar"})},{videoSrc:c7t,fullVideoSrc:E7t,previewSrc:v7t,label:e({id:"7rWLu0GI8D",defaultMessage:"Delegate the Basics"})},{videoSrc:m7t,fullVideoSrc:R7t,previewSrc:_7t,label:e({id:"0MeQ1Iywio",defaultMessage:"Get the Gist in Seconds"})},{videoSrc:p7t,fullVideoSrc:A7t,previewSrc:C7t,label:e({id:"zX2SKiQpSn",defaultMessage:"Automate the Clicks"})},{videoSrc:g7t,fullVideoSrc:j7t,previewSrc:S7t,label:e({id:"k3OgfsBfr6",defaultMessage:"Browse with Your Voice"})},{videoSrc:f7t,fullVideoSrc:T7t,previewSrc:b7t,label:e({id:"Fi5Bt5+lYj",defaultMessage:"Quickly Find Answers in Your History"})},{videoSrc:u7t,fullVideoSrc:k7t,previewSrc:y7t,label:e({id:"HHOfPSzTkI",defaultMessage:"Get Insights in One Click"})},{videoSrc:h7t,fullVideoSrc:N7t,previewSrc:w7t,label:e({id:"ytn1Ld8ocW",defaultMessage:"Reference Any Tab for Precise Answers"})}],[e])};function I7t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const e4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rm(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function lO(e){return"nodeType"in e}function Ps(e){var t,n;return e?Rm(e)?e:lO(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function cO(e){const{Document:t}=Ps(e);return e instanceof t}function dv(e){return Rm(e)?!1:e instanceof Ps(e).HTMLElement}function TSe(e){return e instanceof Ps(e).SVGElement}function Am(e){return e?Rm(e)?e.document:lO(e)?cO(e)?e:dv(e)||TSe(e)?e.ownerDocument:document:document:document}const yi=e4?f.useLayoutEffect:f.useEffect;function t4(e){const t=f.useRef(e);return yi(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function O7t(){const e=f.useRef(null),t=f.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function H0(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return yi(()=>{n.current!==e&&(n.current=e)},t),n}function fv(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qb(e){const t=t4(e),n=f.useRef(null),r=f.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,r]}function Xb(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let CE={};function hv(e,t){return f.useMemo(()=>{if(t)return t;const n=CE[e]==null?0:CE[e]+1;return CE[e]=n,e+"-"+n},[e,t])}function NSe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,i)=>{const o=Object.entries(i);for(const[c,u]of o){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const rh=NSe(1),W0=NSe(-1);function L7t(e){return"clientX"in e&&"clientY"in e}function n4(e){if(!e)return!1;const{KeyboardEvent:t}=Ps(e.target);return t&&e instanceof t}function D7t(e){if(!e)return!1;const{TouchEvent:t}=Ps(e.target);return t&&e instanceof t}function Zb(e){if(D7t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return L7t(e)?{x:e.clientX,y:e.clientY}:null}const cd=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[cd.Translate.toString(e),cd.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),eY="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function F7t(e){return e.matches(eY)?e:e.querySelector(eY)}const U7t={display:"none"};function B7t(e){let{id:t,value:n}=e;return T.createElement("div",{id:t,style:U7t},n)}function $7t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return T.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function H7t(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const RSe=f.createContext(null);function W7t(e){const t=f.useContext(RSe);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function z7t(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:s,event:a}=r;e.forEach(i=>{var o;return(o=i[s])==null?void 0:o.call(i,a)})},[e]),t]}const V7t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},G7t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function q7t(e){let{announcements:t=G7t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=V7t}=e;const{announce:a,announcement:i}=H7t(),o=hv("DndLiveRegion"),[c,u]=f.useState(!1);if(f.useEffect(()=>{u(!0)},[]),W7t(f.useMemo(()=>({onDragStart(h){let{active:m}=h;a(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:p}=h;t.onDragMove&&a(t.onDragMove({active:m,over:p}))},onDragOver(h){let{active:m,over:p}=h;a(t.onDragOver({active:m,over:p}))},onDragEnd(h){let{active:m,over:p}=h;a(t.onDragEnd({active:m,over:p}))},onDragCancel(h){let{active:m,over:p}=h;a(t.onDragCancel({active:m,over:p}))}}),[a,t])),!c)return null;const d=T.createElement(T.Fragment,null,T.createElement(B7t,{id:r,value:s.draggable}),T.createElement($7t,{id:o,announcement:i}));return n?as.createPortal(d,n):d}var lr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(lr||(lr={}));function Jb(){}function K7t(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Y7t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const xi=Object.freeze({x:0,y:0});function uO(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q7t(e,t){const n=Zb(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function dO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function X7t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function KT(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function ASe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function tY(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const DBt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=tY(t,t.left,t.top),a=[];for(const i of r){const{id:o}=i,c=n.get(o);if(c){const u=uO(tY(c),s);a.push({id:o,data:{droppableContainer:i,value:u}})}}return a.sort(dO)},Z7t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=KT(t),a=[];for(const i of r){const{id:o}=i,c=n.get(o);if(c){const u=KT(c),d=s.reduce((m,p,g)=>m+uO(u[g],p),0),h=Number((d/4).toFixed(4));a.push({id:o,data:{droppableContainer:i,value:h}})}}return a.sort(dO)};function J7t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=s-r,o=a-n;if(r<s&&n<a){const c=t.width*t.height,u=e.width*e.height,d=i*o,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const eTt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:i}=a,o=n.get(i);if(o){const c=J7t(o,t);c>0&&s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(X7t)};function tTt(e,t){const{top:n,left:r,bottom:s,right:a}=t;return n<=e.y&&e.y<=s&&r<=e.x&&e.x<=a}const nTt=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:r}=e;if(!r)return[];const s=[];for(const a of t){const{id:i}=a,o=n.get(i);if(o&&tTt(r,o)){const u=KT(o).reduce((h,m)=>h+uO(r,m),0),d=Number((u/4).toFixed(4));s.push({id:i,data:{droppableContainer:a,value:d}})}}return s.sort(dO)};function rTt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function jSe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:xi}function sTt(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((i,o)=>({...i,top:i.top+e*o.y,bottom:i.bottom+e*o.y,left:i.left+e*o.x,right:i.right+e*o.x}),{...n})}}const aTt=sTt(1);function PSe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function iTt(e,t,n){const r=PSe(t);if(!r)return e;const{scaleX:s,scaleY:a,x:i,y:o}=r,c=e.left-i-(1-s)*parseFloat(n),u=e.top-o-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,h=a?e.height/a:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const oTt={ignoreTransform:!1};function jm(e,t){t===void 0&&(t=oTt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ps(e).getComputedStyle(e);u&&(n=iTt(n,u,d))}const{top:r,left:s,width:a,height:i,bottom:o,right:c}=n;return{top:r,left:s,width:a,height:i,bottom:o,right:c}}function nY(e){return jm(e,{ignoreTransform:!0})}function lTt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function cTt(e,t){return t===void 0&&(t=Ps(e).getComputedStyle(e)),t.position==="fixed"}function uTt(e,t){t===void 0&&(t=Ps(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function r4(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(cO(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!dv(s)||TSe(s)||n.includes(s))return n;const a=Ps(e).getComputedStyle(s);return s!==e&&uTt(s,a)&&n.push(s),cTt(s,a)?n:r(s.parentNode)}return e?r(e):n}function ISe(e){const[t]=r4(e,1);return t??null}function SE(e){return!e4||!e?null:Rm(e)?e:lO(e)?cO(e)||e===Am(e).scrollingElement?window:dv(e)?e:null:null}function OSe(e){return Rm(e)?e.scrollX:e.scrollLeft}function LSe(e){return Rm(e)?e.scrollY:e.scrollTop}function YT(e){return{x:OSe(e),y:LSe(e)}}var yr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(yr||(yr={}));function DSe(e){return!e4||!e?!1:e===document.scrollingElement}function FSe(e){const t={x:0,y:0},n=DSe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,o=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:i,isRight:o,maxScroll:r,minScroll:t}}const dTt={x:.2,y:.2};function fTt(e,t,n,r,s){let{top:a,left:i,right:o,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=dTt);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=FSe(e),p={x:0,y:0},g={x:0,y:0},v={height:t.height*s.y,width:t.width*s.x};return!u&&a<=t.top+v.height?(p.y=yr.Backward,g.y=r*Math.abs((t.top+v.height-a)/v.height)):!d&&c>=t.bottom-v.height&&(p.y=yr.Forward,g.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!m&&o>=t.right-v.width?(p.x=yr.Forward,g.x=r*Math.abs((t.right-v.width-o)/v.width)):!h&&i<=t.left+v.width&&(p.x=yr.Backward,g.x=r*Math.abs((t.left+v.width-i)/v.width)),{direction:p,speed:g}}function hTt(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function USe(e){return e.reduce((t,n)=>rh(t,YT(n)),xi)}function mTt(e){return e.reduce((t,n)=>t+OSe(n),0)}function pTt(e){return e.reduce((t,n)=>t+LSe(n),0)}function BSe(e,t){if(t===void 0&&(t=jm),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);ISe(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const gTt=[["x",["left","right"],mTt],["y",["top","bottom"],pTt]];class fO{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=r4(n),s=USe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,o]of gTt)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=o(r),d=s[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wg{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function vTt(e){const{EventTarget:t}=Ps(e);return e instanceof t?e:Am(e)}function EE(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var wa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wa||(wa={}));function rY(e){e.preventDefault()}function yTt(e){e.stopPropagation()}var Ht;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ht||(Ht={}));const $Se={start:[Ht.Space,Ht.Enter],cancel:[Ht.Esc],end:[Ht.Space,Ht.Enter,Ht.Tab]},xTt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ht.Right:return{...n,x:n.x+25};case Ht.Left:return{...n,x:n.x-25};case Ht.Down:return{...n,y:n.y+25};case Ht.Up:return{...n,y:n.y-25}}};class HSe{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new wg(Am(n)),this.windowListeners=new wg(Ps(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wa.Resize,this.handleCancel),this.windowListeners.add(wa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&BSe(r),n(xi)}handleKeyDown(t){if(n4(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=$Se,coordinateGetter:i=xTt,scrollBehavior:o="smooth"}=s,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:xi;this.referenceCoordinates||(this.referenceCoordinates=d);const h=i(t,{active:n,context:r.current,currentCoordinates:d});if(h){const m=W0(h,d),p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:_,maxScroll:C,minScroll:S}=FSe(v),k=hTt(v),E={x:Math.min(y===Ht.Right?k.right-k.width/2:k.right,Math.max(y===Ht.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(y===Ht.Down?k.bottom-k.height/2:k.bottom,Math.max(y===Ht.Down?k.top:k.top+k.height/2,h.y))},M=y===Ht.Right&&!b||y===Ht.Left&&!w,N=y===Ht.Down&&!_||y===Ht.Up&&!x;if(M&&E.x!==h.x){const R=v.scrollLeft+m.x,A=y===Ht.Right&&R<=C.x||y===Ht.Left&&R>=S.x;if(A&&!m.y){v.scrollTo({left:R,behavior:o});return}A?p.x=v.scrollLeft-R:p.x=y===Ht.Right?v.scrollLeft-C.x:v.scrollLeft-S.x,p.x&&v.scrollBy({left:-p.x,behavior:o});break}else if(N&&E.y!==h.y){const R=v.scrollTop+m.y,A=y===Ht.Down&&R<=C.y||y===Ht.Up&&R>=S.y;if(A&&!m.x){v.scrollTo({top:R,behavior:o});return}A?p.y=v.scrollTop-R:p.y=y===Ht.Down?v.scrollTop-C.y:v.scrollTop-S.y,p.y&&v.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(t,rh(W0(h,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}HSe.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=$Se,onActivation:s}=t,{active:a}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const o=a.activatorNode.current;return o&&e.target!==o?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function sY(e){return!!(e&&"distance"in e)}function aY(e){return!!(e&&"delay"in e)}class hO{constructor(t,n,r){var s;r===void 0&&(r=vTt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:i}=a;this.props=t,this.events=n,this.document=Am(i),this.documentListeners=new wg(this.document),this.listeners=new wg(r),this.windowListeners=new wg(Ps(i)),this.initialCoordinates=(s=Zb(a))!=null?s:xi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(wa.Resize,this.handleCancel),this.windowListeners.add(wa.DragStart,rY),this.windowListeners.add(wa.VisibilityChange,this.handleCancel),this.windowListeners.add(wa.ContextMenu,rY),this.documentListeners.add(wa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aY(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(sY(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(wa.Click,yTt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:i,options:{activationConstraint:o}}=a;if(!s)return;const c=(n=Zb(t))!=null?n:xi,u=W0(s,c);if(!r&&o){if(sY(o)){if(o.tolerance!=null&&EE(u,o.tolerance))return this.handleCancel();if(EE(u,o.distance))return this.handleStart()}if(aY(o)&&EE(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ht.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const bTt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mO extends hO{constructor(t){const{event:n}=t,r=Am(n.target);super(t,bTt,r)}}mO.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const wTt={move:{name:"mousemove"},end:{name:"mouseup"}};var QT;(function(e){e[e.RightClick=2]="RightClick"})(QT||(QT={}));class _Tt extends hO{constructor(t){super(t,wTt,Am(t.event.target))}}_Tt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===QT.RightClick?!1:(r?.({event:n}),!0)}}];const kE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class CTt extends hO{constructor(t){super(t,kE)}static setup(){return window.addEventListener(kE.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(kE.move.name,t)};function t(){}}}CTt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var _g;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(_g||(_g={}));var ew;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ew||(ew={}));function STt(e){let{acceleration:t,activator:n=_g.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:i=5,order:o=ew.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=e;const p=kTt({delta:h,disabled:!a}),[g,v]=O7t(),y=f.useRef({x:0,y:0}),x=f.useRef({x:0,y:0}),b=f.useMemo(()=>{switch(n){case _g.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case _g.DraggableRect:return s}},[n,s,c]),w=f.useRef(null),_=f.useCallback(()=>{const S=w.current;if(!S)return;const k=y.current.x*x.current.x,E=y.current.y*x.current.y;S.scrollBy(k,E)},[]),C=f.useMemo(()=>o===ew.TreeOrder?[...u].reverse():u,[o,u]);f.useEffect(()=>{if(!a||!u.length||!b){v();return}for(const S of C){if(r?.(S)===!1)continue;const k=u.indexOf(S),E=d[k];if(!E)continue;const{direction:M,speed:N}=fTt(S,E,b,t,m);for(const R of["x","y"])p[R][M[R]]||(N[R]=0,M[R]=0);if(N.x>0||N.y>0){v(),w.current=S,g(_,i),y.current=N,x.current=M;return}}y.current={x:0,y:0},x.current={x:0,y:0},v()},[t,_,r,v,a,i,JSON.stringify(b),JSON.stringify(p),g,u,C,d,JSON.stringify(m)])}const ETt={x:{[yr.Backward]:!1,[yr.Forward]:!1},y:{[yr.Backward]:!1,[yr.Forward]:!1}};function kTt(e){let{delta:t,disabled:n}=e;const r=Xb(t);return fv(s=>{if(n||!r||!s)return ETt;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[yr.Backward]:s.x[yr.Backward]||a.x===-1,[yr.Forward]:s.x[yr.Forward]||a.x===1},y:{[yr.Backward]:s.y[yr.Backward]||a.y===-1,[yr.Forward]:s.y[yr.Forward]||a.y===1}}},[n,t,r])}function MTt(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return fv(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function TTt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...a]},[]),[e,t])}var z0;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(z0||(z0={}));var XT;(function(e){e.Optimized="optimized"})(XT||(XT={}));const iY=new Map;function NTt(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,i]=f.useState(null),{frequency:o,measure:c,strategy:u}=s,d=f.useRef(e),h=y(),m=H0(h),p=f.useCallback(function(x){x===void 0&&(x=[]),!m.current&&i(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[m]),g=f.useRef(null),v=fv(x=>{if(h&&!n)return iY;if(!x||x===iY||d.current!==e||a!=null){const b=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const _=w.node.current,C=_?new fO(c(_),_):null;w.rect.current=C,C&&b.set(w.id,C)}return b}return x},[e,a,n,h,c]);return f.useEffect(()=>{d.current=e},[e]),f.useEffect(()=>{h||p()},[n,h]),f.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),f.useEffect(()=>{h||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,h,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:a!=null};function y(){switch(u){case z0.Always:return!1;case z0.BeforeDragging:return n;default:return!n}}}function pO(e,t){return fv(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function RTt(e,t){return pO(e,t)}function ATt(e){let{callback:t,disabled:n}=e;const r=t4(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return f.useEffect(()=>()=>s?.disconnect(),[s]),s}function s4(e){let{callback:t,disabled:n}=e;const r=t4(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return f.useEffect(()=>()=>s?.disconnect(),[s]),s}function jTt(e){return new fO(jm(e),e)}function oY(e,t,n){t===void 0&&(t=jTt);const[r,s]=f.useState(null);function a(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=ATt({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){a();break}}}}),o=s4({callback:a});return yi(()=>{a(),e?(o?.observe(e),i?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),i?.disconnect())},[e]),r}function PTt(e){const t=pO(e);return jSe(e,t)}const lY=[];function ITt(e){const t=f.useRef(e),n=fv(r=>e?r&&r!==lY&&e&&t.current&&e.parentNode===t.current.parentNode?r:r4(e):lY,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function OTt(e){const[t,n]=f.useState(null),r=f.useRef(e),s=f.useCallback(a=>{const i=SE(a.target);i&&n(o=>o?(o.set(i,YT(i)),new Map(o)):null)},[]);return f.useEffect(()=>{const a=r.current;if(e!==a){i(a);const o=e.map(c=>{const u=SE(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,YT(u)]):null}).filter(c=>c!=null);n(o.length?new Map(o):null),r.current=e}return()=>{i(e),i(a)};function i(o){o.forEach(c=>{const u=SE(c);u?.removeEventListener("scroll",s)})}},[s,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>rh(a,i),xi):USe(e):xi,[e,t])}function cY(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==xi;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?W0(e,n.current):xi}function LTt(e){f.useEffect(()=>{if(!e4)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function DTt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=i=>{a(i,t)},n},{}),[e,t])}function WSe(e){return f.useMemo(()=>e?lTt(e):null,[e])}const uY=[];function FTt(e,t){t===void 0&&(t=jm);const[n]=e,r=WSe(n?Ps(n):null),[s,a]=f.useState(uY);function i(){a(()=>e.length?e.map(c=>DSe(c)?r:new fO(t(c),c)):uY)}const o=s4({callback:i});return yi(()=>{o?.disconnect(),i(),e.forEach(c=>o?.observe(c))},[e]),s}function zSe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return dv(t)?t:e}function UTt(e){let{measure:t}=e;const[n,r]=f.useState(null),s=f.useCallback(u=>{for(const{target:d}of u)if(dv(d)){r(h=>{const m=t(d);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),a=s4({callback:s}),i=f.useCallback(u=>{const d=zSe(u);a?.disconnect(),d&&a?.observe(d),r(d?t(d):null)},[t,a]),[o,c]=Qb(i);return f.useMemo(()=>({nodeRef:o,rect:n,setRef:c}),[n,o,c])}const BTt=[{sensor:mO,options:{}},{sensor:HSe,options:{}}],$Tt={current:{}},U2={draggable:{measure:nY},droppable:{measure:nY,strategy:z0.WhileDragging,frequency:XT.Optimized},dragOverlay:{measure:jm}};class Cg extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const HTt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cg,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Jb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:U2,measureDroppableContainers:Jb,windowRect:null,measuringScheduled:!1},VSe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Jb,draggableNodes:new Map,over:null,measureDroppableContainers:Jb},mv=f.createContext(VSe),GSe=f.createContext(HTt);function WTt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cg}}}function zTt(e,t){switch(t.type){case lr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case lr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case lr.DragEnd:case lr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lr.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Cg(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case lr.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new Cg(e.droppable.containers);return i.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case lr.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Cg(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function VTt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=f.useContext(mv),a=Xb(r),i=Xb(n?.id);return f.useEffect(()=>{if(!t&&!r&&a&&i!=null){if(!n4(a)||document.activeElement===a.target)return;const o=s.get(i);if(!o)return;const{activatorNode:c,node:u}=o;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=F7t(d);if(h){h.focus();break}}})}},[r,t,s,i,a]),null}function qSe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function GTt(e){return f.useMemo(()=>({draggable:{...U2.draggable,...e?.draggable},droppable:{...U2.droppable,...e?.droppable},dragOverlay:{...U2.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function qTt(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=f.useRef(!1),{x:i,y:o}=typeof s=="boolean"?{x:s,y:s}:s;yi(()=>{if(!i&&!o||!t){a.current=!1;return}if(a.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=jSe(d,r);if(i||(h.x=0),o||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=ISe(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,i,o,r,n])}const a4=f.createContext({...xi,scaleX:1,scaleY:1});var Vl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Vl||(Vl={}));const KTt=f.memo(function(t){var n,r,s,a;let{id:i,accessibility:o,autoScroll:c=!0,children:u,sensors:d=BTt,collisionDetection:h=eTt,measuring:m,modifiers:p,...g}=t;const v=f.useReducer(zTt,void 0,WTt),[y,x]=v,[b,w]=z7t(),[_,C]=f.useState(Vl.Uninitialized),S=_===Vl.Initialized,{draggable:{active:k,nodes:E,translate:M},droppable:{containers:N}}=y,R=k!=null?E.get(k):null,A=f.useRef({initial:null,translated:null}),P=f.useMemo(()=>{var un;return k!=null?{id:k,data:(un=R?.data)!=null?un:$Tt,rect:A}:null},[k,R]),O=f.useRef(null),[I,L]=f.useState(null),[F,D]=f.useState(null),B=H0(g,Object.values(g)),$=hv("DndDescribedBy",i),W=f.useMemo(()=>N.getEnabled(),[N]),X=GTt(m),{droppableRects:ee,measureDroppableContainers:ne,measuringScheduled:V}=NTt(W,{dragging:S,dependencies:[M.x,M.y],config:X.droppable}),q=MTt(E,k),z=f.useMemo(()=>F?Zb(F):null,[F]),te=Kr(),Y=RTt(q,X.draggable.measure);qTt({activeNode:k!=null?E.get(k):null,config:te.layoutShiftCompensation,initialRect:Y,measure:X.draggable.measure});const Z=oY(q,X.draggable.measure,Y),re=oY(q?q.parentElement:null),G=f.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),oe=N.getNodeFor((n=G.current.over)==null?void 0:n.id),ae=UTt({measure:X.dragOverlay.measure}),ie=(r=ae.nodeRef.current)!=null?r:q,xe=S?(s=ae.rect)!=null?s:Z:null,de=!!(ae.nodeRef.current&&ae.rect),Se=PTt(de?null:Z),qe=WSe(ie?Ps(ie):null),be=ITt(S?oe??q:null),ve=FTt(be),Be=qSe(p,{transform:{x:M.x-Se.x,y:M.y-Se.y,scaleX:1,scaleY:1},activatorEvent:F,active:P,activeNodeRect:Z,containerNodeRect:re,draggingNodeRect:xe,over:G.current.over,overlayNodeRect:ae.rect,scrollableAncestors:be,scrollableAncestorRects:ve,windowRect:qe}),We=z?rh(z,M):null,Le=OTt(be),De=cY(Le),Ve=cY(Le,[Z]),le=rh(Be,De),we=xe?aTt(xe,Be):null,Je=P&&we?h({active:P,collisionRect:we,droppableRects:ee,droppableContainers:W,pointerCoordinates:We}):null,Te=ASe(Je,"id"),[pe,Fe]=f.useState(null),ht=de?Be:rh(Be,Ve),Pt=rTt(ht,(a=pe?.rect)!=null?a:null,Z),Ft=f.useRef(null),tt=f.useCallback((un,_n)=>{let{sensor:fe,options:Xe}=_n;if(O.current==null)return;const Ge=E.get(O.current);if(!Ge)return;const Ke=un.nativeEvent,nt=new fe({active:O.current,activeNode:Ge,event:Ke,options:Xe,context:G,onAbort(yt){if(!E.get(yt))return;const{onDragAbort:Wt}=B.current,Hn={id:yt};Wt?.(Hn),b({type:"onDragAbort",event:Hn})},onPending(yt,Zt,Wt,Hn){if(!E.get(yt))return;const{onDragPending:ms}=B.current,Ys={id:yt,constraint:Zt,initialCoordinates:Wt,offset:Hn};ms?.(Ys),b({type:"onDragPending",event:Ys})},onStart(yt){const Zt=O.current;if(Zt==null)return;const Wt=E.get(Zt);if(!Wt)return;const{onDragStart:Hn}=B.current,Pr={activatorEvent:Ke,active:{id:Zt,data:Wt.data,rect:A}};as.unstable_batchedUpdates(()=>{Hn?.(Pr),C(Vl.Initializing),x({type:lr.DragStart,initialCoordinates:yt,active:Zt}),b({type:"onDragStart",event:Pr}),L(Ft.current),D(Ke)})},onMove(yt){x({type:lr.DragMove,coordinates:yt})},onEnd:Tt(lr.DragEnd),onCancel:Tt(lr.DragCancel)});Ft.current=nt;function Tt(yt){return async function(){const{active:Wt,collisions:Hn,over:Pr,scrollAdjustedTranslate:ms}=G.current;let Ys=null;if(Wt&&ms){const{cancelDrop:za}=B.current;Ys={activatorEvent:Ke,active:Wt,collisions:Hn,delta:ms,over:Pr},yt===lr.DragEnd&&typeof za=="function"&&await Promise.resolve(za(Ys))&&(yt=lr.DragCancel)}O.current=null,as.unstable_batchedUpdates(()=>{x({type:yt}),C(Vl.Uninitialized),Fe(null),L(null),D(null),Ft.current=null;const za=yt===lr.DragEnd?"onDragEnd":"onDragCancel";if(Ys){const Ri=B.current[za];Ri?.(Ys),b({type:za,event:Ys})}})}}},[E]),st=f.useCallback((un,_n)=>(fe,Xe)=>{const Ge=fe.nativeEvent,Ke=E.get(Xe);if(O.current!==null||!Ke||Ge.dndKit||Ge.defaultPrevented)return;const nt={active:Ke};un(fe,_n.options,nt)===!0&&(Ge.dndKit={capturedBy:_n.sensor},O.current=Xe,tt(fe,_n))},[E,tt]),dt=TTt(d,st);LTt(d),yi(()=>{Z&&_===Vl.Initializing&&C(Vl.Initialized)},[Z,_]),f.useEffect(()=>{const{onDragMove:un}=B.current,{active:_n,activatorEvent:fe,collisions:Xe,over:Ge}=G.current;if(!_n||!fe)return;const Ke={active:_n,activatorEvent:fe,collisions:Xe,delta:{x:le.x,y:le.y},over:Ge};as.unstable_batchedUpdates(()=>{un?.(Ke),b({type:"onDragMove",event:Ke})})},[le.x,le.y]),f.useEffect(()=>{const{active:un,activatorEvent:_n,collisions:fe,droppableContainers:Xe,scrollAdjustedTranslate:Ge}=G.current;if(!un||O.current==null||!_n||!Ge)return;const{onDragOver:Ke}=B.current,nt=Xe.get(Te),Tt=nt&&nt.rect.current?{id:nt.id,rect:nt.rect.current,data:nt.data,disabled:nt.disabled}:null,yt={active:un,activatorEvent:_n,collisions:fe,delta:{x:Ge.x,y:Ge.y},over:Tt};as.unstable_batchedUpdates(()=>{Fe(Tt),Ke?.(yt),b({type:"onDragOver",event:yt})})},[Te]),yi(()=>{G.current={activatorEvent:F,active:P,activeNode:q,collisionRect:we,collisions:Je,droppableRects:ee,draggableNodes:E,draggingNode:ie,draggingNodeRect:xe,droppableContainers:N,over:pe,scrollableAncestors:be,scrollAdjustedTranslate:le},A.current={initial:xe,translated:we}},[P,q,Je,we,E,ie,xe,ee,N,pe,be,le]),STt({...te,delta:M,draggingRect:we,pointerCoordinates:We,scrollableAncestors:be,scrollableAncestorRects:ve});const $t=f.useMemo(()=>({active:P,activeNode:q,activeNodeRect:Z,activatorEvent:F,collisions:Je,containerNodeRect:re,dragOverlay:ae,draggableNodes:E,droppableContainers:N,droppableRects:ee,over:pe,measureDroppableContainers:ne,scrollableAncestors:be,scrollableAncestorRects:ve,measuringConfiguration:X,measuringScheduled:V,windowRect:qe}),[P,q,Z,F,Je,re,ae,E,N,ee,pe,ne,be,ve,X,V,qe]),wn=f.useMemo(()=>({activatorEvent:F,activators:dt,active:P,activeNodeRect:Z,ariaDescribedById:{draggable:$},dispatch:x,draggableNodes:E,over:pe,measureDroppableContainers:ne}),[F,dt,P,Z,x,$,E,pe,ne]);return T.createElement(RSe.Provider,{value:w},T.createElement(mv.Provider,{value:wn},T.createElement(GSe.Provider,{value:$t},T.createElement(a4.Provider,{value:Pt},u)),T.createElement(VTt,{disabled:o?.restoreFocus===!1})),T.createElement(q7t,{...o,hiddenTextDescribedById:$}));function Kr(){const un=I?.autoScrollEnabled===!1,_n=typeof c=="object"?c.enabled===!1:c===!1,fe=S&&!un&&!_n;return typeof c=="object"?{...c,enabled:fe}:{enabled:fe}}}),YTt=f.createContext(null),dY="button",QTt="Draggable";function XTt(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=hv(QTt),{activators:i,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=f.useContext(mv),{role:p=dY,roleDescription:g="draggable",tabIndex:v=0}=s??{},y=c?.id===t,x=f.useContext(y?a4:YTt),[b,w]=Qb(),[_,C]=Qb(),S=DTt(i,t),k=H0(n);yi(()=>(h.set(t,{id:t,key:a,node:b,activatorNode:_,data:k}),()=>{const M=h.get(t);M&&M.key===a&&h.delete(t)}),[h,t]);const E=f.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&p===dY?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,p,v,y,g,d.draggable]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:E,isDragging:y,listeners:r?void 0:S,node:b,over:m,setNodeRef:w,setActivatorNodeRef:C,transform:x}}function KSe(){return f.useContext(GSe)}const ZTt="Droppable",JTt={timeout:25};function e9t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=hv(ZTt),{active:i,dispatch:o,over:c,measureDroppableContainers:u}=f.useContext(mv),d=f.useRef({disabled:n}),h=f.useRef(!1),m=f.useRef(null),p=f.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:y}={...JTt,...s},x=H0(v??r),b=f.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},y)},[y]),w=s4({callback:b,disabled:g||!i}),_=f.useCallback((E,M)=>{w&&(M&&(w.unobserve(M),h.current=!1),E&&w.observe(E))},[w]),[C,S]=Qb(_),k=H0(t);return f.useEffect(()=>{!w||!C.current||(w.disconnect(),h.current=!1,w.observe(C.current))},[C,w]),f.useEffect(()=>(o({type:lr.RegisterDroppable,element:{id:r,key:a,disabled:n,node:C,rect:m,data:k}}),()=>o({type:lr.UnregisterDroppable,key:a,id:r})),[r]),f.useEffect(()=>{n!==d.current.disabled&&(o({type:lr.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,o]),{active:i,rect:m,isOver:c?.id===r,node:C,over:c,setNodeRef:S}}function t9t(e){let{animation:t,children:n}=e;const[r,s]=f.useState(null),[a,i]=f.useState(null),o=Xb(n);return!n&&!r&&o&&s(o),yi(()=>{if(!a)return;const c=r?.key,u=r?.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,a)).then(()=>{s(null)})},[t,r,a]),T.createElement(T.Fragment,null,n,r?f.cloneElement(r,{ref:i}):null)}const n9t={x:0,y:0,scaleX:1,scaleY:1};function r9t(e){let{children:t}=e;return T.createElement(mv.Provider,{value:VSe},T.createElement(a4.Provider,{value:n9t},t))}const s9t={position:"fixed",touchAction:"none"},a9t=e=>n4(e)?"transform 250ms ease":void 0,i9t=f.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:a,className:i,rect:o,style:c,transform:u,transition:d=a9t}=e;if(!o)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={...s9t,width:o.width,height:o.height,top:o.top,left:o.left,transform:cd.Transform.toString(h),transformOrigin:s&&r?Q7t(r,o):void 0,transition:typeof d=="function"?d(r):d,...c};return T.createElement(n,{className:i,style:m,ref:t},a)}),o9t=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:a,className:i}=e;if(a!=null&&a.active)for(const[o,c]of Object.entries(a.active))c!==void 0&&(s[o]=n.node.style.getPropertyValue(o),n.node.style.setProperty(o,c));if(a!=null&&a.dragOverlay)for(const[o,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(o,c);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},l9t=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:cd.Transform.toString(t)},{transform:cd.Transform.toString(n)}]},c9t={duration:250,easing:"ease",keyframes:l9t,sideEffects:o9t({styles:{active:{opacity:"0"}}})};function u9t(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return t4((a,i)=>{if(t===null)return;const o=n.get(a);if(!o)return;const c=o.node.current;if(!c)return;const u=zSe(i);if(!u)return;const{transform:d}=Ps(i).getComputedStyle(i),h=PSe(d);if(!h)return;const m=typeof t=="function"?t:d9t(t);return BSe(c,s.draggable.measure),m({active:{id:a,data:o.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function d9t(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...c9t,...e};return a=>{let{active:i,dragOverlay:o,transform:c,...u}=a;if(!t)return;const d={x:o.rect.left-i.rect.left,y:o.rect.top-i.rect.top},h={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/o.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/o.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...h},p=s({...u,active:i,dragOverlay:o,transform:{initial:c,final:m}}),[g]=p,v=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(v))return;const y=r?.({active:i,dragOverlay:o,...u}),x=o.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{y?.(),b()}})}}let fY=0;function f9t(e){return f.useMemo(()=>{if(e!=null)return fY++,fY},[e])}const FBt=T.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:a,modifiers:i,wrapperElement:o="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:p,draggableNodes:g,droppableContainers:v,dragOverlay:y,over:x,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:C}=KSe(),S=f.useContext(a4),k=f9t(h?.id),E=qSe(i,{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:S,windowRect:C}),M=pO(m),N=u9t({config:r,draggableNodes:g,droppableContainers:v,measuringConfiguration:b}),R=M?y.setRef:void 0;return T.createElement(r9t,null,T.createElement(t9t,{animation:N},h&&k?T.createElement(i9t,{key:k,id:h.id,ref:R,as:o,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:M,style:{zIndex:u,...s},transform:E},n):null))});function gO(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function h9t(e,t){return e.reduce((n,r,s)=>{const a=t.get(r);return a&&(n[s]=a),n},Array(e.length))}function Qy(e){return e!==null&&e>=0}function m9t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p9t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const YSe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=gO(t,r,n),i=t[s],o=a[s];return!o||!i?null:{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}},Xy={scaleX:1,scaleY:1},UBt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:i}=e;const o=(t=a[n])!=null?t:r;if(!o)return null;if(s===n){const u=a[i];return u?{x:0,y:n<i?u.top+u.height-(o.top+o.height):u.top-o.top,...Xy}:null}const c=g9t(a,s,n);return s>n&&s<=i?{x:0,y:-o.height-c,...Xy}:s<n&&s>=i?{x:0,y:o.height+c,...Xy}:{x:0,y:0,...Xy}};function g9t(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];return r?n<t?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const QSe="Sortable",XSe=T.createContext({activeIndex:-1,containerId:QSe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:YSe,disabled:{draggable:!1,droppable:!1}});function v9t(e){let{children:t,id:n,items:r,strategy:s=YSe,disabled:a=!1}=e;const{active:i,dragOverlay:o,droppableRects:c,over:u,measureDroppableContainers:d}=KSe(),h=hv(QSe,n),m=o.rect!==null,p=f.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),g=i!=null,v=i?p.indexOf(i.id):-1,y=u?p.indexOf(u.id):-1,x=f.useRef(p),b=!m9t(p,x.current),w=y!==-1&&v===-1||b,_=p9t(a);yi(()=>{b&&g&&d(p)},[b,p,g,d]),f.useEffect(()=>{x.current=p},[p]);const C=f.useMemo(()=>({activeIndex:v,containerId:h,disabled:_,disableTransforms:w,items:p,overIndex:y,useDragOverlay:m,sortedRects:h9t(p,c),strategy:s}),[v,h,_.draggable,_.droppable,w,p,y,c,m,s]);return T.createElement(XSe.Provider,{value:C},t)}const y9t=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return gO(n,r,s).indexOf(t)},x9t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:i,previousItems:o,previousContainerId:c,transition:u}=e;return!u||!r||o!==a&&s===i?!1:n?!0:i!==s&&t===c},b9t={duration:200,easing:"ease"},ZSe="transform",w9t=cd.Transition.toString({property:ZSe,duration:0,easing:"linear"}),_9t={roleDescription:"sortable"};function C9t(e){let{disabled:t,index:n,node:r,rect:s}=e;const[a,i]=f.useState(null),o=f.useRef(n);return yi(()=>{if(!t&&n!==o.current&&r.current){const c=s.current;if(c){const u=jm(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}n!==o.current&&(o.current=n)},[t,n,r,s]),f.useEffect(()=>{a&&i(null)},[a]),a}function S9t(e){let{animateLayoutChanges:t=x9t,attributes:n,disabled:r,data:s,getNewIndex:a=y9t,id:i,strategy:o,resizeObserverConfig:c,transition:u=b9t}=e;const{items:d,containerId:h,activeIndex:m,disabled:p,disableTransforms:g,sortedRects:v,overIndex:y,useDragOverlay:x,strategy:b}=f.useContext(XSe),w=E9t(r,p),_=d.indexOf(i),C=f.useMemo(()=>({sortable:{containerId:h,index:_,items:d},...s}),[h,s,_,d]),S=f.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:k,node:E,isOver:M,setNodeRef:N}=e9t({id:i,data:C,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:R,activatorEvent:A,activeNodeRect:P,attributes:O,setNodeRef:I,listeners:L,isDragging:F,over:D,setActivatorNodeRef:B,transform:$}=XTt({id:i,data:C,attributes:{..._9t,...n},disabled:w.draggable}),W=I7t(N,I),X=!!R,ee=X&&!g&&Qy(m)&&Qy(y),ne=!x&&F,V=ne&&ee?$:null,z=ee?V??(o??b)({rects:v,activeNodeRect:P,activeIndex:m,overIndex:y,index:_}):null,te=Qy(m)&&Qy(y)?a({id:i,items:d,activeIndex:m,overIndex:y}):_,Y=R?.id,Z=f.useRef({activeId:Y,items:d,newIndex:te,containerId:h}),re=d!==Z.current.items,G=t({active:R,containerId:h,isDragging:F,isSorting:X,id:i,index:_,items:d,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:u,wasDragging:Z.current.activeId!=null}),oe=C9t({disabled:!G,index:_,node:E,rect:k});return f.useEffect(()=>{X&&Z.current.newIndex!==te&&(Z.current.newIndex=te),h!==Z.current.containerId&&(Z.current.containerId=h),d!==Z.current.items&&(Z.current.items=d)},[X,te,h,d]),f.useEffect(()=>{if(Y===Z.current.activeId)return;if(Y!=null&&Z.current.activeId==null){Z.current.activeId=Y;return}const ie=setTimeout(()=>{Z.current.activeId=Y},50);return()=>clearTimeout(ie)},[Y]),{active:R,activeIndex:m,attributes:O,data:C,rect:k,index:_,newIndex:te,items:d,isOver:M,isSorting:X,isDragging:F,listeners:L,node:E,overIndex:y,over:D,setNodeRef:W,setActivatorNodeRef:B,setDroppableNodeRef:N,setDraggableNodeRef:I,transform:oe??z,transition:ae()};function ae(){if(oe||re&&Z.current.newIndex===_)return w9t;if(!(ne&&!n4(A)||!u)&&(X||G))return cd.Transition.toString({...u,property:ZSe})}}function E9t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function tw(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const k9t=[Ht.Down,Ht.Right,Ht.Up,Ht.Left],BBt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:i,scrollableAncestors:o}}=t;if(k9t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case Ht.Down:r.top<m.top&&c.push(h);break;case Ht.Up:r.top>m.top&&c.push(h);break;case Ht.Left:r.left>m.left&&c.push(h);break;case Ht.Right:r.left<m.left&&c.push(h);break}});const u=Z7t({collisionRect:r,droppableRects:s,droppableContainers:c});let d=ASe(u,"id");if(d===i?.id&&u.length>1&&(d=u[1].id),d!=null){const h=a.get(n.id),m=a.get(d),p=m?s.get(m.id):null,g=m?.node.current;if(g&&p&&h&&m){const y=r4(g).some((S,k)=>o[k]!==S),x=JSe(h,m),b=M9t(h,m),w=y||!x?{x:0,y:0}:{x:b?r.width-p.width:0,y:b?r.height-p.height:0},_={x:p.left,y:p.top};return w.x&&w.y?_:W0(_,w)}}}};function JSe(e,t){return!tw(e)||!tw(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function M9t(e,t){return!tw(e)||!tw(t)||!JSe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function T9t(){const{value:e}=dr({flag:"wormhole-widget",defaultValue:!1});return e}const e6e=T.memo(({context:e="widget"})=>{const t=l.jsx(j,{variant:"tiny",color:"ultraLight",className:"flex size-full items-center justify-center text-center",children:"Wormhole Widget"});return e==="thumbnail"?t:l.jsx(Fn,{shadow:!0,className:"active:!bg-offset dark:active:!bg-offsetPlus aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:t})}),t6e="pplx-top-sites-cache",N9t=()=>{try{const e=Ue.getItem(t6e);return e?JSON.parse(e):[]}catch{return[]}},R9t=e=>{Ue.setItem(t6e,JSON.stringify(e))},n6e=({maxUrls:e=15}={})=>{const t=Vr(),n=N9t();return at({queryKey:["topMostUrls"],queryFn:async()=>{const s=(await DOe({cometBrowser:t,maxUrls:e}))?.reduce((i,o)=>{const u=new URL(o.url).hostname;return(!i[u]||i[u].visitCount<o.visitCount)&&(i[u]=o),i},{})??{},a=Object.values(s);return R9t(a),a},placeholderData:n,staleTime:5*60*1e3})},r6e=[{type:"TOP_URLS",name:"Top Sites",singleton:!0,width:4},{type:"ANALOG_CLOCK",name:"Clock",settings:!0,width:1},{type:"STICKY",name:"Sticky",settings:!0,width:1},{type:"WEATHER",name:"Weather",settings:!0,singleton:!0,width:1},{type:"STOCK",name:"Stock",settings:!0,width:1},{type:"DISCOVER",name:"Discover",singleton:!0,width:1},{type:"ASSISTANT",name:"Assistant",settings:!0,width:1},{type:"WORMHOLE",name:"Wormhole",singleton:!0,width:1},{type:"ZEN",name:"Zen",singleton:!0,width:1},{type:"EXPLORE_ASSISTANT",name:"Explore Assistant",singleton:!0,width:1}],nw="comet-widgets",Wh="comet-widgets-content";function A9t(e){return r6e.find(t=>t.type===e)}function j9t(){if(Ue.getItem(Wh))return;const t=Ue.getItem(nw);if(t)try{const n=JSON.parse(t),r={},s=n.map(a=>{if(a.content){const{content:i,...o}=a;return r[a.id]=i,o}return{id:a.id,type:a.type}});Ue.setItem(nw,JSON.stringify(s)),Ue.setItem(Wh,JSON.stringify(r))}catch{}}function P9t(e){j9t();const t=Ue.getItem(nw);if(!t)return e;try{const n=JSON.parse(t);return!n||!Array.isArray(n)?e:n.every(s=>s.id&&s.type&&typeof s.type=="string")?n:(s6e(e),e)}catch{return e}}function s6e(e){Ue.setItem(nw,JSON.stringify(e))}function I9t(e){const t=Ue.getItem(Wh);if(!t)return!1;try{return!!JSON.parse(t)[e]}catch{return!1}}function pv(e,t){const n=Ue.getItem(Wh);if(!n)return null;let r=null;try{r=JSON.parse(n)[t]}catch{return null}return typeof r!="object"||r===null?null:{version:1,...r}}function gv(e,t,n){const r=Ue.getItem(Wh);let s={};if(r)try{s=JSON.parse(r)}catch{s={}}s[t]=n,Ue.setItem(Wh,JSON.stringify(s))}const hY="widget-analytics-last-sent",O9t=6*60*60*1e3,L9t=e=>{const{trackEvent:t}=Ne();f.useEffect(()=>{const n=Date.now(),r=Ue.getItem(hY),s=r?parseInt(r,10):0;if(n-s<O9t)return;const a={},i=[];e.forEach(o=>{a[o.type]=(a[o.type]||0)+1,I9t(o.id)&&i.push(o.type)}),t("comet home widgets viewed",{enabledWidgets:a,widgetsWithSettings:i}),Ue.setItem(hY,n.toString())},[e,t])},mY="set-default-browser-promo-settings-cache",D9t=()=>{const{value:e}=Vw({flag:"set-default-browser-banner-promo",defaultValue:{}}),[t,n]=f.useState(()=>{const r=Ue.getItem(mY);return r?JSON.parse(r):!1});return f.useEffect(()=>{e!==t&&(n(e),Ue.setItem(mY,JSON.stringify(e)))},[e,t]),t},Zy="comet_default_browser_banner_data",F9t=4,U9t=24,B9t=60*60*1e3,$9t=({source:e})=>{const t=Vr(),[n,r]=f.useState(null),[s,a]=f.useState(!1),i=D9t(),{trackEvent:o}=Ne(),c=typeof i.promoCooldownPeriodHours<"u"&&typeof i.promoMaxCloseCount<"u",u=f.useCallback(p=>{if(p===0)return!1;const g=Date.now()-p,v=B9t*(i?.promoCooldownPeriodHours??U9t);return g<v},[i?.promoCooldownPeriodHours]);f.useEffect(()=>{(async()=>{try{const g=await t.getIsCometDefaultBrowser("check_default_browser");r(g)}catch{r(null)}})()},[t]),f.useEffect(()=>{(()=>{const g=Ue.getItem(Zy);if(!g){a(!1);return}try{const v=JSON.parse(g);if(v.count>=(i?.promoMaxCloseCount??F9t)){a(!0);return}if(u(v.lastClosedTime)){a(!0);return}a(!1)}catch{Ue.removeItem(Zy),a(!1)}})()},[i?.promoMaxCloseCount,u]);const d=f.useCallback(()=>{const p=Ue.getItem(Zy);let g;try{g=p?JSON.parse(p):{count:0,lastClosedTime:0}}catch{g={count:0,lastClosedTime:0}}if(u(g.lastClosedTime)){a(!0);return}const v={count:g.count+1,lastClosedTime:Date.now()};o("default browser upsell closed",{closedCount:g.count,cometSurface:e}),Ue.setItem(Zy,JSON.stringify(v)),a(!0)},[e,o,u]),h=f.useCallback(async()=>{try{await t.setCometAsDefaultBrowser("set_default_browser"),r(!0),o("default browser upsell selected",{cometSurface:e,inThreadUpsell:!1})}catch{}},[t,e,o]),m=c&&n===!1&&!s;return f.useMemo(()=>({shouldShowBanner:m,handleBannerClose:d,setDefaultBrowser:h}),[m,d,h])},pY="assistant-promo-config-cached";function H9t(){const{value:e,loading:t}=bd({flag:"assistant-promo-deeplinks",subjectType:"user_nextauth_id",defaultValue:{}}),[n,r]=f.useState(()=>{const a=Ue.getItem(pY);return a?JSON.parse(a):{}});f.useEffect(()=>{const a=e;!t&&JSON.stringify(a)!==JSON.stringify(n)&&(r(a),Ue.setItem(pY,JSON.stringify(a)))},[e,n,t]);const s=!!(n.deeplinkQueries&&n.deeplinkQueries.length>0);return f.useMemo(()=>({config:n,isLoading:t,shouldShowExploreAssistant:s}),[n,t,s])}const gY="explore-assistant-should-show-cached",B2="explore-assistant-history-cache",a6e=10*60*1e3,ME=e=>e!=="unknown"&&!!e,W9t=()=>{try{const e=Ue.getItem(B2);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.timestamp>a6e?(Ue.removeItem(B2),null):new Set(t.domainsInHistory)}catch{return Ue.removeItem(B2),null}},vY=e=>{const t={timestamp:Date.now(),domainsInHistory:Array.from(e)};Ue.setItem(B2,JSON.stringify(t))},yY={url:"https://www.nytimes.com/games/wordle/index.html",query:"Take control over browser and win Wordle for me"},z9t=(e,t)=>!e||!t?`${yY.url}#comet=${encodeURIComponent(yY.query)}`:`${e}#comet=${encodeURIComponent(t)}`;function vO(){const{config:e,isLoading:t}=H9t(),n=Vr(),[r,s]=f.useState(()=>{const p=Ue.getItem(gY);return p?JSON.parse(p):!1}),a=f.useMemo(()=>e.deeplinkQueries||[],[e]),i=f.useMemo(()=>{const p=new Set;return a.forEach(g=>{if(g.action==="HISTORY_PRESENCE"){const v=$s(g.url);ME(v)&&p.add(v)}}),Array.from(p)},[a]),{data:o}=at({queryKey:["explore-assistant-history",i],queryFn:async()=>{if(!n||i.length===0)return new Set;const p=W9t();if(p!==null)return p;try{const g=await n.getHistorySummary("explore-assistant-check",i,14,100),v=new Set;return g.history_results?.forEach(y=>{const x=$s(y?.url||"");ME(x)&&i.includes(x)&&v.add(x)}),vY(v),v}catch{return new Bx("PARSE_HISTORY_FAILED",{message:"Explore Assistant failed to parse history"}),vY(new Set),new Set}},staleTime:a6e,enabled:!0,retry:!1,throwOnError:!1}),c=f.useMemo(()=>o||new Set,[o]),u=f.useMemo(()=>{if(a.length===0)return null;const p=[],g=a.filter(x=>x.action==="ALWAYS");p.push(...g);const v=a.filter(x=>{if(x.action!=="HISTORY_PRESENCE")return!1;const b=$s(x.url);return ME(b)&&c.has(b)});if(p.push(...v),p.length===0)return null;const y=Math.floor(Math.random()*p.length);return p[y]||null},[a,c]),d=f.useMemo(()=>z9t(u?.url,u?.query),[u]),h=a?.length>0;f.useEffect(()=>{h!==r&&(s(h),Ue.setItem(gY,JSON.stringify(h)))},[h,r]);const m=t?r:h;return f.useMemo(()=>({targetUrl:d,isLoading:t,shouldShowWidget:m}),[d,t,m])}const i6e="default-widgets-cached",ZT=e=>[{id:"default-analog-clock",type:"ANALOG_CLOCK"},{id:e?"default-explore-assistant":"default-assistant",type:e?"EXPLORE_ASSISTANT":"ASSISTANT"},{id:"default-stock",type:"STOCK"},{id:"default-weather",type:"WEATHER"},{id:"top-most-urls",type:"TOP_URLS"}],V9t=()=>{const e=Ue.getItem(i6e);if(e)try{return JSON.parse(e)}catch{return ZT(!1)}return ZT(!1)};function G9t(){const{shouldShowWidget:e,isLoading:t}=vO(),[n,r]=f.useState(V9t()),s=f.useMemo(()=>ZT(e),[e]);f.useEffect(()=>{if(!t){const i=JSON.stringify(s),o=JSON.stringify(n);i!==o&&(r(s),Ue.setItem(i6e,i))}},[t,s,n]);const a=t?n:s;return f.useMemo(()=>({defaultWidgets:a,isLoading:t}),[a,t])}const Id=T.memo(({onClose:e,children:t})=>l.jsx(m1,{portalTarget:document.body,children:l.jsxs("div",{className:"fixed inset-0 flex size-full flex-col items-center justify-center",children:[l.jsx(ke.div,{onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:_c,className:"bg-backdrop/70 absolute inset-0"}),l.jsx(ke.div,{initial:{y:6,opacity:0},animate:{y:0,opacity:1},exit:{y:6,opacity:0},transition:_c,className:"w-full max-w-[360px]",children:l.jsx(Fn,{className:"shadow-overlay dark:shadow-overlayDark border-none",children:t})})]})}));Id.displayName="WidgetModal";function q9t(e="widget",t,n){if(e==="widget"){const r=pv("ASSISTANT",t);if(r)return{version:1,query:r.query??n??""}}return{version:1,query:n??""}}function xY(e,t="widget",n){t==="widget"&&gv("ASSISTANT",n,e)}const o6e=T.memo(({context:e="widget",defaultQuery:t,widgetId:n,showSettings:r,setShowSettings:s})=>{const a=q9t(e,n,t),{$t:i}=K(),o=Rt(),[c,u]=f.useState(a.query||""),d=f.useRef(_i(w=>{xY({query:w.query,version:1},e,n)},1e3));f.useEffect(()=>{const w=d.current.flush;return()=>{w()}},[d]);const h=w=>{const _=w.target.value;u(_),d.current({query:_})},m=l.jsxs("div",{className:U("flex size-full flex-col p-3",{"p-3":e==="thumbnail"}),style:{zoom:e==="thumbnail"?.75:1},children:[l.jsx(j,{color:"super",children:l.jsx(_e,{icon:Ed,size:"lg"})}),l.jsx(j,{variant:"smallBold",color:"default",className:"mt-auto line-clamp-5 text-balance",children:c||""})]}),p=f.useCallback(()=>o.push(`/search/new?q=${encodeURIComponent(c||"")}`),[o,c]),g=f.useCallback(()=>s?.(!1),[s]),v=f.useCallback(()=>{xY({query:c||"",version:1},e,n),s?.(!1)},[s,c,e,n]),y=f.useCallback(()=>u(i({defaultMessage:"what is my schedule for today",id:"5xGy4y8knY"})),[i]),x=f.useCallback(()=>u(i({defaultMessage:"group my tabs by topic",id:"uDBqWc5SFP"})),[i]),b=f.useCallback(()=>u(i({defaultMessage:"search for trending news",id:"E4T4sT/ZCb"})),[i]);return e==="thumbnail"?m:l.jsxs(l.Fragment,{children:[l.jsx(Fn,{shadow:!0,className:"aspect-[1/1] w-full cursor-pointer select-none overflow-hidden !rounded-2xl",onClick:p,children:l.jsx(hs,{hoverOnly:!0,className:"size-full",children:l.jsx(H,{variant:"raised",className:"hover:bg-offset dark:hover:bg-offsetPlus size-full transition duration-300",children:m})})}),l.jsx(wt,{children:r&&l.jsx(Id,{onClose:g,children:l.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx(j,{variant:"entry-title-300",children:i({defaultMessage:"Assistant query",id:"FyiOOCgH1j"})}),l.jsx(j,{variant:"small",color:"light",children:i({defaultMessage:"Save assistant queries that you use often.",id:"p2agK1deUX"})})]}),l.jsx("div",{children:l.jsxs("div",{className:"text-textMain scrollbar-hidden relative whitespace-pre-wrap break-words px-3 py-2 text-sm after:content-['\\200B']",children:[l.jsx("span",{className:"invisible",children:c||""}),l.jsx("textarea",{className:"bg-background text-textMain border-borderMain placeholder-textOff focus:ring-borderMain absolute inset-[-1px] size-full resize-none overflow-hidden rounded-md border px-3 py-2 text-sm outline-none focus:outline-none focus:ring-1",value:c||"",onChange:h})]})}),l.jsx("div",{children:l.jsxs(j,{variant:"tinyRegular",color:"light",children:[i({defaultMessage:"For example",id:"qbXH6UvD6V"}),":"," ",l.jsx(j,{as:"a",role:"button",variant:"tinyRegular",color:"super",onClick:y,children:i({defaultMessage:"what is my schedule for today",id:"5xGy4y8knY"})}),","," ",l.jsx(j,{as:"a",role:"button",variant:"tinyRegular",color:"super",onClick:x,children:i({defaultMessage:"group my tabs by topic",id:"uDBqWc5SFP"})}),","," ",l.jsx(j,{as:"a",role:"button",variant:"tinyRegular",color:"super",onClick:b,children:i({defaultMessage:"search for trending news",id:"E4T4sT/ZCb"})}),"."]})}),l.jsx("div",{className:"flex flex-row justify-end",children:l.jsx(ye,{variant:"primary",size:"small",onClick:v,text:i({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})}),K9t=e=>({"x-loc-latitude":e.latitude.toString(),"x-loc-longitude":e.longitude.toString()}),Y9t=async e=>{let t;e&&(t=K9t(e));const{data:n,error:r}=await J.GET("/rest/homepage-widgets/clock/current-location","clock-widget-current-location",{headers:t});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to fetch clock current location",cause:r});return n},l6e="clock-current-location-cache",JT={geonameid:5391959,name:"San Francisco",latitude:37.77493,longitude:-122.41942,countrycode:"US",population:864816,timezone:"America/Los_Angeles",timezone_offset:-25200};function Q9t(){try{const e=Ue.getItem(l6e);if(e)return JSON.parse(e)}catch{}return null}function X9t(e){try{Ue.setItem(l6e,JSON.stringify(e))}catch{}}function Z9t(e="widget",t){if(e==="widget"){const n=pv("ANALOG_CLOCK",t);if(n)return n.version===1?{version:2,city:n.city,useCurrentLocation:!n.city}:n}return{version:2,city:JT,useCurrentLocation:!0}}function bY(e,t="widget",n){t==="widget"&&gv("ANALOG_CLOCK",n,e)}const J9t=()=>{const{location:e}=gm(),t=Q9t();return at({queryKey:["clock-current-location",e?.latitude,e?.longitude],queryFn:async()=>{const n=await Y9t(e);return n&&X9t(n),n},staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,placeholderData:t})},eNt=(e,t="widget")=>{const n=Z9t(t,e),[r,s]=f.useState(n),{data:a,isLoading:i}=J9t(),o=f.useMemo(()=>r.useCurrentLocation&&a?{name:a.name||"Your Location",timezone:a.timezone,country:a.country}:r.city||JT,[r.useCurrentLocation,a,r.city]),c=f.useCallback(d=>{const h={...r,...d};s(h),bY(h,t,e)},[r,t,e]),u=f.useCallback((d,h)=>{const m={...r,city:d,useCurrentLocation:d?!1:h??!0};s(m),bY(m,t,e)},[r,t,e]);return f.useMemo(()=>({selectedCity:o,settings:r,currentLocationData:a??null,isLoading:i,updateSettings:c,saveCity:u}),[o,r,a,i,c,u])},tNt=async({query:e="",limit:t=10,reason:n})=>{try{const{error:r,data:s}=await J.GET("/rest/homepage-widgets/cities-autosuggests",n,{params:{query:{query:e,limit:t}},timeoutMs:2e3});if(r)throw new Me("API_CLIENTS_ERROR",{message:"Failed to get cities autosuggestions",cause:r});return s.data??[]}catch(r){return Q.error(r),[]}},nNt=({query:e="",limit:t=5,reason:n})=>at({queryKey:["cities",e,t],queryFn:()=>tNt({query:e,limit:t,reason:n}),enabled:e?.trim().length>0,staleTime:5*60*1e3,gcTime:30*60*1e3}),rNt=100,sNt=()=>l.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:l.jsx(ze,{icon:Tr,size:"small",pill:!0})}),aNt=()=>l.jsx("div",{className:"w-sm"}),iNt=({onClear:e})=>l.jsx(ze,{icon:tn,size:"tiny",pill:!0,onClick:e}),yO=T.memo(({widgetId:e,showCity:t=!1,showSettings:n,setShowSettings:r,context:s="widget"})=>{const{$t:a}=K(),{colorScheme:i}=zr(),o=i==="dark",c=f.useRef(!0),{isMobileUserAgent:u}=Oe(),d="clock-widget-settings",{selectedCity:h,settings:m,updateSettings:p,saveCity:g}=eNt(e,s),v=f.useRef(null),[y,x]=f.useState(h.name??""),[b,w]=f.useState(-1),[_,C]=f.useState(!1);f.useEffect(()=>{x(h.name??"")},[h.name]);const{data:S=[]}=nNt({query:y,limit:rNt,reason:d}),k=f.useMemo(()=>S.map(Z=>({query:Z.name,title:Z.name,description:`${Z.countrycode} · ${Z.timezone}`,identifier:Z.geonameid.toString()})),[S]),[E,M]=f.useState(new Date);f.useEffect(()=>{const Z=setInterval(()=>{M(new Date)},1e3);return()=>clearInterval(Z)},[]);const N=Z=>Z*6,R=Z=>Z*6,A=Z=>Z*30,P=$8(E,h.timezone),O=N(P.getSeconds()),I=R(P.getMinutes()),L=A(P.getHours()+P.getMinutes()/60),F=f.useCallback(()=>{C(!0)},[]),D=f.useCallback(()=>{C(!1)},[]),B=f.useCallback(Z=>{x(Z)},[]),$=()=>{x("")},W=f.useCallback(Z=>S.find(re=>re.geonameid.toString()===Z),[S]),X=f.useCallback(Z=>{if(!Z.identifier)return;const re=W(Z.identifier);re&&(p({city:re,useCurrentLocation:!1}),x(re.name),g(re,!1))},[W,p,g]),ee=f.useCallback((Z,re)=>{X(Z)},[X]);f.useEffect(()=>{if(c.current){c.current=!1;return}},[h,s,e]);const ne=l.jsxs("div",{className:U("relative size-full p-2",{"pb-7 pt-2":t}),children:[l.jsxs("div",{className:"relative mx-auto aspect-square max-h-full max-w-full",children:[s==="widget"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute right-[calc(25%+4px)] top-1/2 -translate-y-1/2 translate-x-1/2",children:l.jsx(j,{variant:"tinyMono",className:"scale-[70%]",children:l.jsx(JEe,{value:E,hour:"numeric",minute:"2-digit",timeZone:h.timezone})})}),l.jsx("div",{className:"absolute left-[calc(25%+4px)] top-1/2 -translate-x-1/2 -translate-y-1/2",children:l.jsx(j,{variant:"tinyMono",className:"scale-[70%] uppercase",children:l.jsx(eke,{value:E,weekday:"short",timeZone:h.timezone})})})]}),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:[l.jsx("path",{fill:o?"#fff":"#000",d:"M71 130a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5M40.817 122.278a.5.5 0 1 1 .867.5l-5.5 9.527a.5.5 0 0 1-.867-.5zM100.501 122.094a.5.5 0 0 1 .683.183l5.5 9.527a.5.5 0 0 1-.867.5l-5.5-9.527a.5.5 0 0 1 .184-.683M19.222 100.316a.5.5 0 0 1 .5.867l-9.527 5.5a.5.5 0 0 1-.5-.867zM122.096 100.499a.5.5 0 0 1 .683-.183l9.527 5.5a.501.501 0 0 1-.5.867l-9.527-5.5a.5.5 0 0 1-.183-.684M11.5 70.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1zM141.5 70.5a.5.5 0 0 1 0 1h-11a.5.5 0 0 1 0-1zM9.513 35.499a.5.5 0 0 1 .682-.183l9.527 5.5a.5.5 0 1 1-.5.867l-9.527-5.5a.5.5 0 0 1-.182-.684M131.806 35.316a.5.5 0 1 1 .5.867l-9.527 5.5a.5.5 0 0 1-.5-.867zM105.817 9.694a.5.5 0 0 1 .867.5l-5.5 9.527a.501.501 0 0 1-.867-.5zM35.501 9.51a.5.5 0 0 1 .683.183l5.5 9.527a.5.5 0 0 1-.867.5l-5.5-9.527a.5.5 0 0 1 .184-.682M71 0a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0V.5A.5.5 0 0 1 71 0"}),l.jsx("path",{fill:o?"#444":"#CCC",d:"M63.997 137.633a.5.5 0 0 1 .445.549l-.314 2.984a.5.5 0 1 1-.994-.105l.313-2.983a.5.5 0 0 1 .55-.445M78.004 137.632a.5.5 0 0 1 .55.444l.313 2.984a.5.5 0 1 1-.994.105l-.314-2.984a.5.5 0 0 1 .445-.549M84.932 136.538a.5.5 0 0 1 .593.385l.623 2.934a.5.5 0 1 1-.977.208l-.624-2.934a.5.5 0 0 1 .385-.593M57.07 136.532a.5.5 0 0 1 .385.593l-.624 2.934a.5.5 0 1 1-.979-.208l.624-2.933a.5.5 0 0 1 .593-.386M91.706 134.722a.5.5 0 0 1 .63.321l.927 2.853a.5.5 0 0 1-.95.309l-.928-2.853a.5.5 0 0 1 .32-.63M49.666 135.04a.5.5 0 0 1 .951.309l-.928 2.853a.499.499 0 1 1-.95-.309zM98.25 132.208a.5.5 0 0 1 .661.254l1.221 2.74a.5.5 0 0 1-.914.407l-1.22-2.741a.5.5 0 0 1 .253-.66M43.089 132.46a.5.5 0 0 1 .913.407l-1.22 2.74a.5.5 0 0 1-.914-.406zM30.92 125.315a.5.5 0 0 1 .81.588l-1.763 2.427a.5.5 0 0 1-.81-.588zM110.383 125.203a.5.5 0 0 1 .698.11l1.764 2.428a.5.5 0 0 1-.81.587l-1.763-2.427a.5.5 0 0 1 .111-.698M115.835 120.79a.5.5 0 0 1 .706.037l2.007 2.229a.5.5 0 1 1-.743.669l-2.007-2.228a.5.5 0 0 1 .037-.707M25.464 120.825a.5.5 0 1 1 .743.669l-2.008 2.229a.5.5 0 0 1-.743-.668zM120.794 115.833a.5.5 0 0 1 .706-.037l2.229 2.007a.499.499 0 1 1-.669.743l-2.229-2.007a.5.5 0 0 1-.037-.706M20.504 115.793a.5.5 0 1 1 .669.743l-2.23 2.007a.5.5 0 0 1-.669-.743zM125.204 110.382a.5.5 0 0 1 .698-.111l2.428 1.764a.5.5 0 0 1-.588.809l-2.428-1.763a.5.5 0 0 1-.11-.699M16.098 110.27a.5.5 0 0 1 .587.809l-2.427 1.764a.5.5 0 1 1-.587-.809zM9.133 97.998a.5.5 0 0 1 .407.913l-2.741 1.221a.5.5 0 0 1-.407-.914zM132.209 98.25a.5.5 0 0 1 .66-.253l2.74 1.22a.5.5 0 0 1-.406.914l-2.741-1.22a.5.5 0 0 1-.253-.66M134.723 91.703a.5.5 0 0 1 .63-.321l2.854.927a.5.5 0 0 1-.31.95l-2.852-.926a.5.5 0 0 1-.322-.63M6.652 91.382a.5.5 0 0 1 .31.95l-2.854.928a.5.5 0 1 1-.308-.952zM137.133 84.545l2.934.623a.501.501 0 0 1-.208.978l-2.934-.624a.5.5 0 1 1 .208-.977M4.873 84.543a.5.5 0 1 1 .208.977l-2.935.624a.5.5 0 0 1-.208-.978zM141.167 77.872a.5.5 0 0 1-.105.995l-2.984-.313a.5.5 0 0 1 .104-.996zM3.818 77.558a.5.5 0 0 1 .105.995l-2.984.313a.5.5 0 0 1-.104-.994zM3.923 63.447a.5.5 0 0 1-.105.995l-2.983-.314a.5.5 0 1 1 .104-.994zM141.062 63.133a.5.5 0 0 1 .105.995l-2.985.313a.5.5 0 0 1-.104-.995zM2.148 55.852l2.935.624a.5.5 0 1 1-.208.979L1.94 56.83a.5.5 0 0 1 .208-.979M139.857 55.85a.5.5 0 0 1 .208.979l-2.934.624a.5.5 0 0 1-.208-.979zM3.477 49.058a.5.5 0 0 1 .631-.32l2.853.927a.5.5 0 1 1-.309.951L3.8 49.688a.5.5 0 0 1-.322-.63M137.898 48.737a.5.5 0 1 1 .309.951l-2.853.927a.5.5 0 0 1-.309-.951zM6.14 42.12a.5.5 0 0 1 .66-.253l2.74 1.22a.5.5 0 1 1-.406.914l-2.742-1.22a.5.5 0 0 1-.253-.66M135.202 41.868a.5.5 0 0 1 .407.914l-2.741 1.22a.5.5 0 1 1-.406-.913zM13.56 29.267a.5.5 0 0 1 .699-.11l2.426 1.764a.5.5 0 0 1-.587.808l-2.427-1.763a.5.5 0 0 1-.112-.699M127.742 29.156a.5.5 0 0 1 .588.809l-2.428 1.763a.5.5 0 0 1-.588-.81zM18.24 23.492a.5.5 0 0 1 .706-.037l2.23 2.008a.5.5 0 0 1-.67.743l-2.229-2.008a.5.5 0 0 1-.037-.706M123.057 23.452a.5.5 0 0 1 .67.743l-2.229 2.008a.5.5 0 0 1-.67-.743zM23.494 18.236a.5.5 0 0 1 .707.037l2.007 2.23a.5.5 0 1 1-.743.669l-2.007-2.23a.5.5 0 0 1 .036-.706M117.804 18.27a.5.5 0 0 1 .743.67l-2.007 2.229a.5.5 0 1 1-.743-.67zM112.035 13.67a.5.5 0 0 1 .809.589l-1.763 2.426a.5.5 0 0 1-.81-.587zM29.268 13.558a.5.5 0 0 1 .699.11l1.763 2.428a.5.5 0 0 1-.81.588l-1.762-2.427a.5.5 0 0 1 .11-.699M42.12 6.139a.5.5 0 0 1 .661.253l1.22 2.74a.5.5 0 0 1-.913.408l-1.22-2.741a.5.5 0 0 1 .253-.66M99.219 6.391a.5.5 0 1 1 .913.407l-1.22 2.74a.5.5 0 0 1-.914-.406zM49.061 3.476a.5.5 0 0 1 .631.32l.927 2.854a.5.5 0 0 1-.951.31l-.927-2.854a.5.5 0 0 1 .32-.63M92.31 3.795a.5.5 0 1 1 .951.308l-.927 2.854a.5.5 0 1 1-.951-.31zM56.24 1.554a.5.5 0 0 1 .593.384l.624 2.935a.5.5 0 0 1-.979.208l-.623-2.935a.5.5 0 0 1 .385-.592M85.762 1.548a.5.5 0 0 1 .384.593l-.624 2.934a.5.5 0 1 1-.977-.208l.623-2.934a.5.5 0 0 1 .593-.385M78.422.389a.5.5 0 0 1 .445.55l-.314 2.983a.5.5 0 0 1-.995-.105l.314-2.983a.5.5 0 0 1 .55-.445M63.579.388a.5.5 0 0 1 .55.445l.313 2.983a.5.5 0 0 1-.994.105L63.135.937a.5.5 0 0 1 .444-.55"})]}),l.jsx(ke.div,{initial:{rotate:I},animate:{rotate:[I,I+360]},transition:{duration:3600,repeat:1/0,repeatType:"loop",direction:"forward",ease:"linear"},className:"absolute inset-0",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:l.jsx("path",{fill:o?"#fff":"#000",fillRule:"evenodd",d:"M71 2a2 2 0 0 1 2 2v60c0 .74-.403 1.383-1 1.73v2.444A2.998 2.998 0 0 1 71 74a3 3 0 0 1-1-5.826v-2.445c-.597-.346-1-.99-1-1.729V4a2 2 0 0 1 2-2m0 68a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"})})}),l.jsx(ke.div,{initial:{rotate:L},animate:{rotate:[L,L+360]},transition:{duration:43200,repeat:1/0,repeatType:"loop",direction:"forward",ease:"linear"},className:"absolute inset-0",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:l.jsx("path",{fill:o?"#fff":"#000",fillRule:"evenodd",d:"M71 24a2 2 0 0 1 2 2v38c0 .74-.403 1.383-1 1.73v2.444A2.998 2.998 0 0 1 71 74a3 3 0 0 1-1-5.826v-2.445c-.597-.346-1-.99-1-1.729V26a2 2 0 0 1 2-2m0 46a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"})})}),l.jsx(ke.div,{initial:{rotate:O},animate:{rotate:[O,O+360]},transition:{duration:60,repeat:1/0,repeatType:"loop",direction:"forward",ease:"linear"},className:"absolute inset-0",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:[l.jsx("path",{fill:"#FF7323",d:"M71 2a.75.75 0 0 1 .75.75v66.397a2 2 0 0 1 0 3.706v3.397a.75.75 0 0 1-1.5 0v-3.397a1.999 1.999 0 0 1 0-3.706V2.75A.75.75 0 0 1 71 2"}),l.jsx("circle",{cx:71,cy:71,r:1,fill:"#fff"})]})})]}),t&&l.jsx(j,{variant:"tiny",color:"default",className:"pointer-events-none flex h-7 select-none items-center justify-center",children:l.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap px-2",children:h.name})})]}),V=U("h-10 rounded-md p-4 dark:[&:focus]:ring-0",{"rounded-t-md rounded-b-none":_&&k.length>0,"opacity-50":!!m.useCurrentLocation}),q=f.useMemo(()=>({LeftIconComponent:aNt,RightIconComponent:sNt}),[]),z=f.useCallback(()=>r?.(!1),[r]),te=f.useCallback(Z=>{p({useCurrentLocation:Z})},[p]),Y=f.useCallback(()=>{r?.(!1)},[r]);return s==="thumbnail"?ne:l.jsxs(l.Fragment,{children:[l.jsx(Fn,{shadow:!0,className:"active:!bg-offset dark:active:!bg-offsetPlus aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:l.jsx(it,{draggable:!1,href:`/search/new?q=${a({defaultMessage:"what time is it in {location}",id:"NbMaPyS+lK"},{location:h.name})}`,className:"relative block size-full",children:ne})}),l.jsx(wt,{children:n&&l.jsx(Id,{onClose:z,children:l.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[l.jsx(j,{variant:"entry-title-300",children:a({defaultMessage:"Select city",id:"twZBdKGll7"})}),l.jsx(x1,{isOpen:_&&k.length>0,suggestedQueries:k,focusedIndex:b,setFocusedIndex:w,handlePasteQuery:Ln,handleSubmit:ee,value:y??"",components:q,dropdownClassName:"dark:border-none dark:ml-0 dark:mr-0 dark:w-full max-h-[250px] overflow-y-auto",dropdownType:"select",popoverClassName:"dark:!border-none",children:l.jsx(ko,{disable1pass:!0,disabled:m.useCurrentLocation,onFocus:F,onBlur:D,className:V,pill:!1,ref:v,isMobileUserAgent:u,placeholder:a({defaultMessage:"New York, London, Tokyo...",id:"iJ+co77mIp"}),value:y,onChange:B,ClearIcon:iNt,...y.length>0?{onClear:$}:{}})}),l.jsxs("label",{htmlFor:"use-current-location",className:"gap-sm flex w-fit flex-row items-center",children:[l.jsx(QA,{id:"use-current-location",checked:!!m.useCurrentLocation,toggleChecked:te}),l.jsx(j,{variant:"small",color:"light",children:a({defaultMessage:"Use current location",id:"Z2NE7X6xxg"})})]}),l.jsx("div",{className:"mt-sm flex flex-row justify-end",children:l.jsx(ye,{variant:"primary",size:"small",onClick:Y,text:a({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})});yO.displayName="ClockWidget";const e9=T.memo(({variant:e,className:t,colorVariant:n,text:r,lines:s=1})=>{const i=f.useMemo(()=>({height:"50%"}),[.5]);return l.jsxs("div",{className:`relative grid items-center ${t}`,children:[l.jsx("div",{className:"col-start-1 row-start-1 flex h-full w-full flex-col",children:Array.from({length:s}).map((o,c)=>l.jsx("div",{className:"flex h-full items-center",children:l.jsx(H,{className:U("rounded-full",{"w-full":c!==s-1||s===1,"w-1/2":c===s-1&&s>1}),variant:n??"offsetPlus",style:i})},c))}),l.jsx(j,{variant:e,color:"light",className:"pointer-events-none col-start-1 row-start-1 opacity-0",children:Array.from({length:s}).map((o,c)=>l.jsxs(T.Fragment,{children:[r??l.jsx(l.Fragment,{children:" "}),c<s-1&&l.jsx("br",{})]},c))})]})});e9.displayName="TextBlockSkeleton";const xO=T.memo(({showSettings:e,setShowSettings:t,context:n="widget"})=>{const{$t:r}=K(),s=K(),[a,i]=f.useState(!1),{data:o}=at({queryKey:Fo("top"),queryFn:()=>Fit({options:{topic:"top",limit:20},reason:"Discover widget"}),refetchInterval:n==="thumbnail"?void 0:1e3*60*5}),c=o?.threads[0]?.updated_datetime.endsWith("Z")?o?.threads[0]?.updated_datetime:`${o?.threads[0]?.updated_datetime}Z`,u=o?.threads[0]?.featured_images?.[0]?.thumbnail;f.useEffect(()=>{i(!1)},[u]);const d=o?.threads[0]?l.jsx("div",{className:U("h-full w-full transform-gpu rounded-2xl"),children:l.jsxs("div",{className:"gap-sm flex h-full flex-1 flex-col justify-between p-2.5 pb-0",style:{zoom:n==="thumbnail"?.75:1},children:[u&&!a&&l.jsxs(l.Fragment,{children:[l.jsx("img",{src:u,alt:"Discover",className:"absolute inset-0 size-full object-cover",onError:()=>{i(!0)}},u),l.jsx("div",{className:"absolute inset-0 bg-black/50"}),l.jsx("div",{className:"absolute inset-0 bg-black",style:{maskImage:"linear-gradient(to bottom, transparent 50%, black)"}})]}),l.jsxs("div",{className:U("absolute inset-0 flex flex-col items-start justify-end gap-1 p-2",{"drop-shadow-md":!a}),children:[l.jsx(j,{variant:"micro",color:a?"default":"white",className:"opacity-60",children:b3(s,new Date(c))}),l.jsx(j,{variant:"smallBold",color:a?"default":"white",className:"w-full break-words",children:o?.threads[0].title})]})]})}):l.jsx("div",{className:"bg-offset size-full",children:l.jsxs("div",{className:"absolute inset-0 flex w-full flex-col items-start justify-end gap-1 p-2",children:[l.jsx(e9,{variant:"micro",colorVariant:"offsetPlus",className:"w-10 opacity-75 dark:opacity-60"}),l.jsx(e9,{variant:"smallBold",colorVariant:"offsetPlus",lines:3,className:"w-full"})]})}),h=f.useCallback(()=>t?.(!1),[t]);return n==="thumbnail"?d:l.jsxs(l.Fragment,{children:[l.jsx(Fn,{shadow:!0,fullBleed:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:l.jsx(it,{href:`/page/${o?.threads[0]?.slug}`,className:"block",children:l.jsx("div",{className:"absolute inset-0 select-none",children:d})})}),l.jsx(wt,{children:e&&l.jsx(Id,{onClose:h,children:l.jsx("div",{className:"flex flex-col gap-3 px-5 py-4",children:l.jsx(j,{variant:"entry-title-300",children:r({defaultMessage:"Discover settings",id:"Kf1JUdlcaI"})})})})})]})});xO.displayName="DiscoverWidget";const oNt="https://r2cdn.perplexity.ai/comet/explore-assistant-min.mp4",wY="https://r2cdn.perplexity.ai/comet/eplore-assistant-stop-min.png",lNt=({context:e="widget"})=>{const{targetUrl:t,shouldShowWidget:n}=vO(),r=f.useRef(null),{trackEvent:s}=Ne(),a=f.useCallback(()=>{if(!t)return;const u=$s(t);s("explore assistant clicked",{domain:u})},[t,s]);if(f.useEffect(()=>{s("explore assistant shown")},[s]),!n||!t)return null;const i=()=>{e==="widget"&&r.current&&r.current.play()},o=()=>{e==="widget"&&r.current&&r.current.pause()},c=l.jsx("div",{className:U("relative h-full w-full cursor-pointer select-none",{"active:!bg-offset dark:active:!bg-offsetPlusDark":e==="widget"}),onMouseEnter:i,onMouseLeave:o,children:l.jsxs("div",{className:"group relative size-full",children:[e==="widget"?l.jsx("video",{ref:r,src:oNt,poster:wY,className:"pointer-events-none absolute inset-0 size-full object-cover",autoPlay:!1,loop:!0,muted:!0,playsInline:!0}):l.jsx("img",{src:wY,alt:"Explore Assistant",className:"pointer-events-none absolute inset-0 size-full object-cover"}),l.jsx("div",{className:"pointer-events-none absolute bottom-0 h-[45px] w-full bg-gradient-to-b from-transparent to-[#02233E]"}),l.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center",children:l.jsx(j,{variant:"tinyMono",color:"white",className:"drop-shadow-lg",children:"Try Assistant"})})]})});return e==="thumbnail"?c:l.jsx(Fn,{shadow:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",fullBleed:!0,children:l.jsx(it,{href:t,target:"_blank",rel:"noopener",className:"block size-full cursor-pointer",draggable:!1,onClick:a,children:c})})},c6e=T.memo(lNt),bO=f.memo(({context:e="widget"})=>{const t=l.jsx("div",{className:U("relative h-full w-full cursor-pointer",{"active:!bg-offset dark:active:!bg-offsetPlus p-3":e==="widget","p-2":e==="thumbnail"}),children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",fill:"none",viewBox:"0 0 142 142",children:[l.jsx("rect",{width:16,height:16,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,y:21,fill:"#356D34",rx:2}),l.jsx("rect",{width:16,height:16,y:42,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,y:63,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,y:84,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,y:105,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,y:126,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:21,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:21,y:21,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:21,y:42,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:21,y:63,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:21,y:84,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:21,y:105,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:21,y:126,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:42,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:42,y:21,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:42,y:42,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:42,y:63,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:42,y:84,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:42,y:105,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:42,y:126,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:63,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:63,y:21,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:63,y:42,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:63,y:63,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:63,y:84,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:63,y:105,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:63,y:126,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:84,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:84,y:21,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:84,y:42,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:84,y:63,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:84,y:84,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:84,y:105,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:84,y:126,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:105,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:105,y:21,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:105,y:42,fill:"#356D34",rx:2}),l.jsx("rect",{width:16,height:16,x:105,y:63,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:105,y:84,fill:"#356D34",rx:2}),l.jsx("rect",{width:16,height:16,x:105,y:105,fill:"#53A451",rx:2}),l.jsx("rect",{width:16,height:16,x:105,y:126,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:126,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:126,y:21,fill:"#69CD67",rx:2}),l.jsx("rect",{width:16,height:16,x:126,y:42,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:126,y:63,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:126,y:84,fill:"#9DE5A4",rx:2}),l.jsx("rect",{width:16,height:16,x:126,y:105,fill:"#EFF0F5",rx:2}),l.jsx("rect",{width:16,height:16,x:126,y:126,fill:"#EFF0F5",rx:2})]})});return e==="thumbnail"?t:l.jsx(Fn,{shadow:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:l.jsx(it,{href:"https://github.com/",className:"cursor-pointer",children:t})})});bO.displayName="GitHubWidget";const u6e=e=>{switch(e){case"YELLOW":return"bg-yellow-100 dark:bg-yellow-950";case"BLUE":return"bg-blue-100 dark:bg-blue-950";case"RED":return"bg-red-100 dark:bg-red-950";case"GREEN":return"bg-green-100 dark:bg-green-950";default:return"bg-yellow-100 dark:bg-yellow-950"}},cNt=e=>{switch(e){case"YELLOW":return"placeholder-yellow-500 dark:placeholder-yellow-700";case"BLUE":return"placeholder-blue-500 dark:placeholder-blue-700";case"RED":return"placeholder-red-500 dark:placeholder-red-700";case"GREEN":return"placeholder-green-500 dark:placeholder-green-700";default:return"placeholder-yellow-500 dark:placeholder-yellow-700"}},_Y=e=>{switch(e){case"YELLOW":return"text-yellow-700 dark:text-yellow-200";case"BLUE":return"text-blue-700 dark:text-blue-200";case"RED":return"text-red-700 dark:text-red-200";case"GREEN":return"text-green-700 dark:text-green-200";default:return"text-yellow-700 dark:text-yellow-200"}};function uNt(e="widget",t,n){if(e==="widget"){const r=pv("STICKY",t);if(r)return{text:r.text??n??"",color:r.color??"YELLOW"}}return{text:n??"",color:"YELLOW"}}function dNt(e,t="widget",n){t==="widget"&&gv("STICKY",n,{version:1,text:e.text,color:e.color})}const wO=T.memo(({context:e="widget",defaultText:t,widgetId:n,showSettings:r,setShowSettings:s})=>{const{$t:a}=K(),i=uNt(e,n,t),[o,c]=f.useState(()=>i.text),[u,d]=f.useState(()=>i.color),h=f.useRef(EN(C=>{dNt({...C},e,n)},200));f.useEffect(()=>{const C=h.current.flush;return()=>{C()}},[h]);const m=C=>{const S=C.target.value;c(S),h.current({text:S,color:u})},p=["YELLOW","BLUE","RED","GREEN"],g=a({defaultMessage:"Milk",id:"2ohof39xN+"}),v=a({defaultMessage:"Eggs",id:"rMvDs1YU+D"}),y=a({defaultMessage:"Bread",id:"0n2Uqvcq4W"}),x=l.jsxs("div",{className:"relative flex size-full cursor-pointer flex-col",style:{zoom:e==="thumbnail"?.75:1},children:[l.jsx("div",{className:U("absolute inset-0",u6e(u))}),e==="widget"?l.jsx("textarea",{className:U("z-1 scrollbar-none absolute inset-0 resize-none bg-transparent p-4 font-sans text-sm focus:outline-none",cNt(u),_Y(u)),autoCorrect:"false",placeholder:a({defaultMessage:"New note...",id:"i+imRH5ndN"}),value:o,onChange:m,style:{maskImage:"linear-gradient(to top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 16px, rgba(0,0,0,1) calc(100% - 16px), rgba(0,0,0,0) 100%)"}}):l.jsx("div",{className:"z-1 absolute inset-0 p-4",children:l.jsxs(j,{variant:"baseSemi",className:_Y(u),children:["- ",g,l.jsx("br",{}),"- ",v,l.jsx("br",{}),"- ",y,l.jsx("br",{})]})})]}),b=f.useCallback(()=>s?.(!1),[s]),w=f.useMemo(()=>T.memo(({value:C})=>{const S=f.useCallback(()=>{d(C),h.current({text:o,color:C})},[C]);return l.jsx(fNt,{color:C,onClick:S,selected:C===u})}),[u,o]),_=f.useCallback(()=>s?.(!1),[s]);return e==="thumbnail"?x:l.jsxs(l.Fragment,{children:[l.jsx(Fn,{shadow:!0,fullBleed:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:x}),l.jsx(wt,{children:r&&l.jsx(Id,{onClose:_,children:l.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[l.jsx(j,{variant:"entry-title-300",children:a({defaultMessage:"Sticky color",id:"d1DnFHvFSU"})}),l.jsx("div",{className:"gap-sm grid w-full grid-cols-4",children:p.map((C,S)=>l.jsx(w,{value:C},S))}),l.jsx("div",{className:"mt-sm flex flex-row justify-end",children:l.jsx(ye,{variant:"primary",size:"small",onClick:b,text:a({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})});wO.displayName="Sticky";const fNt=({color:e,onClick:t,selected:n})=>l.jsxs(ke.div,{whileTap:{scale:.95},onClick:t,className:U("relative aspect-square size-full cursor-pointer rounded-full",u6e(e)),children:[n&&l.jsx("div",{className:"border-background absolute inset-1 rounded-full border-4"}),l.jsx("div",{className:"rounded-inherit pointer-events-none absolute inset-0 z-[1] border border-[black]/5 dark:border-[white]/5"})]}),d6e=({value:e,format:t,suffix:n,animated:r=!0})=>{const{locale:s}=K();return l.jsx("span",{children:Intl.NumberFormat(s,t).format(e)})},hNt=(e,t,n)=>{const r=()=>{t.removeEventListener("scrollend",r),n?.()};n&&t.addEventListener("scrollend",r),t.scrollTo({top:e,behavior:"smooth"})},mNt=60;function $Bt(e){const t=e.scrollHeight,n=e.clientHeight,r=e.scrollTop;return Math.abs(t-n-r)<=1}const pNt=()=>{const{scrollContainerRef:e}=VR(),t=f.useCallback(()=>{if(!e?.current)return;const n=e.current,r=n.querySelector("#coin50-section");if(!r)return;const s=r.getBoundingClientRect().top,a=n.scrollTop,i=s+a-mNt;hNt(i,n)},[e]);return f.useMemo(()=>({scrollToCoin50Section:t}),[t])},nn=0,Xt=1,qt="finance",HBt=e=>["finance/topMovers",e];async function WBt({marketType:e,headers:t}){const n=await J.GET("/rest/finance/top-movers/{market_type}",qt,{params:{path:{market_type:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch top movers.",{cause:n.error});return n.data}const zBt=async({symbol:e,category:t,period:n})=>{const r=await J.POST("/rest/finance/financials/{market_identifier}/analysis",qt,{params:{path:{market_identifier:e}},body:{category:t,period:n},timeoutMs:1e4,numRetries:Xt});if(r.error)throw new Error(`Failed to fetch financial insights for ${e}`,{cause:r.error});return r.data},VBt=async({symbol:e,period:t,headers:n})=>{const r=await J.GET("/rest/finance/history/{market_identifier}",qt,{params:{query:{period:t??"1d"},path:{market_identifier:e}},headers:n,timeoutMs:nn,numRetries:Xt});if(r.error)throw new Error(`Failed to fetch price history for ${e}`,{cause:r.error});return r.data},GBt=e=>["finance/coin50/history",e],qBt=async({period:e})=>{const t=await J.GET("/rest/finance/history/COIN50USD",qt,{params:{query:{period:e??"1d"}},timeoutMs:nn,numRetries:Xt});if(t.error)throw new Error("Failed to fetch price history for COIN50USD",{cause:t.error});return t.data},KBt=async({symbol:e,period:t})=>{const n=await J.GET("/rest/finance/history/{market_identifier}/csv",qt,{parseAs:"blob",params:{path:{market_identifier:e},query:{period:t??"1d"}}});if(n.error)throw new Error(`Failed to fetch price history for ${e}`,{cause:n.error});return n.data},YBt=(e,t=!1,n,r)=>["finance/quote",e,t,n,r],gNt=async({symbol:e,withHistory:t=!1,historyPeriod:n,historyOffset:r,headers:s})=>{const a=await J.GET("/rest/finance/quote/{market_identifier}",qt,{params:{path:{market_identifier:e},query:{with_history:t,history_period:n,history_offset:r}},headers:s,timeoutMs:nn,numRetries:Xt});if(a.response.status===404)return null;if(a.error)throw new Error(`Failed to fetch quote for ${e}`,{cause:a.error});return a.data},QBt=e=>["finance/profile",e],XBt=async({symbol:e,headers:t})=>{const n=await J.GET("/rest/finance/profile/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.response.status===404)return null;if(n.error)throw new Error(`Failed to fetch profile for ${e}`,{cause:n.error});return n.data},ZBt=(e,t,n="",r="")=>["finance/history",t,e,n,r],JBt=async(e,t)=>{const n=await J.GET("/rest/finance/financials/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error(`Failed to fetch financials for ${e}`,{cause:n.error});return n.data};function e$t(e){return["finance/peers",e]}async function t$t({symbol:e,headers:t}){const n=await J.GET("/rest/finance/peers/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error(`Failed to fetch peers for ${e}`,{cause:n.error});return n.data}async function n$t({symbol:e,headers:t}){const n=await J.GET("/rest/finance/bulls-vs-bears-summary/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error(`Failed to fetch bulls vs bears analysis for ${e}`,{cause:n.error});return n.data}async function r$t({symbol:e,headers:t}){const n=await J.GET("/rest/finance/timeline/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:0});if(n.error)throw new Error(`Failed to fetch timeline for ${e}`,{cause:n.error});return n.data}const s$t=(e,t)=>["finance/transcript",e,t];async function a$t({eventId:e,symbol:t,headers:n}){const r=await J.GET("/rest/finance/earnings/{market_identifier}/transcript/{event_id}",qt,{headers:n,params:{path:{market_identifier:t,event_id:e}},timeoutMs:nn,numRetries:Xt});if(r.response.status===404)return null;if(r.error)throw new Error(`Failed to fetch earnings transcript for ${t}`,{cause:r.error});return r.data}const i$t=(e,t)=>["finance/analysis",e,t];async function o$t({eventId:e,symbol:t,headers:n}){const r=await J.GET("/rest/finance/earnings/{market_identifier}/analysis/{event_id}",qt,{params:{path:{market_identifier:t,event_id:e}},headers:n,timeoutMs:nn,numRetries:Xt});if(r.error)throw new Error(`Failed to fetch earnings analysis for ${t}`,{cause:r.error});return r.data}const l$t=(e,t)=>["finance/documents",e,t];async function c$t({eventId:e,symbol:t,headers:n}){const r=await J.GET("/rest/finance/earnings/{market_identifier}/documents/{event_id}",qt,{params:{path:{market_identifier:t,event_id:e}},headers:n,timeoutMs:nn,numRetries:Xt});if(r.error)throw new Error(`Failed to fetch earnings documents for ${t}`,{cause:r.error});return r.data}const u$t=e=>["finance/documents",e];async function d$t({symbol:e,headers:t}){const n=await J.GET("/rest/finance/documents/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error(`Failed to fetch documents for ${e}`,{cause:n.error});return n.data}const f$t=async(e,t)=>{const n=await J.GET("/rest/finance/documents/download/{document_id}",qt,{params:{path:{document_id:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error(`Failed to fetch document download url for ${e}`,{cause:n.error});return{errorCode:n.data?.error_code??null,presignedUrl:n.data?.presigned_url??null}},h$t=e=>["finance/earnings",e];async function m$t({symbol:e,headers:t}){const n=await J.GET("/rest/finance/earnings/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.response.status===404)return[];if(n.error)throw new Error(`Failed to fetch earnings for ${e}`,{cause:n.error});return n.data}async function p$t({marketType:e,headers:t}){const n=await J.GET("/rest/finance/{market_type}",qt,{headers:t,params:{path:{market_type:e}},timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error(`Failed to fetch finance page shared data for ${e}`,{cause:n.error});return n.data}const vNt=(e,t)=>["finance/top-indices",e,t];async function yNt({groupId:e,headers:t,historyPeriod:n}){const r=await J.GET("/rest/finance/top-indices/{group_id}",qt,{headers:t,params:{path:{group_id:e},query:{with_history:!0,history_period:n}},timeoutMs:nn,numRetries:Xt});if(r.error)throw new Error("Failed to fetch top indices",{cause:r.error});return r.data}const g$t=e=>["finance/watchlist-quotes",e??""];async function v$t({headers:e}={}){const t=await J.GET("/rest/finance/watchlist-quotes",qt,{headers:e,timeoutMs:nn,numRetries:Xt});if(t.error)throw new Error("Failed to fetch watchlist quotes",{cause:t.error});return t.data}async function y$t(){const e=await J.GET("/rest/finance/equity-sectors",qt,{timeoutMs:nn,numRetries:Xt});if(e.error)throw new Error("Failed to fetch equity sectors",{cause:e.error});return e.data}async function x$t(){const e=await J.GET("/rest/finance/fixed-income",qt,{timeoutMs:nn,numRetries:Xt});if(e.error)throw new Error("Failed to fetch fixed income",{cause:e.error});return e.data}async function b$t({marketType:e}){const t=await J.GET("/rest/finance/market-sentiment/{market_type}",qt,{params:{path:{market_type:e}},timeoutMs:nn,numRetries:Xt});if(t.error)throw new Error("Failed to fetch market sentiment",{cause:t.error});return t.data}async function w$t({marketType:e,headers:t}){const n=await J.GET("/rest/finance/top-z-scores/{market_type}",qt,{params:{path:{market_type:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch top z scores",{cause:n.error});return n.data}async function _$t({marketIdentifier:e,locale:t}){const n=await J.GET("/rest/finance/significant-movement-summary/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:{"Accept-Language":t},timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch significant movement summary",{cause:n.error});return n.data}const C$t=e=>["finance/news",e];async function S$t({symbol:e,headers:t}){const n=await J.GET("/rest/finance/news/{market_identifier}",qt,{params:{path:{market_identifier:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch news",{cause:n.error});return n.data}async function E$t({marketType:e,headers:t}){const n=await J.GET("/rest/finance/market-summary/{market_type}",qt,{params:{path:{market_type:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch market summary",{cause:n.error});return n.data}async function k$t({marketType:e,headers:t}){const n=await J.GET("/rest/finance/general-news/{market_type}",qt,{params:{path:{market_type:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch general news",{cause:n.error});return n.data}const M$t=(e,t,n)=>["finance/crypto-leaderboard",e,t,n];async function T$t({sortBy:e="dollarVolume24h",orderBy:t="desc",provider:n="coinbase",headers:r}){const s=await J.GET("/rest/finance/leaderboard/crypto",qt,{params:{query:{sort_by:e,order_by:t,provider:n}},timeoutMs:nn,numRetries:Xt,headers:r});if(s.error)throw new Error("Failed to fetch crypto leaderboard",{cause:s.error});return s.data}const N$t=(e,t,n)=>["finance/earnings/schedule",e,t,n];async function R$t(e,t,n){const r=await J.GET("/rest/finance/earnings/schedule",qt,{params:{query:{start_date:e,end_date:t,timezone:n}},timeoutMs:nn,numRetries:Xt});if(r.error)throw new Error("Failed to fetch earnings schedule",{cause:r.error});return r.data}const A$t=(e,t)=>["finance/earnings",e,t];async function j$t(e,t){const n=await J.GET("/rest/finance/earnings",qt,{params:{query:{date:e,timezone:t}},timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch earnings schedule",{cause:n.error});return n.data}async function P$t(){const{data:e,error:t}=await J.GET("/rest/autosuggest/finance/list-autosuggest",qt,{params:{query:{query:""}},timeoutMs:nn,numRetries:Xt});if(t)throw new Error("Failed to fetch trending companies",{cause:t});return e.results.filter(n=>n.category==="ticker")}const I$t=e=>["finance/screener",e];async function O$t({query:e,headers:t}){const n=await J.GET("/rest/finance/screener",qt,{params:{query:{query:e}},headers:t,timeoutMs:nn,numRetries:Xt});if(n.error)throw new Error("Failed to fetch screener data.",{cause:n.error});return n.data}const t9=({change:e,variant:t="small",includeIcon:n=!1,className:r,animated:s=!0,background:a=!0,mono:i=!0,format:o={style:"percent",minimumFractionDigits:0,maximumFractionDigits:e/100>1?0:2}})=>l.jsxs(j,{variant:t,color:e>0?"positive":"negative",className:U("flex shrink-0 grow-0 items-center justify-center gap-[0.1em] rounded text-center font-mono",{"bg-positive/10":e>0&&a,"bg-negative/10":e<0&&a,"px-[0.6em] py-[0.15em]":a,"!pl-[0.3em]":a&&n},r),children:[n?l.jsx(_e,{icon:e>0?il:KLe,className:U("inline-flex size-[1.2em]",{"!mt-px":i})}):l.jsx("span",{className:i?"font-mono":"",children:e>0?"+":"-"}),l.jsx("span",{className:i?"font-mono":"",children:l.jsx(d6e,{value:Math.abs(e)/100,format:o,animated:s})})]}),f6e=e=>{const{trackEvent:t}=Ne();return{onClick:f.useCallback((r,s)=>{switch(e){case"discover":t("discover home widget clicked",{widgetType:r,destinationUrl:s});break;case"market":case"crypto":t("finance homepage widget clicked",{pageType:e,widgetType:r,destinationUrl:s});break}},[t,e])}},L$t=({enter:e,exit:t})=>{const{trackEvent:n}=Ne(),r=f.useRef(performance.now()),s=f.useRef(!0);f.useEffect(()=>{n(e,{});const a=()=>{s.current&&n(t,{timeOnPageMs:Math.ceil(performance.now()-r.current)})},i=()=>{document.hidden?(a(),s.current=!1):(r.current=performance.now(),s.current=!0)};return document.addEventListener("visibilitychange",i),window.addEventListener("beforeunload",a),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("beforeunload",a),a()}},[n,e,t])},Sg=e=>new Date(e.date),$2=e=>e.close,xNt={blue:n3e,red:r3e},bNt={blue:s3e,red:a3e},h6e=({history:e,symbol:t,valence:n,width:r=150,height:s=25,strokeWidth:a=1.2,className:i})=>{const{colorScheme:o}=zr(),c=f.useMemo(()=>[...e],[e]),u=f.useMemo(()=>{const g=o==="dark"?xNt:bNt;return n==="positive"?g.blue:g.red},[o,n]),d=f.useMemo(()=>F1({domain:Qo(c,Sg),range:[0,r]}),[c,r]),h=f.useMemo(()=>Eh({domain:Qo(c,$2),range:[s,0]}),[c,s]),m=f.useMemo(()=>Nd().x(g=>d(Sg(g))??0).y(g=>h($2(g))??0).curve(pvt),[d,h]),p=f.useMemo(()=>m(c),[m,c]);return l.jsxs("svg",{height:s,width:r,viewBox:`0 0 ${r} ${s}`,className:U("overflow-visible",i),children:[l.jsx("path",{d:p,stroke:u,strokeWidth:a,fill:"none",shapeRendering:"geometricPrecision"}),l.jsx(C_,{from:`${u}22`,to:`${u}00`,id:`ticker-line-${t}`}),l.jsx(Th,{data:c,x:g=>d(Sg(g))??0,y:g=>h($2(g))??0,yScale:h,fill:`url(#ticker-line-${t})`})]})},wNt=({ticker:e})=>{const{onClick:t}=f6e("crypto"),{scrollToCoin50Section:n}=pNt(),r=()=>{t("top_indices","scroll"),n()};return l.jsx("div",{className:"min-w-0 shrink-0 cursor-pointer",onClick:r,children:l.jsx(_O,{symbol:e.symbol,name:e.name,price:e.price,change:e.change,history:e.history})})},_Nt=({ticker:e,marketType:t})=>{const{onClick:n}=f6e(t),r=()=>{n("top_indices",`/finance/${e.symbol}`)};return l.jsx(Rd,{href:`/finance/${e.symbol}`,className:"min-w-0 shrink-0",onClick:r,children:l.jsx(_O,{symbol:e.symbol,name:e.name,price:e.price,change:e.change,history:e.history})})},CNt=e=>at({queryKey:vNt(e,"1d"),queryFn:()=>yNt({groupId:e,historyPeriod:"1d"}),refetchInterval:1e3*30}),D$t=({groupId:e,className:t})=>{const{data:n,isLoading:r}=CNt(e);return l.jsx(SNt,{groupId:e,data:n,isLoading:r,className:t})},SNt=({groupId:e,className:t,data:n,isLoading:r})=>(B3("mini-graphs",{skip:!n}),l.jsxs("div",{className:t,children:[n?.map(s=>l.jsx(H,{children:s.symbol==="COIN50USD"?l.jsx(wNt,{ticker:s}):l.jsx(_Nt,{ticker:s,marketType:e})},`markets-${s.symbol}`)),r&&[1,2,3,4].map(s=>l.jsx(ENt,{},s))]})),_O=({symbol:e,name:t,price:n,change:r,history:s})=>{const a=r/(n-r)*100,i=e.replace("%5E",""),o=t,{isXLargeScreen:c}=j3(),u=n>1e6?n/1e6:n,d=n>1e6?"M":"",h=f.useMemo(()=>s?.toSorted((v,y)=>Sg(v).getTime()-Sg(y).getTime()),[s]),m=n-r,p=h?.[h.length-1],g=p&&$2(p)>m?"positive":"negative";return l.jsxs(Fn,{className:"py-sm gap-xs hover:shadow-subtle flex select-none flex-col transition-all duration-200 hover:scale-[1.02]",children:[l.jsxs("div",{className:"px-sm min-w-0",children:[l.jsxs("div",{className:"gap-xs flex min-w-0 items-center justify-between",children:[l.jsx(j,{variant:"smallBold",className:"min-w-0 truncate",children:o}),l.jsx(t9,{className:"translate-x-xs",change:a,variant:"tiny",includeIcon:!0})]}),l.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[l.jsx(j,{variant:"micro",color:"light",className:"whitespace-nowrap",children:i}),l.jsx(t9,{className:"-translate-x-two mt-px",change:r*100,background:!1,variant:"micro",format:{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"}})]})]}),h&&h.length>0&&l.jsx("div",{className:"my-sm flex w-full",children:l.jsx("div",{className:"px-sm flex flex-1",children:l.jsx(h6e,{history:h,symbol:e,valence:g,className:"h-auto w-0 flex-1",strokeWidth:c?1.6:1})})}),l.jsx(j,{variant:"baseSemi",className:"px-sm -mb-xs -mt-xs",children:l.jsx(d6e,{value:u,format:{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"},suffix:d})})]})},ENt=T.memo(()=>l.jsxs(hs,{className:"relative","aria-hidden":"true",children:[l.jsx("div",{className:"invisible",children:l.jsx(_O,{symbol:"XXX",name:"XXX",price:100,change:100,history:[{date:"2025-01-01",close:100},{date:"2025-01-02",close:100}]})}),l.jsx("div",{className:"absolute inset-0",children:l.jsxs(Fn,{className:"py-sm gap-xs flex h-full flex-col",children:[l.jsxs("div",{className:"px-sm",children:[l.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-4 w-3/5 max-w-24 rounded"}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-5 w-1/4 max-w-12 rounded-full"})]}),l.jsxs("div",{className:"gap-sm mt-xs flex items-center justify-between",children:[l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-3 w-1/4 max-w-10 rounded"}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-3 w-1/3 max-w-14 rounded"})]})]}),l.jsx("div",{className:"mx-sm my-xs flex-1",children:l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-full w-full rounded"})}),l.jsx("div",{className:"px-sm",children:l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-5 w-2/5 max-w-20 rounded"})})]})})]})),TE=["1d","5d","1m","6m","ytd","1y","5y","max"],Jy=new Set;async function kNt({period:e,symbols:t,headers:n,existingFailedPeriods:r=[],reason:s}){const a=TE.indexOf(e),i=[...r].filter(o=>!Jy.has(o));for(let o=a;o<TE.length;o++){const c=TE[o];if(i.includes(c)&&!Jy.has(c))continue;const u=await J.GET("/rest/finance/prices/{period}/{market_identifiers}",s,{params:{path:{period:c,market_identifiers:t.join(",")}},headers:n,timeoutMs:nn,numRetries:Xt});if(u.error){Jy.has(c)||i.push(c),Q.error("Failed to fetch FMP prices",{url:`/rest/finance/prices/${c}/${t.join(",")}`,error:u.error,status:u.response.status,statusText:u.response.statusText});continue}return Jy.add(c),{...u.data.data}}return null}const m6e="stock-widget-quote-cache",p6e="stock-widget-prices-cache",H2="NVDA",MNt=60*1e3,TNt=5*60*1e3,NNt=60*1e3,RNt=30*1e3,ANt=5*60*1e3,jNt=60*1e3,PNt=150,CY=50,INt=24*60*60*1e3,ONt=.1,LNt=10,DNt=5;function FNt(e){try{const t=Ue.getItem(`${m6e}-${e}`);if(t){const n=JSON.parse(t);if(Date.now()-n.timestamp<MNt)return n.data}}catch{}return null}function UNt(e,t){try{const n={symbol:e,data:t,timestamp:Date.now()};Ue.setItem(`${m6e}-${e}`,JSON.stringify(n))}catch{}}function BNt(e,t){try{const n=Ue.getItem(`${p6e}-${e}-${t}`);if(n){const r=JSON.parse(n);if(Date.now()-r.timestamp<TNt)return r.data}}catch{}return null}function $Nt(e,t,n){try{const r={symbol:e,period:t,data:n,timestamp:Date.now()};Ue.setItem(`${p6e}-${e}-${t}`,JSON.stringify(r))}catch{}}function HNt(e="widget",t="default"){if(e!=="widget")return{version:1,symbol:H2};const n=pv("STOCK",t);return n?{version:1,symbol:n.symbol??H2}:{version:1,symbol:H2}}function WNt(e,t="widget",n="default"){t==="widget"&&gv("STOCK",n,{version:1,symbol:e.symbol})}const zNt=(e="default",t="widget")=>{const n=HNt(t,e),[r,s]=f.useState(n),a="stock-widget",{data:i}=Die({watchlistType:"FINANCE",reason:a}),o=r.symbol||i?.[0]?.identifier||H2,c=FNt(o),u=BNt(o,"1d"),{data:d,isLoading:h}=at({queryKey:["finance/quote",o],queryFn:async()=>{const k=await gNt({symbol:o,withHistory:!0,historyPeriod:"1d",historyOffset:0});return k&&UNt(o,k),k},refetchInterval:NNt,staleTime:RNt,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:!0,placeholderData:c}),{data:m,isLoading:p}=at({queryKey:["finance/prices",o,"1d"],queryFn:async()=>{const k=await kNt({period:"1d",symbols:[o],reason:"stock-widget"});return k&&$Nt(o,"1d",k),k},refetchInterval:ANt,staleTime:jNt,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:!0,placeholderData:u}),g=d||c,v=m||u,y=!!(d&&m),x={symbol:o,price:"---.--",changesPercentage:"--%",change:"--$",exchange:"--",currency:"USD"},b={history:{prices:[{symbol:o,entries:Array.from({length:CY},(k,E)=>({date:new Date(Date.now()-(CY-1-E)*INt).toISOString(),price:PNt+Math.sin(E*ONt)*LNt+Math.random()*DNt})),exchange:"--",currency:"USD"}]}},w=g||x,_=v||b,C=f.useMemo(()=>_?.history?.prices?_.history.prices.map(k=>({symbol:k.symbol,entries:k.entries.map(E=>({date:E.date,price:E.price})).toSorted((E,M)=>new Date(E.date).getTime()-new Date(M.date).getTime()),exchange:k.exchange||w?.exchange||"",currency:k.currency||w?.currency||"USD"})):[],[_,w]),S=f.useCallback(k=>{s(k),WNt(k,t,e)},[s,t,e]);return f.useMemo(()=>({symbol:o,quote:w,prices:C,isLoading:h||p,hasError:!1,hasRealData:y,stockSettings:r,updateStockSettings:S}),[o,w,C,h,p,y,r,S])},VNt=({symbol:e,src:t,srcDark:n,className:r})=>{n=n??t;const[s,a]=f.useState(!1),i=f.useRef(null),{colorScheme:o}=zr(),c=()=>{i.current&&i.current.naturalHeight>0&&a(!1)};f.useEffect(()=>{i.current&&(i.current.complete&&i.current.naturalHeight===0?a(!0):a(!1))},[i]);const u=o==="dark"?n:t;return l.jsx("div",{className:U("size-lg p-xs flex shrink-0 items-center justify-center",r),children:s||!u?l.jsx(GNt,{symbol:e}):l.jsx("img",{ref:i,src:u,alt:e,className:"rounded-[4px] object-contain",onError:()=>{a(!0)},onLoad:c})})},GNt=({symbol:e})=>l.jsx("div",{className:"size-lg flex shrink-0 items-center justify-center",children:l.jsx(H,{variant:"offsetPlus",className:"flex size-[28px] items-center justify-center rounded-full",children:l.jsx(j,{color:"light",children:l.jsx("span",{className:"font-mono opacity-70",children:e.slice(0,1)})})})}),qNt=10,KNt=e=>{const{isSelected:t}=e;return l.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:l.jsx(ze,{icon:t?da:Tr,size:"small",pill:!0})})},YNt=({onClear:e})=>l.jsx(ze,{icon:tn,size:"tiny",pill:!0,onClick:e}),g6e=T.memo(({onClose:e,onSelectStock:t,currentSymbol:n})=>{const{isMobileUserAgent:r}=Oe(),s="stock-settings-modal",{$t:a}=K(),i=ot(),o=f.useRef(null),[c,u]=f.useState(n),[d,h]=f.useState(je),[m,p]=f.useState(-1),[g,v]=f.useState(!1),y=f.useCallback(()=>{e(),h(je)},[e]),x=f.useCallback(async P=>{if(P.trim().length===0){h(je);return}const I=ls().erp;try{const F=(await i.fetchQuery({queryKey:["watchlist","FINANCE",P],queryFn:()=>Lie({query:P,watchlistType:"FINANCE",limit:qNt,cometRenderPlace:I,reason:s}),staleTime:3600})).map(D=>({query:D.title,title:D.title,image:D.image_url??void 0,imageDark:D.image_url_dark??void 0,description:D.description,identifier:D.identifier,category:D.category??void 0,subscribed:D.subscribed}));h(F)}catch{h(je)}},[i,s]),b=_i(x,250,{leading:!0,trailing:!0}),w=f.useCallback(P=>{b(P)},[b]),_=f.useCallback(()=>{v(!0),w(c)},[c,w]),C=f.useCallback(()=>{v(!1)},[]),S=f.useCallback(P=>{u(P),w(P)},[w]),k=()=>{u(""),h([])},E=f.useCallback(P=>{t(P.identifier??"AAPL"),h(je),u(P.identifier??"AAPL")},[t]),M=f.useCallback((P,O)=>{E(P)},[E]),N=U("h-10 rounded-md p-4 dark:[&:focus]:ring-0",{"rounded-t-md rounded-b-none":g&&d.length>0}),R=f.useMemo(()=>({image:P,alt:O})=>l.jsx("div",{className:"mr-3 flex size-6 items-center justify-center overflow-hidden rounded",children:l.jsx(VNt,{src:P??"",symbol:O??""})}),[]);f.useEffect(()=>{c||w("")},[c,w]);const A=f.useMemo(()=>({RightIconComponent:KNt,LeftIconComponent:R}),[R]);return l.jsx(Id,{onClose:y,children:l.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[l.jsx(j,{variant:"entry-title-300",children:a({defaultMessage:"Select Stock",id:"0MrUZjeA/m"})}),l.jsx(x1,{isOpen:g&&d.length>0,suggestedQueries:d,focusedIndex:m,setFocusedIndex:p,handlePasteQuery:Ln,handleSubmit:M,value:c,components:A,dropdownClassName:"dark:border-none dark:ml-0 dark:mr-0 dark:w-full max-h-[250px] overflow-y-auto",dropdownType:"select",popoverClassName:"dark:!border-none",children:l.jsx(ko,{onFocus:_,onBlur:C,className:N,pill:!1,ref:o,isMobileUserAgent:r,placeholder:a({defaultMessage:"Search stocks (e.g., AAPL, TSLA, MSFT)...",id:"TMRxNvCkDS"}),value:c,onChange:S,ClearIcon:YNt,...c.length>0?{onClear:k}:{}})}),l.jsx("div",{className:"mt-sm flex flex-row justify-end",children:l.jsx(ye,{variant:"primary",size:"small",onClick:y,text:a({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})});g6e.displayName="StockSettingsModal";const CO=T.memo(({widgetId:e,showSettings:t,setShowSettings:n,context:r="widget"})=>{const{$t:s}=K(),{symbol:a,quote:i,prices:o,isLoading:c,updateStockSettings:u}=zNt(e,r),d=f.useCallback(b=>{u({symbol:b,version:1})},[u]),h=f.useMemo(()=>({style:"currency",currency:i.currency??"USD",minimumFractionDigits:i.price<1e3?2:0,maximumFractionDigits:2}),[i]),m=o[0].entries,p=m[0].price,v=m[m.length-1].price>(i?.previousClose??p)?"positive":"negative",y=l.jsx("div",{className:U("h-full transform-gpu rounded-2xl"),children:l.jsxs("div",{className:"gap-xs flex h-full flex-1 flex-col justify-between p-2.5 pb-0 drop-shadow-sm",style:{zoom:r==="thumbnail"?.75:1},children:[l.jsxs("div",{className:"flex flex-col gap-px",children:[l.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[l.jsx(j,{variant:"smallBold",children:a}),i&&!c&&typeof i.changesPercentage=="number"&&l.jsx(t9,{change:i.changesPercentage,variant:"micro",includeIcon:!0,className:"-translate-y-0.5 translate-x-0.5 rounded-md"})]}),l.jsx(j,{variant:"tinyRegular",color:"light",className:"min-w-0 truncate whitespace-nowrap",children:c?s({defaultMessage:"Loading...",id:"gjBiyjshwX"}):i?.name||a})]}),o.length>0&&o[0]?.entries?.length>0&&i?.price&&typeof i.price=="number"&&l.jsx("div",{className:"pointer-events-none",children:l.jsx(h6e,{history:m.map(b=>({date:b.date,close:b.price})),symbol:a,valence:v,width:140,height:60,strokeWidth:1.6,className:"h-auto w-full"})}),i?.price&&typeof i.price=="number"?l.jsx(j,{variant:"section-title",className:"-translate-x-two -translate-y-px",children:l.jsx("span",{className:"font-mono",children:l.jsx(pg,{value:i.price,format:h,animated:!0})})}):i?.price?l.jsx(j,{variant:"page-title",className:"-translate-x-two -translate-y-px",children:l.jsx("span",{className:"font-mono text-xl",children:i.price})}):null]})}),x=f.useCallback(()=>n?.(!1),[n]);return r==="thumbnail"?y:l.jsxs(l.Fragment,{children:[l.jsx(Fn,{shadow:!0,className:"active:!bg-offset dark:active:!bg-offsetPlus aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:l.jsx(it,{draggable:!1,href:`/finance/${a}`,className:"relative block size-full",children:l.jsx("div",{className:"absolute inset-0 select-none",children:y})})}),l.jsx(wt,{children:t&&l.jsx(g6e,{onClose:x,onSelectStock:d,currentSymbol:a})})]})});CO.displayName="StockWidget";const n9=T.memo(({hostname:e,title:t,context:n})=>{const r=["teal","maroon","purple","orange","blue"],s=e.split("").reduce((d,h)=>h.charCodeAt(0)+((d<<5)-d),0),a=Math.abs(s)%r.length,i=r[a],o=(t||e)[0].toUpperCase(),c={teal:"bg-[#21808D] dark:bg-[#32B8C6]",maroon:"bg-[#944454] dark:bg-[#FFB3C9]",purple:"bg-[#865D95] dark:bg-[#C48ED8]",orange:"bg-[#DB7100] dark:bg-[#FFAB44]",blue:"bg-[#19789E] dark:bg-[#54B4E3]"},u={teal:"text-[#B1EFF7] dark:text-[#082125]",maroon:"text-[#FFDFE9] dark:text-[#2D171B]",purple:"text-[#FFE4FF] dark:text-[#2E1836]",orange:"text-[#FFE6C8] dark:text-[#3B0F00]",blue:"text-[#CEF4FF] dark:text-[#071F2B]"};return l.jsx("span",{className:`pt-two flex select-none items-center justify-center rounded-full font-sans text-xs font-medium ${c[i]} ${u[i]} ${n==="thumbnail"?"size-4":"size-6"}`,children:o})});n9.displayName="FaviconFallback";const SY=4,i4=T.memo(({context:e,disabled:t})=>{const[n,r]=f.useState({}),{data:s=[]}=n6e();if(e==="thumbnail")return l.jsx("div",{className:"gap-sm grid size-full grid-rows-3",children:s.length>=3?s.slice(0,3).map(i=>{const c=new URL(i.url).host;return l.jsx(Ip,{width:"w-16",disabled:t,thumbnail:n[i.url]?l.jsx(n9,{hostname:c,title:i.title,context:"thumbnail"}):l.jsx("img",{src:Ug(i.url),alt:"Favicon",className:"size-full",onError:()=>{r(u=>({...u,[i.url]:!0}))}})},i.url)}):l.jsxs(l.Fragment,{children:[l.jsx(Ip,{width:"w-16",disabled:t}),l.jsx(Ip,{width:"w-12",disabled:t}),l.jsx(Ip,{width:"w-14",disabled:t})]})});const a=Math.max(SY-s.length,0);return l.jsxs("div",{className:U("flex w-full flex-wrap items-center justify-center gap-3",{"grid grid-cols-[repeat(auto-fill,minmax(160px,1fr))]":e==="sortable-widgets"}),children:[s.slice(0,SY).map(i=>{const c=new URL(i.url).host,u=jJ(c);return l.jsx(Dn,{tooltipText:i.title||i.url,tooltipLayout:"bottom",asChild:!0,children:l.jsx(it,{href:i.url,children:l.jsxs(Fn,{shadow:!0,className:U("p-sm gap-sm flex w-full select-none items-center rounded-lg border"),bgHover:"offset",children:[n[i.url]?l.jsx(n9,{hostname:c,title:i.title}):l.jsx("img",{src:Ug(i.url),alt:"Favicon",className:"size-6 rounded-md",onError:()=>{r(d=>({...d,[i.url]:!0}))}}),l.jsx(j,{variant:"tiny",className:"line-clamp-1 text-left capitalize",color:"light",children:u.replace(/\./g," ")})]})})},i.url)}),new Array(a).fill("").map((i,o)=>l.jsx("div",{className:"h-[42px]"},o))]})});i4.displayName="TopMostUrls";const Ip=T.memo(({width:e,thumbnail:t,disabled:n})=>l.jsxs(Fn,{shadow:!0,fullBleed:!0,className:"gap-sm px-sm flex flex-row items-center !rounded-lg",children:[l.jsx("div",{className:U("empty:bg-offsetPlus size-4 overflow-hidden rounded-[4px]",{"opacity-50":n}),children:t}),l.jsx("div",{className:U("bg-offsetPlus h-1.5 rounded-full",e,{"opacity-50":n})})]}));Ip.displayName="TopMostUrlsThumbnailItem";const v6e="weather-widget-cache";function QNt(){try{const e=Ue.getItem(v6e);if(e)return JSON.parse(e)}catch{}return null}function XNt(e){try{Ue.setItem(v6e,JSON.stringify(e))}catch{}}function EY(e="widget",t="default",n=!1){if(e!=="widget")return{version:1,prefersMetric:n};const r=pv("WEATHER",t);return r?{version:1,prefersMetric:r.prefersMetric??n}:{version:1,prefersMetric:n}}function ZNt(e,t="widget",n="default"){t==="widget"&&gv("WEATHER",n,{version:1,prefersMetric:e.prefersMetric})}const JNt=(e="default",t="widget")=>{const{locale:n}=K(),{location:r}=gm(),s=r?.latitude??null,a=r?.longitude??null,i=QNt(),o=EY(t,e,i?.is_metric_preferred),[c,u]=f.useState(o),{data:d,isLoading:h}=at({queryKey:[ej,s,a].map(String),queryFn:async()=>{const M=await Oie({location:r,locale:n,reason:"weather-comet-home-widget"});return M&&XNt(M),u(N=>{const R=EY(t,e,M?.is_metric_preferred);return{...N,prefersMetric:R.prefersMetric}}),M},refetchInterval:1e3*60*5,staleTime:1e3*60,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,placeholderData:i}),m="patchy-rain-possible-day",p=c.prefersMetric?16:62,g="Rainy",v="San Francisco, CA",y=d||i,x=y&&y.current&&y.location,b=!!d,w=!!r,_=x?y.current.condition?.icon:m,C=x?c.prefersMetric?y.current.temp_c??p:y.current.temp_f??p:p,S=x?y.current.condition?.text??g:g,k=x?`${y.location.name}${y.location.is_usa&&y.location.region?`, ${y.location.region}`:y.location.country?`, ${y.location.country}`:""}`:v,E=f.useCallback(M=>{u(M),ZNt(M,t,e)},[u,t,e]);return f.useMemo(()=>({icon:_,temperature:C,condition:S,locationName:k,isLoading:h,hasError:!1,hasRealData:b,hasLocation:w,weatherSettings:c,updateWeatherSettings:E}),[_,C,S,k,h,b,w,c,E])},y6e=T.memo(({widgetId:e="default",showSettings:t,setShowSettings:n,context:r="widget"})=>{const{$t:s}=K(),a=JNt(e,r),[i,o]=f.useState(!1),c=f.useCallback(()=>n?.(!1),[n]),{permissionStatus:u}=gm(),{openModal:d}=St();f.useEffect(()=>{u==="granted"&&o(!0)},[u]);const h=f.useCallback(()=>{d("locationPermissionModal",{onPermissionGranted:()=>{o(!0)},origin:"weather_widget"})},[d]);if(!a.hasRealData&&!a.hasLocation&&a.isLoading)return l.jsxs("div",{className:U("h-full transform-gpu rounded-2xl"),children:[l.jsx(Nb,{variant:"clear-day",className:"rounded-2xl",context:"ntp"}),l.jsx("div",{className:"gap-sm flex h-full flex-1 flex-col items-center justify-center p-2.5 drop-shadow-sm",style:{zoom:r==="thumbnail"?.75:1},children:l.jsx(j,{variant:"tiny",color:"white",className:"opacity-75",children:s({defaultMessage:"Loading weather...",id:"kTpqlc9m9M"})})})]});const m=L_(D_,a.icon)?j0[a.icon]:ev.faSun,p=l.jsxs("div",{className:U("h-full transform-gpu overflow-hidden rounded-2xl"),children:[l.jsx(Nb,{variant:a.icon,className:"!rounded-2xl",context:"ntp"}),l.jsxs("div",{className:"gap-sm flex h-full flex-1 flex-col justify-between p-2.5 pb-0 pt-1 drop-shadow-sm",style:{zoom:r==="thumbnail"?.75:1},children:[l.jsxs("div",{className:"flex flex-row items-start justify-between",children:[l.jsxs("div",{children:[l.jsx(j,{variant:"page-title",color:"white",children:l.jsxs("span",{className:"font-mono",children:[a.temperature,"°",a.weatherSettings.prefersMetric?"C":"F"]})}),l.jsx(j,{variant:"tinyRegular",color:"white",className:"-mt-xs opacity-60",children:a.condition})]}),l.jsx(j,{variant:"page-title",color:"white",className:"mr-0.5 mt-2",children:l.jsx(gt,{icon:m,className:"text-3xl"})})]}),l.jsx(j,{variant:"tiny",color:"white",className:"mb-1.5 line-clamp-2 flex items-center",children:a.locationName})]})]});return r==="thumbnail"?p:l.jsxs(l.Fragment,{children:[l.jsx(Fn,{shadow:!0,fullBleed:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:l.jsx(it,{href:`/search/new?q=${s({defaultMessage:"weather near {location}",id:"vi8HXN1mDE"},{location:a.locationName})}
          `,draggable:!1,className:"relative block size-full",children:l.jsx("div",{className:"absolute inset-0 select-none",children:p})})}),l.jsx(wt,{children:t&&l.jsx(Id,{onClose:c,children:l.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[l.jsx(j,{variant:"entry-title-300",children:s({defaultMessage:"Weather settings",id:"RMurwlcxbd"})}),l.jsx("div",{className:"flex flex-col gap-3",children:l.jsx("div",{className:"flex w-full flex-col",children:l.jsxs("div",{className:"border-offsetPlus flex w-full gap-2 rounded-lg border p-1",children:[l.jsxs("label",{className:U("flex w-full cursor-pointer items-center justify-center rounded-md py-2",{"bg-offset dark:bg-offsetPlus":a.weatherSettings.prefersMetric}),children:[l.jsx("input",{type:"radio",name:"tempUnit",checked:a.weatherSettings.prefersMetric,onChange:()=>{const g={version:1,prefersMetric:!0};a.updateWeatherSettings(g)},className:"hidden"}),l.jsx(j,{variant:"smallBold",color:a.weatherSettings.prefersMetric?"default":"light",children:s({defaultMessage:"Celsius",id:"y/PhoM9SbF"})})]}),l.jsxs("label",{className:U("flex w-full cursor-pointer items-center justify-center rounded-md py-2",{"bg-offset dark:bg-offsetPlus":!a.weatherSettings.prefersMetric}),children:[l.jsx("input",{type:"radio",name:"tempUnit",checked:!a.weatherSettings.prefersMetric,onChange:()=>{const g={version:1,prefersMetric:!1};a.updateWeatherSettings(g)},className:"hidden"}),l.jsx(j,{variant:"smallBold",color:a.weatherSettings.prefersMetric?"light":"default",children:s({defaultMessage:"Fahrenheit",id:"K2DDr1Ji/l"})})]})]})})}),l.jsx(H,{className:"border-t"}),l.jsxs("div",{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{className:"gap-xs flex flex-col",children:[l.jsx(j,{variant:"smallBold",children:s({defaultMessage:"Precise Location",id:"WP8KG0QkTf"})}),l.jsx(j,{variant:"small",className:"leading-tight",color:"light",children:s({defaultMessage:"Use your device location to get the most accurate weather information.",id:"Dsn2unk3pR"})})]}),l.jsx(eRt,{permissionStatus:u,children:l.jsx("div",{onClick:i?void 0:h,children:l.jsx(wd,{active:i,disabled:i})})})]}),l.jsx(H,{className:"border-t"}),l.jsx("div",{className:"mt-sm flex flex-row justify-end",children:l.jsx(ye,{variant:"primary",size:"small",onClick:c,text:s({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})}),eRt=({children:e,permissionStatus:t})=>{const{$t:n}=K(),r=n({defaultMessage:"Currently using precise location. This can be disabled from Comet Settings.",id:"5Z0PWou5EU"});return t==="granted"?l.jsx(Dn,{asChild:!0,tooltipText:r,delayDuration:0,arrowClassName:" ",bodyTextClassName:"text-center",children:e}):e},SO=f.memo(({context:e="widget"})=>{const t=l.jsx("div",{className:U("relative h-full w-full cursor-pointer select-none",{"active:!bg-offset dark:active:!bg-offsetPlus":e==="widget"}),children:l.jsx("div",{className:"group relative size-full",children:l.jsx("img",{src:"/static/images/zen/thumbnail.png",alt:"Zen",className:"pointer-events-none absolute inset-0 object-cover"})})});return e==="thumbnail"?t:l.jsx(Fn,{shadow:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",fullBleed:!0,children:l.jsx(it,{href:"/b/zen",className:"cursor-pointer",draggable:!1,children:t})})});SO.displayName="ZenWidget";const NE=25,tRt=()=>null,x6e=T.memo(function({editMode:t,setEditMode:n,containerRef:r,askInput:s}){const{defaultWidgets:a}=G9t(),{shouldShowWidget:i}=vO(),[o,c]=f.useState(P9t(a)),u=Y7t(K7t(mO)),d=f.useRef(!1);L9t(o);const{$t:h}=K(),{shouldShowBanner:m,handleBannerClose:p,setDefaultBrowser:g}=$9t({source:"comet-home"}),{data:v=[]}=n6e();f.useEffect(()=>{if(!d.current){d.current=!0;return}s6e(o)},[o]);const y=f.useCallback(M=>{const{active:N,over:R}=M;R&&N.id!==R.id&&c(A=>{const P=A.findIndex(I=>I.id===N.id),O=A.findIndex(I=>I.id===R.id);return gO(A,P,O)})},[]),x=f.useCallback(M=>{o.length>=NE||c(N=>[...N,{id:Hr(),type:M.type}])},[o]),b=f.useCallback(M=>{c(N=>N.filter(R=>R.id!==M))},[]),w=f.useMemo(()=>T.memo(({widget:M})=>{const N=f.useCallback(()=>b(M.id),[M.id]),R=A9t(M.type);return R?M.shouldHide?l.jsx("div",{className:`col-span-${R.width===4?"full":R.width} h-[1px]`,style:{opacity:0}},M.id):l.jsx(b6e,{id:M.id,editMode:t,onDelete:N,widget:R},M.id):null}),[t,b]),_=f.useCallback(()=>{navigator.geolocation.getCurrentPosition(Q.info)},[]),C=f.useMemo(()=>T.memo(({widget:M})=>{const N=f.useMemo(()=>M.type==="TOP_URLS"&&v.length===0||o.length>=NE,[M]),R=f.useCallback(()=>{x(M),_()},[M]);if(!M||M.cannotBeDeleted)return null;const A=o.some(P=>P.type===M.type);return l.jsx(La,{fallback:null,children:l.jsx(_6e,{aspectRatio:1/1,widget:M,widgetIsAdded:A,hideIconOutline:M.type==="TOP_URLS",onClick:R,manuallyDisabled:N})})}),[x,o,_,v]),S=T9t(),k=f.useMemo(()=>o.filter(M=>!(M.type==="EXPLORE_ASSISTANT"&&!i)).map(M=>({...M,shouldHide:M.type==="TOP_URLS"&&v.length===0})),[o,v,i]),E=f.useMemo(()=>r6e.filter(M=>M.type==="WORMHOLE"?S:M.type==="EXPLORE_ASSISTANT"?i:!0),[S,i]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-lg flex min-h-full w-full items-center justify-center",children:l.jsxs("div",{style:{width:800},className:"grid grid-cols-[repeat(auto-fill,minmax(160px,1fr))] gap-3",children:[l.jsx(H,{className:U("-mt-md col-span-full inline-flex flex-wrap items-center justify-center",{"opacity-100":m,"opacity-0":!m}),children:l.jsxs(H,{variant:"raised",className:"gap-sm pl-xs pr-sm py-xs shadow-subtle flex items-center rounded-full border",children:[l.jsxs("div",{className:"gap-xs group flex items-center",children:[l.jsx(ze,{icon:tn,onClick:p,size:"small",pill:!0}),l.jsx(j,{variant:"small",color:"super",className:"whitespace-nowrap",children:h({defaultMessage:"{brand} works best as your default browser",id:"uTC0rExpLQ"},{brand:"Comet"})})]}),l.jsx(ye,{variant:"primaryGhost",size:"tiny",pill:!0,text:h({defaultMessage:"Set {brand} as default",id:"VssH9YxzlZ"},{brand:"Comet"}),onClick:g,icon:Ed,extraCSS:"border-none"})]})}),l.jsx(KTt,{sensors:u,collisionDetection:nTt,onDragOver:y,children:l.jsxs(v9t,{items:k,strategy:tRt,children:[l.jsx(ke.div,{layout:!0,transition:_c,className:"-mb-md col-span-full",children:s}),l.jsx(wt,{children:k.map(M=>l.jsx(w,{widget:M},M.id))})]})})]})}),l.jsx(wt,{children:t&&l.jsx(w6e,{containerRef:r,setEditMode:n,maxWidgetsReached:o.length>=NE,children:l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"grid w-full grid-cols-[repeat(auto-fill,minmax(120px,1fr))] flex-row gap-6 p-6",children:E.map((M,N)=>l.jsx(C,{widget:M},N))})})})})]})});x6e.displayName="SortableWidgets";const nRt=500,b6e=T.memo(function({id:t,editMode:n,onDelete:r,widget:s}){const[a,i]=f.useState(!1),{isMobileStyle:o}=Oe(),{$t:c}=K(),[u,d]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(!1),v=f.useRef(null);f.useEffect(()=>{a&&(d(!1),g(!1))},[a]),f.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]);const y=f.useCallback(()=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{g(!0)},nRt)},[]),x=f.useCallback(()=>{v.current&&clearTimeout(v.current),u||g(!1)},[u]);f.useEffect(()=>{g(!1)},[h]);const{attributes:b,isDragging:w,listeners:_,setNodeRef:C}=S9t({id:t,disabled:!n}),S=N=>{switch(N){case"ANALOG_CLOCK":return l.jsx(yO,{widgetId:t,context:"widget",showSettings:h,setShowSettings:m,showCity:!0});case"GITHUB":return l.jsx(bO,{context:"widget"});case"STICKY":return l.jsx(wO,{widgetId:t,showSettings:h,setShowSettings:m,context:"widget",defaultText:""});case"TOP_URLS":return l.jsx(i4,{context:"sortable-widgets"});case"WEATHER":return l.jsx(y6e,{widgetId:t,context:"widget",showSettings:h,setShowSettings:m});case"STOCK":return l.jsx(CO,{widgetId:t,context:"widget",showSettings:h,setShowSettings:m});case"DISCOVER":return l.jsx(xO,{context:"widget",showSettings:h,setShowSettings:m});case"ASSISTANT":return l.jsx(o6e,{widgetId:t,context:"widget",defaultQuery:c({defaultMessage:"Find important unanswered emails",id:"D8O0cB/SKH"}),showSettings:h,setShowSettings:m});case"WORMHOLE":return l.jsx(e6e,{widgetId:t,context:"widget"});case"ZEN":return l.jsx(SO,{context:"widget"});case"EXPLORE_ASSISTANT":return l.jsx(c6e,{context:"widget"},`${t}-widget`);default:return l.jsx("div",{})}},k=f.useMemo(()=>{const N={type:"default",text:c({defaultMessage:"Remove",id:"G/yZLul6P1"}),destructive:!0,onClick:r},R={type:"default",text:c({defaultMessage:"Settings",id:"D3idYvSLF9"}),onClick:()=>m(!h)};return[...s?.settings?[R]:[],...s?.cannotBeDeleted?[]:[N]]},[c,r,h,s?.cannotBeDeleted,s?.settings]),E=f.useCallback(()=>d(!0),[d]),M=f.useCallback(()=>{d(!1),g(!1)},[]);return s?l.jsxs(ke.div,{layout:!0,ref:C,className:U("relative",`col-span-${s.width===4?"full":s.width}`,{"z-[100]":w||a}),drag:n,dragSnapToOrigin:!0,onMouseEnter:y,onMouseLeave:x,onDragStart:()=>{i(!0)},onDragTransitionEnd:()=>{i(!1)},exit:{opacity:0},transition:_c,children:[l.jsx(wt,{children:(n||p)&&l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:_c,className:"absolute -left-2 -top-2 z-[10]",children:l.jsx(bn,{isMobileStyle:o,items:k,placement:"bottom-start",onOpen:E,onClose:M,children:l.jsx(H,{as:"button",onClick:E,variant:"raised",className:"active:!bg-offset dark:active:!bg-offsetPlus shadow-overlay dark:shadow-overlayDark flex size-6 !cursor-pointer items-center justify-center rounded-full",children:l.jsx(_e,{icon:gd,size:"sm"})})})})}),n&&l.jsx("div",{className:U("absolute inset-0 z-[9] cursor-grab",{"cursor-grabbing":w}),onMouseDown:()=>d(!1),...b,..._}),S(s.type)]}):null});b6e.displayName="SortableItem";const w6e=T.memo(({children:e,setEditMode:t,containerRef:n,maxWidgetsReached:r})=>{const{$t:s}=K(),a=f.useCallback(()=>t(!1),[t]);return l.jsx(m1,{portalTarget:n.current??document.body,children:l.jsx(ke.div,{initial:{y:"100%",x:"-50%"},animate:{y:0,x:"-50%"},exit:{y:"100%",x:"-50%"},transition:_c,className:"md:px-xl fixed bottom-0 left-1/2 z-[100] w-full pb-3",children:l.jsx("div",{className:"px-xl mx-auto max-w-[800px]",children:l.jsxs(H,{variant:"raised",className:"dark:!bg-background shadow-overlay dark:shadow-overlayDark size-full rounded-2xl pb-3",children:[l.jsx("div",{className:"scrollbar-none max-h-[250px] w-full overflow-scroll",children:e}),l.jsxs("div",{className:"pl-md border-offset/75 dark:border-offset sticky left-0 flex w-full flex-row items-center border-t pr-3 pt-3",children:[r&&l.jsx(j,{variant:"small",color:"ultraLight",children:s({defaultMessage:"You have reached the maximum number of widgets",id:"fRBSTWO49U"})}),l.jsx(ye,{variant:"primary",size:"small",extraCSS:"ml-auto",text:"Done",onClick:a})]})]})})})})});w6e.displayName="WidgetTray";const _6e=T.memo(({aspectRatio:e,onClick:t,widget:n,widgetIsAdded:r,hideIconOutline:s,manuallyDisabled:a=!1})=>{const i=n.singleton&&r||a,o=u=>{switch(u){case"ANALOG_CLOCK":return l.jsx(yO,{widgetId:n.type,context:"thumbnail"});case"GITHUB":return l.jsx(bO,{context:"thumbnail"});case"STICKY":return l.jsx(wO,{widgetId:n.type,context:"thumbnail",defaultText:"My great sticky..."});case"WEATHER":return l.jsx(y6e,{widgetId:n.type,context:"thumbnail"});case"TOP_URLS":return l.jsx(i4,{context:"thumbnail",disabled:i});case"STOCK":return l.jsx(CO,{widgetId:n.type,context:"thumbnail"});case"DISCOVER":return l.jsx(xO,{context:"thumbnail"});case"ASSISTANT":return l.jsx(o6e,{widgetId:n.type,context:"thumbnail",defaultQuery:"Find important unanswered emails"});case"WORMHOLE":return l.jsx(e6e,{widgetId:n.type,context:"thumbnail"});case"ZEN":return l.jsx(SO,{context:"thumbnail"});case"EXPLORE_ASSISTANT":return l.jsx(c6e,{context:"thumbnail"},`${n.type}-thumbnail`);default:return l.jsx("div",{})}},c=f.useMemo(()=>({aspectRatio:e}),[e]);return l.jsxs("div",{className:"gap-sm relative flex flex-col items-center justify-center",children:[!i&&l.jsx("div",{className:"absolute -top-2 left-1/2 z-[10] translate-x-[-68px]",children:l.jsx(H,{as:"button",variant:"raised",onClick:i?void 0:t,className:"active:!bg-offset dark:active:!bg-offsetPlus shadow-overlay dark:shadow-overlayDark flex size-6 !cursor-pointer items-center justify-center rounded-full",children:l.jsx(_e,{icon:Tr,size:"sm"})})}),l.jsx(Fn,{shadow:!0,fullBleed:!s,onClick:i?void 0:t,style:c,className:U("h-[120px] cursor-pointer overflow-hidden",{"pointer-events-none":i,"!overflow-visible !rounded-none border-none !bg-transparent shadow-none":s}),children:l.jsx("div",{className:"absolute inset-0",children:o(n.type)})}),l.jsx(j,{variant:"small",color:i?"ultraLight":"default",children:n.name})]})});_6e.displayName="AdditionalWidget";const rRt=Ee(async()=>({default:(await he(()=>import("./WelcomeOverlay-oPd4idFU.js"),__vite__mapDeps([72,1]))).WelcomeOverlay})),sRt=e=>e.reduce((t,n)=>n.condition==="ALWAYS"?[...t,...n.suggests.map(r=>({query:r,icon:n.icon,image:n.image}))]:t,[]),C6e=T.memo(()=>{const e=f.useRef(null),{$t:t,locale:n}=K(),{trackEvent:r}=Ne(),[s,a]=f.useState(!1),[i,o]=f.useState(!0),[c,u]=f.useState(!1),d=f.useRef(null),h=Vr(),m=f.useRef(null),{isMobileStyle:p}=Oe(),g=j8t(),v=P7t(),y=l7t();f.useEffect(()=>{if(y){const E=v[0];as.preload(E.videoSrc,{as:"video"}),as.preload(E.previewSrc,{as:"image"})}},[y,v]);const x=x6t({cometBrowser:h,type:"welcome-modal",locale:n}),b=o7t(),w=f.useMemo(()=>sRt(b.groups),[b]);f.useEffect(()=>{Ue.getItem("hasClosedWelcomeModal")?o(!1):a(!0)},[]);const _=f.useCallback(()=>{i||o(!0),a(!0),r("ntp education selected")},[r,i]),C=f.useCallback(()=>{a(!1)},[]),S=()=>{navigator.geolocation.getCurrentPosition(Q.info)},k=f.useCallback(()=>{S(),u(!0)},[]);return l.jsx(Cxe,{modules:MSe,children:l.jsxs("div",{ref:e,className:"mx-auto flex size-full flex-col",style:p?void 0:{marginLeft:zf*-.5+"px"},children:[l.jsx(ke.div,{initial:{paddingBottom:80},animate:{paddingBottom:c?320:80},exit:{paddingBottom:80},transition:_c,className:"px-md relative isolate mx-auto flex w-full max-w-[800px] grow flex-col items-center justify-center pb-[80px]",children:l.jsx(S6e,{editMode:c,setEditMode:u,containerRef:e})}),l.jsxs("div",{className:"gap-sm fixed bottom-0 left-1/2 mt-auto flex w-full max-w-[800px] -translate-x-1/2 justify-center py-6 pt-12",children:[l.jsx("div",{ref:d,children:l.jsx(ye,{pill:!0,size:"small",variant:"border",icon:Ed,text:t({defaultMessage:"Try Assistant",id:"E4vPUv5Uqt"}),extraCSS:"!bg-background z-[2] relative",onClick:_})}),l.jsx(ye,{pill:!0,size:"small",variant:"border",icon:BDe,text:t({defaultMessage:"Edit widgets",id:"T1DvA9w3pt"}),extraCSS:"!bg-background z-[2] relative",onClick:k}),g&&l.jsx(_5e,{pill:!0,size:"small",variant:"border",extraCSS:"!bg-background z-[2] relative"}),l.jsx("div",{style:{maskImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 75%)"},className:"bg-background z-1 absolute inset-0"})]}),i&&as.createPortal(l.jsx(rRt,{isOpen:s,onClose:C,suggestions:x.length?x:w,suggestionsScrollContainerRef:m,buttonRef:d}),document.body)]})})});C6e.displayName="CometHomePage";const EO=T.memo(()=>l.jsx(im,{children:l.jsx(iRt,{})}));EO.displayName="Input";const aRt=T.memo(()=>l.jsxs(l.Fragment,{children:[l.jsx(EO,{}),l.jsx("div",{className:"pt-md h-[96px] w-full",children:l.jsx(i4,{context:"sortable-widgets"})})]}));aRt.displayName="InputWrapper";const S6e=T.memo(({editMode:e,setEditMode:t,containerRef:n})=>{const r=f.useMemo(()=>l.jsx(EO,{}),[]);return l.jsx(x6e,{containerRef:n,editMode:e,setEditMode:t,askInput:r})});S6e.displayName="MaybeWidgetsWrapper";const iRt=()=>{const e="comet-ask-input",{mentionTypeaheadOptions:t,inputPlaceholder:n,onTriggerTypeahead:r}=kSe({reason:e,isLazy:!0}),[s,a,i]=ESe({csrRedirect:!0});return l.jsx(H,{className:U("static flex w-full flex-col items-center justify-center md:mt-0","z-10"),children:l.jsx("div",{className:"mb-md w-full",children:l.jsx(J_,{...i,value:s,json:a,querySource:"home",autofocus:!0,minRows:2,hasShadow:!0,showFileUpload:!0,showIncognitoHint:!0,showSources:!0,dropdownPlacement:"bottom",useLexical:!0,mentionTypeaheadOptions:t,placeholder:n??i.placeholder,isCometHome:!0,onTriggerTypeahead:r})})})},su=(e,t)=>`milestone-progress-dismissed-${t}-${e}`,oRt=({platform:e,reason:t})=>{const[n,r]=f.useState(!1),{trackEvent:s,trackEventOnce:a}=Ne(),i=ot(),{keysRequiringRerender:o,removeKeyRequiringRerender:c}=Ic(),{data:u}=at({queryKey:[`milestone-progress-${e}`],queryFn:()=>Gie({platform:e,reason:t})});f.useEffect(()=>{o.includes("floating-milestone-refetch")&&(i.invalidateQueries({queryKey:[`milestone-progress-${e}`]}),c("floating-milestone-refetch"))},[o,i,e,c]),f.useEffect(()=>{Nr.getItem(su(e,"session"))||Ue.getItem(su(e,"lifetime"))||u&&(!u.is_eligible&&!u.has_incentive||(r(!0),a("milestone progress viewed",{platform:e,streakLength:u.usage_count,requiredCount:u.required_count,hasIncentive:u.has_incentive,isLegacy:!0})))},[e,u,s,a]),f.useEffect(()=>{u?.usage_count&&u.usage_count>1&&!u.has_incentive&&(Nr.removeItem(su(e,"session")),Ue.removeItem(su(e,"lifetime")))},[u,e]);const d=f.useCallback(()=>{r(!1),s("milestone progress dismissed",{platform:e,streakLength:u.usage_count,requiredCount:u.required_count,hasIncentive:u.has_incentive,isLegacy:!0}),Nr.setItem(su(e,"session"),"true"),u?.usage_count&&u.usage_count<=1&&Ue.setItem(su(e,"lifetime"),"true"),u?.has_incentive&&Ue.setItem(su(e,"lifetime"),"true")},[u,e,s]);return f.useMemo(()=>({show:n,handleClose:d,data:u}),[u,d,n])},E6e=T.memo(({platform:e})=>{const t="floating-milestone-progress-legacy",{locale:n}=K(),{$t:r}=K(),{show:s,handleClose:a,data:i}=oRt({platform:e,reason:t}),{title:o,description:c}=f.useMemo(()=>{const u=i?.has_incentive,d=i?.required_count??0,h=i?.usage_count??0,m=h+d;return u?{title:r({defaultMessage:"You've earned Pro!",id:"7+xawxeq+I"}),description:r({defaultMessage:"You got 1 month of Perplexity Pro applied for free",id:"iYsCnfs/iq"})}:h>0?{title:r({defaultMessage:"{streakLength} day streak",id:"f2ItkP1IHu"},{streakLength:h}),description:r({defaultMessage:"Ask a question for {remainingDays} more days and get a month of Pro free",id:"mxOXJkTUhm"},{remainingDays:d})}:{title:r({defaultMessage:"Get 1 month of Pro",id:"P4r7bPLEnw"}),description:r({defaultMessage:"Ask a question every day for {milestoneLength} days and get a month of Pro free",id:"U46/HtRODS"},{milestoneLength:m})}},[i,r]);return!s||!i?.usage_display_days?null:l.jsxs(H,{variant:"offset",className:"mb-xl p-md animate-in fade-in fixed bottom-[20px] right-[20px] z-30 w-[220px] rounded-lg shadow-lg duration-300 ease-out",children:[l.jsxs("div",{className:"gap-xs flex flex-row items-center",children:[l.jsx(j,{color:"super",children:l.jsx(_e,{icon:DDe,size:"sm"})}),l.jsx(j,{variant:"small",children:o}),l.jsx(j,{color:"ultraLight",className:"hover:!text-textMain ml-auto cursor-pointer",onClick:a,children:l.jsx(_e,{size:"sm",icon:tn})})]}),l.jsx(j,{color:"light",variant:"tinyRegular",className:"mt-sm",children:c}),l.jsx("div",{className:"mt-md flex flex-row justify-between",children:i.usage_display_days.map(u=>l.jsxs("div",{className:"gap-xs flex flex-col items-center",children:[l.jsx(j,{color:"light",variant:"tinyRegular",children:h3(u.day,n,"narrow")}),u.check?l.jsx(j,{color:"super",children:l.jsx(_e,{size:"sm",icon:Fee})}):l.jsx(j,{color:"ultraLight",children:l.jsx(_e,{size:"sm",icon:Uee})})]},u.day))})]})});E6e.displayName="FloatingMilestoneProgressLegacy";const{Provider:lRt,useSelector:cRt,useTrackedState:uRt}=nm("HomepageComponentsProvider",e=>bi(t=>({homepageTitle:e?.homepageTitle||"",actions:{onHomepageTitleChange:n=>{t({homepageTitle:n})}}}))),dRt=()=>cRt(e=>e.actions),fRt=uRt,hRt={hidden:{},visible:{transition:{staggerChildren:.025}}},mRt={hidden:{opacity:0},visible:{opacity:1,transition:{type:"tween",duration:.3}},exit:{opacity:0,transition:{duration:.05}}},k6e=T.memo(()=>{const{homepageTitle:e}=fRt(),t=f.useRef(!0),[n,r]=f.useState(!0),{hasAccessToProFeatures:s,isMax:a}=At(),{isMobileStyle:i}=Oe(),o=f.useMemo(()=>{const c=e.split(" ");return c.map((u,d)=>d===c.length-1?u:`${u} `)},[e]);return f.useEffect(()=>{if(t.current){t.current=!1;return}r(!1)},[e]),l.jsx("div",{className:"mb-lg bottom-0 flex w-full items-center justify-center pb-3 text-center md:absolute",children:l.jsx(wt,{mode:"wait",children:n&&!i?l.jsx(ke.div,{initial:{opacity:1},exit:{opacity:0,transition:{duration:.2}},children:l.jsx(Es,{variant:a?"max-text":"text",isPro:s,size:s?"xl":"large"})}):l.jsx(ke.span,{variants:hRt,initial:n?!1:"hidden",animate:"visible",exit:"hidden","aria-hidden":"true",className:"inline-block",children:l.jsx(j,{children:l.jsx("span",{className:"font-regular font-display inline-block text-3xl md:text-4xl","aria-label":e,children:o.map((c,u)=>l.jsx(ke.span,{variants:mRt,className:"inline-block",style:{whiteSpace:"pre"},children:c},`${c}-${u}`))})})},e)})})});k6e.displayName="HomepageTitle";let kY=1234567;function pRt(e){e!==void 0&&(kY=e);let t=kY+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}const gRt=e=>e.some(t=>t.type==="QUERY"&&t.educational_type==="comet"),vRt=e=>e.some(t=>t.type==="QUERY"&&t.educational_type==="project"),r9=e=>e.type==="QUERY"&&e.educational_type==="primer",M6e={Ask:Lu,"Email & Communication Management":zN,"Finance & Budgeting":cFe,"Work & Research":Nee,"Shopping & Deals":hM,"Social & Personal Life":Iee,"Time Management & Productivity":BN,"Travel & Events":Cw,Research:Lu,"Current Events":kw,Recommend:pM,Travel:dFe,Shopping:hM,Finance:xDe,Sports:h2,Local:QDe,"Make a plan":ZDe,Analyze:pDe,Summarize:YLe,"Fact Check":jee,Learn:mee,Health:uM,"What is Perplexity":u5e,Troubleshoot:RFe,Compare:zF,Parenting:WDe,Create:_w,Study:hx,"Get a job":cDe,Flashcards:JLe,"Practice test":kee,Law:zF,Technology:SDe,Science:MFe,Humanities:JDe},T6e=ke.create(it),MY=e=>is(e).with({type:"ANNOUNCEMENT"},()=>"announcement").with({type:"DISCOVER"},()=>"discover_single_page").with({type:"QUERY"},t=>t.prompt.toLowerCase()).with({type:"WEATHER"},()=>"weather_current").with({type:"FINANCE"},()=>"finance_ticker").with({type:"SPORTS"},()=>"sports_game").with({type:"WATCHLIST"},()=>"watchlist").with({type:"MULTIQUERY"},t=>(t.prompt??"Ask").toLowerCase()).with({type:"SPACE"},t=>t.title.toLowerCase()).exhaustive(),yRt=(e,t,n,r="home")=>{const{trackEvent:s}=Ne(),[a,i]=f.useState(!1),o=f.useMemo(()=>{const y=is(e).with({type:"ANNOUNCEMENT"},b=>({title:b.title,text:b.text,variant:b.variant})).with({type:"DISCOVER"},b=>({title:b.title})).with({type:"QUERY"},b=>({prompt:b.prompt,query:b.query,uuid:b.uuid,educational_type:b.educational_type})).with({type:"WEATHER"},b=>({location:b.location.name})).with({type:"FINANCE"},b=>({ticker:b.quotes[0].symbol,is_implicit:b.is_implicit??!1})).with({type:"WATCHLIST"},b=>({type:b.watchlist_type})).with({type:"SPACE"},b=>({title:b.title})).otherwise(()=>({})),x=e.action.type==="MULTIQUERY"?e.action.actions.map(b=>({...b,type:b.type.toLowerCase()})):{...e.action,type:e.action.type.toLowerCase()};return{widgetType:e.type.toLowerCase(),widgetName:MY(e),widgetCTA:x,widgetLocation:r,widgetSize:`grid_${(e.size??"MEDIUM").toLowerCase()}`,position:t,frontendUUID:n,metadata:y,uuid:e.uuid}},[e,t,n,r]),c=f.useCallback(()=>{a||(s("widget viewed",o),i(!0))},[o,s,a]),u=f.useCallback(()=>{s("widget selected",o)},[o,s]),d=f.useCallback(()=>{s("widget dismissed",o)},[o,s]),h=f.useCallback(()=>{s("widget hovered",o)},[o,s]),m=f.useCallback(y=>{if(e.type!=="MULTIQUERY")return;const x=e.action.actions.find(b=>b.query===y);if(x)return{widgetType:e.type.toLowerCase(),widgetName:MY(e),widgetLocation:r,widgetSize:`grid_${(e.size??"MEDIUM").toLowerCase()}`,position:t,frontentUUID:n,metadata:{prompt:e.prompt,query:x.query,uuid:x.uuid??null}}},[e,t,n,r]),p=f.useCallback(y=>{const x=m(y);x&&s("widget selected",x)},[m,s]),g=f.useCallback(y=>{const x=m(y);x&&s("widget hovered",x)},[m,s]),v=f.useCallback(y=>{const x=m(y);x&&s("widget viewed",x)},[m,s]);return f.useMemo(()=>({trackView:c,trackClick:u,trackDismiss:d,trackHover:h,trackMultiQueryClick:p,trackMultiQueryHover:g,trackMultiQueryView:v}),[u,d,h,p,g,v,c])};var RE={},TY;function xRt(){return TY||(TY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="location-crosshairs",r=512,s=512,a=["location"],i="f601",o="M256 0c13.3 0 24 10.7 24 24l0 41.5C366.8 76.3 435.7 145.2 446.5 232l41.5 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-41.5 0C435.7 366.8 366.8 435.7 280 446.5l0 41.5c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-41.5C145.2 435.7 76.3 366.8 65.5 280L24 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l41.5 0C76.3 145.2 145.2 76.3 232 65.5L232 24c0-13.3 10.7-24 24-24zM112 256a144 144 0 1 0 288 0 144 144 0 1 0 -288 0zm192 0a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm-144 0a96 96 0 1 1 192 0 96 96 0 1 1 -192 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faLocationCrosshairs=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(RE)),RE}var bRt=xRt();const o4=({onRequest:e,onSuccess:t,onError:n,origin:r})=>{const{$t:s}=K(),{trackEvent:a}=Ne();return f.useCallback(()=>{e?.(),navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{t(i),a("precise location granted",{origin:r})},i=>{let o;switch(i.code){case i.PERMISSION_DENIED:n(s({defaultMessage:"Looks like permission was denied. Please allow location access in your browser site settings.",id:"9P7nG1a2Cl"})),o="permission_denied";break;case i.POSITION_UNAVAILABLE:n(s({defaultMessage:"Unable to determine your location. Please try again.",id:"VLgkyqQ5LO"})),o="position_unavailable";break;case i.TIMEOUT:n(s({defaultMessage:"Request timed out. Please try again.",id:"VIQi5rKvh3"})),o="timeout";break;default:n(s({defaultMessage:"An error occurred while getting your location. Please try again.",id:"oOu0W+N9Re"})),o="unsupported"}a("precise location modal denied",{origin:r,reason:o})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(n(s({defaultMessage:"Location services are not supported by your browser.",id:"1eN9TO+Fjt"})),a("precise location modal denied",{origin:r,reason:"unsupported"}))},[s,n,t,e,r,a])},N6e=T.memo(({isOpen:e,onClose:t,onPermissionGranted:n,origin:r})=>{const{$t:s}=K(),[a,i]=f.useState(!1),[o,c]=f.useState(null),u=o4({onSuccess:g=>{n(g),i(!1),c(null),t()},onError:g=>{i(!1),c(g)},origin:r}),d=f.useCallback(()=>{i(!0),c(null),u()},[u]),{colorScheme:h}=zr(),{isMobileStyle:m}=Oe(),p=f.useMemo(()=>[{text:s({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t,disabled:a},{text:s({defaultMessage:"Allow",id:"y/bmsG8rnv"}),onClick:d,isLoading:a,variant:"primary",disabled:a}],[s,d,a,t]);return l.jsx(jt,{isOpen:e,onClose:t,variant:m?"bottom-sheet":"small",actionList:p,children:l.jsxs(H,{className:"flex flex-col",children:[l.jsx("div",{className:"-mt-md mb-md bg-offset flex h-24 w-full items-center justify-center overflow-hidden rounded-md bg-cover bg-center",style:{backgroundImage:h==="dark"?"url('/static/images/location-share-dialog-map-dark.jpg')":"url('/static/images/location-share-dialog-map.jpg')"},children:l.jsxs(H,{className:"size-xl relative flex items-center justify-center rounded-full border",children:[l.jsx(H,{className:"absolute left-1/2 top-1/2 size-full -translate-x-1/2 -translate-y-1/2 rounded-full",variant:"super"}),l.jsx(H,{variant:"super",className:"!border-super absolute left-1/2 top-1/2 size-[140%] -translate-x-1/2 -translate-y-1/2 rounded-full border opacity-20"}),l.jsx(H,{variant:"super",className:"!border-super absolute left-1/2 top-1/2 size-[180%] -translate-x-1/2 -translate-y-1/2 rounded-full border opacity-10"}),l.jsx(H,{variant:"super",className:"!border-super absolute left-1/2 top-1/2 size-[220%] -translate-x-1/2 -translate-y-1/2 rounded-full border opacity-5"}),l.jsx(gt,{icon:bRt.faLocationCrosshairs,size:"lg",className:"text-background relative"})]})}),l.jsx(j,{variant:"section-title",className:"text-center",children:s({defaultMessage:"Enable Precise Location",id:"/JAfaukfkx"})}),l.jsx(j,{variant:"small",color:"light",className:"text-center",children:s({defaultMessage:"To provide you with accurate local weather information, Perplexity needs access to your device location.",id:"0A/wGwJkVw"})}),o&&l.jsx(H,{className:"mt-md",children:l.jsx(j,{variant:"smallBold",color:"red",className:"text-center",children:o})})]})})});N6e.displayName="LocationPermissionModal";const wRt=Object.freeze(Object.defineProperty({__proto__:null,LocationPermissionModal:N6e,useRequestLocation:o4},Symbol.toStringTag,{value:"Module"})),_Rt=()=>{const{submitQuery:e}=Bc(),t=Rt(),{openModal:n}=St(),r=P_e(),{isWindowsApp:s}=Nt(),{setUserInput:a,setShouldTriggerFocus:i}=J1(),{blankStateSuggestions:o}=Ms(),{setSuggestions:c}=hi(),u=ma(),{onHomepageTitleChange:d}=dRt(),{setFileUploadUpsellTooltipOpen:h}=hi(),{openToast:m}=Yn(),p=ut(),v=o4({onSuccess:Ln,onError:A=>{m(A,"error",5)},origin:"homepage_primer"}),y=f.useCallback(A=>{const P=ja();e({rawQuery:A.query,copilotOverride:A.prefer_pro,attachments:A.attachments,collection:null,newFrontendContextUUID:P,promptSource:"homepage_widget",querySource:"homepage_widget",sourcesOverride:["web"],modelPreferenceOverride:A.prefer_pro?"pplx_pro":"turbo",shouldRedirectToBackendUUID:!0})},[e]),x=f.useCallback(A=>{a(A.input_prefix),i(!0),A.suggestions&&A.suggestions.length>0?c(A.suggestions.map(({query:P,submission_query:O})=>({query:P,submission_query:O??void 0}))):A.suggestions&&A.suggestions.length===0&&o[u]&&c(o[u]),A.homepage_tagline&&d(A.homepage_tagline),A.trigger_location_prompt&&v(),A.trigger_file_tooltip&&h(!0),A.trigger_deep_research&&p&&r(ge.ALPHA)},[a,i,p,c,o,d,v,h,r,u]),b=f.useCallback((A,P)=>{const O=A.find(I=>I.query===P);O&&y(O)},[y]),w=f.useCallback(A=>{t.push(`/page/${A.page_slug}`)},[t]),_=f.useCallback(A=>{s?Px(A):window.open(A,"_blank")},[s]),C=f.useCallback((A,P)=>{const O=A.should_interpolate_template&&P?PJ(A.permalink,P):A.permalink;_(O)},[_]),S=f.useCallback(A=>{s?Px(A.permalink):t.push(A.permalink)},[t,s]),k=f.useCallback(()=>{t.push("/pro")},[t]),E=f.useCallback(A=>{A.deep_research?r(ge.ALPHA):r(ge.PRO)},[r]),M=f.useCallback(A=>{n("watchlistModal",{origin:"home",watchlistType:A.watchlist_type})},[n]),N=f.useCallback(A=>{n("spaceCreate",{existingCollection:null,onCreate:null,content:{title:A.space_title??void 0,description:A.space_description??void 0,instructions:A.space_instructions??void 0,emoji:A.space_emoji??void 0}})},[n]),R=f.useCallback(A=>{A.modal_name&&n(A.modal_name)},[n]);return f.useMemo(()=>({createThreadAction:y,populateInputAction:x,multiQueryCreateThreadAction:b,openPageAction:w,openExternalUrlAction:C,openInternalUrlAction:S,openPaywallAction:k,enableProAction:E,openWatchlistModalAction:M,createSpaceAction:N,openModalAction:R}),[N,y,E,b,C,S,R,w,k,M,x])},CRt=e=>["ANNOUNCEMENT","QUERY"].includes(e.type),nf=["SMALL","MEDIUM","LARGE"],R6e=T.memo(({widget:e,size:t})=>{const n=nf.includes(t)?"linear-gradient(to bottom, black, transparent)":"linear-gradient(to right, transparent, black 50%)",r="absolute inset-0 size-full object-cover object-center",s=f.useMemo(()=>l.jsxs("div",{className:"relative h-full",children:[l.jsx("img",{src:e.image_url_light,className:U(r,"block dark:hidden"),alt:e.title,style:{maskImage:n,WebkitMaskImage:n}}),l.jsx("img",{src:e.image_url_dark,className:U(r,"hidden dark:block"),alt:e.title,style:{maskImage:n,WebkitMaskImage:n}})]}),[r,e.image_url_dark,e.image_url_light,e.title,n]),a=f.useMemo(()=>l.jsx("div",{className:"p-sm flex h-full flex-col justify-center",children:l.jsxs("div",{className:"gap-2xs p-xs flex flex-col items-start",children:[l.jsx(j,{className:"line-clamp-2 text-ellipsis leading-tight",variant:nf.includes(t)?"tinyRegular":"small",color:nf.includes(t)?"white":void 0,children:e.title}),l.jsx(j,{className:U("line-clamp-2 text-ellipsis leading-tight",{"text-white/70":nf.includes(t)}),variant:"tiny",color:"light",children:l.jsx("span",{className:"font-normal",children:e.text})})]})}),[t,e.title,e.text]);return l.jsx("div",{className:U("relative h-full w-full",{"bg-offsetDark":nf.includes(t)}),children:nf.includes(t)?l.jsxs(l.Fragment,{children:[s,l.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a})]}):l.jsxs("div",{className:"grid h-full grid-cols-3 grid-rows-1",children:[l.jsx("div",{className:"col-span-2",children:l.jsx("div",{className:"flex h-full flex-row items-center",children:a})}),l.jsx("div",{className:"col-span-1",children:s})]})})});R6e.displayName="AnnouncementHomepageWidget";const A6e=T.memo(({widget:e,size:t})=>{const{colorScheme:n}=zr(),r=t=="LARGE"?"grid grid-rows-3":"flex flex-row items-center",s=t=="LARGE"?"row-span-1":"",a=t=="LARGE"?"row-span-3":"",i=f.useMemo(()=>l.jsx("div",{className:U("relative",a),children:l.jsx("img",{src:n==="light"?e.image_url_light:e.image_url_dark,className:"size-full object-cover",alt:e.title,style:{maskImage:"linear-gradient(to bottom, black 75%, transparent)"}})}),[a,n,e.image_url_light,e.image_url_dark,e.title]),o=f.useMemo(()=>l.jsx("div",{className:U(a,"pl-[12px]"),children:l.jsx("div",{className:"relative size-[40px] overflow-hidden rounded-md",children:l.jsx("img",{src:n==="light"?e.image_url_light:e.image_url_dark,alt:e.title,className:"size-full object-cover"})})}),[a,n,e.image_url_light,e.image_url_dark,e.title]),c=f.useMemo(()=>l.jsx("div",{className:U("p-sm flex h-full flex-col justify-center",s,t!=="LARGE"&&"pt-sm"),children:l.jsx(j,{className:"px-xs line-clamp-2 text-ellipsis leading-tight",variant:"tinyRegular",children:e.title})}),[t,s,e.title]);return l.jsx("div",{className:U("h-full w-full",r),children:t=="LARGE"?l.jsxs(l.Fragment,{children:[i,c]}):l.jsxs(l.Fragment,{children:[o,c]})})});A6e.displayName="DiscoverHomepageWidget";var AE={},NY;function SRt(){return NY||(NY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="location-dot",r=384,s=512,a=["map-marker-alt"],i="f3c5",o="M336 192c0-79.5-64.5-144-144-144S48 112.5 48 192c0 12.4 4.5 31.6 15.3 57.2c10.5 24.8 25.4 52.2 42.5 79.9c28.5 46.2 61.5 90.8 86.2 122.6c24.8-31.8 57.8-76.4 86.2-122.6c17.1-27.7 32-55.1 42.5-79.9C331.5 223.6 336 204.4 336 192zm48 0c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192zm-160 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-112 0a80 80 0 1 1 160 0 80 80 0 1 1 -160 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faLocationDot=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(AE)),AE}var ERt=SRt();const j6e=T.memo(({setShowCTA:e})=>{const{$t:t}=K(),{openToast:n}=Yn(),r=ot(),s=f.useCallback(()=>{r.invalidateQueries({queryKey:[ej]}),e(!1)},[r,e]),i=o4({onSuccess:s,onError:c=>{n(c,"error",5)},origin:"homepage_weather"}),o=f.useCallback(()=>{i()},[i]);return l.jsxs(ke.div,{whileTap:{scale:.98,transition:{ease:qn,duration:.15}},className:"bg-background-300 flex w-full cursor-pointer flex-row items-center justify-center rounded-full p-3",onClick:o,children:[l.jsx(gt,{icon:ERt.faLocationDot,size:"sm",className:"text-textMain relative"}),l.jsx(j,{variant:"smallBold",color:"default",className:"ml-2",children:t({defaultMessage:"Use Precise Location",id:"A+BBIFLIgr"})})]})});j6e.displayName="EnableLocationCTA";var jE={},RY;function kRt(){return RY||(RY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="arrow-down",r=384,s=512,a=[8595],i="f063",o="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faArrowDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(jE)),jE}var MRt=kRt(),PE={},AY;function TRt(){return AY||(AY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="arrow-up",r=384,s=512,a=[8593],i="f062",o="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faArrowUp=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(PE)),PE}var NRt=TRt();const P6e=T.memo(({widget:e,size:t})=>{const n="leading-none",r=e.profiles[0].image,s=e.profiles[0].displayName??e.profiles[0].symbol,a=e.profiles[0].companyName,i=e.quotes[0].price,o=e.profiles[0].currency,c=e.quotes[0].changesPercentage,u=(c??0)>0,{locale:d}=K(),h=f.useMemo(()=>U({"!text-[#20808D] dark:!text-[#1FB8CD]":u,"!text-[#A84B2F] dark:!text-[#9C4153]":!u}),[u]),m=f.useMemo(()=>i?i>=1e5?(i/1e3).toLocaleString(d,{minimumFractionDigits:2,maximumFractionDigits:2})+"k":i.toLocaleString(d,{minimumFractionDigits:2,maximumFractionDigits:2}):"",[i,d]),p=f.useMemo(()=>c?`${u?"+":""}${c?.toFixed(2)}%`:"",[c,u]),g=f.useMemo(()=>t==="MEDIUM"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"gap-xs flex items-center",children:[r&&l.jsx("img",{src:r??"",alt:a??"",className:"mt-[-2px] size-[16px] rounded-sm"}),l.jsx(j,{variant:"tinyRegular",color:"light",className:n,children:s})]}),l.jsxs("div",{className:"gap-sm flex flex-row items-baseline",children:[l.jsxs(j,{variant:"tinyRegular",className:n,children:[o==="USD"?"$":"",m,o!=="USD"&&l.jsxs("span",{className:"text-subtle text-[11px]",children:[" ",o]})]}),l.jsx(j,{variant:"tinyRegular",className:U(n,h,"ml-auto"),children:p})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"tinyRegular",className:n,children:s}),l.jsx(j,{variant:"tinyRegular",className:n,children:m}),l.jsx(j,{variant:"tinyRegular",className:h,children:p})]}),[p,h,a,o,r,m,t,s]),v=f.useMemo(()=>l.jsx("div",{className:U("bg-offsetPlus flex items-center justify-center rounded-full",{"size-[18px]":t==="SMALL","size-[20px]":t!=="SMALL"}),children:l.jsx(gt,{icon:u?NRt.faArrowUp:MRt.faArrowDown,className:h,size:"xs"})}),[u,t,h]);return l.jsxs("div",{className:U("p-sm flex h-full flex-row items-center",{"py-sm":t==="SMALL"}),children:[l.jsx("div",{className:U("pl-xs flex flex-col",t==="MEDIUM"?"gap-sm":"gap-xs"),children:g}),l.jsx("div",{className:U("ml-auto",{"mr-sm":t==="MEDIUM"}),children:v})]})});P6e.displayName="FinanceHomepageWidget";const RRt={SMALL:"col-span-1 row-span-1",MEDIUM:"col-span-2 row-span-1",LARGE:"col-span-2 row-span-2",ROW:"col-span-6 row-span-1"},kO=T.memo(({widget:e,showPadding:t=!0,restrictTwoRows:n=!0,tooltipText:r,icon:s})=>{const a=t?"px-sm py-xs":"",i=t?"p-xs":"",o=f.useMemo(()=>({lineHeight:1.3}),[]);return l.jsx("div",{className:`relative h-full ${a}`,children:l.jsx("div",{className:`flex h-full flex-col ${i}`,children:l.jsxs("div",{className:"flex flex-grow items-center gap-2",children:[l.jsx("div",{className:"bg-background-300 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-md",children:l.jsx(_e,{icon:(s||M6e[e.prompt])??Lu,color:"#8D9191",size:"sm"})}),r?l.jsx(Dn,{tooltipText:r,asChild:!0,children:l.jsx(j,{className:U("text-ellipsis",{"line-clamp-2":n}),variant:"tinyRegular",style:o,children:e.query})}):l.jsx(j,{className:U("text-ellipsis text-pretty",{"line-clamp-2":n}),variant:"tinyRegular",style:o,children:e.query})]})})})});kO.displayName="QueryHomepageWidget";const ARt={suggested:kw,trending:Pee},jRt=(e,t)=>{const{action:n,...r}=e,s=n.actions.find(a=>a.query===t)??n.actions[0];return{...r,type:"QUERY",query:t,action:s}},I6e=T.memo(({prompt:e})=>{switch(e){case"suggested":return l.jsx(j,{variant:"tinyRegular",color:"light",children:l.jsx(ce,{defaultMessage:"Suggested",id:"a0lFbMbzyl"})});case"trending":return l.jsx(j,{variant:"tinyRegular",color:"light",children:l.jsx(ce,{defaultMessage:"Trending",id:"ll/ufR0/ED"})});default:return l.jsx(j,{variant:"tinyRegular",color:"light",children:"Ask"})}});I6e.displayName="WidgetTitle";const O6e=T.memo(({widget:e,onQueryClick:t,onQueryHover:n})=>{const{queries:r}=e,s=r.length===1,a=U("px-[12px] pt-[12px]"),i=e.prompt.toLowerCase(),o=ARt[i],c=f.useMemo(()=>T.memo(({query:u,restrictTwoRows:d})=>{const h=f.useMemo(()=>jRt(e,u),[u]),m=f.useMemo(()=>({opacity:.5}),[]),p=f.useMemo(()=>({opacity:1}),[]),g=f.useMemo(()=>({opacity:.75,transition:{duration:.15,ease:Vs}}),[]);return l.jsx(T6e,{href:`/search/new?q=${u}&source=homepage_widget`,initial:m,animate:p,whileHover:g,children:l.jsx("div",{className:"mt-4",onClick:v=>{v.preventDefault(),t(u)},onMouseEnter:()=>n(u),children:l.jsx(kO,{widget:h,size:"MEDIUM",showPadding:!1,restrictTwoRows:d})})})}),[t,n,e]);return l.jsxs("div",{className:a,children:[l.jsxs("div",{className:"gap-x-xs flex",children:[l.jsx(_e,{icon:o,color:"#8D9191",size:"sm"}),l.jsx(j,{variant:"tinyRegular",color:"light",children:l.jsx(I6e,{prompt:i})})]}),l.jsx("div",{children:s?l.jsx(c,{query:r[0],restrictTwoRows:!1},r[0]):l.jsx("div",{className:"",children:r.map(u=>l.jsx(c,{query:u},u))})})]})});O6e.displayName="MultiQueryHomepageWidget";const L6e=T.memo(({widget:e,onClick:t,onMouseEnter:n,index:r=0,buttonClassName:s})=>l.jsx("div",{onMouseEnter:n,children:l.jsx(wt,{children:l.jsx(ke.div,{initial:{opacity:0,scale:.7,y:14},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.7},transition:{delay:r*.025,duration:.3,type:"spring",stiffness:400,damping:30},children:l.jsx(ye,{variant:"common",size:"small",text:e.query,icon:M6e[e.prompt]??Lu,onClick:t,extraCSS:s},e.query)},e.uuid)})}));L6e.displayName="QueryPrimerHomepageWidget";const D6e=T.memo(({widget:e})=>{const t=f.useMemo(()=>({lineHeight:1.3}),[]);return l.jsxs("div",{className:"flex size-full flex-grow items-center gap-2",children:[l.jsx("div",{className:"bg-background-300 ml-3 flex size-[40px] flex-shrink-0 items-center justify-center rounded-md",children:e.icon_url?l.jsx(fs,{src:e.icon_url,alt:e.prompt,includeLightBoxModal:!1}):l.jsx(_e,{icon:Lu,color:"#8D9191",size:"sm"})}),l.jsxs("div",{className:"my-auto mr-1 flex flex-col overflow-hidden",children:[l.jsx(j,{variant:"tiny",children:e.prompt}),l.jsx(j,{className:U("line-clamp-2 text-ellipsis text-pretty"),variant:"tinyRegular",style:t,children:e.query})]})]})});D6e.displayName="QueryProjectHomepageWidget";const jY=["1f4d3","1f4d4","1f4d5","1f4d7","1f4d8","1f4d9","1f4d2"],F6e=T.memo(({widget:e})=>{const[t,n]=f.useState(e.emoji),r=f.useMemo(()=>({lineHeight:1.3}),[]);return f.useEffect(()=>{if(e.emoji)n(e.emoji);else{const s=Math.floor(Math.random()*jY.length);n(jY[s])}},[e.emoji]),l.jsx("div",{className:"px-sm py-xs relative h-full",children:l.jsx("div",{className:"p-xs flex h-full flex-col",children:l.jsxs("div",{className:"flex flex-grow items-center gap-2",children:[l.jsx("div",{className:"bg-background-300 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-md",children:l.jsx(b1,{unified:t,size:"small"})}),l.jsx(j,{className:"line-clamp-2 text-ellipsis text-pretty",variant:"tinyRegular",style:r,children:e.title})]})})})});F6e.displayName="SpaceHomepageWidget";const PRt=pt({perplexitySports:{defaultMessage:"{pplx} Sports",id:"K65/hgZBjY"},teamVsTeam:{defaultMessage:"{team1} vs {team2}",id:"lyaxuodMxh"},nfl:{defaultMessage:"NFL",id:"Lv6pQppd/V"},nba:{defaultMessage:"NBA",id:"D+pbqZQpNj"},wnba:{defaultMessage:"WNBA",id:"avDAamqQm4"},ncaam:{defaultMessage:"NCAAM",id:"gC9NSK3/R6"},ncaaw:{defaultMessage:"NCAAW",id:"eERAIF8MIh"},cricket:{defaultMessage:"Cricket",id:"hJ+aKKEPPW"},conference:{defaultMessage:"Conference",id:"E0mu0BuhfL"},division:{defaultMessage:"Division",id:"dETzL9JuSD"},league:{defaultMessage:"League",id:"P3y4FpCWKK"},nflByeNote:{defaultMessage:"Plays lowest remaining seed",id:"ivzjhdMH5D"},playoffBracket:{defaultMessage:"Playoff Bracket",id:"5T8u2ZRrKO"},watchOn:{defaultMessage:"Watch on {network}",id:"yCXRhFX8Qz"},overview:{defaultMessage:"Overview",id:"9uOFF3L8kp"},highlights:{defaultMessage:"Highlight Videos",id:"J4ZW4MNVky"},moreAboutNfl:{defaultMessage:"More about the NFL",id:"JGDrER55OW"},pregameHighlights:{defaultMessage:"Pregame Highlights",id:"pTASonM2gu"},gameHighlights:{defaultMessage:"Game Highlights",id:"nX0XrAiLIA"},final:{defaultMessage:"Final",id:"6/JzkWi0di"},videos:{defaultMessage:"Videos",id:"4XfMuxy3FO"},playerPhotos:{defaultMessage:"{player} Photos",id:"YRfYXYpNfE"},noInjuries:{defaultMessage:"No Team Injuries",id:"9D6SP/NB3G"},seasonLeaders:{defaultMessage:"Season Leaders",id:"lT3vL7pgxM"},gameLeaders:{defaultMessage:"Game Leaders",id:"BpPX7CGEMm"},bettingOdds:{defaultMessage:"Betting Odds",id:"taELAJbik0"},teamComparisons:{defaultMessage:"Team Comparison",id:"KdREfWZdzQ"},seasonComparisons:{defaultMessage:"Season Comparison",id:"1fVXZNAk6A"},seasonPerformance:{defaultMessage:"Season Performance",id:"+XGEnxB3qU"},injuries:{defaultMessage:"Injuries",id:"+9VW01o/qa"},nextGame:{defaultMessage:"Next Game",id:"GHv/zzzbyP"},gameWinnerOdds:{defaultMessage:"Game Winner Odds",id:"Ar4Hgi5LK/"},offense:{defaultMessage:"Offense",id:"gkhnHmdS3n"},pointsPerGame:{defaultMessage:"Points Per Game",id:"oiTKA0iiEO"},totalYardsPerGame:{defaultMessage:"Total Yards Per Game",id:"1hUUAbKwNU"},passingYardsPerGame:{defaultMessage:"Passing Yards Per Game",id:"NZ1ECBKywu"},rushingYardsPerGame:{defaultMessage:"Rushing Yards Per Game",id:"XaZf8sSKrF"},thirdDownConversionRate:{defaultMessage:"Third Down Conversion Rate",id:"ffvMztEyfa"},redZoneEfficiency:{defaultMessage:"Red Zone Efficiency",id:"KD1EYvEBXL"},freeThrowsMade:{defaultMessage:"Free Throws Made",id:"qngxYnoujX"},fieldGoalsMade:{defaultMessage:"Field Goals Made",id:"8hkrjZ6IYu"},turnovers:{defaultMessage:"Turnovers",id:"ix10Ldc+00"},blocks:{defaultMessage:"Blocked Shots",id:"H+onZtcuVa"},steals:{defaultMessage:"Steals",id:"6WYTxwolV8"},threePointFieldGoalsMade:{defaultMessage:"Three Point Field Goals Made",id:"sHR4TS9YOq"},defense:{defaultMessage:"Defense",id:"7Y+mK49r3z"},pointsAllowed:{defaultMessage:"Points Allowed",id:"oIj9CdpmXY"},turnoverDiff:{defaultMessage:"Turnover Diff",id:"XAiSFr028u"},pointsAllowedPerGame:{defaultMessage:"Points Allowed Per Game",id:"crP3Q4G1sg"},assistsPerGame:{defaultMessage:"Assists Per Game",id:"iVrCmaL1xp"},reboundsPerGame:{defaultMessage:"Rebounds Per Game",id:"luHpkidK/P"},fieldGoalPercentage:{defaultMessage:"Field Goal Percentage",id:"eFfteQzdQj"},blocksPerGame:{defaultMessage:"Blocks Per Game",id:"GZdk7v9wsc"},stealsPerGame:{defaultMessage:"Steals Per Game",id:"AsfNOOP1Pv"},threePointPercentage:{defaultMessage:"Three Point Percentage",id:"47T2zZRSFt"},freeThrowPercentage:{defaultMessage:"Free Throw Percentage",id:"/G3PY4IYf7"},yardsAllowedPerGame:{defaultMessage:"Yards Allowed Per Game",id:"B15PuOjR7R"},passingYardsAllowed:{defaultMessage:"Passing Yards Allowed",id:"0HGZ3V81cB"},rushingYardsAllowed:{defaultMessage:"Rushing Yards Allowed",id:"ftA+LXAEQL"},firstDowns:{defaultMessage:"First Downs",id:"aHqkLRqHjr"},penalties:{defaultMessage:"Penalties",id:"fa38C8rLbM"},penaltyYards:{defaultMessage:"Penalty Yards",id:"ZC7MShyuR1"},possessionMinutes:{defaultMessage:"Possession Minutes",id:"khpuL1ieoV"},fumblesLost:{defaultMessage:"Fumbles Lost",id:"IzuROyqz+7"},interceptionsThrown:{defaultMessage:"Interceptions Thrown",id:"tmQq6pHbYi"},other:{defaultMessage:"Other",id:"/VnDMl81rh"},totalYards:{defaultMessage:"Total Yards",id:"veZmYTt6MN"},points:{defaultMessage:"Points",id:"P0PLlQxVoe"},turnoversPerGame:{defaultMessage:"Turnovers Per Game",id:"uTgBwtAPGV"},foulsPerGame:{defaultMessage:"Fouls Per Game",id:"SMqdG+QmGB"},penaltiesPerGame:{defaultMessage:"Penalties Per Game",id:"9wKTlQSR/j"},penaltyYardsPerGame:{defaultMessage:"Penalty Yards Per Game",id:"Jm5WpbiViO"},gamePreview:{defaultMessage:"Game Preview",id:"GvobedfNcN"},gameSummary:{defaultMessage:"Game Summary",id:"+eeGQlcxzW"},gameLive:{defaultMessage:"LIVE",id:"UqyNCCygYW"},carries:{defaultMessage:"{value} carries",id:"rq9+96YlFa"},receptions:{defaultMessage:"{value} rec",id:"sTvPmiSZD7"},pointsStat:{defaultMessage:"{value} points",id:"UrDn6NGZfb"},reboundsStat:{defaultMessage:"{value} rebounds",id:"9vdJ9I7bdt"},assists:{defaultMessage:"Assists",id:"PqEAty/m8X"},rebounds:{defaultMessage:"Rebounds",id:"VXRs2esXLO"},assistsStat:{defaultMessage:"{value} assists",id:"bWLYwKNgJ3"},passingYards:{defaultMessage:"Passing Yards",id:"aQGqkCWSsl"},rushingYards:{defaultMessage:"Rushing Yards",id:"MpZ23vuQex"},receivingYards:{defaultMessage:"Receiving Yards",id:"GbfiEHr37J"},bettingOddsSpread:{defaultMessage:"Spread",id:"B7hDsYrvQe"},bettingOddsTotal:{defaultMessage:"Total",id:"MJ2jZQxQnT"},bettingOddsMoneyline:{defaultMessage:"Money Line",id:"kW0GAibgTH"},injuryReport:{defaultMessage:"Injury Report",id:"/YN/gLAPJU"},player:{defaultMessage:"Player",id:"1AGL1rdLFR"},position:{defaultMessage:"Position",id:"U6qGuOVs+L"},injury:{defaultMessage:"Injury",id:"PQiOxuIu/I"},status:{defaultMessage:"Status",id:"tzMNF3jWoU"},noRelatedGames:{defaultMessage:"No related games",id:"Ot5mpNSKsp"},teamComparison:{defaultMessage:"Team Comparison",id:"KdREfWZdzQ"},noUpdatesAvailable:{defaultMessage:"No updates available",id:"0Pg/1iJOgA"},halftime:{defaultMessage:"Halftime",id:"iC0AL294Dr"},viewMatchDetails:{defaultMessage:"View Game Details",id:"jBJqA9z9lD"},viewStandings:{defaultMessage:"View Standings",id:"oaPWiK0oYi"},followGameLive:{defaultMessage:"Follow Game Live",id:"CWFVI1BPrZ"},latestNews:{defaultMessage:"Latest News",id:"BlFeZAX10O"},imageSource:{defaultMessage:"Image source: {source}",id:"O/d/1HvfyG"},week:{defaultMessage:"Week {week}",id:"RE27WbGe9C"},total:{defaultMessage:"T",id:"sjlqAC/nrs"},team:{defaultMessage:"Team",id:"wsUmh9XWBm"},sources:{defaultMessage:"Data: Stats Perform · Player Photos: Associated Press",id:"g0CN3T/ISr"},nflSeason:{defaultMessage:"{year} NFL Season",id:"n6vqth75CA"},nbaSeason:{defaultMessage:"{year} NBA Season",id:"rrCa+R0f7X"},undrafted:{defaultMessage:"Undrafted",id:"ZpiNk0Z5Np"},pre:{defaultMessage:"Pre",id:"hMX10Ja0Xm"},preseason:{defaultMessage:"Preseason",id:"HENGOVahPR"},regularSeason:{defaultMessage:"Regular Season",id:"Ea9LD9vfyQ"},postSeason:{defaultMessage:"Postseason",id:"xvhy/ycHzu"},proBowl:{defaultMessage:"Pro Bowl",id:"pxho4sLngT"},wildCardPlayoff:{defaultMessage:"Wild Card Playoff",id:"EvhXzrm4Ix"},divisionalPlayoff:{defaultMessage:"Divisional Playoff",id:"p1LmAErYhB"},conferenceChampionship:{defaultMessage:"Conference Championship",id:"AVW9uMIxMK"},superBowl:{defaultMessage:"Super Bowl",id:"khEvs6DTrv"},relatedGames:{defaultMessage:"Related Games",id:"Vii6YKE9t9"},noEvents:{defaultMessage:"No events",id:"xPFOlw/kys"},showAllTeams:{defaultMessage:"Show all teams",id:"k112pFsCZU"},tba:{defaultMessage:"TBA",id:"ZfAWFLTzx/"},live:{defaultMessage:"Live",id:"Dn82ALx/+V"},standings:{defaultMessage:"Standings",id:"o2v7SB+ObO"},schedule:{defaultMessage:"Schedule",id:"hGQqkWwmJD"},wins:{defaultMessage:"Wins",id:"f++h1REg9b"},losses:{defaultMessage:"Losses",id:"eQJCl5DaWL"},ties:{defaultMessage:"Ties",id:"LYMVZdnuVv"},winPct:{defaultMessage:"Win Pct",id:"sHcBpWJlFR"},pointsFor:{defaultMessage:"PF",id:"zG5bX7TOdX"},pointsAgainst:{defaultMessage:"PA",id:"+09k0C5AlI"},streak:{defaultMessage:"Str",id:"/K3fzWE90S"},teamSchedule:{defaultMessage:"{year} {team} Schedule",id:"1Z4UTJhHPZ"},home:{defaultMessage:"Home",id:"ejEGdxSUGs"},away:{defaultMessage:"Away",id:"0JXAskjV4d"},previous:{defaultMessage:"Previous",id:"JJNc3cbYIJ"},upcoming:{defaultMessage:"Upcoming",id:"6/aEFZbs2i"},relatedTeams:{defaultMessage:"Related Teams",id:"ZzOufqyGoL"},seasonStats:{defaultMessage:"{year} Season Stats",id:"0p+BU5Jj9p"},coachName:{defaultMessage:"Coach",id:"uQg6UcdK4Y"},diff:{defaultMessage:"Diff",id:"Fm3StihZV6"},teams:{defaultMessage:"Teams",id:"DNeuzb5ky2"},seasonHighlights:{defaultMessage:"Season Highlights",id:"u0NXd7YWeO"},playByPlay:{defaultMessage:"Play by Play",id:"g2y6uMg3RU"},playSummary:{defaultMessage:"Play Summary",id:"HtqDGZkC7q"},activeDrive:{defaultMessage:"Active Drive",id:"9WRCeRXYnG"},drive:{defaultMessage:"Drive",id:"1YAWJ379IQ"},gameDown:{defaultMessage:"{down} Down",id:"D6NiYuphxA"},noLeader:{defaultMessage:"No Leader",id:"nEuoHaJ7ix"},endOfPeriod:{defaultMessage:"End of Quarter",id:"tY+g5ifXSh"},playSubtitle:{defaultMessage:"{count, plural, one {# Play} other {# Plays}}, {yards, plural, one {# Yard} other {# Yards}}, {duration}",id:"segO/liubc"},downloadIosNotificationCta:{defaultMessage:"Download the app to get live game updates",id:"TbQ0fq8jWR"},downloadIosNotificationCtaSub:{defaultMessage:"Scan the QR code to download the app",id:"1j+FmhPZ8J"},iosNotificationsCta:{defaultMessage:"Turn on live game updates",id:"B3DARItQiv"},iosNotificationsCtaOff:{defaultMessage:"Turn off live game updates",id:"MJ3BTMxxFR"},iosNotificationsCtaSub:{defaultMessage:"Real-time game updates",id:"qeSXEmN+v2"},iosNotificationsCtaSubOff:{defaultMessage:"You are subscribed to live game alerts.",id:"ESQg4GtLBi"},moreGames:{defaultMessage:"More Games",id:"ssuX7Q5/hn"},goals:{defaultMessage:"Goals",id:"XHLYdJ4a0Y"},shots:{defaultMessage:"Shots",id:"MtAfOi/9Z4"},shotsOnTarget:{defaultMessage:"Shots on Target",id:"XypPx7GnSa"},fouls:{defaultMessage:"Fouls",id:"ULgxB5+kkl"},yellowCards:{defaultMessage:"Yellow Cards",id:"OgfXSatXn2"},redCards:{defaultMessage:"Red Cards",id:"iM3q/GTmBa"},corners:{defaultMessage:"Corners",id:"SG1mA2ViLF"},saves:{defaultMessage:"Saves",id:"OXuG5Tbo0I"},passes:{defaultMessage:"Passes",id:"zt/qs3N6e3"},pointsWon:{defaultMessage:"Points Won",id:"XinSz02Vcr"},totalWinners:{defaultMessage:"Winners",id:"upRjwyuG/1"},forehandWinners:{defaultMessage:"Forehand Winners",id:"dhq2amJ4Pc"},backhandWinners:{defaultMessage:"Backhand Winners",id:"7LkIR0bV+s"},aces:{defaultMessage:"Aces",id:"sZJa/S3ekv"},doubleFaults:{defaultMessage:"Double Faults",id:"+3VTXdG9VS"},firstServePercentage:{defaultMessage:"First Serve %",id:"L5NV6vruFx"},firstServePointsWonPercentage:{defaultMessage:"First Serve Points Won %",id:"QOFjHS/pnz"},secondServePointsWonPercentage:{defaultMessage:"Second Serve Points Won %",id:"GfQX2xkNys"},breakpointsWon:{defaultMessage:"Break Points Won",id:"vuAxPAew9k"},totalUnforcedErrors:{defaultMessage:"Unforced Errors",id:"4F6jzAUiDp"}});function PY(e){return!isNaN(new Date(e).getTime())}function IY(e){const t=e+"+00:00";return PY(t)?t:PY(e)?e:null}function F$t(e){if(typeof e.startDate=="string")return{full:IY(e.startDate)??"",dateType:"UTC",year:0,month:0,date:0,hour:0,minute:0};const t=e.startDate?.find(r=>r.dateType==="UTC");if(!t)return;const n=IY(t.full);if(n)return{...t,full:n}}function U$t(e){return!isNaN(e.hour)&&!isNaN(e.minute)}function B$t(e){const t=e?.tvStations?.[0]?.name;switch(t){case"Amazon Prime Video":return"Prime Video";default:return t}}function $$t(e){return e?.venue?.name||""}function H$t(e){return[e?.venue?.city,e?.venue?.state?.abbreviation].filter(Boolean).join(", ")}function W$t(e,t){const n=e?.[0]?.forecasts?.[0],r=n?.condition;return{temperature:n?.temperature?.find(a=>a.temperatureScaleId===(t?2:1)),weatherCondition:r}}function U6e(e){return typeof e.eventStatus=="string"?e.eventStatus==="live":e?.eventStatus?.eventStatusId===2}function IRt(e){return typeof e.eventStatus=="string"?e.eventStatus==="final":e.eventStatus?.eventStatusId===4}function z$t(e){return U6e(e)||IRt(e)}function V$t(e,t){return H3(e.teams)[1].teamId===t.teamId}function ORt(e,t=4){return t===2?e.period===1&&e.minutes===0&&e.seconds===0&&e.isActive===!1:e.period===2&&e.minutes===0&&e.seconds===0&&e.isActive===!1}var IE={},OY;function LRt(){return OY||(OY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fass",n="triangle",r=512,s=512,a=[9650],i="f2ec",o="M0 480L256 32 512 480H0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faTriangle=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(IE)),IE}var B6e=LRt(),OE={},LY;function DRt(){return LY||(LY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-up",r=512,s=512,a=[],i="f077",o="M239 111c9.4-9.4 24.6-9.4 33.9 0L465 303c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-175-175L81 337c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 111z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faChevronUp=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(OE)),OE}var FRt=DRt();const G$t=({event:e})=>{const[t,n]=f.useState("scoring"),{$t:r}=K(),s=H3(e.event.teams),a=e.event.pbp,i=U6e(e.event),o=f.useMemo(()=>a.reduce((c,u)=>(c[u.period]||(c[u.period]=[]),c[u.period].push(u),c),{}),[a]);return l.jsx(H,{variant:"offset",className:"rounded-md",children:l.jsx($3,{title:t==="all"?"Play-by-Play":"Scoring Plays",titleClassName:"!py-0",trailing:l.jsx(Dc,{size:"small",actionList:[{text:r({defaultMessage:"Scoring Plays",id:"DpgdMYgrGb"}),show:!0,onClick:()=>n("scoring"),active:t==="scoring"},{text:r({defaultMessage:"All Plays",id:"lVQ27GyPmi"}),show:!0,onClick:()=>n("all"),active:t==="all"}],layoutGroupId:"nfl-play-summary-tab-bar",layout:"right"}),children:l.jsx("div",{className:"-my-md",children:l.jsx(URt,{plays:o,teams:s,brands:e.brands,drives:e.event.driveChart,mode:t,isLive:i})})})})},URt=({plays:e,teams:t,brands:n,drives:r,mode:s,isLive:a})=>{const i=a?[...Object.keys(e)].reverse():Object.keys(e);return l.jsx("div",{children:i.map(o=>l.jsx("div",{children:l.jsx(BRt,{plays:e[parseInt(o)],teams:t,brands:n,drives:r,mode:s,isLive:a,period:parseInt(o)})},o+s))})},BRt=({plays:e,teams:t,brands:n,drives:r,mode:s,isLive:a,period:i})=>{const[o,c]=f.useState(!1),u=f.useMemo(()=>Object.values(e).flat().reduce((m,p)=>(m[p.driveId]||(m[p.driveId]=[]),m[p.driveId].push(p),m),{}),[e]),d=()=>{c(!0)};return!Object.keys(u).some(m=>r.find(p=>p.driveId===parseInt(m))?.driveStats.isScoringDrive==="true")&&s==="scoring"?null:l.jsxs(l.Fragment,{children:[l.jsx(j,{variant:"smallCaps",color:"light",className:"-mx-md bg-background-300 p-xs px-md",children:MO(i,{asOrdinal:!0})}),l.jsx("div",{className:U("group/plays flex flex-col",{"flex-col-reverse":a}),children:Object.keys(u).map(m=>{const p=r.find(g=>g.driveId===parseInt(m));return s==="scoring"&&p?.driveStats.isScoringDrive==="false"?null:l.jsx(zRt,{brands:n,teams:t,plays:u[parseInt(m)],drives:r,isLive:a,period:i,onExpand:d,hasExpanded:o},m)})})]})},$Rt=e=>{if(!e)return;const t=+e.driveStats.timeOfPossession.seconds;return t<10?`${e.driveStats.timeOfPossession.minutes}:0${t}`:`${e.driveStats.timeOfPossession.minutes}:${t}`},HRt=e=>e?e.driveEnd.playType.playTypeId===20:!1,WRt=e=>e?e.driveEnd.gameClock.minutes!==null:!1,zRt=({brands:e,teams:t,plays:n,drives:r,isLive:s,period:a,onExpand:i,hasExpanded:o})=>{const{$t:c}=K(),u=r.find(x=>x.driveId===n[0].driveId),d=WRt(u),[h,m]=f.useState(!1),p=xh(u?.teamId??n[0].endPossession.teamId,e,"nfl"),g=f.useMemo(()=>{const x=$Rt(u);return c({defaultMessage:"{count, plural, one {# Play} other {# Plays}}, {yards, plural, one {# Yard} other {# Yards}}, {duration}",id:"segO/liubc"},{count:u?.driveStats.plays,yards:u?.driveStats.yards,duration:x})},[c,u]),v=f.useMemo(()=>u?.driveEnd.period&&u.driveEnd.period!==a?c({defaultMessage:"End of Quarter",id:"tY+g5ifXSh"}):u?.driveEnd.driveChartPlayName??c({defaultMessage:"Active Drive",id:"9WRCeRXYnG"}),[c,u,a]),y=HRt(u)?xh(t.find(x=>x.teamId!==p.teamId)?.teamId??p.teamId,e,"nfl"):p;return f.useEffect(()=>{s&&!d&&!o&&!h&&m(!0)},[]),f.useEffect(()=>{d&&!o&&m(!1)},[d,o]),l.jsxs(H,{className:U("py-sm relative border-b",{"!border-transparent":h},{"first:border-b-0":s},{"last:border-b-0":!s}),children:[l.jsx("div",{className:U("-inset-x-md bg-background-300/50 absolute inset-y-0 duration-200",{"opacity-0":!h})}),u&&u.driveEnd.period>a&&l.jsx("div",{className:U("bg-text/25 absolute left-[calc(12px-1px)] w-[2px]",{"top-lg bottom-0":!s,"h-lg top-0":s})}),u&&u.driveStart.period<a&&l.jsx("div",{className:U("bg-text/25 absolute left-[calc(12px-1px)] w-[2px]",{"h-lg top-0":!s,"top-lg bottom-0":s})}),l.jsxs("div",{className:"gap-md relative flex cursor-pointer items-center",onClick:()=>{m(!h),i()},children:[l.jsx(xo,{size:"small",logo:y.logo,color:y.color,className:"!border-background-200 relative"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(j,{variant:"smallBold",children:l.jsx("span",{className:"uppercase",children:v})}),l.jsx(j,{variant:"tiny",color:"light",children:g})]}),l.jsxs("div",{className:"gap-lg grid grid-cols-2",children:[l.jsx(DY,{team:t[0],score:n[n.length-1].awayScoreAfter,didScore:n[n.length-1].awayScoreAfter>n[0].awayScoreBefore}),l.jsx(DY,{team:t[1],score:n[n.length-1].homeScoreAfter,didScore:n[n.length-1].homeScoreAfter>n[0].homeScoreBefore})]}),l.jsx(j,{variant:"small",className:"flex items-center",children:l.jsx(gt,{icon:h?FRt.faChevronUp:o3.faChevronDown,size:"sm",className:"text-subtle"})})]}),l.jsx(md,{className:"relative",mode:"popLayout",transition:{duration:.2,ease:qn},children:h&&l.jsx(mc,{className:"w-full",initial:{opacity:0,y:-5},animate:{opacity:1,y:0,transition:{duration:.2,ease:qn,delay:.05}},exit:{opacity:0,y:-5,transition:{duration:.2,ease:qn}},children:l.jsx(ke.div,{layout:!0,layoutRoot:!0,children:(s?[...n].reverse():n).map(x=>l.jsx(GRt,{play:x},x.playId))})})})]})},DY=({team:e,score:t,didScore:n})=>l.jsxs("div",{children:[l.jsx(j,{variant:"small",color:"light",className:"text-right uppercase",children:e.abbreviation}),l.jsxs(j,{variant:"small",className:"text-right align-baseline",color:n?"super":void 0,children:[n&&l.jsx(gt,{icon:B6e.faTriangle,size:"2xs",className:"mr-xs translate-y-px"}),l.jsx("span",{className:"font-mono",children:t})]})]}),VRt=e=>{const t=e.match(/([A-Za-z]+)(\d+)/);if(!t)return e;const[n,r,s]=t;return`${r} ${s}`},MO=(e,t)=>[1,2,3,4].includes(e)?t?.asOrdinal?_3e(e):`Q${e}`:"OT",GRt=({play:e})=>l.jsxs(ke.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},className:"gap-md group flex w-full",children:[l.jsx("div",{className:"w-[24px] shrink-0"}),l.jsx(H,{className:"gap-md py-sm group-last:-mb-sm flex flex-1 border-b group-last:border-b-0",children:l.jsxs("div",{children:[l.jsxs(j,{variant:"small",children:[e.down&&e.distance&&`${_3e(e.down)} & ${e.distance} at `,l.jsx("span",{className:"uppercase",children:VRt(e.yardLine)})]}),l.jsxs(j,{variant:"small",color:"light",children:["(",e.time," - ",MO(e.period),") ",e.playText]})]})})]});function q$t({event:e,brands:t,isLive:n}){const{$t:r}=K(),[s,a]=f.useState(!1),[i,o]=f.useState("all"),c=f.useMemo(()=>e.pbp.filter(d=>i==="all"?FY(d):FY(d)&&KRt(d)).reduce((d,h)=>(d[h.period]=d[h.period]||[],d[h.period].push(h),d),{}),[e?.pbp,i]),u=f.useMemo(()=>[{text:r({defaultMessage:"All Plays",id:"lVQ27GyPmi"}),onClick:()=>o("all"),show:!0,active:i==="all"},{text:r({defaultMessage:"Scoring Plays",id:"DpgdMYgrGb"}),onClick:()=>o("scoring"),show:!0,active:i==="scoring"}],[i,r]);return l.jsxs(l.Fragment,{children:[l.jsx(H,{variant:"offset",className:"rounded-md",children:l.jsx($3,{title:r(n?{defaultMessage:"Play by Play",id:"g2y6uMg3RU"}:{defaultMessage:"Play Summary",id:"HtqDGZkC7q"}),trailing:l.jsx("div",{className:"-mb-sm",children:l.jsx(Dc,{actionList:u,layoutGroupId:"nba-play-summary-tab-bar",layout:"right",size:"tiny"})}),children:l.jsx("div",{className:"-my-md",children:l.jsx($6e,{plays:c,event:e,onViewAll:()=>a(!0),playsToRender:6,reverse:n,brands:t,inModal:!1})})})}),s&&l.jsx(QRt,{plays:c,isOpen:s,onClose:()=>a(!1),event:e,brands:t,reverse:n})]})}const $6e=f.memo(({plays:e,event:t,onViewAll:n,playsToRender:r=1/0,reverse:s=!1,brands:a,inModal:i=!1})=>{const{$t:o}=K(),c=H3(t.teams);let u=r;const d=s?[...Object.keys(e)].reverse():Object.keys(e);return l.jsx(md,{className:"relative",mode:"popLayout",transition:{duration:.2,ease:qn},children:l.jsx(mc,{children:l.jsxs(H,{children:[d.map(h=>{let m=0;const p=e[h].length;return u<=0?null:(u<p?(m=u,u=0):(m=p,u-=p),l.jsx(qRt,{plays:e[h],playsToRender:m,teamsSorted:c,period:h,reverse:s,brands:a},h))}),!i&&n&&l.jsx("div",{className:"-mx-sm py-sm flex items-center justify-center",children:l.jsx(ze,{variant:"super",chevron:!0,chevronIcon:Wr,text:o({defaultMessage:"View All",id:"wbcwKddwLa"}),fullWidth:!0,size:"small",onClick:n})})]})})})});function qRt({plays:e,playsToRender:t,teamsSorted:n,period:r,reverse:s,brands:a}){const i=f.useMemo(()=>s?[...e].reverse():e,[e,s]),o=vl();return l.jsxs(H,{children:[t>0&&l.jsx("div",{children:l.jsxs(H,{variant:"offsetPlus",className:U("-mx-md px-md py-sm flex items-center justify-between"),children:[l.jsx(j,{variant:"smallCaps",color:"light",children:MO(parseInt(r))}),l.jsxs("div",{className:"gap-md flex items-center",children:[l.jsx(BY,{team:n[0].abbreviation}),l.jsx(BY,{team:n[1].abbreviation})]})]})}),l.jsx(dd,{children:l.jsx(ke.div,{layout:!0,layoutRoot:!0,children:i.slice(0,t).map((c,u)=>{const d=i[u-(s?-1:1)]?.visitorScore,h=i[u-(s?-1:1)]?.homeScore;return l.jsx(YRt,{play:c,previousHomeScore:h,previousVisitorScore:d,brands:a,parentHasMounted:o},c.playId)})})})]})}function H6e(e){const t=e?.minutes||0,n=Math.ceil(e.seconds??0)?.toString().padStart(2,"0")||"00";return`${`${t}:`}${n}`}const FY=e=>e.playText!=="Starting Lineup",KRt=e=>e.playEvent.playEventId===3||e.playEvent.playEventId===1,YRt=f.memo(({play:e,previousHomeScore:t,previousVisitorScore:n,brands:r,parentHasMounted:s})=>{const a=f.useRef(!s),i=t!==void 0&&t!==e.homeScore,o=n!==void 0&&n!==e.visitorScore,c=i||o,u=xh(e.teamId,r,"nba"),{colorScheme:d}=zr(),h=C3e(u.color,d);return l.jsxs(ke.div,{className:"-mx-md border-borderMain/50 px-md py-md relative border-b",initial:a.current?void 0:{opacity:0},animate:a.current?void 0:{opacity:1},transition:{layout:{duration:.2,ease:qn},opacity:{duration:.2,ease:Vs}},layout:"position",children:[c&&l.jsx("div",{className:"w-xs absolute inset-y-1 left-1 rounded-full opacity-50",style:{backgroundColor:h}}),!a.current&&l.jsx(ke.div,{className:"bg-super/15 absolute inset-0",initial:{opacity:1},animate:{opacity:0},transition:{duration:1,ease:Vs,delay:.2}}),l.jsxs("div",{className:"gap-md relative flex items-center",children:[l.jsx(xo,{logo:u.logo,color:u.color,size:"small",includeStripe:!1}),l.jsxs("div",{className:"gap-xs flex flex-1 flex-col items-start",children:[l.jsx(j,{variant:"smallCaps",color:"light",children:H6e(e.time)}),l.jsx(j,{variant:"small",children:e.playText})]}),l.jsxs("div",{className:"gap-md flex items-center",children:[l.jsx(UY,{score:e.visitorScore,didScore:o}),l.jsx(UY,{score:e.homeScore,didScore:i})]})]})]})}),UY=({score:e,didScore:t})=>l.jsxs(j,{variant:"small",className:"relative w-[40px] text-right align-baseline",color:t?"super":void 0,children:[t&&l.jsx(gt,{icon:B6e.faTriangle,size:"2xs",className:"mr-xs translate-y-px"}),l.jsx("span",{className:"font-mono",children:e})]}),BY=({team:e})=>l.jsx(j,{variant:"smallCaps",className:"w-[40px] shrink-0 text-right",children:e}),QRt=({plays:e,isOpen:t,onClose:n,event:r,brands:s,reverse:a})=>{const{isMobileStyle:i}=Oe();return l.jsx(jt,{isOpen:t,onClose:n,variant:i?"bottom-sheet":"side-sheet",children:l.jsx("div",{className:"min-h-full",children:l.jsx($6e,{plays:e,event:r,brands:s,inModal:!0,reverse:a})})})},W6e=T.memo(({widget:e})=>{const{data:t}=e;return t.event_status.eventStatusId===2||t.event_status.eventStatusId===4?l.jsx(V6e,{widget:e}):l.jsx(z6e,{widget:e})});W6e.displayName="SportsHomepageWidget";const z6e=T.memo(({widget:e})=>{const{$t:t}=K(),{data:n}=e,{away_team:r,home_team:s}=n,{locale:a}=K(),i=f.useMemo(()=>{const o=new Date(n.start_date);return nie(o)?`${o.toLocaleString(a,{hour:"numeric",minute:"2-digit"})}, ${t({defaultMessage:"Today",id:"zWgbGgjUUg"})}`:o.toLocaleString(a,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},[n,a,t]);return l.jsxs("div",{className:U("py-sm flex h-full flex-col items-center justify-center px-[12px]"),children:[l.jsxs("div",{className:"grid w-full grid-cols-[1fr_auto_1fr] items-center",children:[l.jsx("div",{className:"flex items-center justify-start",children:l.jsx(xo,{logo:r.logo,color:r.color,size:"small"})}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(j,{variant:"tinyRegular",className:"truncate",children:i})}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsx(xo,{logo:s.logo,color:s.color,size:"small"})})]}),l.jsxs("div",{className:"mt-xs flex w-full items-center justify-between",children:[l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j,{variant:"tinyRegular",className:"truncate text-start leading-tight",color:"light",children:r.nickname})}),l.jsx("div",{className:"px-2",children:l.jsx(j,{variant:"tinyRegular",className:"truncate leading-tight",color:"light",children:"vs"})}),l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j,{variant:"tinyRegular",className:"truncate text-end leading-tight",color:"light",children:s.nickname})})]})]})});z6e.displayName="PreviewContent";const V6e=T.memo(({widget:e})=>{const{$t:t}=K(),{data:n}=e,{away_team:r,home_team:s,event_status:a,league:i}=n,{minutes:o,seconds:c}=a,u=a.eventStatusId===2,d=a.eventStatusId===4,h=PRt[i.toLowerCase()],m=h?t(h):"",p=d?t({defaultMessage:"Final",id:"6/JzkWi0di"}):o!=null&&c!=null?H6e({minutes:o,seconds:c}):null,g=d||!a.period?null:`Q${a.period}`,y=ORt(a)?t({defaultMessage:"Halftime",id:"iC0AL294Dr"}):d?t({defaultMessage:"Final",id:"6/JzkWi0di"}):g&&p?`${g} ${p}`:"";return l.jsxs("div",{className:U("p-sm py-sm pr-sm flex h-full flex-col items-center justify-center"),children:[l.jsxs("div",{className:"grid w-full grid-cols-[1fr_auto_1fr] items-center",children:[l.jsxs("div",{className:"flex items-center justify-start",children:[l.jsx(xo,{logo:r.logo,color:r.color,size:"small"}),r.score!==void 0&&l.jsxs("div",{className:"ml-sm flex flex-col items-center justify-center",children:[l.jsx(j,{variant:r.sub_score?"tinyRegular":"base",className:"truncate leading-tight",color:"default",children:r.score}),r.sub_score&&l.jsx(j,{variant:"tinyRegular",color:"light",className:"truncate",children:r.sub_score})]})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(j,{variant:"tinyRegular",className:"truncate",children:y})}),l.jsxs("div",{className:"flex items-center justify-end",children:[s.score!==void 0&&l.jsxs("div",{className:"mr-sm flex flex-col items-center",children:[l.jsx(j,{variant:s.sub_score?"tinyRegular":"base",className:"truncate leading-tight",color:"default",children:s.score}),s.sub_score&&l.jsx(j,{variant:"tinyRegular",color:"light",className:"truncate",children:s.sub_score})]}),l.jsx(xo,{logo:s.logo,color:s.color,size:"small"})]})]}),l.jsxs("div",{className:"mt-xs flex w-full items-center justify-between",children:[l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j,{variant:"tinyRegular",className:"truncate text-start leading-tight",color:"light",children:r.nickname})}),l.jsx("div",{className:"px-2",children:u?l.jsx(G6e,{}):d&&l.jsx(j,{variant:"tinyRegular",className:"truncate leading-tight",color:"light",children:m})}),l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j,{variant:"tinyRegular",className:"truncate text-end leading-tight",color:"light",children:s.nickname})})]})]})});V6e.displayName="SummaryContent";const G6e=T.memo(()=>l.jsx(j,{variant:"tinyRegular",color:"super",className:"bg-super/10 truncate rounded-full px-2 py-0.5 leading-tight",children:"Live"}));G6e.displayName="LiveIndicator";const XRt={SPORTS:eDe,FINANCE:fDe},ZRt="#8D9191",JRt=({watchlistType:e})=>{const t=XRt[e];return l.jsx(_e,{icon:t,color:ZRt})},eAt=T.memo(({widget:e})=>{const{$t:t}=K(),n=e.watchlist_type.toLowerCase(),r=t(rg[n].title),s=t(rg[n].widgetDescription);return l.jsxs("div",{className:"flex h-full flex-col items-start justify-between p-[12px]",children:[l.jsxs("div",{className:"gap-x-xs flex items-center",children:[l.jsx(JRt,{watchlistType:e.watchlist_type}),l.jsx(j,{variant:"tinyRegular",color:"light",children:r})]}),l.jsx("div",{children:l.jsx(j,{variant:"tinyRegular",children:s})})]})}),q6e=T.memo(({location:e,forecast:t,prefersMetric:n})=>{const r="leading-none line-clamp-1",{$t:s}=K(),a=n?t?.[0]?.maxtemp_c:t?.[0]?.maxtemp_f,i=n?t?.[0]?.mintemp_c:t?.[0]?.mintemp_f,o=s({defaultMessage:"H: {high}° L: {low}°",id:"JyTe6EoY40"},{high:a,low:i});return f.useMemo(()=>l.jsxs("div",{className:"mt-sm gap-sm flex flex-row items-baseline justify-between",children:[l.jsx(j,{variant:"tinyRegular",className:r,color:"light",children:e?.name}),l.jsx(j,{variant:"tinyRegular",className:U(r,"min-w-max"),color:"ultraLight",children:o})]}),[o,e?.name,r])});q6e.displayName="WeatherBottomSection";const tAt=({icon:e})=>{const t=L_(D_,e)?j0[e]:ev.faSun;return l.jsx(gt,{icon:t,size:"xs",className:"self-start"})},K6e=T.memo(({forecast:e,prefersMetric:t})=>{const{locale:n}=K(),r="row-span-3",s="leading-none line-clamp-1";return l.jsx("div",{className:U(r,"mt-sm flex flex-grow justify-between"),children:e?.slice(0,5).map((a,i)=>{const o=t?a.maxtemp_c:a.maxtemp_f;return l.jsxs(ke.div,{className:"gap-xs flex flex-col items-start",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.025*i,ease:Vo},children:[l.jsx(j,{className:"leading-none",children:l.jsx(tAt,{icon:a.icon})}),l.jsxs(j,{variant:"tinyRegular",className:U(s,"mt-xs"),children:[o,"°"]}),l.jsx(j,{variant:"tinyRegular",className:s,color:"light",children:h3(a.dow??"",n)})]},a.dow)})})});K6e.displayName="WeatherForecast";const nAt=({icon:e})=>{const t=L_(D_,e)?j0[e]:ev.faSun;return l.jsx(gt,{icon:t,size:"xs",className:"self-start"})},Y6e=T.memo(({current:e,prefersMetric:t,setPrefersMetric:n})=>{const r="leading-none line-clamp-1",s=t?e?.temp_c:e?.temp_f,a=e?.condition?.text??"Sunny";return l.jsxs("div",{className:"gap-sm flex flex-row items-center justify-between",children:[l.jsx(j,{variant:"base",className:U(r,"min-w-max"),children:l.jsxs("div",{className:"gap-xs flex flex-row items-center justify-center",children:[l.jsx("div",{children:l.jsx(nAt,{icon:e?.condition?.icon})}),l.jsx(j,{variant:"base",className:"tabular-nums",children:l.jsx(pg,{value:s??0,suffix:"°"})}),l.jsxs("div",{className:"gap-xxs flex",children:[l.jsx("button",{onClick:()=>n(!1),className:"cursor-pointer appearance-none",children:l.jsx(j,{variant:"tiny",color:t?"light":"default",className:U("transition-opacity",t?"opacity-50 hover:opacity-70":"opacity-100"),children:"F"})}),l.jsx(j,{variant:"tiny",color:"light",className:"opacity-50",children:"/"}),l.jsx("button",{onClick:()=>n(!0),className:"cursor-pointer appearance-none",children:l.jsx(j,{variant:"tiny",color:t?"default":"light",className:U("transition-opacity",t?"opacity-100":"opacity-50 hover:opacity-70"),children:"C"})})]})]})}),l.jsx(j,{variant:"tinyRegular",color:"light",className:r,children:a})]})});Y6e.displayName="WeatherTopSection";const Q6e=T.memo(({data:e,isLoading:t,error:n,size:r="LARGE"})=>{const{prefersMetric:s,setPrefersMetric:a}=A4e();return t?l.jsx(Z6e,{size:r}):n||!e?l.jsx(J6e,{}):l.jsx(X6e,{data:e,size:r,prefersMetric:s,setPrefersMetric:a})});Q6e.displayName="WeatherDisplay";const X6e=T.memo(({data:e,prefersMetric:t,setPrefersMetric:n,size:r="LARGE"})=>{const{current:s,location:a,forecast:i}=e;return l.jsxs(ke.div,{initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)",transition:{opacity:{ease:Vo,duration:.4},filter:{ease:Vo,duration:.4}}},exit:{opacity:0,filter:"blur(2px)",transition:{opacity:{ease:Vo,duration:.3},filter:{ease:Vo,duration:.3}}},className:U("gap-sm grid h-full w-full",r==="LARGE"?"grid-rows-4":"grid-rows-2"),children:[l.jsx(Y6e,{current:s,prefersMetric:t,setPrefersMetric:n}),l.jsx(q6e,{location:a,forecast:i,prefersMetric:t}),r==="LARGE"&&l.jsx(K6e,{forecast:i,prefersMetric:t})]},"success")}),rAt={action:{type:"CREATE_THREAD",query:"weather",prefer_pro:!1},uuid:"123",type:"WEATHER",current:{temp_c:20,temp_f:68,condition:{text:"Sunny",icon:"sun",code:"sun"}},location:{name:"San Francisco",region:"California",country:"USA"},forecast:[],is_metric_preferred:!1},Z6e=T.memo(({size:e="LARGE"})=>{const t=f.useCallback(()=>{},[]);return l.jsxs(hs,{className:U("relative"),children:[l.jsx("div",{className:"invisible",children:l.jsx(X6e,{data:rAt,size:e,prefersMetric:!0,setPrefersMetric:t})}),l.jsxs("div",{className:U("gap-sm absolute inset-0 grid h-full w-full",e==="LARGE"?"grid-rows-4":"grid-rows-2"),children:[l.jsxs("div",{className:"gap-sm flex flex-row items-center justify-between",children:[l.jsxs("div",{className:"gap-sm flex flex-row items-center",children:[l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-4 w-4 rounded-full"}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-5 w-12 rounded"})]}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-4 w-20 rounded"})]}),l.jsxs("div",{className:"gap-sm flex flex-row items-baseline justify-between",children:[l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-3 w-16 rounded"}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-3 w-14 rounded"})]}),e==="LARGE"&&l.jsx("div",{className:U("row-span-3 flex flex-grow justify-between"),children:[1,2,3,4,5].map(n=>l.jsxs("div",{className:"gap-xs flex flex-col items-start",children:[l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-4 w-4 rounded-full"}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus mt-xs h-3 w-6 rounded"}),l.jsx(H,{variant:"offset",className:"shimmer dark:bg-offsetPlus h-3 w-8 rounded"})]},n))})]})]})});Z6e.displayName="WeatherSkeleton";const J6e=T.memo(()=>l.jsx("div",{className:"gap-sm py-md flex h-full w-full flex-col items-center justify-center",children:l.jsxs("div",{className:"gap-xs flex flex-col items-center text-center",children:[l.jsx(_e,{icon:VLe,size:"lg",className:"text-text-light opacity-50"}),l.jsx(j,{variant:"tinyRegular",color:"light",className:"mt-sm leading-tight",children:l.jsx(ce,{defaultMessage:"Unable to load weather",id:"uwWuSjxDbt"})}),l.jsx(j,{variant:"tinyRegular",color:"ultraLight",className:"leading-tight",children:l.jsx(ce,{defaultMessage:"Please try again later",id:"aoWE202GwV"})})]})}));J6e.displayName="WeatherError";const eEe=T.memo(({widget:e,setShowCTA:t,size:n})=>{const{location:r,permissionStatus:s}=gm(),a=r?.latitude??null,i=r?.longitude??null,{locale:o}=K(),{data:c,isLoading:u,error:d}=at({queryKey:[ej,a,i].map(String),queryFn:()=>Oie({locale:o,location:r,reason:"weather-homepage-widget"})??e,initialData:e,refetchInterval:1e3*60*5,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0});return f.useEffect(()=>{s!==void 0&&s!=="granted"&&t(!0)},[s,t]),l.jsx("div",{className:"px-sm pt-xs",children:l.jsx(Q6e,{data:c,isLoading:u,error:d,size:n})})});eEe.displayName="WeatherHomepageWidget";const sAt=T.memo(({onClick:e,onMouseEnter:t,href:n,className:r,children:s,disableHoverAnimation:a=!1})=>{const i=n?T6e:ke.div,o=f.useMemo(()=>({opacity:.5}),[]),c=f.useMemo(()=>({opacity:1}),[]),u=f.useMemo(()=>({scale:.98,transition:{ease:qn,duration:.15}}),[]),d=f.useMemo(()=>({scale:{ease:qn,duration:.3},opacity:{ease:Vo,duration:.3}}),[]);return l.jsx(i,{initial:o,animate:c,whileHover:a?void 0:{opacity:.75,transition:{duration:.15,ease:Vs}},whileTap:u,transition:d,className:U(r,a?"":"cursor-pointer"),href:n,onClick:e,onMouseEnter:t,children:l.jsx(H,{variant:"offset",className:"relative h-full w-full select-none overflow-hidden rounded-lg",children:s})})}),aAt=T.memo(({widget:e,size:t,position:n,frontendSessionUUID:r,widgetLocation:s="home"})=>{const a="homepage-widget-base",[i,o]=f.useState(!1),[c,u]=f.useState(!1),d=ut(),{showSuggestDropdown:h}=Ms(),{trackView:m,trackHover:p,trackClick:g,trackDismiss:v,trackMultiQueryClick:y,trackMultiQueryHover:x,trackMultiQueryView:b}=yRt(e,n,r,s),{createThreadAction:w,openPageAction:_,openExternalUrlAction:C,openInternalUrlAction:S,openPaywallAction:k,enableProAction:E,openWatchlistModalAction:M,multiQueryCreateThreadAction:N,populateInputAction:R,createSpaceAction:A,openModalAction:P}=_Rt(),{mutate:O}=lnt({widget:e,reason:a}),I=gl(),L=Dt(),F=f.useMemo(()=>({email:L?.user?.email??"",deviceId:I?.device_id??"",browserVersion:I?.browser_version??"",osName:void 0??""}),[L?.user?.email,I?.device_id,I?.browser_version]),B=(q=>is(q).with({type:"CREATE_THREAD"},z=>`/search/new?q=${z.query}&source=homepage_widget`).with({type:"OPEN_PAGE"},z=>`/page/${z.page_slug}`).with({type:"EXTERNAL_URL"},z=>z.should_interpolate_template?PJ(z.permalink,F):z.permalink).with({type:"INTERNAL_URL"},z=>z.permalink).otherwise(()=>{}))(e.action),$=f.useRef(!1);f.useEffect(()=>{if(!$.current){if(e.type!=="MULTIQUERY")m();else for(const q of e.queries)b(q);$.current=!0}},[m,e,b]);const W=r9(e),X=f.useCallback(q=>{B&&q.preventDefault(),is(e.action).with({type:"CREATE_THREAD"},z=>{w(z)}).with({type:"OPEN_PAGE"},z=>_(z)).with({type:"EXTERNAL_URL"},z=>C(z,F)).with({type:"PAYWALL"},k).with({type:"INTERNAL_URL"},z=>S(z)).with({type:"ENABLE_PRO"},z=>E(z)).with({type:"OPEN_WATCHLIST_MODAL"},z=>M(z)).with({type:"MULTIQUERY"},()=>{}).with({type:"POPULATE_INPUT"},z=>{R(z)}).with({type:"CREATE_SPACE"},z=>{A(z)}).with({type:"OPEN_MODAL"},z=>{P(z)}).exhaustive(),CRt(e)&&e.dismissable&&d&&(O(),v()),e.type!=="MULTIQUERY"&&g()},[B,e,k,d,w,_,C,F,S,E,M,A,R,O,v,g,P]),ee=f.useCallback(()=>{e.type!=="MULTIQUERY"&&p()},[e.type,p]),ne=f.useMemo(()=>is(e).with({type:"ANNOUNCEMENT"},q=>l.jsx(R6e,{widget:q,size:t})).with({type:"DISCOVER"},q=>l.jsx(A6e,{widget:q,size:t})).with({type:"QUERY",educational_type:"primer"},q=>l.jsx(L6e,{widget:q,onClick:X,onMouseEnter:ee,index:n})).with({type:"QUERY",educational_type:"project"},q=>l.jsx(D6e,{widget:q})).with({type:"QUERY"},q=>l.jsx(kO,{widget:q,size:t})).with({type:"WEATHER"},q=>l.jsx(eEe,{widget:q,setShowCTA:u,size:t})).with({type:"FINANCE"},q=>l.jsx(P6e,{widget:q,size:t})).with({type:"SPORTS"},q=>l.jsx(W6e,{widget:q,size:t})).with({type:"WATCHLIST"},q=>l.jsx(eAt,{widget:q,size:t})).with({type:"SPACE"},q=>l.jsx(F6e,{widget:q,size:t})).with({type:"MULTIQUERY"},q=>l.jsx(O6e,{widget:q,onQueryClick:z=>{N(q.action.actions,z),y(z)},onQueryHover:z=>x(z)})).otherwise(()=>(Q.error(new Error(`No HomepageWidget found for type: ${e.type}`)),null)),[e,t,X,ee,n,N,y,x]),V=f.useMemo(()=>is(e.type).with("WEATHER",()=>l.jsx(j6e,{setShowCTA:u})).otherwise(()=>null),[e.type]);return!ne||h?null:l.jsxs("div",{className:U("relative",RRt[t]),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[W?ne:l.jsx(sAt,{href:B,onClick:X,onMouseEnter:ee,className:"h-full w-full",disableHoverAnimation:e.type==="MULTIQUERY",children:ne}),l.jsx(wt,{children:c&&i&&l.jsx(ke.div,{initial:{opacity:.5},animate:{opacity:1},exit:{opacity:0},transition:{scale:{ease:qn,duration:.2},opacity:{ease:Vo,duration:.2}},className:U("bg-background-200/60 absolute inset-0 flex justify-center rounded-lg p-[12px]",t==="LARGE"?"items-end":"items-center"),children:V})})]})}),iAt=5,oAt=f.memo(({children:e})=>l.jsx("div",{className:"gap-sm grid grid-cols-6",style:{gridTemplateRows:"repeat(auto-fit, 64px)",gridAutoRows:"64px"},children:e})),lAt=({children:e})=>l.jsx("div",{className:"gap-sm flex h-[32px] flex-row flex-wrap justify-center overflow-hidden",children:e}),cAt=e=>{switch(e){case 0:return l.jsx(ce,{defaultMessage:"See what Comet can do",id:"TO5vylizup"});case 1:return l.jsx(ce,{defaultMessage:"Projects created with Perplexity",id:"6XX3tVQOXy"})}},uAt=e=>{switch(e){case 0:return l.jsx(Ed,{size:16});case 1:return l.jsx(mA,{size:16})}},dAt=({variant:e,children:t})=>{const n=ot(),r=K(),s=f.useCallback(()=>{n.invalidateQueries({queryKey:[s0]})},[n]);return e?l.jsxs("div",{children:[l.jsxs("div",{className:"gap-sm pb-sm flex items-center justify-between",children:[l.jsxs("div",{className:"gap-xs flex flex-row items-center",children:[l.jsx(j,{variant:"smallBold",color:"super",children:uAt(e)}),l.jsx(j,{variant:"smallBold",color:"light",children:cAt(e)})]}),l.jsx("div",{children:l.jsx(ze,{size:"tiny",onClick:s,text:r.formatMessage({defaultMessage:"See more",id:"yoLwRWw99S"}),icon:Tee})})]}),t]}):t},fAt=f.memo(({widgets:e,widgetLocation:t="home"})=>{const n=f.useMemo(()=>ja(),[]),r=Mft(),s=e.length>0;f.useEffect(()=>{s&&r("web.frontend.homepage_widgets_ttv")},[r,s]);const{flexWidgets:a,gridWidgets:i,headingVariant:o}=f.useMemo(()=>{const d=e.filter(r9).sort((p,g)=>pRt(p.seed)-.5).slice(0,iAt),h=e.filter(p=>!r9(p)),m=gRt(e)?0:vRt(e)?1:void 0;return{flexWidgets:d,gridWidgets:h,headingVariant:m}},[e]),c=f.useCallback(u=>u.map((d,h)=>l.jsx(aAt,{widget:d,size:d.size??"MEDIUM",position:h,frontendSessionUUID:n,widgetLocation:t},d.uuid)),[n,t]);return l.jsx(wt,{initial:!1,children:l.jsx(dAt,{variant:o,children:l.jsxs("div",{className:"gap-md grid grid-cols-1",children:[a.length>0&&l.jsx(lAt,{children:c(a)}),i.length>0&&l.jsx(oAt,{children:c(i)})]})})})}),hAt=f.memo(()=>{const e="homepage-widgets-wrapper",{locale:t}=K(),n=ut(),r=f.useMemo(()=>{if(!n)return ant(cn(),ER(),t)},[n,t]),s=ma(),a=f.useMemo(()=>s!==ue.STUDIO?{}:{searchMode:ue.STUDIO},[s]),{data:i}=at({queryKey:[s0],queryFn:()=>int({urlPath:r,params:a,reason:e}),gcTime:1/0}),o=ot(),c=f.useRef(!1);return f.useEffect(()=>{if(!c.current){c.current=!0;return}o.invalidateQueries({queryKey:[s0]})},[o,a]),i?l.jsx(fAt,{widgets:i}):null}),mAt=f.memo(()=>{const{isHomepageWidgetsDisabled:e}=on();return e?null:l.jsx(La,{children:l.jsx("div",{className:"animate-in fade-in duration-300",children:l.jsx(hAt,{})})})}),pAt=()=>{const e=Ks(),{value:t}=Rr({flag:"user-education-long-query",defaultValue:!1,subjectType:"visitor_id",extraAttributes:{queryCount:String(IHe())},skip:e});return t},tEe=T.memo(({show:e,icon:t,text:n,variant:r="offset"})=>l.jsx(wt,{children:e&&l.jsx(ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.16,1,.3,1]},style:{overflow:"hidden"},children:l.jsxs(H,{variant:r,className:"pl-sm pr-sm py-sm gap-sm flex items-center rounded-t-2xl",children:[t,l.jsx("div",{className:"text-tiny flex-1",children:n})]})})}));tEe.displayName="AskInputEducationalHeader";const nEe=T.memo(()=>{const e=pAt(),t=rI(),n=f.useMemo(()=>t?.length>5&&t?.length<100,[t]),r=f.useMemo(()=>l.jsxs(j,{variant:"tiny",children:[l.jsx(j,{inline:!0,variant:"tinyBold",as:"span",children:l.jsx(ce,{defaultMessage:"Try adding more detail: ",id:"F1iv3quHId"})}),l.jsx(ce,{defaultMessage:"Perplexity works better when you give more context or share your goals",id:"q5qPv0neSZ"})]}),[]),s=f.useMemo(()=>l.jsx(_e,{icon:wFe,size:"md",className:"text-super"}),[]);return l.jsx(tEe,{show:e&&n,icon:s,text:r})});nEe.displayName="AskInputLongQueriesEducationalHeader";const gAt="/account/connectors",$Y={GCAL_CONNECT:"gcal_connect",CONNECTOR_COMPLETE:"connector_complete"},vAt={UPSELL_CONNECTOR:"upsell-connector-channel"},rEe=async e=>{try{const{error:t}=await J.POST("/rest/homepage-widgets/upsell/interacted","upsell interaction tracking",{body:{upsell_name:e},timeoutMs:$e(),numRetries:1});t&&Q.error("Failed to mark upsell as interacted",{upsellName:e,error:t})}catch(t){Q.error("Error marking upsell as interacted",{upsellName:e,error:t})}},yAt=(e,t)=>e.filter(n=>n.name===t).map(n=>n.connection_uuid).filter(n=>n!=null);function xAt({reason:e}){const t=ot(),n=sA();return lt({mutationKey:["publishArticleMutation"],mutationFn:async({connectorName:r,connectionUUID:s,deleteFiles:a})=>{let i;return s&&!a?i=await JQe({connectionUUID:s,reason:e}):s&&a?i=await eXe({connectionUUID:s,reason:e}):i=await ZQe({connectorName:r,reason:e}),i},onSettled:async()=>{await t.refetchQueries({queryKey:n})},onMutate:async({connectorName:r,connectionUUID:s})=>{t.setQueryData(n,a=>{if(!a)return a;const i=a.connectors.connectors.map(o=>o.name===r&&(!s||o.connection_uuid===s)?{...o,connected:!1}:o);return{...a,connectors:{connectors:i}}})}})}const bAt={logged_out_image_generation:rt.IMAGE_GENERATION_IN_THREAD,auto_upgrade_to_pro:rt.AUTO_UPGRADE_TO_PRO,pro_feature_limit_queries:rt.PRO_FEATURE_LIMIT_BANNER,pro_feature_limit_files:rt.PRO_FEATURE_LIMIT_BANNER},wAt=(e,t,n)=>{const r=ut(),{openVisitorLoginUpsell:s}=Gr({enabled:!r}),{trackEvent:a}=Ne(),{lastResult:i}=fr(),{$t:o}=K(),{openModal:c}=St(),u=rr(),d=`?rw=true#${t}`,{submitQuery:h}=Bc(),m=Vr(),{handleConnect:p}=cSe({reason:"upsell"}),{mutateAsync:g}=xAt({reason:"upsell"}),v=a5e(),{handleCreateNewSpaceForThread:y}=s5e(),{connectors:x}=Da({reason:"upsell"}),b=f.useCallback(async()=>{try{await m.setCometAsDefaultBrowser("set_default_browser"),a("default browser upsell selected",{cometSurface:u?"sidecar_thread":"search_results_page",inThreadUpsell:!0})}catch{}},[m,u,a]);f.useEffect(()=>{if(!u)return;const S=new BroadcastChannel(vAt.UPSELL_CONNECTOR);return S.onmessage=k=>{k.data.type===$Y.CONNECTOR_COMPLETE&&(window.focus(),window.location.href=window.location.pathname+d)},()=>{S.close()}},[u,d]);const w=f.useCallback(()=>{if(e)switch(e.app_location){case Hm.MODAL:a("upsell modal opened",{entryUUID:i?.backend_uuid,upsellType:e.upsell_type,upsellName:e.name});break;case Hm.IN_THREAD:case Hm.IN_THREAD_BOTTOM:case Hm.IN_THREAD_INPUT:a("thread upsell banner clicked",{entryUUID:i?.backend_uuid,upsellType:e.upsell_type,upsellName:e.name});break;case Hm.SIDEBAR:a("side upsell clicked",{upsellType:e.upsell_type,upsellName:e.name});break}},[i,a,e]),_=f.useCallback(()=>{i?.query_str&&h({rawQuery:i.query_str,existingEntryUUID:i.backend_uuid,redoSearch:!0,collection:null,newFrontendContextUUID:null,existingFrontendContextUUID:i.frontend_context_uuid,promptSource:"user",querySource:"rewrite-upsell",attachments:[],modelPreferenceOverride:e?.cta_information?.model_preference??"pplx_pro"})},[i,h,e]);return f.useCallback(()=>{if(!e)return;rEe(e.name),w();const S=bAt[e.name]??rt.UNSPECIFIED_GENERALIZED_UPSELL,k=i?.thread_url_slug?`/search/${i.thread_url_slug}${d}`:void 0,E=i?.thread_url_slug?`/search/${i.thread_url_slug}`:void 0;switch(e.cta){case Qc.SIGN_UP_OR_LOGIN:if(u)return;s({title:e.title,description:e.description,origin:S});break;case Qc.PRO_UPGRADE:c("pricingModal",{pitchMessage:{title:e.name==="max_upgrade_video_generation"?o({defaultMessage:"Upgrade to Max to generate videos",id:"v1CRI5YREw"}):o({defaultMessage:"Want more {copilot}?",id:"Kf+JzdHL3c"},{copilot:"Pro search"})},origin:S});break;case Qc.THREAD_TO_SPACE:{if(!i?.backend_uuid)return;v?y(i?.backend_uuid,i?.frontend_context_uuid):c("spaceCreateForThread",{entryUUID:i?.backend_uuid,frontendContextUUID:i?.frontend_context_uuid});break}case Qc.CONNECTOR:if(!u&&e.cta_information?.connector_type==="gcal"){const M="gcal",N=yAt(x?.connectors??[],M);for(const R of N)g({connectorName:M,connectionUUID:R});p({connectorName:M,redirectPath:k,unauthedRedirectPath:E})}else u&&e.cta_information?.connector_type==="gcal"?window.open(`${window.location.origin}${gAt}?connector_type=${$Y.GCAL_CONNECT}`,"_blank"):Q.error("Unhandled upsell connector type",{connectorType:e.cta_information?.connector_type});break;case Qc.REWRITE_ANSWER:n&&i?.backend_uuid?MKe({entryUUID:i?.backend_uuid,reason:"rewrite-upsell"}).catch(()=>{Q.error("Error terminating entry")}).finally(_):_();break;case Qc.PERMALINK:{const{permalink_new_tab:M,permalink:N}=e.cta_information??{};if(!N)return;M?window.open(N,"_blank"):window.location.href=N;break}case Qc.SET_DEFAULT_BROWSER:{b();break}}},[e,w,i?.thread_url_slug,i?.backend_uuid,i?.frontend_context_uuid,d,u,s,c,o,n,v,y,x,p,g,b,_])},sEe=T.memo(({upsellInformation:e,threadIndex:t,inFlight:n})=>{const r=wAt(e,t,n),s=f.useMemo(()=>{switch(e?.button_color){case xF.MAX_COLOR:return"maxGold";case xF.PRIMARY_COLOR:return"primary";default:return"common"}},[e?.button_color]);return l.jsx(ye,{variant:s,size:"small",onClick:r,text:e?.button_text,leadingComponent:e?.icon_reference==="labs"?l.jsx(_e,{icon:Tr,size:"sm"}):void 0,trailingComponent:e?.icon_reference==="pro"?l.jsx("div",{className:"ml-xs flex items-center",children:l.jsx(c1,{width:"w-6",fillColor:"fill-white dark:fill-background"})}):void 0,fullWidth:!0})});sEe.displayName="UpsellButton";const _At=async()=>{try{return(await J.GET("/rest/homepage-widgets/upsell/","get upsells",{timeoutMs:$e()})).data?.upsell_information??null}catch(e){return Q.error("Error getting homepage upsells",{error:e}),null}},CAt=()=>{const[e,t]=f.useState(),{trackEvent:n,trackEventOnce:r}=Ne();f.useEffect(()=>{_At().then(c=>{c&&t(c)})},[]);const[s,a]=f.useState(!1);f.useEffect(()=>{e&&(a(!0),r("side upsell viewed",{upsellName:e.name,upsellType:e.upsell_type}))},[e,r]);const i=f.useCallback(()=>{e&&(n("side upsell dismissed",{upsellName:e.name,upsellType:e.upsell_type}),a(!1),rEe(e.name))},[e,n]),o=f.useMemo(()=>e?l.jsx(sEe,{upsellInformation:e}):null,[e]);return f.useMemo(()=>({show:s&&!!e,title:e?.title,description:e?.description,button:o,onDismiss:i}),[o,i,s,e])},SAt=()=>{const{$t:e}=K(),{show:t,title:n,description:r,button:s,onDismiss:a}=CAt();return t?l.jsx("div",{className:U("pl-md pb-md absolute bottom-0 left-0 hidden pr-1 md:block","animate-in fade-in duration-200"),style:{width:i0},children:l.jsxs("div",{className:"pl-sm pb-sm",children:[l.jsx(j,{className:"leading-snug",variant:"smallBold",children:n}),l.jsx(j,{className:"mb-sm leading-snug",variant:"tinyRegular",color:"light",children:r}),l.jsx("div",{className:"mb-xs","data-testid":"side-upsell-button",children:s}),l.jsx(ze,{text:e({defaultMessage:"Dismiss",id:"TDaF6JVgG6"}),onClick:a,size:"tiny",noPadding:!0,fullWidth:!0,testId:"side-upsell-dismiss"})]})}):null};function aEe(){const{isSplashPageDismissed:e}=on(),t=vHe(),{isMobileUserAgent:n}=Oe(),r=ut(),s=Lt(),a=An(),i=yR(),o=s==="/"&&(a===null||a.size===0);return!(!n||r||e||!o||t||i||qg())}const iEe=()=>l.jsxs("div",{className:"flex flex-row items-center",children:[l.jsx(Es,{variant:"mark",color:"textMain",size:"small"}),l.jsx("div",{className:"ml-2",children:l.jsx(Es,{variant:"text",color:"textMain",size:"small"})})]}),EAt={currentStep:null,currentIndex:0,steps:[],handleNext:()=>null,insertStep:()=>null,insertStepAndNavigate:()=>null,experimentVariationsMeta:{},setCurrentIndex:()=>null},oEe=f.createContext(EAt),K$t=({steps:e,experimentVariationsMeta:t,handleFinish:n,children:r})=>{const[s,a]=f.useState(0),[i,o]=f.useState(e),[c,u]=f.useState(null),[d,h]=f.useState(t),{trackEventTyped:m}=Ne();f.useEffect(()=>{o(e)},[e]),f.useEffect(()=>{h(t)},[t]),f.useEffect(()=>{m("step visited",{step:i[s],experimentVariationsMeta:d})},[s,d,i,m]),f.useEffect(()=>{c!==null&&(a(c),u(null),m("step transition",{sourceStep:i[s],destinationStep:i[c],isFinish:!1,experimentVariationsMeta:d}))},[s,d,c,i,m]);const p=(x,b)=>{const w=[...i];w.splice(b,0,x),o(w)},g=(x,b)=>{p(x,b),u(b)},v=()=>{i.length&&(s===i.length-1?(n?.(),m("step transition",{sourceStep:i[s],isFinish:!0,experimentVariationsMeta:d})):(a(s+1),m("step transition",{sourceStep:i[s],destinationStep:i[s+1],isFinish:!1,experimentVariationsMeta:d})))},y=f.useMemo(()=>i[s],[s,i]);return l.jsx(oEe.Provider,{value:{currentStep:y,insertStep:p,insertStepAndNavigate:g,handleNext:v,currentIndex:s,steps:i,setCurrentIndex:a,experimentVariationsMeta:d},children:r})},Y$t=()=>{const e=f.useContext(oEe);if(!e)throw new Error("useMultiStep must be used within MultiStepContext");return e};Ee(()=>he(()=>import("./AppDownloadQR-e_53jnCa.js"),__vite__mapDeps([68,1])),{loading:()=>l.jsx(m5e,{})});const kAt=({displayAs:e,className:t,allowBgImage:n=!0})=>{const r=["/static/images/app-icons/nasa.png","/static/images/app-icons/jungle.png","/static/images/app-icons/flower.png","/static/images/app-icons/sf.png","/static/images/app-icons/books.png","/static/images/app-icons/cat.png"],s=f.useMemo(()=>r[Math.floor(Math.random()*r.length)],[]);return l.jsxs("div",{className:U("bg-dark relative inline-flex aspect-square size-20 items-center justify-center overflow-hidden shadow-lg",{"p-md rounded-[20px]":e==="ios","p-md rounded-full":e==="android"},t),children:[n&&l.jsx("img",{className:U("absolute inset-0 opacity-50 duration-150"),src:s,suppressHydrationWarning:!0,alt:""}),l.jsx("div",{className:"relative flex items-center justify-center",children:l.jsx(Es,{variant:"mark",size:"md",color:"white"})}),l.jsx("div",{className:"rounded-inherit absolute inset-0 border border-black/20 dark:border-white/10"})]})},MAt=({ratingsCount:e})=>l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((t,n)=>l.jsx(_e,{icon:Lf,size:16,className:"text-super"},`rating-star-full-${n}`))}),l.jsx("div",{children:e&&l.jsxs(j,{variant:"tiny",color:"light",className:"flex items-end text-center",children:[e," Ratings"]})})]}),TAt=({campaignData:e,dismiss:t,translated:n})=>{const r="reviews",{isIOS:s}=Nt(),[a,i]=f.useState(!!n),[o,c]=f.useState(e),{trackEvent:u}=Ne();f.useEffect(()=>{if(n)return;(async()=>{const y=await Ave({originalContent:e,keysToTranslate:["title_1","subtext_1","button_text"],reason:r});c(y),i(!0)})()},[e,n]),f.useEffect(()=>{u("mweb splash page viewed",{})},[u]);const{title_1:d,subtext_1:h,button_text:m,button_link:p}=o,g=()=>{u("app download button selected",{downloadAppDestination:"mobile",origin:"marketingLandingPage"}),$w(),window.open(p,"_blank")};return l.jsxs("div",{className:U("px-lg pt-lg pb-lg fixed inset-0 mb-auto flex h-full flex-col items-center justify-between overflow-y-auto"),children:[t&&l.jsx("div",{className:"right-sm top-sm absolute",children:l.jsx(ze,{pill:!0,variant:"noBackground",size:"small",icon:tn,extraCSS:"text-textMain md:hover:text-textOff ",onClick:t})}),l.jsx(iEe,{}),l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(kAt,{displayAs:s?"ios":"android",allowBgImage:!1}),l.jsxs("div",{className:U("flex flex-col items-center"),children:[l.jsx(wt,{children:a?l.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex flex-col items-center",children:[l.jsx(j,{variant:"entry-title",color:"default",textCenter:!0,children:d}),l.jsx(j,{variant:"base",color:"light",textCenter:!0,className:"mt-4 max-w-[400px]",children:h})]}):l.jsxs("div",{className:"invisible flex flex-col items-center",children:[l.jsx(j,{variant:"entry-title",color:"default",textCenter:!0,children:e.title_1}),l.jsx(j,{variant:"base",color:"light",textCenter:!0,className:"mt-4 max-w-[400px]",children:e.subtext_1})]})}),l.jsx("div",{className:"mt-4",children:l.jsx(MAt,{ratingsCount:"149K"})})]})]}),l.jsx("div",{className:"flex w-full flex-col items-center",children:l.jsx(wt,{children:a?l.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex w-full flex-col items-center",children:l.jsx(ye,{variant:"inverted",size:"large",text:m,icon:s?pR:UN,fullWidth:!0,extraCSS:"max-w-xs rounded-xl mx-auto",onClick:g})}):l.jsx("div",{className:"invisible flex w-full flex-col items-center",children:l.jsx(ye,{variant:"inverted",size:"large",text:e.button_text})})})})]})},NAt=({dismiss:e})=>{const t=Hw({origin:"mweb-splash"});return l.jsxs("div",{className:U("px-lg pt-lg pb-lg fixed inset-0 mb-auto flex h-full flex-col items-center justify-between overflow-y-auto"),children:[l.jsx("div",{className:"right-sm top-sm absolute",children:l.jsx(ze,{pill:!0,variant:"noBackground",size:"small",icon:tn,extraCSS:"text-textMain md:hover:text-textOff ",onClick:e})}),l.jsx(iEe,{}),l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"aspect-square size-20 overflow-hidden rounded-full shadow-lg",children:l.jsx("img",{src:"https://r2cdn.perplexity.ai/whatsapp.jpg",alt:"WhatsApp"})}),l.jsxs("div",{className:U("flex flex-col items-center"),children:[l.jsx(j,{variant:"entry-title",color:"default",textCenter:!0,children:l.jsx(ce,{id:"2WQt3MyLfa",defaultMessage:"Ask anything, anywhere"})}),l.jsx(j,{variant:"base",color:"light",textCenter:!0,className:"mt-4 max-w-[400px]",children:l.jsx(ce,{id:"ZTpOAItHHA",defaultMessage:"We're on WhatsApp"})}),l.jsx(j,{variant:"smallMono",color:"super",textCenter:!0,className:"mt-4",children:l.jsx(ce,{id:"b0JEE9uTQq",defaultMessage:"+1 (833) 436-3285"})})]})]}),l.jsx("div",{className:"flex w-full flex-col items-center",children:l.jsx(ye,{variant:"inverted",size:"large",onClick:t,icon:GN,text:l.jsx(ce,{id:"Wpt2mdD04V",defaultMessage:"Chat now"})})})]})},RAt=1;function AAt({}){const[e,t]=f.useState(!1),{actions:n}=on(),{trackEvent:r}=Ne(),{$t:s}=K(),a=()=>{t(!1),n.setIsSplashPageDismissed(!0,RAt),r("mweb splash page dismissed",{}),document.head.querySelector("[name='theme-color']")?.remove()},{mwebUpsellWhatsApp:i,loadingMwebUpsellWhatsApp:o}=Gw();f.useEffect(()=>{o||t(!0)},[o]);const c=f.useMemo(()=>({title_1:s({defaultMessage:"Start searching with AI",id:"xADWoMp8Ck"}),subtext_1:s({defaultMessage:"It's better in the app.",id:"E7ck+HTwLo"}),button_text:s({defaultMessage:"Download now",id:"OmsvLbYdpQ"}),button_link:"http://perplexity.ai/download"}),[s]);return l.jsx("div",{className:U("bg-background fixed inset-0 flex size-full flex-grow flex-col md:hidden"),children:l.jsx($R,{open:e,children:l.jsx(wt,{mode:"wait",children:l.jsx(HR,{children:l.jsxs(Kw,{children:[l.jsxs(lR,{children:[l.jsx(Yw,{children:s({defaultMessage:"Know it all",id:"F6NJO530sQ"})}),l.jsx(WR,{children:s({defaultMessage:"Search and discover with AI",id:"ydYv4/6Poi"})})]}),l.jsx(ke.div,{animate:{opacity:1},id:"splash-screen-content",initial:{opacity:0},exit:{opacity:0},children:l.jsx("div",{className:U("bg-background fixed inset-0 flex size-full flex-grow flex-col","z-10"),children:i?l.jsx(NAt,{dismiss:a}):l.jsx(TAt,{dismiss:a,campaignData:c,translated:!0})})},"splash-screen-content")]})})})})})}function jAt({}){return aEe()?l.jsx(AAt,{}):null}const lEe=T.memo(e=>{const t=e.metadata?.title||"Perplexity";return f.useEffect(()=>{const n=document.head.getElementsByTagName("title");for(const r of n)r.textContent=t},[t]),null});lEe.displayName="DocumentTitle";const PAt=({reason:e})=>{const t=ot(),n=An(),r=n?.get("stripe_checkout"),s=n?.get("is_enterprise")==="true",{trackEvent:a}=Ne(),i=r!=null,o=r==="success";f.useEffect(()=>{i&&s&&(async()=>{try{const[u,d]=await Promise.all([o?t.fetchQuery({queryKey:["refresh-org-subscription-status"],queryFn:()=>Zre({reason:e})}):null,t.fetchQuery({queryKey:["user-org-data"],queryFn:()=>n3({reason:e})})]),h=d?.organization?.uuid;h!=null&&h!==void 0&&a("org payment portal returned",{stripeResult:r??"",orgUUID:h??"",source:n?.get("origin")??""})}catch(u){Q.log("Failed to refresh org subscription:",u)}})()},[])},LE=pt({[bLe]:{id:"Sj7bs8Ti07",defaultMessage:"Sign in with your school email to unlock one month free of Perplexity Pro"},[wLe]:{id:"8MOEZchxNH",defaultMessage:"Sign in with your USC email to unlock one month free of Perplexity Pro"},[_Le]:{id:"4d/Zn7HZQx",defaultMessage:"Sign in with your UC Berkeley email to unlock one month free of Perplexity Pro"},[CLe]:{id:"DXeXI7X4DZ",defaultMessage:"Sign in with your IITM email to unlock one year free of Perplexity Pro"},[SLe]:{id:"sBfq8LkRp0",defaultMessage:"Sign in with your ac.kr email to unlock one year free of Perplexity Pro"}}),IAt=()=>{const e=An(),{$t:t}=K(),{openModal:n}=St(),{userAgent:r}=Nt(),[s,a]=f.useState(!1),i=ut(),{trackEvent:o}=Ne(),{openVisitorLoginImageUpsell:c}=Gr({enabled:!0});f.useEffect(()=>{if(typeof window>"u")return;const u=e?.get(xLe),d=[];if(e?.get(RF)&&(d.push(RF),n("onboardingModal",{userAgent:r})),e?.get(AF)&&(d.push(AF),o("default search extension uninstalled",{isBrowserExtension:!0})),e?.get(PF)&&(d.push(PF),n("pricingModal",{origin:rt.MAX_URL_PAYWALL,pitchMessage:{title:t({defaultMessage:"Introducing Perplexity Max",id:"v1bpoVO4Rq"}),description:t({defaultMessage:"Maximize your curiosity with unlimited access to Perplexity Labs",id:"AX3/N9NedQ"})}})),!s&&(e?.get(yLe)||u&&LE[u])){if(i)return;a(!0);const h=u&&LE[u]?t(LE[u]):t({defaultMessage:"Sign in with your school email to unlock one month free of Perplexity Pro",id:"Sj7bs8Ti07"});c({origin:rt.BACK_TO_SCHOOL,title:h,image:MLe,imageAlt:TLe,loginButtonsStyle:"highlightBackToSchool"})}if(d.length>0){const h=Array.from(e?.entries()??[]).filter(([p])=>!d.includes(p)),m=new URLSearchParams;h.forEach(([p,g])=>{m.set(p,g)}),E3(Object.fromEntries(h))}},[e,n,r,s,i,t,o,c])},OAt=()=>{const e=ut(),{openModal:t}=St(),{$t:n}=K(),{openVisitorLoginUpsell:r}=Gr({enabled:!0}),s=f.useCallback(a=>{if(Q.info("Thread access not allowed",{uuidOrSlug:a,isUserLoggedIn:e}),e)t("requestAccessModal",{uuidOrSlug:a});else{const i=`${window.location.origin}/search/${a}`;r({origin:rt.REQUEST_ACCESS_LOGIN_GATE,title:n({defaultMessage:"This thread is private",id:"PX12OU86rT"}),description:n({defaultMessage:"Sign in if you are the owner of this thread, or to request access",id:"/A9MF2B0ub"}),sheetModalVariant:"centered-sheet",overrideRedirectUrl:i})}},[n,e,t,r]);return f.useMemo(()=>({handleRequestAccess:s}),[s])},LAt=e=>{if(e==="pro"||e==="max")return e},DAt=()=>{const e=An(),t=e?.get("stripe_checkout"),n=e?.get("upsell"),r=e?.get("flow_type"),s=e?.get("upgrade_max"),a=e?.get("subscription_tier"),{openModal:i}=St(),{formatMessage:o}=K(),u=Dt()?.user?.id,d=e?.get("externalUserId"),h=e?.get("verificationId"),m=e?.get("sheerid_url"),p=f.useCallback(()=>{const C=r??"unknown",S=s==="success",k=LAt(a);i("subSuccessModal",{flowType:C,upgradeMax:S,subscriptionTier:k})},[r,i,s,a]),g=f.useCallback(({isTasksAutomationsRenameEnabled:C})=>{EHe(!0),i("pricingModal",{origin:rt.TASKS_PAGE,pitchMessage:C?{title:o({defaultMessage:"Want to use Perplexity Automations?",id:"uujTvYgZRp"}),description:o({defaultMessage:"Upgrade to Pro to create and manage automations.",id:"9vQrVenMdj"})}:{title:o({defaultMessage:"Want to use Perplexity Tasks?",id:"u3CPeNV09q"}),description:o({defaultMessage:"Upgrade to Pro to create and manage tasks.",id:"oUsys+n/zQ"})}})},[o,i]),v=f.useCallback(C=>{i("referralSuccessModal",{monthsAwarded:C})},[i]),y=f.useCallback(async()=>{const C=await l6t({verificationId:h,reason:"referral-success-modal"});v(C.months_awarded)},[h,v]),x=f.useCallback(()=>{const C=setTimeout(()=>{i("referralErrorModal",null)},1e3);return()=>clearTimeout(C)},[i]),b=f.useCallback(()=>{m&&i("sheerIdRedirectModal",{sheerIdUrl:m.toString()})},[i,m]),{value:w,loading:_}=_1();f.useEffect(()=>{(t==="success"||s==="success")&&p(),n==="tasks"&&(_||g({isTasksAutomationsRenameEnabled:w})),m&&b(),h&&(!!d&&!!h&&d===u?y():x())},[u,t,n,d,h,m,s,p,g,v,x,b,y,w,_])},FAt=e=>{const t=/\[([^\]]+)\]\(pplx:\/\/action\/followup\)/g;return e.replace(t,"$1")};var HY={};const Eg="Perplexity",UAt="",BAt=80,$At=160,s9="Perplexity is a free AI-powered answer engine that provides accurate, trusted, and real-time answers to any question.";function HAt(e){if(!e)return null;try{return new Date(e).toISOString().slice(0,10)}catch{return null}}const WAt=({firstResult:e,query:t,slug:n,userAgent:r})=>{if(r?t1(r):!1)return Op({title:Eg,index:!1,userAgent:r});if(!e)return DE({result:"no_result",slug:n,userAgent:r}),Op({index:!1,title:t?r0(t).actualQuery||t:void 0,userAgent:r});const a=Mn.parseAskTextField(e);if(!a)return DE({result:"bad_parse",slug:n,userAgent:r}),Op({index:!1,userAgent:r});const i=zAt(e);DE({result:"url_served",slug:n,userAgent:r,imageURL:i});let o=Eg,c;if(iie(e)&&e.article_info?.title?(o=e.article_info.title,e?.article_info?.read_time,c=e?.author_username):e.thread_title&&e.thread_title!==UAt?o=e.thread_title:e.query_str&&(o=e.query_str),o){const{actualQuery:m}=r0(o);o=m||o,o=jx(o,BAt)}const u=a.answer?jx(a.answer,$At):s9,d=e?.thread_url_slug?e?.mode?.toLowerCase()=="article"?`https://www.perplexity.ai/page/${e.thread_url_slug}`:`https://www.perplexity.ai/search/${e.thread_url_slug}`:void 0,h=FAt(u);return Op({imageURL:i,title:o,description:h,author:c,datePublished:e?.updated_datetime,canonicalURL:d,index:e?.should_index??!1,userAgent:r})},DE=({result:e,slug:t,userAgent:n,imageURL:r})=>{const s="[trackThreadOGImageServing]";try{t!=="new"&&wR(`${s} [${t}] [${n}] ${e}: ${r}`)}catch(a){qte("[trackThreadOGImageServing] error:",{result:e,slug:t,userAgent:n,imageURL:r,err:a})}},zAt=e=>{let t=f2;const n=`[getThreadOGImageURL] [${e?.thread_url_slug}]`;if(e.s3_social_preview_url&&e.s3_social_preview_url!==f2)return e.s3_social_preview_url;try{t=f2;const r=Mn.isArticleMode(e);return e.thread_url_slug?r?`${HY.NEXTAUTH_URL}/api/og/page/${e.thread_url_slug}`:`${HY.NEXTAUTH_URL}/api/og/thread/${e.thread_url_slug}`:t}catch(r){wR(`${n} error getting thread og image url: `,r)}return t},Op=({title:e=Eg,description:t=s9,imageURL:n=f2,canonicalURL:r,author:s,datePublished:a,index:i,userAgent:o})=>{try{let c=!1;typeof window>"u"&&(c=o?t1(o):!1),c&&(e=Eg);const u=HAt(a);return r=r??"./",{metadataBase:new URL("https://www.perplexity.ai"),title:e,description:t,author:s??void 0,alternates:{canonical:r},openGraph:{url:r,images:[n],locale:"en_US",type:"website",siteName:"Perplexity AI"},twitter:{card:t?"summary_large_image":"summary",images:[n],site:"@perplexity_ai",creator:s?`@${s}`:void 0},other:{datePublished:u??""},robots:{index:i}}}catch(c){return qte("[generatePageMetadata] Error generating metadata:",c),{title:Eg,description:s9,metadataBase:new URL("https://www.perplexity.ai"),robots:{index:!1}}}},VAt=e=>!!e?.displayName?.startsWith("Icon"),GAt=e=>!!e?.prefix?.startsWith("fa"),WY={page:"page-title",section:"section-title",subsection:"baseSemi"},qAt={page:"lg",section:"base",subsection:"md"},KAt=({icon:e,variant:t})=>VAt(e)?l.jsx(_e,{icon:e,size:qAt[t]}):GAt(e)?l.jsx(gt,{icon:e,size:"sm"}):null,cEe=T.memo(({title:e,icon:t,subtitle:n,actionList:r,search:s,variant:a="page",noBorder:i=!1,center:o="md",background:c="background",testId:u,isMobileStyle:d,leadingComponent:h,trailingComponent:m})=>{const p=r&&r.length>0&&l.jsx("div",{className:"gap-x-sm flex",children:r?.map((v,y)=>v.visible?v.items&&v.items.length>0?l.jsx(bn,{isMobileStyle:d,items:v.items,children:l.jsx(ye,{testId:u,size:v.size??Mt.small,text:v.text,variant:v.variant,icon:v.icon,onClick:v.onClick,debounce:v.debounce})},v.text??y):l.jsx("div",{className:"relative flex h-full items-center",children:l.jsx(ze,{testId:u,size:v.size??Mt.small,text:v.text,variant:v.variant,icon:v.icon,onClick:v.onClick,toolTip:v.tooltip,tooltipLayout:"bottom",disabled:v.disabled,debounce:v.debounce,isLoading:v.isLoading})},v.text??y):l.jsx(T.Fragment,{},y))}),g=l.jsxs("div",{children:[l.jsxs("div",{className:"gap-x-sm flex items-center",children:[t&&l.jsx(j,{variant:WY[a]??"section-title",children:l.jsx(KAt,{icon:t,variant:a})}),l.jsx(j,{variant:WY[a]??"section-title",children:e})]}),n&&l.jsx(j,{variant:a==="page"?"base":"small",color:"light",className:"mt-sm",children:n})]});return l.jsx(H,{variant:c,className:U({"sticky top-0 z-[5] flex items-center rounded-t-xl":a==="page","border-b":!i,"h-headerHeight":a==="page"&&!s,"pt-md md:pb-md":a==="page"&&s}),children:l.jsx(H,{className:U("w-full",{"px-sm md:px-lg mx-auto max-w-screen-md":a==="page"&&o==="md","max-w-threadWidth px-md md:px-lg mx-auto":a==="page"&&o==="lg"}),children:l.jsxs(H,{variant:c,className:U("gap-md flex flex-col md:flex-row md:items-center md:justify-between",{"h-14":!s&&a==="section"}),children:[l.jsxs("div",{className:"md:hidden",children:[l.jsxs("div",{className:"gap-xs flex w-full shrink-0 items-center",children:[h,l.jsxs("div",{className:"gap-sm flex w-full justify-between",children:[g,p]})]}),s&&l.jsx("div",{className:"mt-md w-full max-w-md",children:s})]}),l.jsxs("div",{className:"gap-sm hidden grow items-center justify-between md:flex",children:[g,l.jsxs("div",{className:"gap-sm flex grow items-center justify-end",children:[p,s&&l.jsx("div",{className:"max-w-md grow",children:s})]}),m]})]})})})});cEe.displayName="Header";const uEe=T.memo(()=>{const{isMobileStyle:e}=Oe(),{$t:t}=K(),n=f.useMemo(()=>l.jsx(ye,{variant:"border",size:"small",text:"Settings",icon:Sw}),[]);return l.jsx(cEe,{title:t({defaultMessage:"Mission Control",id:"xFsArGFRC3"}),center:"lg",isMobileStyle:e,trailingComponent:n})});uEe.displayName="MissionControlHeader";const dEe=e=>{switch(e){case"assistant":return{label:"Assistant",icon:Ed};case"labs":return{label:"Labs",icon:mA};case"research":return{label:"Research",icon:mse}}},hu=T.memo(({title:e,type:t,date:n,actionRequired:r,showScreenshot:s,sources:a,activeStepText:i,timeRemaining:o})=>{const c=dEe(t),u=K(),d=b3(u,n,{style:"short"});return l.jsxs(H,{className:U("gap-md flex flex-col rounded-xl border p-[12px]",r&&"!border-backToSchoolOrange dark:!border-backToSchoolOrange"),variant:"offset",children:[l.jsxs("div",{className:"gap-md flex w-full flex-1",children:[l.jsxs("div",{className:"flex flex-1 flex-col items-start gap-[12px] divide-y",children:[l.jsxs("div",{className:"gap-sm flex w-full flex-col items-start",children:[l.jsxs(El,{className:"gap-xs text-text-200 items-center text-xs",children:[l.jsx(Gn,{id:"type",children:l.jsxs("div",{className:"gap-xs text-text-200 flex items-center",children:[l.jsx(_e,{icon:c.icon,size:"xs",className:"-translate-y-px"}),l.jsx(j,{variant:"tiny",color:"light",children:c.label})]})}),l.jsx(Gn,{id:"status",children:l.jsx(j,{variant:"tiny",color:"light",children:d})})]}),l.jsx(j,{variant:"smallBold",children:e})]}),l.jsx(XAt,{actionRequired:r,sources:a,activeStepText:i})]}),s&&l.jsx(njt,{})]}),r&&l.jsx(YAt,{}),l.jsx(tjt,{timeRemaining:o})]})}),YAt=T.memo(()=>l.jsxs(H,{className:"gap-sm flex flex-col border-t pt-[12px]",children:[l.jsx(j,{variant:"tinyRegular",children:"What is your favorite running shoe?"}),l.jsx(ko,{value:"",placeholder:"Enter your answer",isMobileUserAgent:!1}),l.jsxs("div",{className:"gap-sm flex justify-end",children:[l.jsx(ye,{variant:"common",size:"tiny",pill:!0,text:"Skip"}),l.jsx(ye,{variant:"primary",size:"tiny",pill:!0,text:"Submit",extraCSS:"!bg-text"})]})]})),QAt=T.memo(()=>l.jsx(H,{variant:"backToSchoolOrange",className:"py-xs px-sm rounded-full",children:l.jsx(j,{variant:"tiny",color:"white",children:"Action Required"})})),XAt=T.memo(({actionRequired:e,sources:t,activeStepText:n})=>l.jsxs(H,{className:"gap-sm flex w-full items-start pt-[12px]",children:[l.jsxs(j,{variant:"tinyRegular",className:"flex shrink-0 items-center justify-center",children:["​",e?l.jsx(JAt,{}):l.jsx(ZAt,{})]}),l.jsxs("div",{className:"gap-xs flex flex-col items-start",children:[l.jsx(j,{variant:"tinyRegular",children:n}),e?l.jsx(QAt,{}):l.jsx(ejt,{sources:t})]})]})),ZAt=()=>l.jsx(H,{variant:"super",className:"relative size-1.5 -translate-y-px rounded-full",children:l.jsx(H,{variant:"super",className:"absolute inset-0 animate-ping rounded-full"})}),JAt=()=>l.jsx(H,{variant:"offsetPlus",className:"relative size-1.5 -translate-y-px rounded-full"}),ejt=T.memo(({sources:e})=>l.jsxs(H,{variant:"raisedOffset",className:"gap-sm px-sm py-xs shadow-subtle inline-flex items-start rounded-md border",children:[l.jsx(hs,{speed:"slow",children:l.jsxs(j,{variant:"tinyRegular",color:"light",children:["Reading ",e?.length," sources..."]})}),e&&l.jsx("div",{className:"gap-sm flex items-start",children:l.jsx(Mj,{sources:e,count:3})})]})),tjt=({timeRemaining:e})=>{const{$t:t}=K();return l.jsxs(H,{className:"gap-sm -mb-sm flex h-10 items-center justify-between border-t",children:[l.jsx(ze,{size:"tiny",pill:!0,variant:"common",text:"View in tab",chevron:!0,chevronIcon:il}),l.jsxs("div",{className:"gap-sm flex items-center",children:[e&&l.jsx(j,{variant:"tinyRegular",color:"light",children:t({defaultMessage:"{count} minutes remaining",id:"R4NVJvupdV"},{count:e})}),l.jsx(ye,{variant:"common",icon:mx,size:"tiny",pill:!0,toolTip:"Stop Task",tooltipLayout:"top",extraCSS:"!text-text-200 hover:!text-text"})]})]})},njt=T.memo(()=>l.jsxs("div",{className:"shadow-subtle relative max-w-[200px] self-start rounded",children:[l.jsx("img",{src:"https://m.media-amazon.com/images/G/01/mobile-apps/dex/app-submission/firetv-small-icon-sample._TTH_.png",alt:"Mission Control",className:"rounded-inherit relative h-auto w-full"}),l.jsxs("div",{className:"bottom-xs left-xs gap-xs absolute flex items-center",children:[l.jsx(H,{variant:"raised",className:"px-xs py-two rounded border shadow-sm",children:l.jsx(j,{variant:"micro",color:"light",children:"Viewing Amazon.com"})}),l.jsx(H,{variant:"raised",className:"px-xs py-two rounded border shadow-sm",children:l.jsxs(j,{variant:"micro",color:"light",children:["​",l.jsx(_e,{icon:il,size:"xs",className:"inline-flex"})]})})]})]}));hu.displayName="MissionControlActiveItem";const TO=T.memo(({children:e,title:t,childLayout:n="list"})=>{const r=f.useRef(null),[s,a]=f.useState(!1);f.useEffect(()=>{const o=r.current,c=()=>{o&&a(o.scrollTop>0)};return o?.addEventListener("scroll",c),()=>o?.removeEventListener("scroll",c)},[t]);const i=f.useMemo(()=>({opacity:s?1:0}),[s]);return l.jsx("div",{className:"gap-md flex min-h-0 flex-1 flex-col",children:l.jsxs("div",{className:"scrollbar-none px-sm -mx-sm flex min-h-0 flex-1 flex-col overflow-y-auto overflow-x-hidden pb-[200px]",ref:r,children:[t&&l.jsxs(j,{variant:"baseSemi",className:U("p-sm border-borderMain/50 sticky top-0 z-10 backdrop-blur-sm",s&&"border-b"),children:[l.jsx(H,{variant:"background",className:"px-sm absolute inset-0",style:i}),l.jsx("div",{className:"relative",children:t})]}),l.jsx(rjt,{type:n,children:e})]})})}),rjt=f.memo(({children:e,type:t})=>t==="grid"?l.jsx(Pye,{columnsCount:2,gutter:"16px",className:"pt-md",children:e}):l.jsx("div",{className:"gap-sm flex flex-col",children:e}));TO.displayName="MissionControlColumn";const zY=f.memo(({title:e,count:t,children:n})=>l.jsxs("div",{className:"gap-sm flex flex-col",children:[l.jsxs("div",{className:"gap-xs px-sm flex items-center justify-between",children:[l.jsx(j,{variant:"baseSemi",color:"light",children:e}),t&&l.jsx(j,{variant:"tinyMono",color:"light",className:"bg-offsetPlus px-xs rounded py-0.5",children:t})]}),l.jsx("div",{className:"gap-sm flex flex-col",children:n})]})),Wl=T.memo(({title:e,type:t,date:n,showUnreadDot:r})=>{const s=dEe(t),a=K(),i=b3(a,n,{style:"short"});return l.jsxs(H,{className:"gap-md p-sm relative flex flex-col rounded-xl border",variant:"offset",children:[l.jsx("div",{className:"pr-md flex-1",children:l.jsx(j,{variant:"smallBold",className:"line-clamp-2 text-pretty",children:e})}),l.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[l.jsxs(El,{className:"gap-xs text-text-200 items-center text-xs",children:[l.jsx(Gn,{id:"type",children:l.jsxs("div",{className:"gap-xs text-text-200 flex items-center",children:[l.jsx(_e,{icon:s.icon,size:"xs",className:"-translate-y-px"}),l.jsx(j,{variant:"tiny",color:"light",children:s.label})]})}),l.jsx(Gn,{id:"status",children:l.jsx(j,{variant:"tiny",color:"light",children:i})})]}),l.jsx("div",{className:"flex shrink-0 items-center",children:l.jsx(ze,{size:"tiny",variant:"common",icon:gd,pill:!0,extraCSS:"shrink-0"})})]}),r&&l.jsx(H,{className:"right-sm top-sm absolute size-2 rounded-full",variant:"super"})]})});Wl.displayName="MissionControlSummaryItem";const sjt=({count:e})=>e===0?null:l.jsx(j,{className:"bg-offsetPlus px-xs inline-flex rounded py-0.5 font-mono",variant:"tinyMono",color:"light",children:e}),fEe=T.memo(()=>{const[e,t]=f.useState("active"),{$t:n}=K(),r=f.useMemo(()=>[{text:n({defaultMessage:"Active",id:"3a5wL8wo40"}),key:"active",active:e==="active",show:!0,onClick:()=>t("active"),trailingComponent:l.jsx(sjt,{count:10})},{text:n({defaultMessage:"Completed",id:"95stPqCnfu"}),key:"done",active:e==="done",show:!0,onClick:()=>t("done")},{text:n({defaultMessage:"Scheduled",id:"cXAlMRerxW"}),key:"scheduled",active:e==="scheduled",show:!0,onClick:()=>t("scheduled")}],[e,n]),s=f.useCallback(()=>{},[]),a=f.useCallback(()=>{},[]);return l.jsxs("div",{className:"h-pageContentHeight flex flex-col",children:[l.jsx(H,{variant:"background",className:"sticky top-0 z-10 border-b",children:l.jsx(Dc,{actionList:r,size:"small"})}),l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[e==="active"&&l.jsx(ajt,{}),e==="done"&&l.jsx(ijt,{}),l.jsxs("div",{className:"bottom-md left-collapsedSideBarWidth fixed right-0 flex items-center justify-center",children:[l.jsx(H,{className:"-translate-y-lg pointer-events-none absolute inset-0 h-[300%] rounded-[50%] blur-xl",variant:"background"}),l.jsx(J_,{value:"",onChange:a,onSubmit:s,placeholder:n({defaultMessage:"New task",id:"K4O03zh0vo"}),disabled:!1,className:"relative w-full max-w-[640px]",hasShadow:!0})]})]})]})}),ajt=()=>{const e=f.useMemo(()=>["https://www.amazon.com/dp/B0756CY1TN","https://www.google.com","https://reddit.com"],[]),t=f.useMemo(()=>["https://iea.org/reports/renewables-2023","https://ourworldindata.org/renewable-energy"],[]);return l.jsxs(TO,{childLayout:"grid",children:[l.jsx(hu,{title:"Find the best running shoes for racing a 10k, add them to my cart, and buy them",type:"assistant",date:new Date(Date.now()-5*60*1e3).toISOString(),showScreenshot:!0,sources:e,activeStepText:"Gathering information about the best running shoes for racing a 10k"}),l.jsx(hu,{title:"Find the best running shoes for racing a 10k, add them to my cart, and buy them",type:"assistant",date:new Date(Date.now()-7*60*1e3).toISOString(),actionRequired:!0,sources:e,activeStepText:"Gathering information about the best running shoes for racing a 10k"}),l.jsx(hu,{title:"Build me a presentation on Tesla's financial performance over the last 10 years",type:"labs",date:new Date(Date.now()-20*60*1e3).toISOString(),activeStepText:"Gathering information about Tesla's financial performance over the last 10 years",sources:e,timeRemaining:10}),l.jsx(hu,{title:"Summarize the key findings from the latest AI research papers",type:"labs",date:new Date(Date.now()-30*60*1e3).toISOString(),activeStepText:"Extracting main points from selected AI research papers",sources:e,timeRemaining:8}),l.jsx(hu,{title:"Generate a report on renewable energy trends in 2023",type:"labs",date:new Date(Date.now()-45*60*1e3).toISOString(),activeStepText:"Compiling data and visualizations for renewable energy trends",sources:t,timeRemaining:15}),l.jsx(hu,{title:"Create a summary of the latest breakthroughs in quantum computing",type:"labs",date:new Date(Date.now()-60*60*1e3).toISOString(),activeStepText:"Reviewing recent publications on quantum computing",sources:t,timeRemaining:20})]})},ijt=()=>{const{$t:e}=K();return l.jsxs(TO,{children:[l.jsxs(zY,{title:e({defaultMessage:"For Review",id:"FWaRSR3oru"}),count:2,children:[l.jsx(Wl,{title:"Summarize the main points and key takeaways from this article in detail",type:"assistant",date:new Date(Date.now()-60*60*1e3).toISOString(),showUnreadDot:!0}),l.jsx(Wl,{title:"Generate a comprehensive presentation based on the content and insights of this article",type:"labs",date:new Date(Date.now()-60*60*1e3*2).toISOString(),showUnreadDot:!0})]}),l.jsxs(zY,{title:e({defaultMessage:"More",id:"I5NMJ8llIi"}),children:[l.jsx(Wl,{title:"Identify and summarize the most relevant and impactful research paper related to this topic",type:"research",date:new Date(Date.now()-60*60*1e3*3).toISOString()}),l.jsx(Wl,{title:"Draft a follow-up email to the author of the article, highlighting key questions",type:"assistant",date:new Date(Date.now()-60*60*1e3*4).toISOString()}),l.jsx(Wl,{title:"Create a slide deck visualizing the trends discussed in the article",type:"labs",date:new Date(Date.now()-60*60*1e3*5).toISOString()}),l.jsx(Wl,{title:"Find and summarize three recent studies that support the article's claims",type:"research",date:new Date(Date.now()-60*60*1e3*6).toISOString()}),l.jsx(Wl,{title:"Write a concise summary suitable for sharing on social media",type:"assistant",date:new Date(Date.now()-60*60*1e3*7).toISOString()})]})]})};fEe.displayName="MissionControlMain";const hEe=T.memo(()=>l.jsxs(l.Fragment,{children:[l.jsx(Wat,{mobileHeader:!1,children:l.jsx(uEe,{})}),l.jsx(T3,{childrenWidth:"large",children:l.jsx(im,{children:l.jsx(fEe,{})})})]}));hEe.displayName="MissionControlPage";const mEe=T.memo(()=>l.jsx(OXe,{children:l.jsx(hEe,{})}));mEe.displayName="MissionControlPageComponent";const ojt=pt({threadAccessNotAllowed:{defaultMessage:"Cannot view this thread.",id:"PWzBFTUMYQ"},threadExpired:{defaultMessage:"This thread is expired and cannot be viewed.",id:"kxDY3MhDfI"},invalidThread:{defaultMessage:"This thread does not exist.",id:"mTtce3cuRp"},threadStreamError:{defaultMessage:"Unable to start thread.",id:"d3yfUXi5SD"},pageAccessNotAllowed:{defaultMessage:"Cannot view this page.",id:"2AsVl5rMny"},spaceAccessNotAllowed:{defaultMessage:"Cannot view this Space.",id:"kUZg0JvZI+"},subscriptionAlreadyActive:{defaultMessage:"Unable to apply discount code to an active subscription.",id:"o2MqqftZuL"},unableToGrantAccess:{defaultMessage:"Unable to make this thread shareable, ensure you are logged in as the owner of the thread.",id:"F8a+v/zyZO"},collectionAccessNotAllowed:{defaultMessage:"Cannot view this collection.",id:"miGPZEm/qm"},invalidCollection:{defaultMessage:"This collection does not exist.",id:"IKZz6s6MYd"}});function ljt(){return cn()?l.jsx(T3,{childrenWidth:"none",mobileHeader:!1,children:l.jsx(C6e,{})}):l.jsx(hw,{to:"/"})}const cjt=Ee(async()=>({default:(await he(()=>import("./CometZenMode-Dncr3EIj.js"),__vite__mapDeps([73,1,39,74,43]))).CometZenMode}),{loading:()=>l.jsx("div",{className:"flex size-full items-center justify-center opacity-10",children:l.jsx(yl,{})})}),ujt=Ee(async()=>({default:(await he(()=>import("./VoiceToVoiceModal-DgLM0NUG.js"),__vite__mapDeps([38,1,39]))).VoiceToVoiceModal}),{loading:()=>l.jsx(zA,{})}),djt=Ee(async()=>({default:(await he(()=>import("./SourcesModePreview-BkC4q4LB.js").then(t=>t.s),__vite__mapDeps([75,1,41,76,77,18,78,79,30,11,80,2,81,82,46,83,47,20,84,85]))).SearchComponents})),fjt=Ee(async()=>({default:(await he(()=>import("./library-BYU5Vq8J.js"),__vite__mapDeps([86,1,87,83,47,81,78,82,46]))).default})),hjt=Ee(async()=>({default:(await he(()=>import("./index-CFixjj-T.js"),__vite__mapDeps([88,1,89,90]))).default})),mjt=Ee(async()=>({default:(await he(()=>import("./templates-C9oLThtc.js"),__vite__mapDeps([91,1,11]))).default})),pjt=Ee(async()=>({default:(await he(()=>import("./slug-CQ2x4xUI.js"),__vite__mapDeps([92,1,6,89,93,84,80,83,11,81,78,82,46,47,94]))).default})),gjt=Ee(async()=>({default:(await he(()=>import("./cdn-C7QQX3qw.js"),__vite__mapDeps([95,1]))).CDN})),VY=Ee(async()=>({default:(await he(()=>import("./slug-CVW3GQ_k.js").then(t=>t.s),__vite__mapDeps([96,1,76,77,18,78,97,98,99,83,84,82,93,100,101,102,11,79,103,104,10,12,74,87,105,106]))).ArticlePageLayout})),vjt=Ee(async()=>({default:(await he(()=>import("./academic-CHqoOZ60.js"),__vite__mapDeps([107,1,108,109,110,111,112,84,113]))).AcademicLandingPage})),yjt=Ee(async()=>({default:(await he(()=>import("./shopping-DnCb7WbC.js"),__vite__mapDeps([114,1,112,84,110,111,113,115,108,109]))).ShoppingLandingPage})),xjt=Ee(async()=>({default:(await he(()=>import("./hotels-Das1asQY.js").then(t=>t.h),__vite__mapDeps([116,1,112,84,13,117,101,34,26,118]))).HotelsSlugPage})),bjt=Ee(async()=>({default:(await he(()=>import("./perplexify_me-C1XRUD-g.js"),__vite__mapDeps([119,1,112,84]))).PerplexifyMeLandingPage})),wjt=Ee(async()=>({default:(await he(()=>import("./travel-pun13Iyh.js"),__vite__mapDeps([120,1,112,84,110,117,101,111,113,108,109]))).TravelIndexPage})),GY=Ee(async()=>({default:(await he(()=>import("./discover-BOdqlML8.js"),__vite__mapDeps([121,1,112,84,110,122,47,99,78,97,98]))).DiscoverPage})),_jt=Ee(async()=>({default:(await he(()=>import("./crypto-BYJul-Rd.js"),__vite__mapDeps([123,1,124,112,84,110,122,125,126,101,127,109,58,128,103,111]))).CryptoPage})),Cjt=Ee(async()=>({default:(await he(()=>import("./index-DHlkWhQR.js"),__vite__mapDeps([129,1,112,84,117,101,130,111]))).F1MainPage})),Sjt=Ee(async()=>({default:(await he(()=>import("./events-BV96XMCx.js"),__vite__mapDeps([131,1,112,84,117,101,130,111,118]))).F1EventMainPage})),Ejt=Ee(async()=>({default:(await he(()=>import("./index-Do5KUFmu.js"),__vite__mapDeps([132,1,112,84,117,101,133,134,135,136,137,138]))).NBAMainPage})),kjt=Ee(async()=>({default:(await he(()=>import("./events-BrErNkuU.js"),__vite__mapDeps([139,1,112,84,117,101,127,140,141,126,142,143,144,118,130,111]))).NBAEventMainPage})),Mjt=Ee(async()=>({default:(await he(()=>import("./teams-Bf0lqwG7.js"),__vite__mapDeps([145,1,112,84,117,101,142,143,118,144,141,126,127,140,133]))).NBATeamMainPage})),Tjt=Ee(async()=>({default:(await he(()=>import("./players-BC7UJe-K.js"),__vite__mapDeps([146,1,112,84,117,101,147,118,106,111]))).NBAPlayerMainPage})),Njt=Ee(async()=>({default:(await he(()=>import("./index-Cd-401MK.js"),__vite__mapDeps([148,1,112,84,117,101,142,143,137,135,138]))).NFLMainPage})),Rjt=Ee(async()=>({default:(await he(()=>import("./events-DiSL8uSr.js"),__vite__mapDeps([149,1,112,84,117,101,141,126,127,140,142,143,118,144,130,111]))).NFLEventMainPage})),Ajt=Ee(async()=>({default:(await he(()=>import("./teams-C4WMOK2U.js"),__vite__mapDeps([150,1,112,84,117,101,142,143,140,127,118]))).NFLTeamMainPage})),jjt=Ee(async()=>({default:(await he(()=>import("./players-CnABTFi7.js"),__vite__mapDeps([151,1,112,84,117,101,142,143,147,118,106,111]))).NFLPlayerMainPage})),Pjt=Ee(async()=>({default:(await he(()=>import("./index-DkhMLttC.js"),__vite__mapDeps([152,1,112,84,117,101,137,130,111]))).ChampionsLeagueMainPage})),Ijt=Ee(async()=>({default:(await he(()=>import("./events-YR8NExeM.js"),__vite__mapDeps([153,1,112,84,117,101,130,111,118]))).ChampionsLeagueEventMainPage})),Ojt=Ee(async()=>({default:(await he(()=>import("./index-DjcjkXTi.js"),__vite__mapDeps([154,1,112,84,117,101,155,133,134,135,111,138,130]))).MLBMainPage})),Ljt=Ee(async()=>({default:(await he(()=>import("./events-BiPM0B2h.js"),__vite__mapDeps([156,1,112,84,117,101,130,111,155,133,134,135,141,126,127,140,142,143,118]))).MLBEventMainPage})),Djt=Ee(async()=>({default:(await he(()=>import("./events-CAq_AWno.js"),__vite__mapDeps([157,1,112,84,117,101,130,111,118]))).CricketEventMainPage})),Fjt=Ee(async()=>({default:(await he(()=>import("./index-D9o0CY3f.js"),__vite__mapDeps([158,1,112,84,117,101,133,136,137,138,130,111]))).IPLMainPage})),Ujt=Ee(async()=>({default:(await he(()=>import("./index-C2cgzaMe.js"),__vite__mapDeps([159,1,112,84,117,101,130,111,118]))).PGAMainPage})),Bjt=Ee(async()=>({default:(await he(()=>import("./events-DHMstmM5.js"),__vite__mapDeps([160,1,112,84,117,101,130,111,118]))).PGAEventMainPage})),$jt=Ee(async()=>({default:(await he(()=>import("./index-CiveLvEZ.js"),__vite__mapDeps([161,1,112,84,117,101,138,130,111,133,134,135]))).WNBAMainPage})),Hjt=Ee(async()=>({default:(await he(()=>import("./events-DuKQAOal.js"),__vite__mapDeps([162,1,112,84,117,101,127,141,126,140,142,143,144,118,130,111]))).WNBAEventMainPage})),Wjt=Ee(async()=>({default:(await he(()=>import("./index-C0-NkMdZ.js"),__vite__mapDeps([163,1,124,112,84,110,122,125,126,101,127,109,58,128,103,111]))).FinanceIndexPage})),zjt=Ee(async()=>({default:(await he(()=>import("./all-tickers-D65TgJIR.js"),__vite__mapDeps([164,1,112,84,118]))).FinanceAllTickersMainPage})),Vjt=Ee(async()=>({default:(await he(()=>import("./events-BIozQVOV.js"),__vite__mapDeps([165,1,112,84,117,101,127,141,126,140,142,143,144,118,130,111]))).NCAAMEventMainPage})),Gjt=Ee(async()=>({default:(await he(()=>import("./events-BIozQVOV.js"),__vite__mapDeps([165,1,112,84,117,101,127,141,126,140,142,143,144,118,130,111]))).NCAAWEventMainPage})),qjt=Ee(async()=>({default:(await he(()=>import("./index-B6QhNa9y.js"),__vite__mapDeps([166,1,112,84,117,101,137,130,111,118]))).NCAAMMainPage})),Kjt=Ee(async()=>({default:(await he(()=>import("./index-B6QhNa9y.js"),__vite__mapDeps([166,1,112,84,117,101,137,130,111,118]))).NCAAWMainPage})),Yjt=Ee(async()=>({default:(await he(()=>import("./events-CIWsVC_r.js"),__vite__mapDeps([167,1,112,84,117,101,130,111,141,126,127,140,142,143,118]))).WTAEventMainPage})),Qjt=Ee(async()=>({default:(await he(()=>import("./events-CIWsVC_r.js"),__vite__mapDeps([167,1,112,84,117,101,130,111,141,126,127,140,142,143,118]))).ATPEventMainPage})),Xjt=Ee(async()=>({default:(await he(()=>import("./asset-C7boiVE6.js"),__vite__mapDeps([168,1,169,125,122,126,101,127,112,84,109,110,118,58,128,103,111,10,11,79,104,12]))).FinanceAssetRoute})),pEe=T.memo(function(){const t="home-ask-input",[n,r,s]=ESe({csrRedirect:!0}),{isMobileStyle:a}=Oe(),{currentOpenedModal:i}=St(),o=An(),c=aEe(),u=rr(),d=f.useRef(null),m=f.useMemo(()=>o?.get("openSearchModeSelector"),[o])==="true",{mentionTypeaheadOptions:p,inputPlaceholder:g,onTriggerTypeahead:v}=kSe({reason:t,isLazy:!0}),y=f.useMemo(()=>l.jsx(nEe,{}),[]);return l.jsxs(l.Fragment,{children:[l.jsx(J_,{...s,value:n,json:r,querySource:"home",autofocus:!a&&i===null&&!c&&!m,initialLayout:u?"compact":"expanded",minRows:u?1:2,hasShadow:!0,showFileUpload:!0,showIncognitoHint:!0,showSources:!u,autoSuggestPortalTarget:d.current??void 0,autosuggestionsEnabled:!u,dropdownPlacement:u||a?"top":"bottom",headerComponent:y,dropdownClassName:u||a?"shadow-[0_-30px_30px_oklch(var(--background-color-100))]":void 0,useLexical:!0,mentionTypeaheadOptions:p,placeholder:g??s.placeholder,onTriggerTypeahead:v,layoutKey:"home-ask-input",disableModeSelector:u}),l.jsx(gjt,{})]})});pEe.displayName="HomeAskInput";function Zjt(){const e=Rt(),t=f.useCallback(()=>{e.push("/b/home",void 0,"voice to ntp")},[e]);return cn()?l.jsx(T3,{childrenWidth:"none",mobileHeader:!1,children:l.jsx(ujt,{isOpen:!0,onClose:t})}):l.jsx(hw,{to:"/"})}function Jjt(){return cn()?l.jsx(cjt,{}):l.jsx(hw,{to:"/"})}function ePt(){const e=dA();return!cn()||!e?l.jsx(hw,{to:"/"}):l.jsx(mEe,{})}const gEe=T.memo(function(){const{$t:t}=K(),{hasAccessToProFeatures:n}=At(),r=ut(),{actions:{clearCurrentStreamId:s,clearCurrentThreadId:a}}=fr(),{isIOS:i,isWindowsApp:o}=Nt(),{isMobileUserAgent:c,isMobileStyle:u}=Oe(),[d,h]=f.useState(null),{openModal:m}=St(),{handleRequestAccess:p}=OAt(),{trackEvent:g}=Ne(),v=An(),{mwebUpsellWhatsApp:y,loadingMwebUpsellWhatsApp:x}=Gw(),{handleAppDownloadClicked:b}=Ww("mobile-header"),w=Hw({origin:"mobile-header"}),{isLocalhost:_}=Pc(),C=cn(),S=rr(),{openVisitorLoginUpsell:k}=Gr({enabled:!0}),E=f.useRef(null),M=f.useMemo(()=>v?.get("error"),[v]),N=f.useMemo(()=>v?.get("id"),[v]),R=on(),A=f.useRef(!1),P=f.useMemo(()=>!!(v?.get(pd)||v?.get(ELe)==="deep_research"),[v]);DAt(),PAt({reason:"search-inner-home"}),IAt(),f.useEffect(()=>{s(),a()},[s,a]),f.useEffect(()=>{A.current||R.welcomeBackGateImpressions>=kLe||C||r||c||_||UHe()&&BHe()&&(k({origin:rt.WELCOME_BACK,title:t({defaultMessage:"Welcome back!",id:"0MXX5Bf7Ca"}),description:t({defaultMessage:"Log in to continue your journey.",id:"lSkVbenSxm"}),sheetModalVariant:"centered-sheet"}),A.current=!0,R.actions.setWelcomeBackGateImpressions(R.welcomeBackGateImpressions+1))},[C,_,c,r,m,t,R.welcomeBackGateImpressions,R.actions,k]),f.useEffect(()=>{if(M){const F=M,D=N;F===Tx.ThreadAccessNotAllowed&&D?p(D):(Q.info("Error redirect",{errorQueryParam:M}),h(t(ojt[F]))),crt()}},[M,p,N,m,t]);const O=f.useCallback(()=>{if(y){w();return}g("app download button clicked",{origin:"mobile-header"}),b()},[b,w,y,g]),I=f.useMemo(()=>({homepageTitle:t({defaultMessage:"What do you want to know?",id:"CMjGvpa5Fr"})}),[t]),L=f.useMemo(()=>y?GN:i?pR:UN,[y,i]);return l.jsxs(Cxe,{modules:MSe,children:[l.jsx(T3,{childrenWidth:S?"none":"default",mobileHeader:!1,children:l.jsxs("div",{className:"erp-sidecar:px-md sm:px-md md:px-lg isolate mx-auto size-full sm:max-w-screen-md",children:[l.jsxs("div",{className:"relative flex h-full flex-col",children:[l.jsxs(H,{className:"py-md h-headerHeight flex items-center justify-between border-b md:hidden",children:[l.jsxs("div",{className:"gap-x-xs -ml-sm flex items-center",children:[l.jsx(tre,{}),l.jsx(Es,{color:"mixed",isPro:n,size:"small"})]}),l.jsx("div",{className:"gap-x-sm flex items-center",children:c&&!x&&l.jsx(hh,{isSamsungBrowser:!0,isComet:!0,isFirefoxDefaultSearch:!0,children:l.jsx("div",{className:"animate-in fade-in duration-300",children:l.jsx(ye,{size:"small",icon:L,text:t(y?{defaultMessage:"Chat in WhatsApp",id:"jXqSBQcpKC"}:{defaultMessage:"Open in App",id:"fo3x6hDxdZ"}),pill:!0,variant:"primary",onClick:O})})})})]}),l.jsx(lRt,{initialValue:I,children:l.jsxs(H,{className:U("static w-full grow flex-col items-center justify-center md:mt-0 md:flex","z-10"),ref:E,children:[l.jsx("div",{className:"px-md relative flex h-full w-full flex-col justify-center md:h-auto md:px-0",children:l.jsx(k6e,{})}),l.jsxs(im,{children:[l.jsx("div",{className:U("w-full",{"bottom-md absolute":S||u,"bottom-md mb-md animate-in fade-in fill-mode-both slide-in-from-bottom absolute delay-200 duration-300 ease-in-out":S}),children:l.jsx(pEe,{})}),!c&&l.jsx("div",{className:"relative w-full",children:l.jsx("div",{className:"mt-lg absolute w-full",children:l.jsx(mAt,{})})})]})]})})]}),l.jsx(Vu,{isVisible:d!=null,variant:"error",message:d,timeout:7}),!c&&l.jsx(SAt,{})]})}),r&&o&&l.jsx(E6e,{platform:rj.WINDOWSAPP}),P&&l.jsx(b5e,{}),l.jsx(hh,{isSamsungBrowser:!0,isCometSidecar:!0,isFirefoxDefaultSearch:!0,children:l.jsx(jAt,{})})]})});gEe.displayName="InnerHome";const tPt={"/library":fjt,"^\\/search(?:\\/(?<new>new))?(?:\\/(?<uuid>.+))?$":djt,"/b/home":ljt,"/b/speak":Zjt,"/b/zen":Jjt,"/b/mission-control":ePt,"/spaces/templates":mjt,"/spaces/:slug":pjt,"/spaces":hjt,"/page/:slug":VY,"/discover/:topic/:slug":VY,"/discover/:topic":GY,"/discover":GY,"/academic":vjt,"/shopping":yjt,"/crypto":_jt,"/hotels/:slug":xjt,"/perplexify_me":bjt,"/sports/f1/events/:eventId":Sjt,"/sports/f1":Cjt,"/sports/nba/events/:eventId":kjt,"/sports/nba/teams/:teamId":Mjt,"/sports/nba/players/:playerId":Tjt,"/sports/nba":Ejt,"/sports/nfl/events/:eventId":Rjt,"/sports/nfl/teams/:teamId":Ajt,"/sports/nfl/players/:playerId":jjt,"/sports/nfl":Njt,"/sports/championsleague/events/:eventId":Ijt,"/sports/championsleague":Pjt,"/sports/mlb/events/:eventId":Ljt,"/sports/mlb":Ojt,"/sports/cricket/events/:eventId":Djt,"/sports/ipl":Fjt,"/sports/pga/events/:eventId":Bjt,"/sports/pga":Ujt,"/sports/wnba/events/:eventId":Hjt,"/sports/wnba":$jt,"/sports/wta/events/:eventId":Yjt,"/sports/atp/events/:eventId":Qjt,"/sports/ncaam/events/:eventId":Vjt,"/sports/ncaam":qjt,"/sports/ncaaw/events/:eventId":Gjt,"/sports/ncaaw":Kjt,"/travel":wjt,"/finance/all-tickers/:page":zjt,[gI]:Xjt,"/finance":Wjt,"/":gEe},vEe=T.memo(function(){const{firstResult:t}=fr(),{userAgent:n}=Nt(),r=Lt(),s=r?.split("/").pop(),a=f.useMemo(()=>{if(r==="/b/home")return Op({title:"New Tab",userAgent:n,index:!1});const i={slug:t?.thread_url_slug??s,userAgent:n,firstResult:t};return WAt(i)},[t,s,r,n]);return l.jsxs(l.Fragment,{children:[l.jsx(oNe,{children:Object.entries(tPt).map(([i,o])=>l.jsx(iNe,{path:i.startsWith("^")?new RegExp(i):i,children:l.jsx(o,{})},i))}),l.jsx(lEe,{metadata:a})]})});vEe.displayName="Home";const yEe=T.memo(function(){return l.jsxs(x5e,{children:[l.jsx(y5e,{}),l.jsx(vEe,{})]})});yEe.displayName="SpaEntryPoint";const xEe=T.memo(()=>{const{message:e,variant:t,description:n,ctaText:r,ctaOnClick:s,isVisible:a,timeout:i,handleClick:o,closeToast:c,position:u,keyProp:d}=Yn(),h=f.useCallback(()=>{t==="refresh"&&o===void 0?window.location.reload():o&&o()},[t,o]);return l.jsx(Vu,{keyProp:d,isVisible:a,variant:t,message:e,description:n,ctaText:r,ctaOnClick:s,timeout:i,handleClick:h,onTimeout:c,position:u},d)});xEe.displayName="Toasts";const bEe=T.memo(({children:e})=>l.jsx(PBe,{children:e}));bEe.displayName="TooltipStateProvider";const qY="AW-11209402154",nPt="AW-11209402154/Oz8uCISC_PYZEKrOh-Ep",wEe=T.memo(()=>{const{hasConsent:e}=c5e(),n=!!An()?.get(pd),[r,s]=f.useState(!1);return f.useEffect(()=>{if(!r&&e){const a=i=>{if(i.timeRemaining()>0||i.didTimeout){const o=document.createElement("script");o.src=`https://www.googletagmanager.com/gtag/js?id=${qY}`,o.async=!0,document.head.appendChild(o),o.onload=()=>{window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}c("js",new Date),c("config",qY),n&&c("event","conversion",{send_to:nPt}),s(!0)}}else window.requestIdleCallback(a)};"requestIdleCallback"in window?window.requestIdleCallback(a,{timeout:5e3}):a({timeRemaining:()=>1/0,didTimeout:!0})}},[e,n,r]),null});wEe.displayName="GoogleTagManager";var rPt={};const _Ee=T.memo(function(){const{value:t,loading:n}=Rr({flag:"service-worker-enabled",subjectType:"visitor_id",defaultValue:!1});return f.useEffect(()=>{if(rPt.NEXT_PUBLIC_SW_ENABLED_LOCAL){N$();return}if(n)return;const r=ls();r.env&&r.env!=="local"&&t?N$():RZe()},[n,t]),null});_Ee.displayName="CometServiceWorker";const sPt="pplx.hasUpdated",aPt=Math.random()*1e3*60*5,iPt=1e3*60*60,CEe=T.memo(({version:e,idleRefreshDelay:t=aPt})=>{const n=f.useRef(e),{openToast:r}=Yn(),{isWindowsAppPanelView:s}=dm(),{inApp:a}=G1(),{$t:i}=K(),o=cn(),[c,u]=wie(sPt,!1),d=f.useRef(!1),h=qYe();n.current=e;const m=f.useCallback(async()=>{try{if(!d.current){Ou("idle_refresh_check_version");const v=await f5e();d.current=!!(n.current&&v&&n.current!==v)}if(document.hidden||h())return;d.current&&(!o&&u(!0),await m3(),Ou("idle_refresh"),hse("Idle refresh"))}catch{Q.log("Error getting build version")}},[o,u,h]),p=f.useMemo(()=>_i(m,t,{maxWait:iPt,leading:!1,trailing:!0}),[m,t]),g=f.useCallback(()=>{d.current?m():p()},[m,p]);return f.useEffect(()=>{c&&!s&&!a&&(u(!1),r(i({defaultMessage:"Updated to latest version",id:"5SFf7ytcaw"}),"success",4))},[]),f.useEffect(()=>(document.addEventListener("visibilitychange",g),()=>{document.removeEventListener("visibilitychange",g)}),[g]),null});CEe.displayName="IdleRefresh";const SEe=T.memo(function(){const t=Dt(),n=f.useMemo(()=>{if(t)return{id:t.user.id,name:t.user.name,email:t.user.email,isPro:!!t.user.subscription_status&&t.user.subscription_status!=="none"}},[t]);if(!n)return null;const r=t1(globalThis.navigator?.userAgent??"");return l.jsxs(l.Fragment,{children:[l.jsx(KZ,{session:n,isWindowsApp:r}),l.jsx(kJ,{session:n,isWindowsApp:r})]})});SEe.displayName="Instrumentation";const Oi=e=>{try{return JSON.parse(e)}catch{return{}}};function oPt({reason:e}){const t=cn(),n=Vr(),r=rr(),s=f.useCallback(async(a,i)=>{if(Q.info("browserStep",a),a.browser_open_tab_content){const o=a.browser_open_tab_content,c=Oi(o.extra_headers);Q.info("browserTool: browser_open_tab",{tool:o},{request_id:c["X-Request-ID"]}),await LOe({url:o.url,cometBrowser:n,stepUuid:a.uuid,extraHeaders:Oi(o.extra_headers),reason:e})}else if(a.search_browser_content){const o=a.search_browser_content,c=Oi(o.extra_headers);Q.info("browserTool: search_browser",{tool:o},{request_id:c["X-Request-ID"]}),await BOe(o,n,a.uuid,c,e)}else if(a.browser_close_tabs_content){const o=a.browser_close_tabs_content,c=o.payload,u=Oi(o.extra_headers);Q.info("browserTool: browser_close_tabs",{tool:o},{request_id:u["X-Request-ID"]}),await UOe(c,n,a.uuid,u,e)}else if(a.browser_group_tabs_content){const o=a.browser_group_tabs_content,c=o.payloads,u=Oi(o.extra_headers);Q.info("browserTool: browser_group_tabs",{tool:o},{request_id:u["X-Request-ID"]}),await FOe(c,n,a.uuid,u,e)}else if(a.entropy_request_content){const o=a.entropy_request_content,c=o.extra_headers;Q.info("browserTool: entropy_request",{tool:o},{request_id:Oi(c)["X-Request-ID"]}),o.tasks.forEach(u=>n.submitTask({action:"startAgentFromPerplexity",extra_headers:c,base_url:o.base_url,entryId:i,...u,use_current_page:u.use_current_page&&r,capture_screenshot:!u.use_current_page}))}else if(a.get_url_content_content){const o=a.get_url_content_content,c=Oi(o.extra_headers);if(Q.info("browserTool: get_url_content",{tool:o},{request_id:c["X-Request-ID"]}),!t)return;const u={...o,key:a.uuid,request_id:c["X-Request-ID"],pages:[...o.pages||[]]},d=n.GetContent(u);await Xl(d,a.uuid,{request_id:c["X-Request-ID"]},e)}else if(a.browser_ungroup_content?.payload){const o=a.browser_ungroup_content,c=Oi(o.extra_headers),u={groupIds:o.payload.group_ids,tabIds:o.payload.tab_ids},d=n.ungroupTabs(u,a.uuid,c["X-Request-ID"]).then(h=>{if(!h.is_success)throw h;return{group_ids:h.groupIds,tab_ids:h.tabIds}});await Xl(d,a.uuid,{request_id:c["X-Request-ID"]},e)}else if(a.browser_search_tab_groups_content){const o=a.browser_search_tab_groups_content,c=Oi(o.extra_headers),u=n.searchTabGroups(o.payload,a.uuid,c["X-Request-ID"]).then(d=>{if(!d.is_success)throw d;return{results:d.results.map(h=>({...h,color:OJ(h.color)}))}});await Xl(u,a.uuid,{request_id:c["X-Request-ID"]},e)}else if(a.browser_get_visible_tab_screenshot_content){const o=a.browser_get_visible_tab_screenshot_content,c=Oi(o.extra_headers),u=n.GetVisibleTabScreenshot({key:a.uuid,request_id:c["X-Request-ID"],...o}).then(async d=>{const m=await(await fetch(d.data_url)).blob(),p=new File([m],"screenshot."+(o.format??"png"),{type:m.type}),g=await tj({file:p,forceImage:!0,reason:e,fileSource:"entropy"});if(!g||!g?.fields||!g.s3_bucket_url)throw new Error("Failed to create upload URL");const v=new FormData;Object.entries(g.fields).forEach(([b,w])=>{v.append(b,w)}),v.append("file",p);const y=await fetch(g.s3_bucket_url,{method:"POST",body:v});if(!y.ok)throw new Error(`Failed to upload screenshot: ${y.statusText}`);const x=await y.json();if(!x.secure_url)throw Q.error("[GetVisibleTabScreenshot] Upload did not return a secure URL",{response:x}),new Error("Upload did not return a secure URL");return{screenshot_url:x.secure_url}});await Xl(u,a.uuid,{request_id:c["X-Request-ID"]},e)}else Q.error("[useExecuteBrowserTool] Unknown browser tool step",{browserStep:a},{reason:e,backend_uuid:i})},[n,t,r,e]);return f.useMemo(()=>({executeBrowserTool:s}),[s])}const EEe=T.memo(function(){const{executeBrowserTool:t}=oPt({reason:"StreamMiddlewares"}),n=f.useCallback(s=>{if(!s||!s.browser_tool)return s;t(s.browser_tool,s.backend_uuid)},[t]),r=f.useMemo(()=>[n],[n]);return l.jsx(Use,{middlewares:r})});EEe.displayName="StreamMiddlewares";class lPt extends fl{name="PplxStreamError"}const cPt=({reason:e})=>{const t=aI({reason:e}),n=lSe({reason:e});return f.useMemo(()=>{const r=cF([...t.enabledConnectors,...t.enabledFileConnectors,...t.enabledNonFileConnectors].map(a=>a.name)),s=cF([...n.disabledConnectors,...n.disabledFileConnectors].map(a=>a.name));return{enabled:r,disabled:s}},[t,n])},uPt=({fileRepoInfo:e,fileExists:t,reason:n})=>{const{openToast:r}=Yn(),s=Dt(),a=f.useMemo(()=>s?.user?.email??"",[s]),i=ot(),{mutate:o}=nae({fileRepoInfo:e,setTotalFilesUploading:()=>1,replaceExisting:t,reason:n}),{mutateAsync:c}=Jse({fileRepositoryType:e.file_repository_type,offset:0,searchTerm:"",ownerId:e.owner_id,reason:n}),u=f.useCallback(async(h,m)=>{try{if(!h||!m)return;const p=await dYe({thread_uuid:h,format:"md",filename:m,reason:n}),g=atob(p.file_content_64),v=new Array(g.length);for(let w=0;w<g.length;w++)v[w]=g.charCodeAt(w);const y=new Uint8Array(v),x=new Blob([y],{type:"application/md"}),b=new File([x],p.filename,{type:"application/md"});await o([b]),i.setQueryData(["file_exists",e.owner_id,m],!0),t||r("Successfully saved to space","success",3)}catch(p){r(`Failed to save to space: ${p}`,"error",3)}},[o,r,t,e,i,n]),d=f.useCallback(async h=>{try{const p=(await Nx({fileRepositoryType:e.file_repository_type,limit:10,offset:0,searchTerm:"",email:a,ownerId:e.owner_id,reason:n}))?.completedFiles.find(g=>g.name.includes(h??""));if(!p?.file_uuid)return;await c([p.file_uuid]),i.setQueryData(["file_exists",e.owner_id,h],!1),r("File removed from space","success",3)}catch(m){r(`Failed to remove from space: ${m}`,"error",3)}},[c,r,i,e.owner_id,a,n,e.file_repository_type]);return f.useMemo(()=>({saveThreadToSpace:u,removeThreadFromSpace:d}),[d,u])},kEe=({windowsAppOnly:e=!0}={})=>{const[t,n]=f.useState(()=>globalThis.Notification?globalThis.Notification.permission:"denied"),{isWindowsApp:r}=Nt();f.useEffect(()=>{globalThis.Notification&&globalThis.Notification.permission!==t&&n(globalThis.Notification.permission)},[t]);const s=f.useCallback(async()=>{if(globalThis.Notification){if(t==="granted")return!0;if(t==="denied")return!1;const i=await globalThis.Notification.requestPermission();return n(i),i==="granted"}return!1},[t]),a=f.useCallback(async({title:i,body:o,icon:c="https://r2cdn.perplexity.ai/pplx-desktop-icon.png",onClick:u})=>{if(!(e&&!r||!await s())&&globalThis.Notification){const h=new globalThis.Notification(i,{body:o,icon:c});u&&(h.onclick=()=>{u(),window.focus()})}},[e,r,s]);return f.useMemo(()=>({sendNotification:a,requestPermission:s,permission:t,isWindowsApp:r}),[r,t,s,a])},W2="v1",z2="last_results",dPt=e=>({backend_uuid:t,thread_url_slug:n})=>t===e||n===e,fPt=()=>{const e=Ue.getItem(z2);let t={version:W2,results:je};try{e&&(t=JSON.parse(e),t.version!==W2&&(Ue.removeItem(z2),t={version:W2,results:[]}))}catch{Ue.removeItem(z2)}return t.results},KY=e=>Ue.setItem(z2,JSON.stringify({version:W2,results:e})),hPt=e=>{const t=dPt(e.backend_uuid),r=fPt().slice(-49).filter(s=>!t(s));r.push(e),KY(r)||KY([e])},NO=uYe,MEe=NO*10,mPt=MEe*10+NO,a9="all_results",Q$t=({slugOrUUID:e,enabled:t,reason:n})=>{const r=ot(),s=f.useCallback(async(a,i)=>{const o=await EKe({slugOrUUID:a,options:{withParentInfo:!0,withSchematizedResponse:!0,supportedBlockUseCases:[...ree],limit:i?MEe:NO,fromFirst:!0,cursor:i},numRetries:sm,reason:n});if(!o?.entries?.length||o.status!=="success")return[];const c=[a9,a];r.setQueryData(c,d=>{const h=o.entries,m=new Set(d?.map(g=>g.backend_uuid)),p=h.filter(g=>!m?.has(g.backend_uuid));return[...d??[],...p]});const u=r.getQueryData(c)??[];return o.next_cursor&&u.length<mPt&&s(a,o.next_cursor),u},[n,r]);return at({queryKey:[a9,e],enabled:!!e&&t,retry:!1,queryFn:async({queryKey:a})=>await s(a[1])})},pPt=()=>{const e=ot();return f.useCallback(t=>{if(!t.length)return;const n=t[0],r=n.thread_url_slug??n.backend_uuid;hPt(n),e.setQueryData([a9,r],t)},[e])};function gPt({reason:e}){const{setIsCopilot:t,gpt4Limit:n,setGPT4Limit:r,pplxAlphaLimit:s,setPplxAlphaLimit:a,pplxBetaLimit:i,setPplxBetaLimit:o,setAskInputReasoningMode:c}=Qn(),{trackEvent:u}=Ne(),d=f.useCallback(async()=>{try{const m=(await J.GET("/rest/rate-limit/all",e)).data;if(!m)throw new Error("No data returned from rate limit check");const p=m.remaining_pro??0,g=m.remaining_research??0,v=m.remaining_labs??0;n>0&&m.remaining_pro!==null&&p<=0&&u("pro rate limit reached",{}),s>0&&m.remaining_research!==null&&g<=0&&u("pplx alpha rate limit reached",{}),i>0&&m.remaining_labs!==null&&v<=0&&u("pplx beta rate limit reached",{}),r(p),a(g),o(v),p<=0&&(c(!1),t(!1))}catch(h){Q.error("Failed to check rate limit",h)}},[n,r,s,a,i,o,c,t,u,e]);return f.useCallback(()=>{d()},[d])}const vPt=async({query:e,language:t,queryClient:n,reason:r})=>{try{const i=(await(await MJ({resource:"https://suggest.perplexity.ai/search/v2/navigate",method:"POST",options:{headers:{"content-type":"application/json","X-Client-Name":"agi_ui_navigate_v2","X-Client-Env":"production"}},body:JSON.stringify({query:e,user_identity:{lang:t}}),timeoutMs:1e3,reason:r})).json())?.hit;i&&n.setQueryData(["navigationResults",e],i)}catch(s){Q.error("Failed to fetch navigational search results:",s)}},yPt=25,xPt=()=>{const e=ot();return f.useCallback(({query:t,params:n,reason:r})=>{const s=t.length<=yPt,a=n.mode==="copilot",i=!!n.last_backend_uuid,o=n.attachments,c=n.sources;s&&!a&&!i&&o.length===0&&c&&c.length>0&&vPt({query:t,language:n.language,queryClient:e,reason:r})},[e])};function bPt({lastResponse:e,backend_uuid:t,trackEvent:n,notificationText:r,sendNotification:s,cometAdapter:a}){if(!t)return Q.error(new Error("No backend_uuid found in response")),!1;if(!e)return Q.error(new Error("No last response found in query client")),!1;(Ts(e.display_model)===ue.RESEARCH||Ts(e.display_model)===ue.STUDIO)&&r&&s&&document.visibilityState!=="visible"&&s({title:r,body:e.query_str,onClick:()=>{window.focus()}}),e.blocks.filter(o=>o.intended_usage?.endsWith("_markdown")).forEach(o=>{o.markdown_block?.media_items&&n&&o.markdown_block?.media_items.forEach(c=>{n("inline image rendered",{image_url:c.image,entryUUID:t})})});const i=e.blocks.find(o=>o.intended_usage==="knowledge_cards")?.knowledge_card_block?.knowledge_cards?.[0];return i&&n&&n("knowledge card in results",{entryUUID:t,name:i.title,id:i.id,type:i.card_type}),a?.setTabProgress(!1),a?.showNotification(),!0}const TEe=T.memo(function(){const t="stream-side-effects",n=Rt(),r=cn(),s=Dt(),{trackEvent:a}=Ne(),{$t:i}=K(),o=t1(globalThis.navigator?.userAgent),{sendNotification:c}=kEe({windowsAppOnly:!1}),u=wxe(),d=xPt(),{addKeyRequiringRerender:h}=Ic(),m=ls(),p=Vr(),{fileRepoInfo:g}=Cd({reason:t}),{firstResult:{thread_url_slug:v}={}}=fr(),{data:y}=vSe({fileRepoInfo:g,fileName:v??"",reason:t}),{saveThreadToSpace:x}=uPt({fileRepoInfo:g,fileExists:y??!0,reason:t}),b=pPt(),{resetInput:w,restoreInput:_}=J1(),C=rI(),S=f.useRef(C);S.current=C;const k=cPt({reason:t}),E=ot(),M=gPt({reason:t}),{updateLocalStatePostStream:N}=Bc();return f.useLayoutEffect(()=>gr.on("created",async({stream:R,query:A,params:P})=>{if(R.isReconnect||!A||!P)return;const O=gl(),I=o?Of:m.erp??void 0;Y$e(R.id,{name:"perplexity_ask",queryStr:A,queryParams:P,isFollowup:r8(P)&&(P.query_source==="followup"||P.query_source==="followup-sidecar"),isPerplexityBrowser:r,frontendUUID:P.frontend_uuid??"",session:s,browserVersion:O?.browser_version,source:I,connectors:k,mentions:"mentions"in P?P.mentions:[]}),p?.setTabProgress(!0)}),[r,o,s,k,m.erp,p]),f.useLayoutEffect(()=>gr.on("progress",({stream:R,message:A})=>{const{blocks:P,status:O}=A,I=P?.some(D=>!!D?.markdown_block?.chunks?.length),L=P?.some(D=>!!D?.web_result_block?.web_results?.length),F=P?.some(D=>!!D?.sources_mode_block?.rows?.length);if(I&&R.timer.addTimingOnce("web.frontend.first_llm_token_seen"),L&&R.timer.addTimingOnce("web.frontend.first_search_results_seen"),F&&R.timer.addTimingOnce("web.frontend.first_sources_seen"),A.telemetry_data){const{has_displayed_search_results:D,has_first_output_token:B,has_first_token:$,has_widget_data:W,country:X,is_followup:ee,source:ne,engine_mode:V,search_implementation_mode:q}=A.telemetry_data,z={country:X,is_followup:ee,source:ne,engine_mode:V,search_implementation_mode:q};D&&R.timer.addTimingOnce("web.frontend.first_search_results_latency_ms",z),B&&R.timer.addTimingOnce("web.frontend.first_output_token_latency_ms",z),$&&R.timer.addTimingOnce("web.frontend.first_token_latency_ms",z),W&&R.timer.addTimingOnce("web.frontend.first_widget_data_latency_ms",z)}B$e(R.id,{hasLLMToken:I,hasSearchResults:L,hasSources:F},s??void 0),O===Cs.FAILED&&Q.error(new lPt("STREAM_FAILED_CHUNK_ERROR"),{message:A})}),[s]),f.useLayoutEffect(()=>gr.on("progress",({stream:R,isFirstMessage:A})=>{A&&R.placeholderChunk&&R.placeholderChunk.query_source&&!S.current&&w()}),[w]),f.useLayoutEffect(()=>gr.on("completed",({stream:R})=>{const A=ls(),P=o?Of:A.erp??void 0;qU(R.id,{name:"SUCCESSFUL response",session:s,source:P})}),[s,o]),f.useLayoutEffect(()=>gr.on("completed",({stream:R,thread:A})=>{if(!R.threadId||!R.entryId)return;b(A);const P=A?.find(I=>I?.uuid===R.id.description||I?.backend_uuid===R.entryId);let O;Ts(P?.display_model)===ue.RESEARCH?O=i({defaultMessage:"Your report is ready",id:"CEIDgftq5U"}):Ts(P?.display_model)===ue.STUDIO&&(O=i({defaultMessage:"Your project is ready",id:"UXOU5ST+Nc"})),bPt({lastResponse:P,backend_uuid:R.entryId,trackEvent:a,sendNotification:c,notificationText:O,cometAdapter:p})}),[i,a,c,b,p]),f.useLayoutEffect(()=>gr.on("completed",async({stream:R})=>{!v||!R.entryId||y&&await x(R.entryId,v)}),[y,x,v]),f.useLayoutEffect(()=>{const R=({stream:O})=>{const{id:I}=O,L=ls(),F=o?Of:L.erp??void 0,$=new URL(window.location.href).pathname.replace("/search/new/","");qU(I,{name:"FAILED response",session:s,source:F}),$===I.description&&(_(),n.replace(`/?error=${Tx.ThreadStreamError}`,"StreamSideEffects")),p?.setTabProgress(!1)},A=gr.on("error",R),P=gr.on("aborted",R);return()=>{A(),P()}},[s,o,_,n,p]),f.useLayoutEffect(()=>gr.on("created",({query:R,params:A,stream:{isReconnect:P,id:O}})=>{if(!(!R||!A||P||!r8(A))){if(r){u(R,{model_preference:A.model_preference,last_backend_uuid:"last_backend_uuid"in A?A.last_backend_uuid:void 0,sources:A.sources},O.description);return}d({query:R,params:A,reason:"streamEvents.on(created)"})}}),[u,d,r]),f.useEffect(()=>{const R=[gr.on("completed",({stream:A})=>{p.cleanupTasks(A.entryId)}),gr.on("aborted",({stream:A})=>{p.cleanupTasks(A.entryId)}),gr.on("error",({stream:A})=>{p.cleanupTasks(A.entryId)})];return()=>{R.forEach(A=>A())}},[p]),f.useEffect(()=>gr.on("completed",async({message:R,thread:A})=>{if(!R||(N(R),R.collection_info?.slug&&E.invalidateQueries({queryKey:[Yo,{collection_slug:R.collection_info.slug.slice(-22)}]}),M(),Ize(R.thread_url_slug)))return;const P=!!R.parent_info,O=A.findIndex(I=>I.uuid===R.uuid)>0;(P||!O)&&(h("floating-signup"),E.invalidateQueries({queryKey:[Hu],refetchType:"all"}))}),[E,o,h,M,N]),null});TEe.displayName="StreamSideEffects";const{Provider:wPt,useSelector:_Pt,useTrackedState:CPt}=nm("LocalPropsProvider",()=>bi(e=>({tasksModeFocusStepUUID:void 0,actions:{setTasksModeFocusStepUUID:t=>{e({tasksModeFocusStepUUID:t})}}}))),X$t=()=>_Pt(e=>e.actions),Z$t=CPt,SPt=({reason:e})=>{const{safeWindowsIpcPublish:t}=M_(),{actions:n}=on(),{isWindowsApp:r}=Nt(),s=ut(),{isPro:a}=At(),{DEFAULT_SOURCES:i}=iI({reason:e}),o=f.useRef(n),c=f.useRef(t);f.useEffect(()=>{o.current=n,c.current=t},[n,t]);const u=f.useCallback(()=>{oo("/?voice-mode=true","Voice mode")},[]),d=f.useCallback(()=>{oo("/?v2v=true","V2V mode")},[]),h=f.useCallback(g=>{const v=g.searchParams,y=v.get("q"),x=v.get("incognito"),w=(v.get("sources")??"").split(",").map(S=>S.trim()).filter(l3),_=v.get("search_mode"),C=_?xKe[_]:void 0;x!==null&&o.current.setIsIncognito(x==="true"),w&&t(zl,{type:zl,sources:w}),C?.model&&C?.mode&&t(wf,{type:wf,model:C.model,searchMode:C.mode}),y&&c.current(nee,{query:y,promptSource:"user",querySource:"windows-app-shortcut",incognitoOverride:x,sourcesOverride:w??[]})},[t]),m=f.useCallback(g=>{const v=g.searchParams,y=v.get("type"),x=v.get("callback");if(!y||!x)return;const b=y.split(","),w=new URLSearchParams;b.forEach(C=>{switch(C){case"sources":w.set("sources",Array.from(i).join(","));break;case"search-modes":w.set("search-modes",Object.values(ue).join(","));break;case"sign-in":w.set("sign-in",s?"true":"false");break;case"subscription":w.set("subscription",a?"true":"false");break}});const _=`${x}?${w.toString()}`;window.open(_,"_blank")},[s,a,i]),p=f.useMemo(()=>new Map([["voice-mode",u],["v2v",d],["search",g=>h(g)],["request",g=>m(g)]]),[u,d,h,m]);f.useEffect(()=>{if(!r)return;const g=lZe("openProtocolURL",(y,x)=>{const b=new URL(x.url);for(const[w,_]of p)if(b.toString().includes(w)){x.preventDefault(),_(b);break}}),v=async()=>{await(await g)()};return()=>{v()}},[r,p])};function EPt(e,t){const n=f.useRef(null),r=f.useRef(!0),s=f.useMemo(()=>Math.floor(Math.random()*(t.jitterSeconds??0)),[t.jitterSeconds]);f.useEffect(()=>{const a=()=>{const i=new Date;let o;if(t.type==="daily"){const u=t.hour??0,d=t.minute??0;o=new Date(i.getFullYear(),i.getMonth(),i.getDate(),u,d,s),(i.getHours()>u||i.getHours()===u&&i.getMinutes()>=d)&&o.setDate(o.getDate()+1)}else o=new Date(i.getTime()+(t.intervalMs??0));const c=o.getTime()-i.getTime();n.current&&clearTimeout(n.current),n.current=setTimeout(async()=>{await e(),a()},c)};return r.current&&t.runImmediately&&e(),r.current=!1,a(),()=>{n.current&&clearTimeout(n.current)}},[e,t,s])}const kPt=({reason:e})=>{const t=K(),{sendNotification:n}=kEe({windowsAppOnly:!0}),{value:r,loading:s}=Vw({flag:"windows-app-milestone-check-config",defaultValue:DF}),{isWindowsApp:a}=Nt(),i=Lt(),o=a&&!i?.includes(ch),c=f.useMemo(()=>{if(s)return DF;const u=r;return{type:"daily",hour:u.hour,minute:u.minute,runImmediately:!0,jitterSeconds:60*30}},[r,s]);EPt(async()=>{if(!o)return;const u=await Gie({platform:rj.WINDOWSAPP,reason:e}),d=Ue.getItem(FF)==="true";if(Ue.setItem(DLe,new Date().toISOString()),u?.has_incentive&&!d&&u?.usage_count){n({title:t.formatMessage({defaultMessage:"You did it!",id:"ccISkSq0YZ"}),body:t.formatMessage({defaultMessage:"You have used Perplexity {days, plural, one {# day} other {# days}} in a row! Enjoy a month of Pro on us!",id:"lo/RUQQ62/"},{days:u.usage_count})}),Ue.setItem(FF,"true");return}if(!u?.has_incentive&&u?.usage_count){try{const h=JSON.parse(Ue.getItem(UF)||"{}");(!h?.usage_count||h?.usage_count&&u?.usage_count&&h.usage_count===u.usage_count)&&n({title:t.formatMessage({defaultMessage:"Keep up the streak!",id:"MBHkTiVC+w"}),body:t.formatMessage({defaultMessage:"You haven't used Perplexity today. Ask a question to stay on track for a free pro",id:"lwdxliVuXr"})})}catch(h){Q.warn("Error checking last response",h)}Ue.setItem(UF,JSON.stringify(u))}},c)},MPt=()=>{const{handleShowPanel:e}=dm(),t=S8(c=>c.setShortcut),{getMainWindowRef:n}=TPt(),r=S8(c=>c.globalShortcuts),s=f.useCallback(async()=>{const c=await n();if(!c)return;await UA({ref:c}),await FA({ref:c});const u=new CustomEvent("toggleVoiceToVoice");document.dispatchEvent(u)},[n]),a=f.useCallback(async(c,u)=>{try{const d=Array.isArray(c)?c.join("+"):c;let h;switch(u){case Lr.NEW_THREAD:h=e;break;case Lr.TOGGLE_V2V:h=s;break;default:return Q.warn(`No handler registered for shortcut type: ${u}`),!1}return d&&d.trim()!==""&&await Z5(d),await gZe(d,h),!0}catch(d){return Q.warn("Error registering shortcut:",d),!1}},[e,s]),i=f.useCallback(async(c,u,d)=>{try{const h=c.join("+"),m=u.join("+");if(h===m)return;h&&h.trim()!==""&&await Z5(h),await a(m,d)&&t(d,pn.WINDOWS,u)}catch(h){Q.error("Error updating global shortcut:",h)}},[a,t]),o=f.useCallback(async c=>{const u=c.join("+");u&&u.trim()!==""&&await Z5(u)},[]);return f.useMemo(()=>({shortcuts:r,registerShortcut:a,updateGlobalShortcut:i,unregisterShortcut:o}),[a,r,o,i])},NEe=f.createContext(null),TPt=()=>{const e=f.useContext(NEe);if(!e)throw new Error("useWindowsApp must be used within WindowsAppProvider");return e},NPt=()=>{const e=f.useRef(null);return{getMainWindowRef:f.useCallback(async()=>(e.current||(e.current=(async()=>{let n=await M$({id:"TJmK6yKBLiw389HLDdYy5"});return n||(n=await M$({id:"C195F2RyYDhfB93QW7vui"})),n})()),e.current),[])}},RPt=({children:e,getMainWindowRef:t})=>{const n="windows-app-provider-inner",{isWindowsApp:r}=Nt(),s=Lt(),a=r&&!s?.includes(ch),{submitQuery:i}=Bc(),{isCopilot:o}=Qn(),{createPanelWindow:c,hidePanel:u}=dm(),d=ut(),h=f.useRef(i),m=f.useRef(o),{safeWindowsIpcSubscribe:p}=M_();f.useEffect(()=>{h.current=i},[i]),SPt({reason:n}),f.useEffect(()=>{m.current=o},[o]),kPt({reason:n});const{shortcuts:g,registerShortcut:v,unregisterShortcut:y}=MPt();f.useEffect(()=>{a&&(c(),u())},[a,c,u]);const x=f.useCallback(async b=>{const w=async(k=500)=>{const E=new AbortController,M=setTimeout(()=>E.abort(),k);try{const N=new Promise(R=>{c8().then(A=>{if(A){clearTimeout(M),R(!0);return}Sp("show",()=>{clearTimeout(M),R(!0)})})});return await Promise.race([N,new Promise(R=>{E.signal.addEventListener("abort",()=>R(!1))})])}catch(N){return Q.warn("Error ensuring window is ready",{error:N}),!1}finally{clearTimeout(M);try{u8("show")}catch(N){Q.warn("Error removing show listeners during cleanup",N)}}},_=await t();if(await UA({ref:_}),await FA({ref:_}),!await w())return;const C=b.query.trim();if(!C?.trim())return;const S=ja();h.current({rawQuery:C,copilotOverride:m.current?!0:void 0,attachments:b.attachments,collection:null,newFrontendContextUUID:S,promptSource:b.promptSource??"user",querySource:b.querySource??"home",timeFromFirstType:b.timeFromFirstType,shouldRedirectToBackendUUID:!0})},[t]);return f.useEffect(()=>{if(!a)return;const b=p(nee,w=>{x(w)});return()=>{b?.()}},[a,x,p]),f.useEffect(()=>{if(!a)return;const b=[Lr.NEW_THREAD,...d?[Lr.TOGGLE_V2V]:[]];return b.forEach(w=>{const C=g[w][pn.WINDOWS].map(p$);v(C,w)}),()=>{b.forEach(w=>{const C=g[w][pn.WINDOWS].map(p$);y(C)})}},[v,a,g,d,y]),l.jsx(l.Fragment,{children:e})},APt=({children:e})=>{const{getMainWindowRef:t}=NPt(),n=f.useMemo(()=>({getMainWindowRef:t}),[t]);return l.jsx(NEe.Provider,{value:n,children:l.jsx(zat,{children:l.jsx(RPt,{getMainWindowRef:t,children:e})})})},zc=e=>e?.includes("perplexity.ai"),jPt=e=>e?.includes("localhost"),PPt=e=>zc(e)&&e?.includes("preview"),IPt=e=>zc(e)&&e?.includes("staging"),OPt=e=>zc(e)&&(e?.includes("alpha")||e?.includes("beta")),LPt=e=>zc(e)&&e?.includes("testing"),DPt=e=>zc(e)&&e?.includes("askdev"),FPt=e=>zc(e)&&e?.startsWith("dev"),UPt=e=>zc(e)&&(e?.includes("klarna")||e?.includes("inhouse")||e?.includes("wolfram")||e?.includes("ftrouter")||e?.includes("ft")||e?.includes("brave")||e?.includes("claude2")||e?.includes("claude1-instant")||e?.includes("claude2-instant")||e?.includes("shopping")||e?.includes("turbo16k")||e?.includes("yelp")||e?.includes("mobile-flag-dev")),BPt=e=>zc(e)&&!PPt(e)&&!LPt(e)&&!OPt(e)&&!DPt(e)&&!FPt(e)&&!UPt(e);function REe(){return BPt(window.location.hostname)?"beta":IPt(window.location.hostname)?"staging":jPt(window.location.hostname)?"local":"testing"}const $Pt=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1},{property:"errors",enumerable:!1}],i9=new WeakSet,HPt=e=>{i9.add(e);const t=e.toJSON();return i9.delete(e),t},AEe=({from:e,seen:t,to:n,forceEnumerable:r,maxDepth:s,depth:a,useToJSON:i,serialize:o})=>{if(n||(Array.isArray(e)?n=[]:n={}),t.push(e),a>=s)return n;if(i&&typeof e.toJSON=="function"&&!i9.has(e))return HPt(e);const c=u=>AEe({from:u,seen:[...t],forceEnumerable:r,maxDepth:s,depth:a,useToJSON:i,serialize:o});for(const[u,d]of Object.entries(e)){if(d&&d instanceof Uint8Array&&d.constructor.name==="Buffer"){n[u]="[object Buffer]";continue}if(d!==null&&typeof d=="object"&&typeof d.pipe=="function"){n[u]="[object Stream]";continue}if(typeof d!="function"){if(!d||typeof d!="object"){try{n[u]=d}catch{}continue}if(!t.includes(e[u])){a++,n[u]=c(e[u]);continue}n[u]="[Circular]"}}for(const{property:u,enumerable:d}of $Pt)e[u]!==void 0&&e[u]!==null&&Object.defineProperty(n,u,{value:jEe(e[u])||Array.isArray(e[u])?c(e[u]):e[u],enumerable:!0,configurable:!0,writable:!0});return n};function WPt(e,t={}){const{maxDepth:n=Number.POSITIVE_INFINITY,useToJSON:r=!0}=t;return typeof e=="object"&&e!==null?AEe({from:e,seen:[],forceEnumerable:!0,maxDepth:n,depth:0,useToJSON:r,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function jEe(e){return!!e&&typeof e=="object"&&typeof e.name=="string"&&typeof e.message=="string"&&typeof e.stack=="string"}class au{static GC_TIME=1e3*60*5;static STALE_TIME=1/0;static retryDelay(t,n){return Math.min(t>1?2**t*1e3:1e3,30*1e3)}static retryQuery(t,n){return!1}static retryMutation(t,n){return!1}}function zPt(){return Au?YY():(FE||(FE=YY()),FE)}function YY(){return new jke({queryCache:new $Q({onError:e=>{const t=e instanceof Zs?e:new Zs("FETCHER_UNKNOWN_ERROR",{details:{cause:WPt(e)},cause:jEe(e)?e:void 0});Q.error(t)}}),mutationCache:new WQ({onError:e=>{Q.error("Mutation error",e)}}),defaultOptions:{queries:{staleTime:au.STALE_TIME,gcTime:au.GC_TIME,refetchOnReconnect:!0,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:au.retryQuery,retryDelay:au.retryDelay,throwOnError:!1,networkMode:"online"},mutations:{gcTime:au.GC_TIME,retry:au.retryMutation,retryDelay:au.retryDelay,throwOnError:!1,networkMode:"online"}}})}let FE;Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>QOt),void 0)).RenderToolbar}),{prefetch:!1});Ee(async()=>({default:(await he(()=>Promise.resolve().then(()=>ZOt),void 0)).ReactQueryDevtools}),{prefetch:!1});const VPt=({children:e,hostname:t,version:n,spaRoutes:r,strictSpa:s,shouldOpenNonSpaRouteInNewTab:a,base:i})=>{const o=Lt(),c=zPt(),{colorScheme:u}=on();return g6t(),f.useEffect(()=>{!n&&["beta","staging"].includes(REe())&&Q.error("Version is not set")},[n]),l.jsx(HZ,{ssrPath:o??"/",ssrSearch:"",base:i,children:l.jsx(Hee,{spaRoutes:r,strictSpa:s,openNonSpaRouteInNewTab:a,children:l.jsx(Eft,{children:l.jsxs(T5t,{children:[l.jsx(SEe,{}),l.jsx($tt,{children:l.jsxs(Fke,{client:c,children:[l.jsx(Ene,{userPreferredColorScheme:u,children:l.jsx(Gae,{children:l.jsx(CWe,{hostname:t,children:l.jsx(zYe,{children:l.jsx(CQe,{children:l.jsx(wtt,{shouldFetchSettings:!0,children:l.jsx(oWe,{children:l.jsx(bEe,{children:l.jsx(xse,{children:l.jsx(Bft,{shouldFetchSettings:!1,children:l.jsxs(APt,{children:[l.jsx(wPt,{children:l.jsx(Xst,{children:l.jsx(YZ,{children:l.jsx(m2e,{children:l.jsx(iEt,{children:l.jsxs(Xit,{children:[l.jsx(CEe,{version:n}),l.jsx(TEe,{}),l.jsx(EEe,{}),typeof window<"u"&&l.jsx(u4e,{}),l.jsx(_Ee,{}),e]})})})})})}),l.jsx(xEe,{})]})})})})})})})})})})}),!1,l.jsx(wEe,{})]})})]})})})})},PEe=T.memo(function({error:t}){f.useEffect(()=>{Q.error(t,{digest:t.digest,globalError:!0})},[t]);const n=f.useCallback(r=>{r.preventDefault(),oo("/sidecar","sidecar error")},[]);return l.jsx("div",{className:"bg-offset flex h-[100vh] items-center justify-center",children:l.jsxs(H,{variant:"offset",className:"space-y-md p-lg rounded-md",children:[l.jsx("div",{className:"max-w-[400px]",children:l.jsx(j,{className:"text-center",variant:"section-title",children:t.digest?`Internal Error (${t.digest})`:"Internal Error"})}),l.jsx(j,{className:"text-center underline",variant:"section-title",color:"light",children:l.jsx(it,{href:"/sidecar",onClick:n,children:"Return home"})})]})})});PEe.displayName="GlobalError";const GPt={},RO=T.memo(({locale:e,children:t,messages:n=GPt})=>{const r=f.useCallback(s=>{s.code!=="MISSING_TRANSLATION"&&Q.error(s)},[]);return l.jsx(tke,{locale:e,defaultLocale:gc,messages:n,onError:r,children:t})});RO.displayName="TranslationsProvider";const qPt=J0(l$e),IEe=T.memo(({locale:e,children:t})=>{const{translations:n,matchedLocale:r}=f.use(qPt(e));return l.jsx(RO,{locale:r,messages:n,children:t})});IEe.displayName="InnerClientTranslationsProvider";const KPt={},OEe=T.memo(({children:e,shouldSetHtmlLang:t=!0})=>{const n=f.useMemo(()=>ao(),[]);return f.useLayoutEffect(()=>{t&&(document.documentElement.lang=n)},[n,t]),n===gc?l.jsx(RO,{locale:n,messages:KPt,children:e}):l.jsx(f.Suspense,{fallback:null,children:l.jsx(IEe,{locale:n,children:e})})});OEe.displayName="ClientTranslationsProvider";const YPt=f.createContext(void 0),QPt=Ee(async()=>({default:(await he(()=>import("./DebugModeActivator-BTkthS0d.js"),__vite__mapDeps([170,1]))).DebugModeActivator})),LEe=T.memo(({children:e})=>{const[t,n]=f.useState(!1),r=dA(),s=f.useMemo(()=>({debugEnabled:t}),[t]);return l.jsxs(YPt.Provider,{value:s,children:[e,r&&l.jsx(QPt,{setDebugEnabled:n,isDebugMode:t})]})});LEe.displayName="DebugModeProvider";const XPt=(e,t)=>t?.includes("WindowsApp")?!0:e==="true",ZPt=e=>e==="light"||e==="dark";function JPt(e,{userAgent:t}={}){const n=e.colorScheme,r=ZPt(n)?n:null;let s=e[MM],a={};try{a=JSON.parse(e[cne]??"{}")}catch{}const i=Object.values(ue).includes(s);(!s||!i)&&(s=ue.SEARCH);const o=e[Kte];return{colorScheme:r,isCollapsed:XPt(e.isCollapsed,t),isSidebarPinned:e.isSidebarPinned==="true",sidebarHiddenHubs:JSON.parse(e.sidebarHiddenHubs??"[]"),isIncognitoLocal:e[CR]==="true",isDiscoverInterestBoxDismissed:o?o==="true":void 0,isEnterpriseAdDismissed:e[Yte]=="true",isSplashPageDismissed:e[Qte]=="true",isSuggestionsDisabled:e[Xte]=="true",isHomepageWidgetsDisabled:e[Zte]=="true",isSportsIosCtaDismissed:e[ene]=="true",preferredSearchMode:s,preferredSearchModels:a,welcomeBackGateImpressions:Number(e[tne])||0,shareGateImpressions:Number(e[nne])||0,isSidebarConnectorsAdDismissed:e[rne]=="true",isStudentReferralBannerDismissed:e[sne]=="true"}}const eIt=60*60*24;function tIt({children:e,session:t}){return l.jsx(Oa.SessionProvider,{session:t,refetchInterval:eIt,children:e})}const DEe=T.memo(({host:e,userAgent:t,children:n,session:r})=>{const s=f.useMemo(()=>JPt(ake(),{userAgent:t}),[t]);return l.jsx(OEe,{children:l.jsx(tIt,{session:r,children:l.jsx(wne,{hostname:e,children:l.jsx($J,{userAgent:t,children:l.jsx(qze,{initialLocalUserSettings:s,children:l.jsx(LEe,{children:n})})})})})})});DEe.displayName="RootProviders";const FEe="pplx-next-auth-session";let e2=null;const nIt=()=>{try{const e=Ue.getItem(FEe);return e?JSON.parse(e):null}catch{return null}},QY=async e=>{e&&Ue.setItem(FEe,JSON.stringify(e))},rIt=(e=!1)=>{e2??=Oa.getSession().then(n=>(QY(n),n)).catch(n=>{throw QY(null),n}).finally(()=>{e2=null});const t=nIt();return t&&(e||new Date(t.expires)>new Date)?{cachedSession:t,sessionFetchPromise:e2}:{cachedSession:null,sessionFetchPromise:e2}};function sIt(){const{cachedSession:e,sessionFetchPromise:t}=rIt(!0),n=tl(),r=document.querySelector("meta[name='version']")?.getAttribute("content")||"",s=new URL(window.location.href);return{cachedSession:e,sessionFetchPromise:t.catch(a=>(console.error("Error getting session",a),null)),config:{env:REe(),version:r,erp:s.pathname.startsWith("/sidecar")?"sidecar":n?"tab":void 0}}}const aIt=document.getElementById("root"),iIt=nke.createRoot(aIt),oIt=navigator.userAgent;function XY(e,t){v5e(e,t?.user),iIt.render(l.jsx(T.StrictMode,{children:l.jsx(La,{fallback:PEe,children:l.jsx(DEe,{host:window.location.hostname,userAgent:oIt,session:t??void 0,children:l.jsxs(VPt,{isMobileUserAgent:cIt,hostname:uIt??"",version:e.version,spaRoutes:v6t,strictSpa:!0,children:[l.jsx(BSt,{children:l.jsx(yEe,{})}),l.jsx(h6t,{})]})})})}))}const{config:o9,cachedSession:ZY,sessionFetchPromise:lIt}=sIt();window.__PPL_CONFIG__=o9;const cIt=FJ(navigator.userAgent),uIt=window.location.host;ZY?XY(o9,ZY):lIt.then(e=>{XY(o9,e)});var UE={},JY;function dIt(){return JY||(JY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-exclamation",r=512,s=512,a=["exclamation-circle"],i="f06a",o="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCircleExclamation=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(UE)),UE}var J$t=dIt();function eHt(e,t){return!NA(e.user_permission)||e.title!=="Bookmarks"?e.title:t({defaultMessage:"Bookmarks",id:"nGBrvwYczX"})}var BE={},eQ;function fIt(){return eQ||(eQ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="bookmark",r=384,s=512,a=[128278,61591],i="f02e",o="M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faBookmark=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(BE)),BE}var tHt=fIt(),$E,tQ;function nHt(){if(tQ)return $E;tQ=1,$E=e,e.displayName="markup",e.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function e(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(r,s){var a={};a["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[s]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};i["language-"+s]={pattern:/[\s\S]+/,inside:t.languages[s]};var o={};o[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(n,r){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:t.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}return $E}var HE,nQ;function rHt(){if(nQ)return HE;nQ=1,HE=e,e.displayName="css",e.aliases=[];function e(t){(function(n){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var s=n.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))})(t)}return HE}var WE,rQ;function sHt(){if(rQ)return WE;rQ=1,WE=e,e.displayName="clike",e.aliases=[];function e(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}return WE}var zE,sQ;function aHt(){if(sQ)return zE;sQ=1,zE=e,e.displayName="javascript",e.aliases=["js"];function e(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}return zE}var VE,aQ;function iHt(){if(aQ)return VE;aQ=1,VE=e,e.displayName="sql",e.aliases=[];function e(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}return VE}var GE,iQ;function hIt(){if(iQ)return GE;iQ=1,GE=e,e.displayName="c",e.aliases=[];function e(t){t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}return GE}var qE,oQ;function oHt(){if(oQ)return qE;oQ=1;var e=hIt();qE=t,t.displayName="cpp",t.aliases=[];function t(n){n.register(e),function(r){var s=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,a=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return s.source});r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return s.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:s,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return a})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])}(n)}return qE}var KE,lQ;function lHt(){if(lQ)return KE;lQ=1,KE=e,e.displayName="bash",e.aliases=["shell"];function e(t){(function(n){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",s={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:s,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:s}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},s.inside=n.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=a.variable[1].inside,c=0;c<i.length;c++)o[i[c]]=n.languages.bash[i[c]];n.languages.shell=n.languages.bash})(t)}return KE}var YE,cQ;function cHt(){if(cQ)return YE;cQ=1,YE=e,e.displayName="basic",e.aliases=[];function e(t){t.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}return YE}var QE,uQ;function uHt(){if(uQ)return QE;uQ=1,QE=e,e.displayName="ruby",e.aliases=["rb"];function e(t){(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var r={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var s="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",a=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+s+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+a),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+a+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+s),greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+s),greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(t)}return QE}var XE,dQ;function dHt(){if(dQ)return XE;dQ=1,XE=e,e.displayName="markupTemplating",e.aliases=[];function e(t){(function(n){function r(s,a){return"___"+s.toUpperCase()+a+"___"}Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(s,a,i,o){if(s.language===a){var c=s.tokenStack=[];s.code=s.code.replace(i,function(u){if(typeof o=="function"&&!o(u))return u;for(var d=c.length,h;s.code.indexOf(h=r(a,d))!==-1;)++d;return c[d]=u,h}),s.grammar=n.languages.markup}}},tokenizePlaceholders:{value:function(s,a){if(s.language!==a||!s.tokenStack)return;s.grammar=n.languages[a];var i=0,o=Object.keys(s.tokenStack);function c(u){for(var d=0;d<u.length&&!(i>=o.length);d++){var h=u[d];if(typeof h=="string"||h.content&&typeof h.content=="string"){var m=o[i],p=s.tokenStack[m],g=typeof h=="string"?h:h.content,v=r(a,m),y=g.indexOf(v);if(y>-1){++i;var x=g.substring(0,y),b=new n.Token(a,n.tokenize(p,s.grammar),"language-"+a,p),w=g.substring(y+v.length),_=[];x&&_.push.apply(_,c([x])),_.push(b),w&&_.push.apply(_,c([w])),typeof h=="string"?u.splice.apply(u,[d,1].concat(_)):h.content=_}}else h.content&&c(h.content)}return u}c(s.tokens)}}})})(t)}return XE}var ZE,fQ;function fHt(){if(fQ)return ZE;fQ=1,ZE=e,e.displayName="lua",e.aliases=[];function e(t){t.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}return ZE}var JE,hQ;function hHt(){if(hQ)return JE;hQ=1,JE=e,e.displayName="haskell",e.aliases=["hs"];function e(t){t.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},t.languages.hs=t.languages.haskell}return JE}var ek,mQ;function mHt(){if(mQ)return ek;mQ=1,ek=e,e.displayName="java",e.aliases=[];function e(t){(function(n){var r=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,s=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(s+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(s+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:r,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(t)}return ek}var tk,pQ;function pHt(){if(pQ)return tk;pQ=1,tk=e,e.displayName="javadoclike",e.aliases=[];function e(t){(function(n){var r=n.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function s(i,o){var c="doc-comment",u=n.languages[i];if(u){var d=u[c];if(!d){var h={};h[c]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},u=n.languages.insertBefore(i,"comment",h),d=u[c]}if(d instanceof RegExp&&(d=u[c]={pattern:d}),Array.isArray(d))for(var m=0,p=d.length;m<p;m++)d[m]instanceof RegExp&&(d[m]={pattern:d[m]}),o(d[m]);else o(d)}}function a(i,o){typeof i=="string"&&(i=[i]),i.forEach(function(c){s(c,function(u){u.inside||(u.inside={}),u.inside.rest=o})})}Object.defineProperty(r,"addSupport",{value:a}),r.addSupport(["java","javascript","php"],r)})(t)}return tk}var nk,gQ;function gHt(){if(gQ)return nk;gQ=1,nk=e,e.displayName="jsx",e.aliases=[];function e(t){(function(n){var r=n.util.clone(n.languages.javascript),s=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(d,h){return d=d.replace(/<S>/g,function(){return s}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return i}),RegExp(d,h)}i=o(i).source,n.languages.jsx=n.languages.extend("markup",r),n.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),n.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,n.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,n.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,n.languages.jsx.tag.inside.comment=r.comment,n.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:n.languages.jsx}},n.languages.jsx.tag),n.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:n.languages.jsx}}},n.languages.jsx.tag);var c=function(d){return d?typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(c).join(""):""},u=function(d){for(var h=[],m=0;m<d.length;m++){var p=d[m],g=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===c(p.content[0].content[1])&&h.pop():p.content[p.content.length-1].content==="/>"||h.push({tagName:c(p.content[0].content[1]),openedBraces:0}):h.length>0&&p.type==="punctuation"&&p.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?h[h.length-1].openedBraces--:g=!0),(g||typeof p=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var v=c(p);m<d.length-1&&(typeof d[m+1]=="string"||d[m+1].type==="plain-text")&&(v+=c(d[m+1]),d.splice(m+1,1)),m>0&&(typeof d[m-1]=="string"||d[m-1].type==="plain-text")&&(v=c(d[m-1])+v,d.splice(m-1,1),m--),d[m]=new n.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&u(p.content)}};n.hooks.add("after-tokenize",function(d){d.language!=="jsx"&&d.language!=="tsx"||u(d.tokens)})})(t)}return nk}var rk,vQ;function vHt(){if(vQ)return rk;vQ=1,rk=e,e.displayName="scheme",e.aliases=[];function e(t){(function(n){n.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(r({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function r(s){for(var a in s)s[a]=s[a].replace(/<[\w\s]+>/g,function(i){return"(?:"+s[i].trim()+")"});return s[a]}})(t)}return rk}var sk,yQ;function yHt(){if(yQ)return sk;yQ=1,sk=e,e.displayName="turtle",e.aliases=[];function e(t){t.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},t.languages.trig=t.languages.turtle}return sk}var ak,xQ;function xHt(){if(xQ)return ak;xQ=1,ak=e,e.displayName="t4Templating",e.aliases=[];function e(t){(function(n){function r(a,i,o){return{pattern:RegExp("<#"+a+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+a+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:i,alias:o}}}}function s(a){var i=n.languages[a],o="language-"+a;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:r("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:r("=",i,o),"class-feature":r("\\+",i,o),standard:r("",i,o)}}}}n.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:s})})(t)}return ak}var ik,bQ;function bHt(){if(bQ)return ik;bQ=1,ik=e,e.displayName="yaml",e.aliases=["yml"];function e(t){(function(n){var r=/[*&][^\s[\]{},]+/,s=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+s.source+"(?:[ 	]+"+r.source+")?|"+r.source+"(?:[ 	]+"+s.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function c(u,d){d=(d||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return u});return RegExp(h,d)}n.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:c(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:c(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:c(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:c(o),lookbehind:!0,greedy:!0},number:{pattern:c(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:s,important:r,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},n.languages.yml=n.languages.yaml})(t)}return ik}const mIt=({origin:e,reason:t})=>{const{$t:n}=K(),r=Rt(),{hasAccessToProFeatures:s}=At(),{discountCode:a}=Eve(),[i]=wrt(),{referralCode:o}=Qrt(),c=ut(),{openVisitorLoginUpsell:u}=Gr({enabled:!c}),{trackEvent:d}=Ne(),{organization:h,orgUser:m}=Gt({reason:t}),{navigateToPayment:p}=ase(),g=f.useCallback(async()=>{if(c){if(await p({origin:e,discountCode:a??i??void 0,tier:"yearly"}))return;d("pro checkout started",{subscriptionTier:"pro",origin:e,discountCode:a??"",referralCode:o??"",tier:"yearly",flowType:"stripe_checkout"});const x=await y8({request:{tier:"yearly",referralCode:s?"":o,discountCode:s?"":a,origin:e,locale:ao(),subscriptionTier:"pro"},reason:t});x?.url?oo(x.url,"Handle click pricing yearly checkout started"):r.refresh("Handle click annual")}else u({title:n({defaultMessage:"Sign in to unlock {pro}",id:"HsM7RilrD6"},{pro:"Pro"}),origin:e})},[c,p,e,a,d,o,s,r,u,n,i,t]),v=f.useCallback(async(x="pro")=>{if(c){if(await p({origin:e,discountCode:a??i??void 0,tier:"monthly",referralCode:o??void 0,subscriptionTier:x}))return;d("pro checkout started",{subscriptionTier:x,origin:e,discountCode:a??"",referralCode:o??"",tier:"monthly",flowType:"stripe_checkout"});const b=await y8({request:{tier:"monthly",referralCode:s?"":o,discountCode:s?"":a,origin:e,locale:ao(),subscriptionTier:x},reason:t});b?.url?oo(b.url,"Handle click pricing monthly checkout started"):r.refresh("Handle click monthly")}else u({title:n({defaultMessage:"Sign in to unlock {tier}",id:"8E/VXpzNhf"},{tier:x==="max"?"Max":"Pro"}),origin:e})},[c,p,e,a,o,d,s,r,u,n,i,t]),y=f.useCallback(()=>{if(m)if(m?.role==="ADMIN"){r.push("/onboarding/onboarding-org-subscription");return}else{const b=`mailto:${h?.admins?.map(w=>w?.email).filter(w=>w!==void 0)?.join(";")}?subject=${n({defaultMessage:"Perplexity Enterprise Pro Request",id:"c8Vh79Ma17"})}&body=${n({defaultMessage:"Dear Admin Team,%0D%0A%0D%0AI'd like to request an upgrade to Perplexity Enterprise Pro for our team. It would give us unlimited searches with the top AI models, better research tools, and custom workspaces while ensuring data security and administrative controls.%0D%0A%0D%0ABest regards,%0D%0A[Your Name]",id:"NQKslzlMIS"})}`;oo(b,"Handle click enterprise")}else r.push("/onboarding/org/create")},[h,m,n,r]);return f.useMemo(()=>({handleClickMonthly:v,handleClickEnterprise:y,handleClickAnnual:g}),[g,y,v])};function wHt(e){if(!e)return!1;const t=e.replace(/[^\d+]/g,"");return!t.startsWith("+")||t.length<8||t.length>18||t.length===1?!1:/^\+\d{7,17}$/.test(t)}function _Ht(e){return/^(\+?1?\s?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}$/.test(e)}const pIt=({isOpen:e,closeModal:t,onContinue:n})=>{const{$t:r}=K();return l.jsx(jt,{title:r({defaultMessage:"Company Data Privacy Policy",id:"r/pZHR4xl8"}),isOpen:e,onClose:t,children:l.jsxs("div",{className:"prose mt-sm px-md dark:prose-invert flex h-full max-w-screen-md flex-col justify-between font-sans",children:[l.jsxs("ul",{children:[l.jsx("li",{children:l.jsx(j,{variant:"baseSemi",children:r({defaultMessage:"Ensure that any data shared complies with your Organization's security policies and confidentiality guidelines.",id:"CkB4IMojQI"})})}),l.jsx("li",{children:l.jsx(j,{variant:"baseSemi",children:r({defaultMessage:"Files uploaded to your Organization's file repository or to Spaces are retained until deleted.",id:"828gZJhHhw"})})}),l.jsx("li",{children:l.jsx(j,{variant:"baseSemi",children:r({defaultMessage:"Files attached to threads are retained for 7 days.",id:"gw/N2YD4WR"})})})]}),n&&l.jsx("div",{className:"self-end",children:l.jsx(ye,{onClick:n,text:r({defaultMessage:"Continue",id:"acrOozm08x"}),pill:!0})})]})})},gIt=Object.freeze(Object.defineProperty({__proto__:null,CompanyDataPrivacyModal:pIt},Symbol.toStringTag,{value:"Module"})),vIt=({onPaymentClick:e})=>{const t="free-trial",n=K(),{handleClickMonthly:r,handleClickAnnual:s}=mIt({origin:rt.PRICING_TABLE,reason:t}),[a,i]=f.useState("monthly");return l.jsxs(H,{className:"flex max-w-[328px] flex-col",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx(j,{variant:"section-title",children:l.jsx(ce,{defaultMessage:"Try the very best of Perplexity. ",id:"G08rS8+AEQ"})}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(j,{variant:"section-title",children:l.jsx(ce,{defaultMessage:"First month is on",id:"9Ze3BznL6G"})}),l.jsx(j,{variant:"section-title",color:"super",children:l.jsx(ce,{defaultMessage:"us.",id:"ZG/lr5xQ7D"})})]})]}),l.jsx(xIt,{}),l.jsx(bIt,{selectedBillingPeriod:a,setSelectedBillingPeriod:i}),l.jsx(ye,{variant:"inverted",text:n.formatMessage({defaultMessage:"Start free trial",id:"KV7xeNkD40"}),onClick:()=>{a==="monthly"?r():s(),e()}}),l.jsx(j,{variant:"tinyRegular",color:"ultraLight",className:"mt-4 text-center",children:l.jsx(ce,{defaultMessage:"Unlock subscription features including AI models, deep research, 10x sources for answers and more.",id:"AxgBqa+S8j"})})]})},yIt=[{date:l.jsx(ce,{defaultMessage:"Today",id:"zWgbGgjUUg"}),description:l.jsx(ce,{defaultMessage:"Get access to the best of Perplexity with AI model selection, deep research, and more detailed answers.",id:"DBwcv6gWZo"})},{date:l.jsx(ce,{defaultMessage:"In 28 days",id:"S1m/RjQdvR"}),description:l.jsx(ce,{defaultMessage:"We'll send a reminder email before renewing your Perplexity Pro subscription.",id:"1anAy+AEi1"})},{date:l.jsx(ce,{defaultMessage:"In 30 days",id:"RP3hYa5iWF"}),description:l.jsx(ce,{defaultMessage:"You'll renew at the Perplexity Pro subscription amount. Cancel anytime before to prevent charges.",id:"XjpMrEC74c"})}],xIt=()=>l.jsx("ul",{className:"mt-6 space-y-8 border-b border-b-gray-200 pb-8",children:yIt.map(e=>l.jsxs("li",{className:"before:bg-super before:ring-super/10 after:bg-super relative pl-6 before:absolute before:left-0 before:top-[6px] before:h-1.5 before:w-1.5 before:rounded-full before:bg-[#105C67] before:ring-[4px] before:content-[''] after:absolute after:left-[2px] after:top-[24px] after:h-full after:w-[2px] after:content-[''] last:after:[background:linear-gradient(0deg,rgba(31,184,205,0)_0%,#105C67_100%)] [&:not(:first-child)]:before:top-[6px]",children:[l.jsx(j,{variant:"smallBold",children:e.date}),l.jsx(j,{variant:"tinyRegular",color:"light",children:e.description})]},e.description.props.id))}),bIt=({setSelectedBillingPeriod:e,selectedBillingPeriod:t})=>{const n=K();return l.jsxs("ul",{className:"my-6",children:[l.jsx("li",{children:l.jsx(t0,{type:"radio",showIconLeft:!1,selected:t==="monthly",text:n.formatMessage({defaultMessage:"Monthly",id:"wYsv4ZHu+B"}),label:n.formatMessage({defaultMessage:"Free 30-day trial, then $20/month",id:"iqyHrVzE5w"}),onClick:()=>e("monthly")})}),l.jsx("li",{children:l.jsx(t0,{type:"radio",showIconLeft:!1,selected:t==="yearly",label:n.formatMessage({defaultMessage:"Free 30-day trial, then $200/year ($16.67/mo)",id:"HrLgijSCVv"}),text:n.formatMessage({defaultMessage:"Yearly",id:"dqD39hnoA/"}),onClick:()=>e("yearly")})})]})},wIt=({isOpen:e,onClose:t})=>l.jsx(f3,{isOpen:e,onClose:t,variant:"full-sheet",children:l.jsx("div",{className:"flex flex-col items-center justify-center",children:l.jsx(vIt,{onPaymentClick:t})})}),_It=Object.freeze(Object.defineProperty({__proto__:null,FreeTrialModal:wIt},Symbol.toStringTag,{value:"Module"}));var ok={},wQ;function CIt(){return wQ||(wQ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-dot",r=512,s=512,a=[128280,"dot-circle"],i="f192",o="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,o]},e.faCircleDot=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=o,e.aliases=a}(ok)),ok}var CHt=CIt();const SHt=({reason:e})=>{const t=ot(),{mutateAsync:n,isPending:r}=lt({mutationFn:async({merchantDomain:a,variantId:i,quantity:o,accessToken:c})=>Ont({request:{merchant_domain:a,variant_id:i,quantity:o,access_token:c},reason:e}),onSuccess:(a,i)=>{t.setQueryData(["firmly-cart-created",i.variantId],!0)}}),s=f.useCallback(a=>t.getQueryData(["firmly-cart-created",a])===!0,[t]);return f.useMemo(()=>({createFirmlyCartMutation:n,isPending:r,isVariantCartCreated:s}),[n,r,s])},EHt=({closeModalOnFail:e=!0,reason:t})=>{const{closeModal:n}=St(),r=f.useCallback(async()=>{try{const o=await Znt({reason:t});if(!o||!o.clientSecret)throw new Error("Failed to create setup intent");return o}catch(o){throw o}},[t]),{data:s,isLoading:a,refetch:i}=at({staleTime:1/0,queryKey:["create_setup_intent_and_customer_session"],queryFn:r,retry:o=>o<3?!0:(e&&n(),!1)});return f.useMemo(()=>({setupIntentData:s,isSetupIntentLoading:a,refetchSetupIntent:i}),[a,i,s])},SIt=({isOpen:e,onClose:t})=>{const n=K();return l.jsx(jt,{isOpen:e,onClose:t,title:n.formatMessage({defaultMessage:"Change username",id:"UJWPJjxm4w"}),titleTextVariant:"base",renderCloseButton:!1,delayClose:!1,modalClassname:"w-fit !min-w-[300px] p-4 !pb-0",modalContentClassname:"!p-0",headerClassname:"!px-0 !pt-1",footerClassname:"hidden",variant:"medium",children:l.jsx("div",{className:"max-w-[300px] py-6 pb-4",children:l.jsx(R3,{isAlwaysEditing:!0,onButtonClick:t})})})},EIt=Object.freeze(Object.defineProperty({__proto__:null,UsernameModal:SIt},Symbol.toStringTag,{value:"Module"})),kHt=({items:e,inFlight:t,inFlightLatest:n,rwToken:r,contentHasMounted:s,hasHeader:a=!0})=>{const{scrollContainerRef:i}=VR(),o=vl(),{isMobileStyle:c}=Oe(),u=cn(),d=f.useMemo(()=>{if(typeof window>"u")return 0;const _=a?getComputedStyle(document.documentElement).getPropertyValue("--header-height"):"0";return parseInt(_)+(c||u?0:8)},[c,a,u]),h=f.useRef(!0),m=f.useMemo(()=>!r&&e.every(_=>!Mn.isStatusPending(_)),[e,r]),p=f.useMemo(()=>e.some(_=>Mn.isStatusPending(_)),[e]),g=f.useRef({}),v=f.useRef({});f.useEffect(()=>()=>{g.current={},v.current={}},[]);const y=f.useCallback((_,{smooth:C=!0,anchor:S=!1}={smooth:!0,anchor:!1})=>{const k=typeof _=="number"?g.current?.[_]?.current:v.current?.[_]?.current;if(k){const E=k.getBoundingClientRect().top,M=i?.current?.scrollTop??0,N=E+M-d;if(N+M>document.body.scrollHeight&&S){const R=i?.current?.scrollHeight??0,A=i?.current?.clientHeight??0,P=R-A-.1;requestAnimationFrame(()=>i?.current?.scrollTo({top:P,behavior:C?"smooth":"auto"}))}else i?.current?.scrollTo({top:N,behavior:C?"smooth":"auto"})}},[i,d]),x=f.useCallback(()=>{y(e.length-1)},[y,e.length]);f.useEffect(()=>{const _={...g.current},C={...v.current};let S=!1;e.forEach((k,E)=>{const M=E,N=k.backend_uuid;if(N)if(!_[M]||!_[M].current){const R=T.createRef();_[M]=R,C[N]=R,S=!0}else C[N]=_[M]}),Object.keys(_).forEach(k=>{e.some((E,M)=>M===Number(k))||(delete _[Number(k)],S=!0)}),S&&(v.current=C,g.current=_)},[e.length,p]);const b=e.at(-1)?.query_source==="edit";f.useEffect(()=>{if(e.length<=1||!o||!s)return;const _=window.location.hash;if(_&&!t&&h.current){try{const C=_.slice(1);C.length>3?y(C,{smooth:!1}):y(Number(C),{smooth:!1})}catch(C){Q.error(C)}return}n&&!b&&y(e.length-1,{anchor:!0})},[t,n,m,e.length,o,y,s,b]);const w=g.current;return f.useMemo(()=>({refs:w,scrollToLatestItem:x,scrollToListItem:y}),[w,x,y])},l9=async({request:e,reason:t})=>{const{error:n,data:r}=await J.POST("/rest/deeper-research/download-asset",t,{body:e,timeoutMs:2e3,numRetries:1});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to download file",cause:n});return r.file_url},kIt=async({request:e,reason:t})=>{const{error:n,data:r}=await J.POST("/rest/deeper-research/export-asset",t,{body:e,timeoutMs:6e4,numRetries:1,parseAs:"blob"});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to export asset",cause:n});return r},MIt=async({request:e,reason:t})=>{const{error:n,data:r}=await J.POST("/rest/deeper-research/export-all-assets",t,{body:e,timeoutMs:6e4,numRetries:1,parseAs:"blob"});if(n)throw new Me("API_CLIENTS_ERROR",{message:"Failed to export all assets",cause:n});return r},TIt=({reason:e})=>{const{$t:t}=K(),{openToast:n}=Yn(),r=f.useCallback(async i=>{try{const o=await l9({request:i,reason:e});window.open(o,"_blank"),n(t({defaultMessage:"Downloading file...",id:"/vA9NyIeJh"}),"success",3)}catch(o){Q.error("Failed to download S3 asset",{error:o,request:i,errorMessage:o instanceof Error?o.message:"Unknown error"}),n(t({defaultMessage:"Failed to download file",id:"RIWlU8NdpC"}),"error",3)}},[e,t,n]),s=f.useCallback(async(i,o="media",c=document.body)=>{try{const u=await fetch(i);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const d=await u.blob(),h=URL.createObjectURL(d),m=document.createElement("a");m.href=h,m.download=o,c.appendChild(m),m.click(),c.removeChild(m),URL.revokeObjectURL(h);const p=o.toLowerCase().includes(".mp4")||o.toLowerCase().includes(".mov")||o.toLowerCase().includes(".avi")||d.type.startsWith("video/"),g=t(p?{defaultMessage:"Video downloaded",id:"WHvofOjBQO"}:{defaultMessage:"Image downloaded",id:"nS5vxnEXaW"});n(g,"success",3)}catch(u){const d=o.toLowerCase().includes(".mp4")||o.toLowerCase().includes(".mov")||o.toLowerCase().includes(".avi");Q.error("Failed to download media asset",{error:u,mediaUrl:i,errorMessage:u instanceof Error?u.message:"Unknown error",errorType:u instanceof TypeError&&u.message.includes("Failed to fetch")?"CORS":"Unknown"});const h=t(d?{defaultMessage:"Failed to download video",id:"g8uGrbPLMV"}:{defaultMessage:"Failed to download image",id:"YPAbL/7UuZ"});n(h,"error",3)}},[t,n]),a=f.useCallback(async(i,o="image.jpg",c=document.body)=>s(i,o,c),[s]);return f.useMemo(()=>({downloadS3Asset:r,downloadImageAsset:a,downloadMediaAsset:s}),[a,r,s])};function NIt(e,t,n){const r=new Blob([n],{type:"text/plain"});AO(e,t,r)}function AO(e,t,n){const r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,e.appendChild(r),r.click(),URL.revokeObjectURL(s),e.removeChild(r)}const RIt=new Set(["markdown","md"]);function UEe(e){if(e?.asset_type==ql.CODE_FILE&&e.code_file?.url&&RIt.has(e.code_file.name.split(".").at(-1)))return{filenamePrefix:e.code_file.name.slice(0,e.code_file.name.lastIndexOf(".")),url:e.code_file.url}}function MHt(e){return UEe(e)!==void 0}function THt({asset:e,reason:t}){const n=f.useCallback(async(r,s)=>{const a=UEe(e);if(!a)return;const{filenamePrefix:i,url:o}=a,c=i+"."+r,u=await kIt({request:{filename:c,format:r,url:o},reason:t});AO(s||document.body,c,u)},[e,t]);return f.useMemo(()=>({exportAsset:n}),[n])}function NHt({reason:e}){const{result:{backend_uuid:t}}=Ti(),[n,r]=f.useState(!1),s=f.useCallback(async a=>{r(!0);try{const i=await MIt({request:{entry_uuid:t},reason:e});AO(a||document.body,"exported-assets.zip",i)}finally{r(!1)}},[t,e]);return f.useMemo(()=>({exportAllAssets:s,isExporting:n}),[s,n])}function RHt({asset:e,reason:t}){const{downloadS3Asset:n,downloadImageAsset:r,downloadMediaAsset:s}=TIt({reason:t}),a=f.useCallback(async i=>{if(e)if(e.asset_type===ql.GENERATED_IMAGE)e.generated_image?.url&&await r(e.generated_image.url,"generated-image.png",i||document.body);else if(e.asset_type===ql.GENERATED_VIDEO)e.generated_video?.url&&await s(e.generated_video.url,"generated-video.mp4",i||document.body);else for(const o of e.download_info)o.url?await n({url:o.url,filename:o.filename}):o.text_content&&NIt(i||document.body,o.filename,o.text_content)},[n,r,s,e]);return f.useMemo(()=>({downloadAsset:a}),[a])}var AIt=(e=>(e[e.UNCOPIED=0]="UNCOPIED",e[e.COPYING=1]="COPYING",e[e.FAILED=2]="FAILED",e[e.SUCCEEDED=3]="SUCCEEDED",e))(AIt||{});function AHt({asset:e,reason:t}){const[n,r]=f.useState(0),{$t:s}=K(),{openToast:a}=Yn(),i=f.useCallback(async()=>{if(e){r(1);try{await jIt({asset:e,reason:t}),a(s({defaultMessage:"Copied to the clipboard!",id:"WWy0tPuRW8"}),"success",3),r(3)}catch{a(s({defaultMessage:"Failed to copy the asset",id:"HHPhgIZj9h"}),"error",3),r(2)}setTimeout(()=>r(0),2e3)}},[s,a,r,e,t]);return f.useMemo(()=>({copyStatus:n,copyAsset:i}),[n,i])}async function jIt({asset:e,reason:t}){let n;if(e.asset_type==ql.CODE_ASSET)n={"text/plain":e.code?.script??""};else if(e.asset_type==ql.CHART&&e.chart?.url){const s=await l9({request:{url:e.chart.url,filename:"chart.png"},reason:t});n={"image/png":await(await fetch(s)).blob()}}else if(e.asset_type==ql.CODE_FILE&&e.code_file?.url){const s=await l9({request:{url:e.code_file.url,filename:e.code_file.name},reason:t});n={"text/plain":await(await fetch(s)).text()}}else if(e.asset_type==ql.GENERATED_IMAGE&&e.generated_image?.url){const s=e.generated_image.url;n={"image/png":await(await fetch(s)).blob()}}else if(e.asset_type==ql.GENERATED_VIDEO&&e.generated_video?.url){const s=e.generated_video.url;n={"video/mp4":await(await fetch(s)).blob()}}if(!n)throw new Error("Failed to find anything to copy");const r=new ClipboardItem(n);await navigator.clipboard.write([r])}function jHt({price:e}){return l.jsx(l.Fragment,{children:e.adjusted??e.original})}const PIt=({isOpen:e,onClose:t,title:n,buttonText:r,origin:s})=>{const{trackEventOnce:a}=Ne();return f.useEffect(()=>{a("pro message modal",{origin:s,title:n})},[a,s,n]),l.jsx(jt,{isOpen:e,onClose:t,variant:"small",children:l.jsxs("div",{className:"mb-md text-center",children:[l.jsxs("div",{className:"mb-lg flex flex-col items-center justify-center",children:[l.jsx("div",{className:"",children:l.jsx(Es,{size:"xl",variant:"text",isPro:!0})}),l.jsx(j,{variant:"section-title",color:"light",className:"mt-md",children:n})]}),l.jsx(ye,{size:"large",variant:"primary",text:r,icon:aM,pill:!0,onClick:t})]})})},IIt=Object.freeze(Object.defineProperty({__proto__:null,ProMessageModal:PIt},Symbol.toStringTag,{value:"Module"})),OIt=({isOpen:e,onClose:t,flowType:n,upgradeMax:r,subscriptionTier:s})=>{const{update:a}=Oa.useSession(),{trackEvent:i}=Ne(),{sendSubscribedEventSingular:o,sendSubscribedPayingEventSingular:c,sendSubscribedMaxEventSingular:u}=kR(),{$t:d}=K(),h=f.useRef(!1),m=f.useCallback(async()=>{t(),oo("/","Sub success modal close")},[t]),p=f.useCallback(async()=>{if(!h.current&&e){i("pro success viewed",{subscriptionTier:s??"pro",flowType:n??"unknown"});const g=await a();await m3(),o();const v=g?.user?.payment_tier;v&&v!=="free"&&c(),s==="max"&&u(),h.current=!0}},[e,n,s,i,a,o,c,u]);return f.useEffect(()=>{p()},[p]),f.useEffect(()=>{e&&(Ue.removeItem("referral_code"),Ue.removeItem("referral_code_expiry"))},[e]),l.jsx(jt,{isOpen:e,onClose:m,variant:"hide-chrome",children:l.jsx(H,{variant:"background",className:"animate-in fade-in max-w-screen-md rounded-xl duration-1000 ease-out",children:l.jsxs(H,{className:"p-2xl text-center",children:[l.jsxs(H,{className:"mb-lg flex flex-col items-center justify-center",children:[l.jsx(H,{children:l.jsx(Es,{size:"xl",variant:r||s==="max"?"max-text":"text",isPro:!r&&s!=="max"})}),l.jsx(j,{variant:"section-title",color:"light",className:"mt-md",children:l.jsx(ce,{defaultMessage:"Your subscription begins now.",id:"bCZFNOFmlf",description:"subscription success modal header"})})]}),s==="max"&&l.jsxs(H,{className:"mb-lg space-y-md text-left",children:[l.jsxs(H,{className:"gap-md flex items-center",children:[l.jsx(H,{className:"flex-shrink-0",children:l.jsx(hee,{size:20,className:"text-textMain"})}),l.jsxs(H,{children:[l.jsx(j,{variant:"baseSemi",className:"text-textMain",children:l.jsx(ce,{defaultMessage:"First access to Comet browser",id:"/A1bH+mdvc",description:"Comet browser access feature title"})}),l.jsx(j,{color:"light",children:l.jsx(ce,{defaultMessage:"You'll receive an invitation in the next week.",id:"tmouGXlH/8",description:"Comet browser access feature description"})})]})]}),l.jsxs(H,{className:"gap-md flex items-center",children:[l.jsx(H,{className:"flex-shrink-0",children:l.jsx(mee,{size:20,className:"text-textMain"})}),l.jsxs(H,{children:[l.jsx(j,{variant:"baseSemi",className:"text-textMain",children:l.jsx(ce,{defaultMessage:"Make unlimited Labs queries",id:"a1y/TBs+WI",description:"Unlimited Labs queries feature title"})}),l.jsx(j,{color:"light",children:l.jsx(ce,{defaultMessage:"Create anything you imagine.",id:"uxWVPJ3RwC",description:"Unlimited Labs queries feature description"})})]})]}),l.jsxs(H,{className:"gap-md flex items-center",children:[l.jsx(H,{className:"flex-shrink-0",children:l.jsx($N,{size:20,className:"text-textMain"})}),l.jsxs(H,{children:[l.jsx(j,{variant:"baseSemi",className:"text-textMain",children:l.jsx(ce,{defaultMessage:"Use advanced AI models",id:"IN7HAEJJ4/",description:"Advanced AI models feature title"})}),l.jsx(j,{color:"light",children:l.jsx(ce,{defaultMessage:"o3-pro, Claude Opus 4, and more.",id:"oQMjDhjdwn",description:"Advanced AI models feature description"})})]})]})]}),l.jsx(ye,{size:"regular",variant:"primary",text:d({defaultMessage:"Get started",id:"ezS3YS8J+O",description:"subscription success modal get started button"}),pill:!0,fullWidth:!0,onClick:m})]})})})},LIt=Object.freeze(Object.defineProperty({__proto__:null,default:OIt},Symbol.toStringTag,{value:"Module"})),PHt=e=>{if(!e)return!1;const t=e.indexOf("@"),n=e.lastIndexOf(".");return e.includes("@")&&e.includes(".")&&t<n&&t>0};function DIt({reason:e}){const t=ot(),{isEnterprise:n,organization:r}=Gt({reason:e}),{data:s,refetch:a,isFetching:i}=at({queryKey:["get_premium_secure_eligibility",{orgUuid:r?.uuid??""}],queryFn:()=>_qe({reason:e}),enabled:n}),{data:o}=at({queryKey:["get_org_subscription_info",{orgUuid:r?.uuid??""}],queryFn:()=>Sqe({reason:e}),enabled:n}),{mutateAsync:c,isPending:u}=lt({mutationFn:()=>Cqe({reason:e}),onMutate:async()=>{await t.cancelQueries({queryKey:["get_premium_secure_eligibility",{orgUuid:r?.uuid??""}]})},onSuccess:d=>{d&&(t.invalidateQueries({queryKey:["get_premium_secure_eligibility",{orgUuid:r?.uuid??""}]}),t.invalidateQueries({queryKey:bl()}),Q.info("Premium secure billing updated successfully",{updated:d.updated,oldBillingQuantity:d.old_billing_quantity,newBillingQuantity:d.new_billing_quantity}))},onError:d=>{Q.error("Failed to update premium secure billing",{error:d.message})}});return f.useMemo(()=>({premiumSecureEligibility:s,refetchPremiumSecureEligibility:a,isFetchingPremiumSecureEligibility:i,orgSubscriptionInfo:o,handleUpdatePremiumSecureBillingAsync:c,isUpdatingPremiumSecureBilling:u}),[s,a,i,o,c,u])}const lk="USD",_Q=Jt({defaultMessage:"{price} / month",id:"JxjC5u3B9F"}),CQ=Jt({defaultMessage:"{price} / year",id:"vyye9Gs3vl"}),FIt=({isOpen:e,onClose:t,onUpgradeSuccess:n})=>{const r="enterprise-premium-secure-upgrade-modal",{$t:s,formatNumber:a}=K(),{trackEvent:i}=Ne(),{premiumSecureEligibility:o,handleUpdatePremiumSecureBillingAsync:c,isUpdatingPremiumSecureBilling:u,orgSubscriptionInfo:d}=DIt({reason:r}),h=o?.min_eligible_billing_quantity??0,m=o?.current_billing_quantity??0,p=Math.max(0,h-(o?.current_billing_quantity??0)),g=d?.price_per_seat_minor_units??0,v=d?.currency??lk,y=d?.subscription_billing_interval==="monthly"?"month":d?.subscription_billing_interval==="yearly"?"year":void 0,[x,b]=f.useMemo(()=>{try{return[v,x8(v)]}catch(E){return Q.error(`Invalid currency code: ${v}`,E),[lk,x8(lk)]}},[v]),w=a(m*g/b,{style:"currency",currency:x,minimumFractionDigits:2}),_=a(h*g/b,{style:"currency",currency:x,minimumFractionDigits:2}),C=f.useCallback(async()=>{i("enterprise premium secure upgrade button clicked",{minEligibleQuantity:h,numSeatsToAdd:p}),await c(),n?.(),t()},[c,n,t,i,h,p]),S=f.useCallback(()=>{i("enterprise premium secure upgrade modal dismissed"),t()},[t,i]),k=f.useMemo(()=>[s({defaultMessage:"Usage analytics for your organization",id:"vepGuVxdFT"}),s({defaultMessage:"SCIM for syncing user accounts with your IdP",id:"VumVGqHiLm"}),s({defaultMessage:"Configurable data retention policies",id:"qdEl6vK5uZ"}),s({defaultMessage:"Audit logs for real-time user activity monitoring",id:"lRP6+Nc2Ff"})],[s]);return l.jsx(jt,{isOpen:e,onClose:t,headerClassname:"hidden",modalClassname:"!w-[500px] !min-w-[500px] !max-w-[500px] !p-0",modalContentClassname:"!p-0",children:l.jsxs(H,{className:"p-ml",children:[l.jsx(j,{variant:"baseSemi",className:"mb-md",children:s({defaultMessage:"Upgrade to {minEligibleQuantity} seats to enable",id:"2l9YlK+MMb"},{minEligibleQuantity:h})}),l.jsxs(H,{className:"mb-lg flex flex-col rounded-lg",children:[l.jsxs(H,{variant:"raisedOffset",className:"p-md flex items-center justify-between rounded-lg",children:[l.jsx(j,{variant:"small",color:"light",className:"font-bold",children:s({defaultMessage:"{currentBillingQuantity, plural, one {# seat (current)} other {# seats (current)}}",id:"8oPZ7ssxZA"},{currentBillingQuantity:m})}),l.jsx(j,{variant:"small",color:"light",children:y==="month"?s(_Q,{price:w}):y==="year"?s(CQ,{price:w}):w})]}),l.jsxs("div",{className:"my-4 flex items-center",children:[l.jsx("hr",{className:"border-textOff dark:border-textOff flex-grow"}),l.jsx(j,{variant:"small",color:"light",className:"px-2",children:s({defaultMessage:"Upgrade",id:"0h/lPMeYkq"})}),l.jsx("hr",{className:"border-textOff dark:border-textOff flex-grow"})]}),l.jsxs(H,{variant:"raisedOffset",className:"p-md flex items-center justify-between rounded-lg",children:[l.jsx(j,{variant:"small",color:"default",className:"font-bold",children:s({defaultMessage:"{newSeats} seats",id:"g5ap21g4z6"},{newSeats:h})}),l.jsx(j,{variant:"small",color:"default",children:y==="month"?s(_Q,{price:_}):y==="year"?s(CQ,{price:_}):_})]})]}),l.jsx(j,{variant:"small",color:"light",className:"mb-md",children:s({defaultMessage:"You will be charged now and immediately get access to premium security features:",id:"hjYZIBRJkf"})}),l.jsx(H,{className:"mb-ml space-y-sm",children:k.map((E,M)=>l.jsxs("div",{className:"gap-sm flex items-start",children:[l.jsx(j,{variant:"small",color:"light",children:l.jsx(_e,{icon:da,size:16,className:"mt-0.5 flex-shrink-0"})}),l.jsx(j,{variant:"small",color:"light",children:E})]},M))}),l.jsxs(H,{className:"gap-sm flex justify-end",children:[l.jsx(ze,{text:s({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:S,disabled:u}),l.jsx(ye,{variant:"primary",text:s({defaultMessage:"Confirm",id:"N2IrpMDHDB"}),onClick:C,disabled:u,isLoading:u})]})]})})},UIt=Object.freeze(Object.defineProperty({__proto__:null,EnterprisePremiumSecureUpgradeModal:FIt},Symbol.toStringTag,{value:"Module"})),BIt=async({payload:e,reason:t})=>{const{data:n,error:r}=await J.POST("/rest/tasks/shortcuts",t,{body:e});if(r)throw r;return n},$It=async({taskId:e,payload:t,reason:n})=>{const{data:r,error:s}=await J.PATCH("/rest/tasks/shortcuts/{task_id}",n,{body:t,params:{path:{task_id:e}}});if(s)throw s;return r},c9=50,HIt=e=>e.replace(/\s+/g,"-").replace(/-+/g,"-"),SQ=e=>({...O8t(),...e}),WIt=(e,t)=>e.title.length>c9?{ok:!1,message:t({defaultMessage:"Shortcut name must be less than {maxLength} characters.",id:"MCuDLo6lx2"},{maxLength:c9})}:/^[A-Za-z0-9_-]+$/.test(e.title)?e.prompt.length>qo?{ok:!1,message:t({defaultMessage:"Instructions character limit exceeded.",id:"f5rOSjB3gf"})}:{ok:!0}:{ok:!1,message:t({defaultMessage:"Shortcut name can only contain letters, numbers, underscores, and hyphens.",id:"3k8CXBn46t"})};function zIt({open:e,onClose:t,source:n,shortcut:r}){const s="shortcut-modal",a=ot(),{formatMessage:i,$t:o}=K(),{isMobileUserAgent:c}=Oe(),u=Ks(),{trackEvent:d}=Ne(),h=Rt(),{openToast:m}=Yn(),p=rr(),g=Vr();f.useEffect(()=>{e&&d("shortcut modal opened",{source:n})},[e,n,d]);const v=f.useRef(void 0);f.useEffect(()=>{v.current=e?Wk(r):void 0},[e,r]);const[y,x]=f.useState(),{getErrorMessage:b}=_4e(),[w,_]=f.useState(()=>SQ(r)),C=f.useMemo(()=>ks[w.searchModel]??ue.SEARCH,[w.searchModel]),S=D=>_(B=>({...B,...D}));f.useEffect(()=>{e&&(_(SQ(r)),x(void 0))},[e,r]);const k=!!w.id,E=f.useCallback(()=>{a.invalidateQueries({queryKey:nse("SHORTCUT")}),a.invalidateQueries({queryKey:rse()}),w.id&&a.invalidateQueries({queryKey:uA(w.id)}),t()},[a,w.id,t]),M=f.useCallback(D=>{d("shortcut modal action",{source:n,action:D}),E()},[n,d,E]),N=lt({mutationFn:D=>BIt({payload:D,reason:s}),onSuccess:()=>{M("created"),m(o({defaultMessage:"Shortcut created",id:"rQwVQJ/+9J"}),"success",3,void 0,o({defaultMessage:"Manage Shortcuts",id:"IFMV7kJkvZ"}),()=>{const D=`${xa.Tasks.href}?tab=shortcuts`;if(p){g.openTab({url:`${window.location.origin}${D}`});return}h.push(D)})},onError:D=>x(b(D))}),R=lt({mutationFn:({id:D,payload:B})=>$It({taskId:D,payload:B,reason:s}),onSuccess:()=>{M("updated")},onError:D=>x(b(D))}),A=lt({mutationFn:D=>b4e({taskId:D,reason:s}),onSuccess:()=>{M("deleted")}}),P=()=>{x(void 0);const D=WIt(w,i);if(!D.ok){x(D.message);return}if(w.id){R.mutate({id:w.id,payload:{task_name:w.title,prompt:w.prompt,model_preference:w.searchModel,sources:w.sources}});return}N.mutate({task_name:w.title,prompt:w.prompt,model_preference:w.searchModel,sources:w.sources})},O=()=>{if(!w.id)throw new Error("Cannot delete shortcut without an ID");A.mutate(w.id)},I=f.useMemo(()=>{if(!k)return!0;const D=w.title!==v.current?.title,B=w.prompt!==v.current?.prompt,$=w.searchModel!==v.current?.searchModel,W=w.sources!==v.current?.sources;return D||B||$||W},[k,w,v]),L=N.isPending||R.isPending||A.isPending,F=f.useMemo(()=>u||p||c?"bottom-sheet":"default",[u,p,c]);return l.jsx(jt,{isOpen:e,onClose:t,title:i({defaultMessage:"Shortcut",id:"tceWOrncgz"}),titleTextVariant:"base",modalContentClassname:"!pb-4 md:!pb-4",wrapperClassname:"!w-full",variant:F,children:l.jsx(im,{children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:i({defaultMessage:"Instructions",id:"sV2v5LjRpX"})}),l.jsx($u,{value:w.prompt,onChange:D=>S({prompt:D}),isMobileUserAgent:c,isMobileStyle:!1,minRows:3,maxLength:qo,allowEnterNewlines:!0,className:"bg-offset [&_textarea]:offset hover:!border-borderMain/75 focus-within:!border-borderMain/75 !border !border-transparent"})]}),l.jsxs("div",{className:"flex flex-wrap gap-6",children:[l.jsxs("div",{className:"flex-0 flex flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:i({defaultMessage:"Mode",id:"mrOnjMzgC4"})}),l.jsx("div",{className:"h-full w-fit",children:l.jsx(I_,{value:w.searchModel,onChange:D=>S({searchModel:D}),layoutKey:"task-modal",className:"h-full",buttonSize:"regular"})})]}),C===ue.SEARCH&&l.jsxs("div",{className:"sm:flex-0 flex min-w-[200px] flex-1 flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:i({defaultMessage:"Model",id:"rhSI1/3g21"})}),l.jsx(ed,{children:l.jsx(h4e,{selectedModel:w.searchModel,onModelChange:D=>{S({searchModel:D})}})})]}),l.jsxs("div",{className:"sm:flex-0 flex min-w-[100px] flex-1 flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:i({defaultMessage:"Sources",id:"fhwTpAcBLC"})}),l.jsx(ed,{children:l.jsx(oI,{sources:w.sources,onChange:D=>S({sources:D})})})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(j,{variant:"tiny",color:"light",className:"select-none",children:i({defaultMessage:"Shortcut name",id:"La57qUxLCN"})}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"text-light text-textMain dark:text-textMainDark pointer-events-none absolute left-[17px] top-1/2 z-10 -translate-y-1/2 text-sm",children:"/"}),l.jsx(ko,{value:w.title,type:"text",onChange:D=>S({title:HIt(D)}),isMobileUserAgent:c,maxLength:c9,className:"bg-offset [&_textarea]:offset hover:!border-borderMain/75 focus-within:!border-borderMain/75 !rounded-md !border !border-transparent !pl-[23px]"})]})]}),y&&l.jsx("div",{className:"flex flex-col gap-2",children:l.jsxs("div",{className:"gap-xs flex items-center",children:[l.jsx(bee,{size:12,className:"text-caution"}),l.jsx(j,{variant:"tinyRegular",color:"red",className:"mt-0.5",children:y})]})}),l.jsxs(H,{variant:"background",className:"mt-md pt-md -mx-md px-md flex items-center justify-between border-t",children:[k&&l.jsx("div",{className:"flex gap-4",children:l.jsx(nc,{text:i({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:O,disabled:L})}),l.jsxs("div",{className:"ml-auto flex gap-4",children:[l.jsx(nc,{text:i({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t}),l.jsx(nc,{text:i({defaultMessage:"Save",id:"jvo0vs3nF0"}),variant:"primary",disabled:L||!w.prompt||!w.title||!I,onClick:P})]})]})]})})})}const VIt=Object.freeze(Object.defineProperty({__proto__:null,ShortcutModal:zIt},Symbol.toStringTag,{value:"Module"})),GIt=({response:e,queryClient:t})=>{t.setQueryData(["shopping_results",e.backend_uuid],n=>n?n.map(r=>{if(r?.url===e?.id&&e.blocks&&e.blocks[0]?.shopping_block){if(e.message_mode===bF.STREAMING)return{...r,meta_data:{...r.meta_data,review_summary:{...r.meta_data?.review_summary??{summary:"",review_quality_score:0,pros_detailed:[],cons_detailed:[],pros:[],cons:[],key_features:[],buy_if:"",review_search_results:[]},...Object.fromEntries(Object.entries(e.blocks?.[0]?.shopping_block??{}).filter(([s,a])=>!(a==null||Array.isArray(a)&&a.length===0||typeof a=="number"&&a===0||typeof a=="string"&&a==="")))}}};if(e.message_mode===bF.FULL)return{...r,meta_data:{...r.meta_data,review_summary:e.blocks?.[0]?.shopping_block}}}return r}):[])},IHt=({reason:e})=>{const t=ot(),{mutateAsync:n,isPending:r,error:s}=lt({mutationFn:async({product_name:a,merchant_name:i,url:o,price:c,description:u,entry_uuid:d})=>{let h={summary:"",review_quality_score:0,pros:[],cons:[],key_features:[],review_search_results:[]},m="PENDING",p="";try{await J.SSE("/rest/sse/shopping_review_summary",e,{params:{product_name:a,merchant_name:i,url:o,price:c,description:u,entry_uuid:d},handlers:{message:g=>{g.blocks?.[0]?.shopping_block&&(h=g.blocks[0].shopping_block),m=g.status??"FAILED",p=g.id??"",GIt({response:g,queryClient:t})}}})}catch{}return{review_summary:h,status:m,id:p}}});return f.useMemo(()=>({generateReviewSummaryForEntity:n,isPending:r,error:s}),[s,n,r])},OHt=({query:e=null,entryUUID:t,rwToken:n,enabled:r,reason:s})=>at({queryKey:["shopping_results",t],queryFn:async()=>await Dnt({request:{query:e,read_write_token:n,entry_uuid:t},reason:s}),enabled:r}),qIt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function KIt({onClear:e}){const[t]=ua();return qIt(()=>t.registerCommand(K5e,n=>(t.update(()=>{if(e==null){const r=ln(),s=Qe(),a=la();r.clear(),r.append(a),s!==null&&a.select(),Re(s)&&(s.format=0)}else e()}),!0),Un),[t,e]),null}const YIt=Object.freeze(Object.defineProperty({__proto__:null,ClearEditorPlugin:KIt},Symbol.toStringTag,{value:"Module"})),t2=0,u9=1,d9=2,Ja=0,QIt=1,EQ=2,XIt=3,ZIt=4;function JIt(e,t,n,r,s){if(e===null||n.size===0&&r.size===0&&!s)return Ja;const a=t._selection,i=e._selection;if(s)return QIt;if(!(Re(a)&&Re(i)&&i.isCollapsed()&&a.isCollapsed()))return Ja;const o=function(x,b,w){const _=x._nodeMap,C=[];for(const S of b){const k=_.get(S);k!==void 0&&C.push(k)}for(const[S,k]of w){if(!k)continue;const E=_.get(S);E===void 0||$r(E)||C.push(E)}return C}(t,n,r);if(o.length===0)return Ja;if(o.length>1){const x=t._nodeMap,b=x.get(a.anchor.key),w=x.get(i.anchor.key);return b&&w&&!e._nodeMap.has(b.__key)&&Ye(b)&&b.__text.length===1&&a.anchor.offset===1?EQ:Ja}const c=o[0],u=e._nodeMap.get(c.__key);if(!Ye(u)||!Ye(c)||u.__mode!==c.__mode)return Ja;const d=u.__text,h=c.__text;if(d===h)return Ja;const m=a.anchor,p=i.anchor;if(m.key!==p.key||m.type!=="text")return Ja;const g=m.offset,v=p.offset,y=h.length-d.length;return y===1&&v===g-1?EQ:y===-1&&v===g+1?XIt:y===-1&&v===g?ZIt:Ja}function eOt(e,t){let n=Date.now(),r=Ja;return(s,a,i,o,c,u)=>{const d=Date.now();if(u.has(DT))return r=Ja,n=d,d9;const h=JIt(s,a,o,c,e.isComposing()),m=(()=>{const p=i===null||i.editor===e,g=u.has(ukt);if(!g&&p&&u.has(th))return t2;if(s===null)return u9;const v=a._selection;return o.size>0||c.size>0?g===!1&&h!==Ja&&h===r&&d<n+t&&p||o.size===1&&function(y,x,b){const w=x._nodeMap.get(y),_=b._nodeMap.get(y),C=x._selection,S=b._selection;return!(Re(C)&&Re(S)&&C.anchor.type==="element"&&C.focus.type==="element"&&S.anchor.type==="text"&&S.focus.type==="text"||!Ye(w)||!Ye(_)||w.__parent!==_.__parent)&&JSON.stringify(x.read(()=>w.exportJSON()))===JSON.stringify(b.read(()=>_.exportJSON()))}(Array.from(o)[0],s,a)?t2:u9:v!==null?t2:d9})();return n=d,r=h,m}}function kQ(e){e.undoStack=[],e.redoStack=[],e.current=null}function tOt(e,t,n){const r=eOt(e,n);return ld(e.registerCommand(NI,()=>(function(a,i){const o=i.redoStack,c=i.undoStack;if(c.length!==0){const u=i.current,d=c.pop();u!==null&&(o.push(u),a.dispatchCommand($y,!0)),c.length===0&&a.dispatchCommand(Hy,!1),i.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:DT})}}(e,t),!0),Un),e.registerCommand(RI,()=>(function(a,i){const o=i.redoStack,c=i.undoStack;if(o.length!==0){const u=i.current;u!==null&&(c.push(u),a.dispatchCommand(Hy,!0));const d=o.pop();o.length===0&&a.dispatchCommand($y,!1),i.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:DT})}}(e,t),!0),Un),e.registerCommand(K5e,()=>(kQ(t),!1),Un),e.registerCommand(VEt,()=>(kQ(t),e.dispatchCommand($y,!1),e.dispatchCommand(Hy,!1),!0),Un),e.registerUpdateListener(({editorState:a,prevEditorState:i,dirtyLeaves:o,dirtyElements:c,tags:u})=>{const d=t.current,h=t.redoStack,m=t.undoStack,p=d===null?null:d.editorState;if(d!==null&&a===p)return;const g=r(i,a,d,o,c,u);if(g===u9)h.length!==0&&(t.redoStack=[],e.dispatchCommand($y,!1)),d!==null&&(m.push({...d}),e.dispatchCommand(Hy,!0));else if(g===d9)return;t.current={editor:e,editorState:a}}))}function BEe(){return{current:null,redoStack:[],undoStack:[]}}function nOt({delay:e,externalHistoryState:t}){const[n]=ua();return function(r,s,a=1e3){const i=f.useMemo(()=>s||BEe(),[s]);f.useEffect(()=>tOt(r,i,a),[a,r,i])}(n,t,e),null}const rOt=Object.freeze(Object.defineProperty({__proto__:null,HistoryPlugin:nOt,createEmptyHistoryState:BEe},Symbol.toStringTag,{value:"Module"})),sOt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function aOt({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){const[r]=ua();return sOt(()=>{if(n)return r.registerUpdateListener(({editorState:s,dirtyElements:a,dirtyLeaves:i,prevEditorState:o,tags:c})=>{t&&a.size===0&&i.size===0||e&&c.has(th)||o.isEmpty()||n(s,r,c)})},[r,e,t,n]),null}const iOt=Object.freeze(Object.defineProperty({__proto__:null,OnChangePlugin:aOt},Symbol.toStringTag,{value:"Module"}));function oOt({editorRef:e}){const[t]=ua();return f.useEffect(()=>{typeof e=="function"?e(t):typeof e=="object"&&(e.current=t)},[t]),null}const lOt=Object.freeze(Object.defineProperty({__proto__:null,EditorRefPlugin:oOt},Symbol.toStringTag,{value:"Module"})),LHt=()=>{const{$t:e}=K();return f.useMemo(()=>({yearAgo:e({defaultMessage:"year ago",id:"FzcTXH29w0"}),yearsAgo:e({defaultMessage:"years ago",id:"zJmD8CS6cm"}),monthAgo:e({defaultMessage:"month ago",id:"bZWV9MmB/N"}),monthsAgo:e({defaultMessage:"months ago",id:"Lui0j+6Np9"}),dayAgo:e({defaultMessage:"day ago",id:"G4Y/+2FJhb"}),daysAgo:e({defaultMessage:"days ago",id:"vEpDmSBrwP"}),hourAgo:e({defaultMessage:"hour ago",id:"7v28g+bbYy"}),hoursAgo:e({defaultMessage:"hours ago",id:"2GaNTzDbM2"}),minutesAgo:e({defaultMessage:"minutes ago",id:"9aNLtXrhB8"}),minuteAgo:e({defaultMessage:"minute ago",id:"G8L9c8oAYi"}),justNow:e({defaultMessage:"Just now",id:"bxv59Vvssz"}),justNowShort:e({defaultMessage:"Now",id:"tgvES0v2HS"})}),[e])},ck={hasNextInvitePage:!1,hasNextUserPage:!1,userList:[],inviteList:[],totalUsers:0,totalInvites:0},DHt=e=>{const{orgUser:t,organization:n}=Gt({reason:e.reason}),r=ot(),s=t?.role==="ADMIN",a=ese(e.query),i=bl(),{mutate:o}=lt({mutationFn:async _=>{const S=await(await Nn({urlPath:`/rest/enterprise/organization/user/${_}`,method:"DELETE",headers:{"content-type":"application/json"},reason:e.reason})).json();if(S.status==="failed")throw S;return S},onMutate:async _=>{r.cancelQueries({queryKey:a});const C=r.getQueryData(a),S=k=>{const E={...k};return E.userList=E.userList.filter(M=>M.org_user_uuid!==_),E};return r.setQueryData(a,S),{previousData:C}},onError:(_,C,S)=>{Q.error(_),r.setQueryData(a,S.previousData)},onSettled:()=>{r.invalidateQueries({queryKey:a}),r.invalidateQueries({queryKey:i})}}),{mutate:c}=lt({mutationFn:async _=>{const S=await(await Nn({urlPath:`/rest/enterprise/organization/invite/${_}`,timeoutMs:$e(),method:"DELETE",headers:{"content-type":"application/json"},reason:e.reason})).json();if(S.status==="failed")throw S;return S},onMutate:async _=>{r.cancelQueries({queryKey:a});const C=r.getQueryData(a),S=k=>{const E={...k};return E.inviteList=E.inviteList.filter(M=>M.org_invite_uuid!==_),E};return r.setQueryData(a,S),{previousData:C}},onError:(_,C,S)=>{Q.error(_),r.setQueryData(a,S?.previousData)},onSettled:()=>{r.invalidateQueries({queryKey:a}),r.invalidateQueries({queryKey:i})}}),{mutate:u,isPending:d}=lt({mutationFn:async _=>{const S=await(await Nn({urlPath:`/rest/enterprise/organization/user/${_}/make-admin`,timeoutMs:$e(),method:"POST",headers:{"content-type":"application/json"},reason:e.reason})).json();if(S.status==="failed")throw S;return S},onSettled:()=>{r.invalidateQueries({queryKey:a}),r.invalidateQueries({queryKey:i})}}),{mutate:h,isPending:m}=lt({mutationFn:async _=>{const S=await(await Nn({urlPath:`/rest/enterprise/organization/user/${_}/make-member`,timeoutMs:$e(),method:"POST",headers:{"content-type":"application/json"},reason:e.reason})).json();if(S.status==="failed")throw S;return S},onSettled:()=>{r.invalidateQueries({queryKey:a}),r.invalidateQueries({queryKey:i})}}),p=async(_,C)=>{const k=await(await Nn({urlPath:`/rest/enterprise/trial/update/${_}/${C}`,timeoutMs:$e(),method:"POST",headers:{"content-type":"application/json"},reason:e.reason})).json();if(k.status==="failed")throw k;return k},{mutate:g,isPending:v}=lt({mutationFn:async _=>p(_,"decline"),onSettled:()=>{r.invalidateQueries({queryKey:a}),r.invalidateQueries({queryKey:i})}}),{mutate:y,isPending:x}=lt({mutationFn:async _=>p(_,"renew"),onSettled:()=>{r.invalidateQueries({queryKey:a}),r.invalidateQueries({queryKey:i})}}),{data:b}=at({enabled:s||n?.settings?.eft_enabled||e?.forceGetUserList,queryKey:a,queryFn:()=>wqe({headers:{},query:e?.query,reason:e.reason}),placeholderData:ck}),w=b||ck;return f.useMemo(()=>!w.userList||!w.inviteList?(Q.error(new Error("Invalid OrgUsersData"),w),{...ck,removeUser:o,removeInvite:c,makeUserAdmin:u,makeUserAdminLoading:d,makeUserMember:h,makeUserMemberLoading:m,declineTrialUpgrade:g,declineTrialUpgradeLoading:v,renewTrialUpgrade:y,renewTrialUpgradeLoading:x}):{...w,removeUser:o,removeInvite:c,makeUserAdmin:u,makeUserAdminLoading:d,makeUserMember:h,makeUserMemberLoading:m,declineTrialUpgrade:g,declineTrialUpgradeLoading:v,renewTrialUpgrade:y,renewTrialUpgradeLoading:x},[g,v,u,d,h,m,c,o,y,x,w])};function FHt({reason:e}){const{organization:t}=Gt({reason:e}),n=ot();return lt({mutationFn:async s=>{const{email:a,orgRole:i="MEMBER"}=s,o=await Nn({urlPath:`/rest/enterprise/organization/${t?.uuid}/invite`,timeoutMs:2e4,method:"POST",body:JSON.stringify({emails:[a],role:i}),headers:{"content-type":"application/json"},numRetries:1,reason:e}),c=await o.json();if(!o.ok)throw c;return c},onSuccess:()=>{n.invalidateQueries({queryKey:ese({"user-limit":"20000","user-offset":"0","invite-limit":"20000","invite-offset":"0"})}),n.invalidateQueries({queryKey:bl()}),n.invalidateQueries({queryKey:Mqe()})},onError:s=>{Q.error(s)}})}const UHt=({scrollbarSize:e})=>{const[t,n]=f.useState({height:void 0,width:void 0}),r=f.useRef(null);return f.useEffect(()=>{const s=()=>(r.current==null&&(r.current=document.createElement("div"),r.current.classList.add("scrollbar-thin"),r.current.style.width="99px",r.current.style.height="99px",r.current.style.overflow="scroll",r.current.style.position="absolute",r.current.style.top="-9999px",r.current.setAttribute("aria-hidden","true"),r.current.setAttribute("role","presentation")),r.current),a=()=>{const{offsetHeight:c,clientHeight:u,offsetWidth:d,clientWidth:h}=s(),m=c-u,p=d-h;n(g=>{const{height:v,width:y}=g;return v!==m||y!==p?{height:m,width:p}:g})},i=_i(a,100);window.addEventListener("resize",i),document.body.appendChild(s()),a();const o=s();return()=>{i.cancel(),window.removeEventListener("resize",i),document.body.removeChild(o)}},[e]),t},f9={summary:"",review_quality_score:0,pros_detailed:[],cons_detailed:[],pros:[],cons:[],key_features:[],buy_if:"",review_search_results:[]},cOt=(e,t,n,r)=>{if(e.backend_uuid!==t)return e;const s=e.blocks||[],a=[...s];let i=!1;const o=(m,p=f9)=>m.url===n?{...m,review_summary:{...p,...r}}:m,c=s.findIndex(m=>m.shopping_mode_block);if(c>=0){const m=s[c],p=m.shopping_mode_block;if(p){const g=p.shopping_widgets.map(v=>o(v,v.review_summary));a[c]={...m,shopping_mode_block:{...p,shopping_widgets:g}},i=!0}}const u=s.findIndex(m=>m.inline_entity_block?.shopping_preview_block);if(u>=0){const m=s[u],p=m.inline_entity_block?.shopping_preview_block;if(p?.shopping_widgets){const g=p.shopping_widgets.map(v=>o(v,v.review_summary));a[u]={...m,inline_entity_block:{...m.inline_entity_block,shopping_preview_block:{...p,shopping_widgets:g}}},i=!0}}const d=s.findIndex(m=>m.entity_list_block?.entities.some(p=>p.shopping_block));if(d>=0){const m=s[d],p=m.entity_list_block;if(p){const g={...p,entities:p.entities.map(v=>v.shopping_block&&v.shopping_block.url===n?{...v,shopping_block:o(v.shopping_block,v.shopping_block.review_summary)}:v)};a[d]={...m,entity_list_block:g},i=!0}}const h=s.reduce((m,p,g)=>(p.entity_group_block?.entities.some(v=>v.shopping_block&&v.shopping_block.url===n)&&m.push(g),m),[]);for(const m of h){const p=s[m],g=p.entity_group_block;if(g){const v=g.entities.map(y=>y.shopping_block&&y.shopping_block.url===n?{...y,shopping_block:o(y.shopping_block,y.shopping_block.review_summary)}:y);a[m]={...p,entity_group_block:{...g,entities:v}},i=!0}}return i?{...e,blocks:a}:e},uk=e=>["shoppingReviewSummary",e],BHt=({shouldMutateStore:e=!0,reason:t})=>{const n=kA(),r=ot(),{mutateAsync:s,isPending:a,error:i,data:o}=lt({mutationFn:async c=>{const u=r.getQueryData(uk(c.url));if(u)return u;let d=f9,h="PENDING",m="";try{await J.SSE("/rest/sse/shopping_review_summary",t,{params:c,handlers:{message:g=>{h=g.status??h,m=g.id??m,g.blocks?.[0]?.shopping_block&&(d=g.blocks?.[0]?.shopping_block),r.setQueryData(uk(c.url),v=>v?{...v,status:h,id:m,review_summary:{...v.review_summary||f9,...d}}:{review_summary:d,status:h,id:m}),e&&n(c.entry_uuid,v=>cOt(v,c.entry_uuid,m,d))}}})}catch{}const p={review_summary:d,status:h,id:m};return r.setQueryData(uk(c.url),p),p}});return f.useMemo(()=>({generateShoppingReviewSummary:s,reviewSummary:o?.review_summary,isPending:a,error:i}),[o?.review_summary,i,s,a])},uOt="pk.eyJ1Ijoiam9obm55cHBseCIsImEiOiJjbG9zeWVsaHUwNGU5Mmpudm95bGpmcTJjIn0.ztIaHlLUvTpLq8EVD7LjDQ",dOt="clpmzsapf00zy01po5t7ge9zd",fOt="clps6e1xy015c01qt2u79a96f";function MQ({mode:e="light",width:t,height:n,lat:r,long:s,zoom:a=12,scale:i}){return"https://api.mapbox.com/styles/v1/johnnypplx/"+(e==="light"?dOt:fOt)+`/static/${s},${r},${a}/${t}x${n}${i==2?"@2x":""}?access_token=${uOt}&logo=false`}function $Ht(e){const t=MQ({...e,scale:1}),n=MQ({...e,scale:2});return{src:t,srcSet:`${t} 1x, ${n} 2x`}}async function hOt(){const{error:e,data:t}=await J.GET("/rest/sports/f1/","f1-index",{timeoutMs:0});if(e)throw new Me("API_CLIENTS_ERROR",{details:{league:"f1"}});return t?.data}async function mOt(){const{error:e,data:t}=await J.GET("/rest/sports/nba","nba-index",{timeoutMs:0});if(e)throw new Me("API_CLIENTS_ERROR",{details:{league:"nba"}});return t?.data??null}async function pOt(){const{error:e,data:t}=await J.GET("/rest/sports/wnba/","wnba-index",{timeoutMs:0});if(e)throw new Me("API_CLIENTS_ERROR",{details:{league:"wnba"}});return t?.data}async function gOt(){const{error:e,data:t}=await J.GET("/rest/sports/pga/","pga-index",{timeoutMs:0});if(e)throw new Me("API_CLIENTS_ERROR",{details:{league:"pga"}});return t?.data}async function vOt(){const{error:e,data:t}=await J.GET("/rest/sports/mlb","mlb-index",{timeoutMs:0});if(e)throw new Me("API_CLIENTS_ERROR",{details:{league:"mlb"}});return t?.data}async function yOt(){const{error:e,data:t}=await J.GET("/rest/sports/ipl","ipl-index",{timeoutMs:0});if(e)throw new Me("API_CLIENTS_ERROR",{details:{league:"ipl"}});return t?.data??null}async function xOt({league:e,headers:t,reason:n}){const r=`/rest/sports/${e}/`;try{const s=await Nn({urlPath:r,timeoutMs:0,headers:t,reason:n});if(!s.ok){const i=new Error(`Failed to fetch ${e} index: ${s.statusText}`);throw Q.error(i),i}return(await s.json()).data}catch(s){throw Q.error(s,{url:r}),s}}const bOt=e=>["sports/",e];async function wOt({league:e,headers:t,reason:n}){try{const{error:r,data:s}=await J.GET("/rest/sports/{league}/hype",n,{params:{path:{league:e}},headers:t,timeoutMs:0});if(r)throw new Me("API_CLIENTS_ERROR",{details:{league:e,reason:n}});return s.data}catch(r){return Q.error(r),null}}async function _Ot({league:e,reason:t}){try{const{error:n,data:r}=await J.GET("/rest/sports/{league}/related",t,{params:{path:{league:e}},timeoutMs:0});if(n)throw new Me("API_CLIENTS_ERROR",{details:{league:e}});return r.data}catch(n){return Q.error(n),null}}const HHt=Object.freeze(Object.defineProperty({__proto__:null,getF1Index:hOt,getIPLIndex:yOt,getMLBIndex:vOt,getNBAIndex:mOt,getPGAIndex:gOt,getSportsIndex:xOt,getSportsLeagueHype:wOt,getSportsLeagueRelatedQuestions:_Ot,getWNBAIndex:pOt,sportsIndexKey:bOt},Symbol.toStringTag,{value:"Module"})),WHt=({schedule:e})=>{const{$t:t}=K(),n=new Date().getMonth(),s=new Date(e[0].race_scheduled??"").getMonth(),i=new Date(e[e.length-1].race_scheduled??"").getMonth(),o=f.useRef(null),[c,u]=f.useState(n<s?s:n>i?i:n),d=f.useMemo(()=>e.filter(h=>new Date(h.race_scheduled??"").getMonth()===c),[e,c]);return B3("schedule"),f.useEffect(()=>{o.current&&o.current.scrollIntoView({block:"nearest",inline:"nearest"})},[n]),l.jsx(Fn,{header:l.jsx(EOt,{activeMonth:c,setActiveMonth:u,activeTabRef:o}),children:l.jsx("div",{className:"md:gap-x-md grid grid-cols-[min-content,1fr,1fr,min-content] gap-x-[12px]",children:d.length===0?l.jsx("div",{className:"p-md col-span-4",children:l.jsx(j,{variant:"small",color:"ultraLight",className:"text-center",children:t({defaultMessage:"No races scheduled for this month",id:"2qZhZ7grQF"})})}):l.jsxs(l.Fragment,{children:[l.jsx(SOt,{}),d.map(h=>l.jsxs(f.Fragment,{children:[l.jsx(kOt,{race:h}),l.jsx(COt,{})]},h.race_id))]})})})},COt=()=>l.jsx("div",{className:"col-span-4 grid grid-cols-subgrid last:hidden",children:l.jsx("div",{className:"bg-borderMain/50 col-span-3 col-start-2 h-px"})}),SOt=()=>{const{$t:e}=K();return l.jsxs(H,{variant:"raisedOffset",className:"group relative col-span-4 grid h-6 grid-cols-subgrid items-center rounded-t-xl",children:[l.jsx(j,{variant:"smallCaps",color:"light",className:"text-center",children:e({defaultMessage:"Date",id:"P7PLVjLe4f"})}),l.jsx(j,{variant:"smallCaps",color:"light",children:e({defaultMessage:"Venue",id:"PYmHhrqUp5"})}),l.jsx(j,{variant:"smallCaps",color:"light",children:e({defaultMessage:"Winner",id:"H+vBOj5w4/"})}),l.jsx("div",{})]})},EOt=({activeMonth:e,setActiveMonth:t,activeTabRef:n})=>{const r=Array.from({length:12},(c,u)=>u),{locale:s}=K(),{isMobileStyle:a}=Oe(),{$t:i}=K(),o=f.useMemo(()=>r.map(c=>({text:new Date(2025,c,1).toLocaleDateString(s,{month:"short"}),key:`month-${c}`,show:!0,active:e===c,onClick:()=>{t(c)}})),[r,s,e,t]);return l.jsxs("div",{className:"md:pl-md pl-sm -mr-md flex items-center md:mr-0",children:[l.jsx(j,{variant:a?"smallBold":"baseSemi",className:"pr-sm md:pr-md border-borderMain/50 border-r",children:i({defaultMessage:"Schedule",id:"hGQqkWwmJD"})}),l.jsx(Oc,{showScrollIndicator:!1,orientation:"horizontal",className:"w-full",children:l.jsx(Dc,{actionList:o,size:a?"tiny":"small",styleProps:{scrollInnerClass:"px-sm md:px-md !h-10"},activeTabRef:n})})]})},kOt=({race:e})=>{const{isMobileStyle:t}=Oe(),{inApp:n}=G1(),r=An(),s=F3e({href:e.url?.url_web,inApp:n,queryParams:r});return l.jsxs(it,{href:s,className:"py-sm group relative col-span-4 grid grid-cols-subgrid items-center md:py-0",children:[l.jsx(H,{className:"absolute inset-0 opacity-0 transition-opacity duration-100 group-first:rounded-t-xl group-last:rounded-b-xl group-hover:opacity-50",variant:"raisedOffset"}),l.jsx("div",{className:"md:p-md relative px-[12px] !pr-0",children:l.jsx(TOt,{date:e.race_scheduled??""})}),l.jsxs("div",{className:"relative flex flex-col",children:[l.jsx(j,{variant:"smallBold",children:e.event_description}),l.jsx(j,{variant:t?"tiny":"small",color:"light",className:"line-clamp-2",children:e.event_venue})]}),e.driver_won?l.jsxs("div",{className:"gap-xs pr-sm relative flex flex-col items-start md:flex-row md:items-center md:gap-[12px] md:pr-0",children:[l.jsx("div",{children:l.jsx(MOt,{headshotImageUrl:e.driver_headshot_image_url??void 0,flagUrl:e.driver_image_url??void 0,name:e.driver_won})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(j,{variant:"smallBold",children:e.driver_won}),l.jsx(j,{variant:t?"tiny":"small",color:"light",children:e.driver_won_time})]})]}):l.jsx("div",{children:l.jsx(j,{variant:"small",color:"ultraLight",children:"—"})}),l.jsx(Wr,{className:"md:text-textMain/35 text-subtle mr-sm -right-xs absolute top-1/2 size-4 -translate-y-1/2 md:relative md:right-0 md:top-0 md:size-5 md:translate-y-0"})]})},MOt=({headshotImageUrl:e,flagUrl:t,name:n})=>l.jsxs("div",{className:"relative size-6 shrink-0 rounded md:size-8",children:[l.jsx("img",{src:e,alt:n,className:"rounded-inherit relative size-full shrink-0 object-cover"}),l.jsx("div",{className:"rounded-inherit absolute inset-0 border border-black/10 dark:border-white/10"}),l.jsxs("div",{className:"ml-xs absolute right-[90%] top-[90%] size-4 shrink-0 -translate-y-1/2 translate-x-1/2 rounded-full",children:[l.jsx("img",{src:t,alt:n,className:"rounded-inherit relative size-full shrink-0 object-cover"}),l.jsx("div",{className:"rounded-inherit absolute inset-0 border border-black/10 dark:border-white/10"})]})]}),TOt=({date:e})=>{const{locale:t}=K(),n=new Date(e).toLocaleDateString(t,{day:"numeric"}),r=new Date(e).toLocaleDateString(t,{weekday:"short"}),{isMobileStyle:s}=Oe();return l.jsxs("div",{className:"md:p-xs dark:bg-background-300 py-xs bg-background-200 flex flex-col items-center justify-center rounded-lg",children:[l.jsx(j,{className:"px-sm text-center",variant:s?"baseSemi":"section-title",children:n}),l.jsx(j,{className:"px-sm -mt-1 rounded-full text-center",variant:"tinyRegular",color:"light",children:r})]})},zHt=({odds:e,showSeeds:t=!0,attributionLink:n,title:r,teamLabel:s})=>{const[a,i]=f.useState(!1),{$t:o}=K(),c=f.useMemo(()=>e?.length?a?e:e.slice(0,12):[],[a,e]),{isMobileStyle:u}=Oe();if(!e?.length||!c?.length)return null;const d=Math.max(...e.map(h=>h.winProbability||0))||100;return l.jsxs("div",{children:[l.jsxs("div",{className:"gap-sm px-md mb-sm flex items-baseline justify-between",children:[l.jsx(j,{variant:"baseSemi",className:"leading-tight",color:"light",children:r??o({id:"rQ7ZfQl+Mo",defaultMessage:"Tournament Odds"})}),l.jsx(it,{href:n,className:"bg-background block",children:l.jsx(j,{variant:"micro",color:"ultraLight",className:"text-right duration-150 hover:opacity-40",children:u?o({id:"e0astFX5ja",defaultMessage:"Provided by {brand}"},{brand:"Kalshi"}):o({id:"DTvO0aAJN3",defaultMessage:"Odds provided by {brand}"},{brand:"Kalshi"})})})]}),l.jsxs(H,{variant:"raised",className:"border-subtle relative rounded-xl border",children:[l.jsxs("div",{className:U("grid",{"grid-cols-[min-content_1fr_3fr]":t,"grid-cols-[max-content_auto] md:grid-cols-[1fr_3fr]":!t}),children:[l.jsx(NOt,{showSeeds:t,teamLabel:s}),c.map(h=>l.jsx(ROt,{odd:h,maxOdd:d,showSeeds:t},h.team))]}),e.length>12&&l.jsx(H,{className:"p-xs border-t",children:l.jsx(ze,{text:o(a?{id:"UOYN/MXiOT",defaultMessage:"View Less"}:{id:"wbcwKddwLa",defaultMessage:"View All"}),size:"small",fullWidth:!0,onClick:()=>i(h=>!h)})})]})]})},NOt=({showSeeds:e=!0,teamLabel:t})=>{const{$t:n}=K();return l.jsxs("div",{className:U("px-md py-sm gap-md md:gap-lg relative",{"col-span-3 grid grid-cols-subgrid":e,"col-span-2 grid grid-cols-subgrid":!e}),children:[e&&l.jsx(j,{variant:"smallCaps",color:"light",children:n({id:"T0E3nwbq61",defaultMessage:"Seed"})}),l.jsx(j,{variant:"smallCaps",color:"light",children:t??n({id:"wsUmh9XWBm",defaultMessage:"Team"})}),l.jsx(j,{variant:"smallCaps",color:"light",children:n({id:"IbLlAcWSAp",defaultMessage:"Win Probability"})})]})},ROt=({odd:e,maxOdd:t,showSeeds:n=!0})=>l.jsxs(H,{className:U("px-md py-sm gap-md md:gap-lg grid grid-cols-subgrid border-b last:border-0",{"col-span-3":n,"col-span-2":!n}),children:[n&&l.jsx("div",{className:"gap-sm flex items-center",children:l.jsx(j,{variant:e.seed?"smallBold":"small",className:"whitespace-nowrap",color:e.seed?"light":"ultraLight",children:e.seed?e.seed:"—"})}),l.jsxs("div",{className:"gap-sm flex items-center",children:[e.brand&&l.jsx("img",{src:e.brand.logo,alt:`${e.brand.name} logo`,className:"h-5 w-5 object-contain"}),l.jsx(j,{variant:"smallBold",className:"truncate whitespace-nowrap",children:e.brand?.name||e.team})]}),l.jsxs("div",{className:"gap-sm flex items-center",children:[l.jsx(j,{variant:"smallCaps",color:"light",className:"w-[3ch] text-right",children:e.winProbability<1?"<1%":`${e.winProbability}%`}),l.jsx("div",{className:"flex w-full flex-row",children:l.jsx(AOt,{odd:e,maxOdd:t})})]})]}),AOt=({odd:e,maxOdd:t})=>{const[n,r]=f.useState(!1),s=f.useRef(null);yj({ref:s,onInView:()=>r(!0),once:!0});const a=g9e(e.winProbability,[0,t],[0,1],{ease:Vs});return l.jsxs(l.Fragment,{children:[l.jsx(ke.div,{ref:s,className:"bg-super ease-outExpo h-2 rounded-full duration-1000",style:{flexBasis:0,opacity:Math.max(a,.2),flex:n?e.winProbability===t?"100%":e.winProbability/(t-e.winProbability):0}}),l.jsx("div",{className:"flex-1 rounded-full"})]})};async function VHt(e){const{error:t,data:n}=await J.GET("/rest/sports/nba/events/{event_id}","nba-events-event-id-client-page",{params:{path:{event_id:e}},timeoutMs:15e3});if(t)throw new Me("API_CLIENTS_ERROR",{cause:t,details:{eventId:e}});return n?.data??null}async function GHt(e,t){const{error:n,data:r}=await J.GET("/rest/sports/tennis/{league}/events/{event_id}",`${t}-events-event-id-client-page`,{params:{path:{event_id:e,league:t}},timeoutMs:15e3});if(n)throw new Me("API_CLIENTS_ERROR",{cause:n,details:{eventId:e}});return r?.data}async function qHt(e){const{error:t,data:n}=await J.GET("/rest/sports/mlb/events/{game_id}","mlb-events-event-id-client-page",{params:{path:{game_id:e}},timeoutMs:15e3});if(t)throw new Me("API_CLIENTS_ERROR",{cause:t,details:{eventId:e}});return n?.data??null}async function KHt(e){const{error:t,data:n}=await J.GET("/rest/sports/cricket/events/{event_id}","cricket-events-event-id-client-page",{params:{path:{event_id:e}},timeoutMs:15e3});if(t)throw new Me("API_CLIENTS_ERROR",{cause:t,details:{eventId:e}});return n?.data??null}function jOt(e){return e==="cricket"||e==="european_tour"||e==="f1"||e==="nba"||e==="ncaam"||e==="ncaaw"||e==="pga"||e==="soccer"}const YHt=async({eventId:e,league:t,headers:n,reason:r})=>{if(!jOt(t))throw new Me("API_CLIENTS_ERROR",{message:`Invalid league: ${t}`,details:{league:t,eventId:e}});const{error:s,data:a}=await J.GET(`/rest/sports/${t}/events/{event_id}`,r,{headers:n,timeoutMs:15e3,params:{path:{event_id:e}}});if(s)throw new Me("API_CLIENTS_ERROR",{cause:s,details:{league:t,eventId:e}});try{a?.data.pplx_event&&(a.data.apns=a.data.pplx_event.apns)}catch{}return a?.data};async function QHt({eventId:e,league:t,locale:n,reason:r}){const s={};n&&(s["accept-language"]=n);try{const{error:a,data:i}=await J.GET("/rest/sports/{league}/events/{event_id}/hype",r,{headers:s,timeoutMs:0,params:{path:{league:t,event_id:e}}});if(a)throw new Me("API_CLIENTS_ERROR",{cause:a,details:{league:t,eventId:e}});return i?.data}catch(a){return Q.error(a),null}}async function XHt({eventId:e,headers:t,reason:n}){try{const{error:r,data:s}=await J.GET("/rest/sports/f1/live_racer",n,{headers:t,timeoutMs:0});if(r)throw new Me("API_CLIENTS_ERROR",{cause:r,details:{eventId:e}});return s?.data}catch(r){return Q.error(r),null}}async function ZHt(e){const{error:t,data:n}=await J.GET("/rest/sports/soccer/events/{event_id}","championsleague-events-event-id-client-page",{params:{path:{event_id:e}},timeoutMs:15e3});if(t)throw new Me("API_CLIENTS_ERROR",{cause:t,details:{eventId:e}});return n?.data??null}const JHt=({eventId:e,league:t,children:n,...r})=>e?l.jsx(Rd,{...r,href:`/sports/${t}/events/${e}`,children:n}):l.jsx(l.Fragment,{children:n}),eWt=({teamId:e,league:t,children:n,...r})=>t==="ncaam"||t==="ncaaw"||t==="championsleague"||t==="wnba"||t==="atp"||t==="wta"?l.jsx(j,{children:n}):l.jsx(Rd,{...r,href:`/sports/${t}/teams/${e}`,className:"cursor-pointer duration-150 hover:opacity-60",children:n}),tWt=({playerId:e,league:t,children:n,...r})=>t==="ncaam"||t==="ncaaw"||t==="wnba"||t==="atp"||t==="wta"?l.jsx(j,{children:n}):l.jsx(Rd,{...r,href:`/sports/${t}/players/${e}`,children:n}),POt=1,nWt=2;function IOt(e){return e.eventTypeId===POt}function OOt(e){return e[0].eventType.find(IOt)}function $Ee(e){return OOt(e)?.splits.find(r=>r.splitId===-1)}function rWt(e,t){const n=t?.find(i=>i.teamId===e);if(!n)return null;const r=$Ee(n?.seasons)?.teamStats,s=r?.find(i=>i?.teamOwnFlag===!0),a=r?.find(i=>i?.teamOwnFlag===!1);return!s||!a?null:{pointsPerGame:+s?.scoring?.totalPoints/+s?.gamesPlayed,totalYardsPerGame:+s?.netYards?.perGameAverage,passingYardsPerGame:+s?.passing?.yardsPerGame,rushingYardsPerGame:+s?.rushing?.yardsPerGame,thirdDownConversionRate:+s?.thirdDownEfficiency?.percentage/100,redZoneEfficiency:+s?.redZoneEfficiency?.percentage/100,pointsAllowedPerGame:+a?.scoring?.totalPoints/+a?.gamesPlayed,yardsAllowedPerGame:+a?.netYards?.perGameAverage,passingYardsAllowed:+a?.passing?.netYards/+a?.gamesPlayed,rushingYardsAllowed:+a?.rushing?.yardsPerGame,turnoversPerGame:+a?.turnoversForced/+a?.gamesPlayed,penaltiesPerGame:+s?.penalties?.number/+s?.gamesPlayed,penaltyYardsPerGame:+s?.penalties?.yards/+s?.gamesPlayed,leagueRank:0}}function sWt(e,t){const n=t?.find(i=>i.teamId===e);if(!n)return null;const r=$Ee(n?.seasons)?.teamStats,s=r?.find(i=>i?.teamOwnFlag===!0),a=r?.find(i=>i?.teamOwnFlag===!1);return!s||!a?null:{pointsPerGame:+s?.pointsPerGame,fieldGoalPercentage:+s?.fieldGoals?.percentage,threePointPercentage:+s?.threePointFieldGoals?.percentage,pointsAllowedPerGame:+a?.pointsPerGame,reboundsPerGame:+a?.rebounds?.totalPerGame,turnoversPerGame:+a?.turnoversPerGame,blocksPerGame:+a?.blockedShotsPerGame,assistsPerGame:+a?.assistsPerGame}}const aWt=["turnoversPerGame","penaltiesPerGame","pointsAllowedPerGame","yardsAllowedPerGame","passingYardsAllowed","rushingYardsAllowed","penaltyYardsPerGame"],iWt={maximumFractionDigits:0},oWt={maximumFractionDigits:1};async function lWt({league:e,reason:t}){let n;switch(e){case"championsleague":n=await J.GET("/rest/sports/championsleague/tournament",t,{timeoutMs:0});break;case"ncaam":n=await J.GET("/rest/sports/ncaam/tournament/",t);break;case"ncaaw":n=await J.GET("/rest/sports/ncaaw/tournament/",t);break;default:aj(e)}const{error:r,data:s}=n;if(r)throw new Me("API_CLIENTS_ERROR",{details:{league:e},cause:r});return s}const cWt=e=>["sports/",e,"tournament"];async function uWt({reason:e}){const{error:t,data:n}=await J.GET("/rest/sports/championsleague/tournament",e,{timeoutMs:0});if(t)throw new Me("API_CLIENTS_ERROR",{details:{league:"championsleague"},cause:t});return n}const dWt=({data:e,event:t,brands:n,startLabel:r,endLabel:s,nowLabel:a})=>{const{$t:i}=K();return!e||Object.keys(e).length===0?null:l.jsxs(H,{variant:"raised",className:"p-md relative rounded-xl border",children:[l.jsx("div",{className:"mb-md",children:l.jsx(LOt,{event:t,brands:n,data:e,startLabel:r,endLabel:s,nowLabel:a})}),l.jsx(it,{href:"https://kalshi.com",className:"bg-background -right-xs -bottom-xs absolute block rounded-sm px-[5px]",children:l.jsx(j,{variant:"tinyRegular",color:"light",className:"text-center !text-[11px] opacity-60",children:i({id:"I38/78ZOPr",defaultMessage:"Odds provided by Kalshi"})})})]})},LOt=({data:e,event:t,brands:n,startLabel:r,endLabel:s,nowLabel:a})=>{const{$t:i}=K(),o=[{id:t.team_1.id,name:t.team_1.title||""},{id:t.team_2.id,name:t.team_2.title||""}],c=t.status==="live",u=t.status==="final";return l.jsx(ebt,{data:e,brands:n,teams:o,isLive:c,isFinal:u,startLabel:r||i({id:"urRX64aUJf",defaultMessage:"Game Start"}),endLabel:s||i({id:"Ce4+2/t4OJ",defaultMessage:"Game End"}),nowLabel:a||i({id:"tgvES0v2HS",defaultMessage:"Now"})})};let DOt,FOt,UOt=()=>{console.error("Do not use getReport directly in a Server Component module. It should only be used in a Client Component.")},BOt=()=>{console.error("Do not use setOptions directly in a Server Component module. It should only be used in a Client Component.")},$Ot=()=>{console.error("Do not use getOptions directly in a Server Component module. It should only be used in a Client Component.")},HOt=()=>{console.error("Do not use getIsProduction directly in a Server Component module. It should only be used in a Client Component.")},WOt=()=>{console.error("Do not use start directly in a Server Component module. It should only be used in a Client Component.")},HEe=()=>{console.error("Do not use scan directly in a Server Component module. It should only be used in a Client Component.")},zOt=()=>{console.error("Do not use useScan directly in a Server Component module. It should only be used in a Client Component.")},VOt=()=>{console.error("Do not use onRender directly in a Server Component module. It should only be used in a Client Component.")},GOt=()=>{console.error("Do not use ignoredProps directly in a Server Component module. It should only be used in a Client Component.")},qOt=()=>{console.error("Do not use ignoreScan directly in a Server Component module. It should only be used in a Client Component.")};const KOt=Object.freeze(Object.defineProperty({__proto__:null,ReactScanInternals:FOt,Store:DOt,getIsProduction:HOt,getOptions:$Ot,getReport:UOt,ignoreScan:qOt,ignoredProps:GOt,onRender:VOt,scan:HEe,setOptions:BOt,start:WOt,useScan:zOt},Symbol.toStringTag,{value:"Module"})),YOt=()=>(f.useEffect(()=>{HEe(),(async()=>{await he(()=>Promise.resolve().then(()=>KOt),void 0)})()},[]),l.jsx("div",{className:"fixed",style:{zIndex:9999,right:"24px",bottom:"65px"}})),QOt=Object.freeze(Object.defineProperty({__proto__:null,RenderToolbar:YOt},Symbol.toStringTag,{value:"Module"}));var XOt=function(){return null};const ZOt=Object.freeze(Object.defineProperty({__proto__:null,ReactQueryDevtools:XOt},Symbol.toStringTag,{value:"Module"}));export{Oe as $,X$t as A,ua as B,Gbt as C,Ee as D,B0 as E,ld as F,$_ as G,Re as H,Ce as I,CBt as J,vCe as K,qb as L,jt as M,Qe as N,SBt as O,ke as P,qn as Q,U as R,St as S,j as T,jit as U,b3 as V,Dn as W,_e as X,kFt as Y,H as Z,t0 as _,oHt as a,MDe as a$,Dt as a0,Oa as a1,lt as a2,J as a3,ko as a4,_se as a5,Kye as a6,Yye as a7,Ue as a8,ye as a9,bd as aA,Ne as aB,wIt as aC,f3 as aD,Rt as aE,yBt as aF,wt as aG,tn as aH,oee as aI,Es as aJ,Gi as aK,cEe as aL,CHt as aM,bot as aN,Ia as aO,bn as aP,Mt as aQ,G1 as aR,Zbt as aS,YHt as aT,QHt as aU,hs as aV,Fn as aW,fs as aX,Tr as aY,Sn as aZ,mt as a_,is as aa,ql as ab,oM as ac,yd as ad,at as ae,Q as af,ds as ag,lm as ah,je as ai,fr as aj,fPt as ak,dPt as al,Mn as am,Wat as an,T3 as ao,Cl as ap,it as aq,EBt as ar,FAt as as,ze as at,ut as au,At as av,Gt as aw,Rr as ax,DLt as ay,LLt as az,rHt as b,Pee as b$,J1 as b0,Nne as b1,xh as b2,Pye as b3,b2 as b4,kNe as b5,Vo as b6,Dc as b7,HN as b8,kR as b9,tr as bA,uc as bB,eh as bC,IOt as bD,vOt as bE,TFt as bF,wft as bG,aae as bH,_3 as bI,$Qe as bJ,ja as bK,plt as bL,yj as bM,Eu as bN,aM as bO,Ln as bP,Me as bQ,IFe as bR,xee as bS,BN as bT,El as bU,Gn as bV,Mj as bW,Lu as bX,Wr as bY,zUt as bZ,t9 as b_,vBt as ba,KJ as bb,Y3e as bc,La as bd,aBe as be,xn as bf,Cxe as bg,jBt as bh,WHt as bi,zHt as bj,hOt as bk,bOt as bl,wOt as bm,SHt as bn,Rot as bo,Sw as bp,Ylt as bq,Dlt as br,glt as bs,kj as bt,nO as bu,Ky as bv,Ad as bw,Bo as bx,Ye as by,UK as bz,gHt as c,IRt as c$,_nt as c0,Sj as c1,gee as c2,ot as c3,uf as c4,dFt as c5,Nn as c6,$e as c7,fFt as c8,cFt as c9,ZHt as cA,rFe as cB,Vs as cC,gt as cD,_Ut as cE,eHt as cF,NA as cG,tHt as cH,b1 as cI,vLt as cJ,d3 as cK,a5e as cL,s5e as cM,_i as cN,cae as cO,Eie as cP,Ks as cQ,d6e as cR,VNt as cS,An as cT,F3e as cU,l9 as cV,RHt as cW,vFt as cX,B$t as cY,H3 as cZ,JHt as c_,uFt as ca,jj as cb,M2e as cc,T2e as cd,QA as ce,CJe as cf,wye as cg,pj as ch,gj as ci,pm as cj,vj as ck,Uye as cl,u0 as cm,tUt as cn,nUt as co,iUt as cp,sUt as cq,oUt as cr,eUt as cs,zr as ct,hUt as cu,Rrt as cv,Rbt as cw,mbt as cx,dWt as cy,YUt as cz,fHt as d,Y$t as d$,xo as d0,F$t as d1,xbt as d2,QUt as d3,Cu as d4,VR as d5,Pf as d6,BHt as d7,IHt as d8,OHt as d9,uUt as dA,_De as dB,ftt as dC,w3 as dD,PRt as dE,$3 as dF,Oc as dG,Rd as dH,ott as dI,To as dJ,fj as dK,fot as dL,pot as dM,bc as dN,hot as dO,il as dP,hye as dQ,TC as dR,t2e as dS,wd as dT,Wie as dU,j3 as dV,r0 as dW,hc as dX,Nye as dY,hj as dZ,mj as d_,NOe as da,mm as db,uk as dc,N2e as dd,Q9 as de,D9e as df,nLt as dg,wie as dh,m1 as di,pLt as dj,hwt as dk,Gu as dl,Fye as dm,rit as dn,xDt as dp,EF as dq,zie as dr,$u as ds,kF as dt,SF as du,yLt as dv,VF as dw,Lqe as dx,dUt as dy,Bae as dz,iHt as e,Wm as e$,Nt as e0,pR as e1,$w as e2,wLt as e3,bLt as e4,m5e as e5,U6e as e6,z$t as e7,q$t as e8,AHt as e9,Mit as eA,_Lt as eB,dee as eC,tDt as eD,pM as eE,rr as eF,qUt as eG,md as eH,mc as eI,PBt as eJ,mOt as eK,uct as eL,cct as eM,THt as eN,MHt as eO,cut as eP,ADe as eQ,Xye as eR,Bye as eS,uWt as eT,OUt as eU,oWt as eV,iWt as eW,G$t as eX,FRt as eY,uye as eZ,yl as e_,da as ea,AIt as eb,WN as ec,Yn as ed,TIt as ee,kDe as ef,DFe as eg,B3 as eh,EOt as ei,TOt as ej,MOt as ek,gOt as el,S9t as em,Y7t as en,K7t as eo,gO as ep,KTt as eq,z0 as er,DBt as es,v9t as et,UBt as eu,FBt as ev,BBt as ew,HSe as ex,mO as ey,VHt as ez,lHt as f,POt as f$,Klt as f0,mo as f1,j2e as f2,MPt as f3,S8 as f4,pn as f5,Gse as f6,Lr as f7,SDt as f8,am as f9,Ms as fA,hi as fB,br as fC,eSe as fD,v4e as fE,hSe as fF,Bc as fG,ma as fH,Qn as fI,lEt as fJ,Rj as fK,qo as fL,Ma as fM,R8t as fN,R6t as fO,E6t as fP,k6t as fQ,J6t as fR,ySe as fS,nSe as fT,C5e as fU,S6t as fV,tSe as fW,PUt as fX,DUt as fY,sWt as fZ,tWt as f_,PQe as fa,p$ as fb,$$t as fc,H$t as fd,W$t as fe,ORt as ff,nie as fg,IUt as fh,Gs as fi,WUt as fj,R2 as fk,Avt as fl,UHt as fm,Da as fn,xot as fo,d5e as fp,vee as fq,u6t as fr,gFt as fs,yFe as ft,$x as fu,jUt as fv,_l as fw,Gr as fx,BXe as fy,rt as fz,mHt as g,Cet as g$,nWt as g0,U$t as g1,V$t as g2,oSt as g3,dDt as g4,TA as g5,Ho as g6,MBt as g7,NBt as g8,iSt as g9,aI as gA,lSe as gB,O5t as gC,m4e as gD,X6t as gE,V6t as gF,cSe as gG,Yv as gH,Ax as gI,Aee as gJ,PDe as gK,Ew as gL,fSe as gM,uSe as gN,Qa as gO,gBt as gP,s6t as gQ,a6t as gR,ai as gS,Hqe as gT,KTe as gU,V9 as gV,Mse as gW,Qre as gX,FHt as gY,kA as gZ,WFt as g_,Vr as ga,hDt as gb,gDt as gc,lPt as gd,hh as ge,XM as gf,Kn as gg,Mw as gh,Ff as gi,It as gj,BA as gk,jc as gl,ss as gm,dd as gn,KDt as go,Y6t as gp,FN as gq,O6t as gr,L6t as gs,hm as gt,Wg as gu,gh as gv,Sl as gw,Cd as gx,f8t as gy,O_ as gz,uHt as h,pOt as h$,r1 as h0,Yh as h1,NFt as h2,vDe as h3,E3 as h4,Ree as h5,rat as h6,Lf as h7,ebt as h8,rxt as h9,Pl as hA,ZLe as hB,Nc as hC,Fo as hD,Fit as hE,mlt as hF,mXe as hG,LHt as hH,uee as hI,$Ut as hJ,HUt as hK,UUt as hL,Xft as hM,BUt as hN,FUt as hO,AFe as hP,pg as hQ,YDe as hR,eWt as hS,A4e as hT,o3 as hU,XLt as hV,ZLt as hW,L6e as hX,ESe as hY,im as hZ,QLt as h_,Eve as ha,Qrt as hb,ase as hc,Lc as hd,y8 as he,ao as hf,oo as hg,Qat as hh,mve as hi,$N as hj,HDe as hk,J$e as hl,_c as hm,Die as hn,vnt as ho,ynt as hp,s0 as hq,rWt as hr,aWt as hs,jHt as ht,kot as hu,Not as hv,Tot as hw,D4 as hx,cye as hy,XDe as hz,bHt as i,m$t as i$,Pat as i0,mIt as i1,dM as i2,bw as i3,bl as i4,Vp as i5,KF as i6,Lt as i7,TBt as i8,kHt as i9,tre as iA,oLt as iB,Wp as iC,dLt as iD,lLt as iE,gd as iF,$3e as iG,fG as iH,nae as iI,vSe as iJ,CDe as iK,klt as iL,eDt as iM,h2e as iN,Elt as iO,Zse as iP,p$e as iQ,vl as iR,Y2t as iS,Q2t as iT,G0 as iU,gNt as iV,YBt as iW,XBt as iX,QBt as iY,d$t as iZ,u$t as i_,EN as ia,e0 as ib,sFe as ic,_w as id,n1 as ie,Qg as ig,Ed as ih,ue as ii,vr as ij,Qw as ik,ZFt as il,JFt as im,VQ as io,zw as ip,Pc as iq,KLt as ir,cDe as is,kee as it,aLt as iu,MDt as iv,NDt as iw,os as ix,cx as iy,YDt as iz,cHt as j,Xke as j$,h$t as j0,t$t as j1,e$t as j2,ABt as j3,mM as j4,BY as j5,C3e as j6,UY as j7,LUt as j8,GHt as j9,Nr as jA,lSt as jB,ge as jC,mA as jD,OA as jE,Tse as jF,oFt as jG,en as jH,hBt as jI,OXe as jJ,kBt as jK,x1 as jL,e4e as jM,tBt as jN,nse as jO,nBt as jP,b4e as jQ,rBt as jR,KHt as jS,lKe as jT,zFt as jU,om as jV,li as jW,Hr as jX,T8t as jY,xie as jZ,ZTe as j_,i3 as ja,IFt as jb,yOt as jc,wUt as jd,vUt as je,bUt as jf,gUt as jg,xUt as jh,pUt as ji,yUt as jj,mUt as jk,Vie as jl,rUt as jm,Xrt as jn,wFe as jo,n4e as jp,t4e as jq,on as jr,Jae as js,lWt as jt,cWt as ju,E2 as jv,Aot as jw,Bve as jx,$ve as jy,Nit as jz,sHt as k,kNt as k$,kTe as k0,dZ as k1,xTe as k2,q8e as k3,r9e as k4,P7t as k5,ZJ as k6,Iee as k7,Eee as k8,Nee as k9,mse as kA,J_ as kB,RFe as kC,gae as kD,wet as kE,nDt as kF,lj as kG,_Fe as kH,rDt as kI,NHt as kJ,TDe as kK,DA as kL,f4e as kM,hFe as kN,VN as kO,v2e as kP,LDe as kQ,BFe as kR,UFe as kS,lee as kT,bDt as kU,QDt as kV,MQe as kW,gA as kX,pYe as kY,Vu as kZ,TE as k_,hM as ka,zN as kb,hee as kc,l7t as kd,Hft as ke,qHt as kf,tj as kg,Zk as kh,AO as ki,kJe as kj,EOe as kk,lDe as kl,Oqe as km,Ac as kn,Eye as ko,fLt as kp,uLt as kq,$Ht as kr,sA as ks,rEe as kt,wAt as ku,hLt as kv,s3 as kw,sEe as kx,bee as ky,fae as kz,nHt as l,OFe as l$,Qxt as l0,Yxt as l1,i3e as l2,VUt as l3,n3e as l4,r3e as l5,s3e as l6,a3e as l7,w3e as l8,U1 as l9,MLt as lA,YLt as lB,EHt as lC,fUt as lD,Vw as lE,hse as lF,cUt as lG,me as lH,Ext as lI,PP as lJ,Ixe as lK,S_ as lL,OP as lM,vxt as lN,l3e as lO,KUt as lP,XHt as lQ,kLt as lR,ELt as lS,PDt as lT,IDt as lU,yFt as lV,Tee as lW,uu as lX,xFt as lY,wFt as lZ,_Ft as l_,nxt as la,WBt as lb,HBt as lc,g$t as ld,Mnt as le,sM as lf,v$t as lg,Wtt as lh,ztt as li,Vtt as lj,g8 as lk,dA as ll,b8t as lm,zg as ln,fFe as lo,kw as lp,B4t as lq,PHt as lr,ZCe as ls,a8t as lt,DJ as lu,Qh as lv,IDe as lw,SLt as lx,CLt as ly,TLt as lz,vHt as m,uPt as m$,jDt as m0,_d as m1,ODt as m2,fn as m3,_a as m4,uLe as m5,zLe as m6,det as m7,J$t as m8,gLt as m9,cLt as mA,yee as mB,Ww as mC,BLt as mD,_Ht as mE,YF as mF,pBt as mG,M6e as mH,ULt as mI,K$t as mJ,_1 as mK,ww as mL,wDt as mM,_ee as mN,CDt as mO,kQe as mP,fYe as mQ,iFt as mR,ha as mS,fm as mT,Ot as mU,wr as mV,yDt as mW,Kl as mX,bKe as mY,l3 as mZ,dYe as m_,sLt as ma,MXe as mb,eFt as mc,et as md,dut as me,kn as mf,x_e as mg,Bs as mh,wHt as mi,Uc as mj,Nut as mk,VLe as ml,lFe as mm,kFe as mn,x8 as mo,Fee as mp,wrt as mq,Ort as mr,aUt as ms,PA as mt,lUt as mu,Xnt as mv,zLt as mw,TH as mx,Ym as my,RFt as mz,yHt as n,p$t as n$,Kse as n0,TQe as n1,Uie as n2,C4e as n3,Qye as n4,lM as n5,VFt as n6,qFt as n7,GFt as n8,XFt as n9,$s as nA,GBt as nB,qBt as nC,XOe as nD,qbt as nE,T$t as nF,M$t as nG,R$t as nH,N$t as nI,j$t as nJ,A$t as nK,yNt as nL,vNt as nM,y$t as nN,x$t as nO,k$t as nP,b$t as nQ,f6e as nR,h5e as nS,w$t as nT,_$t as nU,XA as nV,E$t as nW,rSe as nX,O$t as nY,I$t as nZ,E4t as n_,YFt as na,lFt as nb,c1 as nc,QFt as nd,D5 as ne,Int as nf,mye as ng,tit as nh,lo as ni,_2e as nj,hr as nk,Jye as nl,_Bt as nm,Of as nn,HJ as no,Ou as np,kd as nq,OOe as nr,bBt as ns,rEt as nt,vR as nu,wBt as nv,Bdt as nw,I4 as nx,JA as ny,NN as nz,hHt as o,EDt as o$,L$t as o0,RBt as o1,D$t as o2,C3 as o3,aht as o4,CUt as o5,SUt as o6,EUt as o7,kUt as o8,uM as o9,Lae as oA,s$t as oB,a$t as oC,o$t as oD,i$t as oE,c$t as oF,l$t as oG,zBt as oH,mee as oI,cM as oJ,wee as oK,JBt as oL,KBt as oM,VBt as oN,ZBt as oO,f$t as oP,xBt as oQ,Sd as oR,Rxe as oS,F3 as oT,AUt as oU,F4e as oV,Cs as oW,mLt as oX,Bt as oY,_p as oZ,TDt as o_,ac as oa,Yve as ob,Dit as oc,Fve as od,CNt as oe,SNt as of,gm as og,ej as oh,snt as oi,Q6e as oj,j6e as ok,P$t as ol,Qve as om,Lit as on,Oit as oo,$it as op,LBt as oq,Uit as or,Jre as os,S$t as ot,C$t as ou,n$t as ov,Eet as ow,e9 as ox,r$t as oy,EFe as oz,aHt as p,QQe as p$,kDt as p0,Yo as p1,pFt as p2,DHt as p3,E8t as p4,Gp as p5,XDt as p6,ZDt as p7,hFt as p8,_Dt as p9,H4t as pA,h4e as pB,Lee as pC,Oee as pD,hT as pE,iwt as pF,Zit as pG,hre as pH,sDt as pI,Q3e as pJ,Awt as pK,Rwt as pL,LDt as pM,DDt as pN,Zp as pO,YQe as pP,FDt as pQ,UDt as pR,BFt as pS,$Ft as pT,BDt as pU,$Dt as pV,WDt as pW,HDt as pX,zDt as pY,Dnt as pZ,GDt as p_,BQe as pa,WQe as pb,vd as pc,kSe as pd,iI as pe,lae as pf,Rx as pg,OBt as ph,lRt as pi,jJ as pj,oc as pk,iDt as pl,wc as pm,WLt as pn,MKe as po,kOe as pp,SFt as pq,EFt as pr,O3 as ps,ks as pt,Wo as pu,iLe as pv,$3t as pw,H3t as px,z3t as py,W3t as pz,pHt as q,Zd as q$,qDt as q0,vDt as q1,E7e as q2,KKe as q3,JCe as q4,ZDe as q5,Mee as q6,iLt as q7,jx as q8,vwt as q9,Plt as qA,g2e as qB,y2e as qC,p2e as qD,nFt as qE,OFt as qF,Rlt as qG,F8t as qH,mx as qI,dj as qJ,gXe as qK,LFt as qL,DFt as qM,hNt as qN,mNt as qO,B9e as qP,sot as qQ,cDt as qR,Tx as qS,oA as qT,rFt as qU,jXe as qV,RXe as qW,qLt as qX,mFt as qY,VLt as qZ,Ku as q_,sFt as qa,FFt as qb,aFt as qc,jLt as qd,PLt as qe,MFt as qf,xd as qg,Y$e as qh,GB as qi,VDt as qj,get as qk,UFt as ql,qF as qm,R3 as qn,eBe as qo,lU as qp,NLt as qq,KUe as qr,QUe as qs,YUe as qt,ZUe as qu,JUe as qv,ste as qw,NUt as qx,nct as qy,ict as qz,hIt as r,XJ as r$,dG as r0,RKe as r1,rwt as r2,Nwt as r3,tFt as r4,u3 as r5,pl as r6,XUt as r7,ILt as r8,OLt as r9,AN as rA,bFt as rB,VQe as rC,Wae as rD,xFe as rE,F4 as rF,QDe as rG,kEe as rH,YPt as rI,RQe as rJ,Tft as rK,Bse as rL,RUt as rM,TUt as rN,jse as rO,uYe as rP,zp as rQ,IN as rR,Bg as rS,ON as rT,$g as rU,LN as rV,Hg as rW,fM as rX,WLe as rY,mFe as rZ,ALe as r_,eBt as ra,xtt as rb,FLt as rc,w1 as rd,$Bt as re,wl as rf,u8t as rg,Ts as rh,aDt as ri,J8t as rj,yR as rk,Hm as rl,Zst as rm,qg as rn,UHe as ro,BHe as rp,kLe as rq,bve as rr,JDt as rs,CFt as rt,GA as ru,jFt as rv,qA as rw,ZA as rx,n0 as ry,QJ as rz,xHt as s,YJ as s0,eee as s1,tee as s2,DN as s3,GJ as s4,qJ as s5,ux as s6,JJ as s7,PFt as s8,xLt as s9,$Ee as sA,GLt as sB,KFt as sC,g9e as sD,MX as sE,Cwt as sF,LP as sG,qft as sH,H6e as sI,EDe as sJ,HHt as sK,mBt as sa,Gw as sb,Hw as sc,cu as sd,KYe as se,ox as sf,b5e as sg,mDt as sh,uDt as si,fDt as sj,IBt as sk,cke as sl,hw as sm,lDt as sn,Q$t as so,hPt as sp,KY as sq,ADt as sr,RDt as ss,pDt as st,ALt as su,GUt as sv,rLt as sw,sX as sx,Kze as sy,vot as sz,dHt as t,se as u,$n as v,cn as w,dr as x,Ti as y,Z$t as z};
//# sourceMappingURL=index-ps6Grkjt.js.map
